commit 00fca5fb4b64355d4ab183c2a7eab8d8294df3db
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 25 18:16:29 2023 +0200

    Make update-po before branching S3_2

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1d5d9e15e9d61e1636beb7c0663041655e2d68fc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 25 16:10:28 2023 +0200

    CI: Reinstall qt6 for mac builds before the builds

    Currently the initial install of ends as .reinstall directory
    Remove that, and install again, before actual build

    See osdn #47487

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 20bd3a62c2dd56001e4f7682facd2dec2651843c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 19 19:47:54 2023 +0200

    Pass log level by name to the spawned server

    Using numeric levels is deprecated.

    See osdn #45583

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5baa42ff79a90230b9f047b41fa9cd01c44f8806
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 25 08:01:22 2023 +0200

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e68db80a1395a31c861051b31f4c2b7c0707ad52
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 19 02:37:56 2023 +0200

    Meson: Never set -Wno-c99-extensions if compiler does not support it

    See osdn #47400

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 25e2a80ae914d8afb63076d70a17e12f5a390244
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 18 06:34:35 2023 +0200

    gtk4: Add "Do..." menu entry

    See osdn #47395

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ff73430a1af534b9fa92ed9e1ce8f6353c1e36a6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 17 22:00:01 2023 +0200

    Lua: Add Player:change_infrapoints()

    See osdn #47382

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a9cc4c697dc8fd986e7927c9b89da0d220720131
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 19 00:02:35 2023 +0200

    helpdata.txt: Drop word "Five" from "Top Five Cities"

    See osdn #47368

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2092f1860d4cde7910e8efb2951d97058803a176
Author: SÅ‚awomir Lach <slawek@lach.art.pl>
Date:   Sat Feb 11 17:17:29 2023 +0100

    Add dot to the end of counter requirement description

    By now string in helptext for counters will contains dot at the end. I
    beliewe it will now be correct.

    See osdn #46355

commit 093a27f96ae2bae29a83acc0a18fba4d84d62016
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 18 00:27:58 2023 +0200

    Ruledit: Skip ruleset selection if one given from commandline

    See osdn #46007

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 158b98cc6b7b4ad95f402adb08e971431c5f1dae
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 17 22:48:40 2023 +0200

    gtk: Hide Production tab from diplomat investigate city dialog

    It was empty, but still present.

    See osdn #45318

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e873bb2a5efcc7e7bff6fdd173ae76202a99ab29
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 23 06:56:59 2023 +0200

    Update Polish translation by Hubert Kowalewski.

    This is S3_1 translation:
    Pulled from https://sourceforge.net/projects/freeciv-l10n-pl/files/
    (zip timestamp 2022-06-03).

    Msgmerged against master strings

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f0de307e221c22fbe368c685c9db1b33e0e7e17d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 17 18:13:51 2023 +0200

    Respect automake silent mode on common/ build

    Have silent mode build configuration for
    - generate_packets.py
    - generate_gitrev.sh

    See osdn #46458

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b59d19a8b37dcf12acba4e36a24790f142fb1644
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 17 19:16:48 2023 +0200

    AI: Rename aiunit.[ch] as daiunit.[ch]

    Drop daiunit.h includes where they are not needed

    See osdn #47388

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b5a716aa331a6cbf09cd6fa0be4d807331359dbc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 22 06:58:35 2023 +0200

    Comment typofix: "destory" -> "destroy"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1aafd9e0c2d1d250e560e1d9025bf7163f6db242
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 17 20:44:48 2023 +0200

    Client: Fix float/integer handling trouble with the timeout

    - Add 0.1 second marginal to the float passed to ceil(), not
      to the integer that it returns
    - Treat get_seconds_to_new_turn() return value as an int
      which it is

    Reported anonymously

    See osdn #44902

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 102edc00c025b5ff8246f006c9b422816b9a4699
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 18 00:41:51 2023 +0200

    gtk4: Correct "S_all" to "S_ell"

    See osdn #47381

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 963d94935ff5eaf148f161a059238ea19ded326f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 17 21:31:07 2023 +0200

    gtk4: Improve helpdlg.c coding style

    See osdn #47389

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ef3b5541cd532d3829413f36cc0e38aaa95c0028
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 16 22:09:03 2023 +0200

    Prefer _gen.h files from the build directory

    Include _gen.h files from the build directory, when available.
    Thus meson based build gets the files it has generated to the
    build directory, instead of possibly outdated ones from the
    source directory.

    See osdn #46495

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit be4b8c069bf5a9d686b0187938e21fddedb6dcb2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 19 03:26:55 2023 +0200

    AI: Correct which units are considered as defender role ones

    Check was reversed, so only civilians counted as worthy defenders.

    See osdn #47434

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 30993d16f0cc2d3becfcbb534d57c04dae4a6c32
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 16 23:49:01 2023 +0200

    Refactor city_list_iterate_safe()

    Fix clang analyzer warnings

    See osdn #47289

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 93d730e230637204910a51643f457d5f66eefd35
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 17 17:51:23 2023 +0200

    mapview_common.[ch]: Improve Coding Style

    See osdn #47384

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 909fda7052422662b9d5ad9ddbd32c81b15a6277
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 16 21:16:42 2023 +0200

    gtk4: Add gui dialog key press gesture handling

    See osdn #47379

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f4faed42ba60e832987b34e6570edec16b4e90d2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 16 19:44:58 2023 +0200

    Msys Makefile.meson: Add initial clang32 support

    See osdn #46578

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b0e24b4d862ccb6b05326269c5e5131727b69f95
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 16 01:01:19 2023 +0200

    Add 'name' parameter missing from some timer_new() calls

    See osdn #47356

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7b91277bff19d00fc47b15fe4e6cd542908db389
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 13 05:26:35 2023 +0200

    Lua: Call tile_change_side_effects() after tile changes

    See osdn #46425

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f6c75fc747cc85c28143cc00ebc8cd77090fec8f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 16 02:48:18 2023 +0200

    Qualify "Free %s"

    See osdn #46398

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ccc2661fa7f973ada8ef569b913d0a959f94f8e2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 16 00:46:03 2023 +0200

    gtk4: Add mapimg saving menu entries

    See osdn #47369

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cc8a6be11e92c7642c16c8d6b908ce69080a3aa1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 14 17:27:22 2023 +0200

    Msys2: Move generated .nsi files to output directory hierarchy

    See osdn #47354

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 092e29201f345d5fe6c23ba1a4438fd5b541a9d0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 15 17:56:17 2023 +0200

    Add svgflags related information to .tilespec format

    See osdn #47357

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9c44b2d9eb6a5beca3fe43b4e3196c304f7adabe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 15 17:46:04 2023 +0200

    city_rally_point_receive(): Fix reversed city legality check

    See osdn #47361

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fd1e729406248c9bf6d8a9315f70188ca7609e91
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Sun Feb 19 03:35:42 2023 +0100

    Updated french translations

commit 0eafac80c41978fcac8393d826549ffdc2bf18ba
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 16 00:08:04 2023 +0200

    Fix "City Production Levels" misnomer

    It has nothing to do with Level, but it controls if
    name of the current production is shown.

    See osdn #46670

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 00705e9d4b9b312ffe8d0ded3e7058a50c87687f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 13 02:29:47 2023 +0200

    sdl2: Fix 'area' dead assignment from popup_connection_dialog()

    See osdn #47346

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9279732cbb2268c95c7d55b10dbd7cc28b2d4115
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 12 23:36:07 2023 +0200

    flatpak: Add gtk4 modpack installer flatpak

    See osdn #47286

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9cfb296504ffda8f48a92795b70fdcefd68adb97
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 13 02:18:43 2023 +0200

    Add unit class native_bases cache

    See osdn #46417

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8af6c11acfda214412a173f525d23cbda16ce6d8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 13 18:55:23 2023 +0200

    unit_teleport_to_tile_test(): Drop unused 'igzoc' parameter

    See osdn #47352

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 27a40e39be25fd01b6eb3361b56534cbcd3e3182
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 14 18:06:44 2023 +0200

    rs_common_units(): Return FALSE on all errors

    See osdn #44613

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3278ef41ecc03bcedef010f3d7df690736dc439e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 18 03:32:26 2023 +0200

    CI: Install pkg-config for mac-meson job

    See osdn #47391

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ea6b78b1b39bd0476655db15d4adc654986ed767
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 18 00:53:41 2023 +0200

    Comment typofix: "scroolbar" -> "scrollbar"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 65d8b785d2381b9328c32ab70633857af8475628
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 14 19:41:16 2023 +0200

    gtk4: Add Governor submenu to city report

    See osdn #47359

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 13cce98d7c16f30d028cb35617d8079e200a1280
Author: SÅ‚awomir Lach <slawek@lach.art.pl>
Date:   Tue Sep 27 15:09:47 2022 +0200

    Add "Disorder" city counter type

    See osdn #45489

commit 21c72bfac4ef09287878b2fa9017e20b0cc0b330
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 13 17:27:56 2023 +0200

    Meson: Fix build without lzma

    Reported by lachu

    See osdn #47338

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f7fd351c8cf32a178008c580833ed0a6937d55f2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 17 17:03:27 2023 +0200

    Comment typofix: "Unreachbale" -> "Unreachable"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4bcb3505e1b45a4a619a1fb6cde2a0801d07c7e5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 14 04:49:35 2023 +0200

    Rulesets: Move auto_attack.if_attacker before attack_actions

    See osdn #47353

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bb15e04b0864e1abe275e372587e8e4716c9bfcc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 14 06:37:08 2023 +0200

    valid_advance(): Consider Future techs valid ones

    See osdn #46544

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b31284f9875d5f81ee7abd7c00211b1730da4087
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 13 04:35:51 2023 +0200

    Correct comment in start_new_game_callback()

    Every gui had comment talking about load_settable_options()
    where resend_desired_settable_options() should be mentioned.

    Minor refactoring of the code while touching the function(s)

    See osdn #46343

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1e3a0eadbc70444b9da250c870fdb5800c640cd0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 13 03:45:10 2023 +0200

    gtk4: Add last missing Help menu entries

    See osdn #47347

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4cb2563712f233ffab44a30c5e6f526d21668706
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 13 00:32:10 2023 +0200

    installer_cross: Rename meson-install/ as meson/install/

    See osdn #47344

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c883b6624083b162040ca5931129866e78986da2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 16 19:15:21 2023 +0200

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a0cd13500e75081327e03d5918be193931870e27
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 13 03:06:51 2023 +0200

    Rename freeciv mutex functions to use fc_mutex_ -namespace

    See osdn #45995

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a9944532d0d6e4ac8de040757c8e61e57127b626
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 21 19:21:37 2023 +0200

    AI / process_..._want(): Set type of wants adv_want

    See osdn #46530

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5b5fae565fc7ff4b8cde763390da196d5a8c5244
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 13 00:36:58 2023 +0200

    Make error message about missing tilespec sections more accurate

    See osdn #47340

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 11d199dd02f785f5e6009b70bae9c7778c9e2197
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 11 21:38:37 2023 +0200

    gtk4: Add rest of View menu toggles

    See osdn #47337

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4dc22812c25edfba03049636fc5b3f012f4ea91f
Author: SÅ‚awomir Lach <slawek@lach.art.pl>
Date:   Mon Jan 16 20:52:52 2023 +0100

    Rework counters network protocol

    It solves bug causes sending data, when it is not needed. We ask
    lower-layer to sending each counter's value of entity. Lower layer may
    optimise it by sending only changed data.

    See osdn #46496

commit d58ebf86b01ad127ed955134ddd4fd58bf15db7f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 15 19:03:06 2023 +0200

    CI: Do not install unixodbc-dev on Ubuntu runners

    See osdn #47363

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e11954510fc43b4084a84c5f43a42fd690409e77
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 12 16:22:42 2023 +0200

    Update gnulib-common to serial 82 from gnulib upstream

    See osdn #47336

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 38acdf37df8bd7e4744cacae327000d0bc30e5cf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 13 00:56:14 2023 +0200

    lua-5.4: Apply upstream bug fix patches

    See osdn #46492

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8c6c481873a97c3eb6268d7d41976ed0bccaa55d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 11 14:44:26 2023 +0200

    Change occurrences of "dependant" as adjective to "dependent"

    Some nouns are left as "dependant"

    See osdn #46501

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8509c92096aacf00d263c4858a813fbf55edcd1e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 11 12:15:12 2023 +0200

    Use fopen_s() instead of fopen() when possible

    See osdn #46420

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2d74ebfd2146823218eea0f1c89c85f5e05b9f12
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 14 22:25:36 2023 +0200

    Update Spanish translation by Jordi Negrevernis i Font.

    msgmerged from S3_0

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d8af82438aa55004eb91e862719eb04a5582be4a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 14 22:08:19 2023 +0200

    Update Finnish translation of ruledit domain

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 08b1375c125931d3600253b2b207a49bea8e0093
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 11 14:32:13 2023 +0200

    gtk4: Add Sell submenu to city report

    See osdn #47335

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8963acf1e67fa31ef383b8472c3b6b1c259387f1
Author: SÅ‚awomir Lach <slawek@lach.art.pl>
Date:   Mon May 16 15:32:56 2022 +0200

    Ruledit: Add counters tab

    See osdn #45892

commit 3dc28d4110b7ba8dbc8918fef964891524a195e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 14 17:06:35 2023 +0200

    Comment typofix: "undesireable" -> "undesirable"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4b3f4e069bc1d56e420c966961f835aa2c98b7ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 11 12:55:25 2023 +0200

    winbuild: Set default MIN_WINVER to match Windows 8.1

    See osdn #47312

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f78474f93cacdb8e540a7d18881808f0bcf1f70a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 11 12:46:00 2023 +0200

    packets_json.[ch]: Improve Coding Style

    See osdn #46618

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b4a031b3c43b16873aa821fab8b15410ef549ce1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 11 02:21:04 2023 +0200

    sdl2: Make Alliance clause available in diplomacy dialog

    See osdn #46604

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 34cbab6a612aad8520ad80e00fb9e14a302e4847
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 10 23:59:18 2023 +0200

    effects.c: Update list of convenience functions in a comment

    See osdn #46464

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0a4c7a0f24857c65407c1ee1fed6499c35101777
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 11 00:28:36 2023 +0200

    sdl2: Drop obsolete draw_ibutton() and draw_tibutton()

    See osdn #46393

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ca230a1d442be83507ae36259c10a25cab08420a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 9 18:52:56 2023 +0200

    Meson: Fix build when SDL2 is not present

    Reported by lachu

    See osdn #47328

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a275dece28b11e0af59c94845647519bd438a983
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 11 04:06:51 2023 +0200

    Ruledit: Add gfx tag editing to edit dialogs

    See osdn #47303

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bebff03e46da4d73364a4580ad20444c5676b4da
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 13 17:23:15 2023 +0200

    Comment typofix: "pardrop" -> "paradrop"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 061d1db1ae84d0a8dfc6aeee47d2f79e1faa532c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 10 23:36:01 2023 +0200

    Fix "Show Irrigation" toggle

    Irrigation was being drawn regardless of the setting

    See osdn #47316

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 90aef64f885a5ab79776432c0f769cac26bd65d6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 13 04:11:35 2023 +0200

    Comment typofix: "specic" -> "specific"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bdeeb03e9a7ca6a4edef339d3be4272f9ae01ec9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 9 17:17:31 2023 +0200

    gtk4: Add set of Help menu entries

    See osdn #47333

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5cb4850f8c3b24a6e0379113c61baf7937983d3a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 10 05:41:02 2023 +0200

    text.c: Correct function headers

    - Correct "playerdlg.c" to "plrdlg.c"
    - Mention if a function is not re-entrant
    - Other minor adjustments
    - Some coding style improvements to the file

    See osdn #47305

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ce46788967568cd921dfecab0fb9235cb4d87817
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 9 07:05:50 2023 +0200

    Msys2: Distinguish registry keys and directories per MSYSTEM

    Namespace registry keys and install directories so they
    don't get overwritten by parallel installations.

    See osdn #46663

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f267555ef204060fcbecc381fa50d581de6b3ea8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 9 20:12:49 2023 +0200

    Move set_unit_activity_[road|base]() to savegame2.c

    They are not needed in loading anything newer

    See osdn #46205

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fc621a61c5bf1fb62222662f6335d806e6c0c876
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 12 15:15:55 2023 +0200

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5c93b49c1f4cdf2ee44c59ff129f2161103fca83
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 5 09:10:22 2023 +0200

    vietnam.svg: Refresh

    See osdn #47311

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 31345f0ac689edeafeacd1b4ac521bbff7e394dd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 5 09:26:08 2023 +0200

    player_limit_to_max_rates(): Adjust rates directly to player

    Stop passing entire economy structure as value.

    All callers were setting it to the same player structure anyway.
    If that's to change in the future, it will be easy to add
    economy pointer parameter.

    See osdn #45420

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 757df84e391f017f232fa4dfebdebce7d785280f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 5 22:13:14 2023 +0200

    gtk4: Improve View Menu

    - Add some entries
    - Refactor the code to reduce duplication

    See osdn #47317

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 96adbf4fddac5fd17d5b11e7aa533900dd988b96
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 4 14:40:00 2023 +0200

    configure: Use AC_PROG_AR() when available

    autoconf-2.72 will introduce AC_PROG_AC(). Prefer that over
    existing AM_PROG_AR()

    See osdn #46511

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 824d2c981b309c826a056207db25028e6c959f04
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 4 19:50:23 2023 +0200

    NULL terminate svgflags ordered_extensions

    See osdn #47309

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2afd21cf915047e38163a8c2ece3ff645dc7c582
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 4 20:34:59 2023 +0200

    Qualify core domain "none" and "custom"

    Qualify "none" and "None" strings, also adjusting case as needed.
    For consistency with "none" cma settings, qualify also "custom" one.

    Ruledit strings not touched.

    See osdn #46001

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c9d70b55ad2fa74a06f8297f37b86635ee678b43
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 3 22:06:54 2023 +0200

    gtk4: Add citydlg keyboard event handling

    See osdn #47302

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0be63ea3f964e6403257dfee84accb869f38e992
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 4 12:42:17 2023 +0200

    Msys2 Makefile.meson: Add Qt6-client and -ruledit builds for clang64

    See osdn #46577

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 29208477eed03959a2ca819ac6b168265413d4f1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 4 16:48:49 2023 +0200

    Move some definitions from packets.h and connection.h to new conn_types.h

    See osdn #47306

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 086f19ac8eced927a79c25c520b63b5825ceb3af
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 4 18:12:10 2023 +0200

    Multiplayer: Fix typo in the name of [effect_environmentalism] section

    See osdn #47308

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0600db595250b41451111e744633201c2bd57865
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 4 07:11:38 2023 +0200

    Add tileset name to Tileset Error dialog

    Reported by VulcanScout

    See osdn #46558

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e9c6574f28acd99bf689b0b91ce942116559c8da
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 3 22:18:47 2023 +0200

    sdl2: Unify "Chance to Win" TRANS comments

    So that not two different TRANS comments end to .po file
    for the same string (used in multiple places)

    See osdn #46668

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dc1143fbd38217b198f35738d1f193be66ac50a0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 3 21:40:01 2023 +0200

    gtk4: Add Select by production class menu entries to city report

    See osdn #47301

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e399327687390d75a5843db801624df45d88c726
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 3 21:17:08 2023 +0200

    installer_cross / Meson: Add Qt5-client installer

    See osdn #46676

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aa64eb5b270148966f857046a7094b85182e9330
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 4 13:11:06 2023 +0200

    Stop assuming that VUT_CITYSTATUS is about CITYS_OWNED_BY_ORIGINAL

    - Correct behavior of dai_can_requirement_be_met_in_city()
    - Allow multiple active VUT_CITYSTATUS requirements, as they
      might be of different values

    See osdn #45562

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit efef2c5973c74eaa41fb1872ef2a85f78a9e08fb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 4 19:29:57 2023 +0200

    Add Floridian nation

    Patch submitted anonymously. Minor adjustments by me.

    See osdn #46657

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1c8ebb71c1b891e871c1f176ef2c04048794638e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 4 06:18:24 2023 +0200

    secfile_lookup_str_default(): SECFILE_LOG() in error

    See osdn #46466

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fbcc9a99a38b125e9879a8f7d9ae86077b7036f9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 3 20:11:56 2023 +0200

    sdl2: Add command line option -- --swrenderer

    See osdn #47300

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f2f5ead854d4f99080627f0b8b581e08965e0a40
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 1 19:06:36 2023 +0200

    Meson: Check libintl.h availability for nls

    Reported by ddeanbrown

    See osdn #46669

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d72c5f5c9cf645e51d57f536a75db9d2a1840a0c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 4 04:59:55 2023 +0200

    Rename "Transport Alight" as "Transport Deboard" internally

    See osdn #45119

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 165550c10a0a13e700e1baf1566f7c504cf51c93
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 4 05:15:21 2023 +0200

    freeciv-manual: Improve listing of buildings' build/obsoleting reqs

    - Show "None" for an empty build requirement list
    - Have a separator between build and obsoletion requirements
    - List all obsoletion requirements, not just single tech

    See osdn #47297

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e332e55a7327194ec756faaf319ba8cd5152b0d6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 30 00:11:59 2023 +0200

    Correct unit_list_sort_ord_...() header

    See osdn #46313

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 732ea3f4b19fe953c3a5a56787f6ece70b10a960
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 2 23:13:42 2023 +0200

    gtk4: Add set of Help menu entries

    See osdn #47288

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 91bbb1d8247794389261607fecbeb14e51d463ed
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 2 21:44:58 2023 +0200

    meta.c: Improve coding style

    See osdn #47295

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dcb2bab9d8f5f2857ffcf9175f4c52c143652b1d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 2 20:39:27 2023 +0200

    Msys2: Fix creation of the list of files to uninstall

    See osdn #47285

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a1d07000120767833bafb8e44825b588ffa4246e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 1 19:23:15 2023 +0200

    Client: Support --Hackless together with spawned server

    See osdn #45326

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8be2b332e368b603f941133350f95c6b1c67d85a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 2 05:45:43 2023 +0200

    city_tile_iterate(): Evaluate _city_tile just once

    See osdn #46534

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2e1fc4478cba6de8071958f93bfb3d3ec21df6a7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 1 20:25:44 2023 +0200

    gtk4: Add set of View menu entries

    See osdn #46671

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7d8bd04199ee140358e4d7722587fe6aacc5a3c8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 30 02:25:24 2023 +0200

    Meson: Disable shadow warnings on Windows C++ compilations

    See osdn #46658

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c5d43cbd0fb629e9437c1a4a853cc5b3467ef596
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 31 04:44:50 2023 +0200

    singapore.svg: Refresh

    See osdn #46662

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fdae09cbd7358245b7d89133da898f98cba66c82
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 29 13:02:33 2023 +0200

    Expose extra specific clean times to ruleset

    See osdn #46636

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2d5227047a6a229ddfd7d12ee051ca0653edd2a0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 29 01:37:30 2023 +0200

    Introduce make_dir_for_file()

    See osdn #46317

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bf57b6cd629e4352da9cc7f301eb09fb7310bb36
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 4 22:20:22 2023 +0200

    Comment typofix: "givent" -> "given"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 24bea1b0f855320f488358a0d7656bf0c49912f3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 29 23:51:26 2023 +0200

    Qt: Correct irrigate/mine menu entry rename

    Detection if all focus units are on the same tile didn't work.
    Thus the menu entry was always set based on what is possible
    in a specific tile, one where the first focus unit is.

    See osdn #45805

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5693e0fbc6ca362d63c7dd38cc8c006332f9a816
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 4 15:20:11 2023 +0200

    Comment typofix: "disaplyed" -> "displayed"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d5144b11b38ae7c0615b140d67a94457372d6f43
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 29 23:18:53 2023 +0200

    Update gnulib-common to serial 80 from gnulib upstream

    See osdn #46592

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 99260c1e6006df91162cfa9d8e37b64060bf12b5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 22 18:17:44 2023 +0200

    Simplify Barracks effects by using BuildingFlag requirement

    See osdn #46480

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3ab3c1933f69f7abf87de14bcb55e7d39780351c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 4 05:49:20 2023 +0200

    Update Finnish translation of ruledit domain

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9a12af0c24f7dbe6d7fe5ff0f576792ff7466b6c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 29 04:28:09 2023 +0200

    packets_json.c: Fix tautological-unsigned-enum-zero-compare warning

    See osdn #46556

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1a3baf88bdc70c04de44279c25d799d26c248bbc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 28 03:06:03 2023 +0200

    Correct get_req_source_effects() header

    See osdn #46441

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b559da0b85255d0df3bce834866768cd691733ab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 29 10:47:17 2023 +0200

    gtk4: Add initial Select menu setup to cityreport.

    See osdn #46620

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1dbc043baf3328aee1c5e076caff829777799c47
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 3 17:44:28 2023 +0200

    Comment typofix: "it's" -> "its"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9aa11f2e6f981b6f74e695e8021f5301f7baf7d5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 28 20:43:49 2023 +0200

    installer_cross: Put results to build system specific directories

    See osdn #46612

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d18b06a9b6bca1d593734ebd656e3b5db64184f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 29 09:44:16 2023 +0200

    Add EnterBorders terrain flag type

    Requested by Free Willy

    See osdn #46619

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5a90bf709b9d80b8046370101c5653cb2cd9f7c5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 3 06:15:21 2023 +0200

    FAQ: Update latest stable version number to 3.0.6

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 51ac25bd4d7e6e692ff4327ae0cac6596e748b8b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 31 18:46:35 2023 +0200

    README.nations: Update to support meson based builds

    How to add new nations and flags to meson based build.

    See osdn #46659

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d2197d9840c3248d7ed21f203afaf740c83c062e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 29 23:30:06 2023 +0200

    mem.c: Use SIZE_T_PRINTF where appropriate

    See osdn #46219

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 993d1256646a3c4b3535394e7143e0cfa41dbf7e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 28 21:45:22 2023 +0200

    gtk4: Add some Help menu entries

    Do preparations also for the rest

    See osdn #46616

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 24d29333e632adea0fbe98f2c9a1f7bb4760fd8a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 28 03:17:28 2023 +0200

    Meson: Set FREECIV_SCENARIO_PATH on run.sh

    See osdn #46582

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8550d568928947219170f1b90d053d777fc1acec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 30 00:25:55 2023 +0200

    Fix cases where AI didn't consider that building might provide impr flag

    See osdn #46617

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fa3c497416d3b407ef95b657dc57e25cf32f5658
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 29 10:17:47 2023 +0200

    README.effects: Add "Clean" to list of Activities

    See osdn #46489

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d5da63eba02ead012e92ddab8aff2203892465ca
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 31 04:07:42 2023 +0200

    Fix Qt-client crash after handling "-- --help" command line

    See osdn #46660

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b0f135c30935cbf48443fb908f38241fa8112306
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 1 21:43:22 2023 +0200

    Bump version number to 3.1.92.6-dev

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 57517fcf90717f6ed98847569a2f8e803dfdc67f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 28 17:29:23 2023 +0200

    gtk4: Add volume control key bindings

    See osdn #46610

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cae138fbfff07810f07002ac3739eb59f026b6ab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 26 04:52:21 2023 +0200

    Meson: Check lzma.h availability for FREECIV_HAVE_LIBLZMA

    Reported by ddeanbrown

    See osdn #46599

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 56a5067f684f130c5e90a165106f682afaf10c40
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 28 18:11:46 2023 +0200

    russia.svg: Refresh

    See osdn #46613

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 67e0e799c1b34f25be999b13b9497fb6b9cb4190
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 28 17:13:36 2023 +0200

    Replace action_get_battle_kind() with actres_get_battle_kind()

    Uses indexed table lookup instead of a switch

    See osdn #46609

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f1a093f6fbe56377360d3408d7ba302c0cf8271d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 28 20:50:23 2023 +0200

    Separate unit moving from unit_move_data() to new unit_move_by_data()

    See osdn #46614

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 64f06237f73a8d116d91e9936cbfd46974f4c40e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 31 22:03:37 2023 +0200

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 139f15ef14507a0fe79115b9c376c9736d5fbc79
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 28 06:40:32 2023 +0200

    sdl2: Adjust diplomacy dialog based on what clauses ruleset enables

    See osdn #46284

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c6d95a063daf09e9f15a8e1e4cbcd60baf1a9afb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 22 21:03:07 2023 +0200

    stdlib_h.m4: Update to serial 71 from gnulib upstream

    See osdn #46585

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b52d18e7eee6f0de05b521836a41b736f865f8f6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 28 16:30:28 2023 +0200

    Correct svg flag dimensions returned by get_flag_dimensions()

    See osdn #46608

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0d2d3d54b40c19a888fdaed519a7f9318f37183d
Author: mattmadeofpasta <mattmadeofpasta@mattmadeofpasta.me>
Date:   Fri Jan 27 10:49:43 2023 +0000

    Add CI build logs and test temporary files to .gitignore

    See osdn #46603

commit 67183f913874d780d815e3679302e1a8915a24e5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 28 08:20:55 2023 +0200

    astring.h: Mark inline functions for doxygen

    See osdn #46560

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9f5b4ddadcd0dff72364ba78517d7e6f2dd5d6dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 28 06:06:22 2023 +0200

    Rulesave: Add comments for user (custom) flag types

    See osdn #46167

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1492265fc1ffe5902cda8798426232a09df76842
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 27 18:00:17 2023 +0200

    gtk: Add Show Stack Size toggle to View menu

    See osdn #43377

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cc0162f43500a39a3cca4ff4bc60c705da9e16a2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 28 21:03:42 2023 +0200

    Meson: Install luik flag

    See osdn #46615

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2d607046f842998c0bd504bce39d85dbd581b3c5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 28 02:57:52 2023 +0200

    Stop accepting NULL target to terrain_extra_removal_time()

    This prepares it to future where removal time depends
    simultaneously on the terrain and the target extra.

    See osdn #46448

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3884df76849e75c42af0042a0cdcac89ffb41e7d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 27 18:30:15 2023 +0200

    AI: Return value from tactical_req_cb() in NDEBUG build too

    See osdn #46528

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6be9915d0ab49cb055f8da4cd1904f412981f6c5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 23 05:01:26 2023 +0200

    iterator.h: Mark inline functions for doxygen

    See osdn #46102

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0bd4d059a497507450d76d867e89022bfbc6ed19
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 22 17:27:38 2023 +0200

    gtk3.22: Add volume control key bindings

    See osdn #46589

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c1c0eb4232238b317655d3a0e932d5366d452d9a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 29 14:09:16 2023 +0200

    ruledit/POTFILES.in: Add edit_terrain.cpp

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f34b6787c8c9d8483fcabab1c0c5724ff697cc82
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 22 20:07:28 2023 +0200

    Msys2 meson: Move install directories under meson/

    "meson-install-..." -> "meson/install/..."

    See osdn #46590

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 154bd96f911588d487603636b64f94aec23eedf0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 23 05:07:31 2023 +0200

    Return FALSE instead of NULL from tileset_setup_unit_direction()

    Function return type is bool

    See osdn #46542

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f81af8874b6afd093d005c0942895286bd7bb720
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 22 09:20:05 2023 +0200

    quebec.svg: Refresh

    See osdn #46586

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5ddd36f3d5eedfd493708ff8f3f498cb9315fa00
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 22 06:17:59 2023 +0200

    Ruledit: Add terrain details editing dialog

    Thre only values that one can edit in the initial version
    are movement cost and defense bonus.

    See osdn #46587

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bb81bc62da08814f3ab45989ae312e2cc6a12539
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 22 02:03:02 2023 +0200

    gtk: Fix memory leak on failing sprite loading

    See osdn #46584

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c25bd46813912b2c2becc2230a42e90442d83a09
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 21 19:33:27 2023 +0200

    Meson: Silence c99-extensions warnings from Qt on Msys2 / clang64

    See osdn #46576

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit db46ca6fa7d15fe1e51236990a2630d0975e9146
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 21 23:28:03 2023 +0200

    Split is_military_unit() by semantic purpose

    See osdn #46583

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 99d2bc33bf3175f5a2beff82fe11e83c35b309e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 22 00:21:15 2023 +0200

    INSTALL.Cygwin: Add note about meson based build

    See osdn #46415

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 77ee36d71e2ad906f55d75e2b3d3cb83a6ae187a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 22 08:21:21 2023 +0200

    gtk3.22: Correct battle groups key bindings

    See osdn #46588

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d00eb0128bad5ad88dff45098b5b4c5648da8d9c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 21 09:44:57 2023 +0200

    gtk4: Add first view menu toggles

    See osdn #46564

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit add3246740999854824887dc44f41e136b63a6ea
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 21 10:40:38 2023 +0200

    Flatpak: Allow ipc with the host

    Need pointed out by Hubert FiguiÃ¨re

    See osdn #46565

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ca75e8235fc28a38e1bbc4791bface7ad2509e03
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 21 18:55:38 2023 +0200

    Correct effect_edit::comment_given() header

    See osdn #46203

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7aac17320a71be9cfbf43bea400dc732fd6fbd09
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 21 08:02:28 2023 +0200

    Replace action_target_compl_calc() switch with an array lookup

    - Create new actres.[ch] module
    - Add struct actres
    - Make array of them to hold information about every actres
    - Make act_tgt_compl the first field of the strcuct actres
    - Reimplement action_target_compl_calc() as actres_target_compl_calc()
      that does indexed lookup from the actres array

    See osdn #46563

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4dde74d2973b7635cb0f44016e219cc44c87c3e7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 22 07:38:00 2023 +0200

    Correct notifications sent about surgical strike

    - Victim's message contained their own name as the attacker
    - City references were not always sent as links

    See osdn #46473

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit af0455d01637ff99478e5df532970cf88f4feb24
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 21 04:01:19 2023 +0200

    gtk4: Add menu entry for targetless revolution only when allowed

    See osdn #45937

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit db4796a0ece2fa7614fe66cf43a71854018ff24e
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Wed Jan 25 15:31:38 2023 +0100

    Updated French translations

commit 76bea51b409ca61c279ab444055acefaa84ceb04
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 21 06:16:43 2023 +0200

    Update bootstrap file to at least gettext-0.21.1 level

    Update things for which there's a newer version in gettext-0.21.1
    than in old freeciv tree.

    See osdn #46483

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fd583c7fd041d870ebe6d725756ea5c5c1b57d05
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 21 13:31:52 2023 +0200

    Move combat stats part of popup_info_text() to clientutils.c

    Split new combat_odds_to_astr() function from popup_info_text(),
    and place it to common/

    See osdn #46536

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2b582275c840742b98f404a266e3f3d11f0b75c1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 20 17:55:48 2023 +0200

    gtk: Fix testmatic build

    See osdn #46551

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 28d13f56dedeb76c481a1f4daccf8ae5307415bc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 21 01:41:29 2023 +0200

    auth.h: Remove declarations of non-existent functions

    See osdn #46410

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a69f2e7992048669485df7598f2ea6bbf5b9390f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 18 19:20:31 2023 +0200

    sdl2: Fix unused 'scroll' assignment from remove_clause_widget_from_list()

    See osdn #46545

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 396f92d63d67b88a67276d5107a824539a0c1026
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 20 00:08:33 2023 +0200

    installer_cross / Meson: Rename Output-meson as meson/Output

    See osdn #46549

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 135a29aba05352d4d016c86d8d7b9f027f39a2d0
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Tue Jan 24 12:38:19 2023 +0500

    Update for Russian translation.

commit 571def8f1ea776e9ec66622d5ced6b1d1aca8368
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 20 17:44:09 2023 +0200

    Ruledit: Correct units tab layout in experimental builds

    See osdn #46508

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 26a0c26893de27727ab3b25138307db0a3ba24fb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 21 05:06:56 2023 +0200

    Retire unit_activity_text()

    As not re-entrant, it caused client crashes.

    - Convert all callers to use re-entrant unit_activity_astr()
    - Remove the function

    See osdn #46559

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 29cb022ded8a2e498eb73339e0032a5b052c292b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 19 02:12:07 2023 +0200

    portugal.svg: Refresh

    See osdn #46547

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 93908f7f611a971b0698659f2d6616b22111397a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 21 16:43:59 2023 +0200

    Qt: Don't try to refer to qapp outside gui_main.cpp

    It's local (static) to the module. Attempt to use it by
    declaring it 'extern' in other modules caused linking to
    fail with msys2 clang64 toolchain.

    See osdn #46575

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 03220741ed84345c3a72eab679726a44a3a363e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 19 02:44:45 2023 +0200

    Metainfo: Add provided binary tag to server metainfo

    See osdn #46500

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 70392f4d2714289030486592d6feb4d627a9546f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 20 02:27:17 2023 +0200

    Increase hard limit of trade routes to 20

    See osdn #45857

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 012577ba81df6c719666655e93eb3179f8aaa963
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 20 01:01:03 2023 +0200

    Alien: Refactor "Tile_Workable" effects

    Have just one effect covering all always workable terrains.

    See osdn #46421

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ac9fdc93ae6ae4baa6923ac7380e591a945eca90
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 15 06:25:05 2023 +0200

    tilespec.[ch]: Improve coding style

    See osdn #46521

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 892b6b42d397f87e3a2da533b6e6b8a8c8193f74
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 18 04:44:03 2023 +0200

    gtk4: Add centering to chat links on click

    See osdn #46540

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7c1dc02fc1d32afcaf8bfb7c23d74ce41ae9df29
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 18 00:17:19 2023 +0200

    Msys2 autotools: Move install directories under autotools/

    "install-..." -> "autotools/install/..."

    See osdn #46538

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 86fc0b3b6abf47b006e3321c7580352b8ee282ae
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 20 00:23:21 2023 +0200

    Log iconv inability to convert between encodings just once

    See osdn #46497

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 090dcce40b737ff28c08f14bd316e00efd3d1dbe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 22 09:06:36 2023 +0200

    Comment typofix: "aggresive" -> "aggressive"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit edb4c0f1b99421650da51b0419292fde13972ed8
Author: Anthony Ryan <anthonyryan1@gmail.com>
Date:   Tue Jan 17 20:03:35 2023 -0500

    Compress pngs

    Using Efficient-Compression-Tool we can compless the PNG images
    without changing the visual appearance.

    Save ~3 MB

    I've done a playthrough after optimizing the images and saw
    no visual change.

    See osdn #46552

commit 61f156af79aeba2b9fcad31376ebe22ad12668dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 18 17:53:32 2023 +0200

    expl_act_not_enabl(): Remove unnecessary unit_owner(punit) calls

    Use the local variable containing the owner when we already
    have that.

    See osdn #46543

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b47648a5c8441d3b8bf286ee76dbf3dabdfe81d2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 18 18:49:00 2023 +0200

    README.effects: Document maximum length of requirement vector

    See osdn #46451

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f6b12a8f19acb21e73421e1222ce551efdae8eb7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 17 17:30:53 2023 +0200

    gtk4: Add goto and patrol menu entries

    See osdn #46531

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 208de9537effe80211e2edbcba52ab4d0083394e
Author: Jean-Marc Leroy <info@studio16.be>
Date:   Mon Feb 3 14:19:20 2020 +0100

    Create liege.ruleset

    Additions by Marko Lindqvist:
    - Update the style
    - Include nation from default/nationlist.ruleset
    - Collect translatable strings from the ruleset
    - Install the nation (both autotools and meson builds)
    - Add flag from Wikimedia Commons

    See osdn #46553

commit 15ce1febe363e6d76f4e67e1b5b6174002074d09
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 17 20:56:22 2023 +0200

    Meson: Enable -Wshadow for debug builds

    See osdn #46537

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f4e6f4e119ed846e86db721263a227ea579c653d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 21 18:50:23 2023 +0200

    Comment typofix: "cahce" -> "cache"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 49bcc785884ab04acd619eae086aeec2e5d73645
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 17 19:51:29 2023 +0200

    Add city tile output to city web-addition packet

    See osdn #46535

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 469c93a37613df00b2183d0e28a0f4c5edfcc0b6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 18 01:39:54 2023 +0200

    kill_unit(): Fix pointer assignment to a boolean

    See osdn #46472

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7f2fef22f144456b7f9fe5d80a6c634db3ebfd6f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 14 17:40:46 2023 +0200

    Qt: Use long form of Wonders of the World report

    See osdn #46520

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9c0b5bf7c920104832391009cc924dc777bc4b37
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 18 03:44:56 2023 +0200

    capabilities: Add V.V (version) to example capstrings

    See osdn #46405

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 58bedbb53ab57b0f663b25d0f20cd31381279d9e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 17 02:53:02 2023 +0200

    Refresh gnulib-common.m4 from gnulib upstream

    Serial has not been bumped.

    See osdn #46516

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 18a1b0120b7633dad79b6c3fb26ee49775377989
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 17 03:31:53 2023 +0200

    svgflag: Add logging

    See osdn #46431

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0abe598935c3d037b93283be74bc8a845a74ea45
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 14 07:56:39 2023 +0200

    validity.c: Check more ways extras need universals

    is_universal_needed() to check if universal is in:
    - apprarance_reqs of some extra
    - disappearance_reqs of some extra
    - first_reqs of some road

    See osdn #46443

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8a89632819755c77d5dfeddbab5ff3cb4c844889
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 14 08:40:22 2023 +0200

    shared.h: Mark inline functions for doxygen

    See osdn #46389

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c7c9b1a2a1d15f07f12e488525474a837e493ab3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 14 10:41:30 2023 +0200

    gtk4: Fix submenu leaks

    See osdn #46491

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 572308979b707cfeef77039826947883d9b20757
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 18 03:30:37 2023 +0200

    Fix NDEBUG build

    See osdn #46539

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6b4b6e252ecda8057c7025b18b709dfe438b176d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 14 14:22:58 2023 +0200

    CI: Update setup-msys2 to version 2.15.1

    See osdn #46517

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fc95d327035d3d7e537cef953cf82464ccc9173c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 14 15:41:33 2023 +0200

    Supplied rulesets: Move actions to actions.ruleset

    See osdn #45066

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7e6b9ebd1de31f8ed977e58b4baa0fd510b769af
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 6 22:04:59 2023 +0200

    Send city original owner information to client

    This information is available in the full city package only.
    We don't have that information stored for vision sites,
    to send to players other than current owner.
    Even with the full package, only the original owner
    get the full knowledge.

    See osdn #46402

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c5665d714c6fc16b2dae510ddd0b366b9031a467
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 13 02:31:50 2023 +0200

    philippines.svg: Refresh

    See osdn #46512

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b795b81c4ba962906fe71b9a63f4a0a6278a80c9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 8 11:49:18 2023 +0200

    gtk4: Support dynamic help link types

    For buildings' and wonders' requirements, make the link
    to go to the page that matches the requirement type.

    Reported by MÃ¡ximo CastaÃ±eda

    See osdn #46435

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1435db0a0e3bb43730246c848d082815b736acc2
Author: Michael Ortmann <41313082+michaelortmann@users.noreply.github.com>
Date:   Fri Jan 13 00:37:18 2023 +0100

    AI: Mitigate overflow

    See osdn #46513

commit 3837539d5130d8d74f101d03ec219cc7934f2f9c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 14 08:13:05 2023 +0200

    winbuild.sh: Set win10 as MIN_WINVER for Qt6-ruledit build

    See osdn #46463

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5fbe63966ba95447552f1564255a2b7b71da0c82
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 14 07:30:08 2023 +0200

    api_utilities_direction_is_cardinal(): Return FALSE, not NULL

    Return type is bool

    See osdn #46456

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e82ddd120c3aa147a27bbfcd3b4cec112ff0541f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 8 09:15:38 2023 +0200

    city_sum_add_real(): Fix strcmp(?, NULL) call

    See osdn #46488

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit acc4effb7a7e5e3ff4f35efc6ec7fc23b6f4d40f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 8 05:35:34 2023 +0200

    gtk4: Add menu entry for opening Policies dialog

    See osdn #46486

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 436349ce96938f01fa5bd6eb6bb2614339fc3a72
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 11 20:53:35 2023 +0200

    connectdlg_common.[ch]: Improve coding style

    See osdn #46479

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 624a21aace3ef90fa8360ede0ad63e8e11dcdbba
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 10 23:22:30 2023 +0200

    flatpak: Add gtk4-client flatpak

    See osdn #46509

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 758da07bdef5679a7f051fcf4653229e5a6f92ef
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 18 00:43:25 2023 +0200

    Update German translation by Familie Engel

    This is just S3_1 de.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 174af077a6428563b8717697451865dffaf380d8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 11 02:15:29 2023 +0200

    is_action_possible(): Avoid repetative action_(id_)get_target_kind()

    See osdn #46487

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 892bc5393e6b899d9b209622626e581891613870
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 10 18:48:50 2023 +0200

    Update founder information of cities when a player removed

    Do not leave illegal reference to the removed player
    to any city in the game as the founder

    See osdn #46503

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a4a696f077d42822c000b479de325cad2d921090
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 17 05:57:22 2023 +0200

    Comment typofix: "appropriatelly" -> "appropriately"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d776d10f769c17e196e2708349da205ba438ac5e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 7 11:27:39 2023 +0200

    sdl2: Make controlled disconnect from server on quit

    See osdn #46478

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4140df98df4301e80f09fee230baddc57f4b7269
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 9 05:08:36 2023 +0200

    listener.h: Mark methods for doxygen

    See osdn #46494

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5dbf3efce4068f7bd59d709ab64584f352bb9aa0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 7 09:17:41 2023 +0200

    Split list of rulesets to test

    Rename ruleset_list.txt as ruleset_list_dist.txt, and list
    only rulesets shipped in the tarball there.
    Create new ruleset_list_opt.txt listing rulesets that
    might not be present, and which are tested only when they are.

    See osdn #45546

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit afd94458c31a33f9d72d90c05c253a62f81cc4e0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 10 02:03:51 2023 +0200

    Avoid extra work in calc_activity()

    For each activity it was calculating:
    - Untargeted time
    - Extra build time for each extra
    - Extra removal time for each extra

    So it calculated '1 + 2 * number of extras' different times for each activity

    Now it calculates:
    - Only untargeted time, if the activity is untargeted (1 time)
    - Only extra build times, if the activity is extra building one (num extras)
    - Only extra removal times, if the activity is extra removal one (num extras)

    This also means that it won't make tile_activity_time() calls with
    NULL target for any activities that need a target.

    See osdn #46447

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4dece2df15647e3514716b4f766e152f58f69bb3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 7 23:43:12 2023 +0200

    Doxygen: Correct effect_copy() header format

    See osdn #46484

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f1b55b094a089765b867f78d1a491b278c14b497
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 8 07:42:38 2023 +0200

    Drop unused 'space' field from city_report_spec

    See osdn #43049

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e08497ef036e781fd9ce6fcce07c232178623261
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 7 08:39:24 2023 +0200

    Qt: Scale svg flags on races dialog

    See osdn #46430

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1366fac0ae8336a5272e0b7126d1c14359e0416d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 8 06:21:44 2023 +0200

    Msys2 Makefile.meson: Add Qt5-ruledit installer

    Built for pre-win10 systems.

    See osdn #46454

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 33d9f7768baacff1cca605a054951ae6d9c049f7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 15 10:48:36 2023 +0200

    Fix report_wonders_of_the_world_long() compile error

    'unused n'

    See osdn #46522

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e072035dbd7ca93d52fd4600e9fb0d5beb136645
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 8 13:20:45 2023 +0200

    Add REPORT_WONDERS_OF_THE_WORLD_LONG type

    No client requests it yet.

    Bulk of the patch by Alain BKR

    See osdn #42290

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c6709c1ffb4d4a9bf49581f5b9685a3d01f7a343
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 7 00:08:15 2023 +0200

    Fix action_prob_pre_action_dice_roll() indentation

    Reported by kvilhaugsvik

    See osdn #41930

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 35600c0b9474e89f21f2be52e0b1a037e715f638
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 7 18:34:48 2023 +0200

    AI: Increase military emergency want indicator to 1000

    This makes more space for non-emergency wants, so they
    aren't so often clipped and thus making it impossible
    to compare which one of such high wants is actually higher.

    See osdn #45277

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 71e2464ab97cf6258fc3664597197ec8103416e4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 7 01:44:47 2023 +0200

    gtk4: Use "insert-link" icon on "Chat tools" button

    See osdn #46470

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 73841b4946d7ce268dce39acebb69934ad940667
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 6 20:13:27 2023 +0200

    Make secfile_insert_filereference() parameters const

    Both 'filename' and 'path' can and should be const.

    See osdn #46301

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bead88f9caf8957007cb7b1c2bd231730b5e2b0e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 7 01:50:49 2023 +0200

    Update gnulib-common to serial 76 from gnulib upstream

    See osdn #46462

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d5fa1447af4bb72b3aeb54d031b0fcc7270d3218
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 7 12:17:34 2023 +0200

    Add building user flags support

    See osdn #45832

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9e68316c4f1082468cc471edf89c46d46766f15f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 6 08:07:33 2023 +0200

    pakistan.svg: Refresh

    See osdn #46459

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9b3213fc541792eb4cb07955f8557fb36b5c1526
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 7 16:11:14 2023 +0200

    spechash: Convert void pointer to specific types by proper macros

    Old code assumed that you can always do a simple cast
    to any type.

    See osdn #46372

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c93a4afe966eb46b56817f40e93ceaabdb4ee749
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 6 23:54:30 2023 +0200

    gtk4: Add Homecity and Upgrade to citydlg unit context menu

    See osdn #46438

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6418ff9408fd5f9d87abdee40f13ad9365280036
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 6 15:46:37 2023 +0200

    installer_cross: Ignore 'attributes' errors in C++ builds

    Qt headers cause such warnings with newer g++

    See osdn #46428

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit abc8d6f5f79931f39b34786bce34222df08d30b1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 7 02:29:44 2023 +0200

    Add Casus Belli support for succesful Surgical Strike actions

    See osdn #46180

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit af297eb2e3b694f13ed570eb400f05807665099a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 6 10:56:23 2023 +0200

    tile_has_refuel_extra(): Use unit class refuel_extras cache

    - Cache renamed from 'refuel_bases' as 'refuel_extras'

    See osdn #46416

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c5fd9d915ef8d5151a4d38e54b9a89be40e110bc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 6 07:14:50 2023 +0200

    sdl2: Fix crash when there's no government to switch to

    See osdn #46450

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1f3daf2aea5adbbaa6fa94da34710d401f881efb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 6 06:58:29 2023 +0200

    Msys2 Makefile.meson: Explicitly set min-win-ver

    See osdn #46380

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7bd18fecdb31c2db179db20bcf839af06c61e8e2
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Thu Jan 12 00:23:14 2023 +0100

    Updated French translations

commit da81d93c64ba01f1853fb299c07488a30de11218
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 6 18:08:01 2023 +0200

    tileset_setup_unit_direction(): Fix gcc-9 warning

    See osdn #46465

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b4e15c76dec88dbdd5757f34388685c048c5f35b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 6 07:48:29 2023 +0200

    Correct memory handling on rename of transfered city

    When unique names are required at player level, but not
    globally, city transfer may rename the city if the new
    owner already has that name in use. That code had not
    been updated to use dynamic city name allocations.

    Reported by chippo

    See osdn #46272

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f20d12c85cf78cc5ecde59ce46877981c2d6e000
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 5 04:37:54 2023 +0200

    tilespec.c: Add TRANS comments for "No graphics for ... in %s."

    See osdn #46397

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 123d7aadfe1619195206c83871bc346f8f200320
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 5 03:26:29 2023 +0200

    Close editor gui immediately when leaving edit mode

    See osdn #46439

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a97b843897adf92963141788c92f6bdf4bed1c9d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 5 04:02:37 2023 +0200

    installer_cross: Rename meson/ as setups/

    See osdn #46457

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2dc9dd533f17188589df3376b0f9f98580c0cad5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 5 05:25:20 2023 +0200

    Sanity check diplstate max_state

    See osdn #44732

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6595c69ff03456eefb2bc6e10d527e5957f9def5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 4 21:27:11 2023 +0200

    Make is_..._unit_tile() to return bool

    That's what their name suggest, and what most of the callers expect.
    Returning a pointer to those callers was causing an error when compiler
    is following c2x standard.

    Added tile_..._unit() family of members that those former
    is_..._unit_tile() callers that actually expect a pointer call instead.

    See osdn #46367

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ae7d3aefe40b501965a81533eee6d046f17fb23e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 3 22:20:23 2023 +0200

    .gitgnore: Do not ignore *.rej

    See osdn #46227

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fdd0a9276acedcd61acb1d9e862bade383f8b000
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 2 21:34:35 2023 +0200

    gtk3.22: Support dynamic help link types

    For buildings' and wonders' requirements, make the link
    to go to the page that matches the requirement type.

    Reported by MÃ¡ximo CastaÃ±eda

    See osdn #46433

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 73ac0c2244c1e2c492edaa6c32c1eef9c54c9f64
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 4 18:51:09 2023 +0200

    configure: Fix mysql version check

    See osdn #46449

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0461bb7ca2c18762cd48bb3e5eacb64a519a7de5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 4 17:42:24 2023 +0200

    Drop unused tile parameter from is_build_activity()

    See osdn #46446

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b7192e9ecccc4b3a5132b5afaad525058b901312
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 4 18:02:03 2023 +0200

    Check "Tile_Workable" effect after tile changes

    Make cities to stop working tiles that they no longer
    can work after terrain or extra change.

    Reported by ihnatus

    See osdn #44706

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8c511c329227d97ae9258b2e8c391442ec2be099
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 1 21:32:08 2023 +0200

    Update luasql upstream URL

    See osdn #46100

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fb0e3aa483d067f8f3cb2494d486014a2cd2c974
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 1 05:20:05 2023 +0200

    gtk4: Fix menu item leaks

    See osdn #46295

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7f3a494d83974035ab2f70265f936712c06e8e30
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 1 08:46:10 2023 +0200

    Meson: Ignore 'attributes' errors in C++ Windows/debug builds

    Qt headers cause such warnings with newer g++

    See osdn #46408

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 75d59d38c0af7c6edac85e06599d907e311c0cc2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 2 23:12:33 2023 +0200

    Testing rulesets: Move actions to actions.ruleset

    See osdn #46427

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 889df232027ff80981f2d59dd3128ba6a8482829
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 8 07:21:32 2023 +0200

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d75b634716578dc4f36c403aa1fc42537cfc4ea5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 8 06:28:00 2023 +0200

    installer_msys2/.gitignore: Update to output directory changes

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7eda41e3541c5295bc905057834a7af058d3fe8f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 1 09:13:01 2023 +0200

    shared.[ch]: Improve coding style

    See osdn #46409

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 95de800b84170e189a6e9cbc4651a41c3373b710
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 31 16:00:56 2022 +0200

    mapimg: Replace fopen() call with fc_fopen()

    See osdn #45507

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fbda7aece4c8ddf2f75cb221928662bf23d34826
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 31 18:22:29 2022 +0200

    Qt: Fix next/prev city buttons

    They could even crash.

    See osdn #46404

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ec86bda1f4a19c1f239e244a1d23bd91de663321
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 31 17:29:11 2022 +0200

    Msys2: Produce autotools and meson builds to separate Output directories

    See osdn #46403

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit be151d0c2dc31b7627ef5a3304328937c6a94d94
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 7 13:22:41 2023 +0200

    FAQ: Refresh from wiki

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a5abc81e0a4f8e1c4afa7e6db69f1c2639542fa8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 31 05:42:00 2022 +0200

    Add BuildingFlag requirement type

    See osdn #46190

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fe994055e7b6f84842db5f4d2c9049e1b15820d5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 7 10:35:31 2023 +0200

    Comment typofix: "attatched" -> "attached"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 39c440cab203b37f3227f37db3df27e227d6837c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 31 12:37:28 2022 +0200

    worklist_item_postpone_req_vec(): Handle CityStatus requirements

    It assumed them to always be bogus requirements for a building.

    See osdn #46394

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b5b1c73680b80b3c44dc9d098069018ce5f98af6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 1 06:10:48 2023 +0200

    netherlands.svg: Refresh

    See osdn #46406

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 13a16bc5a83bfe7becb9b1694a4a40be12346ae2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 31 10:20:21 2022 +0200

    gtk4: Make citydlg production bar an drag&drop target

    See osdn #46401

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 20ff14875fdbfadc37e304c187f0d97984f3721b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 31 11:46:17 2022 +0200

    Meson: Use cross-compile include paths in compilation tests

    See osdn #46357

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 610695930dfff00f52f47bf5f489abd4a45ba8c0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 6 11:55:40 2023 +0200

    Update Finnish translation of ruledit domain

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 84b95f8b3ac0675607b3f68dc53261078f940f28
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 1 16:26:21 2023 +0200

    Split scanning of the list of specfiles from tileset_read_toplevel()

    Introduce new tileset_scan_single_list() function for that.

    See osdn #46411

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7fb016b12928d62d77adcb32bd99dc29d4083318
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 6 10:04:34 2023 +0200

    Bump version number to 3.1.92.5-dev

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3ca2c49c5f917065b1cbee31be2ed7ef29c99882
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 31 07:19:43 2022 +0200

    Fix ruleset comment typo; "loose" instead of "lose"

    See osdn #46281

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6e8103f2b83012549775536b0bd9b2a7175c4751
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 31 03:57:49 2022 +0200

    Refactor unit_list_iterate_safe()

    Fix clang analyzer warnings

    See osdn #46336

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 54c88d67ff16116a0555132eaf0688637adbae6a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 31 03:19:26 2022 +0200

    sdl2: Fix redraw_ibutton() return value mess

    Different return value spaces overlapped, making the value
    returned ambigious. This affected also callers; what they
    returned to their own callers.

    See osdn #45689

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ced03d08a1ff5b71aad10dac6d31c014f08a7e99
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 31 02:43:13 2022 +0200

    Update gnulib-common to serial 75 from gnulib upstream

    See osdn #46374

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 81907888df91c46682ba23a1264a93937cd93ad3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 1 15:18:29 2023 +0200

    Add support for activity specific unit sprites

    Requested by elefant

    See osdn #46387

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a984a49123ffabe20a53b27894832308fee85708
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 2 17:27:35 2023 +0200

    Client: Play quit sound while we still can

    On normal shutdown, play the quit sound before closing
    support for construcing its tag.
    Atexit handler still used in case of other kind of shutdown.

    See osdn #46426

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 79d7d8d4367a2d9adb80b7278e1a3b9a2336ced6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 31 02:28:02 2022 +0200

    spechash.h: Mark inline functions for doxygen

    See osdn #46390

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b56e45c2f0e6a657aff20dcd0549f18222d6e378
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 31 02:33:52 2022 +0200

    gtk4: Fix options adjusted in combo boxes

    See osdn #46386

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a1375f33257f56648c79a85df098074b61b2fe7d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 30 18:21:12 2022 +0200

    Msys2 Makefile.meson: Add Qt5-client installer

    Built for pre-win10 systems.

    See osdn #46359

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 932428ea9e45f77b449fafeb300d8cf80dd8a627
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 31 07:01:53 2022 +0200

    Add Activity_Time effect type

    See osdn #46396

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8a4793913b5b4b9de75f49f830d589d8a288a7c3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 30 03:55:30 2022 +0200

    featured_text.h: Mark inline functions for doxygen

    See osdn #46285

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 376d731bf0660e6f3a437610a3e3fda11980b9a1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 13 03:06:50 2022 +0200

    Resend desired server settings after a new ruleset has been loaded

    Reported by Dino the Dinosore

    See osdn #43747

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6e0e15bfa389b04525a8ae9d7ccee151beaf29f3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 30 17:31:16 2022 +0200

    gtk4: Add unit board/deboard menu entries

    See osdn #46383

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1027f4b60ba284a064da06a7fe0e509c20a35806
Author: SÅ‚awomir Lach <slawek@lach.art.pl>
Date:   Thu Nov 17 16:15:49 2022 +0100

    Ruledit: Add counters count to statistics

    See osdn #45891

commit ed52a7bec90ab716b05ddfac513d9243b40076ed
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 30 04:21:26 2022 +0200

    Metainfo: Add content_rating

    See osdn #46375

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 793da04869d244cc9b112dba01cfac799b85e86c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 30 02:52:58 2022 +0200

    savegame: Fix unit action_vec "unused entry" warning

    See osdn #46352

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 30eea059276aa5018f8dc9257e18fee8dbd2e15d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 29 04:55:09 2022 +0200

    rusyn.ruleset: Reinstate 'â€“'

    We support non-ASCII characters in the nation legends nowadays.

    See osdn #45943

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit db712fd051a756a616031b96b8cdd847eb75c31e
Author: dark-ether <henrique.hsa2002@gmail.com>
Date:   Mon Jul 18 16:26:02 2022 -0300

    Rulesave: Save actions to actions.ruleset

    Minor modifications by Marko Lindqvist

    See osdn #45065

commit c1610ff48704eac429bae7d0c271926c0ebbdb11
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 30 02:43:29 2022 +0200

    freeciv-manual: Remove ruleset name from server options page

    That page is ruleset-agnostic, and we don't want to upload
    it separately for each ruleset.

    See osdn #46381

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d9149f10835510d6ad4a745060aefa561e1d350b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 2 23:31:01 2023 +0200

    POTFILES.in: Add actions.rulesets

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c64c6775107816132d883209c41f5dfb971e9976
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 27 23:45:14 2022 +0200

    gtk: Fix dead 'bg' assignment in create_tech_tree()

    See osdn #45687

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1520b3bc1f5033b3e26c2f4afea4d92762062e74
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 29 21:53:06 2022 +0200

    installer_cross / Meson: Explicitly set min-win-ver

    See osdn #46379

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c3f976b668ee055227d70e79378af4ef3dc10723
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 24 21:57:23 2022 +0200

    Split "Shrink_Food" effect type from "Growth_Food"

    Requested by Alina L

    See osdn #46291

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ddb81fd8a0fba016c5b4d088db9412426ea2623c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 1 22:40:30 2023 +0200

    Initialize mutexes of the low level fallback functions earlier

    Make sure fallback fc_vsnprintf() mutex is initialized
    before it's needed, and not freed as long as it's needed.

    - fc_interface_init() renamed as libfreeciv_init()
    - free_libfreeciv() renamed as libfreeciv_free()
    - libfreeciv_init() takes a parameter telling if
      fc_interface check should be done, so programs without
      fc_interface can use it
    - libfreciv_init() call added to modpack installer
    - In other programs libfreeciv_init() call moved earlier,
      as needed
    - init_nls() / free_nls() calls moved inside
      libfreeciv_init() / libfreeciv_free() to have them
      exactly right time

    See osdn #46418

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 74dc20e414d701fa7701e73cd38bac1d16228a69
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 31 08:34:08 2022 +0200

    upgrade_ruleset_sync.bash: Update S3_1 revision to fetch

    Get a S3_1 revision with redundant action range entries
    from stub ruleset removed.

    See osdn #46399

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a2671427c75de554fe9627467667ccef049afc65
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 29 03:23:44 2022 +0200

    Make is_..._city_tile() to return bool

    That's what their name suggest, and what most of the callers expect.
    Returning a point to those callers was causing an error when compiler
    is following c2x standard.

    Added tile_..._city() family of members that those former
    is_..._city_tile() callers that actually expect a pointer call instead.

    See osdn #46306

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2cf0afcec591dea091f5db2655e1b15d04e7354e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 27 03:29:13 2022 +0200

    gtk4: Add Disband to citydlg unit context menu

    See osdn #46368

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit df842318f8cd53f2cad57118f6d927dd7d5dbdf7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 27 03:53:54 2022 +0200

    Update msys2 environment to 221223 level

    - Update to upstream snapshot 221216
    - Drop Qt6 from x86_64 (it's in preferred ucrt64)

    See osdn #46338

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9dc4f9e0f3daddf685aee6e15ec634f0c7ab5150
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 29 21:24:54 2022 +0200

    Add ruleset setting how pop_cost unit nationality gets chosen

    Requested anonymously

    See osdn #45932

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 08082fba1aa9a471965801663d585b65592de1e9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 25 16:30:19 2022 +0200

    Replace localtime() calls with new thread safe fc_localtime()

    See osdn #46228

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 94acc594989c44b8688ce380b279d60737477ddd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 27 04:56:48 2022 +0200

    japan.svg: Refresh

    See osdn #46371

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit afce851d2a4c7175fd5ea33061b56118e0bf925e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 1 05:38:16 2023 +0200

    Bump .spec capstring

    See osdn #46388

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d7df5f393b2c63bf527c3b1ba314e21d6de3a583
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 25 14:38:02 2022 +0200

    gtk4: Add Drag&Drop to worklist editor

    See osdn #46361

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7be539c1835f720baf7260615779be480ec21ab5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 25 20:18:54 2022 +0200

    Add SDL2_rotozoom from SDL2_gfx under dependencies/

    See osdn #46320

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e44e152a46ad850d9823d86465a47c86f708edb4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 25 19:09:31 2022 +0200

    Execute unit orders after actual TC activities, and AI start

    Anonymously requested

    See osdn #46363

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 18d8ce6c2bf36738b28c7203d2975c547ab5d3ef
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 31 08:19:46 2022 +0200

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4bf95086dbcce4ece99f4e04110a3a53586bf488
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 24 22:05:28 2022 +0200

    Fix unused assignment in assign_continent_flood() with FREECIV_NDEBUG

    See osdn #46349

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6c579fb88de9448fb96e70eb89fe8797a0c6e08c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 26 03:02:23 2022 +0200

    Clarify Helicopter and Airbase helptexts when Air units unreachable

    Rulesets that have Air unreachable Air units, had a bit misleading
    helptext about the way Helicopter is not such an Air unit.
    The exception to Air units' unreachability provided by Airbases
    has similar wording.

    Reported by MikeDuk

    See osdn #46045

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9b926686d4a1badde9c3192abd54780b22c20c03
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 24 16:30:04 2022 +0200

    sdl2: Drop unused 'pcity' from upgrade_callback()

    See osdn #46348

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6e84188bf8d24097f0bd1a95851059c86991d43c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 24 14:21:00 2022 +0200

    Meson: Add support for min-win-ver option

    See osdn #46347

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3ea40f4be3a9680a29b906e322a2c1f4f7713c19
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 30 16:27:22 2022 +0200

    Comment typofix: "reprentation" -> "representation"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ac6a1a511f667c4f53ca96911944663f53ff2209
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 22 23:47:57 2022 +0200

    Add default.modpack

    See osdn #46335

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 503916d3727df652203fd234dc786bfa0229e653
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 24 09:01:06 2022 +0200

    Do not count dead players towards ready/unready players in pregame

    Server and clients:
    - Dead players do not affect whether game can start or not

    Gtk- and Qt-clients:
    - "Start" button is never sensitive for dead players

    See osdn #44621

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 514cc7133752894e874c424ae36e0059ae1cc5c5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 25 02:40:11 2022 +0200

    civ2: Add missing space to Freight helptext

    See osdn #46356

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9315cdc213dbaba2e1f70ad5c3ad370b3d924a35
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 30 03:19:49 2022 +0200

    Comment typofix: "UNIT_BORAD" -> "UNIT_BOARD"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4111fac4e3753d60a72c3ad2e589d2adb1c458d4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 24 09:22:24 2022 +0200

    gtk4: Add game saving menu entries

    See osdn #46341

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 15d5002c22069974b7b88fffdb3e3aae61370a83
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 23 19:29:21 2022 +0200

    Refresh gnulib-common.m4 from gnulib upstream

    Serial has not been bumped.

    See osdn #46337

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2ec55a9d3b5df7b61ec881810f92b851c6bb540f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 25 10:38:11 2022 +0200

    Stub: Do not set nuke action ranges

    See osdn #46360

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4070e14b5371963c7ecee22abea3a52cc4c93259
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 18 22:40:04 2022 +0200

    rulesave: Fix clang analyzer warning about strcmp(NULL, ...)

    See osdn #46292

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1e89d569066793f79faf5fb3bee74e167bfce773
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 23 18:26:27 2022 +0200

    Tell user's relation to other player in score tooltip

    List if the nation in question is the player themselves,
    their ally (relevant especially when alliedvictory enabled),
    or someone they are at war with.

    See osdn #45792

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8b27f148407e657abf994030a8c8592526ee4516
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 23 02:02:49 2022 +0200

    Tutorial: Don't indicate that cities could be built on Montains

    Current default ruleset, civ2civ3, does not allow cities on Mountains.

    Reported by ihnatus

    See osdn #46229

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0e6abe08f9ee80dd758efaafd05a6f15cbfed845
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 18 13:34:03 2022 +0200

    flatpak: Move under platforms/ in source tree

    See osdn #46309

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ab25389041d0b9561ef3acee80fd706e250bda2b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 22 22:14:18 2022 +0200

    Add lua signal retirement support

    See osdn #46332

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6cb7d6a1c8149f101c88a5497009fc180c1bc1d1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 24 17:34:42 2022 +0200

    Use libcurl mime API when available

    See osdn #46345

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c2f8daa94833a7b45f023530608e445f439cd956
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 21 23:18:20 2022 +0200

    india.svg: Refresh

    See osdn #46329

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a37633446c7e94591c7ad5c67ff4bc432df01dca
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 18 19:58:00 2022 +0200

    gtk4: Add "Dead Players" entry to plrdlg Display menu

    See osdn #46311

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f19d1c142e669b528f8f8c023dc58bd0829197e4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 24 08:27:50 2022 +0200

    Emscripten: Fix threads setup

    See osdn #46334

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3fb50b9581cc357c936ba28cce28273bb7bc0089
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 27 17:37:07 2022 +0200

    Update Finnish translation of nations domain

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0788de33fd98b9c68ab23e4c80fa7bc7f24fa1de
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 24 22:41:04 2022 +0200

    Correct load_action_names() ruleset version check

    - Do not override existing version, but do the check against it
    - Do not call load_action_names() at all when loading 3.1 ruleset.
      As 3.1 does not have the ruleset file, 3.2 would be found first in
      the path.

    See osdn #46350

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit acf6f03cee4bd30b541abb021529b869c442dc95
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 18 17:18:34 2022 +0200

    Return FALSE instead of NULL from player_has_color()

    Also drop unused tilespec parameter from the function.

    See osdn #46310

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5acf2ee60f8259b1611215ce229358ea3862b94d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 25 04:28:09 2022 +0200

    texan.ruleset: Fix broken msgmerge

    See osdn #46358

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 78c2fafec2b79f3926e973e370e2cca085d6abbf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 17 21:49:27 2022 +0200

    gtk4: Add sentry/fortify to citydlg unit context menu

    See osdn #46238

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bd8a731f34216641e44756f91bedb9d7f3e5d101
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 18 00:38:01 2022 +0200

    Add configure check for C23 nullptr

    - Adjust existing C++ nullptr arrangements so that they don't conflict
    - Add meson build handling for both C23 and C++ nullptrs

    See osdn #45486

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e569824ea25a00fb2bb0694791de754c7fdc558f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 18 21:04:06 2022 +0200

    Drop deprecated unit_activity values

    Earlier they were left as placeholders, back when
    we couldn't let the values following them to change.

    See osdn #46312

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2020f796cbf38cac8b4355611d73cb93e0e3436e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 20 05:35:06 2022 +0200

    Clarify pf_fuel_pos_replace() header

    See osdn #46149

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1e92938399db22881e400758c6d40114db492936
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 24 09:38:08 2022 +0200

    Stop using C99 for() scope

    See osdn #46344

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ffe8b734d293a5c1001cbc4ab3e7227c2dd340ea
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 17 15:17:38 2022 +0200

    sdl2: Fix widget_scrollbar.c clang analyzer warnings

    Make some function parameters nonnull, so clang analyzer isn't
    worried about NULL dereferences with them.

    See osdn #46293

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 86da3bbda1e62dfa9d35525bdd78a93a5ae271be
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 23 04:02:09 2022 +0200

    CI: Correct documented date of the msys2 snapshot

    See osdn #46339

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e40b4645b18034e2bf9e53269bbe0664c0adef17
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 22 23:15:16 2022 +0200

    Always use system tolua in emscripten builds

    See osdn #46333

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 41fd6a3d566eeb59e8d01ee27cbc0869ea06a114
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 17 23:18:18 2022 +0200

    Store array of extra specific clean times on terrains

    Internal structures reorganization only, not yet exposed
    to users.

    See osdn #46304

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 64d4a7c52991d7e625db82e5f80f49af03ddd5a5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 18 12:49:00 2022 +0200

    Savegame: Fix "unused entry" warnings about random seeds

    See osdn #46144

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e7a24cfff2b4992fb37b6d6ac27ad24969efa523
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 25 01:51:51 2022 +0200

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 24c3e4dd755b2dcd7c38ceb7692a2d423842f7a2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 16 20:08:11 2022 +0200

    gtk4: Add Fullscreen toggle

    See osdn #46294

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 340cdf0eed2e129ffc246f3a95304a80df1daab0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 25 00:13:00 2022 +0200

    Comment typofix: "bellow" -> "below"

    Also changed one "does" -> "do"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0037b3a42e022d29d90ce26e9abee5761d9eaef9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 18 10:11:20 2022 +0200

    Pluralize helptext about extra's no_aggr_near_city distance

    See osdn #46307

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ae02f39ccb9237a123571012ca2de1e6a957fcd5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 17 20:32:36 2022 +0200

    Msys2 autotools: Set default MIN_WIN_VER by MSYSTEM

    See osdn #46303

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2ce117e444578b2b7de290179cc3969477b5d4d2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 21 03:44:39 2022 +0200

    Reserve MAX_LEN_PATH bytes for scorefile name

    It had just MAX_LEN_NAME

    See osdn #46316

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 107b913988f8c604a8bd465e23a83df0557877e6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 17 17:10:28 2022 +0200

    Change occurrences of "defence" to "defense"

    See osdn #45309

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5961c59520a2cfc833ff84ca6412ef2dff1e497b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 16 05:49:18 2022 +0200

    Qt: Sort nations dialog using type specific logic

    That's available from client-common code. Qt-client used
    to sort everything as strings.

    Requested by Chippo Elder

    See osdn #46289

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2dd02527ac6dc04cb9e54097bf204f991fac8e99
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 17 15:00:10 2022 +0200

    gtk4: Fix "Nuicanse" typo

    See osdn #46211

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ee079cadab79c79029da02b81c4a0033cdd69265
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 17 02:00:45 2022 +0200

    Msys2 Makefile.meson: Add exchndl.dll to installer packages

    - Also add its dependencies
    - Rework Makefile so that ruledit gets common dependencies
      without listing them second time

    See osdn #46296

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9b107a7ebeaade937d6ff7a50c6c4b0f263508d3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 17 15:32:37 2022 +0200

    Remove redundant checks for cleaning actions

    When we've selected target extra from the list of cleanable
    extras on the tile, we don't need to check if it's cleanable and
    on the tile.

    See osdn #46120

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e04af7bd2c62d5f06a0a583f246f812eeed1b362
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 17 16:42:12 2022 +0200

    Refresh unit vision at turn change

    Requested by Louis Moureaux

    See osdn #46182

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f362d1ef8c937286fc1557f3f5bf7da20a18441b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 17 13:41:42 2022 +0200

    Fix gcc-13 compiler warning

    See osdn #46300

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 41e2055736b3cbcd35b3759b5de5d4f12611bdc6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 16 00:47:31 2022 +0200

    gtk4: Add Team entries to connectdlg context menu

    See osdn #46237

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 815b920bf0b9c2724a4a57a1c946578137eca24b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 16 22:18:11 2022 +0200

    installer_cross: Always print build errors to stderr

    Some errors were being printed to stdout

    See osdn #46127

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f48ff396e951abfc5a75ed891b4d193455a415f8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 16 19:50:41 2022 +0200

    Add req_range based checks for purging worklist items

    In some cases whether a requirement can ever be fulfilled
    depends on its range. Add checking for some cases to
    worklist item postpone or purge decision making.

    - Improvement or its genus can't change at local range
    - Nations can change on certain ranges only

    See osdn #45563

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bce9615412807c8553fded07cc24ec97a15adf45
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 17 14:01:05 2022 +0200

    AI: Don't consider negative EFT_GROWTH_FOOD effective

    Several places were checking if the EFT_GROWTH_VALUE is exactly 0.
    Turned those to consider negative values similar way (actual effect
    is clipped between 0 ... 100)

    See osdn #46290

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 14eb71ed4d35a5a3f146e3b78f96256ee5e45e55
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 22 00:32:11 2022 +0200

    Bump version number to 3.1.92.4-dev

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit caa6899ef7033d4771847f68c01359ed3d200e62
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Tue Dec 13 23:18:45 2022 +0300

    AI: Improve unit danger calculation

    Look at "Attack_Bonus" effect. Look at action enablers that may fire.
    If a unit may occupy city or bring occupiers, never consider it
    completely harmless.

    See OSDN#46046

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit 9d3b531027cc79871a06e42c8abd6d77829a377e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 17 05:44:38 2022 +0200

    europe.svg: Refresh

    See osdn #46298

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1cf9e9ee20191997bec2008d54a4f2cc2fa16375
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 16 03:16:03 2022 +0200

    CI: Build msys2 ruledit installer with meson

    See osdn #46283

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 03d607b4bac76b252ef77ffb1e42508b8945c8dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 16 21:29:35 2022 +0200

    Support action enablers in actions.ruleset

    See osdn #45064

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7a688d6c65a46fb2af9280b4fc5af73750f6c297
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Wed Dec 21 07:35:19 2022 +0100

    Updated French translations

commit 137f50b7a37d09186acc342d4e99a28cbc30ac50
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 10 07:31:02 2022 +0200

    Check Casus_Belli_Caught after failed paradrop

    Seee osdn #46174

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7da9b0e45f1d951593c04b061eb7c3d23988fa2f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 14 00:47:12 2022 +0200

    gtk3.22: Add max_growth CMA setting support

    See osdn #46268

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a1eecaeddcf52bc74757d709fb4613e37040fa02
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 19 00:55:50 2022 +0200

    Qt: Add max_growth CMA setting support

    See osdn #46315

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2cd9033f3414f7f6e3ea5d89ce4a9c8cdde4b425
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 14 03:56:43 2022 +0200

    generate_specenum.py: Mark generated function headers for doxygen

    See osdn #46004

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4654655364b73a3f6d0ccf70697d162dcaf428af
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 14 03:47:07 2022 +0200

    aicore/Makefile.am: List sources in alphabetical order

    See osdn #46108

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 50d89febdebf5e193802e9c395f25508022d1178
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 15 21:36:41 2022 +0200

    Rename packet_city_rally_point city_id as id

    Freeciv-web expects consistent naming of the city id in
    city info packets

    See osdn #46282

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e049dcdf96ab234fc3ba84f11cc4b6b489e85e06
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 16 19:09:32 2022 +0200

    cityturn.c: Fix NULL dereference clang analyzer warning

    From check_city_migrations_player()

    See osdn #46204

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5e77763bc1c9a75fd5526527d8fbae3f30a7e217
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 10 12:54:54 2022 +0200

    Qt: Add action confirmation dialog

    See osdn #46194

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6bf28a63321eaba34a89bea0329569f0725a76b1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 10 16:54:08 2022 +0200

    AI: Update comments referring to old ai_unit_new_role()

    See osdn #46177

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2e9f85b7c1106ab07f1b0d0999af2341e1f06c0e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 10 10:59:53 2022 +0200

    CI: Add build with tcc

    See osdn #46236

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b6091d75108a0ffa5b4700a4bd164c955538d046
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 15 19:48:30 2022 +0200

    Inform client when the server side CMA gets enabled

    See osdn #46279

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 011090c5febb15acdf40a7e7b2bce5e1e6e5dfdc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 15 23:35:53 2022 +0200

    Client: Use setdef to decide whether store server setting

    Replace old check if the settings current value matches
    internal default with check if it's supposed to be some
    kind of default.

    This means:
     - Ruleset defaults are no longer saved as "non-default"
     - Value explicitly set to same as the default gets saved

    See osdn #43748

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3f4d216e9842de6f13620f90a6c23d47476940f5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 10 12:35:19 2022 +0200

    sdl2: Add "Clean" action button

    See osdn #46241

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 070a844a34680c0fb75d2b0879c51c724978ebe3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 18 03:15:37 2022 +0200

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d1331a16b8fcfacd84c60d4bf9ffbcf2a53d49ca
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 15 19:02:49 2022 +0200

    hessian.ruleset: Fix duplicated " a "

    See osdn #45936

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 197de12caf8ce81961a4b81da3cd887da92d3f57
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 10 05:46:10 2022 +0200

    Meson: Add langstat_nations.txt target

    See osdn #46197

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7df55a24b39a050325d9103c5df45e33f02ff36e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 14 01:28:34 2022 +0200

    ruleset.c: Stop processing after failure in actions loading

    When ruleset loading encountered an error on processing action enablers,
    it often still tried to do some further actions.

    See osdn #46196

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1d00f2a84b9bd6a66d6e497ae6ff63b2c9e47d7f
Author: Michael Ortmann <41313082+michaelortmann@users.noreply.github.com>
Date:   Tue Dec 13 12:00:20 2022 +0100

    Fix heap-use-after-free

    See osdn #46276

commit d7e1b7120c8e88ccd169620d0af0c6209987eb57
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 14 02:26:13 2022 +0200

    research_invention_state(): Return tech_state_invalid() on failure

    It was returning '-1'

    See osdn #45831

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5d580200cdcb7d24ba311a0ec5fa7a447202b5ef
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 17 07:28:36 2022 +0200

    Drop unused variable 'sz' causing os_x build failure

    See osdn #46299

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 84335056764c41f967391a37689e19046ef8c5be
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Tue Dec 13 00:12:36 2022 +0300

    Evaluate requirements in a vector with an arbitrary callback

    Provides the evaluator tri_reqs_cb_active() that
    takes the requirement vector, the callback, the context
    and some side data and tells fc_tristate for the vector,
    in process it may collect the uncertain requirements
    in another vector.

    Also, provides an example callback default_tester_cb()
    that consults a table of requirements that are
    considered true disregarding the context, and if neither
    of those requirements gives a definite value for
    given one from the vector, evaluates it usual way.

    All this is a base for upcoming patches.

    See OSDN#46266.

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit b397bb995c01cbfe3951a8274184bcb0424d7575
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 17 04:56:31 2022 +0200

    Update Finnish translation of nations domain

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7ce32947ca3fbd587585d92532cf1cefaf6a165f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 10 16:45:46 2022 +0200

    texan.ruleset: Fix "independance" typo

    See osdn #46181

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bb7df1ff78127e9331801ac94403918e62bf6ce5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 10 10:54:18 2022 +0200

    gtk4: Fix citydlg right_..._unit_release() dead 'pdialog' store

    Remove also 'pcity' consequently made obsolete.

    See osdn #46201

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 384885f917dc229cec49ce7eadeb0db486e1c196
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 10 14:42:29 2022 +0200

    Make metainfo rule to respect automake's silent mode

    See osdn #46185

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c3b8856d8c5543279305028f64bc30d7635b6abf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 14 01:21:27 2022 +0200

    savecompat: Do not add routes_max_length to savegame2.c saves

    See osdn #46187

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ec2a4eeb519d4b13d02715015fe1cfac446e058c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 10 06:24:45 2022 +0200

    Add Spy elimination effect to most rulesets

    Add to:
    - classic
    - civ2civ3
    - multiplayer
    - goldkeep
    - webperimental

    Already in sandbox

    See osdn #46173

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cd109763b9c430fc3ec519b9c35606833ffb70a8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 10 03:57:22 2022 +0200

    gtk4: Add max_growth CMA setting support

    See osdn #46234

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3dac971a779175b38d8bad86ef177d72142a504b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 10 05:56:17 2022 +0200

    stdinhand.c: Remove double spaces

    See osdn #46212

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fb3a1f16447fed9f1daf04f96988273b07096f9f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 16 02:22:14 2022 +0200

    FAQ: Update latest stable version number to 3.0.5

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e3d1cb5f1325cf17ae5c903bc0be15a91efdad64
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 6 04:32:48 2022 +0200

    Msys2 Makefile.meson: Add ruledit installer

    See osdn #46133

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1c0b52a67d11ab519f104d4d9faaac9f1b46f8da
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 15 18:54:05 2022 +0200

    Trick 'make dist' to build tolua it needs later

    See osdn #46275

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 83a1ed917b6255b7f3c44fc1ef1347f392caaa40
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 15 18:03:45 2022 +0200

    city_rally_point_receive(): Remove nonnull attribute from 'pcity'

    Only 'packet' should have it.

    See osdn #46278

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6495a4db42de34dfa70461328d85e2eacdc57909
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 6 11:25:31 2022 +0200

    Fix assert preventing setting "Restricted" AI level

    See osdn #46214

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ef70fdc5d80a3d6aa6e0694636ea728a1418e581
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 5 18:01:43 2022 +0200

    city_rally_point_receive(): Give parameters nonnull attribute

    See osdn #46200

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 474e75c92e11245bc3a61d7fafb817f33e17bb04
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 8 19:35:49 2022 +0200

    INSTALL: Document gtk4-client

    See osdn #45607

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5bbc6acd13f514c596785182960d2119b01365ae
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 5 19:51:12 2022 +0200

    gtk4: Implement worklist keyboard handling

    See osdn #46198

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3972dc898ea6d09372b0989449163fd0b750ae6f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 5 17:17:38 2022 +0200

    Prefer freeciv tolua for native build

    See osdn #46199

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ca63bb016d4b9ab9042731d92074f8bcf455bf93
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 6 09:09:41 2022 +0200

    Disable server side CMA when overridden

    See osdn #46213

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eee6a27fd079b7e95aa3017c99ff4bc9b94e0570
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 6 18:58:58 2022 +0200

    README.msys2: Update with info about "win64-10"

    See osdn #46223

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1dc14112654c2f36c364692561a2f82ad66e7176
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 4 15:33:46 2022 +0200

    Make movement.[ch] functions to respect their nmap parameter

    They had main map usage hardcoded for some subroutine calls.

    See osdn #46122

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b3b5989b248b1cb4fe09bac92838b0335ed3aacf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 4 19:57:33 2022 +0200

    gtk3.22: Add action confirmation dialog

    See osdn #46163

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1e2fc6f9d01013b5b4935da6c8a88f8146c1afd2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 5 20:44:34 2022 +0200

    Documentation: Add gtk4-client to the client lists

    Also create a man page link for it.

    See osdn #46006

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 76835b9f79e2e453a737bc53029d533fcafb0297
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 4 10:21:12 2022 +0200

    Update ruledit screenshot

    See osdn #46184

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7b0fcbb760d4b7169039aa4230871e7219309522
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 5 20:20:49 2022 +0200

    Add team embassy diplrel requirement types

    Add diplrel requirement types "Has team embassy" and "Hosts team embassy"

    See osdn #45073

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 781967688593918a3011a1706f2eb1523b12fd6c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 4 09:52:26 2022 +0200

    gtk4: Fix accidental double accelerator

    See osdn #46183

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4cab5d9a0e2fa958213fe3060569b4efec2dc55d
Author: SÅ‚awomir Lach <slawek@lach.art.pl>
Date:   Tue Dec 6 13:59:20 2022 +0100

    Add city celebration counter

    See osdn #45488

commit ad1a5f715de8ddcf9c90cedbd0117865b102d0ab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 29 04:48:14 2022 +0200

    Qt: Fix comment referring to "top 5 cities" report

    Amount of the cities in "top cities" report is no longer hardcoded.

    See osdn #46142

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2eab2c90385c1bbf573637ec544182079c560df4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 3 23:21:06 2022 +0200

    gtk4: Add extra build menu entries

    See osdn #46179

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 03a9fd03dcf95e2ee9c21e3dffa53ff6a770fce2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 6 13:50:22 2022 +0200

    configure: Check if C11 threads work also with C++

    Do not select C11 as threads implementation when
    it doesn't work with C++, and some C++ components
    are to be built

    See osdn #46216

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b50c92b246eab1c9da18f01991ce09404c7763df
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 5 16:43:33 2022 +0200

    Ruledit: Fix handling of empty effect comment

    See osdn #46202

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 449e8709aeac09637b62110ee64a1ae793c56da5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 4 16:51:01 2022 +0200

    Drop MAX_NUM_CLAUSES

    It was already unused.

    See osdn #46193

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4e87b62483924f031f8bc41c77c3bbc3f17a21af
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 3 22:42:08 2022 +0200

    gtk4: Draw spaceship dialog

    See osdn #46178

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 317c1e5eadd45f274937f10608b4e1e933bf36fa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 3 13:57:21 2022 +0200

    Metainfo: Fix release tag format

    - Place <release> with <releases> ... </releases>
    - Never create release tag with no date set

    See osdn #46168

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit caeebac22777998632bf8a6ecbb87915d07d02b3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 10 17:33:40 2022 +0200

    rscompat: Register cleaning action enables to correct actions

    Fixes ruleset resaving error seen on CI

    See osdn #46243

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4dc49e342dddef4df06c78c3e841a099a0b575f9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 3 12:15:46 2022 +0200

    rscompat: Setup "Clean" action enablers

    See osdn #46166

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a22eacd573f1ac48281c19e10047e9f85922b343
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 5 21:33:24 2022 +0200

    Bump sdl2 theme capstr

    See osdn #46209

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f0108242933c0b45b5751a376f2cfdae19b5c59d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 4 06:56:06 2022 +0200

    Rulesets: Clear extraneous StartUnit roles

    Mainly from classic/multiplayer/goldkeep/webperimental

    Additional changes to civ2civ3/sandbox touched
    earlier already.

    Requested by Alexandro Ignatiev

    See osdn #45984

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b10f37afc968e9069ff770a82c8a54daf20e10c9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 4 20:43:46 2022 +0200

    Correct diplomat_embassy() header

    - Don't claim that barbarians eliminate ambassadors
    - Fix copy&paste action name error

    Reported by ihnatus

    See osdn #44872

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dbffbb033031e1f98c8efd4b56a17a50c4308f03
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 3 14:34:45 2022 +0200

    gtk4: Add (un)load entries to citydlg unit context menu

    See osdn #46169

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 74e3c8c6d9ad8196b25dd05ba2e1cf3668c39160
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 6 22:16:25 2022 +0200

    fc_prehdrs.h: Make sure zlib.h is included before readline

    Fixes a problem seen with tcc.
    When readline was being included first, it sometimes defined
    macros that system headers tried to define again.

    See osdn #46225

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b5dfcbe31395691a5afeb69091de3c7707a3e063
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 3 21:12:25 2022 +0200

    Drop FREECIV_DEV_SAVE_COMPAT_3_1

    See osdn #46170

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5cfd348d72d97c59066239fea8bb491bbe7619e6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 4 13:50:15 2022 +0200

    CMA: Make SAVED_PARAMETER_SIZE big enough to hold max_growth

    See osdn #46189

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b5090890b753e9ebd42fd31df95aa609288a007e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 4 00:28:32 2022 +0200

    README.effects: List actions supported by casus belli effects

    See osdn #44197

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b1e0666b64575f5cb18442e96dc237381e85025d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 6 11:23:11 2022 +0200

    gtk4: Add AI level entries to connectdlg context menu

    See osdn #46215

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5a4b947ada15f3dd4b728258328ec43b205f3799
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 4 10:41:37 2022 +0200

    macos: Add homebrew-appbundle.sh build script

    Based on patch by ddeanbrown

    See osdn #44549

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 51feb7a2af98a2c5fb000d5c456f17f724b53c82
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 3 11:11:16 2022 +0200

    Score: Add units_used counter

    See osdn #45628

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0749007055ea0bc19a44794e8ac58a32d6d91b94
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 3 10:17:45 2022 +0200

    helpdata.txt: Stop saying that irrigate or mine can convert terrain

    See osdn #45810

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5bf0f3216bb65b0eb8d3577d4826194b68dd0288
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 8 01:41:01 2022 +0200

    .gitignores: Remove .a entries as *.a is ignored in root .gitignore

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b7d39bfb12879b246539d035a6dd31e8e4bb5b2d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 3 20:56:07 2022 +0200

    Qt: Improve repodlgs.cpp,h coding style

    See osdn #46175

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3ea0944430bab1108bc4429472e335b3cad9fc98
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 3 09:13:27 2022 +0200

    gtk4: Add action confirmation dialog

    See osdn #46164

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8fc1d89ee7403921dc50568e790bfdae2e57f49e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 3 07:34:52 2022 +0200

    Meson: Add langstat_ruledit.txt target

    See osdn #46141

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a953cd2f07549fc86b633337f54ca972c7f0304b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 3 08:16:52 2022 +0200

    Update "%s is done to %s%s%s" TRANS comment

    See osdn #46161

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b95f6672fe5d7ea24c976799a0b887118c68f4ef
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 3 07:12:01 2022 +0200

    Add enablers for "Clean" action in supplied rulesets

    See osdn #46139

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9c47dddc11e4c1bb4ddd601c9bfb9b797c17b252
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 3 21:58:10 2022 +0200

    AI: Check that hunt target is targetable

    Fixes segfault when there's nobody to attack at target's tile

    Reported by Lexxie

    See osdn #46176

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c1f40433e9eddcf49a53f14ac0ac46b7386fe3b1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 29 01:51:18 2022 +0200

    gtk4: Add cmdlevel entries to connectdlg context menu

    See osdn #46140

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 286a70a1cf7885699336d4620e7dfc133146bba8
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Tue Dec 6 11:28:18 2022 +0100

    Updated French translations

commit 9281db400eed9f7fd8cb381bf7aec8d3d1bfe877
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 1 20:16:18 2022 +0200

    installer_cross: Check that crosser setup is supported

    See osdn #46126

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2a2d72fa88ffa8a98e3834ddacff7c085ef12af5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 3 08:25:20 2022 +0200

    Fix conn_pattern_from_string() dead initialization of 'type'

    See osdn #46162

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6662b8fb13d28a8ce589b69287032d3c83f7bda3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 30 05:01:29 2022 +0200

    Increase MAX_LEN_CITYNAME to 120

    See osdn #46096

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d9e69a684088f56be01895fecf4e264f0bed2e0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 3 10:03:25 2022 +0200

    AI: Assert continent number sanity in dai_data_phase_begin()

    See osdn #45867

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ff8a06244670a82a7350c75499567814384ac11b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 5 22:52:21 2022 +0200

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e48cba6514d51cc7410e64a47128fc0e219c34c8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 28 23:05:24 2022 +0200

    gtk4: Add "Clean" menu entry

    See osdn #46138

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bcc5f380cb8ac71ffdef4750e0e5113a2a4d3b39
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 5 16:22:35 2022 +0200

    Update Finnish translation of ruledit domain

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 28efeaf6ced9fcb4fee30e5659df9a28b073fe15
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 30 03:40:17 2022 +0200

    flatpak: Give OpenGL rendering permissions to sdl2-client

    See osdn #46145

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 278ebf5bd07ea5d0d5737168b37d65cc372594a8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 28 05:32:41 2022 +0200

    Add effects' comment support

    See osdn #46131

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1352525e4ede68f052d75fd18fc4a3353f8e1cf2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 29 18:00:57 2022 +0200

    README.effects: Improve Visible_Walls documentation

    - Correct effect name.
    - Tell maximum value supported by the tileset format
    - Tell how higher values are handled.

    Requested by Lexxie

    See osdn #46146

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 56019cfbd733f660f686e1b01111b78b104e99a4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 2 05:49:52 2022 +0200

    Path finding: Make pf_fuel_pos cost an int

    Node cost, which is an int, gets assigned to it.

    See osdn #46136

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 512da2351598321c0af2a163f912c3d1b6224357
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 27 23:52:55 2022 +0200

    sdl2: Fix Tile menu "Paradrop Here"

    See osdn #45981

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fb96fce73d027bc792cec4b322be7f3bd092f1fa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 4 13:55:00 2022 +0200

    Comment typofix: "uptodate" -> "up to date"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9e667cc5fc89a61e845a7c53829f4920f2f9f031
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 28 21:58:00 2022 +0200

    Meson: Substitute @FREECIV_STORAGE_DIR@ in fc_config.h

    Reported by ddeanbrown

    See osdn #46134

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 46367c7e1c2294705c79b0312f3f4f1239a7be52
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 4 09:35:25 2022 +0200

    Comment typofix: "domeestic" -> "domestic"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5f60099d26677cc22dd21260b93dba9cadadee8c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 4 08:35:44 2022 +0200

    POTFILES.in: Add rulesave.c

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3ad0691b1016359bd04b8dbdeac7d8b6835a6d64
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 28 16:46:36 2022 +0200

    Correct pf_fuel_pos_ref() header

    See osdn #46135

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7084dab4382d54a04b711ce0c3fdef64e4e885b4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 4 07:37:41 2022 +0200

    Update Finnish translation of nations domain

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 372b1fc969cd97441aca628c58714165f13096f8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 27 22:52:13 2022 +0200

    Stop registering hard requirement that has no users

    The only user has been unhardcoded not to need the requirement.

    See osdn #45910

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 898731839bf0ea976788946ffdb9f482fa928b4c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 26 15:40:52 2022 +0200

    lua: Check legality of unit_move() and unit_teleport()

    Reported by ihnatus

    See osdn #44769

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 87cdb9431a454090af14928e2a317ea2275dafb6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 27 00:09:29 2022 +0200

    gtk4: Add unit activation entries to citydlg unit context menus

    See osdn #46123

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 91af0d95670e7bb6e89d2e260aa395bb4a217caa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 3 15:22:23 2022 +0200

    Comment typofix: "Auotexplore" -> "Autoexplore"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3ba65105ddac41445ed9d24edcc2aac08ddddf15
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 27 21:52:29 2022 +0200

    Update sdl2-client screenshot

    See osdn #46130

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit daf0be6919ee786720f0d2073ccbb9d541c89501
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 28 00:53:28 2022 +0200

    CI: Build msys2 qt6-installer with meson

    See osdn #46128

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dd3b3739bcc5f0d6a4c08ad3e2fdfd67bb899a80
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 26 14:20:57 2022 +0200

    Client: Add confirmable actions framework

    Requested by Alexandro Ignatiev

    See osdn #46115

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8ead74ebb50abadbe13e1a8aca69731681febf30
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 3 08:12:55 2022 +0200

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 68194533a753c330ae0d6b60151bd0cca433670d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 27 13:52:04 2022 +0200

    specpq.h: Mark inline functions for doxygen

    See osdn #45738

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d28a35bbbc0404146eca167da4b9b5c77b698d02
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 27 22:06:24 2022 +0200

    Client: Clip wall value from PACKET_SHORT_CITY to NUM_WALL_TYPES

    Based on report by Lexxie

    See osdn #46092

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d5b096f6f3c0ad79b1ba5eb4408439380431a4bc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 26 14:46:23 2022 +0200

    gtk4: Make icon_label_button to prefer label over icon

    See osdn #46116

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 602a57661d5638c20412df6e7102785a9c6e5fd0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 27 13:27:06 2022 +0200

    Meson: Use explicit 'setup' subcommand

    See osdn #46103

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fe68d4e9e5d6c8599bd96784b36703965176a696
Author: uruiamme <uruiamme@users.noreply.github.com>
Date:   Fri Nov 25 21:57:47 2022 +0000

    texan.ruleset: Update and cleanup

    I added more historical cities after Waco, the last of the
    major cities in the list. At least 14 towns are now on
    the list for historical reasons ... some are either
    tiny towns or nonexistent in the 21st century. I didn't
    change San Antonio to its original (de Bexar) Mexican name,
    though. Towns of historical significance make up the bulk
    of the additions. There is nothing I know about either
    a "Boston" or a "Tuna" (gone), but there is a "New Boston"
    in the updated list. Dallas and Fort Worth arenow sequential,
    as are Bryan and its sister city. A few Houston/Dallas
    suburbs made the list. I reordered some minor towns.
    And fixed the legend to include the dates of the Republic,
    mentioning the Alamo, and San Jacinto.

    For the updated suggested locations, I found a couple of
    mountain towns very useful, plus extended the avoidance of
    having coastal/forest/wet locations be located in
    the mountains, etc., etc. I think a lot of people will
    appreciate the mention of Mexican heritage with cowboy culture.

    This is my second edit to this ruleset. I tried hard to
    be fair to each region of the state. The only Easter Egg
    that I can admit to is "Hico," which while is big enough
    to add on its own perhaps, has a pronunciation only known
    to locals and I can't get out of my head.

    See osdn #46114

commit d73d956c0930fba061dca12724b7ba8f6d676840
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 26 22:02:09 2022 +0200

    Add Clean action

    See osdn #45975

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 09648f0b10ab04ffec52eef44f90c4071333da16
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 27 01:44:45 2022 +0200

    sdl2: Fix dock assignments from helpdlg.c

    See osdn #46124

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 99173a26705c09a658866e39ee36e530779c90bf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 27 12:50:17 2022 +0200

    Fix zero size callocs when registering lua signals and functions

    See osdn #45547

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 456cdc41b3a23f2ffa250fd07d0ef9f9cea75363
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 26 11:40:31 2022 +0200

    Qt: Show extra's sprites on help browser

    See osdn #44859

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d96a38372c9f71f9edada81dc8d22754bc4dce53
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 26 23:33:20 2022 +0200

    README.sandbox: Improve description of "Post attack city destruction"

    See osdn #43067

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ef5326964827678cafaff335cac261c14c765695
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 26 05:43:59 2022 +0200

    Meson: Generate and install metainfo files

    See osdn #44095

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 67b3122718158411f7c353f5d902d5ae356f885d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 26 03:18:22 2022 +0200

    Store continent/ocean sizes to advdata

    See osdn #45846

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5d606ff5bcc61f1eb5df887d99dc189717d79eca
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 26 06:20:06 2022 +0200

    Savegame: Fix "unused entry" warnings about traderoute padding

    See osdn #45856

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit af3c55d53eb8e6ecf1abd15e49740a5fcde55ad1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 26 01:04:39 2022 +0200

    gtk4: Add spaceship and achievements report menu entries

    See osdn #46112

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f240d31dbe4c1fdf137897706e2d312a5f177fab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 26 13:25:30 2022 +0200

    flatpak: Add sdl2-client flatpak

    See osdn #46111

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ce69bd020c4db8e03481200b8d873552ae9b09aa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 26 07:12:01 2022 +0200

    Send rally point separately from PACKET_CITY_INFO

    Use existing PACKET_CITY_RALLY_POINT

    See osdn #46080

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5ab0a1ae77157fccf8f37b0814120388ea91a99b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 26 00:11:05 2022 +0200

    Fix zero size VLA warning from top_sort_lattice()

    See osdn #46107

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 28c5596b4359632114193962d5dfa22f86064735
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 26 12:22:15 2022 +0200

    sdl2: Make resize_window() to return bool

    It was returning 0 or 1 as int.

    See osdn #45421

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 873822e3d98bced8f6cb31cf92720285806a8a9b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 24 22:10:52 2022 +0200

    gtk4: Add connection related items to connectdlg menu

    See osdn #46109

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 621085611eeefa326fa5e763af5fa4b8db2dfc1b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 23 22:04:55 2022 +0200

    Msys2 Makefile.meson: Add Qt6-client installer

    See osdn #46097

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cfc9292b781b57eb2e95426a46093dd0fcd252fc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 22 20:09:29 2022 +0200

    Granularity: Increase number of move fragments

    Number of fragments multiplied by 10. Most related costs
    also multiplied by 10, but in some cases things are
    adjusted slighly to take advantage of the increased granularity.

    Based on report by Lexxie

    See osdn #45859

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 79af246aa69312ba40f2a200e65fa394ef3d7e17
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 24 02:50:24 2022 +0200

    Correct name of daicity.c in comments

    Several comments referred to it as 'aicity.c'

    See osdn #46105

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bddd88d8cbce3fac1caa0fcc6a39e2a456d95c4c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 23 22:24:36 2022 +0200

    Correct "in stead" as "instead"

    See osdn #44787

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3f378164c98ba3bab52c7b475e4f86ab95c1c000
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 22 22:48:40 2022 +0200

    sdl2: Fix clang analyzer NULL dereference warning

    From unit_select_dialog_popup()

    See osdn #46099

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3cf79247092e3aa8e0f0159b38911dcf4f634d33
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 24 20:06:35 2022 +0200

    Update screenshots for flatpaks

    See osdn #46106

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2ad3c8217db4bf9ad02574d3ae44edf4d71d5507
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 23 21:28:53 2022 +0200

    Move PACKET_CITY_RALLY_POINT unpacking to common/

    See osdn #46101

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d355551dfbc20ebcb51f8cefcf886e8158a45b5b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 23 21:17:30 2022 +0200

    handle_city_short_info(): Fix dead 'ptile' assignment

    See osdn #46104

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2b9e71fa8a322c1c9c23f9beb5627da5e8680c47
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 23 03:28:28 2022 +0200

    AI: Turn magic military emergency want values to macros

    Also fixes dai_unit_consider_bodyguard() bug that very high
    want is considered military emergency even when it's not.

    See osdn #46091

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 783d244978481460c58cbbf4d6d99c7a760c20ce
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Thu Nov 10 15:30:49 2022 +0300

    Add continent control to "CityTile" reqs

    "Same Continent" checks the tile's continent relatively to city center,
    "Bordering TClass Region" checks it towards any tile around city center
    that is of a different terrain class from it.

    Introduces "need/have_different_terrainclass" causes for "can't be built"
    signals.

    Fixes in process that "CityTile", "CityCenter" without a city specified
    is considered unknowable at RPT_CERTAIN metaknowledge.c; also, detects
    contradiction of "CityTile", "CityCenter" and "Building" at "Tile" range.

    See OSDN#45907

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit cb5a49c45721508ee6e85e7f18bfedc1eb2419ed
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 22 22:17:24 2022 +0200

    gtk4: Add context menu for units in citydlg

    See osdn #46098

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f7dfd168f34bab586a191e8891a0217efc910250
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 22 19:52:22 2022 +0200

    installer_cross: Build all of Qt6-client assuming Win10+

    See osdn #46090

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ca635c83ec4ead603ac83df6dc1628f0d28b1820
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 22 20:53:46 2022 +0200

    activity_requires_target(): Avoid 'default' case

    See osdn #45776

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5463b7c7ce5ebc0cdd7b826f01f0cd35572b6784
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 23 01:19:04 2022 +0200

    Client: Add "Connect Maglev"

    Implemented for gtk3.22- and qt-clients

    Requested by alain_bkr

    See osdn #41990

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a47268bb4e39d4035b589c624108826f16b4f643
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 26 08:37:46 2022 +0200

    Comment typofix: "builings" -> "buildings"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bc6acaf33fd4783244ee075cc63dc1938346a7de
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 21 04:59:20 2022 +0200

    Make UTYF_COAST units to save themselves to coast

    Reported by Lexxie

    See osdn #45948

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9173d9d996333cde8d6f6d218fd5cdd1a1378ef3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 21 06:14:11 2022 +0200

    gtk4: Add Transform Terrain entry to menus

    See osdn #46083

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit efaab6f75e277738d36a917b82847fbd8c2a750d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 22 05:51:55 2022 +0200

    CI: Update setup-msys2 to version 2.14.0

    See osdn #46037

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bd321fc5829729a8f15993e61f4b573965816dd4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 25 17:53:55 2022 +0200

    Bump network capstr after osdn #46079

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d5f3861aab2810d1a314a5484946965df5daf36
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 21 04:16:05 2022 +0200

    Split nationalities list from PACKET_CITY_INFO to a separate packet

    See osdn #46079

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 583ca0cc918c79aac5d8aa059b2ec72322947ee2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 22 20:29:15 2022 +0200

    gtk: Correct check_player_or_user_name() header

    Drop documentation of nonexistent match_len parameter.
    Document parameters in doxygen style.

    See osdn #45973

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5f062e4e8af60ed84d0484599da57b205f7a7501
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 22 20:01:44 2022 +0200

    make_dir(): Don't try to create a Windows Drive

    See osdn #46036

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dd11afc31d88d3c1e85aa67398a3730853116fc3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 24 23:20:56 2022 +0200

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a15f1631cc8e2a1de4ece01d5ca9f620bb889481
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 24 20:29:01 2022 +0200

    Bump version number to 3.1.92.3-dev

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 29326106149f2632c43920ab3a84253520785fc2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 21 07:00:40 2022 +0200

    Qt: Make "Toggle Minimap" to use "<shift>h"

    See osdn #46084

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5ce546fd960949ac142302b8a59015c5fc3ea583
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 20 07:33:41 2022 +0200

    Update msys2 environment to 221105 level

    See osdn #45966

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 908f86114d78a4b727a2952b4d00ad20db0fdeea
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 22 06:43:28 2022 +0200

    Clear trailing spaces from gtk3.22_menus.xml

    Also update trailing_spaces.sh test to check .xml files.

    See osdn #45879

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 20642e82e828895a0679665a917403152e010970
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 21 21:32:57 2022 +0200

    Fix dead 'i' assignment in save_action_auto_actions()

    See osdn #46087

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 45b661b7614c8931ebd69f3cf207356fc302f84f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 22 06:20:18 2022 +0200

    Use "https" protocol for gnu.org URLs

    See osdn #46089

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 62d5e5200434fdb34c71ab5ebc9bc4fabe2a4add
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Mon Nov 21 22:25:27 2022 +0200

    AI: consider logarithmic trade revenue bonus

    See OSDN#46049

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit 70ad291211f5bf9a3adec558cb566b0d447fd444
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 21 05:40:53 2022 +0200

    gtk4: Add non-global-observer entries to the connection menu

    See osdn #46081

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d69a82d9b2e388e47f3c078edf99f76163933cb0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 21 03:25:33 2022 +0200

    Meson: Install .desktop files

    See osdn #45870

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8fdd344b8b8575fd918c9ac59ad83fb54cd98f17
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 21 03:07:03 2022 +0200

    Correct TRANS comment about meaning of "<="

    See osdn #45939

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4891a632fdfedd9023e84a5ccebb0d99a33faa9d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 21 02:45:28 2022 +0200

    generate_specenum.py: Increase max number of enum values to 200

    See osdn #45942

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit edf650e9a7ad2db3e92aa74769a3531fc43d4c76
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 23 04:41:33 2022 +0200

    Comment typofix: "carefull" -> "careful"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e35b3991fc11349436891f066d790cf1f7d335dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 21 06:18:27 2022 +0200

    fc_utf8.c: Do not cast 'const' away

    See osdn #45259

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 662caeef8b579bd367f5f082010966986670fc35
Author: SÅ‚awomir Lach <slawek@lach.art.pl>
Date:   Tue Nov 1 09:05:46 2022 +0100

    Add is-game-info flag to PACKET_CITY_UPDATE_COUNTER

    See osdn #45890

commit f7bd833ad3eb8728a384dd96ef71a3b40daea618
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 21 02:34:24 2022 +0200

    palau.ruleset: Remove setting "President" as special title

    It's a standard title. Having it as a special one in
    a non-core nation caused core translation domain translation
    not to work.

    See osdn #46012

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f25d681fc77e92caabc9282beaf934c6b4339007
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Thu Oct 27 00:44:59 2022 +0300

    Fix "can't build X now" ignoring city tile

    See OSDN#45982

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit abba2d5fdf077d145bb27ca2b450d28a69402362
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 22 05:33:56 2022 +0200

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ce4ca6ce05cd3716e46ee4a9557be736c9c9a365
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 13 11:17:30 2022 +0200

    gtk4: Implement context menu for options in options dialog

    See osdn #46063

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c82e5fd7bba91c62f72d1574dafafab725e3f368
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 13 02:03:44 2022 +0200

    CI: Build Qt-components on mac-meson

    See osdn #45996

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b529efe4b4cd0489141695ddcc1704ce252db06c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 13 03:14:19 2022 +0200

    sdl2: Rename ensure_big_sprite() as theme_ensure_big_sprite()

    More namespace to distinguish the function from client-common one.

    See osdn #45851

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 18ec36f0449029b4a25811514705ac5982b87aec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 13 02:36:22 2022 +0200

    assign_continent_flood(): Avoid modifying tile list when iterating it

    See osdn #45825

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 21e07b4fa66051977b31a19133eb24eef93ae47c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 12 19:32:13 2022 +0200

    gtk4: Add non-edit-mode edit-menu dialogs

    See osdn #46062

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 92823cc67b64b595b3a0b3e7f004e842a7d4146b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 12 23:08:11 2022 +0200

    generate_specenum.py: Correct documentation comment in specenum_gen.h

    See osdn #46003

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e593eebd86700b172309ada620f04e51f3610985
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 12 20:17:45 2022 +0200

    Have plain .desktop files in git and tarball

    Replace .desktop.in with .desktop

    See osdn #45869

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 39ed6d1a0d011a785c522a93a1a57448d60a9e78
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 13 01:58:35 2022 +0200

    packets.def: Make PACKET_EDIT_CITY history UINT32

    See osdn #46013

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c0622b79447490659885d70de2d1e8dbef80e943
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Fri Oct 14 23:32:57 2022 +0300

    civ2: give Freights doubled trade revenue bonus

    See OSDN#45852

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit a6c1f7ebdf303954b886e8d3a27a7cb72f9e345a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 12 23:17:36 2022 +0200

    Savegame loading: Detect workers outside current city radius

    See osdn #45343

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 50fb8ae83c5cb85ed8c5b95bd20892a9eae14151
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Thu Nov 10 14:59:16 2022 +0300

    Update, improve and split is_req_unchanging()

    Firstly, the function now looks at the context for better deduction.
    Then, switch is replaced by calling callbacks from a table.
    The table is supposed to be in some future patch adjustable
    by ruleset and game values.
    Certain source kind treatment was changed because of previous
    changes or just being not logical.

    AI gets some source kinds as unchanging by legacy.

    See OSDN#46029

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit 222567aeac966fb87aafe70ffb5d9b4cdb45c020
Author: SÅ‚awomir Lach <slawek@lach.art.pl>
Date:   Sun Nov 6 12:05:02 2022 +0100

    validity.[ch]: Add is_counter_needed()

    See osdn #45041

commit 1b3d0ccac488998d195c786812d0bc7ed0fee085
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 12 12:07:42 2022 +0200

    Fix req_vec_get_first_missing_univ() req_vec_problem leak

    See osdn #46058

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0c0a81f72dcc5f62d63cbe6fb24495fd6b16c743
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 12 15:25:05 2022 +0200

    map_claim_base(): Allocate could_see_unit only when needed

    See osdn #45961

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3177acec7eb581de5d2282ce69b9bb99d687e216
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Tue Nov 8 20:10:22 2022 +0300

    Make unit type significant for "Trade_Revenue_Bonus"

    See OSDN#45852

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit fe1dd8d2718fb70412ca21b31e34bbe27f989fb5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 5 04:22:15 2022 +0200

    Qt: Fix classic theme syntax

    See osdn #44857

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e7cb15c8c19b64a2277b4916fac12a5b38df40b2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 29 20:02:11 2022 +0300

    installer_cross / Meson: Add ruledit installer

    See osdn #45511

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 88e24e49d1179e30bfd63d78af9d333e8d49adb9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 5 10:16:54 2022 +0200

    Fix "all units ... die" grammar

    See osdn #46038

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0f92bf4c5080c3651097f0f7310eab0bdab497c2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 5 01:10:07 2022 +0200

    Mark server to web-client packets no-handle

    Drop stub handlers from regular clients

    See osdn #45955

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a199d33ef9e0e5357eac32189d0d335a78d54861
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 5 05:55:02 2022 +0200

    Rulesave: Add Trade settings section comment

    See osdn #45386

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 81f336b24c41dd5d831864672c6c30b3ab8d246e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 6 08:15:03 2022 +0200

    gtk4: Implement pregame players list menu

    Initially with just the player info entry.

    See osdn #45922

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3bc544fc3c32942b24a5878062c187fd499cd5ec
Author: dark-ether <henrique.hsa2002@gmail.com>
Date:   Wed Jul 20 16:41:09 2022 -0300

    Change all occurences of strcasecmp() to fc_strcasecomp()

    Modified by Marko Lindqvist

    See osdn #45034

commit 27674d09b447ea53a357304d3e48b4f5dd4a0bbb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 13 02:28:24 2022 +0200

    Comment typofix: "assing" -> "assign"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 63f139d2d819df44b188b7d4e8bf4b681f039240
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 5 14:09:16 2022 +0200

    Msys2 Makefile.meson: Fix ucrt64 build targets

    See osdn #46040

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 322e857e7c682fcf34541f6997d52a2bf9d5970f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 5 09:45:10 2022 +0200

    Path finding: Make node cost an int

    Short was overflowing there when terrain move cost in fragments
    is high.

    Reported by Lexxie

    See osdn #46039

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a5512b8fd93a7c0b3d8b062993e3a579a453b4fb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 5 02:49:40 2022 +0200

    gtk: Mark mapimg creation error dialog for translation

    See osdn #45989

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1de7b1ce13a42b553709aa943c398f85cb500e42
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 5 01:47:56 2022 +0200

    Correct player_limit_to_max_rates() header

    See osdn #45990

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eed29be00ce3d5e1c63b261171339a96af38a34f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 5 01:40:06 2022 +0200

    Qt: Separate paradrop from clean pollution

    See osdn #46025

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8e8497aa7605ee9d3e27baab5d713c6cd8c59f40
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 5 02:22:01 2022 +0200

    Metainfo: Generate release tag

    See osdn #45837

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4fde69f607228675b5eb0baafc41087d58f21995
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 4 01:33:26 2022 +0200

    Send nation groups and sets counts in PACKET_RULESET_CONTROL

    See osdn #45195

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1c65390f21d9edfea33ffc61a8dcd2a14a102360
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 3 04:52:55 2022 +0200

    luasql/Version.txt: Fix typo: "fron" -> "from"

    See osdn #45849

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bbd4db927ff1db094be9c610c96a935a4e34bce1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 5 00:58:20 2022 +0200

    make_dir(): Return FALSE on failure

    It was returning TRUE even on failure.
    Adjust also the callers to check the returned value.

    See osdn #44940

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 51a1042331a8c1edd2bb804397fea4a818009106
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 2 02:45:22 2022 +0200

    sdl2: Fix city rename to take effect

    See osdn #45986

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 272d578529ca0359926936d274b272c6c1785913
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 2 02:30:47 2022 +0200

    Rename installer_msys2/Makefile as Makefile.autotools

    See #45827

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8b5192aeeb60675e2fc6df2b9e6d0fabfc1a67c3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 31 05:32:47 2022 +0200

    Add support for gold upkeep for homeless units

    Requested by Alexandro Ignatiev

    See hrm #819758

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6212fc5fab40b51f6500b29326bc6841235b9c02
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 2 02:17:16 2022 +0200

    Bitvector: Fix clang++ -Wtautological-constant-out-of-range-compare warning

    See osdn #45998

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d1610b04967b1bf6d97ed5e944252e5d3342419d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 31 02:05:02 2022 +0200

    gtk4: Add rest of options menu items

    See osdn #46017

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 834375d1e8d0073b2e5f852707215325b3cada78
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 31 00:21:28 2022 +0200

    configure: Search mariadb configuration by name mariadb_config

    See osdn #46015

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ec0cb3966d4a4e34e8e9d1c8d50a04748a1a5a98
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 30 09:25:49 2022 +0200

    gtk4: Apply translation to "Help" menu name

    See osdn #46002

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 17558a6900a3f1c55da6272125ee161062acfa25
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 6 18:04:43 2022 +0200

    Add .gitignore for new cimpletoon subdirs

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4286a8d71c064cac36d6000f93dc7b63dcd0ad7c
Author: Elefant <noreply@null.void>
Date:   Wed Jul 20 10:04:57 2022 -0600

    Add units to cimpletoon

    Add some units by XYZ and Elefant to cimpletoon and toonhex.

    Some syntax fixes by Marko Lindqvist

    See osdn #44853

commit 0ea7e72b353c8764c379e9e3f4f0af6ed61b75f1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 29 04:47:44 2022 +0300

    Add README.crosser

    See hrm #734372

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eb423fab9a9a255ff0c2b08c9ac1928826dd64fe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 29 22:00:48 2022 +0300

    sdl2: Make some popup_diplomatic_objects() vars unsigned

    There can't be negative count, nor size (width or height)

    Helps compilers' (and other tools) heuristics

    See osdn #45985

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b3b6db4a6fd383d223feedb79dcb30afbacbab31
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 30 06:33:45 2022 +0200

    CI: Do autogame test on mac

    See osdn #45997

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ef5c269d8c6f4c1becc862d53518bd189f8b076b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 5 09:03:41 2022 +0200

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 735f6ca1697b86805f60616d307ca26bde3186a2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 29 10:30:45 2022 +0300

    gtk: Correct conn_list_select_conn() function header

    See osdn #45921

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 765c43319859463637f56f0904c9beb7e6619977
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 23 06:41:07 2022 +0300

    Make vision site name allocation dynamic

    See osdn #45844

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d08cd5d525539f1fdd0d61555a829849724a0f3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 2 03:23:46 2022 +0200

    pf_attack_possible(): Consider UTYF_NEVER_PROTECTS

    Also, no unit is unreachable in a city

    Patch by lexxie9952

    See osdn #46024

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d4c99d2eece856be6f4ae593e3040aa8a4f88442
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Sat Nov 5 00:02:17 2022 +0100

    Updated French translations :
    - Palaos nation
    - Battle groups
    - Latitude ranges
    - Top cities report
    - Keyboard shortcuts alignment in documentation
    - Smaller stuff :D

commit ac0df742700eda0b58e491aa60850afedc266cfa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 30 06:15:49 2022 +0200

    AI: Do not count defense value for a police when there's no danger

    Danger was considered to be high when there was none, but
    defensive unit was considered just for Martial Law effect.

    See osdn #45595

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8c85f5ab9ffad45e6ef36ee0d941169d0c393006
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 29 00:26:33 2022 +0300

    gtk3.22: Implement Battle Groups menu

    To make functionality more discoverable.

    See osdn #45924

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 477c5ee54869b02084c085bbc0b61439f563886c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 29 07:46:10 2022 +0300

    Update freeciv-ruledit man page

    Mainly adding all the commandline options

    See osdn #45534

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fa1eb09632599fef64ec33b3efc95767dc567723
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 4 01:08:42 2022 +0200

    .gitignores: Update after .desktopn move

    .desktop files removed from the .gitignores of the
    directories where they used to get generated to.
    They are NOT added to bootstrap/.gitignore as soon
    they should not be ignored there.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6996eb78ab76127dafbf1e0e36bf28622c881cdb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 29 04:00:42 2022 +0300

    Qt: Replace magic '0' with A_NONE

    See osdn #45530

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 58318230e8e4553bb8db42f3e6328fe75d959cf3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 29 22:41:43 2022 +0300

    Protocol: Make MOVEFRAGS UINT32

    Requested by Lexxie

    See osdn #45950

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eb10e08689a2d8a07467057cd1d82320b66bf1da
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 28 23:30:15 2022 +0300

    Make fallback version of fc_vsnprintf() thread safe

    See osdn #45905

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0cc9ac19fcd6b08296c1e9d929bb58e3bda6a7ba
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 28 21:20:40 2022 +0300

    sdl2: Do error checking in set_video_mode()

    See osdn #46000

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5d62f8230f855a583a6ed8afbe84191ca3ee0d8e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 28 22:50:42 2022 +0300

    Msys2: Make Qt6-client builds for "win64-10" only

    CI, building on "win64", still tests Qt6-client and -ruledit builds.

    See osdn #45908

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f27ffd3824c0bdc290e7dd228e9ad6b89acf212f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 28 22:43:13 2022 +0300

    Support unit type requirements for "Upkeep_Factor"

    See osdn #45991

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3eb4a5acba5324b0b69d4d0ab1abd37bf4f39989
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 28 20:31:33 2022 +0300

    rand.c: Improve coding style

    See osdn #45919

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 55e85a05c4830d8149f98eb51788b95b958f252f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 28 20:15:05 2022 +0300

    Specenum: Fix clang++ -Wtautological-constant-out-of-range-compare warning

    See osdn #45941

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 029969787247a30d830cc73963e3c6135d289213
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 28 19:58:53 2022 +0300

    Give paradrop a key distinct from cleaning pollution

    Qt-client not changed.
    Other clients now use 'j' (Jump) for paradrop.
    In case of gtk4-client this is first time paradrop functionality
    gets enabled.

    See osdn #45958

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0c2695e5dcd7cef0593bdce6a1bc050eb82d176a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 28 19:36:23 2022 +0300

    Generate .desktop under bootstrap/

    See osdn #45983

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 96f87d4dbe2bf2edadc478e1e59fb1ae37c0b0a2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 17 01:46:22 2022 +0300

    Add MAX_CITY_TILES to fc_types.h

    See osdn #45886

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 38ebeee6bf968eb5d0aa6edaf10272c896156f50
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 27 22:41:12 2022 +0300

    README.msys2: Put official snapshot version info on top

    See osdn #45829

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ef43bf126688355304dca2de5b4240b040dc3c50
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 28 04:40:27 2022 +0300

    Limit players to max rates after loading savegame

    The rules may have changed since the time game was saved.

    See osdn #44186

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3c08c191787f5d7d857bcfb3a885794611210f7a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 26 22:37:18 2022 +0300

    Qt: Use QLibraryInfo::version() instead of qVersion()

    Latter caused compile failure with Qt-6.5 development version

    See osdn #45959

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ba9b9cabab8cd1d49300cda4cd804b8e3080d283
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 24 01:58:59 2022 +0300

    trailing_spaces.sh: Check more files

    Added "*.lua", "*.modpack", "*.serv", and "*.txt"
    There already was "README*" but it didn't catch all .txt cases

    See osdn #45804

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bdbb48f5d56a96fdafc58a2b5f571617183c9183
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 28 20:44:49 2022 +0300

    Send unknown score as -1

    See osdn #45793

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ac6761f5e44a678a6f8e4f67163c009c58f465ea
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 26 04:36:43 2022 +0300

    Remove mention of F10 from meswin_dialog_popup() header

    See osdn #45964

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2d4a5f1c8e0fe59b04aed342eee8f51e367756a2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 25 04:28:26 2022 +0300

    Improve controls help formatting

    See osdn #45969

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d6352ca2c476047f3aad9c347934749a4d298852
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 29 23:28:24 2022 +0300

    Meson: Install Palau nation files

    See osdn #46010

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bcee3e9c13008f6753c3947c3f10f49094477a91
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 25 19:57:59 2022 +0300

    gtk4: Add Clean menu

    See osdn #45968

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 062aa3f766ed819ac25ef1698f92c8548b7c40c3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 26 02:59:06 2022 +0300

    Msys2 Makefile: Add initial clang64 support

    See osdn #45960

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 88dca764961b50001f40fbf06ed27a850ef0b474
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 30 14:25:10 2022 +0200

    Update Finnish translation of nations domain

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a953db2324613e80cb172499594f279931b18933
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Fri Oct 28 22:35:02 2022 +0200

    is_req_active(): dispatch instead of switch-case

    Requested by Marko Lindqvist

    See osdn#45602

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit fd252a4d5f88ea654d05395cd3563e44b1bd90ae
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 27 22:54:46 2022 +0300

    Fix updating city name on client side

    See osdn #45987

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c71584876e644603d458cea43e1c13e56a36867c
Author: SÅ‚awomir Lach <slawek@lach.art.pl>
Date:   Thu Oct 27 15:50:36 2022 +0200

    sg_save_counters(): Free countvalues

    See osdn #45911

commit 9af2d6c7b8b57aa4e4160d71c32d7a6a0e4354c4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 22 19:55:57 2022 +0300

    Qualify "*"

    See osdn #45940

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ee5e62e1377d3080751dd1773d4385f75904ed9b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 22 12:02:14 2022 +0300

    Don't try to create current directory for savegames

    Game saving was trying to create the directory for the savegames
    even when they are saved to the current directory, i.e., when
    the directory name is empty.

    See osdn #45841

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 496cd468414d7bb4c964b44fcded10aa688fbf9a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 30 00:06:11 2022 +0300

    nations/POTFILES.in: Add palauan.ruleset

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2e0dde73851b7d9f897130e33d05d9c2c19dc130
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 23 18:56:58 2022 +0300

    Qt: Popdown old tile info before popping up new one

    The old code resulted in such old popups staying up forever
    after the new popup overwrote the only pointer we have
    towards them.

    Reported by ddeanbrown

    See osdn #44177

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ed2c1265d4346691ed0f9e4f85af6de20f43491d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 25 02:21:01 2022 +0300

    Update to crosser-2.5

    See osdn #45701

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1ee21a6e9135bc4a093500150599229692bcd2c0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 29 06:38:58 2022 +0300

    Comment typofix: "tranport" -> "transport"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b00fffde7e726f7a91b05248901e73d149496dc6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 20 05:17:42 2022 +0300

    Add Palau nation

    Original submission anonymous.
    Since modified by frank e and myself

    See hrm #697041

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 78373566be936021e15e8283f42c5e9b2dc7db6a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 29 04:27:44 2022 +0300

    Comment typofix: "undersireable" -> "undesirable"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9734c2a5c4825c19920d85283860f56569a48c8e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 22 13:26:45 2022 +0300

    cm.c: Clean out repetitive city_size_get() calls

    See osdn #45676

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3aeb64b56fc8d013680cc6eb0c3cb73e491276b9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 23 02:57:49 2022 +0300

    Reimplement astr_vadd_at()

    - Make it to use va_copy() instead of trying to reuse
      same list when it needs to call fc_vsnprintf() multiple times
    - astr_buffer_grow() interface changed so that we get the
      required size at once, no need to grow buffer in a loop
    - Buffer size is no longer power of two. I don't think
      that property really gave anything in the case of
      a single global buffer living over entire lifetime
      of the process
    - Now that buffer growing actully works, made the initial
      buffer a bit smaller

    Problems originally reported by louis94 and Daavko

    See osdn #45903

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 63a7145084aea4a4945c1ff5b51c8e69af954562
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 22 06:53:23 2022 +0300

    Qt: Allow toggling own Away mode from AI menu

    See osdn #44858

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2023f971a35616f3e4650d4e1a86155264397392
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 22 03:37:06 2022 +0300

    Move metainfo.xml creation from configure to a script

    See osdn #45616

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 69ee5632ac2b15c6941310f13ca0f701a8c7fc39
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 25 22:06:40 2022 +0300

    Make number of cities in Top Cities report configurable

    See osdn #45826

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6c72a1115928d83c79e402a9bd671f2e91f8433f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 22 02:20:27 2022 +0300

    CI: Add components to mac-meson build

    See osdn #45929

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 31d1761f6716565e939356266907eb93896f3919
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 22 04:57:40 2022 +0300

    civ2civ3/sandbox: Disallow unhomed units from bribing

    Units gained that way are unhomed too, making it possible
    to get armies of units without upkeep.

    Give homeless diplomats ability to home themselves to
    gain the ability to bribe.

    Reported anonymously

    See osdn #45070

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e44cfc41109346642bea0c1260ccde2dae10614f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 28 00:20:50 2022 +0300

    Comment typofix: "requireing" -> "requiring"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0e8934ad3bf9b53e470d282ddd05266a109d882c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 22 04:01:19 2022 +0300

    sdl2: Fix Tile menu "Patrol Here"

    See osdn #45925

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 346c7d78284237c87ba6e3d9233e65ea6184b0b1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 18 03:45:51 2022 +0300

    Shorten names of tolua patches

    To make sure they fit within tarball path length limits.

    See osdn #45915

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 263118b33d5067aa9b367aeda9e8ead2cf7397ce
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 16 01:42:20 2022 +0300

    civ2civ3/sandbox: Clear extraneous StartUnit roles

    Requested by Alexandro Ignatiev

    See osdn #45878

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 79803e9e9b0fed837580c441c4d00e2cd546b64e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 22 02:13:56 2022 +0300

    Remove dead assignment of 'method' from fz_from_file()

    See osdn #45848

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 477d67e05bf8fc24e3040a9a510486993b4e601e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 22 01:42:14 2022 +0300

    savegame: Have as little trade routes padding as needed

    See osdn #45855

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e5968f26e5103427a471fae882cf9133d87e6f8e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 26 21:28:54 2022 +0300

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5486992b2067d23c63133f6dd318060d6b9f25e5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 22 02:07:50 2022 +0300

    Remove unused gtk4_menus.xml

    See osdn #45817

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8b0982807076212001b277196cc3274196faf014
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 17 00:30:10 2022 +0300

    Msys2 Makefile.meson: Add initial clang64 support

    See osdn #45884

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 001dcf2738bfdb55a32b99ffbda9a5c2de318392
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 18 18:28:52 2022 +0300

    load_rulesetdir(): Destroy actionfile

    See osdn #45909

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 419ba5eccb1d7f2aa14247b3b7c9a2e44c550ff7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 21 05:07:17 2022 +0300

    Replace - with â€“ in diplchance helptext

    See osdn #45834

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ff4d5995ab603288e9f8bc322f99fcdae20170aa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 21 04:48:27 2022 +0300

    AI: Make dai_hunter_juiciness() 'threat' and 'cost' unsigned

    See osdn #45920

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f221881d325aa7ebdb61eb732783b2dbe5fd045c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 25 20:50:15 2022 +0300

    Comment typofix: "to returns" -> "to return"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4d55607cedf467b317fe851645fa73f8ed7e67a6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 21 23:55:27 2022 +0300

    gtk4: Implement Battle Groups menu

    To make functionality more discoverable.

    See osdn #45923

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0bcf574e358b75d311fde0c96a33db339475520f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 25 19:33:17 2022 +0300

    Bump network capstr after osdn#44038

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dabedca1d0dbd5a83104b4a2f1bc659cafeca731
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sun Oct 23 13:49:44 2022 +0200

    Replace alltemperate and singlepole with latitude bounds

    See osdn#44038

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 380f1716235eeeb3a10d09ade7f132e147fa7e73
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 21 03:26:08 2022 +0300

    Meson: Require at least Windows 10 on builds using Qt6

    See osdn #45860

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eece0e83e32804c41d55077eb89e28544da710ae
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 15 22:08:15 2022 +0300

    sandbox: Add Shared Tiles clause type

    See osdn #45730

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 547c516c0f51144b57ec8fa46e53201c23c9d6d4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 16 09:20:43 2022 +0300

    Fix techs.ruleset documentation typo: "Requireing" -> "Requiring"

    See osdn #45880

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit def4c9addc4fae9477ba9ea32ec221824dc20086
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 17 00:51:31 2022 +0300

    Improve inifile parse error messages

    See osdn #45573

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c9ceb666bff9ff3a6f25dea4599be2127bc80f66
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 16 08:34:05 2022 +0300

    sdl2 gui_string.c: Refactor sizeof_font_tab out

    See osdn #45850

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 231d3869e88cf4d9fec4098d902151a852629109
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 24 18:18:31 2022 +0300

    .gitignores: Update after metainfo move

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d1c2fba915fb15d5af04945ff75771ea849b3954
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 15 22:03:00 2022 +0300

    Clear trailing spaces from configure.ac

    See osdn #45875

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 22c49d56f4a89301eac7adbf8d4764b5e879fa66
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 22 17:35:59 2022 +0300

    Fix loading research 'free_bulbs' from a savegame

    Not only failing itself, but causing mayhem with
    anything that should have been loaded after it.

    See osdn #45952

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 81a944f716f8ab3636f3e111179f1e98c6098435
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 15 19:40:26 2022 +0300

    CodingStyle: Tell about support.[ch] functions

    See osdn #44918

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6863b48f323edf617d7946e5e1f23c176556685d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 16 09:48:42 2022 +0300

    Qt: Add Relations and Techs display toggles to plrdlg

    See osdn #45048

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5c47c1b3dd90d6fcfd529f6fee3219771c54284c
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Thu Oct 20 22:23:49 2022 +0300

    Add "Tile" range to "Building" reqs

    Is true if there is a city on the context tile and it has the building.

    See OSDN#45885

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit 89d7e3db9d01b43ce7bf12482661d97752ec04f8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 15 21:22:38 2022 +0300

    gtk: Make property_page_change_value() to refresh widget only for changes

    It was already documented to refresh widget when there was something
    to change. Not doing that failed to abort a loop where
    widget refresh triggered "changed" signal again, in gtk4-client

    See osdn #45874

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2d16ef615371800da59c62a09f08e87eeb15a0e9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 15 14:06:58 2022 +0300

    winbuild.sh: Clear out old build directory

    See osdn #45865

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c8c20e2726d5890d97c1329991967038ca63bd57
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 14 23:35:57 2022 +0300

    Drop theme options of obsoleted clients

    See osdn #45779

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e6f4d77b337133fdf3a17bb7b898ab6286527e93
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 15 12:37:20 2022 +0300

    Correct is_valid_start_pos() function header

    See osdn #45791

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8b478fbb11ab458e4b10d55b2aa52328a1618c5a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 15 03:14:25 2022 +0300

    Make fc_vsnprintf() return value to conform to C99

    It was already documented that way, but implemented as C89

    See osdn #45629

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d4899392a6837ba3691926316e466632f78b1a24
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 22 19:02:37 2022 +0300

    Comment typofix: "cululating" -> "calculating"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 506a19b83768b504207102756fe9d2c9f1555464
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 15 18:24:57 2022 +0300

    gtk4: Add Display menu to plrdlg

    See osdn #45873

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c41e5048b6bfb763bb21b9668bba963e3cd2d404
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 22 13:52:41 2022 +0300

    Bump version number to 3.1.92.2-dev

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 46bdaa8255226dbce7a595e77e76bd7df75a5bff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 15 05:20:37 2022 +0300

    Metainfo: Specify type -property

    See osdn #45868

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e3f16f685691aafa54bc740f14d7fb866634159e
Author: SÅ‚awomir Lach <slawek@lach.art.pl>
Date:   Thu Oct 20 01:26:10 2022 +0300

    Send city counter updates to client

    See osdn #45429

commit 0638128076e98ce5f945ed43bd245d0ea3362871
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 15 15:28:19 2022 +0300

    Free "<ctrl>m" for "Connect with Maglev"

    Keys rearranged to be:
    - Show City Output:  <ctrl>v        (All clients)
    - Show Fog of War:   <ctrl>w        (sdl2)
    - Toggle Fog of War: <ctrl><shift>w (gtk)

    See osdn #45800

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ff1013d7def32c1038e1bb05f8997f7be5f8a10e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 17 18:31:07 2022 +0300

    CI: Add stub-client build to meson builds

    See osdn #45824

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6561f9196e644ecacdfaf1a06388f1951ac9bac0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 15 18:54:39 2022 +0300

    Prevent barbarians from building multiple units of unique type

    See osdn #44863

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 49a6119396f15253e0828aac30edc321ca5e12d8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 15 05:53:56 2022 +0300

    sdl2: Fix "unused entry: file.gfx" warnings from theme

    See osdn #45031

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 72d9ed72100f9bc4199adec016de2885f324c148
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 15 02:31:06 2022 +0300

    Msys2: Define Makefile to use in recursive 'make'

    Makefile:       Pass '-f $(MAKEFILE_NAME)' for recursive name
    Makefile.meson: Use '$(MAKEFILE_NAME)' instead of 'Makefile.meson'

    See osdn #45828

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 78bb83e2b6e4190f49d3625de047e65fe5d69059
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Fri Oct 21 10:47:08 2022 +0200

    Updated French translations

commit a78c3d864bb4436585108e22cbded44a687642e7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 14 19:06:43 2022 +0300

    Fix build on stable release mode

    See osdn #45836

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0093e6ba6c65e7676d2e982dd1a86d9470daa831
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 15 02:43:55 2022 +0300

    README.effects: Reword 'Effects and Lua' a bit

    See osdn #45833

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b015275e37232fe25d3b2b924b0cf325400b9d7b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 21 01:49:15 2022 +0300

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1eaca0c45b86f9e969ea44ecc90cd8a3ef256528
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 12 17:37:58 2022 +0300

    make_dir(): Don't consider root directory as directory separator

    When given an absolute path, make_dir() tried to create
    whats-left-side-of-root, i.e., nothing, as the first component.

    See osdn #45830

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9be98e3498161632253a735d558bcb0a1087c57a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 14 23:09:10 2022 +0300

    Qt: Make targetless revolution insensitive when impossible

    See osdn #45782

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3b86fa4d7e5071e7c8fbc07ce31c6f6c772019ef
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 20 17:11:32 2022 +0300

    Remove duplicated " a " from a comment

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bba24c6389600475d5fccb3bb1070f8df1ff82ff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 12 20:26:52 2022 +0300

    Turn "Trans:" comments to "TRANS:"

    So the tooling actually recognize them

    See osdn #45835

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 35fab8596d0cd23b9236c29335be2a096b32e568
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 14 23:04:09 2022 +0300

    fc-sdl2.m4: Refresh from SDL2-2.24.1

    See osdn #45847

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f040f0fdb23eda6e229cae0d0f9485cd29a8f0a1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 15 12:11:09 2022 +0300

    Make city name allocation dynamic

    See osdn #45786

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 05d332d5058c290fc072dffedbec3525db8ad9be
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Fri Oct 14 21:33:24 2022 +0300

    Lua: make (Player):give_bulbs() optionally targeted

    In multiresearch mode, manipulates saved bulbs per technology.
    Out of it, allows to rewrite the tech saved from the previous turn.

    See OSDN#44936

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit fcddfd739a92b527dc2f446e467404ddf6a934b8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 11 20:07:04 2022 +0300

    Refresh advisor data phase when continent numbers change

    See osdn #45767

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 84dd7825496ff41d89d16729ba2db91bf75e472b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 14 21:03:37 2022 +0300

    gtk4: Enable infra dialog

    See osdn #45838

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 91e8647fd5824c38ed4299233cb5680096b11bc7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 11 02:38:46 2022 +0300

    Meson: Add stub-client support

    See osdn #45821

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7e5deeed2e73c393c8fca2e77a121ad9897dfbd4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 8 18:41:49 2022 +0300

    Set barbarians as AI before initializing them otherwise

    See osdn #45808

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 14ad1f2de0b502860d8e9b66f93b9c48249244bd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 9 19:29:19 2022 +0300

    Fix dead assignment of 'drawposx' in show_small_citybar()

    See osdn #45813

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9a8f30e551d1a52fd2b19ec0d648d2289331784e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 14 18:55:52 2022 +0300

    helpdata.txt: Document Battle Groups controls

    See osdn #45796

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6fbcbed68148e9add2c699e375f6e428b2943a09
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 9 19:08:17 2022 +0300

    gtk4: Drop right_notebook_button_release()

    See osdn #45816

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 44f61f7b8df508197176bc48e83144c8488bf23a
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Sun Oct 16 21:49:42 2022 +0300

    Split researched bulbs on free and bound

    This abandons got_tech flags. Caravan or Lua bonuses now go to free
    bulbs (except in multiresearch mode) and are not lost or penalized
    on switch between the saved and a newly researched tech.

    See OSDN#45685

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit 9a2fafb6be3602e711cdc10e0b0cb185c59a4c22
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 9 15:54:10 2022 +0300

    Clear trailing spaces from tolua .lua files

    See osdn #45749

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit de79b5d5a81d6b2e9d98c302aa69d9ccadeefb2c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 10 21:16:13 2022 +0300

    savegame?.c: Use SIZE_T_PRINTF when printing strlen() result

    See osdn #45823

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit db0647307ccc0c2cb0f06e40dad711b5eb493ef4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 10 18:24:09 2022 +0300

    Add function header for Windows console reading thread entrypoint

    - Rename thread_proc() as windows_console_thread()
    - Document it

    See osdn #45509

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cac2490567c13770dc380c96b691f009207e3b66
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 8 15:22:57 2022 +0300

    Qt: Fix mr_menu::menus_sensitive() unused assignments

    See osdn #45770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2b39ce36a76f43814ffd625267de6ce801b63800
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 9 18:10:21 2022 +0300

    gtk4: Add Display menu to cities report

    See osdn #45815

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b10446839811ee93421920e5273b5242afe842eb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 14 17:43:54 2022 +0300

    meson-installer_build.sh: Generate langstat

    See osdn #45858

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c0321298882f702a4057716a5499f6c12b897e7c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 14 05:23:09 2022 +0300

    Drop 'trade[MAX_TRADE_ROUTES]' from PACKET_EDIT_CITY

    See osdn #45854

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 52d37e1552f4c4c6cdd1aa620e789b3f147957ac
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 8 20:17:49 2022 +0300

    gtk4: Change "_Fortify" menu entry to "Fortify"

    See osdn #45809

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 54382ee8910e119dcb40e8343a571531ca0be662
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 8 01:30:57 2022 +0300

    Set civil war player diplstate max_states

    See osdn #45598

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 95c7471da86a6cf274de86a52e451938605e97fc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 8 08:25:16 2022 +0300

    gtk4: Correct widget types handling in option_dialog_option_str_set()

    See osdn #45795

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0d2cdd1a8526cf50cb1f37015888d3572eb7cd88
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 16 16:26:47 2022 +0300

    Comment typofix: "sucessfully" -> "successfully"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1297576a6c0c5597bb53ea463bc69e67f77a64cd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 12 17:09:38 2022 +0300

    Generate .metainfo.xml under bootstrap/

    See osdn #45840

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d2971b32132d9a6e024eaf0fe8c1c1e9d52a80e7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 8 04:34:33 2022 +0300

    AI: Make military_amortize() to handle want as adv_want

    Made type changes recursively to callers too

    See osdn #45700

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 12e9ba1e8b685e2e76d94c4f6abe9299e8630b21
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 8 15:41:19 2022 +0300

    sdl2: Correct type of create_horizontal_surface() 'state'

    Make parameter 'enum widget_state'

    See osdn #45743

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fc927138157cbe910b007fc8309577e434fd4aee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 8 07:46:34 2022 +0300

    Macrofy city_owner()

    See osdn #45634

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 04adf1fd56d3b29f1b7f19e51b72000dd1f2fd96
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 8 13:06:32 2022 +0300

    gtk: Don't gobble <ctrl> + <shift> modified keys in edit mode

    See osdn #45802

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ca9258d86ff0a926ca8b2fb088eede662e12fded
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 9 12:31:15 2022 +0300

    flatpak: Add Qt-client flatpak

    See osdn #45814

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3394c4e6a539028c9a2ef898f2cf4034c1be5caf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 8 04:56:37 2022 +0300

    citizens_update(): Remove redundant and broken check

    Reported by ihnatus

    See osdn #44852

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c0340372d0532db3dbfbf2df81360905b8fa338c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 8 03:47:55 2022 +0300

    auto_arrange_workers(): Avoid cm_parameter copy

    See osdn #45487

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ad502aa8afb86f2cce6a40def1974de1ee1bac40
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 8 03:05:49 2022 +0300

    Free internal fc_vsnprintf() buffer

    See osdn #45771

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 56e90dde98d0b381f888412054de72b96841b902
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 8 04:26:25 2022 +0300

    gtk4: Detect option dialog mouse press as gesture

    See osdn #45794

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7d9dba71437dcf47932db5809cd4c6ec8d5c9855
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 8 16:51:33 2022 +0300

    Remove x-prefixing from ruleset testing shell scripts

    See osdn #45807

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b1e9dc78b39a8d319a5dac5cf2cc5cf7c5235b74
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 8 04:01:33 2022 +0300

    Make try_to_autoconnect() warning_shown boolean

    See osdn #44901

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 54baf9936a635c6d94512f79e2bfbba88f457cde
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 8 11:32:56 2022 +0300

    Qt: Correct key bindings of some unit activities

    Make the following default key bindings to match documentation
    and gtk-clients:

    - Unload All From Transport: "shift+u" -> "shift+t"
    - Upgrade Unit:              "ctrl+u"  -> "shift+u"
    - Convert Unit:              "ctrl+o"  -> "shift+o"

    See osdn #45798

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a2b5296b3a869d5751a3b453ea639b192cdfa99c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 9 15:42:28 2022 +0300

    Fix translating names of nations from the core set

    Reported by carbsrule and Alexandro Ignatiev

    See osdn #45761

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cff86b0c43d96e09bf1e5dcce1025340c35f68f6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 8 02:10:59 2022 +0300

    gtk: Add tooltip to nationdlg columns

    See osdn #45512

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 92bc86cd005a30f2633a425a055da7a43897e494
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 8 03:55:17 2022 +0300

    configure: Add cache variable for readline runtime detection

    See osdn #45460

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f4e3ea037477d3c1ab1f122b12702697f96c46a3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 8 02:39:09 2022 +0300

    Fix "unused entry" warnings about worklist padding on savegame

    See osdn #45671

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7893707b3ad1c0fd46ab07135c9a266586ea5c6f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 7 19:40:57 2022 +0300

    Drop unused 'enum hut_behavior'

    See osdn #44903

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e63e47de7ff5511025bcdbec459d59b161431a58
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 13 05:10:28 2022 +0300

    Comment typofix: "fron" -> "front"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bd04781bb1f7ebc2e864f06228a8aeae4b3cd885
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 7 18:31:29 2022 +0300

    goto_tile_state(): Fix clang analyzer NULL dereference warnings

    See osdn #45417

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b3ec38ce50fad2d738340d3ac0f7e48e315aec59
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 12 21:55:34 2022 +0300

    Update Finnish translation of ruledit domain

    Translate "extra" as "ruutulisÃ¤" like in the core domain

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2fe12d9e3ae463282a6f7fdacc4e1baf8114d78a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 8 01:14:10 2022 +0300

    gtk4: Add client info menu entries

    See osdn #45790

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0e7caa985677c2c2c8f2c995219b70e6ac7da888
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 8 01:41:12 2022 +0300

    luasql Version.txt: Mention local modifications

    See osdn #44955

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 34ee16f31c242725b38a91371ed715f0c7407853
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 7 18:20:32 2022 +0300

    Make vision site able to hold maximum city name length

    See osdn #45787

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9f9ca1fd9f8a4ac2883ed1160cd78c7c79166f6e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 7 18:57:56 2022 +0300

    sdl2: Make check_scroll_area() return type boolean

    See osdn #45097

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ace3110c132403305cc5867ad027c9e70f644e0a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 4 05:56:19 2022 +0300

    AI: Correct which players one considers to be Tech Parasite of

    - Consider team members when pooled research off
    - Do not consider dead players

    See osdn #45588

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c01285d4b596c6942a48a789f28ceca4ff239136
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 11 21:30:43 2022 +0300

    Comment typofix: "Noting" -> "Nothing"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5aba34520bede38065b6abda13b4a19196e9a467
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 11 21:12:51 2022 +0300

    Update Finnish translation

    This is just S3_1 fi.po msgmerged against master strings

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 903338e015d95606b2b6e40768afccb280595ac7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 7 03:50:02 2022 +0300

    gtk4: Add AI menu to plrdlg

    See osdn #45785

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e4c4059ad09b92272c6616aff0401d41285311e1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 5 17:48:55 2022 +0300

    Bump minimum gettext requirement to 0.16

    See osdn #45783

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 49c3b9e9e91b104f15c9ae5617abaf87afb1ea92
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 6 03:16:25 2022 +0300

    Send "unknown research" notifications to client

    Even when the client does not know research details,
    it needs to be informed about that fact to initialize
    values, or to clear old ones.

    Reported by ihnatus

    See osdn #45076

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 78fafcdc2be62d5351f032653a5fbbb9fd551059
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 6 04:40:36 2022 +0300

    Document meson as supported build system

    See osdn #45742

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4635f6f80e85df77df9815496ea5feb37ac82b81
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 11 03:47:32 2022 +0300

    Comment typofix: "then" -> "than"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 598af5c856e0715a8b307718a73be76313d436df
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 5 03:22:37 2022 +0300

    Improve illegal activities logging on savegame load

    See osdn #45341

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit be6cd5d1082b10a55fc99a45858a3a0ad1e8ba91
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 6 02:30:04 2022 +0300

    gtk: popup_theme_suggestion_dialog() fallback to correct default

    Both gtk3.22- and gtk4-client were using gtk3-client's default theme
    instead of their own.

    See osdn #45780

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b1a42acce584f0f75c1a7644dcf9579f0d76e42b
Author: Benno Lang <transmogribenno@gmail.com>
Date:   Sat Oct 8 19:55:26 2022 +0300

    Update city list for the Esperant nation

    Includes cities important in Esperanto history, Esperanto cultural
    references, as well as some cities from the original list

    See osdn #45762

commit 43a6b811efae0aa14442e9fb44a6074468dff276
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 9 07:47:27 2022 +0300

    Doxygen: Add freeciv version information

    See osdn #45581

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 47cf2bbb5cb89cf76b69476db6d664024e0ee566
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 6 01:16:49 2022 +0300

    Drop extraneous is_barbarian() call from can_player_build_unit_direct()

    See osdn #45631

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 98f17c3f9131eb76e26c51e8fd127c76cff468a2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 5 06:00:16 2022 +0300

    sandbox: Correct Space Elevator helptext

    - Remove repetitive 'city' from the radius and vision radius text
    - Remove trailing spaces

    See osdn #45751

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c0031176c5a2ec5d11fe34bcda1959e70c1a0533
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 3 19:38:43 2022 +0300

    Queue draws from blink_active_unit()

    It's called from a timer, so the UI can be in such a state
    that one should not draw to it.

    On gtk-client this sometimes showed up as:
    "Gtk-WARNING gadget with negative dimensions"

    Reported by jdlh and Jacob Nevins

    See osdn #42263

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 03b1ec297e5025d42699fa749693e14d45339fe8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 5 20:26:50 2022 +0300

    gtk4: Add pact clauses to the treaty menu

    See osdn #45774

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 54951f7a7037ab183febbd00a8e2718d2a9cf263
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sat Oct 8 03:09:22 2022 +0200

    sandbox: Make Space Elevator only possible near the equator

    Requested by Marko Lindqvist (originally by Sveinung Kvilhaugsvik)

    See osdn#45772

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 50b4d750417a98568c908b85268a8999caf7c701
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Fri Oct 7 22:45:51 2022 +0200

    generate_packets.py: Complete remaining documentation

    See osdn#45755

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit bff87975c7d116d30727bcd7d76fb67076145d17
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Mon Oct 3 19:55:44 2022 +0200

    generate_packets.py: Remove array nesting limit

    See osdn#45754

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit c872c010136bb58c994acc0664618ee0afb61c24
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Fri Sep 30 22:00:07 2022 +0200

    generate_packets.py: Unhardcode input path

    See osdn#45753

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 5919b3daa90ed752971d7f28daf03fef9a6d91ce
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Fri Sep 30 20:29:38 2022 +0200

    generate_packets.py: Move script configuration into a class

    See osdn#45752

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 8bf0e41c3b69e8c9ea6ad8e50efd7595596cfd08
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 26 18:36:55 2022 +0300

    Split freeciv_tolua.patch to logical patches

    See osdn #45733

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aeeeff6eace1176b698cec993e0d141c8b610a59
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 4 23:56:26 2022 +0300

    sandbox: Demonstrate Tech_Parasite_Pct_Max effect

    Great Library reworked to have a Tech_Parasite_Pct_Max effect

    See osdn #45718

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit feb65662c4acddb476bf7a3a058875a9baf25148
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 1 01:01:12 2022 +0300

    rand.h: Correct comment about boolean value "0"

    It's FALSE.

    See osdn #45756

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 85fe0c07ac7e6baff79195cfe009db179c257cfc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 9 05:47:07 2022 +0300

    Add .gitignore for flatpak directory

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3859de453b74d94f1847ad4cd3f28c9369a5640e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 9 05:01:43 2022 +0300

    FAQ: Update latest stable version number to 3.0.4

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a4b44ce6506f09487912a6f598c95109a4a9afb0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 9 03:16:53 2022 +0300

    Merge Esperanto translation from S3_0

    Translation updates to S3_0 by Benno Lang

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f0a61aa93ebbdbcd202f1c97ef9bc561afeeb202
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 5 02:34:32 2022 +0300

    gtk4: Fix move_toolkit() double assignment of 'iter'

    See osdn #45769

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6a7f78decdc937f56cb446c6b1c46da48d955494
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 2 09:51:14 2022 +0300

    gtk4: Fix filling actions to horizontal gui_dialog

    Turn entire actions area from GtkGrid to a GtkBox

    See osdn #45748

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8dac5e7f22a05948ec34aa221cd60c6e0ae96c5f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 8 16:13:20 2022 +0300

    CI: Don't try to build threaded AI

    It doesn't exist any more

    See osdn #45806

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit acae4ab4ff17acdefb478908bcea647f9ec3e41e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 1 18:37:42 2022 +0300

    Drop 'threaded' AI module

    Based on 'unfixable' report by andrewmcg

    See osdn #42268

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 25951351f24bb8267fea933446f16e51c4db5607
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 3 17:34:09 2022 +0300

    Add info about what can be built to city web-addition packet

    See osdn #45747

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b9958e0c7ee0b33a1505648d863834307e83fe20
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 5 15:36:17 2022 +0300

    Update is_hiding_unit() function header

    See osdn #45777

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 893e1993abf277263fd132e5b98bb4a54380a6c1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 1 13:14:51 2022 +0300

    Fix dead assignment in upgrade_unit_order_targets()

    See osdn #45735

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 48014c98efafa192c061a01faccaf841d1311176
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 1 05:52:58 2022 +0300

    gtk4: Add set of unit actions

    - Set Homecity
    - Upgrade
    - Convert
    - Disband
    - Pillage

    Also fixes setting sensitivity of Explore, Build City, and Autosettler

    See osdn #45746

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a2c82167c2eb80c19ddab7e8aa858a79cdf108c4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 5 16:14:23 2022 +0300

    Msys2 Makefile.meson: Make build dirs arch specific

    See osdn #45778

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2924bfd99949f221a99125630bfb6f219fa1dfed
Author: SÅ‚awomir Lach <slawek@lach.art.pl>
Date:   Wed Jul 13 15:25:32 2022 +0200

    Add ruleset comments about counters

    See osdn #45028

commit 062644e00ca91a2b44ee82c278ffc92944448955
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 30 03:52:39 2022 +0300

    Reword VUT_DIPLREL_UNITANY(_O) requirement texts

    See osdn #45516

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 61da216092c68d4282d4458691baee60f64f7dca
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 1 17:32:20 2022 +0300

    INSTALL: Add missing space

    See osdn #45757

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 59f55249f113513c1da8f3c1a487438a628b93c0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 5 01:36:26 2022 +0300

    Stop memory corruption on dai_data_phase_begin()

    It can get called when the tile continent numbers are in
    inconsistent state. Check that ids used are within the
    boundaries of the worker statistics arrays.

    This just stops crashes seen because of the broken design.
    It doesn't address the issues of data being inconsistent
    in the first place.

    See osdn #45768

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9698c7515effa7b9108283f8dab5de50f0f6db52
Author: Dino <macwiz23@comcast.net>
Date:   Wed Oct 5 05:21:32 2022 +0300

    README.effects: Tell that Output_Penalty_Tile does not apply when celebrating

    Modifications to the patch by Marko Lindqvist

    See osdn #45084

commit 32e465405754b1e36f2b55768c2a0c14bab8afd7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 7 01:43:40 2022 +0300

    Update German translation of the nations domain

    From Andreas Engel

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 820b2b98d3da1f5921d7ee41b3b5f267abd0325f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 30 17:10:46 2022 +0300

    gtk: Drop worklist_response()

    See osdn #43309

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 70d3542af92efe64bc20d02afcaf01f99b130e29
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 2 17:38:24 2022 +0300

    Remove unnecessary includes from common/ headers

    See osdn #45720

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8f880aac692d6185fafb15481f3af65e36140748
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 30 03:17:56 2022 +0300

    Add doxygen marking for apply_cmresult_to_city() header

    See osdn #45726

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 78e3d28e93125d3d594acf6fdb81bd9c12b6f992
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 1 12:51:58 2022 +0300

    guis: Use 'board' / 'deboard' namespaces

    Make it a bit clearer what of the transport actions each
    function is about.

    See osdn #45750

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2cde14f67d59e8f093cf197628584eda42fe88e6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 30 18:02:13 2022 +0300

    Qt: Fix targetless revolution

    See osdn #45721

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 28fb11a0d14c7342e7fbb221f1963f1e18487d25
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 30 02:40:25 2022 +0300

    gtk4: Add misc clauses to the treaty menu

    See osdn #45731

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cbcbf95d4d2a278a186c3328812b12a47da3e315
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 5 16:47:13 2022 +0300

    FAQ: Refresh from wiki

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cb83b5de47896fbe37a34d83d04d55160130b2dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 1 18:11:30 2022 +0300

    Meson: Define HAVE_VSNPRINTF and HAVE_WORKING_VSNPRINTF

    Have a dynamic existence of vsnprintf(), and assume it to be
    working one except on Windows.

    See osdn #45706

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7d8a692d6da8a133ace2a11d5fae60f36f3c9b28
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Wed Oct 5 06:29:21 2022 +0200

    Updated French translations for Freeciv 3.0.4 - and others !

commit f3ba94dc6e11e43724b4c91098ef85a8831b6e45
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 25 13:18:05 2022 +0300

    Doxygen: Document get_diplomatic_defender() paction parameter

    See osdn #45714

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cdd6be320d2397a9547f5cc999d8e4ed3be21d43
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 26 02:31:48 2022 +0300

    Server CMA: Try with default parameters after cancelling user's

    It used to go directly to fallback where it adjusted
    current parameter - which was still user provided one
    at that point.

    With this change, after user's parameter fails
    - First it tries with the default parameter
    - If that too fails, then it tries with parameters
      adjusted from the default one

    See osdn #45727

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c3774ddccfa12bfb6570ad75e88b57228e68139e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 30 03:11:14 2022 +0300

    Fix action_decision_maybe_auto() NULL dereferences

    See osdn #45729

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aa1a422ac7a36960491ad88003b899d5abba0e29
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 4 20:43:26 2022 +0300

    Update German translation by Christian Mauderer

    This is just S3_0 de.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4671bffb7ad8ce7364a8ebac4b2729e48d9bb7ab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 26 05:33:35 2022 +0300

    gtk4: Add chatline color buttons

    See osdn #45712

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 89871b81ccfffbe21e2f2f27aaf75920ce982983
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 30 17:03:18 2022 +0300

    Drop obsolete ALL_LINGUAS from configure.ac

    See osdn #44098

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 070f8fc51ef2bd732aa34be619adb2013413cfe7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 30 03:36:04 2022 +0300

    fc_strrep_resize(): Use SIZE_T_PRINTF when logging size_t

    See osdn #45529

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit da02719da39acbd5a47b853d43b7f035afd93578
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 26 05:21:53 2022 +0300

    Fix barbarians' exception to unit tech requirements

    - Introduce are_reqs_active_ranges()
    - Call are_reqs_active_ranges() only for ranges not already
      checked by the player level check, when checking if the
      specific city can build a unit

    This means:

    - City level check does not override barbarians' exception
      player range tech requirements
    - Counts as an optimization as the player and higher range
      requirements are not checked twice

    See osdn #45571

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b75a329736ccb941ba9297b77d1f35370ee54422
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 29 23:58:08 2022 +0300

    Improve fc_vsnprintf() boundary checks

    See osdn #45719

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b791dbf9edcfeb7f37e54c9ce21f51a198f13791
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 25 23:06:18 2022 +0300

    gtk4: Create toggle button for editor boolean widgets

    objprop_setup_widget() created check buttons for booleans.
    Later they are assumed to be a toggle buttons.

    See osdn #45710

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 07167e99fdb748248ae1e060cf7beddf626731a3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 30 02:04:10 2022 +0300

    Doxygen: Place output on multiple subdirectories

    We hope this to reduce cases where files with their name
    differing only by case end to the same directory, and thus
    causing problems with case-insensitive file systems.

    Requested by elefant

    See osdn #45736

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e6cb1c458a1d39b06f65a69822c558d08a28db77
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 30 02:26:57 2022 +0300

    sdl2: Rename create_vertical_surface() 'High' as 'height'

    See osdn #45674

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 92a2c5003cb8245e89ecabb0c23f4a6e22bfbbb8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 25 21:03:49 2022 +0300

    Add Tech_Parasite_Pct_Max effect type

    See osdn #45596

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6e2b5218c816cee73256f05f4cb763589e7ec409
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 2 08:55:58 2022 +0300

    Merge Esperanto translation of core domain from S3_0

    Translation updates to S3_0 by Benno Lang

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e22656a3781746c5d092bc469db287eb1f99eb20
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 2 07:51:30 2022 +0300

    Update German translation by Christian Mauderer

    This is just S3_0 de.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 28959f64cbde80e79c26d8251609fe4691494bc9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 25 14:20:19 2022 +0300

    load_ruleset_nations(): Fix section_list_destroy() call with garbage

    In certain error situations 'sec' was garbage when it was passed
    to section_list_destroy()

    See osdn #45537

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 85011370865d800a037e5abf5cd9788524e05349
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 25 04:44:29 2022 +0300

    gtk: Drop editbar.player_properties_button

    See osdn #45711

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3e4cb82040db463d5bf75c09bf74364157110683
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 25 13:44:28 2022 +0300

    CI: Run freeciv executables with '-F'

    See osdn #45582

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 37a36ffcc2558709e1dff635f0b7394cca924467
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 27 05:39:08 2022 +0300

    Qt: Correct order of helpdlg.h includes

    Also, helpdlg_g.h was being included as extern "C" though
    it lists gui's own function prototypes, i.e., it's about
    Qt's C++ functions in this case.

    See osdn #45694

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f81bd61f050fed63f916e7b6598a4c8f6919395d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 24 16:08:24 2022 +0300

    Fix city_add_improvement_with_gov_notice() memory leak

    See osdn #45707

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9f50d909966b24b5afe2910c7ba41c6198122dd4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 24 13:20:45 2022 +0300

    Correct "existance" to "existence"

    See osdn #45599

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 54dc94685686cde35b8b0318ae44fde1741ebfad
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 24 12:43:48 2022 +0300

    gtk4: Implement mouse press handling for messagewin

    See osdn #45690

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit df3f3a1e6231357d4b1608e09ded1b68a00bec91
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 24 00:39:35 2022 +0300

    sdl2: Fix chat sending

    See osdn #45702

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5ebcf5487946c39faca6fd2c629380af4da343ca
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 30 18:29:46 2022 +0300

    Update Finnish translation

    This is just S3_1 fi.po msgmerged against master strings

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cae6cd3e0214d564d451a55a6c7d7fd689fa4f77
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 23 20:16:58 2022 +0300

    download_modpack_recursive(): Fix dead 'filenbr' assignment

    See osdn #45688

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 88512195c3b6c57c83745a9e47fd62bf6540deb3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 23 05:47:36 2022 +0300

    Split single unit upkeep out from city_units_upkeep()

    See osdn #45686

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bd09a9e4a33263c9b97a6b66aec33ab57a4d27d2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 24 17:34:09 2022 +0300

    AI: Fix diplomats acting against cities with id > 64k

    See osdn #45116

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4239d52b0b47bf23590f2b58923c4552a02f4fa8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 23 23:40:08 2022 +0300

    gtk4: Add initial city report menu

    See osdn #45681

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 30f3b22e7796e538e8eff046c4a77c204e07355f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 20 21:35:43 2022 +0300

    CI: Update setup-msys2 to version 2.13.0

    See osdn #45608

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8b1a2d4190e8b5d2bdd432428336c12b963d4a70
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 30 01:25:47 2022 +0300

    Bump version number to 3.1.92.1-dev

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d27ec4b3b8c8bb615f2aa5ff0040a9af61a77415
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 26 01:16:48 2022 +0300

    Make untargeted_revolution_allowed() callable from C++

    See osdn #45722

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 80c33d3c6cf38d4df452da12de3d09071adcab02
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 23 21:59:26 2022 +0300

    get_ping_time_text(): Skip any negative time

    Never show a negative time as a real ping time.

    See osdn #45500

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4d9374bca2528f405f4836f547fe63f4f749c6fe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 23 05:28:02 2022 +0300

    cm_state_init(): Fix passing NULL list to qsort()

    See osdn #45536

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 771a70a343eb562a0d9bdcd3ccd223b20a155818
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 23 17:20:17 2022 +0300

    gtk4: Set correct size for citydlg citizen bar

    See osdn #45672

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b5a5c9b3761a5a2b835b50633f07afbbab137193
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 23 22:42:28 2022 +0300

    Meson: Drop ack_experimental option

    See osdn #44491

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5361340f9cef8bf08a1dee2739aa89e52fcc11cd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 23 23:12:34 2022 +0300

    sandbox: Correct Space Elevator Tether helptext

    - Remove repetitive 'city' from the radius and vision radius text
    - Remove trailing spaces

    See osdn #45517

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a5b9ba3609ed811bbea3cee0b7781e33c79f5174
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Mon Sep 26 14:41:09 2022 +0200

    generate_packets.py: Parse packet flags in one go

    See osdn#45723

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 0cee44dfb3f7d558836b62ffed87b5127f6d7196
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sun Sep 25 23:52:47 2022 +0200

    generate_packets.py: Introduce type registry class for resolving field types

    See osdn#45717

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 183b227443c0678cf9586c8d5d2efa06cdab2eb4
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sun Sep 25 17:44:32 2022 +0200

    generate_packets.py: bit-copy key fields when zeroing struct

    See osdn#45716

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 743419f51fed5e72878c18b8bcda4991cdbd4e30
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sun Sep 25 16:26:23 2022 +0200

    generate_packets.py: move key cmp/hash into types

    See osdn#45715

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 68a85d3762f5ed3a1b5784f030dbf48734d9e6f2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 24 01:55:07 2022 +0300

    alio hills.spec: Define artists in correct section

    Client expects entry 'info.artists', alio hills.spec
    had no [info] section but had 'spec.artists',
    leading to unused entry warning from the client.
    Add [info] section where 'artists' entry goes.

    See osdn #45574

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fd468d0960d497d0b9831f2ad643f1428c4f05d3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 20 21:58:02 2022 +0300

    List p)ersistent parameter in metaconnection synopsis

    See osdn #45334

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 239f228b9deb2376eb4d8dda8612f3d50bdc5907
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 21 19:43:06 2022 +0300

    gtk4: Add misc set of menu entries

    See osdn #45670

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eed06f36d9872233d701d8e6aa854c0834d25419
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 27 19:18:05 2022 +0300

    Comment typofix: "numer" -> "number"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a730d4de287bc10a3f49c4d0a0545037cc8696f2
Author: SÅ‚awomir Lach <slawek@lach.art.pl>
Date:   Sat Sep 24 13:44:05 2022 +0200

    Stop saving "game.hardcoded_counters"

    See osdn #45603

commit 6f5dd63637be3be21649b196720109d2d87113c5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 23 16:36:09 2022 +0300

    ai/default/Makefile.am: Correct alphabetic module order

    See osdn #45662

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6d78761dfb22f684b01380a95a7a1a936a4564de
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 24 22:53:35 2022 +0300

    req_copy(): Copy "present"

    This was causing barbarian unit build requirement results
    to flip occasionally due to use of uninitialized "present" value.

    See osdn #45709

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6540d041f93d4be73df0949b3c85f78599f838c4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 21 19:56:58 2022 +0300

    Fix dead assignment of 'i' in saving multipliers order

    See osdn #45679

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f8c2278b21dbacd773cddda32ee90ec54d6b0620
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 18 14:14:32 2022 +0300

    sdl2: Locate luxury icon correctly on happiness dialog

    See osdn #45578

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b1dde29a0c4d076bf4563cc355ae0a7defda74b7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 20 20:07:26 2022 +0300

    gtk4: Add city trading clauses to the treaty menu

    See osdn #45639

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b76f672f30be85a2b603ccb57f5eee3e1d846fbc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 24 03:11:43 2022 +0300

    configure: Search mariadb configuration by name mariadb-config

    See osdn #45703

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 245903f8c8cae53b1f1d39ac1b11af0c809594a4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 20 20:14:04 2022 +0300

    sdl2: Fix widget_scrollbar.c 'count' dead assignment

    In add_widget_to_vertical_scroll_widget_list()

    See osdn #45673

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 12e9a3036d3f0c140723374700dbc45e3486b6dd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 19 21:47:31 2022 +0300

    AI: Use correct UTYF_BADCITYDEFENDER firepower

    Replace hardcoded '1' with game.info.low_firepower_pearl_harbour
    at max.
    Similar fix also for CBONUS_LOW_FIREPOWER unit in one place,
    to use game.info.low_firepower_combat_bonus

    See osdn #45593

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e513856a58bac0e2a8e1dcf828953fc7bdd0a989
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Mon Sep 26 01:32:56 2022 +0500

    Update for Russian translation.

commit 3f7972a12d9ac1ce3b973ec78ccc41233fc9c741
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 11 08:55:05 2022 +0300

    Fix memory leaks from req_to_fstring() usage

    See osdn #45544

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 75ec24fe31c588fddb45f9d66ca87610b4efd47c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 25 19:23:20 2022 +0300

    Update Finnish translation of the ruledit domain

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e8229760d7760417fc90112de098ff2e7f08da62
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 19 21:01:35 2022 +0300

    gtk4: Implement gui_dialog mouse click handling

    See osdn #45624

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cebbbe8ef862006c9b9dcec651960db47ba8df26
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 20 05:39:06 2022 +0300

    Add function header for is_bigendian()

    See osdn #45510

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fea4b10c9b67d1dba16ddc60ea94ef76ad2f56d7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 19 21:55:09 2022 +0300

    flatpak: Update freedesktop runtime to 22.08

    See osdn #45615

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c75832bca416851fb048050314a3a9244ad9d6b6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 25 05:58:32 2022 +0300

    POTFILES.in: Add srv_signal.c

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 31fa7e9f3072887a6bbd8b81b66d92b89c63a03f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 20 00:51:18 2022 +0300

    Add missing space to 'huts' setting description

    See osdn #45669

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ab7dd10b66599a532e42bb0a072010b51eed38a1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 21 19:27:10 2022 +0300

    Increase size of the buffer of fc_vsnprintf() fallback implementation

    The old internal buffer was 8k. Preparing secfile for saving may request
    handling of buffers of 8096k.

    See osdn #45682

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b32ea7666b417fb3230ecc898b1c438fdc7b57d1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 24 23:59:25 2022 +0300

    Update Finnish translation of the nations domain

    Mainly unfuzzyfying entries.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 739e1d7c6749fc3b7b8e249d3982b9b47aabf06a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 18 07:23:33 2022 +0300

    gtk4: Fix bad setup_widgets() cast of GtkBox to GtkGrid

    See osdn #45623

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit becd338f9683e587633e3523445d5c27c7367f74
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 24 14:44:38 2022 +0300

    Comment typofix: "ac_func_vsnprintf" -> "ac_cv_func_working_vsnprintf"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d0a51670cdbe0f7b1c8168f02953dca8ea873443
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 18 13:34:16 2022 +0300

    Clear trailing spaces from user lua -files

    dependencies/tolua build related files not touched.

    See osdn #45182

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ddc95f920cccbcb06c8a370539231e7f3a40724c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 19 22:25:13 2022 +0300

    Qt: Fix fc_shortcuts_dialog::refresh() dead assignment

    See osdn #45668

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1339291c4222f45f784b400727f3981120192c42
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 18 07:11:18 2022 +0300

    Reduce number or redundant advance_count() calls

    See osdn #45542

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fa78501fcdaa6b7650d65d47dacfc70c6c1c9f8c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 17 17:33:41 2022 +0300

    Man pages: Document log levels by names

    See osdn #45589

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e2d11c13f6fb24f91752caf368b23aff8e9f8360
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 11 08:12:07 2022 +0300

    gtk4: Implement editbar mouse click handling

    See osdn #45622

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3bd55dfb60749b8a0e2935a83d9f58b557ee14c3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 17 18:35:51 2022 +0300

    Update gnulib-common to serial 74 from gnulib upstream

    See osdn #45657

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 40e4dc6839792a7f80ed0321041b207c2561d126
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 10 02:05:39 2022 +0300

    city_units_upkeep(): Remove pointless memset()

    While touching the funcion, move also variables to
    the inner block where they belong.

    See osdn #45614

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a0cd8f89a80eed9fbb0abee35c77ed9cde28be8d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 18 12:45:08 2022 +0300

    Correct city_map_radius_sq_set() function header

    See osdn #45342

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8ebbb3a1102b242e6b2e5ddcb36627e609e0bf55
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 10 02:58:57 2022 +0300

    AI: Refactor defender unit selection

    To make future fixes easier.

    See osdn #45597

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8e360835d79f1e2ef7179825f8049bd1d2afc382
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 23 07:04:29 2022 +0300

    Comment typofix: "deterninate" -> "determinate"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f15be78f5ec3919d260c32b3993ade06cbe5233f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 10 06:42:05 2022 +0300

    gtk4: Activate unitsel*dlg default option as GtkCheckButton

    Old code tried to activate it as a GtkToggleButton.

    See osdn #45620

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4f42d502ff06dd28475496916f834f6cf1d742d3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 10 03:24:41 2022 +0300

    Meson: Add sys-tolua-cmd option

    See osdn #45612

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6ab55eeff9c47e6174f10dc23a7df98ba898709b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 18 06:59:36 2022 +0300

    dai_manage_diplomat(): Fix dead pcity assignment

    See osdn #45663

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fd7c2a06064c1879e355d281bfcd69ea7195de63
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 9 22:02:16 2022 +0300

    Set diplstate max_states on barbarian creation

    See osdn #45579

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 21effb237a748c2ef4c96e81f78ba3ef73d408fc
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Thu Sep 22 11:45:22 2022 +0200

    Updated French translations

commit 3c36d2aceeb79fda06d4119a12ea3b338c3ea20c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 10 08:32:33 2022 +0300

    Qt: Drop dot from the end of "Wonders of ... Empire" heading

    See osdn #45635

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 718b6b2ff9562b42b4ad1e27ed77878c478320d9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 10 02:02:08 2022 +0300

    gtk4: Add menu for inserting Global Worklists

    See osdn #45619

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a2c586e2777435fc9615e58fe5f0143172715d2b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 10 05:53:38 2022 +0300

    city_choose_build_default(): Fix dead assignment on NDEBUG build

    See osdn #45633

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fc8c68fa43604ef8856518ccdd2057fefa403635
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 10 01:39:48 2022 +0300

    configure: Require vsnprintf() to have C99 return value

    We're not going to support C89 vsnprintf() any more.

    See osdn #45630

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eb8ed47a6840a39bd4976b6ed8dcbb625f803481
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 17 05:48:13 2022 +0300

    Add server support for (web-)client to request CMA

    See osdn #45485

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b760039e57259939c928accd1104329c35da4b61
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 9 23:02:16 2022 +0300

    Count units lost due to shield upkeep to score.units_lost

    Reported by ihnatus

    See osdn #44887

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 481e73ff80fc1dd03ee905e9615797b7aa28b7aa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 9 22:32:02 2022 +0300

    Correct unit_refresh_vision() function header

    It spoke of city vision range, instead of unit one.

    See osdn #45060

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 76e045e32452f0ed7c7cd2b1fad14c91070d65f1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 9 21:27:03 2022 +0300

    gtk4: Don't try to treat GtkBox as GtkGrid

    See osdn #4558

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fb18c6b52d35ebcabafaa058a6ca01b2aa9cb6ae
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 9 02:07:26 2022 +0300

    configure: Enable automatic gtk4-client selection

    See osdn #45606

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1c5dfa0a2a2e4d9104bdcac11c92546d45c4798c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 20 05:29:42 2022 +0300

    Comment grammar fix: "be not synchron" -> "not be in sync"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4040df6ed55a97eb9402507734c4a00e0e8dcd96
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 11 07:49:54 2022 +0300

    savegame3.c: Stop saving diplstate type order

    That's not needed as the references are saved by name,
    no mapping from integer values needed.

    See osdn #44959

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 347b89c1596520ba1e2e801eadc47ea094700f76
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 19 23:59:22 2022 +0300

    Update Finnish translation

    This is just S3_1 fi.po msgmerged against master strings

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f260c058b0d7fa0c5dea3520d2461dd6e13ee8a6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 9 01:32:29 2022 +0300

    Use textual log levels in --help output

    See osdn #45469

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e0709e2e130481be3bf9b3a54fcc34e93e7a839f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 9 03:03:08 2022 +0300

    Doxygen: Fix error in make_escapes() header

    See osdn #45505

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ed8fc2f6fbf4c25b9610e2d98b2d9aa189aebabe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 9 01:23:01 2022 +0300

    gtk4: Add menu entries for Sentry and Fortify, with sensitivity

    See osdn #45575

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9543fde3e62b33abd3e1c8ee5925bbef53f14009
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 6 05:07:06 2022 +0300

    Update msys2 environment to 220903 level

    - Include ucrt64 environment

    See osdn #44789

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aad92ee9057c18c414ace25b15862150af77309b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 10 04:30:09 2022 +0300

    Fix how tech requirement exceptions work wrt barbarian roles

    See osdn #45632

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bbca8f9a21fb2294f2e2728e8aa216ff2151543d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 4 14:04:56 2022 +0300

    control.c: Drop unused 'old' variable

    From action_decision_clear_want()

    See osdn #45569

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9cb4efc6ece5c96d76b0493744e96e1e937984aa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 5 17:44:17 2022 +0300

    sdl2: Fix happiness dialog building surfaces selection

    See osdn #45577

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b17f55725b2a468817f1fe5c51e35892905b413a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 5 06:02:24 2022 +0300

    gtk4: Open help dialog from worklist right-click

    See osdn #45576

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 03ad933de9a7fbabfa69d1d9348f2ece2b9eec2c
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Tue Sep 13 22:02:50 2022 +0300

    Lua: API for advanced research checking

    See OSDN#45068

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit 3f10e458faf07c129256fe04a8f42b50a5c92b7a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 9 21:34:07 2022 +0300

    *.metainfo.xml.in: Add various URL tags

    See osdn #45617

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4f6587821cf715055d5f2753c85ac986b1f3b38e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 4 12:39:44 2022 +0300

    Qt: Drop unused 'sbool' variable

    From fc_client::slot_selection_changed()

    See osdn #45539

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ded598ad0a1a5583fc4f5f8005642194215c04b3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 5 00:13:00 2022 +0300

    Always free unit build reqs vector in unit_type_free()

    It was being skipped for units that do not have
    handwritten helptext part.

    See osdn #45572

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c853404a63e3460cedde9d5aea02c72948b269e1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 4 20:32:29 2022 +0300

    Fix filling player "scenario reserved" property to editor packet

    See osdn #45491

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e1ab8fa92e815b17a3418eda99a35a03b94c8f59
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 4 05:52:57 2022 +0300

    zulu.svg: Update to inkscape 1.1.2 format

    See osdn #45565

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ca06a1e46948ee53cb847db878060a74cfd10eab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 4 08:25:08 2022 +0300

    gtk4: Turn left panel indicator icons to GtkPictures

    See osdn #45568

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 38283d81e97ed0a20d4a1ef7e35570718f63eade
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 9 01:10:59 2022 +0300

    spec_propagate.sh: Have the name of the comments file just once

    See osdn #45611

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5668df37f3693898705504cafdb89708bbbba303
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 3 19:45:33 2022 +0300

    zhuang.svg: Update to inkscape 1.1.2 format

    See osdn #45560

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 39e2ee6f46d42b2d58582790881059e40ce153b6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 9 01:04:29 2022 +0300

    Add requirement type OriginalOwner

    See hrm #870139

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 948f3159bfcd4c8823310eb7737fb453f5d0009f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 4 06:06:58 2022 +0300

    AI: Switch from future tech research to real tech when possible

    Start researching real tech, if one becomes available during
    future tech research. Typically would happen when one loses
    previously known tech.

    Reported anonymously

    See osdn #44419

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bdd5383cfd0039811016ad6407d3e5b7932d10f7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 4 04:18:36 2022 +0300

    gtk4: Replace citydlg info popup window with GtkPopover

    See osdn #45555

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c11ca08fb4a20112f34561be678371946875f13a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 5 00:46:15 2022 +0300

    Add src-check against trailing spaces in most user files

    See osdn #45125

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cd99262b225b89d40c7156590cb6b337716f8c83
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 3 06:44:24 2022 +0300

    zapotec.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #45550

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3731698b69edcc1397cad559a6f7efad9281d45d
Author: SÅ‚awomir Lach <slawek@lach.art.pl>
Date:   Thu Aug 18 15:52:15 2022 +0200

    Add counter ruleset packet

    See osdn #41123

commit 269aa779a572e53bb9f4092d5ac0a89f0b768a46
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 8 01:58:17 2022 +0300

    Stop cancelling wars on savegame load

    See osdn #45605

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2b6ade12b64c77cc337e5010b4290ad4fdd6a8df
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sun Sep 11 07:29:12 2022 +0200

    generate_packets.py: Don't implicitly select handle-via-packet/fields

    See osdn#45567

    Requested by Marko Lindqvist

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 502984e24f880af967e76b443557d933ebaf8f95
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 3 07:35:41 2022 +0300

    *_iterate_safe(): Evaluate list parameter just once

    See osdn #45480

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bbcaea1944d43589ddd6a283c1ec30ef1dbf9e54
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 3 18:40:24 2022 +0300

    gtk4: Add tech trading clauses to the treaty menu

    See osdn #45551

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 01331a3c2021ace934eb2a0837ff7683417ab395
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 3 07:06:57 2022 +0300

    Enable -Warray-bounds for --enable-debug builds

    See osdn #45543

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 72b4f96daa73718feffc5a0ead9b990596a6cc59
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 3 05:35:39 2022 +0300

    Correct reqtext of negated VUT_DIPLREL_UNITANY and VUT_DIPLREL_UNITANY

    See osdn #45514

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d0dc97566ff45be1d58008b3b6eb699088b9ce23
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 4 04:22:39 2022 +0300

    Fix map_claim_base() memory leak

    See osdn #45545

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1f455cbcaab788dffbe344d2bff0940006155287
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 3 06:24:06 2022 +0300

    gtk4: Fix making inputline button box visible again

    See osdn #45532

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1fc33faa82bed378fa601e8de93206894ff73159
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Aug 31 22:06:17 2022 +0300

    Man: Correct section of freeciv-ruledit page

    Unify entire header field with other freeciv man pages

    Reported by coldtobi / Debian

    See osdn #45533
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2dcd92ba3ff4b0f5401b0827cf21e637ceecfdab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 10 09:59:53 2022 +0300

    Protocol: Make connection count UINT16 in PACKET_CONN_PING_INFO

    See osdn #45501

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3f87b3ac05cc5ed585477386467999bca826393b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 2 04:01:04 2022 +0300

    zanzibar.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #45548

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 85174ecb0f4b290abb028cbe23ab18350c75ab59
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 10 08:05:57 2022 +0300

    Update Finnish translation

    This is just S3_1 fi.po msgmerged against master strings

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a5d8b66e935ade229e03e1ea49755e97796cce46
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 3 05:24:54 2022 +0300

    Stop inf file recursing to already closed including file

    See osdn #45418

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4ba2da37bcacc1709c4049d1c0a296530220d4e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 10 02:53:01 2022 +0300

    FAQ: Refresh from wiki

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 511aa856f338a9a12f2a16f94b4981fb7a6cc8e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 3 05:20:27 2022 +0300

    gtk4: Replace GtkImages with GtkPictures in editor mode

    See osdn #45531

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bd15e1bcb8edc18f64c6483bcf7c81ecb4e6a78a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 3 19:40:58 2022 +0300

    Make supplied tilesets to always have spaces around '='

    See osdn #45454

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f691f6a9f09efb64c1c4b89004cad86ee9dad823
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 3 02:07:17 2022 +0300

    Move code not related to cities out from update_city_activities()

    Add new update_national_activities() where those updates
    are made instead.

    See osdn #45492

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b90d575dcbe2674d91177715f4179ff85b9a99e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 30 02:44:35 2022 +0300

    yugoslavia.svg: Update to inkscape 1.1.2 format

    See osdn #45521

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ade746cdc66c097c5519a309118e1861b767275a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 28 16:47:27 2022 +0300

    Limit new player from civil war to max rates more accurately

    See osdn #44187

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bc295b797ab74b32d2f2a483b2e7df86b6589e8b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 30 02:37:41 2022 +0300

    gtk4: Fix optiondlg check buttons

    See osdn #45520

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2e4ed8f58e2ed9b1e04e98c19c3259253f03cecb
Author: Tobias Frost <tobi@debian.org>
Date:   Tue Sep 6 00:29:14 2022 +0300

    Fix spelling errors "Uknown" and "transfered"

    Minor modifications by Marko Lindqvist

    See osdn #45535

commit b587cac6e296f4c69e3ed58cf7d134b291857be0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Aug 31 04:56:26 2022 +0300

    README.actions: Add Targeted Steal requirement

    For Targeted Steal actions actor must know target's
    list of techs.

    See osdn #45462

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 463a2a11b1d4eb837f3c4f30338846a8effce851
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 2 03:32:55 2022 +0300

    Improve support.[ch] coding style

    See osdn #45506

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1eb3fe631140d46ce086261323dcce341de6777b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 4 14:41:58 2022 +0300

    rscompat: Fix detection of tech_req "None" for units from 3.1 ruleset

    The failure to handle tech_req "None" specially lead such
    requirement to be explicitly listed in requirement vector

    See osdn #45497

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a6d1864e2a6dd5aef0e017825431ebca4ecfb4a9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Aug 31 03:23:25 2022 +0300

    Qt: Mark "Wonders of ... Empire" for translation

    See osdn #45525

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8eafeee890c54193576e172a2f71b0d4f8a3a310
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 3 07:47:42 2022 +0300

    Avoid following illegal orders paths when loading savegame

    See osdn #45346

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 673820d5dd06230b2a213486fd62626ea41ebe88
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 29 01:56:14 2022 +0300

    gtk4: Fix leader sex selection buttons

    See osdn #45495

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7d30fb3da8639f60328eed64582fb80d26b2f363
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 29 03:10:56 2022 +0300

    yucatan.svg: Update to inkscape 1.1.2 format

    See osdn #45503

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6ca9205567be9ab221c3d7a7fb74fce9a26b9fe0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 4 08:46:43 2022 +0300

    README.msys2: Fix typo in package name

    See osdn #45566

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a23d4ba1826342a0fa3c51f9639eb7605b6e1efc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 1 04:50:17 2022 +0300

    Add inline advance_count() wrapper proving that it returns <= A_LAST

    Compiler was not happy with what it consider potential
    bigger than A_LAST return value from advance_count()

    See osdn #45541

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c0ba8e09f689cd0849587f95395165b8323e2e14
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 3 02:15:04 2022 +0300

    Call log callback from ruleset_error()

    This provides information to ruledit "Sanity Check" window.

    See osdn #45395

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 019a06bb84d0230e643e12aa607e9475d0b27242
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 6 20:35:20 2022 +0300

    Update German translation by Christian Mauderer

    This is just S3_0 de.po msgmerged against S3_1 strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0b158150cbf5908e0023b4938429618c5fac4d28
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 28 08:23:11 2022 +0300

    gtk4: Make tech tree window in helpdlg bigger

    See osdn #45494

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 763b5cbff2442b47bc7713a9d995199fc059c0ce
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 6 17:29:27 2022 +0300

    Comment typofix: "Actived" -> "Activated"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f381d0fd1ada57eed99f1f1d14b0852585df88ae
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 28 16:33:38 2022 +0300

    Meson: Do extra check that found readline library is suitable

    This protects against macOS libedit library that's not
    suitable readline replacement for freeciv use.

    See osdn #45161

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3b0a6e097f830282cd38cd401f15fb931ae75b00
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 28 16:30:00 2022 +0300

    xiongnu.svg: Update to inkscape 1.1.2 format

    See osdn #45498

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9cab94db3431b95155eb4bea566034507cbe9d36
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 29 02:15:21 2022 +0300

    Fix savegame2.c "unused entry" warnings about got_tech_multi

    See osdn #45380

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 26c8424f992d275293dff13d43e356e26fc48c0f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 6 05:48:04 2022 +0300

    Comment typofix: "a option" -> "an option"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1bb8db9eb97b74d354567ae73eb75e31dcdceb72
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 28 02:56:54 2022 +0300

    gtk: Add tooltip for endgame score display rows

    See osdn #45461

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dd7538a9c1726eb3afa25ff4739c3d8661f66662
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 28 02:43:53 2022 +0300

    gtk4: Add Irrigation build menu

    See osdn #45463

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ca0e7d9a134450a91a5b024e185eb30491a7d708
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 28 03:17:22 2022 +0300

    winbuild.sh: Scale default number of jobs to number of cores

    See osdn #43949

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e732623f47f9e377cc96b25025c82fbf66c8a872
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 28 02:49:16 2022 +0300

    wuerttemberg.svg: Update to inkscape 1.1.2 format

    See osdn #45490

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6b399296c7a4ca30d8ccdde98a3e2886145b0033
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 28 14:14:28 2022 +0300

    Lua: Add Direction.cardinal property

    Requested by Pepeto

    See hrm #657148

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 00971e1103cb884c6ecdd08a3359fd446ea3dc51
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 27 14:27:40 2022 +0300

    savegame2.c: Rename 'string' variables as 'str'

    See osdn #45481

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 256308578aa87b8e2fb9907583b714761d830148
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 27 10:10:13 2022 +0300

    Open editor gui immediately when entering edit mode

    See osdn #45456

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 265111aa9e392ff2cfccaca8cdcbd5ced0ad08df
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 27 10:45:59 2022 +0300

    Move AC_ARG_VAR(MOCCMD) to main configure.ac

    autoupdate can't handle AC_ARG_VAR() outside configure.ac,
    but crashed.

    See osdn #43027

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 08a4745c9107c84accf761d82b2292f9e3b82de4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 27 10:56:50 2022 +0300

    westphalia.svg: Update to inkscape 1.1.2 format

    See osdn #45479

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 76291bcac91ade173b3e7afed4d28ddfdd2a2b18
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 4 12:13:53 2022 +0300

    Reduce ping time accuracy

    Support bigger values instead.

    See osdn #45499

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9a69a8cbdaa962aced4068270902fbb67abaa20f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 27 10:04:00 2022 +0300

    AI: Drop unused max_move_cost from find_something_to_kill()

    See osdn #45307

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6c673668a70a9a9f9f6fa216e576ad84061cc42f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 27 03:34:16 2022 +0300

    gtk4: Fix options area size in optiondlg

    See osdn #45455

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b82d151bab5fc2d66e8fedea40717bea0376fe61
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 26 17:40:21 2022 +0300

    Refresh gnulib-common.m4 from gnulib upstream

    This is an comment-only update. Serial has not been bumped.

    See osdn #45444

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a2fed14cdd7149b330e7a3f4a2cf8376be7331ab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Aug 31 23:45:05 2022 +0300

    Add support for scenario player autoselect

    Reported by Andreas RÃ¸sdal

    See hrm #701752

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 92d924811096093c2c84795815caa0a95376607b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 26 18:01:13 2022 +0300

    volga_bulgar.svg: Update to inkscape 1.1.2 format

    See osdn #45464

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fd5573635c904eee938e9455dcc43648337d584e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 26 17:21:20 2022 +0300

    Qt: Correct spy_steal behavior when the target city has gone

    Correct spy_steal_shared() behavior when the unit's target
    city doesn't exist any more for some reason.

    See osdn #45411

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 64a5abf26215293206364f977c704f49a5448339
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 26 01:41:22 2022 +0300

    gtk4: Add initial clauses menu to diplodlg

    Has entries just for trading maps

    See osdn #45443

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 96f7528e7cb5e4d32a72334ec82548b12a4f65d6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 22 21:17:51 2022 +0300

    Add gtk4-client desktop and metainfo files

    See osdn #43449

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 549e73bc4fab912f4de058280069191e8456183f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 25 06:16:25 2022 +0300

    volapuk.svg: Update to inkscape 1.1.2 format

    See osdn #45453

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7a5f9beb26fbc41560832d02e2052f2d8340d448
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 28 02:22:36 2022 +0300

    Make pf_path.length unsigned

    See osdn #45416

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4d87bf0387344d5317b24b8d21f0e90469d557b2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 25 05:49:44 2022 +0300

    gtk: Fix setup_widgets() dead assignment of 'hpaned'

    See osdn #45445

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0e1ceaea72b8adb82dd7686ae5c9eacd67fa2474
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 27 00:09:56 2022 +0300

    Ruledit: Add --debug commandline option

    See osdn #45467

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2051972f2b0eebc929a4a91580c039ce944f9e24
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 28 08:42:55 2022 +0300

    Add sandbox.modpack to tarball

    See osdn #45457

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2b6c15b7af21bf44e2e8fc616d558b9ae2105f5e
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Tue Aug 30 19:43:37 2022 +0200

    civ2civ3: Fix which naval units are military and cause unhappiness

    See osdn#45225

    Original patch by ddeanbrown

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit d468027862e9227a3f4025ecbde5bd0f9ef99a1b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 23 21:18:10 2022 +0300

    vistulan.svg: Update to inkscape 1.1.2 format

    See osdn #45435

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit df4d960d9d4c23b2304bf5d9c86d734da80a2c6a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Aug 24 21:24:34 2022 +0300

    Savegame: Use saved city_options order

    See osdn #44960

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 358beef2a300d4450d42d53bde19127fa3312afe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 29 17:58:30 2022 +0300

    fc_strrep_resize(): Fix on NDEBUG builds

    See osdn #45508

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b8876567af54d87caa46f62b67c7db1858637f9e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 1 01:12:51 2022 +0300

    FAQ: Update from wiki

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1a6484bd7d6a938d3089ff7b7b2cb4b761a93598
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Aug 24 21:40:07 2022 +0300

    gtk4: Implement science dialog button gestures

    See osdn #45437

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6b0d81ebc8c34cc44ff9bceec390a21750e6357e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 30 01:38:21 2022 +0300

    Rulesets: Mark "CanFortify" helptext as xgettext:no-c-format

    See osdn #45518

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6339ffdefc27618b857c3d3e3e322b6c1f14a46f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 21 14:26:14 2022 +0300

    ax_cxx_compile_stdcxx.m4: Update to serial 15

    See osdn #45412

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 995b238138bb6fa0df30443c770de471ebd8bd2c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 22 22:07:29 2022 +0300

    vermont.svg: Update to inkscape 1.1.2 format

    See osdn #45427

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d15a1c24120ab0174eb5a0899900528873ef75d2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 22 20:29:50 2022 +0300

    Add server-side CMA info to PACKET_WEB_CITY_INFO_ADDITION

    See osdn #45268

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7749db5bb5b83b1c975e72d4d399aeeb488d8173
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 23 20:14:34 2022 +0300

    Disallow selecting more Future techs after losing a real tech

    One has to research the real tech again to regain ability to
    continue researching more future techs

    Reported anonymously

    See osdn #44592

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a673690c488e29fa22818bacb4b96167a80135b5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 22 23:24:12 2022 +0300

    gtk4: Implement happiness dialog popups

    See osdn #45424

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e62953909ca35bc0b8e6b1fd9a6756c245ba0ca7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 27 03:39:04 2022 +0300

    Qt theme: Add NightStalker/cities.png to tarball

    See osdn #45451

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d270534c026ded540c5329d14643d54a4d670858
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 22 05:49:33 2022 +0300

    venice.svg: Update to inkscape 1.1.2 format

    See osdn #45423

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0ff4cbec330ba24f50f6ec7dd1c8531bebf54187
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 22 05:36:54 2022 +0300

    rssanity: Use ruleset_error() instead of log_error()

    See osdn #44372

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c55ee1f67f819327f521cd9ed404c53c1468a4e0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 22 06:03:59 2022 +0300

    sdl2: Fix science_report_dialog_popup() theme leak

    See osdn #45422

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dad42dbe895c7920187a1a4827c49457ddead6bb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 30 01:14:44 2022 +0300

    Update Finnish translation

    This is just S3_1 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fa8e324d2dc78c6f37ab246e2eea7804b22549a3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 22 04:27:25 2022 +0300

    gtk4: Implement connection list button gestures

    See osdn #45415

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 414ec3b3ff1f9c2aa3e1a40938a678bbb0ce18b1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 21 09:00:12 2022 +0300

    freeciv.doxygen: Update to doxygen 1.9.4 format

    See osdn #45406

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 054245c761b626c55e8ac891090f6d080d3c8a57
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 29 16:37:37 2022 +0300

    Comment typofix: "allocated" -> "allocate"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 515d77632ac09c1432ac42a115a93d540b5a8e0c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 21 21:15:37 2022 +0300

    vedic.svg: Update to inkscape 1.1.2 format

    See osdn #45419

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d85a6c5c5b91f16969e6e5af94931f5742a197a4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 21 11:49:35 2022 +0300

    Make max_trade_routes() return type unsigned

    See osdn #45316

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5ec0ff92039082f72ed7c107c903599aaf3e1931
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 21 21:10:05 2022 +0300

    dai_auto_settler_run(): Fix clang analyze warning

    See osdn #45315

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f80d9243d372e911c12aeb3f670cd4852a56e6b5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 21 20:54:25 2022 +0300

    gtk4: Use GtkPicture in diplodlg

    See osdn #45414

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 66d02c6fa080857818f5247e9994e0b7e0ec379b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 28 18:23:53 2022 +0300

    Comment typofix: "used used" -> "used"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b59681442dc2126b9150c7d50e89ebcdc812e6c9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 21 11:23:20 2022 +0300

    vatican.svg: Update to inkscape 1.1.2 format

    See osdn #45410

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8d24859d7b2b9fc1b192c89bd3e4a0c99d8e616f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Aug 24 22:16:30 2022 +0300

    sdl2 theme: Install fonts

    See osdn #45433

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9666c94d386d6ea044d33bb17dc31f508d46b47c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 21 07:50:31 2022 +0300

    Cancel invalid war from old savegames

    See osdn #45345

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 870fe0717aa5888993af0a74fe3f6b9ba7c1564c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 21 11:14:58 2022 +0300

    Cancel illegal activities on adjacent tiles when city removed

    In alien ruleset, city might have been providing water source
    for the irrigation activity in adjacent tile.

    See osdn #45408

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 552662d255ab9c27c5ce49c08b887461c0be7c67
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 21 10:19:35 2022 +0300

    gtk4: Add Path/Mine/Base menus

    See osdn #45407

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3b05fb97bc606950c4b6d4b8d9f170c46c3d1f9c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 18 02:41:29 2022 +0300

    Make supplied rulesets to always have spaces around '='

    See osdn #41767

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 058bcce1cc40f03fcd340a4fe61d1aa2daeba2ce
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 23 04:44:51 2022 +0300

    Fix doubled space in requirement description text

    See osdn #45430

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0ebaaf54fd70385becc4d5fc09634bc9da26076e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 21 08:07:21 2022 +0300

    vampire.svg: Shrink page size to image size

    See osdn #45405

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2d20a0f9dbbf1c59e1728a793b3d9b926e0bd9de
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 20 12:32:26 2022 +0300

    Qt: Fix city_production_model::populate() renegade leak

    See osdn #45308

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b3e21219c1047ecf814531879844f20bca8fe700
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Aug 24 16:46:17 2022 +0300

    Bump version number to 3.1.92

    See osdn #45450

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 07352ed73592ae385692e1250ec5ac74e58ab958
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 20 03:55:37 2022 +0300

    gtk4: Make tile popup an GtkPopup

    See osdn #45398

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 76ead8041b0ce42e441c3bc037fb84c608579026
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 21 21:31:46 2022 +0300

    CI: Enable debug on mac-meson build

    See osdn #45399

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d412e982e4920a84d3753d74edf6a3c0a31219fe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 23 16:31:30 2022 +0300

    Add installer_cross/freeciv-gtk4.cmd to tarball

    See osdn #45432

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bd7e0884eb17839204481278da8babeea5674845
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 20 04:01:40 2022 +0300

    uzbekistan.svg: Update to inkscape 1.1.2 format

    See osdn #45400

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 83d28a608d8a451ac7b7bd74b6132729a8817911
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 20 03:25:05 2022 +0300

    Create web packages only if there's web clients present

    See osdn #45319

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c4a302ad717c58c5f39e1a7f7cdbde0cef16bd21
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 19 16:26:42 2022 +0300

    AI: Actively select tech on team with no pooled research

    AI was assuming that human team mate will choose the tech
    even when they don't share the research.

    See osdn #45397

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9f555134d0bddbb04f24df0bb1b7f92401b482ec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 19 06:32:02 2022 +0300

    gtk4: Don't try to listen to nonexistent "scroll_event" signal

    See osdn #45392

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4f21208d32590a95a17929f6d840cb5da02b70d7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 19 06:41:49 2022 +0300

    installer_cross / Meson: Add Qt6-client installer

    See osdn #45387

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4fae39b079eedd0fc5b6c47cf0166d20a0b34677
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 25 16:59:53 2022 +0300

    Comment typofix: "a option" -> "an option"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d7242d56d56aa968066ea39842c27ed9ae35d3ea
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 19 05:25:03 2022 +0300

    Be less spammy about fixing research count errors from old savegames

    See osdn #45344

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit df760ec0008ade0d2d7b0ff4cf4d9a0f0e4f65bb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 19 05:43:53 2022 +0300

    uyghur.svg: Update to inkscape 1.1.2 format

    See osdn #45396

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 318c2cf6559a0da14a8c793859d0c49463e27886
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 19 05:36:56 2022 +0300

    Fix editor crash when no resource is available for a tile

    If a tile somehow had resource assigned to it, despite
    the terrain having no natural resources, client in editor mode
    could crash.

    See osdn #45390

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e6c8bc57ac6baaa589dda47c6b140997a5aa41fc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 18 17:46:00 2022 +0300

    gtk4: Use "move-focus" signal instead of nonexistent "focus"

    gtk4 has no "focus" signal.

    See osdn #45391

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3b7ca82591c56f555d4b1f341356c5f3981aca95
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 20 03:33:04 2022 +0300

    Meson: Check if compiler supports '-Wno-nonnull-compare'

    Do not use the parameter, if the compiler does not support it.

    See osdn #45158

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7e64571de1e9229fbc3d5a9dd88ff6cb8e80cfe4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 18 02:17:47 2022 +0300

    Stop removing hiding units twice from the client

    Server was sending removal once for each "hiding" layer;
    subsurface and stealth, for units in either.

    Also rename unit_is_visible_on_layer() as unit_is_on_layer()
    as it does not really reflect unit visibility in layer V_MAIN.

    See osdn #45347

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 675fda3f03cd7a68e473a12f3db4874c2541a2d8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 18 05:10:19 2022 +0300

    uruguay.svg: Update to inkscape 1.1.2 format

    See osdn #45389

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a0d176bbcfb06cac16ba23888e7af522c81ec5fe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 16 03:28:40 2022 +0300

    sdl2: Fix diplomacy dialog gold widgets

    See osdn #45032

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0444042f39beb9a36c8943a6db7d4aa0adf3f648
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 18 02:06:30 2022 +0300

    gtk4: Set up science dialog scrolling

    See osdn #45379

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 25744686d97c4fe4ca9baaf6889fb940fcbaed33
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sat Jul 30 11:03:47 2022 +0200

    generate_packets.py: Correctly identify cm_parameter fields

    See osdn#45267

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 233336ae5d62b63b167ec5058787637e0e09e84e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Aug 17 18:03:17 2022 +0300

    Fix NULL dereference in entry_bool_get()

    See osdn #45008

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c7fc757bc8078c0e5d7c08f80d8ae0c3da4ee57a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 18 02:12:01 2022 +0300

    urartu.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #45385

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 009ca51f541d8da36ca88b50145af96351350783
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Aug 17 04:23:57 2022 +0300

    Generalize unit type build requirements

    Requested by pepeto

    See hrm #846779

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f8f725941fb4ca2c4a4685ce816e6fa5cbebe476
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 23 04:07:26 2022 +0300

    Update Finnish translation

    This is just S3_1 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e806f2d88796b9b2df81843990099342f1a234b2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Aug 17 17:07:10 2022 +0300

    Qt: Drop unused 'raise' parameter from science_report::init()

    See osdn #45113

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5d85fc89fdaaead8ad7bb3f6835d206bc3fd3208
Author: SÅ‚awomir Lach <slawek@lach.art.pl>
Date:   Mon Aug 1 12:18:03 2022 +0200

    Support multiple counters of the same type

    See osdn #41122

commit bcfb91aede0700d572f14f45513be66d25dbffc3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Aug 17 16:51:10 2022 +0300

    gtk4: Use GtkPicture for helpdlg icons

    See osdn #45378

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 64a3d03cde1e9c6f3272507c925ce14673cf4fd2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 22 19:22:54 2022 +0300

    Update Finnish translation of the ruledit domain

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8636e0b769d333bc016518f7fd2568546e7c5381
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 14 17:45:35 2022 +0300

    Update to crosser-2.4

    See osdn #44724

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bd6b6c87699a9118e2a2bfdce3ab69628cbe2d8f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Aug 17 16:59:18 2022 +0300

    unknown.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #45382

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 66d4365d71c45788404ec8c6f85b8138f9f7ece0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 9 17:44:43 2022 +0300

    Make single-step goto to behave like normal move

    See osdn #44496

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e93c9aa608a72e4df49520e1aa6fb6304a191cbd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Aug 10 03:15:12 2022 +0300

    Savecompat: Convert E_UNIT_WIN to E_UNIT_WIN_DEF

    Event has been renamed in freeciv-3.0.

    See osdn #44809

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 81dbd10e2901e32530e930f73df83bf7cbd530ed
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 14 04:36:11 2022 +0300

    gtk4: Add players dialog menu

    See osdn #45337

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 29d7cf2514e42db11a7cb992e980cfc1357539de
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Aug 10 03:45:10 2022 +0300

    Refresh .po files from gnulib upstream

    See osdn #43022

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d052971590bff18d2e6d441a3c7665c724677e57
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 21 16:20:32 2022 +0300

    threadedai: Fix dailog.h include

    See osdn #45413

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ca89edd516209b715ca787778a0c80c14e1a145c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 9 01:59:25 2022 +0300

    AI: Rename ailog.[ch] as dailog.[ch]

    Drop dailog.h includes where they are not needed

    See osdn #45333

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2ad4e16d171b2019b88c42e70fee8ac640bb23dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 15 05:00:40 2022 +0300

    unasur.svg: Update to inkscape 1.1.2 format

    See osdn #45373

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bcae85781fe8b9894c8f2b52986f14940f759984
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 9 03:09:50 2022 +0300

    Qt: Drop unused QLabels from help_widget::set_topic_terrain()

    See osdn #45317

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d8970ba3c3bce5d3b8b881a27fed1de8486ea76e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 21 09:19:11 2022 +0300

    Bump version number to 3.1.91.9-dev

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 415b4e3854e86cb380c9cf5801f01e1bf8d446a9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 9 23:19:36 2022 +0300

    gtk4: Implement "Go to and..." menu

    See osdn #45335

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 49d1c2faba440d787256141f775eae63e5e5b732
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 9 02:34:33 2022 +0300

    meson-winbuild.sh: Enable nls for qt5-client

    See osdn #45279

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ce3b91dda09f26d7637fdb8ba2263ab174c3ba0f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 9 01:25:35 2022 +0300

    Rearrange FIELD_RANGE_ASSERT

    - Have the potentially fatal assert only after the verbose
      message has been logged
    - Do the "action" last, as it typically changes the state
      that the assert would use
    - In the no-failure case evaluate the "test" only once

    See osdn #45047

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f3abe4ab34ccf18008a02830c9f01dd89d789250
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Aug 10 03:23:08 2022 +0300

    ukraine.svg: Update to inkscape 1.1.2 format

    See osdn #45340

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d0a3722a4e078548be1f9e114599bfbf7c14ece9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 9 00:29:20 2022 +0300

    Check that cargo can actually load to transports shown at transportdlg

    See osdn #45331

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e0cc771ed131d28d6405efc32b52f53e4152ccfa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 9 01:11:12 2022 +0300

    gtk4: Check the return value of gtk_scale_get_layout()

    It might return NULL, depending on the state of the scale.

    See osdn #45323

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9e728dbfd1e82d9cd4308367d8712e7508c57823
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 8 06:14:30 2022 +0300

    CI: Build fcdb backends

    See osdn #44721

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c9e1f651f5b2fbb8b7b5178142e129e63c47badf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 9 01:17:26 2022 +0300

    uae.svg: Update to inkscape 1.1.2 format

    See osdn #45332

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ce35c5c08768ea22d68b18fa25623db724138156
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 7 14:33:54 2022 +0300

    Add support for admin locked settings

    See osdn #45134

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 14a79bfa29a24e8d811cd34ce7f1d8eb142750ef
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 7 01:49:16 2022 +0300

    Ruledit: Add Sanity Check button

    See osdn #43103

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 86a7ed9a00411924541ecbf0cd67c7905a6517bf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 7 05:51:06 2022 +0300

    gtk4: Do not cast citydlg GtkCheckButtons to GtkToggleButtons

    It doesn't work in gtk4.

    See osdn #45322

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 95480f0bc21af9787ef028b1e761f8a39c4c6153
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 7 13:27:41 2022 +0300

    turkmenistan.svg: Update to inkscape 1.1.2 format

    See osdn #45325

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e675b083e120520051d22b9d1972c9635bb87bbd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 7 13:22:44 2022 +0300

    Msys2 Makefile.meson: Explicitly disable readline

    See osdn #45136

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f58c57165251192f51706f07b817503be9ba56ac
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 13 04:46:47 2022 +0300

    Fix conversion of "topology" setting from old savegames

    See osdn #45338

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3c0f759e993bc96973d27be4dfebd3d6539540d7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 7 16:09:15 2022 +0300

    Force changed max rates to H_RATES AI players

    See osdn #44188

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ffbc2b5f201605fea8cc43792b08547f48c8ef8e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Aug 17 16:23:56 2022 +0300

    CI: Install jpeg for Mac builds

    This is a workaround to gdk-pixbuf .pc file still requiring it,
    despite it not otherwise being an dependency

    See osdn #45381

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f0925f5dafb759698946b5e8a1dfee8520e332aa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 7 00:25:42 2022 +0300

    gtk4: Implement popup for the info label

    See osdn #45313

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d98e16dc2de4c3d33f685708aad554ff9c773cc3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 7 01:08:03 2022 +0300

    tupi.svg: Update to inkscape 1.1.2 format

    See osdn #45321

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 465b046e5b8abc66798d78a194159f61542da86d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 7 06:23:19 2022 +0300

    Meson: Remove empty install_data()

    See osdn #44788

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e0e3b8b06946f5ce0ab01dc890656476f0490b99
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 7 00:30:40 2022 +0300

    AI: Make look_for_charge() return type adv_want

    See osdn #45278

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fb95ff2a22be2ec3574913eca56b204319ef766a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 6 09:25:57 2022 +0300

    trinidad_and_tobago.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #45312

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a42f681a5501f9c948402bac42f22054627a5555
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 5 05:51:30 2022 +0300

    Do not silently ignore invalid range

    Invalid range was causing just the default range to get
    used, which in unlikely to be what ruleset author means.

    See osdn #44710

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 555825d151589dc221e844fd0f3dc28fd4b6ea2e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 6 09:12:03 2022 +0300

    gtk4: Fix constructing citydlg production combo

    Do not try to set progress bar in to the combo, but set it
    to the parent grid next to the combo.

    See osdn #45311

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 24b7337daac1eb76b2cbf9eace2cbf1e877355cc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 7 01:00:28 2022 +0300

    Msys2: Add autotools gtk4-client installer

    See osdn #45320

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d270c6cfed43ac650ac2debd9044eda393dc5a1f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 6 04:54:50 2022 +0300

    transylvania.svg: Update to inkscape 1.1.2 format

    See osdn #45306

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c226bedd8d66d1fad9af8c43fdbb5e12c1f3dc8b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 6 07:45:26 2022 +0300

    Qt: Add doxygen marking for hudwidget function headers lacking it

    See osdn #44962

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0a5849765a554901b62a33079481345e9ece2db5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 6 10:06:57 2022 +0300

    Fix crash when non-player changes ai_manual_turn_done

    This could happen in pre-game, or for global observer.

    See osdn #45310

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7a9a37a579c02622366c8eb38155a7961eecfa6e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 6 04:44:32 2022 +0300

    sdl2: Silence clang analyzer "Division by zero" -warning

    See osdn #45233

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d4e24e4b52acbca4cf2aae28ca4e9dd4b1ec2f7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 6 03:42:03 2022 +0300

    transnistria.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #45305

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e14a15f7a88b0ed7cb76cfbbbd13f80621607cc4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 6 07:39:06 2022 +0300

    luasql: Fix clang cast alignment change warnings

    See osdn #44815

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 64979c34e780e29d6e7a77e41b9c9b086e83b349
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 6 04:25:30 2022 +0300

    Stop cancelling "No Contact" to war

    See osdn #45124

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d4505fa6dfc886d28e8b18f01053d458ed4909f3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 6 07:42:26 2022 +0300

    Sandbox: Make occupychance 50

    To have both occupying moves, and lack of them, tested

    See osdn #45154

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d75a57f48b1fd55166d07e8e31d75fec0d42b689
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 5 07:51:01 2022 +0300

    gtk4: Draw science dialog

    See osdn #45304

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6074a2f5c10ebcb8d976783809af0d406ac1f6c7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 5 05:20:24 2022 +0300

    toltec.svg: Update to inkscape 1.1.2 format

    See osdn #45303

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8470b49395d47e7031f52ba32b43deae1a16955e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 6 04:38:15 2022 +0300

    Distribute msys2 Makefile.meson

    See osdn #45280

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit efb38b01d4d77eacdbcbaf47eaf313b37da9fbba
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 5 06:32:17 2022 +0300

    sdl2: Show wonders intel information

    See osdn #44992

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b0605c7303fc122913692fd0fe7a17ac103bfe6f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 6 03:51:24 2022 +0300

    Change occurrences of "FirePower" to "Firepower"

    See osdn #43081

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 179486bde4d9093189107bdeaaaccb18889de3f8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 5 05:14:55 2022 +0300

    Meson: Correct QT_DISABLE_DEPRECATED_BEFORE for Qt6-mode

    See osdn #45114

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2e590e7988ba360e6b475e012b5eae6ee5bf911c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 1 06:43:46 2022 +0300

    tocharian.svg: Update to inkscape 1.1.2 format

    See osdn #45295

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3175fe4de1557ee9feab15424d711124ac612293
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 5 06:53:50 2022 +0300

    Do not set QT_NO_DEBUG for --enable-debug=checks

    See osdn #41774

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c75e91ebd42fe29271e9b336e12f7ee52a4baedb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 1 06:35:13 2022 +0300

    do_attack(): Shrink city only after complete removal of the defender

    Destruction of the city could wipe the defender too early, if it
    was supported by that city.

    See osdn #45240

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e7463272ef798494e83530551655443086001759
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 5 05:08:32 2022 +0300

    Qt: Fix corner widget leak

    See osdn #45138

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 309f7f426c1f5a215d810ca86f18dd7e708bff22
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 31 14:53:21 2022 +0300

    gtk4: Add menu entries for reports

    See osdn #45227

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1d23fc79d09781432b15695a02bf1bcb338f1861
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 30 10:43:25 2022 +0300

    timur.svg: Update to inkscape 1.1.2 format

    See osdn #45281

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eb2ec9696bec0bc0da2ce3a0c556c2b00ca26e38
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 5 05:11:40 2022 +0300

    flatpak: Build modpack installer flatpak

    See osdn #45104

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6cacd9ee8d3c3924479d4616c42f44d0deb84efc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 31 15:06:03 2022 +0300

    dai_spend_gold(): Refactor checks for choice want

    - Fixed choice tracking
    - Made floating point want handling more robust
    - Fixed clang analyzer warning

    See osdn #45275

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 898e21aa2ee8da89f1c631eeb9ba80ae2dcddff4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 1 06:16:54 2022 +0300

    gtk: Add tooltips to citydlg/production tab build targets

    Requested by ddeanbrown

    See osdn #45257

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 29fe19cfd64a5cd5a1561ae9ca5363f9eca0c008
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 24 21:34:28 2022 +0300

    emscripten: Set ALWAYS_ROOT

    See osdn #45223

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1b8ff8d63d8a29b8441d0af256d0fe8d1e139a21
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 6 13:24:36 2022 +0300

    CI: Add mac-meson build

    See osdn #45156

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 85abc999ea7ddff5d1bec59f97c8290feaedd801
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 30 10:15:41 2022 +0300

    meson-winbuild.sh: Explicitly disable readline

    See osdn #45137

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c4e93e9c15cbfaeaaa71496309d6255c1aedeab2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 29 18:22:24 2022 +0300

    Maintain list of web-client connections

    See osdn #45155

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 696c10c21c369c7f2b2c65fd710ad084a218e1e8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 29 18:44:36 2022 +0300

    thuringia.svg: Update to inkscape 1.1.2 format

    See osdn #45269

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4e9141bc0fcfbe202f4339ddeeddf8438ed12fff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 30 09:49:16 2022 +0300

    Correct comments using word "unsure"

    In most cases "ensure" was meant.

    See osdn #45273

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d6a8c1e8026e4afd82e174fc26a08d976f12876b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 29 22:45:31 2022 +0300

    gtk4: Treat allied_chat_toggle_button as GtkCheckButton

    See osdn #45272

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6bd68e222177ccc3c6ae3c41d47490a221215291
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 29 02:22:18 2022 +0300

    thrace.svg: Update to inkscape 1.1.2 format

    See osdn #45264

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ab7d67a8ae191a8b7000b3e7b910bf21fddbdf00
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 29 03:05:41 2022 +0300

    winbuild.sh: Set ac_cv_working_gettimeofday

    See osdn #45260

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0302f79fe93797c89640322817a53221849d0121
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 29 12:33:52 2022 +0300

    Explicitly define unit tp_defense values in supplied rulesets

    See osdn #43586

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8055711d1685ef0293f40623c3371728ec58b3c9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 29 19:11:21 2022 +0300

    Qt: Postpone initial tileset selection after QApplication creation

    QImageReader::supportedImageFormats() documentation says
    that QApplication should be instantiated before calling it.

    See osdn #43873

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7a7329ac0d0db5b4ee8336f3b7c58e70fc8f86ed
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 29 01:45:25 2022 +0300

    gtk4: Add chat tools bar

    No color selection tools yet

    See osdn #45258

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c4d9ea120b6893bb0e2df0b8d9b01a9faa50d952
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 28 04:48:39 2022 +0300

    thailand.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #45255

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7cf3318515f236b264b67e773b74a268f4fa2555
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 29 01:34:03 2022 +0300

    Meson: Rework icu dependency finding

    See osdn #45160

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1cb538af5d4a10a5ca03deca95db2530d033cd4f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 26 15:21:15 2022 +0300

    Move unit tech_req to internal build_reqs vector

    See osdn #44927

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 42ebdbbc2b90b06ec182ad34017560554593eec3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 29 12:02:13 2022 +0300

    CI: Update to checkout@v3

    See osdn #45263

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7175f259cdc8401bad22baf589dc8843a59b9cbc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 19 07:30:21 2022 +0300

    Give loot regardless of exact way of killing the leader

    Loot was being given only in the case that the leader was
    the one actually defending in the battle.

    Reported by ihnatus

    See osdn #44672

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f767c12abff0fba7536b9514629097bffca5a66f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 28 04:25:19 2022 +0300

    sdl2: Clean up at exit

    - Destroy main texture
    - Destroy renderer
    - Free main surface

    See osdn #45033

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0672a811fda61ee1808bb6ac7b4ffdd65121f14a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 27 11:24:54 2022 +0300

    teutonic_order.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #45250

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 10735bbfd5ce9b999a7fa42def53c8b24495067b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 28 04:19:29 2022 +0300

    Qt: Rework info_tile::calc_size()

    - Fix clang analyzer warning about dead assignments
    - Move variables to inner scopes
    - No repeated function calls

    See osdn #45231

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dcd22f290c4bd23b3c87038eae5a7b7247c08f28
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 21 09:46:46 2022 +0300

    Tolua: Fix clang analyze warnings from the generated code

    See osdn #44868

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9056ea5d24895950c6b71e7cd9c4608e0f4234e9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 27 04:17:24 2022 +0300

    Apply fix to CVE-2022-33099 in included lua

    Fix backported from upstream repo.

    See osdn #45248

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c2b007a6728ba872c0285878444cac018f4fbc46
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 17 09:56:32 2022 +0300

    Inline action_by_number()

    See osdn #45123

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 97518c72d190f7f64708908506cdd42e6f0182ec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 5 00:26:16 2022 +0300

    FAQ: Update latest stable version number to 3.0.3

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c5052e06693683f9e6fabb1319e057639a57b0bd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 5 01:15:50 2022 +0300

    fcmp: Fix vulnerability with crafted modpack URLs

    See osdn #45299

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7ede7129435828c41b534fddf555e7fa932df32c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 27 10:25:18 2022 +0300

    gtk4: Stop casting cma_fe.c happy_button to GtkToggleButton

    It's GtkCheckButton

    See osdn #45245

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 431a63973222c132526f5be684b2b7908d4054d3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 28 00:35:43 2022 +0300

    Msys2 Makefile.meson: Enable MagickWand support

    See osdn #45141

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a489ba2bfb67c6272767ab56eef305724f0f0f0f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 28 23:38:29 2022 +0300

    civ/2: Update fortifying defense bonuses

    - Unfortified units in cities do not get the bonus
    - Bonus is not cumulative with City Walls or Fortress

    Requested by Alexandro Ignatiev

    See hrm #871628

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 725204b913a9bc488d47f02ce7ec9147f03729b6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 27 01:32:56 2022 +0300

    templar.svg: Update to inkscape 1.1.2 format

    See osdn #45244

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d319869b215599d4cb9cba8a2985c781158ce511
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 27 03:23:36 2022 +0300

    Set relevant capstrings to match freeciv-3.1

    See osdn #45051

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5b1b94a3dd661f09c45884ff60ddfa8b2c70307e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 27 01:28:40 2022 +0300

    qt6.m4: Set QT_DISABLE_DEPRECATED_BEFORE to 6.0.0

    See osdn #44513

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7d7e6be3a70a8b24389f691751d3ed135da9ea49
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 27 02:58:54 2022 +0300

    installer_cross: Build gtk4-client installer

    See osdn #45246

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 412bb9bf1f174a8131629c78c8e2749fbfeaa0a5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 25 05:12:28 2022 +0300

    tatarstan.svg: Update to inkscape 1.1.2 format

    See osdn #45228

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c83991353ae04d096903335cb57379cf059e4b69
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 26 14:12:55 2022 +0300

    AI: Fix assert failure when transport boarding is not enabled

    See osdn #45239

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d787192ad90bf950ae514ab18951137b352c65b3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 27 20:11:30 2022 +0300

    Doxygen: Fix "Unsupported xml/html tag" warnings

    See osdn #45252

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1754087f3e3174c36adab9a679b058ad48ff96bd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 25 13:21:15 2022 +0300

    gtk4 theme: Fix margin definitions

    See osdn #45230

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 01ccc5bbbd06590c0fe9a314d8035916364e40b7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 25 05:56:59 2022 +0300

    Meson: Never pass 'lib' prefix to compiler.find_library()

    See osdn #45157

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bb499ad5b1c0b96ef5bde951e49a67a147e43294
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 29 02:17:21 2022 +0300

    establish_new_connection(): Set wrap_id to packet_set_topology

    See osdn #45261

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2e0593dff1277e3c84acb9f91772ee416eb4fa5f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 24 21:52:27 2022 +0300

    tannu_tuva.svg: Update to inkscape 1.1.2 format

    See osdn #45224

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f85e066278bdc1e720931b999f2771ad80483457
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 24 22:11:35 2022 +0300

    Remove TODO comments about global_unit_options

    It's being removed, so nothing is goint to move there.

    See osdn #43059

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c55979f4395453fe4dc97b07ea0ef7d4b95ad905
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 24 19:44:22 2022 +0300

    gtk4: Do not cast map scrollbars to GtkRange

    See osdn #45218

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3a940b6e96fdc64e5495c9cd5ca6f9809542e83e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 25 03:12:26 2022 +0300

    Add installer_cross / meson files to distribution

    See osdn #45226

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3532a9e69f49ea829c2dd97d6f29b3968bae37ae
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 25 04:52:23 2022 +0300

    Drop popup_messageopt_dialog() from gui API

    See osdn #44938

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 03ea0f6aafbea04166c91e1405dc47e4db3308e6
Author: SÅ‚awomir Lach <slawek@lach.art.pl>
Date:   Fri Jul 29 13:38:02 2022 +0200

    Rulesave: Correct counter 'def' field name

    Reported by Marko Lindqvist

    See osdn #45253

commit 16c862e8fa3ce3d01db6191ae9ad6043cf22b83b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 20 10:24:28 2022 +0300

    INSTALL: Add Mac OS readline notes

    See osdn #45164

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3855cc16df474654dd6d8f41148f72648d65ab86
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Sun Jul 31 09:20:27 2022 +0200

    Updated french translations for 3.0.3 & 2.6.7

commit aa20bd2485423c9c9f06d4cab7498459329c40b3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 23 09:39:17 2022 +0300

    tajikistan.svg: Update to inkscape 1.1.2 format

    See osdn #45197

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5ceb2d5bda916643b5d747d85da58abaaca2ff2e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 24 14:14:01 2022 +0300

    gtk4: Make governments menu to update

    See osdn #45140

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dd823397d0d3352730d323a297406abb3ba1a1f3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 21 09:52:30 2022 +0300

    tairona.svg: Update to inkscape 1.1.2 format

    See osdn #45183

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b771523989bb8f399df57335a9f343148d340cff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 21 01:42:25 2022 +0300

    Meson: Make readline support optional

    See osdn #45135

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 429b88b3110ce984eeb8aaabe6b1337cf10944f3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 30 07:32:25 2022 +0300

    Comment typofix: "spossibly" -> "possibly"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d0adac96fcd4be89476c2ba6944e27a58d2f66c0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 24 16:59:13 2022 +0300

    Qt: Adjust diplomacy dialog based on what clauses are enabled

    See hrm #768422

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6ac3db2d252f3cde58dda85409343d2ede5ead34
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 21 09:09:15 2022 +0300

    Remove mention of gone sanity_check_req_list()

    See osdn #44612

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 30774456a6e8ec8de22b3c6a737d854fafa239c9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 21 10:55:29 2022 +0300

    gtk4: Implement focus enter/leave events

    See osdn #45181

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 380524f4f16151f19ed82b8579c479c2f23debb4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 20 23:56:10 2022 +0300

    Update iconv.m4 to serial 26 from gnulib upstream

    See osdn #45094

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c35e9fc2bdaf1d9644df0c9c6ec24abff90cc806
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 21 01:11:48 2022 +0300

    taino.svg: Update to inkscape 1.1.2 format

    See osdn #45180

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f0ea3bb8949d0ce8050f7fd0213548f26bd1c669
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 24 20:19:34 2022 +0300

    place_unit(): Do not add NoHome units to city's units_supported

    See osdn #45196

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f80af5b78fa27acbfa54c09c8c590f36ee2fcc81
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Fri Jul 29 13:46:10 2022 +0500

    Update for Russian translation.

commit 97a9a9ca4604744e655a451d20f05712a81414a6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 27 03:32:18 2022 +0300

    CI: Unhardcode homebrew component paths

    See osdn #45247

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 81b54187420503964d8d1c6ea56339a93dddd5e4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 29 03:32:50 2022 +0300

    installer_msys2/.gitignore: Add Output directory

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a3d08d5894ce8534d4fb207695714cd396cf2d05
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 25 04:37:13 2022 +0300

    Qt: Raise optiondlg when font/color picker closed

    Optiondlg was disappearing behind the main window
    on macOS

    Reported by ddeanbrown

    See osdn #44851

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3c542c575a5d73b8cf80ed99e283e078f6942c5c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 21 01:24:36 2022 +0300

    Qt: Avoid deprecated QFontDatabase constructor in Qt6-mode

    See osdn #45004

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d4dd1ab9691294344a728d0ba08ce8e2c9bcb2f7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 28 16:22:33 2022 +0300

    Comment typofix: "hiden" -> "hidden"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b2a6f0afb2d8df11318e7dd630606db7a6aeb669
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 19 19:54:39 2022 +0300

    syria.svg: Update to inkscape 1.1.2 format

    See osdn #45162

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 686d0a1567bf382043392e7e29d5c23189f7efe9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 18 18:43:21 2022 +0300

    Msys2 Makefile.meson: Add gtk4-client build

    See osdn #45151

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cbebc7b664639cf3e2ed88a45576e3df9d55b087
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 18 20:23:26 2022 +0300

    Drop checks that unit in game is a valid one

    For a very long time, units that are not meant to be in the game,
    have not been included in the unit array.

    See osdn #45021

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c044bc74de0126e466f6061d8ae701693398fc7d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 24 22:29:42 2022 +0300

    Client: Initialize unscaled_tileset

    See osdn #45130

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c828284c933a5ed640c18420a2f37349c9f88141
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 19 19:59:17 2022 +0300

    gtk4: Turn edit tool buttons to GtkToggleButtons

    See osdn #45139

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e3e2a3c2ef0c70ae2df2aa9d7f7d53c5e92fa049
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 18 18:30:51 2022 +0300

    sweden.svg: Update to inkscape 1.1.2 format

    See osdn #45150

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d69318aa70e808840a300641a0cb4f1702905288
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 18 07:13:11 2022 +0300

    Meson: Detect MagickWand

    See osdn #45007

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5dd7ad67151d9e0646b0f93c784ed4401cc72e3f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 16 17:35:33 2022 +0300

    scripts/replace: Improve style

    See osdn #45118

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5ae17a312347ee35b4f911fe405c266de3e41834
Author: dark-ether <henrique.hsa2002@gmail.com>
Date:   Mon Jul 18 17:36:53 2022 -0300

    capability.c: Change function headers to contain TRUE Instead of true

    Requested by Marko Lindqvist

    See osdn #42204

commit 98fe516897e32c345db2dfb70e85f9566b43e9b0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 24 20:00:22 2022 +0300

    Qt: Include dialogs.h as "dialogs.h" to optiondlg.h

    Not as system header <dialogs.h>

    See osdn #44837

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 87072381125a9389d74d9c5e2ac9c7f6aaa25d2a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 17 12:55:37 2022 +0300

    Remove trailing spaces from tileset files

    See osdn #44697

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d486ab742f2544e94f50e35ef1239db268748b97
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sun Jul 24 23:24:10 2022 +0200

    generate_packets.py: Move field unfill code into types

    See osdn#45222

    Note: This separates variable declarations and backing up the values for future extensibility purposes

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 5ac804aaeb001300867820f19602e6f32486f760
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sun Jul 24 22:13:17 2022 +0200

    generate_packets.py: Move Field.get_put_real() into types

    See osdn#45221

    Note: This patch causes some output changes:
    - array-diff uses element cmp to support all types
    - JSON array-diff count variable renamed to avoid shadowing
    - higher-dimensional arrays now declare each index separately
    - put should now support arrays of all types

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit b3d908cc76884747dcda21d43c4ff9d39e4af7cd
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sun Jul 24 02:13:05 2022 +0200

    generate_packets.py: Move Field.get_cmp() into types

    See osdn#45220

    Note: This patch causes some output changes:
    - array cmp loop body restructured to reuse element type cmp
    - memory cmp now also compares actual size when variable
    - cmp should now support arrays of all types (including nested)

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit bca0e7361b10bb0e475718d0de46aa2957ea128d
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sun Jul 24 01:02:48 2022 +0200

    generate_packets.py: Move Field.get_get_real() into types

    See osdn#45219

    Note: This patch causes some output changes, including fixing some oversights:
    - JSON non-delta version of diff array get now sets element address
    - higher-dimensional arrays now declare each index separately
    - inner dimensions of multi-dim arrays now check for truncation
    - get should now support arrays of all types

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 31630b6f69c117b1fa3e4dfd0fd9cef575a1020d
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sat Jul 23 19:49:06 2022 +0200

    generate_packets.py: Move handle arg generation into types

    See osdn#45215

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 4f55e2ae3ae5337562b74887b7a35bffe28ab12b
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sat Jul 23 19:29:07 2022 +0200

    generate_packets.py: Move Field.get_handle_type() into types

    See osdn#45214

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit abe34c369969e9ddfb0e49728e077467eaef3798
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sat Jul 23 17:30:38 2022 +0200

    generate_packets.py: Move Field.get_fill() into types

    See osdn#45213

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit de0aefb11b3ead40e367dc4637c66bdbc93ed326
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sat Jul 23 16:37:47 2022 +0200

    generate_packets.py: Move Field.folded_into_head into types

    See osdn#45212

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 6b4f43258850285f4e95e3dfe3751012aa02aa4e
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sat Jul 23 16:09:15 2022 +0200

    generate_packets.py: Move Field.get_declar() into types

    See osdn#45211

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 5a0ebfcb0115476a63f03b526a053c60ec1db50f
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sat Jul 23 15:32:25 2022 +0200

    generate_packets.py: Pass array sizes as part of field type

    See osdn#45210

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 368ea1bd888257439fcbce042047be851994f17c
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sat Jul 23 11:56:59 2022 +0200

    generate_packets.py: Extract float types into separate class

    See osdn#45209

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 78d505f5d6ce2ca1367353aee484f0287cf8c2c7
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sat Jul 16 01:24:58 2022 +0200

    generate_packets.py: Introduce FieldType class

    See osdn#45208

    Semantic change: Type alias definitions have to be in the right order now,
    and even unused type aliases get parsed (i.e. can cause errors)

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit b19cc66b05b6f70c62d6422e26fba721349ea06d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 24 15:52:41 2022 +0300

    configure: Add cache variable for gettimeofday detection

    So it can be set to not get the pessimistic default
    when cross-compiling.

    See osdn #45050

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 79eeb3299d459ecaece429d0f9db1edd91ac4f1a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 18 05:22:10 2022 +0300

    swahili.svg: Update to inkscape 1.1.2 format

    See osdn #45133

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 979266cb3966efd95af5356b6d317e05cea05a1d
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sun Jul 24 18:56:16 2022 +0200

    Fix JSON protocol regressions introduced in hrm#745593

    Reported by Marko Lindqvist

    See osdn#45207

    - correctly recurse into arrays when reading
    - wrap array-diff terminator in an array-diff element

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 48260c9b11ffa38303fc70411d90661792e298cf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 16 10:10:24 2022 +0300

    gtk: Add g_log callbacks based on freelog

    See osdn #44995

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4deb328b9c06db39f5afbcfd3787cd609fd176b9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 22 10:48:27 2022 +0300

    Qt: Reserve extra line of space for intelligence information

    So that if some line later wraps, taking two lines, all of
    the text still fits.

    Reported by chippo

    See osdn #45191

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b827261cfa2be5f9fcd3a21cea83953a53393bbe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 18 05:39:00 2022 +0300

    gtk4: Update attempts to set "margin" property for widgets

    There's no single "margin" property in gtk4, but it needs
    to be set separately for each direction.

    See osdn #45132

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1a775e55cf7984851ebaeb3eabd5e025468126d8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 25 14:56:30 2022 +0300

    Comment typofix: "explaination" -> "explanation"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f8d4ebda5ac34b34a96ed9f66bcb30e93f6f2dc5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 23 09:24:43 2022 +0300

    CI: Fix macOS build readline detection

    See osdn #45163

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b133f7af6b94ede3c0c1d3bf70d57f93ef5883db
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 17 00:28:54 2022 +0300

    svg.svg: Update to inkscape 1.1.2 format

    See osdn #45121

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 14ffc2e821f09b4e8cacff5c7d9b58d93a18e92f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 18 05:16:37 2022 +0300

    mapimg.c: Remove redundant imgcolor_player() calls

    See osdn #44897

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1c7ac99b41fc443302dc6e001ae9d3968f8ebec3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 18 18:04:41 2022 +0300

    Qt: Adjust UI depending if gold clauses are enabled

    See osdn #45149

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f550b9b0d36560c996cabfd60e5743daf53501d5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 18 05:27:30 2022 +0300

    Make vision_site.walls an int

    It was defined boolean despite containing gfx type number

    See osdn #45063

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d10b566cd5161a44d03b31e3ff059bd6fb403ee6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 16 22:38:41 2022 +0300

    Disable metaserver functionality on emscripten build

    There is no curl functionality that it depends on.

    See osdn #45105

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 45e0d31e9383b377ea9e29aa4991063d672b40e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 16 16:42:08 2022 +0300

    meson-winbuild.sh: Add Qt6-client support

    Crosser-2.4 (currently development version)
    required to actually build the client.

    See osdn #45117

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 67f2c199464150ca20d067dbb94634b448506bbc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 24 18:57:13 2022 +0300

    Update Finnish translation

    This is just S3_1 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d04ff13c1171e321724ee989d687f5b3c71b4591
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 24 18:47:23 2022 +0300

    Bump version number to 3.1.91.8-dev

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c1bf21b4d341a05f00e051c6bfa3b102c333ae41
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 21 23:43:24 2022 +0300

    Fix unit move animation speed

    Reported by chippo

    See osdn #45184

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2635be7e79764b3943b0ea3e6d82999972ceff63
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 18 23:10:17 2022 +0300

    Reorder actions for more logical grouping

    Requested by Sveinung Kvilhaugsvik

    See hrm #920376

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c08d83ed2986168cf3442940e3a0e306b91a132f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 16 11:24:44 2022 +0300

    suriname.svg: Update to inkscape 1.1.2 format

    See osdn #45112

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 21d95bf29fc2eb4045926040cc81e6842a3d087c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 16 15:39:50 2022 +0300

    sdl2: Fix create_select_tech_icon() surface leak

    See osdn #45035

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fddb8e13cfb7cc1db217e6bf912161f6ba97c282
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 16 01:57:47 2022 +0300

    gtk4: Use index instead of gov rule name in action names

    See osdn #45111

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5d9b48a5e5c6e9f56454f02a7f21a50ebf768b73
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 19 19:28:52 2022 +0300

    CI: Stop installing Qt5 to msys2 runner

    See osdn #44109

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0c9fc2c2a6d2991da43a6482a855c427bc69134f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 16 10:38:17 2022 +0300

    configure: Fail when requested odbc cannot be found

    See osdn #45053

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 03214137aa0cffcdb2922d435ee90ed6b7a4d5f6
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Thu Jul 21 00:14:36 2022 +0200

    generate_packets.py: make files_equal() compare lines

    See osdn#45190

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit fe9650b0849449e6987e2b1ece84fd34301d6455
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Thu Jul 21 00:10:50 2022 +0200

    generate_packets.py: strip comments line by line

    See osdn#45189

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 86086d997aea156899893bb20bc4438de1505adc
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Wed Jul 20 23:39:16 2022 +0200

    generate_packets.py: Parse types and packets in one go line by line

    See osdn#45188

    Note: This causes a semantic change; types must now be defined outside of packets and before they're used

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 4c58c45b08257c34189d39bb4ef1ceb06d2be5ab
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Wed Jul 20 23:21:36 2022 +0200

    generate_packets.py: Move packet header parsing into separate method

    See osdn#45187

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit dfc4b08940c8ed383c2ef21ca64ae9dada187d56
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 16 00:52:17 2022 +0300

    Introduce req_copy() and universal_copy()

    See osdn #45020

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit acecb3f8bf341a443bdf646d026f3620bdb553d0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 16 01:18:28 2022 +0300

    suebian.svg: Update to inkscape 1.1.2 format

    See osdn #45110

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9a8a46b1041bc870ab6332679e815ee7064f924c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 16 01:28:49 2022 +0300

    Send nation groups data before requirement vectors may need it

    As the client was unaware of what are the legal nation group
    indices, it was turning nation group requirements to
    invalid requirements

    Reported by dark-ether

    See osdn #45109

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4c9c9337eceb481fa86b11e128197929369ff29c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 16 01:10:05 2022 +0300

    Qt: Use QMenu::clear() instead of our own implementation

    Remove reset_menu_and_sub_menues()

    See osdn #45045

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d1f36c53236a0037e5f0882a9fce45af4c3dab22
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 16 02:32:10 2022 +0300

    Meson: Warn if IPv6 support is not enabled

    See osdn #44932

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 57fae32d0afc1435c4c7fc601707c27e7901c072
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Wed Jul 20 22:30:27 2022 +0200

    generate_packets.py: detect cyclic type aliases

    See osdn#45179

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 4571ec3413bae19ad748ab474c9ab0e298d147ec
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Wed Jul 20 22:23:26 2022 +0200

    generate_packets.py: extract type alias code into dedicated methods

    See osdn#45178

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 67993b8bcb34692978cebd72e74e8cdffd5b478e
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Wed Jul 20 18:40:32 2022 +0200

    generate_packets.py: Don't compare constant array size to itself

    Reported by Marko Lindqvist

    See osdn#45159

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 770bc14215227abd81e946e39ef4688e15de93c7
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Wed Jul 20 17:05:39 2022 +0200

    generate_packets.py: move enum packet_type generation into PacketsDefinition

    See osdn#45177

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 198d732e8b86642f53f1f7ea9714f5f169fa3b6e
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Wed Jul 20 17:02:22 2022 +0200

    generate_packets.py: move packet_handlers_fill_capability() generation into PacketsDefinition

    See osdn#45176

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 004de99d2ac414c9bca6f9a8e3266fdd4e7f2d93
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Wed Jul 20 16:54:41 2022 +0200

    generate_packets.py: move packet_handlers_fill_initial() generation into PacketsDefinition

    See osdn#45175

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 681e55b81cb5eec6691d3e8abce7526faaf2dbb7
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Wed Jul 20 16:45:06 2022 +0200

    generate_packets.py: move packet_has_game_info_flag() generation into PacketsDefinition

    See osdn#45174

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit b2671a4417e320b8fc4b4041d2d278eb92556d48
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Wed Jul 20 16:41:45 2022 +0200

    generate_packets.py: move packet_name() generation into PacketsDefinition

    See osdn#45173

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit f781dd97b3d855b05ae5aecfe77fdf0207c6bd2b
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Wed Jul 20 16:33:19 2022 +0200

    generate_packets.py: move delta_stats_reset() generation into PacketsDefinition

    See osdn#45172

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit ccd3b12da873bf5e4188b79afafc2303cd6eb31d
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Wed Jul 20 16:30:50 2022 +0200

    generate_packets.py: move delta_stats_report() generation into PacketsDefinition

    See osdn#45171

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit c4bbf140b1f0dad031d0286011a790249189894a
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Wed Jul 20 16:27:01 2022 +0200

    generate_packets.py: move packet_functional_capability generation into PacketsDefinition

    See osdn#45170

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit ed9acb02609ada4c0c4440810054e7b5887af702
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Wed Jul 20 16:23:20 2022 +0200

    generate_packets.py: move all_caps union into PacketsDefinition

    See osdn#45169

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit a8fba395f6014ff77bc06524042f445c8ea26ed0
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Wed Jul 20 16:19:26 2022 +0200

    generate_packets.py: factor out PacketsDefinition.iter_by_number()

    See osdn#45168

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 663adac4de2937c4ca5ab309ba295f215f188215
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Wed Jul 20 16:10:29 2022 +0200

    generate_packets.py: move top-level parsing into new PacketsDefinition class

    See osdn#45167

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit dc5510897aafab34c77bd9ab4c807e9a3d56571c
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Wed Jul 20 14:48:21 2022 +0200

    generate_packets.py: Introduce enum for packet directions

    See osdn#45165

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 25fde273811f59a755315fbbb06239213071ed38
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 15 05:29:03 2022 +0300

    Refer to modpack installer in help of client options

    See osdn #45043

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0b0a6feed4ee9205faa65cd585dfce5e729a1dd9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 15 02:36:34 2022 +0300

    Qt: Refresh sidebar fonts when the settings change

    Reported by ddeanbrown

    See osdn #44907

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f5644b53255f0c993d76082f57fbe87bd924366f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 15 03:47:06 2022 +0300

    sudan.svg: Update to inkscape 1.1.2 format

    See osdn #45101

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bff42d3c191e0f481f859e1e7ebc96777a2d077f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 15 02:46:57 2022 +0300

    Sanity check that terrain resource is a resource

    Reported by dark-ether

    See osdn #45099

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 01f8f2a073014cb47027ce80fbc433d352129d91
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 15 02:23:17 2022 +0300

    sdl2: Keep sdip dialog as long as data is needed

    Some callbacks were closing sdip dialog first,
    then looking data from it. Reverse that.

    See osdn #45046

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a99f5c9e2f199c243e61f233999529c151aacceb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 16 00:47:53 2022 +0300

    flatpak: Prefer wayland

    See osdn #45103

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4af1754ee52d86c3839ff07850a2c5b6642fcabc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 15 03:29:57 2022 +0300

    Fix json + delta protocol combination

    Reported by Louis Moureaux

    Patch by christian montanari and myself

    See hrm #745593

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 47b688ac4af63e9ff686447dc59f9e0ce5cb7da1
Author: dark-ether <henrique.hsa2002@gmail.com>
Date:   Tue Jul 19 16:56:24 2022 -0300

    renamed action list to action array, changed the comments and functions to reflect this

    See osdn#44084

commit 4538fcb64e430e031c1e53128bb8a973fc291f06
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 7 00:51:22 2022 +0300

    Prohibit changing ruleset given from commandline

    See osdn #45042

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4577b43f4d4cae056dd852b072a309d1d93a8037
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 14 16:45:10 2022 +0300

    stpatrick.svg: Update to inkscape 1.1.2 format

    See osdn #45100

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 345c80e6982f61eca4b42d32325bf26838ffc681
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 14 16:35:09 2022 +0300

    dai_effect_value(): Drop unused government parameter

    See osdn #44713

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4944ddc0d33106fc8223cb6f8324fdc08f47a8a2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 14 16:30:06 2022 +0300

    gtk4: Hide menubar when returning to main menu

    See osdn #45098

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0f143fcaa8b877941fd40c89883c2a8f293a7891
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 14 03:48:33 2022 +0300

    Update lib-link.m4 to serial 33 from gnulib upstream

    See osdn #45025

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 327448552b1b800c2340a656ba692eec0469332a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 14 06:01:03 2022 +0300

    Make rally_point.length size_t

    See osdn #45054

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ea72205df4fb605f72a8d131b680d33d589c8489
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 9 10:40:31 2022 +0300

    srivijaya.svg: Update to inkscape 1.1.2 format

    See osdn #45074

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 27c0b2bf70d58722e166eb54fabe441c2adb057e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 9 04:08:56 2022 +0300

    Qt: Fix flags shrinking after visit to nations report

    Scale copy of the flag, instead of shrinking flag
    in the main store.

    Reported by Chippo Elder

    See hrm #857120

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8495717e0491370119aae8ed95ff10b7b6927aa5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 15 04:55:43 2022 +0300

    fc_interface.c: Document also tools as a user of the interface

    See osdn #42889

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 03e0da1a5f5db75355d9d816a4943340820e3891
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 9 01:10:03 2022 +0300

    Qt: Avoid deprecated QMouseEvent::globalY() in Qt6-mode

    See osdn #45044

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 891ec9a349fe02fe18f94b7a78b6dc7805152038
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 9 01:35:19 2022 +0300

    Meson: Set 'cpp_std=c++17' for building Qt6 programs

    See osdn #45014

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0cf0049545c19773c7ced3cb3c509457762bc278
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 8 21:14:31 2022 +0300

    srilanka.svg: Shrink page size to image size

    Update to current inkscape format.
    Fix "Different units in document size" -error

    See osdn #45069

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 36c389f28ad2b4e76d40d89275bddd1e9f27b1f0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 14 02:14:34 2022 +0300

    gtk: Adjust diplomacy dialog based on what clauses are enabled

    See hrm #768421

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fe9c62d5e8167dfe0fd242f2290a0f3bfd8d75f3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 8 02:07:50 2022 +0300

    Client: Free option gui widgets

    See osdn #45022

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 288d60ee0e2dac24d39fb3e9acb210d9a3826a3b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 18 22:03:30 2022 +0300

    Update Finnish translation

    This is just S3_1 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a80cf259abff4a71d5a91ccb5b5a74ae29d8e868
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 16 20:07:49 2022 +0300

    Rulesets: Change ui_name "Alight" to "Deboard"

    See osdn #45023

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b67cf370a93b6bb6f1fbe609fd479897d42e07b2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 7 21:12:34 2022 +0300

    gtk3.22: Fix GdkEvent cast alignment increase error

    Seen when compiling with clang on x32.

    See osdn #44920

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f706f433ceab4f919f26b63e3f33d195e4bf01e2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 8 21:03:17 2022 +0300

    Msys Makefile.meson: Set correct cacerts path

    See osdn #45058

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d4a1daca346b9a767137f2407ef399ff8f05e694
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 6 22:22:16 2022 +0300

    spain.svg: Update to inkscape 1.1.2 format

    See osdn #45040

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 03366aaa0cc127fd315e0ac3bcaf8822ca1f131d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 5 22:51:32 2022 +0300

    Add svgflag.[ch] module

    See osdn #45024

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d50b9b7ccc5a4f32abe25674081b4f4997d898fc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 6 22:10:31 2022 +0300

    Tell player to declare war in Nations report

    The old messages just told user to use Nations report when
    some action was impossible during peace. Make the messages
    tell that one is expected to declare war in that report.

    See osdn #41841

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 77b1d8ed280e2c407a0a933a338ee653f6d96bae
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 6 19:47:22 2022 +0300

    sdl2: Always allow opening intel report

    See osdn #44991

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e2ef1b67e650868e88be88498ed1654b2f000254
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 8 07:04:57 2022 +0300

    CI: Update meson to version 0.62.2

    See osdn #44813

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e7647b19ba39fc687b9ecd58a6b2fb82b5b665ae
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 5 22:36:12 2022 +0300

    south_yemen.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #45027

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 16153345dedc9d09829547cac280f3ae6d36ba32
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 5 03:13:48 2022 +0300

    Introduce unit_tech_reqs_iterate() and friends

    Use them instead of accessing unit type's require_advance directly.
    For most users that rework means that they would support multiple
    tech requirements for units, if unit_tech_reqs_iterate() just
    would give them.

    See osdn #44930

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7c8eff3219b8a3ec2d864b74094facb01a880b2a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 5 21:53:55 2022 +0300

    gtk: Avoid diplodlg call of qsort() with NULL cities list

    See osdn #44833

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 07a91ba6582474dca37d54a12dd418556ebd23c2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 5 22:27:56 2022 +0300

    gtk4: Implement left panel unit icon mouse events

    See osdn #45018

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 88116a198cdb1f8bde745c36a8dba3f16953168e
Author: dark-ether <henrique.hsa2002@gmail.com>
Date:   Tue Jul 12 09:51:44 2022 -0300

    Add dummy actions.ruleset

    See osdn #45037

commit a44c4d49970ab12b18e9fb0afe44c7ec00814eb2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 5 01:01:40 2022 +0300

    southern_cross.svg: Update to inkscape 1.1.2 format

    See osdn #45017

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6e6a13ba09d35898089b773e2063eeb1849a5aa6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 5 22:55:25 2022 +0300

    Fix detection of cross-MagickWand-config

    See osdn #45009

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a456b9282a5219001b58ecbba093ad97e933d8a0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 4 18:26:36 2022 +0300

    plocation_write_...(): Return errors

    Change plocation_write_...() functions to return int indicating
    the error. Use that information in json protocol dio_put_...()
    functions to return correct error values from themselves.

    Based on patch by christian montanari

    See osdn #44986

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 54f765e3e350c7e0df27dd8bf4e9200556efec8c
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Thu Jul 14 14:14:27 2022 +0200

    Fix generate_packets.py failure under Python 3.5

    Reported by Marko Lindqvist

    See osdn#45095

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit c413e6883fdd207b4e7da35d29d9fefee93bdbb1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 5 01:19:33 2022 +0300

    gtk: Let user to select transport for L)oad key

    Reported anonymously

    See osdn #43950

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4470dec5651c2e9d7341d0ff733f56ba81446e20
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 15 22:37:56 2022 +0300

    Update Finnish translation

    This is just S3_1 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3b8e5284dcc95431fe27de6595a77d210d64a821
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 4 01:51:51 2022 +0300

    Qt: Correct fc_font::drop() header

    It spoke of fc_icons instead of fc_font.

    See osdn #45002

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d382e6ba9f0479e40ca6e6dee4ba2f42da712290
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 15 15:33:05 2022 +0300

    upgrade_ruleset_sync.bash: Update S3_1 revision to fetch

    Get a S3_1 revision with datafile formats frozen

    See osdn #44342

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 75edd8f4425ed5295daace5ee03f3c507e3a5a1d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 14 03:36:55 2022 +0300

    rscompat: Set 3.1 ruleset capstr to final frozen form

    See osdn #44342

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d7192b537be3bc0ea7badc7d03d51b7af1a11892
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 4 02:11:38 2022 +0300

    south_africa.svg: Update to inkscape 1.1.2 format

    See osdn #45003

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit abffe1c8c755e8ae487dfcdb555f3358fe571e61
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 5 02:12:04 2022 +0300

    installer_cross: Add gdbus.exe to gtk4 environment

    See osdn #45015

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cf2127c6c9cfcd5cb44e6f6b52635392a654f01b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 4 01:09:44 2022 +0300

    Split wrap to a separate server setting from topology

    Requested by pjlsergeant

    See osdn #42289

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit faa4ebba582b9887bd5a5102e0b3f7797362c732
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 4 20:46:25 2022 +0300

    Editor: Disallow creating more than maxplayers players

    See osdn #44811

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 06402102f176ae6e2a9c1668b7e4cd4dcf01c626
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 14 21:25:45 2022 +0300

    FAQ: Refresh from wiki

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 41b98cf922b4eaa55680d783a92cf1fb1e351d2a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 14 19:22:58 2022 +0300

    Bump mpdl and modlist capstr

    Differentiate master modpacks from 3.1 ones.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 032307a0905189dd23d83c60fe751509a8c514a3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 3 20:48:54 2022 +0300

    Prefer signal.h over sys/signal.h

    See osdn #44997

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a7f3b1c1aa67c21304f0cdcf36672269c844a0be
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 3 20:54:07 2022 +0300

    songhai.svg: Update to inkscape 1.1.2 format

    See osdn #44998

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 67aec19da50bb0e3ec6f936cb7df4961e55f928d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 4 19:42:11 2022 +0300

    Meson: Support defining FREECIV_CROSSER

    Implemented as cross-file property, as crosser based build
    is always a cross-compilation. It would be an error to give
    such an option in native build.

    See osdn #44310

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f28e848de70fd8f76e2a3ee6c0506f2504055977
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 8 22:34:29 2022 +0300

    Stop assuming that trade partner knows the city

    See osdn #45059

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 17eb103a6c68f9277e1a12732a1c8d29ce98a5af
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 8 01:30:40 2022 +0300

    Move initial variable declarations out from 'for' in C-code

    See osdn #45056

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fa0a4c6342af2d5357fc5ef51980e056aa0e409b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 14 03:20:33 2022 +0300

    sdl2: Fix compile

    See osdn #45096

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 91cc3130594afbaf7b8d9c0c2929de1df53f73d7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 3 10:53:50 2022 +0300

    somaliland.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #44989

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0b14f31187ab661fea0a2bde92aee079287409f4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 3 10:44:56 2022 +0300

    sdl2: Do not pass copies of SDL_Rect so much

    Use pointers instead of copying entire structure.

    See osdn #44931

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 08150343d700869959ff6b8ae3134b2b3b6a60d6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 4 02:06:01 2022 +0300

    INSTALL.meson: Mention meson core option default_library

    See osdn #44843

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d53d3fb431707b65324a92667ebc4102536b137d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 3 20:27:40 2022 +0300

    fcbacktrace: Increase MAX_NUM_FRAMES to 256

    See osdn #44994

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d742c2cb495f7264d76317ac62fff8eaa1e92406
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 4 02:15:00 2022 +0300

    Qt: Make font/color chooser headings translatable

    See osdn #44957

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d803047de57187fb81b1613d4d8c5249b2e209b2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 3 06:50:09 2022 +0300

    gtk4: Make citizen icons to show up in citydlg

    See osdn #44984

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d7fab9ae62b5281388b895fb190a315fc25a8c4e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 3 06:57:47 2022 +0300

    somalia.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #44985

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f2265fb193b2b3753a0d69db27a799348c495293
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 3 20:32:06 2022 +0300

    Msys2 Makefile.meson: Add ucrt64 support

    See osdn #44956

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e3685550c9fd33d7b7243f494675db2f8ea16b47
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sat Jul 9 00:24:53 2022 +0200

    generate_packets.py: Move field parsing into the Field class

    See osdn#45082

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit d18fad8d7789e48f85bb215bcd976a94893ade89
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sat Jul 9 00:15:32 2022 +0200

    generate_packets.py: Successively parse any number of array sizes

    See osdn#45081

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 67f9a7070cc9fd7ff991f3b0748709633dad79c8
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Fri Jul 8 20:48:26 2022 +0200

    generate_packets.py: Handle array sizes through dedicated class

    See osdn#45080

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 13f9be051ef9f59724f6b64d8f399107c3ebc2f6
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Thu Jul 7 01:50:22 2022 +0200

    generate_packets.py: Simplify Variant initializer args

    See osdn#45079

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 222f0fd5c3af5e61f52e786dbb199d692843f5b5
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Thu Jul 7 01:15:31 2022 +0200

    generate_packets.py: Allow any number of add-caps and remove-caps

    See osdn#45078

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit babb93ea79e66623f25f9152e3793c566a1e8d4e
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Thu Jul 7 01:02:15 2022 +0200

    generate_packets.py: Extract field flag info into its own class

    See osdn#45077

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit a70cd4dc6925ce42ea9fbc0465ac1009060eaa59
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 3 13:49:59 2022 +0300

    Qt: Show wonders intel information

    See osdn #44990

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0d4f53e89a86b9d502623461e0623a7de22c5f0d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 3 20:59:15 2022 +0300

    AI: Do not revolt to get rid of Senate if Anarchy has Senate

    See osdn #44847

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f53a847302e8dfb7505b51d3841aa59f429377e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 2 18:12:15 2022 +0300

    Qt: Avoid deprecated QMouseEvent::localPos() in Qt6-mode

    See osdn #44963

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 89efd0229cdf2b20f3a552c129128f4d6406ccd4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 2 17:46:00 2022 +0300

    Meson: Support Cygwin

    See osdn #44933

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 21abc49e1ecab425ae869234efc1b9f140627c54
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 3 09:29:39 2022 +0300

    Free curl handle

    See osdn #44945

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b9ea98336b7920cfe8a4a7f62271bd300a2638cf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 3 07:54:35 2022 +0300

    Qt: Fix go_act_menu memory leak

    See osdn #44983

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3af5435d0c4822b074e5c647672c5872e4c70dbf
Author: SÅ‚awomir Lach <slawek@lach.art.pl>
Date:   Sun Apr 17 10:34:26 2022 +0200

    Load counters from the ruleset

    See osdn #44345

commit 078f7d35524c19027f8cfab4ac9be8166b2483e2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 2 18:51:29 2022 +0300

    solomon_islands.svg: Update to inkscape 1.1.2 format

    See osdn #44980

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3c00a1e75c19b09bde841118bbb24baa6cb28e09
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 2 15:32:01 2022 +0300

    Replace strncat() call with a fc_strlcat() one

    See osdn #44919

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d454c81a087e96c051bac5b2e55bfa2c99eb5016
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 2 22:06:17 2022 +0300

    CI: Make msys2 installers with meson

    Build installers that already can be built with it,
    with Makefile.meson, rest still with Makefile (autotools)

    See osdn #44912

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ae8a37e72b8c133d070912615e022db20ff05034
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 2 23:33:44 2022 +0300

    Add SharedTiles clause type

    Requested anonymously

    See osdn #44161

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e876e42ac2d2b27611d5e75711616da2cf8beca9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 2 17:08:30 2022 +0300

    helpdata.c: Check if building-enabled nuke has tech requirement

    Don't just assume that there's a tech requirement to show.

    See #44941

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 16e7859c895ff16841370fe8ed7b60f6ddfe837c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 6 04:22:21 2022 +0300

    Meson: Add release cycle information

    See osdn #45030

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 30a4f642216c758584bb2faa2225d62d0c0f4c88
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 25 23:43:31 2022 +0300

    Qt: Fix problems in adjusting progress bar font size

    - Do not adjust the stored font to be used for other texts
      in the future, but a temporary one.
    - Never compare widget pixel size to font point size
    - Adjusted the limits triggering the adjustment
    - Minor cleanup

    Reported by ddeanbrown

    See osdn #44906

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fcd6184201654da8b162c5f3d6c9ae0f6f684dc1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 2 15:38:42 2022 +0300

    sokoto.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #44979

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 260c9114c62684f5b3c9a6dd9a33a07785dee580
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 5 02:37:40 2022 +0300

    Update remaining URLs pointing to freeciv.org to use https

    See osdn #45019

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5c59642580a8ad8ba88ae46afd3224c4afabf87b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 25 14:46:47 2022 +0300

    installer_cross meson: Build gtk4-client installer

    See osdn #44943

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d311c218369b2d1c842a803d9630fdcbeb6e7206
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 30 02:20:54 2022 +0300

    Update diplstate max_state when entering cease-fire

    See osdn #44877

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a080d802942e2bf876b819342ee9d3a1f5aca181
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 6 20:20:55 2022 +0300

    Bump sdl2-client themespec capstr

    Differentiate master themespecs from 3.1 ones.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 60ed28e2b156aeada43bf9be67ea565af27b4607
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 26 21:15:38 2022 +0300

    gtk: Increase size of the "players count" buffer in server list

    It was too small for translation of "Unknown" under some locales

    See osdn #44944

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 129b9a8577fa26aebf3129337a801322d49d06db
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Mon Jul 4 19:20:24 2022 +0200

    Remove orphaned dio_put_city_map_raw/json() prototypes

    See osdn#45011

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit d435366c95250b4b92d7a6979aaf300a8dbc5b42
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Mon Jul 4 19:08:39 2022 +0200

    generate_packets.py: Remove city_map references

    See osdn#45012

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit d4f5819a8c20f22360d41f2fb813cc4e8f56f26f
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Mon Jul 4 14:51:14 2022 +0200

    generate_packets.py: ignore key fields to determine differ_used

    See osdn#45013

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 4847083fd80a9a533477b9f380a3b1b7d06dbe78
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 30 01:46:43 2022 +0300

    slovakia.svg: Update to inkscape 1.1.2 format

    See osdn #44969

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4dc391cd2cf7fd415c04ed3d2c46ff7822c4aa27
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 30 02:16:48 2022 +0300

    gtk4: Add commands suitable for initial units

    See osdn #44965

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0af1f37009f41b9cc3a4e47d302f348d2bf6af5f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 3 08:54:40 2022 +0300

    Fix dai_is_unit_tired_waiting_boat() crash

    Even if the unit had no homecity, homecity tile would have been used.
    I don't know if it's actually possible for a unit without homecity
    to ever end evaluated here with the current codebase.

    See osdn #44987

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d860de53b9c08f7c50c51f34be6507b0858389d0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 2 13:05:20 2022 +0300

    Msys2: Add gdbus.exe to gtk4 environment

    See osdn #44921

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0a1f7b17375e29147a03452afaf07e577728e4af
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 26 15:41:42 2022 +0300

    Gui API: Add canvas_put_sprite_full_scaled()

    Qt-client has an implementation, other clients just dummies.
    No callers yet.

    See osdn #44953

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 244cb2030a9b59d5f3343d504de49b0b4605dd78
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sun Jul 3 23:28:37 2022 +0200

    generate_packets.py: check all dio_put_*() return values

    See osdn#45001

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit d083e25fedc307a592962639b2dbab4929b878f3
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sun Jul 3 23:07:01 2022 +0200

    generate_packets.py: check dio_put_*() errors when sending arrays

    See osdn#45000

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit d19407f8656577776fff49e8f1b14e447d3dd023
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 2 19:12:17 2022 +0300

    Update URLs pointing to wiki to use https

    See osdn #44981

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b7ef8abb9de71731351eb0faab96bc63f5947aa8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 25 22:27:35 2022 +0300

    Qt: Rewrite color options part of option dialog

    The old implementation had so many problems that
    there was no way to fix it.

    See osdn #44947

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7854e0c3d782cb22742f9353333bbf76da9d3436
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 26 02:44:00 2022 +0300

    sinhalese.svg: Update to inkscape 1.1.2 format

    See osdn #44949

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f9bd6e64c926a16602325192e0e8130d2f947a38
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sun Jul 3 21:45:45 2022 +0200

    generate_packets.py: indent generated code only once needed

    See osdn#44977

    This patch also fixes some improperly indented code along the way.

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 301a2d782e0e5a6858e302608513eca392c273c5
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sun Jul 3 20:15:02 2022 +0200

    generate_packets.py: allocate pre-send packet copy locally

    See osdn#44996

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit bd942fdbc6d7a94f7af6741851039befebaddde6
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sun Jul 3 19:21:53 2022 +0200

    generate_packets.py: Use FC_FREE() macro

    See osdn#44993

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit f1e8ee53cc9e07d67523d50905e9df0689b9d4f6
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sun Jul 3 18:48:06 2022 +0200

    generate_packets.py: unify code string format

    See osdn#44978

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit b4d4ef9f6e49dedc32f1c776c531ece6afef8baa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 27 19:53:25 2022 +0300

    sdl2: Scale units down to icons by more accurate amount

    Citydlg icons were often scaled down far too much.

    See osdn #44891

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 013f86427193c5189dcde2ca38acc4431a599ec8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 25 01:21:25 2022 +0300

    Qt: Rework popup_messageopt_dialog()

    Resolve clang analyze warning about useless variable.

    See osdn #44937

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0ed4c48bf84aac40222addffa0e6c445097f0ade
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 26 03:06:15 2022 +0300

    scripts/potfiles: Replace deprecated egrep use

    See osdn #44115

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9b03f04c3b578cefb47eefa241421f79f4111ab9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 26 14:04:40 2022 +0300

    Move heavy parameter evaluations out from MAX() / MIN()

    See osdn #44611

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bb65b098813eba4df35c410ae3091e2c59993875
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 4 22:37:02 2022 +0300

    Update Finnish translation

    This is just S3_1 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit db0913113e63ff56976b92f89d034d1a2cdc6a82
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 4 18:38:40 2022 +0300

    Comment typofix: "memeory" -> "memory"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 19515c6ffd11659e71018b1838813cfa0c3e0304
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 2 18:32:25 2022 +0300

    Qt: Raise dialogs when they are accessed again

    Dialogs disappearing behind main window were a problem
    on MacOS

    Reported by ddeanbrown

    See osdn #43943

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8a88d77f724015d5af5483bc16a4403b5af3a034
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 25 01:42:57 2022 +0300

    singapore.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #44939

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e5b1134aa01aefd7e98cf064e21e2fd72a16971a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 24 12:09:16 2022 +0300

    flatpak: Reduce permissions to ~/.freeciv subdirectory

    See osdn #44925

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 92674593dcb5aeaa1d964269288a0a294e7b5e20
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 26 01:57:54 2022 +0300

    Rework readline cleanup on server quit

    - Introduce readline_atexit()
    - Call rl_callback_handler_remove() from readline_atexit()
    - Do not register rl_callback_handler_remove() as atexit function
    - Free last input line (the one where the "quit" command was given)
      in readline_atexit()
    - Call readline_atexit() from server_quit(), before exit()
      This clear things before any atexit handlers installed by tools
      wrapping freeciv
    - Also register readline_atexit() as atexit function, to make sure
      it gets called at least once even when server_quit() is bypassed
      for any reason

    See osdn #44948

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 603ac1535f02bd52144724d9c8856d581aef907a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 24 21:54:03 2022 +0300

    gtk: Allow setting worker tasks while governor active

    Do not make citymap widget completely insensitive when
    the govorner is in control. Instead keep it sensitive,
    and disallow select things (rearranging workers)

    Reported by Caedo

    See hrm #697695

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eec0b7e2351c8c624fa1954a766df25957495c9c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 25 16:40:08 2022 +0300

    Send web packet additions to web clients only

    This partial implementation affects web_send_packet() only,
    web_lsend_packet() is not changed as the list may have
    mixed set of webclient and desktop client connections.

    See osdn #44942

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7eba10374b3ee3c5dcfb72c5659719bc8c3ff07a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 24 01:47:03 2022 +0300

    qt5.m4: Disable PIE when enabling PIC

    Qt headers that require PIC also don't accept PIE.
    When we disable PIE inside freeciv bootstrap just for Qt-facing
    parts of code user is not required to disabled it from
    the entire build.

    The problem was seen on build of hardened freeciv
    debian package on x32.

    See osdn #44917

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d4261dc236baaaaeefe92098b5990d0e4815d103
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Fri Jul 1 23:27:51 2022 +0200

    generate_packets.py: Remove no-packet flag

    See osdn#44975

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 0306687b0c554189617073436d41ef5e3d201247
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Fri Jul 1 23:17:44 2022 +0200

    generate_packets.py: Don't indent preprocessor directives or blank lines

    See osdn#44976

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 5b74f69669ff3b7b3efc956e3b50bddbab864b99
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 23 23:29:48 2022 +0300

    sikkim.svg: Update to inkscape 1.1.2 format

    See osdn #44922

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 56ba7f2b6adc92ae17ee0f022e41625e7ec9d563
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 3 11:49:27 2022 +0300

    Bump soundspec capstr

    Differentiate master soundspecs from 3.1 ones.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f34de5a607da1276c512a1a6c774ffd192e13e3b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 23 18:24:40 2022 +0300

    Qt: Make options dialogs to remember their geometry

    Requested by ddeanbrown

    See osdn #44391

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4254977e464e20720e63df59f1d6988ff34afff9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 3 07:29:24 2022 +0300

    Comment typofix: "instertion" -> "insertion"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bd5b0675be5ab4dcea032472ceced18cc20170a3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 24 21:16:10 2022 +0300

    sdl2: Fix nation selection dialog surface leak

    See osdn #44893

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1da8f62ad4c8c6a62205945fe97f8d1ef7183b93
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 25 12:00:22 2022 +0300

    gtk4: Use GtkPicture for unit icons

    See osdn #44934

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit db610427102add2bd69aac4c46b74d1459641fff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 2 20:42:01 2022 +0300

    Comment typofix: "save" -> "saved"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5b4fbf72064b5ecaff16d3c54f27c62352aa4b81
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 26 19:05:32 2022 +0300

    Update URLs referring to freeciv main homepage to use https

    See osdn #44954

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c3cb6f294e4051897b7d39cb9c0d4c53d9103869
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 22 23:27:17 2022 +0300

    Msys2 Makefile.meson: Install gtk4 environment for sdl2 installer

    It comes with gtk4 modpack installer.

    See osdn #44910

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a65a4261ed09ac4328ce0f40cef9a3802e944eb7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 22 18:29:00 2022 +0300

    sikh.svg: Update to inkscape 1.1.2 format

    See osdn #44909

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d6bb61c46f7a065430df1bdca9bf0b0038c28001
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 23 06:12:17 2022 +0300

    Move server signal handling to a new srv_signal.[ch] module

    See osdn #44914

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5b7a8734641564cbbfaa45c4178eb1917a27bbe3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 24 19:00:38 2022 +0300

    AI: Fix tech want for paratroopers

    See osdn #44926

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b34896c08945117d9ebab8ee37efa2d71ab4e652
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 24 22:32:02 2022 +0300

    Fix netwait on systems with unsigned time_t

    See osdn #44886

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 16099787e06775f5529aa441900cdf119748c6d5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 21 06:29:24 2022 +0300

    sicily.svg: Update to inkscape 1.1.2 format

    See osdn #44890

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b878ec71c506d39b76bdb365a8e47f9b85bc69a1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 22 22:13:13 2022 +0300

    Meson: Check if getaddrinfo() is a macro

    See osdn #44794

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8ab563dcd975ff1752bd68c2515ccc464d899709
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 21 23:12:48 2022 +0300

    Make server_quit() and srv_main() fc__noreturn

    See osdn #44900

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 00b8474e4a8958a1a1fccbd3eae01cbd9a1bc96f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 20 17:18:05 2022 +0300

    siberia.svg: Update to inkscape 1.1.2 format

    See osdn #44883

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 22f64d62942cdd6293b77508153734fba710f54f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 23 18:55:37 2022 +0300

    Remove city worker when the tile gets fogged for the owner

    Reported by wieder and Jacob Nevins

    See hrm #697685

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4a7816a16eaa2143bb33c23ebd667774ec6bbac0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 24 00:59:08 2022 +0300

    Qt: Avoid deprecated QMouseEvent::globalPos() in Qt6-mode

    See osdn #44923

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aec7bf2dd5f7aaf8afc31d713f81408bb9fc7af3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 22 01:00:59 2022 +0300

    INSTALL.Cygwin: List libMagick-devel package

    See osdn #44896

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 80343295482e86c92928e380d14c96c848189155
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 30 00:12:10 2022 +0300

    CI: Install llvm for Mac explicitly

    See osdn #44968

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 74c0165ca410b43bf36c10518c21a97e58568876
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 20 23:46:00 2022 +0300

    Do not reveal trade partner by default

    Whether trade partner is revealed is now controlled by
    the ruleset, defaulting to FALSE (old hardcoded behavior was TRUE)

    See osdn #42970

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7134ef52cbc4f3c1688c5327d74211a96aee941e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 19 22:25:20 2022 +0300

    sherpa.svg: Update to inkscape 1.1.2 format

    See osdn #44871

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 98262d28f18a1e6f4515e27fac55f3f49be7d498
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 22 01:41:39 2022 +0300

    Lua: Disallow creation of multiple units of unique type

    Reported by Alexandro Ignatiev

    See hrm #870631

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 540c8911e3104675f2d1d8100554d668ae3a45e5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 23 23:50:51 2022 +0300

    gtk4: Implement governments menu

    See osdn #44904

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ad0d14c4e92ba6906255fc9f18eb01d0abb95efa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 21 16:51:10 2022 +0300

    kill_unit(): Call player_slot_count() just once

    See osdn #44797

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 19c85fae8430f769d486cf595018c125f82811c0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 21 16:29:13 2022 +0300

    Qt: Configure the fonts when needed

    - Do not discard and overwrite good font settings
    - Make sure that fonts are always configured when needed

    See osdn #44864

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a670238ff22746c9ef7929a76835e77e98a7beb7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 22 00:30:49 2022 +0300

    Place animals further away from players

    Reported by Jacob Nevins

    See hrm #697677

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7dc68955901c9e8a8bf6a872261b94f78244dcae
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 19 10:00:55 2022 +0300

    shawnee.svg: Update to inkscape 1.1.2 format

    See osdn #44866

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d3d1a9665e5d917768cda936ddc715a8590c558f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 21 19:36:13 2022 +0300

    Correct end_turn() statistics

    See osdn #44879

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 341b369b3a9d14a3d2f8749826db87d3e68cfab2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 18 10:39:37 2022 +0300

    shan.svg: Update to inkscape 1.1.2 format

    See osdn #44855

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 88485bdcb9fb17c632bd473728d559d86d510a0e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 21 06:23:11 2022 +0300

    installer_cross: Add meson-build_all_installers.sh

    See osdn #44805

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 01f9378c110c86f20b4e0c70ce7ca577c3d19f24
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 19 09:16:19 2022 +0300

    CI: Build gtk4-client & modpack installer

    See osdn #44725

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 38764d908f6ea6c694d6c1aeec324abb9299beb9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 18 21:49:00 2022 +0300

    Name timers

    See osdn #44860

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 80d565f979741795ba8bb05d3e553b2695bc0bb1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 21 19:52:39 2022 +0300

    sdl2: Search icon borders by alpha when no colorkey available

    See osdn #44892

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bc07b3a7c81aea9f7b4f3842bb05ef0453f27b81
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 20 19:42:28 2022 +0300

    Qt: Fix citydlg happiness layout memory leak

    See osdn #44885

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 775254e8d6ba9be01915753466ad224d26f0151a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 21 06:07:11 2022 +0300

    Qt: Use QVariant::typeId() instead of ::type() in Qt6-mode

    See osdn #44878

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6b6707bf6dcb8fd765084fe1143a5a39942a8df0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 24 03:50:04 2022 +0300

    Use https for default modpack list URL

    See osdn #44807

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit afed29ed0dd65a26956ede9cff3e86ff8fa16521
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 20 17:51:03 2022 +0300

    Handle fatal tileset load failure on FREECIV_NDEBUG builds

    Handle the failure with regular check, not with
    fc_assert_exit_msg(). The old code allowed execution on
    FREECIV_NDEBUG builds to continue to segfault on the
    next use of NULL tileset pointer.

    See osdn #44754

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 989c72a0b61eeb2fbd2b7a83329c91bf24d0b1e8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 17 14:12:42 2022 +0300

    seychelles.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #44848

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 996dca37a09c63e240642fce3e1b75ccd069193b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 18 06:40:43 2022 +0300

    Sanity check research techs_researched count

    See osdn #44594

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c3664bdb9ef39d3b59c847fe9575c9488432d357
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 19 23:19:51 2022 +0300

    Climate change: Check unit activities on tiles surrounding changed one

    See osdn #44155

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b8081048e7318c0a8551969532aef2b46a88be49
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 19 16:12:26 2022 +0300

    Rename aidata.[ch] as daidata.[ch]

    See osdn #44869

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ed756388f7cdf7b5e2bbfdbea3c36fdb7cc0b890
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 20 18:50:16 2022 +0300

    gtk4: Fix Connection Page buttons

    See osdn #44884

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 47dc43455d0ea5eb70693bf809c1d796065f7596
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 22 17:25:34 2022 +0300

    gtk: Set more-units-arrow to correct column of the grid

    Set arrow to actual last column (depending on screen size),
    and not to MAX_NUM_UNITS_BELOW column.

    Other populate_unit_image_table() cleanup made in the process.

    See osdn #44905

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8db57085ffd161099893402e8e3fd8a568d3c60d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 25 17:37:10 2022 +0300

    Update Finnish translation

    This is just S3_1 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 91c081fe914815904984628c725ef641c9fddfed
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 20 22:04:17 2022 +0300

    installer_cross: Explicitly disable readline

    See osdn #44849

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 906c49f3cb768c5831c94d79f96f752bb8e71959
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 16 08:45:22 2022 +0300

    senegal.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #44845

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 854b590381a6bb8dc5ebe16f3fc26780e8d037d8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 16 04:08:08 2022 +0300

    Qt: Select smooth font size for the default fonts

    When selecting default fonts, set their size to
    ont of the smooth sizes of that font.

    See osdn #44034

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 358148a8ae8d3b7c789cab4b5b15bb689bc0301c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 19 21:25:50 2022 +0300

    Macrofy action_has_result()

    See osdn #44688

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ce890fbe49303a2bede21a71c4c709518e3a1b91
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 20 17:03:45 2022 +0300

    FC_QT: Default to Qt6

    See osdn #44385

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9af7927478de862251cb694383e123e06335fbb8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 21 18:43:32 2022 +0300

    *.metainfo.xml.in: Use https for freeciv homepage URL

    See osdn #44826

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e06012213522eaebeac7068bcb3638802fb82ce1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 19 21:59:54 2022 +0300

    Msys2 Makefile: Add ucrt64 support

    See osdn #44827

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1cb5a1c5d07b9a29d4bc6667b8857e19b04e3203
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 11 23:13:46 2022 +0300

    json protocol: Make return value of dio_put_*() an int

    Parts taken from a patch by christian montanari

    See osdn #44801

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0194c92e696243a1ddb2fb5255c853b06d647e2c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 24 13:24:48 2022 +0300

    Bump version number to 3.1.91.7-dev

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c878cd070e180960efd4595cfc3bb69654338e6e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 15 07:32:32 2022 +0300

    seljuk.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #44840

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 320cff5a3d413066c8f1409125f7bbe7e0b33d40
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 16 11:10:45 2022 +0300

    Fix IPv6 lan announcement replies

    See hrm #912661

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6f5361ffac65cfbdd0393a9a0bea6098982cda4c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 20 16:43:16 2022 +0300

    Qt: Use QMouseEvent::pos() instead of ::x() or ::y()

    See osdn #44875

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9f1605c166fbb423716af77a443fd1cadd3202b1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 18 11:12:16 2022 +0300

    player_distance_to_player(): Fix clang analyze div by zero warning

    See osdn #44856

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0a6150cce90535faccc51534daabd7db27430664
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 16 05:45:36 2022 +0300

    meson-installer_build.sh: Add support for building sdl2-client installer

    See osdn #44804

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ee59100b22c8f99e3b7466dba8fa48621113877f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 15 05:50:23 2022 +0300

    Gui API: Drop option_dialog_popup() from common API

    See osdn #44836

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e83feda38bb96dcb8322a6725dbbaac93dd17042
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Sun Jun 19 22:52:48 2022 +0300

    Lua: allow create units in unboardable transports

    See OSDN#44834.

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit 74eb269080a2ceb09fb59aa74b651b2b533f1176
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 15 07:17:58 2022 +0300

    Qt: Set up proper fonts when the client starts

    Reported by ddeanbrown

    See osdn #44389

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ffd8b1b96f24f4f7d02020224cd6e65cefbbba17
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 14 15:39:24 2022 +0300

    seleucid.svg: Update to inkscape 1.1.2 format

    See osdn #44830

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fb9a3811d672500b835ba880800507b1845f0713
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 23 05:16:06 2022 +0300

    server/.gitignore: Remove libcivserver.a

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 44807d86a57821049d4e18577a9a926532855a33
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 20 06:38:02 2022 +0300

    gtk4: Implement citydlg mouse button events

    See osdn #44874

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 37c5e6ec46edf47f272fc86c70c73764e54cad77
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 18 06:26:02 2022 +0300

    Centralize diplstate type changes to set_diplstate_type()

    See osdn #44854

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2c4dce6620dd1fca130cb4820a76da7b5ba0c957
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 17 14:00:33 2022 +0300

    Meson: Define FREECIV_IPV6_SUPPORT conditionally

    Enable IPv6 build only if getaddrinfo() available

    See osdn #44069

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 83b240abf47fe92bf0c1e1240d33e0f225a124b5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 22 20:29:11 2022 +0300

    Fix normal build

    Further adjustment to osdn #44882

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0be0fa04b7797bf06b36fd8cced0c0123696bb1a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 22 19:52:05 2022 +0300

    Fix compile without --enable-debug, or with FREECIV_NDEBUG

    See osdn #44882

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5f95edf546a13866a3361363136966ea08dee6ee
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Fri Jun 17 23:04:07 2022 +0300

    Build units with a nationality of the citizens spent on them

    The dominant nationality is the first recruited of the most numerous (i.e.
    foreign more times than native). A fix included for not to get negative
    production in a city in the process of unit building due to scripts.

    See hrm #866911

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit 5ccb679be7975f5a7b5898c40cbd19e5c3abc509
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 19 08:23:27 2022 +0300

    Qt: Make settings versioned

    See osdn #44838

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 10eebf68ef5154475832d1a6f7f02faba33c3bed
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 22 16:14:19 2022 +0300

    Comment typofix: "populatate_..." -> "populate_..."

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2fd359be4a51154046dde36ba13f50cfcec70ad6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 13 18:16:57 2022 +0300

    scythia.svg: Update to inkscape 1.1.2 format

    See osdn #44819

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5198754cae7b4f9336951a565059ebd4e9b9887d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 14 18:01:03 2022 +0300

    gtk3.22: Unref ui_builder

    See osdn #44832

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b11894d3c659ca0cbbd5b041bc7b089e7ded0740
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 16 08:34:13 2022 +0300

    gtk4: Draw map on citydlg

    See osdn #44844

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 26d0113b3bca47506ca5f9b370cacdc85fb86f7e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 15 03:54:18 2022 +0300

    Update distribute() fingerprint

    Make 'groups' and 'ratios' unsigned

    See osdn #44617

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 53786b915c8ed08d4e652d963d98eabe5e250c0c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 18 09:27:15 2022 +0300

    Make default metaserver URL to use https

    See osdn #44806

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b9fb31f675000cb0b872eb423af6614bbc67d8cf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 21 21:21:32 2022 +0300

    Comment typofix: "excecuting" -> "executing"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3caf5c3e445cceb15672802d14c39c2358c4c144
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 11 10:34:49 2022 +0300

    Rename ...appdata.xml as ...metainfo.xml

    See osdn #43688

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 202361684d40331063b3d4a24ad540d020a5a6ba
Author: Elefant <noreply@null.void>
Date:   Thu Jun 16 20:32:35 2022 -0600

    Add cimpletoon renderers to data/graphics folder

    See osdn #44825

commit 312b9a37e13e0a4c4a73b7adb34ba5c6699a3749
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 21 17:05:29 2022 +0300

    Bump tilespec capstr

    Differentiate master tilespecs from 3.1 ones.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f18c99b3942ca136013a54f32f7d231dae8f6c80
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 14 15:13:34 2022 +0300

    Make it possible for cause "Hut" extras to appear on frozen terrain

    Restriction to avoid Hut appearance on polar area moved to rulesets.

    Reported by David Fernandez (bard)

    See hrm #660056

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d7a923dc00fac1efc5d866e5dbe91870e22e57e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 14 09:07:10 2022 +0300

    civ/2: Allow AI to build air units

    Reported by Alexandro Ignatiev

    See hrm #922066

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9ec95ea493b84fec0da1e321b14bc69d8a9ad00b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 13 01:35:11 2022 +0300

    scania.svg: Update to inkscape 1.1.2 format

    See osdn #44816

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3e6be0a4cf07a904faa0bc30205114c44a9c6be4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 12 03:28:36 2022 +0300

    Meson: Add gtk4-client build support

    See osdn #44800

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c0a7eed25713493a74efb9af927666028db4ecf4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 17 10:17:39 2022 +0300

    gtk: Make numpad keys to work for controlling zoom

    Reported by elefant

    See osdn #44846

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 164d737165afd7cd45bb869974b34b721d36eef9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 13 08:14:32 2022 +0300

    CI: Update setup-msys2 to version 2.12.0

    -Werror had to be disabled from msys2 CI CXXFLAGS, as the
    Qt6 -headers in the new baseline have internal trouble
    causing warnings.

    See osdn #44776

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b148ec1cc03a554eb088bcb229dfe81e68f4b1b9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 11 15:27:51 2022 +0300

    Improve timing[ch] coding style

    See osdn #44796

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e26acb90c0c98e24ce50a840591571900d46946e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 12 10:44:43 2022 +0300

    Editor: Disallow creation of more than one unit of unique type

    Reported by Alexandro Ignatiev

    See osdn #44793

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 516ee8f112d47c7ba84d8770e5f1aed5bc015d4a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 13 08:03:49 2022 +0300

    Doxygen: Fix dai_war_desire() header format

    See osdn #44810

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 09d1a71ba11e429f369f63e6f03f6ea91ece1b5a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 12 03:34:22 2022 +0300

    saxony.svg: Update to inkscape 1.1.2 format

    See osdn #44803

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 89c8abb8b541ab845d4a1d777e5011b082865ea8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 11 16:24:31 2022 +0300

    gtk4: Add menu entry for founding a city

    See osdn #44798

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9ea8c3fa0c8a39546a4e7560363516edf6ffb802
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 10 05:12:17 2022 +0300

    gtk: Add logging about gtk initialization failure

    Both gtk clients and modpack installers changed.

    See osdn #44118

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e3bce0464b64660bacb7321527ed9c831d6411b0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 14 13:44:53 2022 +0300

    Update links to forum.freeciv.org to use https

    See osdn #44829

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bd1249c370e7736f626dd753ba3462198e7535e7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 19 11:35:48 2022 +0300

    Comment typofix: "succeded" -> "succeeded"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 34307a483929326157103a32bca49f3c76295569
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 11 22:42:01 2022 +0300

    savoy.svg: Update to inkscape 1.1.2 format

    See osdn #44802

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d822ff82f3350cb550ab0eb0e631395dbd3b9563
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 19 06:35:28 2022 +0300

    Update Finnish translation

    This is just S3_1 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8122b1027f80d03831574941a4ad15f0bb47de06
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 11 09:16:19 2022 +0300

    Msys2 Makefile.meson: Set correct arch to package name

    Have "win32" in win32 installer name instead of hardcoded "win64"

    See osdn #44689

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 99a965f1e9f620cba12e5514240cbdce23759d9f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 13 01:28:39 2022 +0300

    Fix compile when libzstd, but neither libbz2 nor liblzma available

    See osdn #44812

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 41f140c685d8e48be82536ef329c7968b6838c60
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Tue Jun 14 22:53:14 2022 +0300

    Split create_unit_full() in two functions

    unit_virtual_prepare() makes a virtual unit with some initialized values that
    may be furtherly modified, place_unit() puts a prepared virtual unit into the
    game. Apply the split to unit_change_owner() and place_partisans()
    for calling AI callbacks after the unit properties are configured.

    See OSDN#44738.

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit 8ccc60e34d84b5d4d7496e9dfac1e144df271c80
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 12 03:14:36 2022 +0300

    Set diplstate max_state on first contact

    See osdn #44759

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 58eb9f6caa0663df9d4fd5f3a0ead19f872fcea4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 11 12:25:39 2022 +0300

    saudi_arabia.svg: Update to inkscape 1.1.2 format

    See osdn #44795

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4f28e6a194ed6eccc0afe6f17e58d417d09909cf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 13 18:07:55 2022 +0300

    Meson: Add support for .fcproj files

    These are equivalent to our autotools .project files

    See osdn #42935

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cbbdb0f0225e00466ed07ac61796b9afdbd08630
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 18 05:52:39 2022 +0300

    Comment typofix: "partially succed" -> "success partially"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a69ae6d55c4e4588f11eef38710b1347b7b68f73
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 5 22:08:18 2022 +0300

    Remove trailing spaces from client theme files

    See osdn #44681

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fdb1b0ba31e5df32354a714d2850e1a9f97cfdec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 11 22:01:13 2022 +0300

    sdl2: Free city_map_canvas on exit

    Also have it originally initialized to NULL so that
    we never try to free memory from random address when
    reallocating the canvas

    See osdn #44755

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c1d479094b922d001a9e1f0b7feb33f80a7fd7c6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 11 07:19:34 2022 +0300

    sarmatia.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #44791

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 865f01f7dd7b0d72f5a58260dc48402c8c5cb72f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 9 03:55:52 2022 +0300

    installer_cross: Build ruledit-installer in Qt6-mode

    See osdn #44699

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d52e0e5761f5940ab78a64ccf00ba35d45a07c69
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 12 11:18:56 2022 +0300

    Savegame: Rename "wonder_city" as "adv.wonder_city"

    See osdn #44783

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 25388c4f8efc316679a5e8360bc09c2fa03a6417
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 11 12:09:40 2022 +0300

    Qualify "Mine"

    See osdn #44668

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ff933d42a5444e0b7fca10584811e5e952ae7fe5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 9 04:02:01 2022 +0300

    sao_tome_and_principe.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #44786

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a81f5b2beaaedb69be00455f2deb82559a330702
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 9 01:43:12 2022 +0300

    sdl2: Fix clang analyze popup_goto_airlift_dialog() div by zero warning

    See osdn #44679

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 97c0e44c6e4a51fd92079886f3ba7e6b241242cc
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Mon Jun 13 21:17:54 2022 +0300

    Rework functions using unit_change_owner() for script effects

    This function may sometimes return NULL or a foreign unit, respect it.
    During bribing, the gold may be taken away by scripts before paid,
    don't go negative.
    During capturing, the city to home units may be destroyed,
    the captured units are going to be lost with it.
    Some other fixes to avoid using dead pointers or forming
    impossible stacks.

    See OSDN#44778.

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit 0af3ab23718e9592448331e502aa70dd77b5cdab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 9 03:49:55 2022 +0300

    gtk: Pluralize infrapoint count in infradlg

    See osdn #44669

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 808605f57537e4faefcf28c21773f86e740ad5b4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 9 03:15:57 2022 +0300

    Qt: Drop unused but_menu_worklist from citydlg

    It was only created, never used nor deleted (memory leak)

    See osdn #44785

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bf6c5601fcf3d7e1f1b261dc5e2de07b8dd06531
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 9 01:54:01 2022 +0300

    samogitia.svg: Update to inkscape 1.1.2 format

    See osdn #44784

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f5dba404a2a0d6da2d8a9acf2e5d876e12e68648
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 7 19:34:40 2022 +0300

    Msys2 Makefile.meson: Create langstat

    Earlier builds made by Makefile.meson have just used
    langstat files left behind by previous autotools builds.

    See osdn #44729

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1304bf6ace731ffc1540679dc55be5e4df7d281d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 9 01:36:50 2022 +0300

    tileset-demo.sav: Update to 3.1 format

    See osdn #44366

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2e0e92711f8ab6c7b1b7904f2fd5b3986001e069
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 9 00:46:49 2022 +0300

    Never compare boolean value to exact value of TRUE or FALSE

    See osdn #44401

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eefeefa7851f8d0c55365b0b5be82b64b41a49f5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 8 02:48:46 2022 +0300

    samoa.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #44773

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b6d3a3d400384612cd5f73aa2be5d7f18c2a21cb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 5 07:05:51 2022 +0300

    gtk4: Add initial app menu implementation

    Mostly lower level changes, but includes "Game" menu
    with some entries as an example and testing ground.

    See osdn #44756

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ef06266d913317f3789870166b7df2a7d2909010
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 14 05:08:17 2022 +0300

    FAQ: Refresh from wiki

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dd71c9840f8c017220ffece8cda6915dadfac8c6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 11 06:59:48 2022 +0300

    gui-stub: Remove trailing spaces from source files

    See osdn #44695

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e49d12f86709d995cdeda5eb4f6fc95be9a0f006
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 26 00:17:29 2022 +0300

    Sanity check research->techs_researched from savegame

    See osdn #44595

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 703d24fdfb7eb94fb67f64ed03b81eab9708250e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 5 23:08:32 2022 +0300

    samnium.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #44758

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 748fa0572bf71a6e6e6a9d19a88f2fd25db65927
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 28 18:50:35 2022 +0300

    Add --with-localedir configure option

    See osdn #44525

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d8361ccff06992e413794c596bfac682a2acf1a0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 13 02:40:38 2022 +0300

    FAQ: Update latest stable version number to 3.0.2

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2d1a07b7d0a1c4f39a64e3edcd5b9fbcb6b1fcdc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 10 18:01:21 2022 +0300

    Notify about new governments enabled by improvements

    Requested by Jacob Nevins

    See hrm #856947

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fd9a81ab67d9175c2581d01e08c72dd7337705c4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 11 06:28:01 2022 +0300

    gtk: Fix memory leak in research dialog tech selection

    See osdn #44790

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 677e23fd8eae3c890b4d42eb19276e985659e6ad
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 4 15:23:34 2022 +0300

    salish.svg: Update to inkscape 1.1.2 format

    See osdn #44752

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 48a094e805c7e86d6e798ab77327b4560e764ce4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 26 08:06:46 2022 +0300

    meson-installer_build.sh: Install dlls for gtk3.22-client installer

    See osdn #44675

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8d5d9e41020146f5c6ace3fc7378a8439f961055
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 7 06:12:11 2022 +0300

    Qt: Add doxygen marking for some function headers

    Also remove declaration of 'bold()' from citydlg.h.

    See osdn #44663

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 26358736cbc6bd9e970184b0b12deebb0e3b1d35
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 7 19:46:48 2022 +0300

    README.sound: Refer to modpack installer

    - Add chapter about acquiring soundsets to the top -
      it's the most important part of the document for a casual user
    - Move instructions to download files from files.freeciv.org
      to this new chapter, and adjust it them a bit
    - Add mention of modpack installer, as the primary method of
      downloading soundsets and musicsets

    See osdn #43857

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e7b471e580b9574d8a9173a5075632a01ae9b3dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 4 12:44:23 2022 +0300

    saint_lucia.svg: Update to inkscape 1.1.2 format

    See osdn #44751

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 45ea4c8cba6a6d5731fc46f09c5c5f549feb69dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 4 13:52:37 2022 +0300

    CI: Make builds on ubuntu runner in Qt6-mode

    See osdn #44662

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4c311a89123360214f46e83a64d0f0211c3b6bb3
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Fri Jun 3 23:44:06 2022 +0300

    Unify Lua handling of creating a building in a city with editor

    * can move a great wonder
    * can't build a Special building
    * refreshes cities and auto-arranges workers if their radius changes.

    See OSDN#44696

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit cc1635e37122c3e74d8530cc2531f0c377fe7636
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 4 13:19:48 2022 +0300

    north_america.sav: Update to 3.1 format

    See osdn #44365

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a9a038250dc7e3343fbbf782049b7cf2af9f56be
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 1 18:19:39 2022 +0300

    Correct transform_unit() and unit_upgrade_test() header cross-references

    See osdn #44404

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 83775f3a7efc1ae006f176f177317df5ac017aaf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 10 20:31:23 2022 +0300

    Update Finnish translation

    This is just S3_1 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1fddf619eb00a3481b4cbd5124151ef41970a75e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 2 01:05:32 2022 +0300

    sadr.svg: Update to inkscape 1.1.2 format

    See osdn #44740

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9bde2524763deac68f5a80b11a344b317f87e517
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 31 03:49:28 2022 +0300

    Add note about freeciv modifications to m4-files from ac-archive

    See osdn #43970

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 986f7ef355c2a2948d8e79e42774d1ef64dc7593
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 4 11:51:35 2022 +0300

    cvercmp: Update to match upstream 1.0.5 release

    See osdn #44720

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e17073e8a7f4a563f28de58b8650c27761e86983
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 5 08:39:42 2022 +0300

    Fix NULL deference when the unit does not exist in handle_unit_actions()

    Reported anonymously

    See osdn #44757

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1aad4dd386ff80d5dd55ae7e7e4002d4dd0be8e8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 31 04:06:50 2022 +0300

    ryukyu.svg: Update to inkscape 1.1.2 format

    See osdn #44733

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ff48d682a75eae5650cefe49e6020a5466953b60
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 30 20:53:02 2022 +0300

    Msys2 Makefile.meson: Do not use ./win_arch.sh

    win_arch.sh relies on earlier autotools build having set
    up the environment, and meson based build cannot rely on
    such an build having taken place.

    See osdn #44683

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0667e5bf38b2d48fec1ccc26da2ae4321bef1050
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 29 05:43:52 2022 +0300

    Support AI evaluated user effects

    Make it possible to define in the ruleset, what kind of value
    the AI should give to the user effects. That's done by referring
    to one of the hardcoded effect types with matching evaluation code.

    Requested by ihnatus

    See osdn #44711

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit daa22b3fc9b753a9a3e73da2aac7d9f6ca7a9cf5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 1 17:53:13 2022 +0300

    civil war: Set future tech count for the new player

    See osdn #44737

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 803eb6599e20f1e40fe55a378a37bb01448e1602
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 29 20:36:11 2022 +0300

    raramuri.svg: Update to inkscape 1.1.2 format

    See osdn #44717

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cf3633babad0b81d8c113e628d9ff4574041ea46
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Mon Jun 6 23:07:42 2022 +0200

    generate_packets.py: turn fields into properties where appropriate

    See osdn#44768

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 413ef2590c6119d4169b57d47f2c0905451e1e17
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sat Jun 4 15:42:56 2022 +0200

    generate_packets.py: remove superfluous Variant members

    See osdn#44765

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 7322431a73bfec4664caf49cbaaf71da1194d3ce
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Fri Jun 3 18:30:05 2022 +0200

    generate_packets.py: remove Packet members that are only needed on Variants

    See osdn#44764

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 3be3c3518c2bd5a11305830a29bebb1afd2f5a9a
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sat Jun 4 14:37:52 2022 +0200

    generate_packets.py: explicitly unsupport empty variants of nonempty packets

    See osdn#44750

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 1d82e768b5a13c047710983d538ac68c611af040
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Mon May 30 00:50:56 2022 +0200

    generate_packets.py: Fix Pylance unbound variable warnings

    See osdn#44763

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit a46fa79b474bcdfc274421473ec9b00a13ef8aab
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Mon May 30 00:32:38 2022 +0200

    generate_packets.py: Use booleans instead of 0/1 where appropriate

    See osdn#44762

    This does not include Field.is_array (which can also be 2).

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 67dbcda9626ffa3fc4d12a5677bec270cdf5a044
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Mon May 30 00:30:02 2022 +0200

    generate_packets.py: Add type hints

    See osdn#44615

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 6d284d93b1624e8fa1a6b55ff013f3b9ca95bfa5
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sun May 15 15:26:07 2022 +0200

    generate_packets.py: remove get_dict() methods

    See osdn#44761

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit f5889ecbbc0d7921a5709a1eecec9c0f41d2cd9f
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Mon Jun 6 18:38:04 2022 +0200

    Bump minimum python requirement to 3.5

    See osdn#44735

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 56d267513c05d7a5dcd4e06aa08484fe925eaa6b
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Wed Jun 8 12:48:22 2022 +0500

    Update for Russian translation.

commit 4b69602f6a6d94dfff696e19d1e76a56ef574556
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 8 05:50:36 2022 +0300

    Update Polish translation by Hubert Kowalewski.

    Pulled from https://sourceforge.net/projects/freeciv-l10n-pl/files/
    (zip timestamp 2022-06-03).

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 039812bb8c7c69b4a5bbf1aed8f26afeacbae14a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 1 07:30:01 2022 +0300

    Update msys2 environment to 220529 level

    - Install 'autoconf2.71' + 'autoconf-wrapper' instead of all
      of 'autoconf' meta package

    See osdn #43947

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5089185ec124e38deb12281dedd6dc74f49ec77d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 31 00:23:52 2022 +0300

    savegame3.c: Really stop orders handling when target extra is missing

    The continued handling could have resulted in illegal
    memory access.

    Reported anonymously

    See osdn #44728

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ca95cd60d49799561ea4bf5126e8482942d54db3
Author: metalyoshi86 <91883288+metalyoshi86@users.noreply.github.com>
Date:   Mon Jun 6 13:36:05 2022 +0200

    Update de.po

    Added German translation to description of the majapahit empire.

commit 639b863850c115e578bac9c7c26d4aa5bd013588
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 4 11:23:28 2022 +0300

    INSTALL: List python in requirements of building from git

    See osdn #43945

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d804ce8f34788e88d0bec16a78e8eb538d50de1a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 29 02:16:11 2022 +0300

    rapa_nui.svg: Update to inkscape 1.1.2 format

    See osdn #44705

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 54dc63ca928f6ee5974a8e4deb75568875a30a25
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 29 20:25:33 2022 +0300

    gtk4: Implement chatline key press events

    See osdn #44716

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b5436388be61d9c870314da4a03c3c34cdea14e0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 29 02:09:17 2022 +0300

    tutorial.sav: Update to 3.1 format

    See osdn #44367

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 365af3e7a8e3ff49a0f4187f96fccf01b25ea404
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 29 01:43:14 2022 +0300

    Set ruleset_error() buffer size to MAX_LEN_LOG_LINE

    See osdn #44704

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9e105552f0f3d207804fdc5af793e5a7c1c5da28
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 28 18:38:00 2022 +0300

    qing.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #44701

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6ef0bb4567008d9ec574df85763cd3a79f2942ba
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Sun Jun 5 23:35:47 2022 +0200

    Updated French translations

commit b46b29fdc5e183612f3059c7bc9cb386372567ec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 2 05:53:05 2022 +0300

    installer_cross: Make unistaller work for meson based builds

    See osdn #44741

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3793ef1eede6924c767bd60e95c330824aee84b8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 28 18:33:46 2022 +0300

    Remove trailing spaces from documents

    See osdn #44698

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7fe083e3ca1c42972f61351dd54cd9067e368f5c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 28 10:38:30 2022 +0300

    tilespec.c: Free layer_order str_vec

    See osdn #44682

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 899c15c774baa2e43d6ed930d9de5c13c9c84b32
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 5 07:10:55 2022 +0300

    Comment typofix: "constrution" -> "construction"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0268cba862e2d1e1fd5a28357f5d0696385c021a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 27 20:45:38 2022 +0300

    qatar.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #44694

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1bd6af48785290151920da6be8d58d21c219a240
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 28 09:47:21 2022 +0300

    sdl2: Avoid removal of diplomacy dialogs inside their iteration

    See osdn #44687

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2349138d88888aabfb72b6b15e71ee68197f262f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 27 20:30:30 2022 +0300

    Protocol: Make plocation.number size_t

    Extracted and modified from a patch by christian montanari

    See osdn #44693

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a6c5dc4732e2d7ddc56e0c6a4c9cfd5d4d089b8b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 27 17:38:28 2022 +0300

    goldkeep: Make Engineers to have gold upkeep after The Corporation

    Requested anonymously

    See osdn #43848

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 56708dd796fd24bebf8ec35288e5425a83dc6cba
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 27 05:17:17 2022 +0300

    purhepecha.svg: Update to inkscape 1.1.2 format

    See osdn #44686

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit faab811e5c82ba4b845e3f6d40acf475556d45dd
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Tue May 31 21:24:42 2022 +0300

    Fix range checking for city_size in units.ruleset.

    Check for city founders, not for "Settlers". Check the upper bound.

    See OSDN#44730

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit 1a736ecd9d9696e08bb6e0dcd95627809e2cd215
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 1 02:21:57 2022 +0300

    Msys2: Remove -Werror from snapshot build CXXFLAGS

    See osdn #44718

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eed05b8746aa51044e64f08ca4d4724c0d27a6da
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 27 05:11:10 2022 +0300

    japan.sav: Update to 3.1 format

    See osdn #44364

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b94c1dc993f51efdf33a2b58ed2713fd4cdb3c16
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 27 04:45:49 2022 +0300

    Check unit uniqueness within startunits

    Make sure that no multiple units that are supposed to be unique
    are granted as start units.

    Reported by Alexandro Ignatiev

    See osdn #44685

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8c15878d56040e8f26c0b6e630237de0ea70f58d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 26 09:32:12 2022 +0300

    pomerania.svg: Update to inkscape 1.1.2 format

    See osdn #44678

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4163f173d160aefd4b0a367e2513d917a29d3717
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 26 09:27:38 2022 +0300

    CI: Update setup-msys2 to version 2.11.0

    See osdn #44666

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 17af7c0274e240bc42306fbb38229cb650fed7c1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 26 21:57:45 2022 +0300

    Fix doxygen marking line of function headers

    See osdn #44664

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 27f89805e42002e9449083097248712199b3a507
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 26 08:52:10 2022 +0300

    Update modpack download instructions suffix in TRANS comment

    It's ".mpdl" now, no longer ".modpack"

    See osdn #44547

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ee0eae578ac543d3e2ed533526f7839fa8769818
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 26 08:14:45 2022 +0300

    polynesian.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #44676

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 552c5040cb7cdd404d0e7f39ea833518c36f44b8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 25 23:19:28 2022 +0300

    gtk4: Implement toplevel key press events

    See osdn #44673

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 04827e8b41a4c8d85fe9c71c06e99da813f27044
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 26 08:43:00 2022 +0300

    Do not list them all when multiple governments become available

    If more than one government becomes available at once, just
    give one notify about multiple governments.

    Requested by Jacob Nevins

    See osdn #44677

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 84fb38954d49dc84ef156e23f73dda71accc20cb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 25 22:54:14 2022 +0300

    Qt: Fix qtg_init_meeting() pixmap leak

    See osdn #44618

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9af4e60b7251d74c469ef910d88d188a18f719cb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 25 23:28:54 2022 +0300

    poland.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #44674

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d9fa1660aa29ff73601e4a1a9d918da4d77ce628
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 16 02:55:48 2022 +0300

    CI: Update ubuntu runners to ubuntu-22.04

    See osdn #43598

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1c7b5ff0a662c85c60304af5a6bd6c20aac85b51
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 25 23:47:56 2022 +0300

    Pluralize "steal times" in citydlg

    See osdn #44667

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit afaee43597eb7262e9e1b64239ce324e653c36d1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 29 07:46:45 2022 +0300

    Add project_license to appdata files

    See osdn #44712

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4bebc95a29a022b5b1f9650b8fc23588da810932
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 25 22:27:09 2022 +0300

    piratini.svg: Update to inkscape 1.1.2 format

    See osdn #44671

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9bd6a878fa21c5d10bb36c8576f3bcbe7eca9d32
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 27 16:52:01 2022 +0300

    Msys2 Makefile.meson: Disable ruledit build from current installers

    See osdn #44684

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c805fcac1fcdcbc36bfb6fd3f8104f56bfe331c3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 25 22:49:58 2022 +0300

    europe_1900_WWI.sav: Update to 3.1 format

    See osdn #44358

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit abe6f595e2a929002a61f40e60f47e0d58c7a8af
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 25 22:01:11 2022 +0300

    Gtk: Add tooltip for citydlg "Size" line

    See osdn #44515

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d2f90c3c23329d6209b1c6e677969a91b81e74b9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 16 03:02:51 2022 +0300

    pirate.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #44619

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 51fc41cb5235b1ac37ac2836ba0613f42b71971f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 15 07:29:38 2022 +0300

    local_ave_elevation(): Fix clang analyzer div by zero warning

    See osdn #44569

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eb03c936ccfe1cef5a571d64dc857d78f5991290
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 25 21:54:07 2022 +0300

    Use // for all single-line comments in C++ code

    See osdn #44670

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 44d9faeab18433811a4103bd6d978b171f18c31e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 16 00:28:06 2022 +0300

    create_command_newcomer(): Respect maxplayers setting

    See osdn #44185

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e3372595110bc483791b4e7eda393b837b165ec8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 15 07:37:41 2022 +0300

    piedmont.svg: Update to inkscape 1.1.2 format

    See osdn #44609

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7b71fece0fff26b0476cb7cb3443bf99873b9773
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 27 17:09:18 2022 +0300

    macOS: Fix --with-qt?-framework-bin

    Reported by jdlh

    See osdn #44422

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0f166db9e3b1267e0e89afb885b2b2b0007dbae9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 16 00:15:01 2022 +0300

    italy.sav: Update to 3.1 format

    See osdn #44363

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 77aa872713acf591936e32d15fde8f9d7470ee05
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 28 14:19:39 2022 +0300

    Bump version number to 3.1.91.6-dev

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7f1e01214ed6a3fcfc616086fcb5b5a1dd85bd7a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 15 06:49:31 2022 +0300

    rssanity.c: Free action enabler fix suggestions

    See osdn #44432

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1df463f8cd336abcb77e3473310598284047d603
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 15 05:11:48 2022 +0300

    pelasgian.svg: Update to inkscape 1.1.2 format

    See osdn #44608

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ad46c187a62d3132670ff8eac0b97763cb793adf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 27 23:30:58 2022 +0300

    Main .gitignore: Remove freeciv_user_database

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f6c5e9c6a4cd2cbeb10397cc220fb26231537273
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 25 22:20:30 2022 +0300

    Add flatpak packaging

    See osdn #44463

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d109ca106e6c5fa18492be7e1ffc631a0eb97342
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 15 04:53:02 2022 +0300

    can_build_extra_base(): Check irrigation/mine_time

    Make sure that the target tile irrigation/mine_time
    does not prevent building the extra.

    See osdn #44591

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3a1952058887d4626c8da24b37358f5e6d99db86
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 14 22:12:47 2022 +0300

    Don't consider failure to receive a tech loss of an existing tech

    See osdn #44593

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 456dc59881622aba15163d2aa234e613572e84d7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 14 11:15:53 2022 +0300

    parthia.svg: Update to inkscape 1.1.2 format

    See osdn #44589

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f218f6b947fa5de66b2d2ff87a9607417c80cbc8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 7 16:16:06 2022 +0300

    CI: Use macos-12 runner for macOS build

    See osdn #44523

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a3cbf604e833cf61b0336a5d4d8cb8ec816d0496
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 14 12:50:45 2022 +0300

    Change override/*.spec to have just lines of tag to file mappings

    Expecting them to be more complete .spec file fragments made them
    unusable for their main use-case of providing additional
    mappings to ones already present in the main .spec files.

    See osdn #44590

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5cd296f9c363d4183a313f7fd17de510ba336695
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 14 11:00:35 2022 +0300

    Lua create_city(): Check validity of city creation

    - Only create the city if it's legal
    - Return boolean telling if the action succeeded
    - Revive the player assigned as city owner, if dead
    - Reveal the city tile for the city owner

    Reported by ihnatus

    See osdn #44508

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c0ccb5ca64ba30723faef01334acc09bd3a058dd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 26 14:22:14 2022 +0300

    Comment typofix: "genrated" -> "generated"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f6729bf8d8d1575b3d3a623b15c7bbc88f5075b8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 14 07:18:43 2022 +0300

    paraguay.svg: Update to inkscape 1.1.2 format

    See osdn #44586

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1dec6f69c80e3fd855465bbb41f1bdca6168015d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 15 05:41:33 2022 +0300

    gtk4: Implement overview events

    See osdn #44570

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1731e32c3fab693ba72ac6c220a0375f5b665d19
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 14 10:08:55 2022 +0300

    Add client common treaty list handling

    See osdn #44588

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a9f001afacd11d56191157e1f8fba5344313da3b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 25 20:55:19 2022 +0300

    Update Finnish translation

    This is just S3_1 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5bc2d81897fbf8577b9b701ca1813dd5c17fd39f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 25 19:42:35 2022 +0300

    Comment typofix: "Initiazlizes" -> "Initializes"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1402a4027312681e79a8cfa615b5793d69d8fd87
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 14 07:03:46 2022 +0300

    Make "Couldn't find audioset..." translatable

    See osdn #44556

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1c1a01a829604ddc88eb78efe3d111f83101ae97
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 13 17:56:42 2022 +0300

    panama.svg: Update to inkscape 1.1.2 format

    See osdn #44581

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fbfe590168846784fb84b1dd237f97655fb5a5d0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 25 05:42:50 2022 +0300

    CI: Set qtver for meson build

    See osdn #44661

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d94f9152a8f7ccb5c33f4388fc5cfe1d4ee86ab8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 8 08:29:07 2022 +0300

    Meson: Add Qt6-mode support

    Default to it already.

    See osdn #43364

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5928f95056bbde68d20382de8dc2f52fe5b1ee53
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 14 07:13:04 2022 +0300

    iberian-peninsula.sav: Update to 3.1 format

    See osdn #44362

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aaff069adf9eaaa46029a9079dd4374d8e506f8a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 13 02:53:14 2022 +0300

    Allow changing maxplayers setting after the game has started

    See osdn #44567

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6c009ea6e01878ee83e82458eb4d4816bc7a845b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 12 04:34:43 2022 +0300

    palmyra.svg: Update to inkscape 1.1.2 format

    See osdn #44562

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cbfb122b4aefc85e467128dd05f33724d51cc58b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 14 08:28:11 2022 +0300

    CI: Use homebrew's own compiler on macOS build

    External compiler is incompatible with other tools in homebrew.

    Thanks to Jim DeLaHunt for pointing that out

    See osdn #44559

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 48fb03bb99bad4e24b679675a649b0a10f5cb850
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 14 06:55:40 2022 +0300

    Delay government change to the end of phase

    During a turn when players can freely change government,
    do not allow them to use multiple governments during the turn.
    Instead do the actual government change at the end of
    the phase, based on the final choice the player made.

    Reported by ihnatus

    See osdn #43604

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f7fbdcd78fd7e9df11d24eb2ddd5471c5dbceb54
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 8 06:21:36 2022 +0300

    Correct counting of units killed with the stack

    Unreachable units that were not really killed were included
    in the count reported to the player.

    Reported by Lexxie

    See osdn #44416

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 320270debc6b5a40189872fadea63fea889dc790
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 8 06:31:23 2022 +0300

    paeonia.svg: Update to inkscape 1.1.2 format

    See osdn #44546

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f86e446ba12f0d6766f4924e7368eb8a7c3b226f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 8 05:01:39 2022 +0300

    rand_map_pos_filtered(): Avoid call with NULL filter()

    See osdn #44437

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2a43cf7612c8b3bcef618dd7646233452c704c7e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 8 05:51:57 2022 +0300

    Qt: Improve dialogs.[cpp|h] coding style

    See osdn #44544

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0a150a1baf8b1e62830cc6c87c2642de0ef515fa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 7 16:52:46 2022 +0300

    Do not regenerate team name in team_pretty_name()

    When using generated team names, and one has been generated
    already, use that existing name. Regenerating it resulted
    in a different name being returned from team_pretty_name()
    than what was otherwise been used, when team numbers had
    changed before the team_pretty_name() call.

    Reported by ddeanbrown

    See osdn #44382

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0509b693f1d475bd9972da744c6d81802552cafb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 8 04:55:26 2022 +0300

    ottoman.svg: Update to inkscape 1.1.2 format

    See osdn #44543

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 97e052b4a935872a7ec557d37f48722e9b222cce
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 8 04:48:56 2022 +0300

    Clarify "Pop up actions last move to allied"

    See osdn #44509

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 80cf626f75586a1724674c4d58ba61f553fc8f42
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 13 17:51:24 2022 +0300

    meson-winbuild.sh: Build ruledit only with qt-client

    See osdn #44579

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b86bf4f50438bfc769ba534eac2618b4a63d46c5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 1 20:12:20 2022 +0300

    Fix calc_activity() memory leak

    See osdn #44492

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f607aeaaad62b8eb6be707383af0a9f3abce15c3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 7 16:58:41 2022 +0300

    otomi.svg: Update to inkscape 1.1.2 format

    See osdn #44540

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bb8f751d3b7a05b12c32556aef5f1b43c0c12c63
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 8 04:37:26 2022 +0300

    gtk4: Implement map canvas motion events

    See osdn #44542

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c238daabf0260456eae712f4830f8277aade79b0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 5 05:37:27 2022 +0300

    hagworld.sav: Update to 3.1 format

    See osdn #44361

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bb3dcc2461a5be6c0c9204b5d2aa002052582d13
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sun May 15 02:01:50 2022 +0200

    generate_packets.py: Turn small loops in Variant.get_send/receive() into expressions

    See osdn#44607

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 79fa3307a9797d40bb4b95b3346934448b151e3a
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sun May 15 01:10:10 2022 +0200

    generate_packets.py: clean up string formatting for Variant.get_send() helpers

    See osdn#44606

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 80862819ce70956704af669a8d0d42bdf347d62f
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sun May 15 01:02:45 2022 +0200

    generate_packets.py: use str.format() in Variant.get_send()

    See osdn#44605

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 0eb852ff40cc903a7201249939cf9b1941817600
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sun May 15 00:48:42 2022 +0200

    generate_packets.py: format individual parts in Variant.get_send() instead of concatenating format strings

    See osdn#44604

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 14dc293a81da61245924fca7e52172d0f0f8da90
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sun May 15 00:32:56 2022 +0200

    generate_packets.py: replace custom formatting code in Variant.get_send()

    See osdn#44603

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 30a8d331645ef5884556083a97772a9d8f0452a4
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sun May 15 00:24:22 2022 +0200

    generate_packets.py: Add parameter to Variant.get_delta_send_body() for code to insert before a return

    See osdn#44602

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 8d5b512058fbf8a54010b0c6f616b6a763a43100
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sat May 14 23:12:38 2022 +0200

    generate_packets.py: clean up string formatting for Variant.get_receive() helpers

    See osdn#44601

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 5d72d9ccdc5b17d4a4cf865be37a5f2a1225132c
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sat May 14 22:45:35 2022 +0200

    generate_packets.py: use str.format() in Variant.get_receive()

    See osdn#44599

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 97a157b66c31719976b58b9906baf68bd95b3cf6
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sat May 14 21:20:40 2022 +0200

    generate_packets.py: format individual parts in Variant.get_receive() instead of concatenating format strings

    See osdn#44598

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 77551651fd2a5b55127e302328c4c72bded279d0
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sat May 14 20:19:16 2022 +0200

    generate_packets.py: replace custom formatting code in Variant.get_receive()

    See osdn#44597

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 1f1ee7a9ba19b1fc81c7d654daf66cd96fcc13b5
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Fri May 13 23:12:22 2022 +0200

    generate_packets.py: Factor out header wrapping code

    See osdn#43954

    This also adds multiple inclusion protection to common/packets_gen.h

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 503d2847e0a4ff43f8abbd99338dc0389c111017
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Fri May 13 22:32:31 2022 +0200

    generate_packets.py: Replace asserts with proper errors

    See osdn#44585

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 70e44b686d983b9dcfff49ef6b402cf5b7555b88
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Fri May 13 20:29:37 2022 +0200

    generate_packets.py: Turn small loops into expressions where appropriate

    See osdn#44584

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit d43dc74b20f895775b65e337fb04d9781c18e62c
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Fri May 13 18:54:29 2022 +0200

    generate_packets.py: use generators and list comprehensions instead of map/filter with lambda

    See osdn#44583

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 4798ac8e36e05fd20cc4f520bf01041826795deb
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Fri May 13 17:59:37 2022 +0200

    generate_packets.py: turn regular expressions into constants

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit dc4b9a92475f3918cc1fedabbbdbf3757e7b3945
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Fri May 13 16:11:49 2022 +0200

    generate_packets.py: explicitly assign Field instance variables in __init__()

    See osdn#44580

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 08d756960feb4d7ded833687d529b5c16ce4c7b6
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Thu May 12 22:44:53 2022 +0200

    generate_packets.py: Phase out get_dict() and vars() in most places

    See osdn#4475

    This does not touch Variant.get_send() and Variant.get_receive() yet.

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 944121125d2e7d3412ee1df24bbe52d663c876bf
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Thu May 12 22:40:28 2022 +0200

    generate_packets.py: Phase out __dict__ uses in string formatting

    See osdn#44574

    This patch does not deal with .get_dict(vars()) uses yet.

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 37df69b545c2f35f09041d640a5a72a12401173a
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Thu May 12 22:36:02 2022 +0200

    generate_packets.py: use str.format() where viable

    See osdn#44576

    This is in preparation for moving away from using __dict__ and vars()

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit a4474422a1cec13c153224319947b968bfc2f021
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 12 19:52:09 2022 +0300

    generate_packets.py: Do not introduce unused variables

    See osdn #44563

    Patch by myself and alien-valkyrie

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 325e7b61bb695f40fd1f2ab73212194c400fd867
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 7 01:00:56 2022 +0300

    oman.svg: Update to inkscape 1.1.2 format

    See osdn #44527

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f75ac508a1fe15774be22bc69390be762ec51a8e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 16 02:40:22 2022 +0300

    Comment typofix: "poping" -> "popping"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bf0f1530691203b19b7725d3d14ee4dfbaeb7fa6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 12 04:19:06 2022 +0300

    CI: Install qtbase5-dev instead of qt5-default to Ubuntu

    See osdn #44561

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8afe8d4ae02e9ca15ce8e2ddecd7192045c2d397
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 4 06:33:55 2022 +0300

    Factor out governments detection from found_new_tech()

    Requested by Jacob Nevins

    See osdn #44510

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a0d734caf1deaae6ecc40700c75cabba5c807da5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 1 01:49:40 2022 +0300

    Cancel activities illegal for the new type after unit transformation

    Reported by Dino the Dinosore

    See osdn #44410

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2dc1166dcc58ce2943a4400984d7ca0374c19a13
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 5 05:41:57 2022 +0300

    nuu-chah-nulth.svg: Update to inkscape 1.1.2 format

    See osdn #44512

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f8ff9817e40409643cbfc883dfe1d8ed223a475e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 6 04:07:52 2022 +0300

    Meson: Make meson version 0.57.0 the minimum requirement

    See osdn #43362

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8f809efeb2f386075d30031f9bb614b69a85efb8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 3 01:00:30 2022 +0300

    Move treaties list from server/ to common/

    See osdn #44501

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d9981caec3c4c30f3192806dc40f7e946c238f50
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Thu May 12 20:32:51 2022 +0200

    generate_packets.py: restructure type alias code

    See osdn#44573

    This also causes the script to raise an error for conflicting type alias definitions

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit b3d395a679b08408d9e1aeaab78070383bdbc9ec
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Thu May 12 20:32:25 2022 +0200

    generate_packets.py: combine comment parsing into one pattern

    See osdn #44572

    This changes the handling of potential edge cases where a block comment is started inside an EOL comment

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit b5a2ff946bedd8fad7a4415f8b046be28e18a96f
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Thu May 12 20:32:09 2022 +0200

    generate_packets.py: factor out comment parsing code

    See osdn #44571

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit a8238f72e85ba0ae04b715aa48e71e502d1222e0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 30 13:53:51 2022 +0300

    Remove destroyed cities from maps of players with Reveal_Cities effect

    Reported by ddeanbrown

    See osdn #44028

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 61636bc6e030c192836e76cd34f8dd1013b292c2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 4 01:02:16 2022 +0300

    numidia.svg: Update to inkscape 1.1.2 format

    See osdn #44507

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit acb092588e295c7981c0e1503ea714f11735d0cf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 30 05:31:58 2022 +0300

    Rename appdata files as org.freeciv.*.appdata.xml

    See osdn #44466

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2fbf3ad09d3999184909ed98755e32408ef42346
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 1 21:10:14 2022 +0300

    Rename 'styles_count' as 'num_city_styles'

    See osdn #44462

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3a04d8c630d65c3116d57fa6d02c58bbf86186ff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 7 17:19:46 2022 +0300

    Update cazfi.net links to use https

    See osdn #44473

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 51bd67b1185fb142ac7fa9a184e8b91e4b3a39ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 13 03:59:02 2022 +0300

    CI: Disable mapimg from the macOS build

    This is a quick workaround for the failing CI builds.

    See osdn #44559

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 19fe2a51b68c2e9f2bb07b892d5f9bbf6512b7aa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 1 21:15:38 2022 +0300

    nubia.svg: Update to inkscape 1.1.2 format

    See osdn #44493

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6f12ca360bdd01380cb3087c4dad2e6ca4e14e42
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 10 04:50:03 2022 +0300

    Meson: Do not try to install stub.serv or stub.modpack

    See osdn #44555

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 04d41723b623a34e7b2da3636766dfccad540553
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 30 13:08:35 2022 +0300

    france.sav: Update to 3.1 format

    See osdn #44360

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fe107535d7911a1d9db4bcbf4138e6c9e5b102e1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 2 22:09:15 2022 +0300

    create_command_newcomer(): Do not assume one dead player

    When the code tried to free dead player's slot for the new player,
    it didn't check if there was any. It just assumed that there's
    a free slot after going through dead players. If there was more
    than one dead player, the message listed wrong one as the one
    being replaced.

    See osdn #44495

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2ce11e3267442397e1e6a902fd52b7bed829f7fb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 12 01:44:56 2022 +0300

    Update Finnish translation

    This is just S3_1 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2df935847da036573707945b081042df01ff1f8e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 1 17:17:53 2022 +0300

    northumbria.svg: Update to inkscape 1.1.2 format

    See osdn #44490

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 762b419877eff3aa6aa7a57d9abb1bbb9e5e2287
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 5 04:21:24 2022 +0300

    Turn "Did not find a cm solution..." to LOG_DEBUG on testmatic builds

    See osdn #44438

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 78a405827ff3ec777db584776a4dd9c26adb637d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 28 01:41:57 2022 +0300

    raw protocol: Make return value of dio_put_*() an int

    See osdn #44458

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d46e83bd41d3c166f0558c39dcde38e5ffe4d302
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 28 01:46:26 2022 +0300

    Give cities disbanded to units movement to escape the spot

    Units built by cities, including when the city gets disbanded
    in the process, were given zero movement initially. That meant
    them to be unable to escape to neighboring tiles if the
    disappearance of the city made the tile non-native for them.

    Reported by frank e

    See hrm #692482

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 149ce1a01210f7913c75555abcd93243a251d882
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 30 16:49:59 2022 +0300

    north_korea.svg: Update to inkscape 1.1.2 format

    See osdn #44489

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 538c015a2e656e3f6a81cf33b4d42020b7ce5c1a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 1 20:32:17 2022 +0300

    Meson: Disable delta-protocol from freeciv-web builds

    See osdn #44456

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eedee8696d5ea40e66c6a7dc519bcc5f89202169
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 10 08:39:22 2022 +0300

    upgrade_ruleset_sync.bash: Update S3_1 revision to fetch

    Get a S3_1 revision where road types have gui_type set.

    See osdn #44539

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c90621dc4f298b9438f2b1b872ffef6363b81a23
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 7 15:04:34 2022 +0300

    Separate gui_type from compat_special of road types

    See osdn #44539

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 717e27c90ae8ad4245efbd0478f22d7ee2d38b0a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 24 13:43:17 2022 +0300

    Qt: Add tooltip for citydlg "Size" line

    Requested by ddeanbrown

    See osdn #44409

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ca87b0f51ccca083683bbd7917d2f1ec6965e46c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 30 05:46:44 2022 +0300

    normandy.svg: Update to inkscape 1.1.2 format

    See osdn #44487

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 60d5922d2df4f9fed380ea98620cc460e11206cf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 1 17:07:29 2022 +0300

    Qt: Avoid option_dialog::add_option() using NULL object pointer

    See osdn #44484

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 635fe63dec9f9016a7e3725ec362f096f02b899b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 24 15:00:33 2022 +0300

    Rulesets: Remove extraneous semicolons from end of lines

    See osdn #44453

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8ec528bad56845bd5057c711432da3545a4b0115
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 7 00:26:23 2022 +0300

    Handle finishing terrain transform activities like other activities

    Former special casing of activities transforming the terrain
    caused trouble with how activities of the units in the same
    tile were turned illegal.

    Reported by alain_bkr

    See osdn #44519

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9cd304aaad2d9aaf7d55e0af1cebe47eee60c6bf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 28 17:10:40 2022 +0300

    nicaragua.svg: Update to inkscape 1.1.2 format

    See osdn #44481

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aae5f4139d6e835b3b9f3b6720f250ab17b37a28
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 30 16:32:41 2022 +0300

    gtk4: Implement map canvas scroll

    See osdn #44488

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit db176beee3248affaf98216061a4d631fdfbb5f3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 24 09:39:22 2022 +0300

    europe.sav: Update to 3.1 format

    See osdn #44359

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 27b9915dee0dcb387b64872c490569c04379b769
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 23 20:09:57 2022 +0300

    gtk: Add newline after error message about illegal --resolution

    See osdn #44120

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6dad8c1a7ec8510ce49022a6097611ead8e4f81a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 27 17:32:42 2022 +0300

    nez_perce.svg: Update to inkscape 1.1.2 format

    See osdn #44474

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 471f6e539b0fa18e2d56801b7e1c3305810cc93a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 5 21:20:30 2022 +0300

    Qt: Fix build with Qt6-6.4

    Replace unsupported QVariant type with QString one.

    See osdn #44514

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 66347215dc9e41d9b95fc34f286ee0d9ec46a11d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 1 15:37:57 2022 +0300

    Fix entering huts when on goto

    Reported by jdlh

    See osdn #42133

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7a3039ca5e4cca297bb49061f9c040c30080c72d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 23 13:53:10 2022 +0300

    europe_1900_WWI.sav: Add all tex fields

    See osdn #44445

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e99e87ad90ef6351d8f3c0ccc023693e4b1850a0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 25 15:35:07 2022 +0300

    nestoria.svg: Update to inkscape 1.1.2 format

    See osdn #44465

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b6afd63d744f5cbafb7887a7b8b28318ebbec169
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 29 20:44:15 2022 +0300

    CI: Install meson-0.57.2 for meson build

    See osdn #44477

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 575cd5669e70c7c509a79e390694b9c6a386be9a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 24 07:53:37 2022 +0300

    Client: Consider dev format scenarios incompatible with stable ones

    See osdn #44452

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c8c91432b8bd9c2da36b42a794a40b2335cf7168
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 3 16:26:34 2022 +0300

    Don't consider worker finishing work to have illegal activity

    When worker finished some tile change that would prevent
    one doing the same change again, legality of its current
    activity was checked before it had been marked idle.

    This lead also worker's further orders to get aborted.

    Reported by alain_bkr

    See osdn #44504

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b72a815e2001eb094f8580247a4d8cbd0254b359
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 5 20:24:44 2022 +0300

    Comment typofix: "chnaged" -> "changed"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6fefb3aa6da8399fbedda06dc7fc57b53e27f94d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 24 13:32:03 2022 +0300

    nepal.svg: Update to inkscape 1.1.2 format

    See osdn #44455

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 86ddc22dea23de3ea902b45c15c68f39da823259
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 27 03:08:14 2022 +0300

    Meson: Correct setting FREECIV_WEB

    See osdn #44457

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 95c081afa6d09c2d9b21f1390986d7802f519eb6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 28 16:59:54 2022 +0300

    Add new columns to nations report

    Add columns about
    government, culture, gold, %tax, %science, %lux, and current research

    Patch by alain_bkr and myself

    See osdn #42309

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 20f7a07a0e2585fbc47ab9e4a5920c4f5324ecfe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 23 00:13:22 2022 +0300

    Fix compiler warnings from --enable-debug + FREECIV_NDEBUG build

    See osdn #43868

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b9e3ff76428a608c0129f8e4e9a6f78a2842475f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 24 01:34:51 2022 +0300

    nenetsia.svg: Update to inkscape 1.1.2 format

    See osdn #44448

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d5653b39440edbac190f00a810fc8983935dd92
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 24 13:25:54 2022 +0300

    count_*_near_tile(): Fix clang analyzer div by zero warning

    See osdn #44449

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f480f45eec2760bd5010915780ae8285a1635838
Author: SÅ‚awomir Lach <slawek@lach.art.pl>
Date:   Sun Apr 17 10:34:09 2022 +0200

    Make counter_type a specenum

    See osdn #41121

commit 8f33f8d503850b23af16504c196e2feac2d0bf12
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 23 10:38:54 2022 +0300

    Qt: Make also the last couple of shortcuts available

    Iterations over shortcuts cut a bit short, leaving last
    couple of them outside any handling.

    See osdn #44406

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b6c133519a34492b1bcbdb92c862bb78d34fda0a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 4 05:01:41 2022 +0300

    Update Finnish translation

    This is just S3_1 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cb132245adc3ee700ad6bd62a0a3d239782987bb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 4 03:59:03 2022 +0300

    Comment typofix: "reamining" -> "remaining"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 92e3a4df32bf4a34edea900348a76073f97df055
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 29 21:56:59 2022 +0300

    helpdata: Update vulnerability reporting email address

    See osdn #44479

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0cf25151ed46cff5990ac8c0de475d29c2dfaf3c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 23 11:25:45 2022 +0300

    navajo.svg: Update to inkscape 1.1.2 format

    See osdn #44444

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8a4d628cce29f9892217c9796f2553edacaa00af
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 24 01:29:06 2022 +0300

    capabilities: Fix printing script name in 'usage'

    See osdn #43900

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a20bc3f65d1813fc9d90ba106516de8350a7e96c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 3 05:17:19 2022 +0300

    upgrade_ruleset_sync.bash: Update S3_1 revision to fetch

    Get a S3_1 revision where target kind names have
    been updated.

    See osdn #41732

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0f65a7eab26c2146210deb30bf54c7c48324799b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 22 23:19:31 2022 +0300

    Rename action target kind names

    Make names used in the rulesets more concise.

    Requested by kvilhaugsvik

    Name suggestions by nef, with minor change by me

    See osdn #41732

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 84e1020ce624dcb9597f657c502ac499bf9449e0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 2 23:11:16 2022 +0300

    Comment typofix: "paramter" -> "parameter"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d2486919c5f6487269a040855af0a14f1713f296
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 22 00:41:48 2022 +0300

    Replace EFT_CITY_IMAGE with City_Image in user documentation

    See osdn #44039

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 18c93f2dee29b1afff164293677c07f2b6d77db5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 22 23:28:47 2022 +0300

    nato.svg: Update to inkscape 1.1.2 format

    See osdn #44443

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9ac048a81777ddd5fb93b24d6dd4977975b1c5e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 23 11:07:34 2022 +0300

    Msys2: Document arch parameter of create-freeciv-<gui>-nsi.sh

    See osdn #43620

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d0d6bda004f4bc877f4b9b0ec70ba47f7728bb3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 22 00:31:13 2022 +0300

    rssanity: Do not skip enabler requirements check when ruleset is 3.2 one

    Even in compat (enabling) mode, do the full sanity check if
    the ruleset to load actually is 3.2 one.

    See osdn #44386

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 049c1076bca058d6354184bf025c69a7debf8b74
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 20 20:35:29 2022 +0300

    Qt: Make sure player count string in server list gets terminated

    - Increase the buffer size to 35
    - Add termination of the string in case translation of "Unknown"
      still doesn't fit

    See osdn #44421

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3ef50c19a5848445ecad27bdfb5afa051b4edb34
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 2 01:52:37 2022 +0300

    Comment typofix: "creat_..." -> "create_..."

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 90bf7ec38d8a86e25749f00692c507649ab9f94b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 22 00:49:25 2022 +0300

    naples.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #44434

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7229350c09ce60e7e408dc201fd54169466579f6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 22 23:23:36 2022 +0300

    Update gnulib-common to serial 73 from gnulib upstream

    See osdn #44435

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 22c4b7ad4469747a4726070c1de211e0f08796af
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 1 14:52:10 2022 +0300

    Bump version number to 3.1.91.5-dev

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f8ad66a1bdbfa84514af1c695d682521cd454f8f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 21 01:59:53 2022 +0300

    earth-small.sav: Update to 3.1 format

    See osdn #44357

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e4ac5fce1b71cf6088475f0a6f0f7b2f113a0134
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 19 04:40:22 2022 +0300

    gtk select_tgt_*(): Fix compiler warning about use of uninitialized var

    See osdn #44395

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ab0ac3614d9bb1769681bea3bde795aa16181321
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 20 20:46:12 2022 +0300

    myanmar_old.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #44427

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7a6fe8a03b2a107804221e01f7c611448be8c0f0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 19 05:42:22 2022 +0300

    Add refresh_changelog.sh script

    Not included in the release tarball as it only works
    when run in the git repo.

    See osdn #44415

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8bd364ec00bda3d83dc6130aad89dbe77babf49b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 18 07:11:28 2022 +0300

    Qt: Change default shortcut for "Unit Stack Size" to ctrl + '+'

    Former default, shift + 'S', was reserved.
    There's still another bug causing the shortcut not from working,
    or even showing up in the dialog (osdn #44406)

    See osdn #44407

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2b9517f1c1f8bf700f4facef87938bd1d8b3036f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 18 07:04:29 2022 +0300

    Ruledit: Adjust initial size of the Window

    Requested by frank e

    See hrm #721403

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e12166d70bd98bf582c1896a3c11bc95df1cf615
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 18 08:14:22 2022 +0300

    mwiska.svg: Update to inkscape 1.1.2 format

    See osdn #44413

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2791de181d6bd528fa58812805a7f0e68da3e315
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 29 16:33:53 2022 +0300

    Update Finnish translation

    This is just S3_1 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 24fdb1565cd376286913a092928bf7f7a473a813
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 18 08:07:27 2022 +0300

    Msys2: Build ruledit installer in Qt6 mode

    Build standalone ruledit installer package in Qt6 mode for win64
    Ruledit included in Qt5-client package is built in matching Qt5 mode
    For win32 ruledit is built in Qt5 mode as our msys2 environment
    does not contain Qt6 for win32.

    See osdn #44384

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 584dfea150bad1c4424b046b492fd4cd20efacd3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 17 09:28:44 2022 +0300

    Separate help strings of action target kinds from their name

    See osdn #44402

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c84da1b9fb438529a45f8a72a9600c296d6a77f5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 17 10:52:50 2022 +0300

    Disallow unit upgrade while it's converting

    Upgrade would change the conversion target, which is wrong
    in many ways.

    Reported, and initial patch by, Lexxie

    See osdn #43328

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a995263467d551821036c2b6e39354e8aec18d09
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 17 11:21:09 2022 +0300

    muskogee.svg: Update to inkscape 1.1.2 format

    See osdn #44405

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e1aeb2d2b60295b89bc617079b1d9950776e4a4b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 22 01:12:07 2022 +0300

    macOS: Add configure options --with-qt?-framework

    See osdn #44412

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9733784cdf4432467b209d55d7dda793d8174e32
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 25 14:23:29 2022 +0300

    Tilespec: Setup citizen sets as ruleset is received

    Previously citizen sets were set only when ruleset data was already
    correct when the tileset was initially loaded.
    The cases where the ruleset is received afterwards left the tileset
    to wrong state, often leading to a crash.

    See osdn #44461

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6c1a671d7c2ea4db81ac0a1f3c3054838afd40cb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 25 22:44:54 2022 +0300

    Apply fix to CVE-2022-28805 in included lua

    Fix backported from upstream repo.

    See osdn #44467

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1c072b9cbc83b00ebce1b8acf949213fddd6fbf9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 16 07:51:35 2022 +0300

    mughal.svg: Update to inkscape 1.1.2 format

    See osdn #44397

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e8beae415fb26bfbec4e9e34e8b1bff13e539f49
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Wed Apr 27 17:08:19 2022 +0200

    Updated French translations

commit e47a7219f10b40abedc97846d90fa2f4ca871f1a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 16 06:14:12 2022 +0300

    installer_cross: Enable nls on Qt-client build

    See osdn #44292

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f20be69fcd713c266a2f2c8b7458b6251f3db490
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 15 18:49:08 2022 +0300

    rssanity: Check that there is base City_Vision_Radius_Sq effect

    Requested by ddeanbrown

    See osdn #43647

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8c103b8b34b8a597bfe8f6c8bee23c0fc185569b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 16 04:23:02 2022 +0300

    city_desirability(): Remove unnecessary advisor data fetching

    See osdn #44090

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dc91856d111ea07e1960e5f8923f0ef6bcb39210
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 15 19:23:21 2022 +0300

    moscow.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #44387

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c14ee229ac07b4791c4f8b0e4322b04fc5829703
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 15 05:57:26 2022 +0300

    Correct tile_has_visible_extra() function header

    See osdn #44178

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fbad27583429e912bfeb5e08a164774eab95e2e0
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Wed Apr 6 23:28:09 2022 +0300

    Lua: Introduce Player:lose() method

    See OSDN#44273

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit b403defb940ff562a60d11c5ba35eaa752eb9a3c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 16 07:27:40 2022 +0300

    _freeciv_state_dump(): Save by rule_name() or name() when possible

    The old code was saving all user data by id. That's not right
    for ruleset objects for which the id might change between version.
    Save the data based on the methods and properties available for
    the type.

    Reported by nef

    See osdn #44383

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 44c9b219738d5019538368120267e41ab4f723a2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 14 21:24:27 2022 +0300

    user_home_dir(): Improve handling of environment variables

    On Windows:
    - Do not get HOME at all, as the value was discarded anyway
    - Refer to correct variable in log messages

    See osdn #44212

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit caf8a4b64f30bff2c1ca30c9b728db8dc2baec8c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 14 20:50:07 2022 +0300

    mordovia.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #44380

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 076df28d8f928103ad9eb0ead6136808a2328f76
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 14 20:40:59 2022 +0300

    Msys2 / Makefile.meson: Add sdl2-client installer build

    See osdn #44373

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eb0aa98036465554e72e52eca90b2117dd8997bb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 14 19:06:41 2022 +0300

    Stop claiming that all errors from effect_list_sanity_cb() are req errors

    Error message about requirement sanity was being printed out when
    ever effect_list_sanity_cb() failed, no matter the actual
    error detected.

    See osdn #44371

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d3a372c17d95c01dd20512dc78670e3cdcb44cc8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 14 18:38:47 2022 +0300

    Cancel also unit orders when the activity has turned illegal

    Unify (i.e. call shared functions) handling of cases where
    unit activity has turned illegal. The main behavior difference
    this makes is that now all orders (which the activity was part of)
    are cancelled in all the situations where the current activity might
    get cancelled. Previously most callers did not do that.

    See osdn #44370

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d346f71477d73d77e7c7ba443ed0301cddcfe2ac
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 14 07:27:33 2022 +0300

    montenegro.svg: Update to inkscape 1.1.2 format

    See osdn #44369

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1beeb0d1304262ec7aefbc0db27e47e66fe9caef
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 14 07:22:58 2022 +0300

    Remove trailing spaces from Makefile.am files

    See osdn #44368

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d9839769d52c0f11a5d88ca88ed85613067c21af
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 14 06:49:22 2022 +0300

    earth-large.sav: Update to 3.1 format

    See osdn #44356

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 578fabda3596a190939dd315bc44afa33a5ad826
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 14 06:08:39 2022 +0300

    Do not send already dead unit back to the client

    If the tile got revealed again after dying unit was already
    removed from the client, but not yet from the list of units
    on the tile on the server side, unit got sent back to the client.

    Reported by Dean Brown

    See hrm #867958

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 17cf6054ff570ba4bc8deac82472f2b81c0268f4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 13 03:23:04 2022 +0300

    mon.svg: Update to inkscape 1.1.2 format

    See osdn #44344

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 44bb3e306977b5ca53be1444d131f1348bc0df0e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 13 03:18:07 2022 +0300

    gtk4: Implement mouse button up gestures for mapcanvas.

    See osdn #44343

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 334c303725df80fbf43223e444aca06b261e2692
Author: dark-ether <henrique.hsa2002@gmail.com>
Date:   Sun Apr 17 05:52:35 2022 +0300

    Reorder the actions enum so that the user actions are last

    See osdn #44103

commit 1a7d1a5e3a7fb2a39cde60ce75d107ae926b6d7a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 12 21:34:42 2022 +0300

    savegame: Turn unquote_block() asserts to sanity checks

    They should be done even when asserts are disabled, as they
    are checking external data (savegame)

    See osdn #44211

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 18c9b27121eb7c0d2ed883c98d1dd3ffc4b1253b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 12 21:18:30 2022 +0300

    moldova.svg: Update to inkscape 1.1.2 format

    See osdn #44341

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9a739368788df47f25159220d729340ce6571252
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 12 21:03:45 2022 +0300

    Msys2: Make Windows 8.1 the minimum requirement

    See osdn #44286

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e4a072cab30aa9d8d6fc453b1895dee38ba7117b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 12 06:43:46 2022 +0300

    Allow building units even if player wouldn't be able to build impr_req

    Existing building is enough, no need to be able to build new
    ones currently.

    Reported by Sveinung Kvilhaugsvik

    See hrm #846784

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f2019e6a95d360e3bab8bd24a963c50796241547
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 10 06:16:18 2022 +0300

    ap_dipl_battle_win(): Clip chance to legal range

    See osdn #44291

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9a1f1ea313fa736579abfd35425966f535698c99
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 10 18:24:01 2022 +0300

    mixtec.svg: Update to inkscape 1.1.2 format

    See osdn #44316

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ba3d229fb5900f1e9825ba5983f26a34d63435b6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 12 01:48:02 2022 +0300

    freeciv man page: Remove duplicate "the the"

    See osdn #44331

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c8184c2dcdbfc205c22c7d60822776150b24212c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 10 06:44:16 2022 +0300

    fcmp: Allow baseURL to end to '/'

    See osdn #44309

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1783f413534302f259fbcbb63e8a2289a3ac5b6d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 9 10:01:13 2022 +0300

    unit_do_disband_trad(): Check if unit died only if it was a possibility

    See osdn #43432

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0733adbb25dd5a703129c5f96d78f7555ed42c5a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 9 16:47:19 2022 +0300

    mitanni.svg: Update to inkscape 1.1.2 format

    See osdn #44311

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c2665fdcdb30e34b7479de558ac56d1f99e4c7ce
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 9 16:38:43 2022 +0300

    Make crosser Qt-client build work when nls has been enabled

    See osdn #44294

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0459e45bff20f0c41cef3ee97237c9fb466cc1be
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 9 13:51:30 2022 +0300

    british-isles.sav: Update to 3.1 format

    See osdn #44308

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1de585b5e14eb0735954ae462f659b0d9dc269b3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 9 00:07:19 2022 +0300

    Make effect_cumulative_max|min() to consider always-active opposite effects

    See osdn #44303

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0111761ede28cea0036d0c19408117467b4539c3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 9 09:47:35 2022 +0300

    miskito.svg: Update to inkscape 1.1.2 format

    See osdn #44306

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ed4814b6cf30a56035e43c7d6154629435fb6c8f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 9 09:40:55 2022 +0300

    gtk4: Implement mouse button down gestures for mapcanvas.

    See osdn #44305

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c638e472ea3e99c08e22caf7e6abae89649618ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 9 01:59:41 2022 +0300

    Client: Flush attributes before requesting saving game

    This makes savegame to contain last minute governor settings
    from the very client that requests the save, i.e., this should
    resolve the issue in single-player games.

    See osdn #44304

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 802e587c008d30d3b6bc4b93a5486fd059b2fe06
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 8 22:19:22 2022 +0300

    Asserts: Never compare boolean value to exact value of TRUE or FALSE

    This handles such cases inside asserts only.

    See osdn #44130

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c8cf66d744ddd070d41dd7524bdb8c79e8b93bfc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 8 23:17:27 2022 +0300

    milan.svg: Update to inkscape 1.1.2 format

    See osdn #44302

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f678f8459ff6f0fc8587156900d017945e0f54a2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 8 19:46:19 2022 +0300

    Check C++ files in tests/fcintl.sh

    See osdn #41785

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2fe5430d03b604c2b38dfa95a103cbc6a1b59786
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 8 23:09:05 2022 +0300

    Replace "Player sex" with "Leader sex"

    See osdn #44194

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 335afb62f9964c290079a39ba90139a32199e3b2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 8 03:22:06 2022 +0300

    Windows installers: Construct license file dynamically

    They are still constructed at the installer build time
    (not run time) but at least they are not kept separately
    in version control.

    Requested by frank e

    See hrm #700913

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0d15971a3807717024c27141fe3254f577d7504e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 8 19:54:27 2022 +0300

    mikmaq.svg: Update to inkscape 1.1.2 format

    See osdn #44300

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4be714a39629874ecaaec6aec3d38a2330943fbd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 8 00:23:24 2022 +0300

    Add FREECIV_CROSSER macro to public freeciv_config.h

    See osdn #44293

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fc9d0688741f05c1dbdbbfbfd463a219c968fad6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 13 05:47:34 2022 +0300

    Unify ai_level type in network protocol

    See osdn #44199

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2f55f63ee8241847c2a11e830aee037fcdba53a8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 7 20:38:33 2022 +0300

    Ruledit: Check same_name toggle initially in all tabs

    See osdn #44140

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d00a97726a5e38157935cb4d232734c2458a43bc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 8 00:40:39 2022 +0300

    micronesia.svg: Update to inkscape 1.1.2 format

    See osdn #44295

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 234cc5bb15d56e07a6f709b25ca5f057335a0808
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 7 06:23:08 2022 +0300

    configure.ac: Replace "else if" with "elif"

    See osdn #44288

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d01bdc00f648d89dafff9bd88a958d8dc486f3f3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 7 22:38:07 2022 +0300

    Deprecate /metamessage command

    See osdn #44107

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a8fa6dffb0fe1728f3a1f43773b9c9ded01fd32d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 7 03:58:21 2022 +0300

    cityresult_fill(): Remove unnecessary ai data fetching

    See osdn #44089

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fa46127631202ed3ff0b8096a13e68dff59112c3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 7 19:59:23 2022 +0300

    metis.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #44290

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c0396add645d40f3ff3efbdfef59eb9db30620c7
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Mon Apr 11 00:07:35 2022 +0200

    generate_packets.py: Don't lazy-overwrite unless requested at configure-time

    See osdn #43995

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit f657d8ccb52176b50e54f5697fc17a04b5b76733
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 7 03:37:19 2022 +0300

    Meson: Set FREECIV_STORAGE_DIR correctly in Haiku

    See osdn #43627

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d9586d105ab98d2a22cf45a963fa7dc0d63d8c4d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 7 19:52:01 2022 +0300

    Pluralize message about gold lost/captured when inciting a city

    See osdn #44193

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 502bdcd278e9859aab0528d1ae6ade36cf11523d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 14 00:15:11 2022 +0300

    FAQ: Update latest stable version number to 3.0.1

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dc191ced4b7db3d38c863f885144efc64de4b6dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 13 23:58:19 2022 +0300

    Update German translation by Mathias

    This is just S3_0 de.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cccee80a78696a175e29f88bcf0a52835af6ce3f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 8 20:07:41 2022 +0300

    README: Remove mention of freeciv-commits mailing list

    See osdn #44301

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e15d3002cbedc0b173c89a448611cc0426653c61
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 7 03:43:53 2022 +0300

    median.svg: Update to inkscape 1.1.2 format

    See osdn #44287

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b3f9ced67e551b1ca592e1058d1b9c4683b3dd7b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 6 07:51:32 2022 +0300

    Remove trailing spaces from .m4 files

    See osdn #44046

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 24df1689b6281add650127a99a34260a6b0d8dad
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 9 07:58:15 2022 +0300

    Add HP_Regen_2 effect type

    Use it to unhardcode unit healing rules

    Requested by Ihnatus

    See osdn #44201

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e910243cf87a43c18a4d906e19c642872107839a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 10 17:19:54 2022 +0300

    Include MacOS icons to the tarball

    See osdn #44314

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 52f970c7235bfd538d76ced781c38df38444b70a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 6 17:38:30 2022 +0300

    mecklenburg.svg: Update to inkscape 1.1.2 format

    See osdn #44283

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7e1586739633a742241421d20368f1ae6a04b6de
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 2 11:56:44 2022 +0300

    Introduce fc__noreturn for client_exit()

    See osdn #43935

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 601968d8fc2c70752608af429af5afb565cfbf27
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sun Apr 10 18:02:32 2022 +0200

    Forbid 'alltemperate' and 'singlepole' server setting requirements

    They are replaced by world-ranged MinLatitude and MaxLatitude requirements

    See osdn #44326

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit fd64ea246395e16ed8458976e119ef3f2bcd8ddd
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sun Apr 10 18:43:50 2022 +0200

    Fix typo in latitude requirement contradiction code

    See osdn #44324

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit ac62e3830c9efffc22b77d46c9fc516ad90fc17e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 6 06:52:26 2022 +0300

    winbuild.sh: Fix check for Qt availability for "all" guis

    See osdn #44114

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 680df18cf1778b44ccf3eedbb969a49378557ae2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 7 02:38:32 2022 +0300

    README.msys2: Update upstream package download location

    See osdn #44285

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 417bc9d3bc9672c05afc8b412aba60c99e5581bd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 6 05:01:44 2022 +0300

    mazovia.svg: Update to inkscape 1.1.2 format

    See osdn #44281

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b20383aad17f5738c6e4cb85eb786e321b0861ed
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 6 04:50:39 2022 +0300

    Rename --with-appdatadir as --with-metainfodir

    See osdn #44096

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1e55b65a0213ac51ae57c029dc5da829d3e3c3b6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 9 07:54:20 2022 +0300

    Add ailevel server setting

    Requested by Jacob Nevins

    See osdn #44105

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 22ee2f9bad29642c887d360fcb3674d7d9ad76dd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 6 07:16:29 2022 +0300

    Clients: Correct parse_options() function headers

    Remove claims that there isn't any gui-specific options yet.
    Other minor adjustments on some guis.

    See osdn #44119

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 77b88667742c06698dd42219ad0236696e4be6fc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 1 21:59:10 2022 +0300

    malaysia.svg: Update to inkscape 1.1.2 format

    See osdn #44149

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 99302d94d2fe91a8ffc204bc097ddcf1ee5ff41b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 30 01:30:23 2022 +0300

    Build gtk4-client when configured with --enable-client=all

    See osdn #44133

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a7a006f88444836abca9f930970a74effaef20dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 6 04:56:16 2022 +0300

    default.lua: Prefix unit_loss_messages() with _deflua

    See osdn #44228

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a84287b5286630390cba219a451ef08dfcdeb27a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 28 16:52:10 2022 +0300

    README.cvercmp: Add

    See osdn #44125

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit deddb2280ee91c700c896a9b8c89ecb4d9db592f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 27 16:44:24 2022 +0300

    mauritius.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #44214

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a129513e786240369835e907be49a11d24a67bb8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 27 15:17:59 2022 +0300

    Meson: Don't try to set FREECIV_STORAGE_DIR to fc_config.h

    It's set to public freeciv_config.h

    See osdn #44213

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1267a6a789e16d7b75239f4de952c3587fa5a661
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 1 21:53:38 2022 +0300

    Lua: Add City:remove()

    Requested by Ihnatus

    See osdn #44229

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bc60cce0c09b63f61d44a4363c548dcb40a09adb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 27 16:33:02 2022 +0300

    HACKING: Fix "annything" typo

    See osdn #44195

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0ec51fbc4b27350d65d721d658c19d333e02e38d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 27 07:47:27 2022 +0300

    mars.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #44210

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f57c52332904ea7269d07a3e135e1d59ac55df7f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 26 23:41:51 2022 +0200

    Correct specenum_gen.h name in message_option_*() function headers

    See osdn #44102

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8db4a345a6b240f577862b24778ef28bd6fedf50
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 8 13:02:57 2022 +0300

    upgrade_ruleset_sync.bash: Update S3_1 revision to fetch

    Get a S3_1 revision where unit regeneration in a city
    has been unhardcoded by Min_HP_Pct effect

    See osdn #42699

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8e62bb9385ae31239288daa772244fc42c4fa154
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 7 21:40:24 2022 +0300

    Unhardcode minimum HP unit gets in a city by new "Min_HP_Pct" effect

    Requested by Ihnatus

    See osdn #42699

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fbede2a08fb014cebc4a697199d65ccbb935cd50
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 26 15:40:31 2022 +0200

    README.effects: Say that Casus Belli effects support only some actions

    Former generic documentation gave the impression that all actions
    are supported by Casus Belli effects. Make it clear that it's
    not the case, though what exactly are the supported actions
    is still undocumented.

    Requested by Sveinung Kvilhaugsvik

    See hrm #874200

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0f3952706bcf8db4b3f774e13550955f33f2572c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 8 02:07:23 2022 +0300

    Update Finnish translation

    This is just S3_1 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 96d6c010c99abeb76e3e7b8b74c46ed679cd2d6b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 26 16:20:28 2022 +0200

    marshall_islands.svg: Update to inkscape 1.1.2 format

    See osdn #44198

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 984437fa47be8facd667c83c5e9bcc1195d5c4ce
Author: SÅ‚awomir Lach <slawek@lach.art.pl>
Date:   Thu Mar 31 17:15:28 2022 +0200

    Introduce counter requirement type

    See osdn #41120

commit 68418908a09aada9efc147c3e6d4ebfa708d9171
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 25 16:26:43 2022 +0200

    winbuild.sh: Do not try to build gtk3-client

    There's no gtk3-client in master. winbuild.sh was still
    trying to build it when build of all clients, or
    specificall that of gtk3-client, was requested.

    See osdn #44136

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2d7e0e889c2bda9f5148c0b07213ddc4faa71db9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 26 16:10:24 2022 +0200

    Lua: Distinguish diplrel reasons in *_cant_be_built signals

    All the different diplrel related requirement types were
    emitting signals with identical reasons. Give them separate
    reasons, so that the script can tell them apart.

    See osdn #44192

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a53bc138c9bb27a59a919c3d8c2f01ba0b84ea05
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 26 09:50:07 2022 +0200

    Set resources on player map (FoW map) when loading saved game

    Reported by ddeanbrown

    See osdn #44176

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 83672addcbd65003b8f29fb94cbc3906fbdded9f
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Thu Apr 7 02:15:26 2022 +0500

    Update for Russian translation.

commit 20a9bc0c4d13a05c4b128dba2a4fac8743d89a3f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 26 09:59:22 2022 +0200

    marathi.svg: Update to inkscape 1.1.2 format

    See osdn #44189

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 231d549ff704f8598804aefa52b1b0558fed00b8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 6 22:15:14 2022 +0300

    Update German translation by Mathias

    This is just S3_0 de.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 698fc1f625aa349eb451d3111d4fe46c98b08a2a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 24 17:53:18 2022 +0200

    Meson: Set LOCALEDIR correctly for Windows builds

    Windows builds need relative LOCALEDIR, so that they can be
    installed anywhere.

    See osdn #44127

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5d17d88fd4738ef6299e0094b7cba951e026bb5b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 26 00:15:40 2022 +0200

    savegame3.c: Drop ai_level_convert() use

    No savegame3 save has ever been created with old-style
    ai level information, so there's no need to support it
    in loading.

    See osdn #44163

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 996a447f76df989ac710524cea7cc97e7481920e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 23 18:28:38 2022 +0200

    broadcast_city_info(): Send info to all players, not to owner multiple times

    Info was being sent to owner once for each other player that could
    see city internals, also when the info was not meant to be sent to
    owner at all. It was not sent to those other players who it was
    meant to.

    Reported by Lexxie

    See osdn #44158

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9fb6c375cb8640473a40c90b154712c2ad82cfad
Author: John Robertson <jro.johnro@gmail.com>
Date:   Sat Apr 2 12:44:11 2022 +0300

    Qt: Add trade related columns to the goto dialog

    See hrm #903720

commit a13399ff4a5b448c4449113a5e06b0ddd7798886
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 25 16:48:20 2022 +0200

    lorraine.svg: Update to inkscape 1.1.2 format

    See osdn #44092

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6ff584875c71cd56854f8e21519e221cc8337373
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Sun Apr 3 20:17:43 2022 +0300

    Don't kill a nation removing a gameloss unit in editor

    See OSDN#44274

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit 67fbe36a64d97d5039892f7db04939f8bf70e5cb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 26 15:08:24 2022 +0200

    Replace "Win32" where ever "Windows" should be used

    See osdn #44117

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2c8712a151cdbdceb6d3947d8d09cc35f0cc1dc5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 24 19:05:22 2022 +0200

    Fix sandbox Guidestones help text typo: "plauge" -> "plague"

    See osdn #44097

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 14824b4404d4a308effd5ba5fafd68c9ec583611
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 23 02:09:27 2022 +0200

    installer_build.sh: Check that Output directory creation succeeded

    See osdn #44016

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 34bd905fb5d3244eb809c41144f4400167783ccd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 23 19:26:25 2022 +0200

    mapuche.svg: Update to inkscape 1.1.2 format

    See osdn #44172

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1f04347afddeed120b659d8fff43ae540ff49355
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 23 02:57:11 2022 +0200

    features.m4: Suggest Qt6 by default

    See osdn #44132

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 24522d61d104bf92854eaef3571c671598944a06
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 23 16:48:17 2022 +0200

    Adjust AI_LEVEL_EXPERIMENTAL by ai_level_name_update_cb()

    For non-debug builds with no support for Experimental AI level
    we need to convert such AIs from savegames to Hard AI.
    Centralize such conversions to ai_level specenum
    name updater callback.

    See osdn #44164

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f855efad1266fb9b296ed8763328440f3f0f4044
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 20 01:43:30 2022 +0200

    Lua: Fix tile:is_enemy() crash when the tile has no city

    Reported by Edward Cree

    See hrm #943039

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a8cc22c03d801b267b2a809e668dca521473bf1a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 23 02:16:40 2022 +0200

    man.svg: Update to inkscape 1.1.2 format

    See osdn #44162

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7e857c6e9f5a0d7e6482a48c517a6e4fc344b3f9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 19 11:03:39 2022 +0200

    Clear trailing spaces from shell scripts

    See osdn #44147

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b939de0d09f9b564222d274e5ddd251c1ff0676f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 1 22:55:08 2022 +0300

    Bump version number to 3.1.91.4-dev

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 57665009ed15fe38bb182508633bb099445c43f7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 19 11:24:50 2022 +0200

    malaysia.svg: Remove namedview tag

    This allows loading the file to current inkscape, without
    inkscape crashing.

    See osdn #44148

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 51230c552e54a8956eddf65462209e350df2bdad
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 17 23:15:25 2022 +0200

    Check C11 threads availability first without -lpthread

    Support C11 threads other than glibc implementation.

    See hrm #852950

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4f5c5d2f7a38df39c877b34d5741a03d43e19d5c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 19 11:34:15 2022 +0200

    manchuria.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #44150

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f1e5a33e15bb99f7f92576ca7567033a6a0d875f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 17 18:39:09 2022 +0200

    Meson: Hint about EXTRA_CONFIG in ack_experimental error message

    See osdn #44071

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 442beb5c4d40b35dbcf8524aa590548e1e878786
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 31 22:12:11 2022 +0300

    upgrade_ruleset_sync.bash: Update S3_1 revision to fetch

    Get a S3_1 revision where "Recycle Unit" action has been
    renamed as "Disband Unit Recover"

    See osdn #42959

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e1137614fdfcadef6cb4a59e65ca1ae17b075ebc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 31 18:34:53 2022 +0300

    multiplayer: Finish renaming "Recycle Unit" as "Disband Unit Recover"

    See osdn #44237

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 16cf98f2964dd03f67a6fef8c3f8bfa2ef04b3a7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 19 09:13:30 2022 +0200

    Rename "Recycle Unit" as "Disband Unit Recover"

    Requested by log65536

    See osdn #42959

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4343aec86e287f0e32279ebeff51dc5375d5630b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 16 05:28:44 2022 +0200

    Update default appdata/metainfo install location

    To match current specification.

    See osdn #44091

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8a07ac1c6d6b6ba561e15acb45770fd18f278ef9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 18 17:11:18 2022 +0200

    majapahit.svg: Update to inkscape 1.1.2 format

    See osdn #44144

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a427d89feee51b5f709998c6c451e3bc378da8f4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 27 07:42:08 2022 +0300

    CI: Update setup-msys2 to version 2.10.0

    See osdn #44180

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 49ad0f60be0f571635d609873342cf2f64ab3a66
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 18 05:17:54 2022 +0200

    gtk4: Fix build without --enable-debug

    See osdn #44134

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a1792a0f9f54c2aa7e17041da3d055895e398ec1
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sat Mar 26 18:44:29 2022 +0100

    Sanity check: Only allow 'singlepole' requirements when also checking 'alltemperate'

    See osdn #44181

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 22372e4d4811a01e21fb3d2d5635443fd8825d68
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 13 01:35:55 2022 +0200

    is_unit_state(): Return value in the end in NDEBUG build

    Fixes "control reaches end of non-void function" compiler warning

    See osdn #44020

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 63e49c10f58452f0e1013a87d8b0f40ed4fac295
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 17 18:44:17 2022 +0200

    madagascar.svg: Update to inkscape 1.1.2 format

    See osdn #44139

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ebbc706bd6576ee8d1d2dc46e3b5a8dde5a6f7b6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 16 20:34:01 2022 +0200

    gtk4: Check against unknown command-line options

    See osdn #42916

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1b954235b78aa86e224914259a738db9bfe3905f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 17 18:24:25 2022 +0200

    Specenum: Add support for SPECENUM_NAME_UPDATER

    When SPECENUM_NAME_UPDATER is defined, code for specenum _by_name()
    function is generated so that it calls callback function that can
    update the name to search the enum value for.

    See osdn #44100

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1fbe275506f4a395ee039454a6f81c0a78c7c119
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 25 18:33:10 2022 +0200

    Msys2 Makefile: Handle ImageMagick version with a variable

    Now on we need to update ImageMagick version in the variable only,
    not in every file name it's part of.

    See osdn #44184

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a665d4f551c0fdc98423997fb8ac4c517f407bb3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 16 21:11:37 2022 +0200

    macedon.svg: Update to inkscape 1.1.2 format

    See osdn #44128

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 743eb48e8fc744476e56f463fac03dcf1a4363b2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 15 18:51:31 2022 +0200

    attribute.[ch]: Improve coding style

    See osdn #44104

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 56c2c3069b3cefebaac654ddfb3103b3ff83868b
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Fri Mar 25 17:59:03 2022 +0100

    Expand latitude requirements

    Extend MinLatitude requirements to more ranges and add MaxLatitude requirements

    See osdn #44182

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 869ae4c4ed6ad0c6373185cfda2d908e30e23162
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 16 21:02:40 2022 +0200

    Add aitype server setting

    Requested by Jacob Nevins

    See hrm #858206

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5376152339e356c18113e96747c986634604db36
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 12 01:32:45 2022 +0200

    Qt: Rename "Players" menu item as "Nations"

    Make naming consistent with the left pane button leading
    to the same dialog.

    Requested by ddeanbrown

    See osdn #43946

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ed84a747806bbd4a41896b3d51033840c946d3ab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 15 18:56:19 2022 +0200

    luxembourg.svg: Update to inkscape 1.1.2 format

    See osdn #44116

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f541a0aa91f50c21a7fda5145cf4c275f248f4a8
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Thu Mar 24 18:01:49 2022 +0100

    mapgen: Add minimum parameter to adjust_int_map[_filtered]()

    See osdn #44173

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit d6d9c1c09645f74ea21103268a392888052c4536
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Wed Mar 23 20:01:56 2022 +0100

    mapgen: Remove direct references to alltemperate and singlepole

    See osdn #44167

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 8f9262b1d460f7c9f49ba1ac5ac258afb39c5f02
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 13 20:30:11 2022 +0200

    Add gtk4-client files to POTFILES.in

    See osdn #43453

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7fcb2f2c5846150f3ef89787b7238db286a06bf6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 26 13:33:51 2022 +0200

    Comment typofix: "anny" -> "any"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0aba9c7ff17b0070f61660425b81967157c22ad3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 26 12:12:58 2022 +0200

    Update Finnish translation

    This is just S3_1 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 66acd17b160753ee5c9d939519d25cd3e6ea0fb9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 15 16:20:22 2022 +0200

    Inform common/ code about compat mode ruleset loading being in progress

    See osdn #44101

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6071b9db68af987bdb89f0f7cbb3fafb51a71d90
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 10 23:09:05 2022 +0200

    Turn log about unavailability of nonblocking sockets log_warn()

    It was just log_debug()

    See osdn #43460

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c51d9f3babe2cd138d38043e95af363bf42de4cc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 15 02:09:59 2022 +0200

    luwian.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #44111

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 55fa281c45aa483739de8611c176523f0dce2bfd
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Wed Mar 23 15:19:02 2022 +0100

    Remove direct references to alltemperate and singlepole in common code

    See osdn #44166

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 13a8a2ebd8eacc116109d6e8192d93d46459cb20
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 18 16:55:08 2022 +0200

    CI: Update setup-msys2 to version 2.9.0

    See osdn #44124

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 866ddfca5cfa443b5e169eb8e51a1b3ba0afd5c1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 13 04:45:27 2022 +0200

    lorraine.svg: Remove namedview tag

    This allows loading the file to current inkscape, without
    inkscape crashing.

    See osdn #44087

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4ad163f188a3caa7178a23c630e901655ab4ec50
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 12 22:59:18 2022 +0200

    Fix metamessage resetting on ruleset load

    User (or the public server environment) set metamessage should not
    get cleared when the ruleset gets loaded. It was, like any
    other server setting.

    See osdn #43759

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 660f4dbf238295e2c6ef033a214b10b295c00246
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 13 02:11:42 2022 +0200

    luna.svg: Update to inkscape 1.1.2 format

    See osdn #44088

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6260f7ddc0e09967a932d2e4a3ac515db4739c77
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 24 08:50:03 2022 +0200

    Comment typofix: "developpement" -> "development"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5decfa089685bb73f473890b05c1fa29f0f29825
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 12 12:13:53 2022 +0200

    meson-winbuild.sh: Add sdl2-client build support

    See osdn #43859

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a9c3df4f30008076f5baa6991fb8216afe19e77a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 12 15:57:14 2022 +0200

    req_text_insert(): Fix fallthrough from VUT_CITYSTATUS

    If given range is unsupported for VUT_CITYSTATUS, execution
    fell through to VUT_MINLATITUDE.

    See osdn #44082

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ea65f91d19b2f9118830d4461dfbf7a5eca26526
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 9 23:46:42 2022 +0200

    Qt: Make "Options" submenu to not disappear on MacOS

    Reported by ddeanbrown

    See osdn #43944

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d56d9ecc27f9e1d42e53be1340270729d5206f7b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 12 16:15:51 2022 +0200

    lombardy.svg: Update to inkscape 1.1.2 format

    See osdn #44083

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 524ac3ff94d110a2380fe737b6b6b326d4398aa0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 11 22:41:54 2022 +0200

    gtk4: Replace "size-allocate" signal uses with "resize"

    Former does not exist in gtk4.

    See osdn #44078

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c866b77a262e9d3c7beb4d7bf8c2c261078b8ca7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 12 14:18:54 2022 +0200

    Remove trailing spaces from files under doc/

    See osdn #44081

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f6a412aa2b6a9ee96594999a5a94ed59735bdd56
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 9 04:29:38 2022 +0200

    Tell tileset name in tileset_read_toplevel() error messages

    See osdn #43793

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0704dadc49e00629651b3bf1db168f18f125251b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 12 11:08:49 2022 +0200

    lippe.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #44080

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bd303340262239259f7fc9264db60fd3eb86f857
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 11 17:35:27 2022 +0200

    Meson: Try to link against libcharset when detecting it

    See osdn #44075

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fe5be14c30093f586e33f77069e44a43b514c29a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 11 19:42:38 2022 +0200

    Ruledit: Set initial text for enablers tab buttons

    See osdn #44030

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit be70bc2696b9da177fa5e919200a9d30f2a1d397
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 19 08:52:42 2022 +0200

    Msys2: Make sure that up-to-date translations are used

    See osdn #44143

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 980a1f6843179ab28a75df84eb9b00624ffc6fa9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 11 19:50:26 2022 +0200

    lipkatatar.svg: Update to inkscape 1.1.2 format

    See osdn #44076

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d88934e5355a8597361aa821d7ac05651284ab26
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 15 05:43:11 2022 +0200

    CI: Build ruledit-qt6 installer for msys2

    See osdn #44065

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5bcfc01b1cd0a721764ff64b8706a037826294d1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 9 05:42:52 2022 +0200

    Check legality of unit activities after city removed from the tile

    See osdn #44057

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4ab00489d7c968f0574d88a5fa2ff6c95240aa0b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 5 22:21:14 2022 +0200

    city_size_add(): Use variable 'size' instead of recalculating

    Most importantly this fixes "set but unused variable" -warning
    on FREECIV_NDEBUG build.

    See osdn #44019

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cd9bbb0a0ebebc53a7180f3028feabfc671fb990
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 11 03:33:00 2022 +0200

    ligurian.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #44073

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c5c42ad9a9e187dfead4e86f20637a9ace26b091
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 5 10:33:06 2022 +0200

    configure: Try to link against libcharset when detecting it

    See osdn #43600

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2e7f9cf50b1bcf2b2ab39e6cd1101a3c83b3be9e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 4 19:29:47 2022 +0200

    gtk4: Implement dirty_all()

    Also call dirty_all() from dirty_rect() so that view gets redrawn
    when ever there's need for it.

    See osdn #44025

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c21069822074762cce7325c1178b5fe9cd348a85
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 17 05:19:23 2022 +0200

    autogen.sh: Support tools with '+' in their version number

    See osdn #44131

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit af183f7dcb97caaf7a84a00299958b50be50990f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 9 17:44:31 2022 +0200

    liechtenstein.svg: Update to inkscape 1.1.2 format

    See osdn #44063

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d847d0c560e0010d6dd5bd6bbac4684defe8ac2b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 18 16:26:05 2022 +0200

    POTFILES.in: Add counters.c

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7ca5b7e415b5faba33467458de32e590ed4021f7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 4 18:36:46 2022 +0200

    Add initial version of meson-installer_build.sh

    Supports just gtk3.22-installer, and even it has only the
    freeciv binaries in it, no crosser environment at all.

    See osdn #44021

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 858bb7ad7cea895685d5235b8bbe0155ac53ef1e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 4 19:05:45 2022 +0200

    gtk4: Detect map canvas size changes

    Listen to "resize" signal instead of "size-allocate" that does not
    exist in gtk4.

    See osdn #44024

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a6eace315009451a81f1fcf8da8d0598f4322407
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 17 23:58:39 2022 +0200

    Update Finnish translation of the ruledit domain

    This is just S3_1 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a6912af014e4558817bc763112fee033bcf1f2ab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 4 23:22:27 2022 +0200

    Ruledit: Translate rule_name / name "None" shown when no item selected

    See osdn #44029

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f5bc2997c70c006af58eed77b26bf6af417ae197
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 17 20:17:04 2022 +0200

    Comment typofix: "valure" -> "value"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cc395431b754b5a47dbf57ff174733efaef87667
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 8 20:04:40 2022 +0200

    libya.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #44059

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4fa668cb782d4fc8eaf11c31328193821d31057a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 12 17:21:25 2022 +0200

    Msys2: Build Qt6-client installer

    See osdn #43940

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 584d8e649dca3d2ac3f2365a5a0c7a282388af2a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 4 16:45:50 2022 +0200

    Update xgalaga homepage URL

    Some tilesets give credit to xgalaga about the explosion sprites.

    See osdn #44022

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 748d5652fbaff3776b3f2052e76f3cc537e7f917
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 15 02:03:06 2022 +0200

    Fix handling of absolute LOCALEDIR

    See osdn #44110

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 18562c547ca7bcb74e4ceeab27eb183e68f3eeff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 5 21:26:41 2022 +0200

    libya_old.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #44033

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c9a665676ca042cb6a33b35b2087fd368f9f16ef
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 2 07:49:29 2022 +0200

    Msys2 Makefile.meson: Enable audio

    See osdn #43802

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f858de6b1347d530304bc2a3c361327787a12d66
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 9 16:35:25 2022 +0200

    Qt: Refactor mr_menu::setup_menus() menu -variables

    - Do not assign value back and forth between 'menu' and 'pr',
      but call methods directly from the object we want
    - Rename 'menu' + 'pr' -> 'main_menu' + 'sub_menu'

    See osdn #44062

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6a1a185331968b50ad3ba38d48c1c31687940aa6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 2 09:44:15 2022 +0200

    HACKING: Remove mention of long-gone win32 client

    See osdn #43861

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 286cec682a2391fe521c3ef57fbdff6994a151e9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 4 19:41:49 2022 +0200

    liberia.svg: Fix namespace errors

    See osdn #44026

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f099cb71edc9a4ec6498f93197af9edbb556b7a9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 15 17:21:43 2022 +0200

    Comment typofix: "occurrencies" -> "occurrences"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 111e0d4bec9f7f0104c2b26c4fbe65de52775e0a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 11 05:15:02 2022 +0200

    Update msys2 environment to 220309 level

    - Include Qt6 for win64 target
    - Do not install nano explicitly

    See osdn #43719

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5073d68cd2c3ce97c0b9955162bb7b220f4f85f8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 12 10:54:53 2022 +0200

    Add slot for User Action 4

    See osdn #44079

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8a61e3f22122dca9e0da8b22a57f3c0f605b60dd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 2 04:59:03 2022 +0200

    Replace "Fall through" comments with fc__fallthrough

    See osdn #43645

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 73fcaf467b0740a8912fdb77eeb09d30ffe95eb4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 4 16:52:57 2022 +0200

    leon.svg: Update to inkscape 1.1.2 format

    See osdn #44023

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5e7ef8dfca37ad5a1daf9cac1a73363cb9ef944b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 6 06:56:16 2022 +0200

    Msys2 ruledit: Add core domain translations

    See osdn #43981

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1c9bb111ff90f584cf753c7e938b5e3732f5f385
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 5 20:06:22 2022 +0200

    README.packaging: Update to the fact that Qt6-mode is default in S3_1

    It's no longer a change between 3.1 and 3.2.

    See osdn #43942

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9344188a01334a00aa461ef7679f2e1ec9ce816e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 14 05:44:22 2022 +0200

    Comment typofix: "specnum" -> "specenum"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 029fc7c40947228696dbad20600d81fa1a48c9d5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 2 02:02:21 2022 +0200

    Qt fcmp: Set window icon

    See osdn #44002

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f0098cf03366733924f4d7042f7c536b8baa5d7a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 2 11:38:34 2022 +0200

    lendian.svg: Update to inkscape 1.1.2 format

    See osdn #44005

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2c22ea187e19cfc09be9afa89552fdcbe7dcdc2b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 13 20:02:46 2022 +0200

    Update Finnish translation

    This is just S3_1 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 03d38d516bfdbf2bb8316b524af034ddf599aba9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 2 04:46:22 2022 +0200

    Meson: Add cross paths support to iconv detection

    See osdn #43919

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e88a2483c257b49d67cc420e9613eddc49cd686d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 1 21:20:26 2022 +0200

    Drop obsolete intro radar handling functions from gui API

    See osdn #43872

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dd3a334ceac6f06182758ff56b8147bb230029ad
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 13 02:46:24 2022 +0200

    Comment typofix: "frees" -> "free"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 68ea2a5dc4192ce6dbdc24c21af5d17ed7440053
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 1 12:56:41 2022 +0200

    fc_version: Fix shebang line syntax

    See osdn #43912

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1c77b4c31dbe53693f035133aeefe0b70773a552
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 2 05:11:43 2022 +0200

    lebanon.svg: Update to inkscape 1.1.2 format

    See osdn #44003

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ed10e418e67c861e37a2066905298bf7030c674a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 28 07:57:03 2022 +0200

    Refresh gnulib-common.m4 from gnulib upstream

    Serial number has not been increased.

    See osdn #43993

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8aa3e0e45189a9bf1f9ed4fefc41ea2cd640dd9c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 2 11:32:23 2022 +0200

    gtk4: Make "Start" button visible in pregame

    Also other buttons on the same box revealed with this refactoring.

    See osdn #44004

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e6e0b8ed703591d09e46c7620fbede9b12049596
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 25 05:27:34 2022 +0200

    Qt: Mark "Start" button for last unready player for translation

    See osdn #43980

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eb81ae5877cde56ed66e9c6436d6122d84321715
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 2 01:28:12 2022 +0200

    laos.svg: Update to inkscape 1.1.2 format

    See osdn #44001

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b92e658fbe3ca2485883b1008c94a6996c5f2696
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 25 06:50:48 2022 +0200

    Meson: Support building Windows sdl2-client when audio disabled

    See osdn #43923

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 798d4e8ac31f89a6de3e60bf91aae3ad64406a44
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 11 01:56:17 2022 +0200

    fcintl.c: Include <unistd.h> to fix meson build

    See osdn #44070

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e57751e8788b3a587c758eee67d114da21ce2d38
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 8 18:58:23 2022 +0200

    Construct absolute locale path to pass to bindtextdomain()

    If LOCALEDIR is a relative path, construct absolute path
    out of it in get_locale_dir().
    This makes localization of the gui clients to work with the
    current msys2 environment.

    See osdn #44047

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d8772ffe18a33ebf8b29ebb657458ee56202553b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 10 21:11:18 2022 +0200

    Update German translation by Mathias

    This is just S3_0 de.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit be7f95cdb119c95f18afb2000098e0d54587fb0c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 24 05:28:01 2022 +0200

    Add configure option --without-iconv

    See osdn #43572

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f0547cc215ad5363cce82d0441a2db4e66c3edf5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 1 12:22:54 2022 +0200

    labarum.svg: Update to inkscape 1.1.2 format

    See osdn #43997

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit df1daa784546d68fd4ccd1cc09aad144281ea321
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 22 06:18:29 2022 +0200

    Msys2: Update ruledit-qt6 dll list

    See osdn #43968

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d32d0ea758b0d466974fba590363f1cc6a61c0df
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 1 12:11:53 2022 +0200

    Qt: Remove 'menu' from mr_menu class

    It was used by setup_menus() method only, and had no well-defined
    meaning outside. Have just a local variable in setup_menus().

    See osdn #43996

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c529f6f89ab33e75f7293e06d0410555740da3ce
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 3 20:38:45 2022 +0200

    Install ruledit window icon to FREECIV_DATA_PATH

    See osdn #44017

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3ba75320c7e07790a637ef34c610dbdbdcd02493
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 28 08:12:18 2022 +0200

    kyrgyzstan.svg: Update to inkscape 1.1.2 format

    See osdn #43994

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 42ff149e042c02bf53c162e37c02ecbfbfb3a720
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Mon Mar 7 13:09:06 2022 +0100

    Add "MinLatitude" requirement type

    See osdn #44035

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit ef9e005ca1ea9a3ed6911aba7c148168b9a6edd4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 19 04:09:06 2022 +0200

    Meson: Generate version_gen.h before using it

    See osdn #43918

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6e327e5e62b70158d1c643752cdeb53105228fe1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 1 10:49:55 2022 +0200

    Fix "inital..." typos -> "initial..."

    See osdn #43982

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7e9e164ee812f877ac40859589abf8b4e0b22bb0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 19 19:31:12 2022 +0200

    AI: Alight unit when amphibious transport reaches destination

    See osdn #43639

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5ca6464a149472221b75882c71d08b513c8fa890
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sun Mar 6 18:44:57 2022 +0100

    Show tile latitude in tile info popup

    See osdn #44041

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 212ac9dbf0f71279b937a58db026ff5d83543d23
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sun Mar 6 18:36:20 2022 +0100

    Move map_signed_latitude() from generator to common map code

    See osdn #44036

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit b165ebee78091fbede51d3785d385d12aff7164c
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sun Mar 6 18:13:19 2022 +0100

    Make alltemperate and single_pole visible to the client

    See osdn #44040

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit cfd727c0de19c0f969e4f322c3426696608bd161
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 24 05:33:06 2022 +0200

    kuwait.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #43976

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8691bf813919db3712f460b833f3de23af24a941
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 5 21:17:15 2022 +0200

    Update to crosser-2.3

    See osdn #43921

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 552b1f8eb4f4f7378e027c1bfb41c1aa4522e1bf
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sat Mar 5 22:41:54 2022 +0100

    Split map_colatitude() responsibilities into separate functions

    See osdn #44037

    Also makes singlepole torus maps possible.

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit ce57d4813d3bb4694a1b5e88aa878b69fef0f6ea
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 21 16:58:37 2022 +0200

    configure: Hint about --with-qtver when failing to find Qt5/Qt6

    See osdn #43958

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2809452e4d208ac25d1fbcf31002683fe9124bd6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 5 20:02:03 2022 +0200

    Make 2.0.6 minimum SDL2 requirement for sound support

    See osdn #44018

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b9cd33c03d2a33dfea97db3afc59008c5c8a1ad0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 21 16:38:31 2022 +0200

    kurd.svg: Update to inkscape 1.1.1 format

    See osdn #43967

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f2a38af4c4508504686a1bcf285dbbf08794f507
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 18 03:20:43 2022 +0200

    Add '%I32d' to the list of potential size_t printf formats

    This fixes build on 32bit Windows.

    See osdn #43898

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ce5464f7b3bb8d99672d62b997cdc8e73b8e4b8f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 6 06:14:20 2022 +0200

    Comment typofix: "improvment" -> "improvement"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e616ad052dea03378e308d4dbb6f06dd567f41b2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 21 16:28:32 2022 +0200

    Drop comment about civ/2 United Nations from unrelated rulesets

    See osdn #43612

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2364cd70e6d78311aba7cc5219c92eddc0615a64
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 20 15:45:06 2022 +0200

    Fix luascript_func_check() on FREECIV_NDEBUG build

    It had necessary functionality inside fc_assert_ret_val()

    See osdn #43871

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0e0444fb1bb62f9d96296bfb2e0947bb614374fe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 21 04:15:30 2022 +0200

    kuna_yala.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #43955

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d4ac1b8840797c08aa148d7be7d5dd0dca70e5f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 16 21:33:01 2022 +0200

    build_all_installers.sh: Add Qt6-client installer support

    See osdn #43877

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 34c9916230201ce6df7a7089f4d0817badad07b9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 21 16:08:35 2022 +0200

    gtk4: Make the intro gfx to show

    See osdn #43957

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 10bf6e33ad0bf78ac51dc56e0c382fbe25c5b730
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 21 05:18:12 2022 +0200

    Reveal start area also for the start city

    Reported by Dino the Dinosore

    See osdn #43652

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c2e573db07314837011c34181a4b6d5d52bc4d53
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 4 14:29:23 2022 +0200

    Bump version number to 3.1.91.3-dev

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4bf2ee723ebc5d91a6e9dda9e4e2fc09d4970073
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 20 02:30:56 2022 +0200

    korea_ancient.svg: Update to inkscape 1.1.1 format

    See osdn #43936

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eb3b10d8752ccb6180f9fcf22fe3cf638e340e8b
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Wed Mar 2 16:33:39 2022 +0100

    generate_packets.py: clean up general helper functions

    See osdn #44011

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit a4e6b914073e5d89babfd85adc07dd6636f4ba68
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Wed Mar 2 16:27:17 2022 +0100

    generate_packets.py: make Variant poscaps and negcaps sets

    See osdn #44010

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 234303114bc8f41903e11c7c0471d4533b976b56
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Wed Mar 2 16:17:07 2022 +0100

    generate_packets.py: unify code related to all_caps

    See osdn #44009

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit d23e61b7badc92c57b885b7a840ffe01efb72fe1
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Wed Mar 2 15:21:10 2022 +0100

    generate_packets.py: Replace get_choices with itertools powerset recipe

    See osdn #44008

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit a3110e6d5329298270de2f387e6b04434c612e36
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Wed Mar 2 15:14:29 2022 +0100

    generate_packets.py: Replace range(len()) with enumerate()

    See osdn #44007

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit e031159ca2ed9b1810864e6261f0831415ed3e94
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 28 21:13:03 2022 +0200

    Windows ruledit-installers: Fix listing of available rulesets

    See osdn #43983

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 065b0d18f43564320fc176bbda161dd0b1c2cebf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 1 09:56:48 2022 +0200

    Add BarbarianBoatTech unit role

    Requested by ihnatus

    See osdn #41867

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ca223ced44ddd0c72868c4e41c9d2c81ebc885b7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 20 05:57:55 2022 +0200

    Ruledit: Set window icon

    See osdn #43553

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c4e3da9862b6a73f1ca6733427b68f7cae98e748
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 19 03:18:44 2022 +0200

    kongo.svg: Update to inkscape 1.1.1 format

    See osdn #43917

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit af8f21ae22e5325b2ae36bfa1681cc946831aec8
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Tue Mar 1 18:44:09 2022 +0100

    Fix unsafe subscript into citizen set
    Reported by mortmann

    See osdn #43985

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 4ce3f2521d8cd0d93fd7d8a1ed7d8a8d2f8d885e
Author: SÅ‚awomir Lach <slawek@lach.art.pl>
Date:   Mon Feb 28 16:20:45 2022 +0100

    - Translation support for counters added

    Change char * type of counter name onto struct name_translation and set each city's counter name to Owned

    See osdn #43989

commit c2a4e7153565e7b89d4843d8427f84315d92707d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 16 00:40:45 2022 +0200

    Msys2: Clean out Qt6-installer files

    'make clean' was not touching qt6 GUI files.

    See osdn #43875

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 46fd5976f0c8347e1fecdf2bce2cd54b6c29fecc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 17 02:08:30 2022 +0200

    Qt: Tell in main menu if this is Qt5- or Qt6-client

    See osdn #43888

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f11b68e033bda8123722a1dda2176214ab120365
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 20 02:18:33 2022 +0200

    client: Return EXIT_FAILURE after failure

    It was supposed to 'return EXIT_FAILURE', but actually did
    'exit(EXIT_SUCCESS)' earlier already.

    See osdn #43870

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1f341160c74a600e2e4ab321dd4c47c774107b8a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 18 18:32:41 2022 +0200

    kiribati.svg: Update to inkscape 1.1.1 format

    See osdn #43906

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3ed69bde0d500acee5b03f7914dac450dbe37d66
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 13 17:57:02 2022 +0200

    meson-winbuild.sh: Enable audio

    See osdn #43801

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4b108c41c92d91e3b0cbf77f0d8ef6b8fc55dea8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 16 22:18:23 2022 +0200

    database.lua: Add commented-out example of changing connection access level

    See osdn #43882

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d67ffd1c2eb338245814b78f5eed46dfaa68d1af
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 19 03:09:55 2022 +0200

    Correct "payed" typos -> "paid"

    See osdn #43709

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7a0479e35cbe489f92cf43a9dc0fd713b071e215
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 17 16:37:24 2022 +0200

    khwarezm.svg: Update to inkscape 1.1.1 format

    See osdn #43894

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f6108ffb436dc27a585ed6d76dc0e1e33b01b991
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Fri Feb 25 01:48:46 2022 +0100

    generate_packets.py: Turn internal script parameters into command line arguments

    See osdn #43938

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit a901085ab8dfa75909539b05627ca5cd509d0169
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sat Feb 26 15:25:10 2022 +0100

    Fix generate_packets.py crash with generate_stats enabled

    See osdn #43979

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit a0e3e26fc74b7dc8c0dce7f4d39e515118252563
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 21 03:56:02 2022 +0200

    installer_cross: Update Qt6 include and plugin paths

    Those have changed in Crosser development version.
    Qt6 is not supported at all in the already releases
    crosser versions, so this does not affect those.

    See osdn #43937

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 59283864816dc1c58268b7da953446e0acc7a52e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 16 17:44:10 2022 +0200

    ls_odbc.c: Correct parameter types

    Fix compiler warnings about wrong types passed as function parameters

    See osdn #43756

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1869ba94a3d905e04ee9f59cbb4a961553db391f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 19 03:00:02 2022 +0200

    Request medium audio resampling mode from SDL2_mixer

    This is only a hint for the system to provide a bit better quality
    audio if it's capable (has required libraries etc)

    See osdn #43549

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 33f6915d0485d161f5305c345957060a628ed1cd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 16 22:23:51 2022 +0200

    khmer.svg: Update to inkscape 1.1.1 format

    See osdn #43884

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d799b921ea40c94d429beb44e6cd92fe30193015
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 13 15:23:30 2022 +0200

    ax_cxx_compile_stdcxx.m4: Update to serial 14

    See osdn #43852

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f917f27947613f0d53a1e2d93e41fd8b96ceb7cf
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Wed Feb 23 23:55:36 2022 +0100

    generate_packets.py: Replace positional arguments with optional, named arguments

    Note: Empty or invalid paths will no longer be skipped, but result in an error.

    See osdn #43972

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit e150f546d996c607d2da5fe6ddc398d57b105a15
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 16 00:09:46 2022 +0200

    Qt: Iterate gfx extensions without removing them from the list

    Refactor gfx_fileextensions() that was apparently causing
    Qt6-client on Windows to later crash on random location.

    See osdn #43755

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fd11484ece29791f94f0b2e0f47f3a9e6ad4f7bd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 18 18:15:14 2022 +0200

    configure: Make pthreads test also with "-lpthread"

    See osdn #43561

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 734bc67623395bd69cecb3ec0d6c6a30bfe77a68
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 16 17:05:11 2022 +0200

    khazaria.svg: Update to inkscape 1.1.1 format

    See osdn #43880

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d1c52f9d41d8c1a1bdf99ee193a4fb09446c99e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 20 01:24:38 2022 +0200

    Msys2: Move langstat creation after the repo modification check

    As langstat creation does modify files, the --enable-gitrev build
    was always flagged as "modified" in the version string.

    See osdn #43891

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9b7258b770d6491c7c0480bc7c3682b8d4fe6905
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 13 19:46:29 2022 +0200

    Drop .serv files that only set rulesetdir

    Set the rulesetdir directly in the .modpack file instead.

    See osdn #43439

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c98f7bca1ab9a6c1e425c7546e299b882bb5ad74
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 17 20:48:21 2022 +0200

    Lua: Pass correct parameter types to "turn_begin" signal

    As parameters were not passed as 'lua_Integer' type, 'turn' was
    garbage in 32bit systems, 'year' in all systems.
    This affects many existing ruleset scripts in 32bit systems, where
    welcome message is supposed to be shown on turn 1.

    See osdn #41662

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 347c72d0845cd410c7cdf9a89825419d04439e2f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 16 00:29:54 2022 +0200

    kazakhstan.svg: Update to inkscape 1.1.1 format

    See osdn #43874

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8c2356734fd6a5552d88b87df7f9939131c71c11
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 13 10:31:20 2022 +0200

    Meson: Add icons to Windows executables

    See osdn #43579

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a250db1864f561d76849487a2af512fdbae39de1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 13 13:48:34 2022 +0200

    ls_odbc.c: Fix "shadowed variable" -compiler warning

    See osdn #43850

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 942fed4b8f53ed5f464507a382228b6a567e9c72
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Tue Feb 22 14:59:15 2022 +0100

    Fix failing meson builds from generate_packets.py not skipping empty paths

    See osdn #43971

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 7df246f4f04ae97ff4c22e4baaa119bbe37e3843
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sun Feb 20 20:39:25 2022 +0100

    generate_packets.py: Unify code for lazily overwriting output files.
    Also enables lazy overwriting by default.

    See osdn #43953

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit f4569ab05c0329205519894df12547a523239c7f
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sun Feb 20 20:05:32 2022 +0100

    generate_packets.py: Use with-blocks for file access

    See osdn #43932

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 868da7e30c1344f28a1a79ae5ac828c14c0479f5
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sun Feb 20 19:41:22 2022 +0100

    generate_packets.py: Extract functions writing each output file from main()

    See osdn #43952

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 4ff5728d1615d1ed8f9f3f0009424b1192994d37
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sun Feb 20 19:13:39 2022 +0100

    generate_packets.py: Extract packets.def parsing from main

    See osdn #43951

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit e0c9ff656e3113643a2298cf431480e6d510b447
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sun Feb 20 05:11:07 2022 +0100

    generate_packets.py: Use pathlib to handle paths independent of file system

    See osdn #43930

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 6b42b031f60930c6bf4635caec8a426fc1bdfef5
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sun Feb 20 03:42:38 2022 +0100

    generate_packets.py: Allow importing and calling with custom parameters

    See osdn #43939

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit ce8cf3e162a1182a6df4229f23f41cf5406a217f
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sun Feb 20 03:14:54 2022 +0100

    generate_packets.py: Parse command line arguments using argparse

    See osdn #43931

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 1b73ec6fe295bb9108d22d30a75f7fc06acb2fb0
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sat Feb 19 17:21:26 2022 +0100

    generate_packets.py: basic cleanup

    Fixes trailing whitespace, unused declarations, and variable names shadowing builtins

    See osdn #43929

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit c75aa107cd4703ad8fff4dd24d26206acc13a054
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 13 18:27:42 2022 +0200

    lib-prefix.m4: Update to serial 20

    See osdn #43636

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8c62ba91bb7316192d26674e71c60636c7c90902
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 13 19:53:03 2022 +0200

    kashmir.svg: Update to inkscape 1.1.1 format

    See osdn #43856

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bd8707430eb5c630f66ff6e62019caf5da3afc4a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 17 16:29:38 2022 +0200

    installer_cross: Clean translations dir after creation of langstat files

    This way later build won't consider git revision "modified" just because
    update-po has been run on it.

    See osdn #43890

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b6f4ffe0df45738cc1061a45394838dd787e2bb0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 13 12:48:32 2022 +0200

    Migrate compresstype server setting from 3.1 game.ruleset

    See osdn #43790

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 00bec48d48baad0121248c060c2f581da97b9075
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Fri Feb 18 22:30:03 2022 +0100

    Make Python 3.4 the minimum officially supported version

    See osdn #43745

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit d44308000a92817c2ca2545e72dd74996e52dc63
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 17 16:15:00 2022 +0200

    INSTALL.Cygwin: Update list of packages to install

    See osdn #43885

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bd1ae1a4d4577149717ff61dabbd9b977d312507
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 13 17:09:44 2022 +0200

    karen.svg: Update to inkscape 1.1.1 format

    See osdn #43854

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bd6ea717a8a5c7167e52fbd3c1f6825cac142485
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 21 04:20:14 2022 +0200

    .gitignores: Add generated .nsi -files

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fb13b4fb61984be81f409b04e0d8e6f4b2f258a1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 7 15:27:37 2022 +0200

    fcdb-*.m4: Improve quotation

    See osdn #43803

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e1edefd2a96b6b06f5ebe015169e9bc57acc2ef3
Author: SÅ‚awomir Lach <slawek@lach.art.pl>
Date:   Wed Feb 9 18:03:52 2022 +0100

    Keep COUNTER_OWNED counters updated

    - Increase by one each turn
    - Zero when city changes owner

    See osdn #41118

commit 7c3028cefcef890b2dac1f2efd02b46a994e189b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 18 19:21:53 2022 +0200

    generate_packets.py: Remove trailing spaces

    See osdn #43901

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit abea19bb981c3989135c19b2cea05e217b759d53
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 20 14:07:20 2022 +0200

    Comment typofix: "defines" -> "defined"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4077885273888ce90a93bf2a9e61c72678d53306
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 13 05:03:41 2022 +0200

    Fix "'noreturn' function does return" compiler warning from lua

    Seen when cross-compiling for AmigaOS

    See osdn #43571

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0b45f08e528c926137ad79f67c5e2aa4236fd8e1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 13 13:54:36 2022 +0200

    karelia.svg: Update to inkscape 1.1.1 format

    See osdn #43851

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f0c9f5a6e7d47e7198633e7e408f4fd0655f824f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 16 17:00:38 2022 +0200

    CI: Build Qt6-client installer for Msys2

    See osdn #43878

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f3d22804ae52c460f0d6aeafc0e685eaae36a2ab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 13 01:30:06 2022 +0200

    Add minimum trade route output ruleset setting

    Requested by ddeanbrown

    See osdn #43011

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 66a29ff5abebd983fb799eb874fc2a074ea49f86
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 16 16:35:06 2022 +0200

    generate_gitrev.sh: Handle relative output file path correctly

    See osdn #43879

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 55dbf00aa9109f6589c248e33c2d649579b14259
Author: Gunnar Beutner <gunnar@beutner.name>
Date:   Sat Jun 5 00:40:16 2021 +0200

    Ensure that stdout and stderr are initialized

    Initialize descriptors even if no log file was specified

    See osdn #42471

commit 253769a178717d1998d3344fa51ce6c68cdc6f71
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 13 10:37:12 2022 +0200

    kalmykia.svg: Update to inkscape 1.1.1 format

    See osdn #43845

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit acfa6a9fcfda99401bca114927fe6d9079eaa2c9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 7 02:39:41 2022 +0200

    installer_cross: Add Qt6-client installer build support

    See osdn #43799

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3b66e3fd8794cd5d2e77e28f869e5f01fbc509da
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Thu Feb 17 01:34:43 2022 +0100

    Civ2: Mention that some things from classic are missing
    Anonymously reported

    See osdn #43864

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit f1eec3dbb45d326ba9bb6d6a33ee38d7c675346f
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Tue Feb 15 00:26:15 2022 +0100

    Allow extras as targets for local-ranged requirements

    See osdn #43808

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 6dc070e1bc7b0219a3ed66b9e12eef9ce3b1c19e
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Mon Feb 14 03:36:19 2022 +0100

    Introduce new req_context struct for requirement targets

    See osdn #43809

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 8ef4318a92e6eeba5d904f5b9ded1799f1da2e4e
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Thu Feb 10 23:04:45 2022 +0100

    Fix GTK+ clients not drawing citizens correctly above city size 30
    Reported by ddeanbrown

    See osdn #43823

commit 4d272159876eb997da008fb197d2c9f35f24bf1b
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Thu Feb 10 20:41:33 2022 +0100

    Fix cardinal_adjc_iterate only accepting identifiers as center_tile

    See osdn #43835

commit eb3e5eccf4e4151477cf1ffd8148912cd5488037
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 3 06:33:28 2022 +0200

    host-cpu-c-abi.m4: Update to gnulib upstream serial 15

    See osdn #43588

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8cfd64c50cbf6b48d4e903ec0b839198d71e501c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 18 17:54:46 2022 +0200

    Merge Esperanto translation of core domain from S3_0

    S3_0 translations as in 3.0.0 release

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 34917dc7a0d41737e6fea6fe052bc956f66760af
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 18 17:37:26 2022 +0200

    Comment typofix: "optionnal" -> "optional"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0c595b719c34cfdf0d350aa7144df22fbddc6f82
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 18 15:18:19 2022 +0200

    FAQ: Update latest stable version number to 3.0.0

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 77f4cbd85274c6d2e48f4ba86ed2f8b546c0b364
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 13 11:21:50 2022 +0200

    Remove trailing spaces and tabs from all ruleset files

    See osdn #43846

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a9455e076d80356a60c5edaff65c449bae7064bb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 10 02:46:43 2022 +0200

    jordan.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #43832

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 28096484d29a640cab782b5e598fdd98639785a4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 6 15:43:48 2022 +0200

    Autotools: Do not require libsqlite3 when it's not really needed

    See osdn #43565

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 10702183611b3f211b82c942ac1bbeb2ee4209a5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 5 12:56:10 2022 +0200

    Save max_growth cma field to attribute block

    See osdn #43754

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2b7783a05047bf22c1f8ce015b9d3718d3413130
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Thu Feb 17 15:12:13 2022 +0100

    Updated French translations for the release of the version 3.0.0

commit a3af780136956067bcf5b2563feca4e32d129c81
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 7 17:26:51 2022 +0200

    Ruledit: Make it possible to change what multiplier an effect uses

    See osdn #43017

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4f507676b54e0dbda5cb44c3f3724153a6132eec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 7 15:32:20 2022 +0200

    jolof.svg: Update to inkscape 1.1.1 format

    See osdn #43805

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 973c0f1f1d40a6cce27efbce5371a75d75b0121b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 14 00:28:29 2022 +0200

    configure: Add check for C99 compound literals

    Requested by alienvalkyrie

    See osdn #43855

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dcd4d42028170c77a054bef8edf1bfa6d324154f
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Mon Feb 14 17:02:04 2022 +0100

    Remove support for rulesets with mixed format versions
    Requested by Marko Lindqvist

    See osdn #43708

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 0b30fe9c2a61a0ed1d0dc2d9518084785c77902d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 6 07:15:15 2022 +0200

    fcdb lua: Generate access level objects

    See osdn #43710

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cfa0dff86ae499f4fb843d026db7a6bd23f85f9c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 16 20:12:47 2022 +0200

    Update Polish translation by Hubert Kowalewski

    msgmerged from S3_1 ad62ffd4a0

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aec2399b5a4e87facc4978bcd54b420c93698a8c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 7 00:30:41 2022 +0200

    ls_odbc.c: Fix "unused variable" -compiler warnings

    See osdn #43797

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 661b297a9620f47ad61f186f07bec9cf5d768d0c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 7 00:36:33 2022 +0200

    jerusalem.svg: Update to inkscape 1.1.1 format

    See osdn #43798

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f7deb4392c2882f77819d5f091f7503848583a07
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 5 20:20:24 2022 +0200

    Meson: Clean up setting global arguments to both c and c++ compilations

    See osdn #43400

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3c7a52cffae48110a4d88ce8f17281b21f2d18b1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 6 06:33:24 2022 +0200

    Scale revolen change speed to number of players

    See osdn #43386

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fadc39a3558fa36c0e86db72804010234f620cc4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 14 03:51:33 2022 +0200

    HACKING: Do not list exact flags enabled by --enable-debug=checks

    The list was outdated. Replace it with generic explanation of the
    kind of the flags. The text was already referring to debug.m4 as the
    place to check the exact flags.

    See osdn #43862

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5380e45c7a624ba2bee16068a7c2b2e1b981630c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 6 07:21:41 2022 +0200

    jbonai.svg: Update to inkscape 1.1.1 format

    See osdn #43792

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 21f38e49d46ecb1cd9f03eda18e087a9ea4e7543
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sun Feb 13 18:21:09 2022 +0100

    CodingStyle: add information about C99 compound literals

    See osdn #43826

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 4c80199abb88b8a9911360a91ccf497efc89e1cd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 5 14:50:32 2022 +0200

    Msys2 Makefile.meson: Add snapshot target

    Builds the client with gitrev option enabled.

    See osdn #43567

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 672d117b9b6d97934f8219edc337dbb5fc490a54
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 5 14:34:34 2022 +0200

    Explicitly set placing_times on supplied rulesets

    Make it same as road_time, with these exceptions:
    - Granularity ruleset Ocean has placing_time of 1, to enable
      placing there once the ruleset introduces suitable extras
    - In civ/2 rulesets placing_time for all terrains is set to 0
      to not provide any support of placing extras on these rulesets

    See hrm #851872

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2d6a7c13757e20a3e2ee677b701a494bb0bbdb0b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 6 13:21:56 2022 +0200

    Drop ancient migration from cazfi.net metaserver to default one

    See osdn #43794

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8bfc58c2cd74d3b1f432d7efbb3372e6c247bcd7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 5 20:25:56 2022 +0200

    jaffna.svg: Update to inkscape 1.1.1 format

    See osdn #43789

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 549b25e32a8911f09f951f14b3d01a0fa5dda49b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 4 21:27:13 2022 +0200

    Meson: Make it possible to enable audio support on Windows

    See osdn #43776

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 28b045edbe6e71d2dd6fbf264e49dd9c66912efe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 3 04:51:09 2022 +0200

    fcdb lua: Add auth.get_cmdlevel() and auth.set_cmdlevel()

    Requested by Jacob Nevins

    See hrm #657143

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8efc20febec0b5fa49197b1d6107adec5aac0e52
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 6 07:10:48 2022 +0200

    Move unrelated functions out from featured_text.[ch]

    Move functions unrelated to featured text, and used only by
    unithand.c, as static functions to unithand.c

    See osdn #43380

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4f7b6eabc64c9fdd33a455ffd4f342e4f22c8753
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 5 13:00:55 2022 +0200

    italy.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #43786

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cc3603fc54752df345d7ce92adb8a5077bf696b6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 3 16:32:10 2022 +0200

    data/Makefile.am: Fix syntax when gtk4-client enabled

    See osdn #43664

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7ed34bc883d048632d758bcc43ac19385456e8c3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 13 03:56:33 2022 +0200

    Update Polish translation by Hubert Kowalewski

    msgmerged from S3_1 56fb31c863

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 77fec6ad654e90ed6ba920619989657de4ea06b9
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Wed Feb 9 21:06:24 2022 +0300

    Add signals for player phase stages.

    player_alive_phase_end and player_phase_end are added where currently
    there are per-turn bonuses that may be unhardcoded by Lua,
    player_phase_begin is added for symmetry.

    See OSDN#42663

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit 25ee76e6840b335ca6ea47c446ff31ef90fb08df
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 5 12:52:03 2022 +0200

    README.graphics: Document stack_size_offset_x|y

    See osdn #43368

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1f2736dd086ef42884f0b0b535eec14e89a46e9b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 3 17:38:14 2022 +0200

    Drop unused cma stuff from the network protocol

    Dropped
    - packet_city_manager
    - cma related fields from packet_city_info

    See osdn #43752

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 50866463a1e00e304c80ceb44ad3a7d6f94963ae
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 4 21:32:54 2022 +0200

    italian_greek.svg: Update to inkscape 1.1.1 format

    See osdn #43781

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a99f5db00a4ddfc6e1d973ae575041bb505e770d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 1 06:03:36 2022 +0200

    meson-winbuild.sh: Add gui-parameter

    Make it possible to build qt5-client, instead of the default one,
    with meson-winbuild.sh

    See osdn #43751

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 68f597b2f68fbc561d4ef325ab8bc58785bbd6b7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 7 07:48:43 2022 +0200

    Don't emit fcdb signal when fcdb disabled

    See osdn #43800

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 17aff8dac26c84bf309e47f9986d9ab39f3adedd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 2 17:50:06 2022 +0200

    gcc-12: Fix load_ruleset_units() "use after free" warning

    See osdn #43768

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e521d52f765865b2ef3240cbdc13b42e29f392f5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 3 07:06:01 2022 +0200

    israel_ancient.svg: Update to inkscape 1.1.1 format

    See osdn #43773

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 72908c505ec5285feb82903bba7f585a1339fab7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 3 07:11:46 2022 +0200

    Msys2: Update list of Qt6-client dlls

    See osdn #43774

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 226396dad9a705d3622932f6c91b9437f7042726
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 10 02:35:50 2022 +0200

    Fix "label at end of compound statement" compiler warning

    See osdn #43831

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bf05105a368cb5797de5e27e90a5e9898e53c007
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Tue Feb 8 09:03:18 2022 +0200

    Lua: Add API for unhardcoding autoupgrade.

    Several functions are enough to replace C do_upgrade_effects()
    from common/unittools.c with Lua, other ones can be used for
    some different procedures.

    See OSDN#42666

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit 040ae834430ee517b97a8d7081719e35517c6530
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 1 19:09:56 2022 +0200

    Support city style specific citizen sprites

    We've already had the field for this defined in the ruleset side
    for a very long time. It has just not been used for anything.

    Reported by Jacob Nevins

    See hrm #683532

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b783d2d00fadb6dcca3014598522b6fde7f3d664
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 1 07:00:28 2022 +0200

    Set 'max_growth' field of cma preset to default value when loading options

    We don't have gui for adjusting 'max_growth' field, nor is it stored
    in the client options file. At this time it should be always the default
    in presets.
    As we were not initializing it when loading the options, it was getting
    non-default value. This in turn lead the preset loaded from the client
    options not to match what the cities in the savegame were set to.
    Thus the client showed the Governor of these cities to be "custom" rather
    than the named preset.

    Reported by chippo

    See osdn #42253

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f756fe0742a8c1908ce678070d40d17528b8fd79
Author: SÅ‚awomir Lach <slawek@lach.art.pl>
Date:   Fri Jan 7 13:20:47 2022 +0100

    Implement loading counters data from savegame

    See osdn #43426

commit d5a557c1e8b97efe0f85acf409547b3d8fa320fd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 3 04:57:40 2022 +0200

    iraq_old.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #43772

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7f9a9c6a7e98440c94994bf07bca9fd285014553
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 3 06:57:12 2022 +0200

    Meson: Set GLIB_VERSION_MIN_REQUIRED / GLIB_VERSION_MAX_ALLOWED

    See osdn #43441

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dfcc3cdc1c58d283bb3b47eb809619b80ddcf3d4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 8 23:47:08 2022 +0200

    Merge Esperanto translation of core domain from S3_0

    Translation updates to S3_0 by Benno Lang

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5d4e931e4a8bdc8723f669d2499da81eed2abd8f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 1 05:27:55 2022 +0200

    gtk: Pause audio when the client loses focus

    See osdn #43750

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 22c106b1d30d99c539c11d694c3486989ebb3f24
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Mon Feb 7 00:16:49 2022 +0100

    Make utype, uclass and UCF requirements TRI_MAYBE on missing target

    See osdn #43682

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit cd437cd44479523116fea37c6830ace49afcda98
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 3 05:03:21 2022 +0200

    README.fcdb: Fix typo: "on" -> "an"

    See osdn #43770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 28140ec91e2a45b062b7cf598ec5131e5054d4ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 1 19:17:05 2022 +0200

    innu.svg: Update to inkscape 1.1.1 format

    See osdn #43761

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5e2e5427aed7550472ec71647607f444f6a20055
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 4 22:46:58 2022 +0200

    Fix removing resource extras

    tile_remove_extra() was removing resources only from the
    "active extras" bitvector, but leaving them in as
    a dormant resource. As the terrain was suitable for the
    resource all along, it reactivated immediately.

    Reported by ddeanbrown

    See osdn #43782

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8b62245bb4549dd70abb317ddcf5d67c87780f9b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 7 18:58:06 2022 +0200

    Comment typofix: "liklihood" -> "likelihood"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2914820c0434a33be1af6a146cfc3a79efc6ea59
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 28 16:06:45 2022 +0200

    Update included lua to 5.4.4

    See osdn #43717

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a7fcd80b6f36961818cc49f045105db6a99a730c
Author: Jim DeLaHunt <from+project_by_git@jdlh.com>
Date:   Sat Jan 29 01:28:13 2022 -0800

    Eliminate needless -Wimplicit-function-declaration errors on macOS

    Configuration macro FC_FUNC_VSNPRINTF in m4/vsnprintf.m4 generates a
    simple C program which uses exit() without #include <stdlib.h>, and
    strcmp() without #include <string.h>. These programs fail to #include
    <stdlib.h>, so their use of exit() is implicitly declared. This has been
    illegal C language since the late 1980's, but tolerated by compilers.
    However, since 2019, macOS compilers have raised
    -Wimplicit-function-declaration errors with such constructs. They have
    good reasons to do so, related to support for ARM instruction sets.

    Insert `#include <stdlib.h>` and `#include <string.h>` into this macro
    in m4/vsnprintf.m4 .

    See osdn #43737

commit 69a15dfa877ac7280a5eea415ac7aff167097291
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 30 11:32:10 2022 +0200

    winbuild.sh: Support building qt6-client

    See osdn #43721

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7623994c39415e8348c74686b520d1a342738209
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 1 07:11:30 2022 +0200

    inca.svg: Update to inkscape 1.1.1 format

    See osdn #43753

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6ef3373951f5faa7938bfe0d171d76492ec2fe5e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 27 06:33:32 2022 +0200

    game.rulesets: Fix typo in a comment ("is" -> "in")

    See osdn #42578

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5c08f3231d87575855cc58305ca1fdc95b91c9a7
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Thu Feb 3 23:16:19 2022 +0300

    Remove unit veterancy loss during conversion. This done by moving more specific stuff out of transform_unit function.

    See OSDN#43778

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit 3f7c1783e41ee926742deba26a2b6acdcb3d3e29
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 28 06:11:29 2022 +0200

    fcdb lua: Add conn_established signal

    See osdn #43464

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 99c684a15ed5d59293c0d818d9aa4862943c6893
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 26 18:57:46 2022 +0200

    Msys2: Make .nsi creation scripts Qt5/Qt6 specific

    See osdn #43701

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8b22354083ac04d94f28229581ec6db19f5d32b9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 30 13:48:34 2022 +0200

    iceland.svg: Update to inkscape 1.1.1 format

    See osdn #43740

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d218d8606d95dce87abb9a025d25e18fc82bdc7c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 26 18:05:15 2022 +0200

    Don't save gtk3-client options once there's no use for them any more

    Once settings have been migrated from the gtk3-client to gtk3.22-client,
    there's no need to store those settings any more. There's no gtk3-client,
    and the settings are not going the get migrated again.

    See osdn #43689

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 83f64a1db40bae9ac33729e5560bf1ced8c5b421
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 5 20:08:39 2022 +0200

    Comment typofix: "ould" -> "would"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 006abda00796a83e5847ada8e33e4c7f1b53c306
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 5 19:06:49 2022 +0200

    Bump version number to 3.1.91.2-dev

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3ebc916470299f85991950ae975bc846e4365d72
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 27 00:53:19 2022 +0200

    Lua: Implement find.player(name)

    See osdn #43705

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4c440d6e8000af8c4cc672277c59d35e4cc2a5b8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 26 04:46:43 2022 +0200

    Msys2 Makefile.meson: Complete gtk3.22-client installer

    See osdn #43686

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d7d68a4618cc198ad36263be610b3a4ca585eb51
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Sat Feb 5 08:43:53 2022 +0100

    Updated French translations

commit 05b2326ba905c7ea158df1be3a3d91fce2280829
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 28 07:05:02 2022 +0200

    hunnic.svg: Update to inkscape 1.1.1 format

    See osdn #43718

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8f25bd859a66f10cf059938e63e5ad08437e141a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 26 03:56:05 2022 +0200

    Rulesets: Rename "Capture Fortress" action as "Conquer Fortress"

    See osdn #43382

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 97eeb939f1c406efd11f67b667fd8a5d6cff3142
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Wed Feb 2 01:00:40 2022 +0100

    Update helpdata with new maintainer (me!)

    See osdn #43767

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit a2188eef605f178bce8d49e11f83ed108f771954
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 1 17:25:52 2022 +0200

    Multiplayer: Use hex topology

    See osdn #43760

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5cbc7695fc8756debb31592fe0697bdd8a3f09f3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 21 03:16:27 2022 +0200

    installer_cross: Rename qt gui as qt5

    See osdn #43619

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eaf592bfb7d50e2e8c78d03c89ce42ca1d557ca3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 27 01:21:04 2022 +0200

    hopi.svg: Update to inkscape 1.1.1 format

    See osdn #43706

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7aa36b00c65f85f14a6a9ab96ff3a5a2e215c4cf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 26 03:22:52 2022 +0200

    Add iphide server setting

    Requested by barg

    See osdn #43683

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a8fcb3ed5af4b166222eb1141f78c151dbbce0c6
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Thu Feb 3 17:28:13 2022 +0500

    Update for Russian translation.

commit 78fca7385ed73eeb569b51e20c1010db681044e5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 1 16:38:53 2022 +0200

    README.msys2: Clarify the "msys2 shell" to launch

    See osdn #43758

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c9de68aace91240f989123e3ac795af76fc51f7f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 20 16:48:50 2022 +0200

    Include stub ruleset to the distribution

    See osdn #43618

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b9d3dda89fe5a2d167b9e273b4fed0502b9e1fb4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 26 04:51:59 2022 +0200

    honduras.svg: Update to inkscape 1.1.1 format

    See osdn #43687

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1c52e22588b6528770c54319bf95527a169d80c4
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sun Jan 30 14:15:04 2022 +0100

    Add relative resource frequencies to terrain types

    Requested by XYZ

    See osdn #43563

commit c69cb0ceab95084b20d3d189d67652b5a82cd1e4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 2 20:37:57 2022 +0200

    Include version number ("3.2") to ruleset capstr

    Bump also the date part of it, while touching it.

    See osdn #43254

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fdeb344a39b7919d6c5a459cdebd50e482b5a2cb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 26 02:07:52 2022 +0200

    gtk: Describe current Small Wonders visibility rule

    Wonder List Intelligence Dialog tells the visibility rule.

    See osdn #43084

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4a91a19fb2f892b68c7ca9d3083fe135a71f43d8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 2 09:24:49 2022 +0200

    Meson: Fix tolua build

    See osdn #43765

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit af9b81746f060e6e4618eaed653883a140f99f8f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 20 02:03:54 2022 +0200

    Meson: Build tolua for native builds

    Make native builds to work without prior tolua by building
    it as part of freeciv build, before it's needed.

    See osdn #43015

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 31e63cef428879a5dfb0ea9db18d52e83d7963c8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 26 03:35:59 2022 +0200

    hittite.svg: Update to inkscape 1.1.1 format

    See osdn #43684

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4f41f5cd4a09702667a947ca10c2465bca223741
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 20 17:51:09 2022 +0200

    Strings.txt: Drop "win32" follow tag translation

    See osdn #42145

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2d868838abe10cb037d76e21d6b1e8ccc62e88f1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 1 16:11:57 2022 +0200

    Update Polish translation by Hubert Kowalewski

    msgmerged from S3_0 7c4235ae01

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b3992fea4735ce815e377573c92948ddb6c451b3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 20 04:31:21 2022 +0200

    Fix fcdb-odbc build on non-Windows platforms

    Compile fixed by backporting a commit from luasql development version.
    Linking fixes by myself.

    This fixes just errors. Compile gives still warnings.

    See osdn #43661

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a10fdcca22ab4779593bf5be129f8ce62dc30f7a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 28 15:18:46 2022 +0200

    CI: Update setup-msys2 to version 2.8.1

    See osdn #43720

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1d4dd7468dea1dddfb6bb5a1b4f8334dd170030f
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Thu Jan 20 16:20:04 2022 +0100

    Comment fix: Explain torus topology colatitude formula

    See OSDN#43665

commit e4d77fca9297b13dd215e3d637684c1c11d2a757
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 20 17:56:25 2022 +0200

    himyar.svg: Update to inkscape 1.1.1 format

    See osdn #43666

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4877c7b29356ae3cb094bbef421e3d734078ef66
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 11 18:00:47 2022 +0200

    Correct 3.2 version number in a comment documenting savegame formats

    See osdn #43252

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 423ecb4f245bad5fd1b5f6f1e4d41c3da35bf929
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Fri Jan 28 18:08:19 2022 +0100

    Remove unnecessarily gendered language

    See osdn #43725

commit 5e05efda88aaff379440e3c007805a7d48117e54
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 28 05:43:16 2022 +0200

    Drop city_style citizens_graphic_alt

    See osdn #43650

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8ca5fb0cf537fca02131ac1aafc062cdd49d67b9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 18 17:12:41 2022 +0200

    installer_cross: Include gtk4 modpack installer with sdl2-client

    See osdn #43641

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e57c121d2d95a81688b5082427a605d7d7973b8b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 20 02:09:10 2022 +0200

    hesse.svg: Update to inkscape 1.1.1 format

    See osdn #43659

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 74b2d4ad21a583c800b6adba0eab759c40e79120
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 27 19:41:33 2022 +0200

    gcc-12: Fix "used uninitialized" warning in basic_city_style_for_style()

    See osdn #43713

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 686a51f1c40ea4a8e6451f4036986aa5f6f3d7c6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 16 21:52:59 2022 +0200

    Add pause and resume functionality to audio API

    See osdn #43550

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3edf700f6358917b89742dfb3233d724de6b52a7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 16 09:03:03 2022 +0200

    Update gnulib-common to serial 72 from gnulib upstream

    See osdn #43635

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e8829d807580aa48ed45b5757946fbc047e30284
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 18 16:26:36 2022 +0200

    hawaii.svg: Update to inkscape 1.1.1 format

    See osdn #43653

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a87eb17f8354791da657a6dc20dad6a602592c8a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 27 18:04:24 2022 +0200

    gcc-12: Fix "use after free" warning in tolua

    See osdn #43711

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c1f1133f3911bd0c68383b8aae35c90a0115d0ae
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Fri Jan 28 05:39:00 2022 +0200

    Split new "Tile" requirement range from "Local"

    See hrm #695469

commit 0620b30a7c89a55168bde947ef6390eb76080a9c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 15 15:52:58 2022 +0200

    Rename server setting "spaceship_travel_time" as "spaceship_travel_pct"

    See osdn #42102

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 22a355e00fd356975bd36c082ff3e277acc6c652
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 15 20:54:02 2022 +0200

    Meson: Use correct path separators on Windows

    See osdn #43578

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9e269a409d525c1e0ea073d7b14eb8d8c593d756
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 28 14:05:00 2022 +0200

    FAQ: Refresh from wiki

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4d5db5de19db1350e30c570d0845d35d4d8ea4e4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 16 21:57:25 2022 +0200

    hansa.svg: Update to inkscape 1.1.1 format

    See osdn #43642

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 93ccc0abf44369117fd483b948c8877231937918
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 18 18:09:04 2022 +0200

    Document tileset support about multiple wall types

    See osdn #43648

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cbf2f8b47fa6a4d352364ac2c4c7dbb805b50dca
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 26 00:14:51 2022 +0200

    Add support for Self-Provided goods

    Good requirement for a good with Self-Provided flag is true also
    in the city producing the good, not only ones importing it.

    See osdn #43532

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4844274db6e7e423eab039c44e84b2e8228134f3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 14 21:29:18 2022 +0200

    Msys2: Rename "qt" installer package as "qt5"

    See osdn #43621

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5cacb2eae5defe45db039246830987b1868779fc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 15 21:15:42 2022 +0200

    hanover.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #43634

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4c2b36ce6770152f8047c3c8bf5f9cf6a562105e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 18 16:07:38 2022 +0200

    Fix crash with empty startunits

    See osdn #43651

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e1e32169996ccbd389a51bd6e2f08345a84ed95a
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Thu Jan 27 01:16:40 2022 +0100

    Updated French translations for versions 2.6.6 & 3.0.0-RC1

commit 1fe3f86e8a95acb1f041f57bc3bfe2e73c36b453
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 14 16:45:54 2022 +0200

    Qt: Fix Qt5/Qt6 mode reporting

    See osdn #43622

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e49c80b1c2b3928d9cb997cb02759941755a7297
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 26 20:28:31 2022 +0200

    NEWS: Refresh 3.0 section

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bb75eac35c07707858107c94313e805911884e8f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 13 00:40:56 2022 +0200

    winbuild.sh: Support user defined MOCCMD

    See osdn #43608

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fec97622e451d004fba70562949c3bfc92b12398
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 15 08:03:26 2022 +0200

    haiti.svg: Update to inkscape 1.1.1 format

    See osdn #43629

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5f2985360dc5194a21d62d3fe76cec9d18031385
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 18 05:04:23 2022 +0200

    Fix message about an action blocking another

    As action_name_translation() always returns the same pointer
    to the static string it modifies, name of the blocked action
    was overwritten with the name of the blocker action, before
    it was sent to the client.

    Reported by ddeanbrown

    See osdn #43643

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b89b91d4fce7b4938d971c4773b2317dc9b0db65
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 12 19:54:28 2022 +0200

    Civ1: Increase unit hit points and firepowers

    AI handles units with just 1 hitpoint really badly.
    As a workaround we increase all hitpoints in civ1 ruleset,
    as well as firepowers, so units still get killed with single hit.

    Reported by nef

    See osdn #43042

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3172ddef8b50a1b0c9d7a61ddfabfeda78826c98
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 14 17:15:16 2022 +0200

    Meson: Set ALWAYS_ROOT on Haiku

    See osdn #43547

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8960a1ca627041e63cfec32ae776c81dd9155a37
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 14 17:19:13 2022 +0200

    hainan.svg: Update to inkscape 1.1.1 format

    See osdn #43626

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7edd897ed3e70f4a33d6bb8ba505f15a7d218578
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 16 12:58:17 2022 +0200

    AI: Avoid infinite recursion with AI settlers

    When ruleset has city founding restrictions that AI code is not yet
    prepared for, AI was retrying it in infinite recursion.
    After this change AI just aborts handling of that settler when
    city founding fails because of such reason it does not understand.
    This is far from ideal as the settler then does nothing, but at least
    this prevents server from crashing.

    Reported by lexxie9952

    See osdn #43638

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 241550c9a26d52beb46596e6f61be43c94ed27dd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 11 23:45:35 2022 +0200

    conn_set_access(): Check if settings control packet has been sent

    Only sent updated settings, if the client knows how to handle them.
    If control packet has not yet been sent, we will sent the settings
    later anyway.

    Current code never calls conn_set_access() before control packet
    has been sent. This is to prepare to the future where it might
    get called earlier.

    See osdn #43606

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1f43dc18248995eb1c11bbc1a378cb6f13f7832d
Author: Kristjan ESPERANTO <35647502+KristjanESPERANTO@users.noreply.github.com>
Date:   Mon Jan 17 18:25:52 2022 +0100

    INSTALL: Update links

    See osdn #43660

commit 6ad775429831b2544e6a3279a99d895e12ab376e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 11 20:56:25 2022 +0200

    installer_cross: Complete gtk4 environment

    Install all gtk4 environment files needed by gtk4 modpack installer

    See osdn #43602

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 629983726fab1568ad9abd7efa7911648935add7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 11 21:03:11 2022 +0200

    guyana.svg: Update to inkscape 1.1.1 format

    See osdn #43605

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c2938ef78f2559e084caab6ce7d3958107af613c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 10 05:50:54 2022 +0200

    Apply Move_Bonus correctly to a unit with base move rate less than min_speed

    If unit's base move rate is less than class min_speed, any modified
    move rate less than min_speed was set to that base move rate.
    That was applied even when the modification was a positive one.

    Reported by Dino the Dinosore

    See osdn #43587

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ee540759fcd3ed85591fa676e2aaddc6795f0c5a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 10 06:35:02 2022 +0200

    Add Alpha release warning for development versions

    See hrm Feature #870972

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 142d139d0ef3c16e08840ed3f2342bfe3593b864
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Fri Jan 21 22:41:00 2022 +0100

    Updated French translations

commit c44dc347553d004beb90d96f3f93baf9dcf09a54
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 13 00:11:43 2022 +0200

    Meson: Check endianness

    See osdn #43448

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5016a35c3e2bbebbfcc544454a6b081ca4fd44ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 11 17:38:00 2022 +0200

    gupta.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #43603

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cd65e81c286b3d02bf01921b1f3e91f724a87d59
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 8 07:38:42 2022 +0200

    Make map_is_known() to behave when player maps have not yet been created

    Reported by ddeanbrown

    See osdn #43584

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bed82e569554eada9e5741f49bd2eb5011f73215
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 16 08:21:12 2022 +0200

    Add Output_Bonus_Absolute effect type

    See osdn #43593

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 20ff2943e827d3385a77a26ac233e58392f3449b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 8 05:51:36 2022 +0200

    Msys2 Makefile.meson: Install more of necessary files

    See osdn #43581

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f7f8ea7e8b7449043dda7cd28eb06e1d74df71af
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 10 06:40:24 2022 +0200

    guinea-bissau.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #43589

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 62c680c8fea9980b6c0f1c4455b576fee4c20a14
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 8 05:01:57 2022 +0200

    Set correct icon to ruledit .desktop file

    See osdn #43574

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 95f32076d520233ba8eae25841a1bf4e8a09de06
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 10 19:01:19 2022 +0200

    Lua: Add finder methods for Achievements and Disasters

    Reported by ihnatus and nef

    See osdn #43594

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dc3d555897c0d87b09b926a39155c0517badb321
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 19 21:05:07 2022 +0200

    Comment typofix: "seperatly" -> "separately"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7b6e7380f2a77357f79d3ac982da8c916dabf335
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 11 17:10:08 2022 +0200

    Meson: Find shell executable just once

    See osdn #43452

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 62ca777a901fd3d5aca702b3c4d8dda8479e6452
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 8 07:04:10 2022 +0200

    guinea.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #43583

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5148194fcbb2db64295c713a34d9e9d1f22e768a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 7 16:36:58 2022 +0200

    Make Good requirement to be false when traderoute is inactive

    Reported by ddeanbrown

    See osdn #43542

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2ec936ffef942b6ce1e90bfaaeab140964cd23d6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 18 20:08:48 2022 +0200

    Update Finnish translation

    This is just S3_1 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9f55aafcef753013216938d10f0254508c95e38d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 8 06:56:58 2022 +0200

    Refactor citizen sprites code to prepare for city style specific sprites

    See osdn #43582

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3a0893a29f3dd1e50dd55a12182cc7880802625c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 15 07:52:59 2022 +0200

    installer_cross: Cleanup passing parameters to nsi creation scripts

    See osdn #43597

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dbe8d2a9773fe5236bd1653d68e1595b5486c38b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 7 17:27:41 2022 +0200

    guatemala.svg: Update to inkscape 1.1.1 format

    See osdn #43576

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 650fed12ef7ee0cee71135138a692363cee5fe4e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 6 17:03:07 2022 +0200

    configure: Fix false positive for thread condition variable checking

    See osdn #43562

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a3348bbe71ce77898e073050aeab904a859a7a48
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 6 19:04:17 2022 +0200

    Cache ruleset modpacks just once

    See osdn #43569

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 398908190b58f500f76366dd39f74f7e7f094b23
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 6 00:50:58 2022 +0200

    Meson: Install freeciv-ruledit icons

    See osdn #43554

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 101f925483d560f9de6543829df426ddef175320
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 6 19:09:12 2022 +0200

    guarani.svg: Update to inkscape 1.1.1 format

    See osdn #43570

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cb8ffe0d2e0aebcc4311d63f9f66634226d730ba
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 6 09:01:13 2022 +0200

    audio_sdl.c: Update comments about gui-sdl to gui-sdl2 time

    See osdn #43552

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ac6e370a0241366939d98527b78ca0e8ad6090ef
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 5 19:54:40 2022 +0200

    Introduce is_building_sellable()

    Use it instead of is_wonder() to determine if a building
    must have zero upkeep.

    See osdn #43556

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e5eb86cce81ea3eac6707e6eac65c75ca49815d5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 15 19:28:26 2022 +0200

    Fix client crash when non-road extra's extrastyle is River

    Reported by jdanecki

    See osdn #43633

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 05c946a2e552723d53a862d57e146b9467ffe16b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 14 07:33:44 2022 +0200

    Update gnulib-common to serial 71 from gnulib upstream

    See osdn #43559

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a53029191d3f230811096bda553bcbda9902bd36
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 6 07:29:00 2022 +0200

    grisons.svg: Update to inkscape 1.1.1 format

    See osdn #43560

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 339d1b025cdccac5622de5bdd7aede28f090c845
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 11 18:40:39 2022 +0200

    Change ui_names of disband actions in supplied rulesets

    - "Recycle Unit" -> "Disband recovering production"
    - "You're Fired" -> "Disband without recovering production"

    Requested by log65536

    See osdn #43595

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9b58188383b58b24b4c25e48942dadd5cb27d3e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 6 07:22:52 2022 +0200

    Introduce setcompat.[ch] module

    See osdn #43394

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 962baf7a858d68c8b7a27135300b94fc8941aa95
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 11 17:32:04 2022 +0200

    Meson: Fix locale_charset() check syntax

    See osdn #43599

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 16243849aec92a95aa715f2b36a42645f222a857
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 13 00:19:37 2022 +0200

    hacker.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #43617

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 267d2a922a4053cae9cdd3f6ff56871ba4385c93
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 5 17:16:06 2022 +0200

    sdl2: Drop setting of obsolete SDL_VIDEO_CENTERED env variable

    See osdn #43551

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a703f4620db906795136338b414beca44ec80fce
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 14 22:36:47 2022 +0200

    Comment typofix: "improvemrnts" -> "improvements"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 26e8929bb58915971ba185af30007028e0e33520
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 6 01:06:22 2022 +0200

    Add TerrainAlter requirement value CanPlace

    See osdn #42873

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3574f011f2f8d7bbb201ac9391f17635e6e0a5ae
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 14 17:42:49 2022 +0200

    Update Finnish translation of the ruledit domain

    This is just S3_1 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2dfd3a54788997cc713a4448a08b2b473f1a89aa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 5 23:21:48 2022 +0200

    installer_cross: Do not install gtk3 environment for gtk4 installer

    See osdn #43557

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ce9f3763641ac79d14c0237ecbcc899ae194f105
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 5 23:57:30 2022 +0200

    greenland.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #43558

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0784363f5f7dec5cab960a5bb5f7499bc67cf663
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 5 02:41:04 2022 +0200

    Draw integrating cardinal roads (rivers) correctly

    Reported by ddeanbrown

    See osdn #43153

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8d5be08e64321ba873f502cf0ed0da9bc8f63640
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 5 05:26:07 2022 +0200

    Split general parts from api_game_specenum to a new api_specenum

    See osdn #43544

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e75a93b5ad4e5444c58432b4f71d8037185c0089
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 5 16:55:09 2022 +0200

    Meson: Link against 'network' library in haiku

    See osdn #43546

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit af45df28adb6580beea2a609263429d3b8bcc64b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 5 17:37:05 2022 +0200

    greece.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #43555

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f1d842822c2713192db281c51dbe7afde1c97f73
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 4 22:21:31 2022 +0200

    is_goods_type_in_range(): Correct comment

    See osdn #43533

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8273ecc6819b5874ca963fbe5121069964929e0b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 12 22:43:38 2022 +0200

    upgrade_ruleset_sync.bash: Update S3_1 revision to fetch

    Get a S3_1 revision where granularity ruleset transform_result /
    transform_time inconsistencies have been fixed.

    See osdn #43615

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d38cee488706d4487cc9178c141ce82d464a125b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 12 22:39:48 2022 +0200

    Granularity: Make transform_result and transform_time consistent for all terrains

    See osdn #43615

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6dd3371020a604abdfd0e82482e4f422ff8e432f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 12 22:01:50 2022 +0200

    upgrade_ruleset_sync.bash: Update S3_1 revision to fetch

    Get a S3_1 revision where stub ruleset transform_result /
    transform_time inconsistencies have been fixed.

    See osdn #43614

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e7d730b545219f640f9eb73f489bd03012f59910
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 12 21:58:38 2022 +0200

    Stub: Make transform_result and transform_time consistent for all terrains

    See osdn #43614

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a1b5dd77e1298409e9c555f693db52d953671562
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 12 19:12:26 2022 +0200

    upgrade_ruleset_sync.bash: Update S3_1 revision to fetch

    Get a S3_1 revision where alien ruleset transform_result /
    transform_time inconsistencies have been fixed.

    See osdn #43611

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f75ebb2d9c28b49f6d1568b4252c4a86ba2e5daa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 12 19:02:41 2022 +0200

    Alien: Make transform_result and transform_time consistent for all terrains

    See osdn #43611

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b082bd4f32ff7916f442f740af6468ec0b0dfbd9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 5 04:12:41 2022 +0200

    Sanity check transform_result and transform_time consistency

    No longer just correct inconsistent transform_result and
    transform_time from the ruleset, but consider it an error.

    See osdn #42256

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 652fc527983c1fb0a39c362b10634a15c8355e54
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 7 15:27:02 2022 +0200

    CI: Update setup-msys2 to version 2.8.0

    See osdn #43566

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f7b7811a0560abb25cc4a5d5a0d9a5bd940a0e5f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 5 04:30:40 2022 +0200

    greece_ancient.svg: Update to inkscape 1.1.1 format

    See osdn #43543

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 121617773bf464e569ce8a60a7bff654fae2d11a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 4 21:09:19 2022 +0200

    Correct Windows WSAEINPROGRESS handling

    See osdn #42044

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0d5ee556265e809a56fbdc3e6216a60c79063ab8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 4 03:35:40 2022 +0200

    Nations: Improve coding style

    See osdn #43459

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aee7bb3ae3c6ded5b1205c4dae1c66bd196b4c33
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 2 04:39:51 2022 +0200

    Meson: Correct checking for HAVE_LIBCHARSET

    See osdn #43443

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a487e0053a3f73824ea4a823e77046abcc7afe9b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 4 22:26:01 2022 +0200

    greater_poland.svg: Update to inkscape 1.1.1 format

    See osdn #43534

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4d82b96e169e479747ad00138afab96e0db0cf79
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 4 03:24:11 2022 +0200

    generate_skips.sh: Validate parameters

    See osdn #43365

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 848edfdce419537f24e8a81033ffa621c7e7376a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 2 05:30:01 2022 +0200

    gtk: Use common sex module instead of hardcoding strings

    See osdn #43408

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8de1110f329785497b4ec36154af6045bdce008f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 4 03:40:20 2022 +0200

    gothic.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #43524

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ddffdc2229848f251e2b925237a11990f582f233
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 4 05:15:07 2022 +0200

    stdlib_h.m4: Update to serial 66 from gnulib upstream

    See osdn #43525

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 443591a23364230a8d0a905b9369dbd7ff2cc7fc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 2 02:49:29 2022 +0200

    AI: Don't try to Upgrade Unit when it's not enabled in the ruleset

    Reported by ihnatus

    See osdn #42574

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ea8cf1c967888711997214a66012cbd9edbcdc24
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 6 08:01:17 2022 +0200

    Add transported defense type ruleset setting for unit types

    Reported by Sveinung Kvilhaugsvik

    See hrm Feature #848689

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3e1f40db9e8781f0a719c00b547ce0e6149a08e8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 2 04:45:58 2022 +0200

    golden_horde.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #43513

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 768e57626bfda8f437e3e53b0b5510af2b314402
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 30 05:24:53 2021 +0200

    Meson: Find python3 executable just once

    See osdn #43446

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c1635111a4d1f3d23cbfe6d5722ae64b93de2bee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 30 01:26:26 2021 +0200

    Ruledit: Add Documents path to default save path in Windows

    See osdn #43370

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c41f5e9cd5ba34b1d3feca43d2fdd0402f27820d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 8 10:27:48 2022 +0200

    Bump version number to 3.1.91.1-dev

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 57f21ca76635693ef26be6f4ec390496cbd70b28
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 2 03:51:17 2022 +0200

    borders.h: Drop fc_types.h include

    See osdn #43442

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fbe6158065cc70312ba7382151ce89a3cac11a6c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 1 12:10:38 2022 +0200

    gokturk.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #43509

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dc172e08e75260c1eec11a4f3b8c12b00c741174
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 30 00:25:56 2021 +0200

    installer_cross: Add freeciv-mp-gtk4.cmd

    See osdn #43020

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0ac99eef74544ea0e5182aea29830c510be498fa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 29 02:02:09 2021 +0200

    gtk3.22: Correct comments claiming it to be gtk3x-client

    See osdn #43430

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ddaf1f0372c5f17644942e7262a034b62163af70
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 30 04:59:19 2021 +0200

    Add deprecation warning about use of old style parameters fcdb.option()

    See osdn #43463

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c64b6265ff0ab84664e7c085784ea683ee918ab1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 30 01:45:34 2021 +0200

    ghaznavid.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #43499

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d6d849c62f23768f5e2c0feeca6befedc58eb2a1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 28 02:33:31 2021 +0200

    Meson: Use cross_lib_path in search of more libraries

    Several library lookups did not respect to cross_lib_path.

    See osdn #43456

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 19f413da340ef2231cb4580f235f85a76ca83a04
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 28 00:52:18 2021 +0200

    INSTALL: Update dependency download links

    See osdn #43300

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6cab7b1bef31348cd52e45f205b335a1fc968d5e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 1 12:03:14 2022 +0200

    Handle bzip2 compresstype migration for dev savegames

    See osdn #43484

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2da2d930786bb020aed0d3ebf76cb5919b89f145
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 28 02:40:53 2021 +0200

    ghana_ancient.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #43483

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9b2ed05c2b70e714e709974edb152885abd16244
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 21 18:33:55 2021 +0200

    Meson: Enable nonblocking sockets on Windows

    See osdn #43457

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e6c0910758709d01b0f715f91ee1f4b470840176
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 5 16:59:24 2022 +0200

    Comment typofix: "cacheing" -> "caching"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8bbad08362033df0fd731bd2157881cc56bce1e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 26 20:22:36 2021 +0200

    fcdb: Correct user_verify() documentation

    script_fcdb_functions_define() function header documents the API.
    Update it.

    See osdn #43465

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6f7cbd53d30d1eb0761bb91d536474f9cc09bf84
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 28 00:01:21 2021 +0200

    Use SIZE_T_PRINTF when printing zstd error value

    This replaces ugly hack to cast value to long just to be
    able to use same format specifier on all platforms.

    See osdn #43399

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 65d3f1b1d7b8bce6115c9aaee25f9f8f2bc55f02
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 28 00:06:34 2021 +0200

    germany.svg: Update to inkscape 1.1.1 format

    See osdn #43482

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 812214a8db81f9731d0f3336cf6ace4d1a2449b0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 21 04:12:18 2021 +0200

    Replace --with-qt5 / --with-qt6 with --with-qtver=(qt5|qt6)

    - Introduce new --with-qtver=(qt5|qt6) configure option
    - Deprecate --with-qt5 / --with-qt6. They are not completely
      removed yet, to ease transition (many build scripts
      rely on them)

    See osdn #43445

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 417f771632a8fc5ac22114342f41af6057028132
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 25 19:36:09 2021 +0200

    civ2: Disallow Upgrade Unit

    See osdn #43404

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c31096b79f3ef07e57fa3cf6a9b0be153ed7700c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 1 12:33:28 2022 +0200

    Make reduced firepower in special cases ruleset controlled

    Replace hardcoded firepower of 1 with a ruleset defined
    low firepower values. These rules can still never increase
    the firepower, only reduce it.

    - BadWallAttacker
    - Pearl Harbour rule
    - LowFirepower combat bonus
    - Nonnative bombardment

    See osdn #43041

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 40c7d109c131bea1b4f9ced26c18d3716c2c45ef
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 25 10:50:20 2021 +0200

    germanic.svg: Update to inkscape 1.1.1 format

    See osdn #43474

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 734baa9d745516b446874d3582038bbc829b3a4b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 23 06:12:25 2021 +0200

    Copy gtk3.22-client theme as baseline of gtk4-client theme

    See osdn #43438

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d47d3a8378ea90802564cebc86eb8905efba8d7f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 20 16:59:30 2021 +0200

    Remove Christian Prochaska from the list of active maintainers

    See osdn #43434

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 56764208f20d0652231638146f261cf49c392ad3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 22 19:48:51 2021 +0200

    Introduce sex enum type

    See osdn #43444

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0e4197701ceeb8b5fc5852566b98f886f48506fd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 22 02:24:47 2021 +0200

    gaul.svg: Shrink page size to image size

    Update to inkscape-1.1.1 format.

    See osdn #43458

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 174f52949f5d81815e30ed6c1e287ad4f6c09649
Author: SÅ‚awomir Lach <slawek@lach.art.pl>
Date:   Sun Nov 14 16:10:26 2021 +0100

    Save city counter values to savegame

    See osdn #41117

commit 00ada76971bb1a65b7197dc68d3e805cbc627fd2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 22 02:11:23 2021 +0200

    gtk4: Drop gtkcompat.[ch] module

    See osdn #43437

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a8f427b00e49e154b6186fe8c73924a02ca5b0eb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 19 14:45:35 2021 +0200

    fcmp gtk4: Set GLIB_VERSION_MIN_REQUIRED to match glib-2.66

    gtk4 requires at least glib-2.66.

    See osdn #43428

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e4bf873e789db49f98d88956d128f5cc9e46bc99
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 1 02:53:58 2022 +0200

    Set version number to 3.1.91 for year 2022

    See osdn #43391

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 28365f0bb6d10a741a3fcc35fdd031e19d94534e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 20 20:25:24 2021 +0200

    Use information from .modpack for client-initiated ruleset selection

    - Cache information about modpack name and filename mapping
    - Add dedicated packet for the client to request modpack-specified ruleset
    - Support both '/read ruleset.serv' and '/rulesetdir ruleset' methods

    See osdn #43435

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7c1d8973cdd86e7c28897de6558c055d0f457115
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 20 17:13:55 2021 +0200

    gambia.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #43451

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 95f4e9a5efc74fd280b24a59d254d251da9fb65e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 20 01:02:31 2021 +0200

    CI: Build gtk4-client on MacOS

    See osdn #43433

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 95a90fd718ee0002427cdfe088e5298bbb4ec154
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 19 14:56:52 2021 +0200

    Meson: Check for proper size_t printf() format

    See osdn #43390

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c5c6f7bd1f9f12d25c5c405b51e34e1e78bf805d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 19 15:22:04 2021 +0200

    README.nations: Remove trailing spaces

    See osdn #43258

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e293c520fcf5c873ea20b946d083ed20decd8a68
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 19 23:22:26 2021 +0200

    galicia.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #43436

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 67297afa90ad3fe63db4843b22e2a98ea558243a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 19 16:27:15 2021 +0200

    gtk4: Build against gtk4

    No longer build gtk4-client against gtk-3.9x.x development versions,
    but against stable gtk4. Rename variables etc accordingly.

    See osdn #43427

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8082a0b61d9299ab68be92e6bcd6c66ced1ffd5c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 19 11:59:07 2021 +0200

    gtk: Make Upgrade buttons insensitive on no-upgrades ruleset

    Reported by ihnatus

    See osdn #43424

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b8523e5a1f1ecafff682a9bf3cd016a9429af231
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 19 13:37:00 2021 +0200

    Move "out of fuel" message to default.lua

    Requested by nef

    See osdn #43341

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8ea567eef49ee9a4a79ba4b54765c2f5dd955027
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 19 15:25:59 2021 +0200

    gabon.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #43429

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a8dbc64de90ff5cfa4b071a84c68b47b53976122
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 19 10:29:25 2021 +0200

    gtk3x: Cast gtk_widget_get_display() parameter properly

    See osdn #43422

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bb97fa097d80b970aaeb0311466b7267a40b9faf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 17 05:32:24 2021 +0200

    scripts/potfiles: Add *.tilespec to list of files to search strings from

    See osdn #43376

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6d2f85310e6c1836a4f19608ef0faf1b9edac1da
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 19 11:18:59 2021 +0200

    Make zstd the default compression type

    See osdn #43313

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bd9c0a2c8420e59407298882bf7b3e2ef3d39783
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 19 13:42:09 2021 +0200

    friuli.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #43425

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b3a9d3a8aafe128f33000d2d7ca215b3442e0eda
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 19 10:10:53 2021 +0200

    gtk3x: Replace gtk_window_resize() call

    gtk-3.99.5 drops it.

    See osdn #43421

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 62611c60d9de72158e2c473f464a30eefa56051d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 12 19:41:01 2021 +0200

    Meson: Set _WIN32_WINNT also for C++ compilation

    See osdn #43371

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8b4e4b1c07d6f5e1db875ce71e024639efe9d574
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 17 05:41:05 2021 +0200

    sandbox: Fix typo in description of Altar to The Divine Ruler

    See osdn #43383

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aab6f3ae8150e83a3be35db11a540d70c1cf13e5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 19 10:35:45 2021 +0200

    french_polynesia.svg: Update to inkscape 1.1.1 format

    See osdn #43423

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4926720aa8d282de5338203122fd9e09fed78bb3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 19 09:15:10 2021 +0200

    Rename gtk3x-client binary as freeciv-gtk4

    See osdn #43420

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ef6f953b1eb62509faefd032bd6641aa5f9bc83f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 18 11:56:30 2021 +0200

    Add ruledit icon

    Art by Lithzen

    See hrm Feature #657383

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d55c37dba37a6c749fb740d4eca3f136fb1e4fcd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 11 21:16:56 2021 +0200

    Make research got_tech_multi mandatory in new savegames

    See osdn #43385

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7669d556434cff7a91c244b6ea44f6963d9f192d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 18 15:10:06 2021 +0200

    franconia.svg: Update to inkscape 1.1.1 format

    See osdn #43418

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 11060d5663b3b4ac71cdf3a0e434a092cd7c1008
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 17 06:01:58 2021 +0200

    Update gnulib-common to serial 69 from gnulib upstream

    See osdn #43413

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 031ebb37806dcf2d012414b22aa7237849482426
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 25 13:25:10 2021 +0200

    Update Finnish translation

    This is just S3_1 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9f7bc4f670cc968c147f6518497ac5ce199c3256
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 11 23:32:00 2021 +0200

    Lua: Add fce() debugging function, replace listenv() implementation

    listenv() had a number of crashing or hanging problems.
    Make it just a wrapper for fce()

    fce() implementation by nef

    See osdn #43388

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1b090730f7aff01aaeff60ff6e87be30a5dc66df
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 11 02:47:31 2021 +0200

    README.effects: Improve documentation of Building|Unit_Build|Buy_Cost_Pct

    See hrm Feature #768140

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b129b6f6dfba201b86b02c88a5298b3b8ede7844
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 17 06:06:16 2021 +0200

    france.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #43414

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3ad75a159dd97524a3556f74e5e844c19cd6406f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 18 15:02:29 2021 +0200

    gtk3x: Replace gtk_widget_new() call

    It's going away in gtk-3.99.2

    See osdn #43417

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 15aa57e381c5ab5dddcaa4732e497cde6da278ce
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 9 03:49:59 2021 +0200

    Autotools: Add configure check for printf() format specifier for size_t

    See osdn #43357

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0b128ea27fd4906d5e7db16fada95ed5e3e64235
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 11 01:40:34 2021 +0200

    Lua give_bulbs(): Fix sending updated info to clients

    Reported by Lexxie

    See osdn #43378

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5b8a5c6270d9a39e8b80d8ac3117c583aefa7872
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 14 06:25:40 2021 +0200

    france_old.svg: Update to inkscape 1.1.1 format

    See osdn #43406

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 992fa001c0f3e837e435e62e81b123e783bfafd4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 20 17:06:51 2021 +0200

    Fix compile when libzstd is available, but liblzma is not

    See osdn #43440

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 50673393173a6deaedbc1fce8edc79dee176989e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 13 06:26:25 2021 +0200

    settings.c: Move settings.h include to separate group

    See osdn #43393

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 710f297134d9478b7f1e21d3ef67ad2250dc0a7f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 10 19:04:36 2021 +0200

    Ruledit: Enable Effects button for techs in regular build

    See osdn #43369

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1872211e1a69785cd81f3f6829d5e7f6be33bcd7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 12 16:03:38 2021 +0200

    formosan.svg: Update to inkscape 1.1.1 format

    See osdn #43397

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4b680f91f0c04c3919220b42c287561f98f6e8ff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 18 14:27:31 2021 +0200

    gtk3x: Replace GtkRadioButtons

    They go away in gtk-3.99.1.

    See osdn #43416

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a8fc0d80ba0474307467c5efcdae734657757120
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 18 14:34:53 2021 +0200

    Set gtk3x-client to use gtk-3.99.1

    See osdn #43070

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8e6d5dee2272c156f8429bef29e05acd035c507c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 4 12:30:51 2021 +0200

    Prevent multiple gov changes after a single anarchy with "RandQuick"

    If revolentype is "RandQuick", switching governments for free after
    anarchy period of any length is an exploit. Prevent it, like
    we already did for "Quickening".

    Reported by Jacob Nevins

    See osdn #43334

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9ac12a881a4ab100ed8319439650852160bf191f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 7 05:55:51 2021 +0200

    Nations: Remove references to non-existent alt flag art

    Reported by frank e

    See hrm Feature #707579

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f410c11c803524e95ed3dda324a04ab155c855c9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 11 21:21:46 2021 +0200

    florence.svg: Update to inkscape 1.1.1 format

    See osdn #43387

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 43c9d8f405fb3e75fccc08ce3a1fc22d75379195
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 14 06:20:27 2021 +0200

    CI: Update msys2 runner to windows-2022

    See osdn #43363

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2d976e2b40442293f8930e84c2e222477cfb3e0b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 8 06:03:46 2021 +0200

    Make Qt6-mode the default

    See osdn #43332

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 288d4fe3082a006199aeec3b1e2865b3d7d649e0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 10 01:40:16 2021 +0200

    Split min_tech_cost from base_tech_cost

    Requested by Alina L.

    See hrm Feature #699459

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7fb4261989d2aa3fc8d4aee957690fa31bc634f1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 10 19:30:08 2021 +0200

    finland.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #43375

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 92c9d0a52c46a6ff04d8b83f208d19bfd4ae22ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 12 15:54:18 2021 +0200

    gtk3x: Drop gtk < 3.98.4 compatibility code

    See osdn #43396

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b4cc3a7394e8e348552a1453331f32ab0c899429
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 8 19:16:16 2021 +0200

    Replace AC_C_VARARRAYS use with reintroduced FC_C99_VARIABLE_ARRAYS

    AC_C_VARARRAYS is too strict about full compliance, when freeciv
    build requires only some compliance. This broke e.g. build with tcc.
    In S2_6 and earlier branches, our own AC_C99_VARIABLE_ARRAYS did
    just the correct checks for freeciv build.
    Reintroduce our own macro, now named as FC_C99_VARIABLE_ARRAYS,
    and use it instead of AC_C_VARARRAYS.

    See osdn #43352

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8bf3a070c308c2828a93b6434f7a5076bef376cf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 7 04:22:45 2021 +0200

    Lua: Add support for creating featured text links

    See osdn #43343

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3c136796b1dda16d578e5fbfb4735818570d29ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 9 22:18:23 2021 +0200

    evenkia.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #43367

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 83449bee03c5cad7b0ebd1720950d88ecc61ca04
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 10 16:31:51 2021 +0200

    Mark compat_load_030200() function header for doxygen

    See osdn #43253

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0a23d924211b6a5587ba1d64da59370c5a0af2f6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 4 12:56:31 2021 +0200

    Never double sell a unit for balancing budget

    In case of unit being sold from within recursive transports, it
    was not removed from the main list of sellable units. Thus it was
    possible that it ended as the one to sell again.

    See hrm Bug #853295

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eeb8080ef2a12cd70f288797b7fdf7083d958be2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 5 06:56:37 2021 +0200

    Tell that combat_odds_scaled_veterancy affects both regular and diplomat combat

    Improve combat_odds_scaled_veterancy documentation.

    See osdn #43295

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ea81a52e591206bb56fad5bd167137b8150ba021
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 9 04:33:14 2021 +0200

    etruscan.svg: Update to inkscape 1.1.1 format

    See osdn #43358

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 082d52483c938716583888aa248ac2e6989e8059
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 8 06:27:20 2021 +0200

    gtk3x: Replace gdk_device_get_state() call

    gtk-3.99.0 drops the function.

    See osdn #43312

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c548511e971d68c6f61e41493eb03c73acaf09bc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 8 05:51:52 2021 +0200

    CI: Configure jobs that won't work with Qt6 with --with-qt5

    See osdn #43347

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1cf6e58bee3df27be96f70d80f19ae6831b0213c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 4 11:21:09 2021 +0200

    Meson: Look functions from ws2_32.dll on Windows

    See osdn #43320

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8999d817908b39d4f9878ff0686b70604b5a8ad7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 8 18:16:21 2021 +0200

    ethiopia_old.svg: Update to inkscape 1.1.1 format

    See osdn #43351

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 794875eeac023d2f0c741c3d7b6a81d6fbc41f1f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 10 02:03:57 2021 +0200

    CI: Make MacOS build with --enable-debug

    See osdn #43360

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c88fc62a949145426817c18f7ea823758c0de9bf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 12 04:31:35 2021 +0200

    AI: Allow changing government when revolentype is "Quickening"

    See osdn #43392

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8844750127569537f9bd240f5f61164a2dd3a3e0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 4 23:44:58 2021 +0200

    Qt: Use sex_name_translation() instead of hardcoding strings

    See osdn #43336

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7f26f0e523ceda536e956a199e249aebc0cae77f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 8 06:34:06 2021 +0200

    estonia.svg: Update to inkscape 1.1.1 format

    See osdn #43348

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e0e84637fae5ad2e4f0112e566c08089971bd292
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 4 23:13:25 2021 +0200

    gtk3x: Replace gdk_display_get_monitor() call

    It's gone away in gtk-3.98.4.

    See osdn #43306

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8db87877177d880f5318c858aa4f01acb2519443
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 4 23:12:43 2021 +0200

    Set gtk3x-client to use gtk-3.98.4

    See osdn #43307

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3107abace46e63df60f58ac5349e323054062b80
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 3 06:08:24 2021 +0200

    Update maybe_become_veteran_real() function header

    See osdn #43008

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7fc812ef56949138a35c424c7e20dd0be8f34e55
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 10 01:36:32 2021 +0200

    qt6.m4: Automatically search 'moc' from /usr/lib/qt6/[libexec/]

    See osdn #43331

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4afe72cc9709a53f5d7c4c8ae94bb9796368f233
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 7 05:42:42 2021 +0200

    epirus.svg: Update to inkscape 1.1.1 format

    See osdn #43344

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9e21404c9302fc963647be698cf61e97907bbba7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 9 19:04:52 2021 +0200

    CI: Update MacOS runner to macos-11

    See osdn #43361

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1cf73d415451368caa2026f5bc00d748116b4f12
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 27 07:55:49 2021 +0200

    Meson: Move Windows specific setup before searching functions

    We need to have things set up correctly for Windows already when
    searching for the functions there.
    This initial patch to just move the Windows specific block alone
    does not achieve much. We will also need to add more
    functionality to it.

    See osdn #43270

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 30f2ba8b83a31d72d5f53ad4a9fc3d03e6de8960
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 27 07:07:55 2021 +0200

    Lua: Add action_finished_... signals

    Requested by Alexandro Ignatiev

    See hrm Feature #817749

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 141d4c151872952b9f4b0ca0debd50c0a04b1cc2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 4 23:49:29 2021 +0200

    england.svg: Update to inkscape 1.1.1 format

    See osdn #43337

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 45b76d90756eee140cb4342650e9169075e2dd44
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 4 07:48:07 2021 +0200

    gtk3x: Replace gtk_widget_destroy() calls

    It's going away in gtk-3.98.4

    See osdn #43330

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0e66fea24b1abdc12c8770abd12d9eaea006359b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 3 05:53:26 2021 +0200

    Speak of "supplies" instead of "fuel" in Coast unit loss message

    See osdn #43318

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 13f73f9d3b1095a5a5fc1f1d3ce2b1e828e41c93
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 30 16:24:33 2021 +0200

    Finish "FirePower1" to "LowFirepower" rename

    Some of the documentation still referred to LowFirepower combat bonus
    by its old name, as well as a variable name in AI code.
    These had been missed because of their different capitalization.
    This also fixes that issue as they end with standard capitalization
    of "LowFirepower" bonus.

    See osdn #43297

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f8d47bf0cb79b73640300e3448e71baa8d3bc439
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 4 22:57:30 2021 +0200

    el_salvador.svg: Update to inkscape 1.1.1 format

    See osdn #43335

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 341e5b0e1d67eb636518ea9d4b0c58b96b2251da
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 9 02:49:45 2021 +0200

    CI: Update setup-msys2 to version 2.7.0

    See osdn #43356

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 145313d720ec1b24979ea52c02c0e05e52804b85
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 9 20:38:14 2021 +0200

    Drop third parameter from FC_QT6_IF_QT6_MOC

    It was never used, and seemed to cause problems with some older
    autoconf versions.

    See osdn #43366

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f3e57c6fdd0137b37175fcdda4844235ffae4c8b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 12 01:57:37 2021 +0200

    Bump version number to 3.1.90.8-dev

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1673a1244ebd084fa288c66da661b36bfa70964e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 1 00:21:41 2021 +0200

    Lua: Add government information to Player object

    Requested by Lexxie

    See osdn #43294

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2af8d2056d10c03a66bf83fba78a9676f7664f25
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 11 20:10:32 2021 +0200

    Comment typofix: "happyness" -> "happiness"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 84859eb6f9c32f54f399f706c4afa24b86bcbaf5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 4 11:26:08 2021 +0200

    elam.svg: Update to inkscape 1.1.1 format

    See osdn #43333

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bba50db99e36b3020586e0e867d736a6905bac79
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 8 17:42:29 2021 +0200

    Qt6: Fix enterEvent() parameter type

    See osdn #43350

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 77ae9ca43110987391e399df1cb1974f10fa5941
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 8 18:01:59 2021 +0200

    README.effects: Correct name of Have_Contacts effect

    Reported by ddeanbrown

    See osdn #43349

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6e40aabc904138c0a091cd01bd8229241afa06f0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 11 07:14:00 2021 +0200

    Update Finnish translation

    This is just S3_1 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2aa0463da8b8b367b15f486276f021511f64dbe5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 24 04:34:30 2021 +0200

    Add tileset specified stack size sprite offsets

    See osdn #43191

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ba9d7fcf48a43d5afdfec4fe93b393f02dd16bbc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 3 06:15:07 2021 +0200

    egypt_ancient.svg: Update to inkscape 1.1.1 format

    See osdn #43322

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit af065fb44c788466424a3e05c2f547d81b34a573
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 3 06:00:08 2021 +0200

    gtk3x: Drop explicit widget destroy for toplevel_tabs

    They get destroyed anyway as part of the main window.
    Getting rid of gtk_widget_destroy() call is necessary as
    gtk-3.98.4 drops it.

    See osdn #43310

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2fb061cdc17517b9682f6ced7b53b75b12efe101
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 10 14:10:22 2021 +0200

    FAQ: Update latest stable version number to 2.6.6

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 79d148fb22e3eefd7293bd083d3445f5d9930535
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 25 17:05:34 2021 +0200

    Meson: Fix syntax in cross-properties handling

    See osdn #43276

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4d066253685625d43e3c2b1b855a9181acd3a584
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 10 04:21:00 2021 +0200

    Comment typofix: "avaialable" -> "available"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0849483851f3fe9bf30ebe7bde267345657a5499
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 30 21:32:41 2021 +0200

    Add "NonNatBombardTgt" unit class flag

    Use it to fix the issue of attacks by Ships against Helicopters counted
    as land bombardment when initiated from a city.

    Reported by log65536

    See osdn #43255

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a7f7698172c80591eda2e211b289a07e37c0d726
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 1 19:25:40 2021 +0200

    east_timor.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #43311

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 17b3d97e624586c7bc811867d68ef242af5b45aa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 1 19:18:43 2021 +0200

    gtk3x: Replace gtk_container_get_children() calls

    gtk_container_get_children() goes away in gtk-3.98.4. Replace its
    uses in gtk3x-client with modern constructs.

    See osdn #43305

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 74a5d006015c7d78125e3edc8875fb9a1b3b5573
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 1 17:43:30 2021 +0200

    fcmp gtk4: Set transient parent for quit dialog

    See osdn #43248

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c5209e2c785acb94013a126f15afe3e48502fffc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 9 01:52:30 2021 +0200

    Cast zstd error value to match printf format specifier used

    There's no single printf format specifier that would match
    the type in all environments. "%zu" would be the one with
    compilers that support it, but not all compilers we use do
    (notably it does not work on msys2)

    See osdn #43355

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a700d0910165fdbb404d6f38c0e1cbcbe9e230b9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 22 02:15:06 2021 +0200

    Add zstd savegame compression support

    See hrm Feature #852626

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d4e7564a342c4059ce384766ab4f0158bdb5a13
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 8 23:33:55 2021 +0200

    Update Spanish translation by Jordi Negrevernis i Font.

    msgmerged from S2_6 21e304b5ac

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fe7b0c54fbb6ea060262d8b7ca9c2df0aa7dac76
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 1 17:03:29 2021 +0200

    antarctica.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #43304

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fbb8bbcaea2bbd1cbca5ec6aead4a9f4df639f27
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 1 17:10:52 2021 +0200

    gtk3x: Correct gtk_window_destroy(toplevel) casting

    See osdn #43308

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5192f600fd3c3857dc6cf517e619ee76c9990f76
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 24 16:48:10 2021 +0200

    Meson: Fix nls-enabled build for Windows

    See osdn #43269

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6ff85dc6e27b2b8a84108e0f3b4331ed739a549b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 20 12:54:01 2021 +0200

    Add unit stack size display for gtk-clients

    See osdn #43249

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3b6e9214beb0120474cca91049523247e5e6acaf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 30 16:35:33 2021 +0200

    dr_congo.svg: Update to inkscape 1.1.1 format

    See osdn #43299

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8010da67bad29a06eff6899f6fb3fd9748c55f00
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 27 18:50:29 2021 +0200

    gtk3x: Fix GTK_BOX() casts in move_from_container_to_container()

    See osdn #43289

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4a80e42702a82279b24055a22ec16c2103196ac4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 1 16:32:06 2021 +0200

    Antarctica: Set antarctica_alt as alternative flag art

    See osdn #43303

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5e6b2282312a7c843df1542fdf3a952c7f0c9758
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 16 19:18:38 2021 +0200

    sdl2: Use common sex module to get name of the sex

    See osdn #43229

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ffc6e1fbd995d99c23934c0cd13aeec27992d708
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 27 20:07:36 2021 +0200

    dominican_republic.svg: Update to inkscape 1.1.1 format

    See osdn #43290

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d45aeb1ca02b7686cf9fb6c402db777750cc2b40
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 27 16:36:27 2021 +0200

    gtk3x: Replace gtk_paned_pack[12]() calls

    gtk-3.98.4 drops gtk_paned_pack1() and gtk_paned_pack2().
    Use gtk_paned_set_start_child() and gtk_paned_set_end_child()
    in gtk3x-client code instead.

    See osdn #43288

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2a35fc24631addad565814c7ea88d39902093658
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Mon Dec 6 06:16:17 2021 +0500

    Update for Russian translation.

commit 7460a887fcc878cccbb127b2901e28177bb6d73b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 1 00:00:28 2021 +0200

    set_socket_errno(): Handle WSAEADDRNOTAVAIL

    See osdn #42046

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 33c3c7a5939fc6ad67c69a073c41c23807e218b7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 20 07:10:34 2021 +0200

    Make diplomat battle veterancy gaining respect combat_odds_scaled_veterancy

    See osdn #43185

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d78aff77fc129224fc8874e0c7bfa0815bc8636
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 27 16:11:37 2021 +0200

    djibouti.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #43287

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0c35326d66ee11ff1a9a7c05a2b908b5bc514bb2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 27 16:04:35 2021 +0200

    gtk3x: Replace gtk_bin_get_child() calls

    gtk_bin_get_child() goes away in gtk-3.98.4. Replace its
    uses in gtk3x-client with modern constructs.

    See osdn #43286

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c3305696d91ce056e367bf6d05bda131b0e3aa6e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 4 21:35:16 2021 +0200

    Update Spanish translation by Jordi Negrevernis i Font.

    msgmerged from S2_6 c354659393

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a7650f32730b545ce427d60dd2bb7372802c27cd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 30 16:06:13 2021 +0200

    helpdata.txt: Stress that the combat chapter match classic ruleset

    It's not entirely correct for the default ruleset, civ2civ3.
    This note about the situation is meant as a temporary solution
    until we get the chapter updated to match civ2civ3.

    Reported by log65536

    See osdn #43298

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 089eff362d2543572a9b2fde0834ba9dd4909f34
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 14 15:59:46 2021 +0200

    Rulesave: Save comment about civstyle airlift_[from|to]_always_enabled

    See osdn #43218

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 90fc052218849089ef12e5bab599e060ddfba199
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 27 07:14:32 2021 +0200

    dgb.svg: Update to inkscape 1.1.1 format

    See osdn #43283

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c9e53ae86ea9888799b34407b94b754e5acd653f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 4 06:18:10 2021 +0200

    Update Polish translation by Hubert Kowalewski

    msgmerged from S3_0 bc348bd6b2

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 59d5f28da1ae0f8ed9fd1741273b6a17d4d688a1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 27 15:10:09 2021 +0200

    gtk3x: Replace gtk_widget_destroyed() uses with new widget_destroyed()

    gtk-3.98.4 drops gtk_widget_destroyed(). Implement and use our
    own widget_destroyed() instead.

    See osdn #43285

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b1cccd84533b91df72e7d1f0b04157bd6b3f72e6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 25 05:27:28 2021 +0200

    Disallow bombarding when the target tile is known not to have affected units

    Requested by Alexandro Ignatiev

    See hrm Bug #848555

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d0628fca563c778c90319c3aff520b5058e98b95
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 20 05:29:31 2021 +0200

    Make unit stack size display configurable

    See osdn #43190

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ee2161f44f5c828a71fc1ca341ec8332bf2a84fc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 3 08:53:54 2021 +0200

    Comment typofix: "argumen" -> "argument"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 888c06f211809e4307fbc3f919caefe7be95b7dd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 25 16:16:20 2021 +0200

    denmark.svg: Update to inkscape 1.1.1 format

    See osdn #43280

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c34d2e7e0910e24238def8ef150a958d7ed8bf4d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 27 14:30:45 2021 +0200

    gtk3x: Avoid calling gtk_dialog_run() by introducing blocking_dialog()

    gtk_dialog_run() is going away in gtk-3.98.4. Introduce our
    own blocking_dialog() for cases where we need the blocking.
    Here we blindly replace all the existing gtk_dialog_run() uses with
    blocking_dialog(), without considering if the blocking behavior
    is really right thing to do in each case.

    See osdn #43284

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5202980dd2a336081f135056b3fcd9aeaff63813
Author: kijima <norimaking777@gmail.com>
Date:   Tue Nov 30 07:06:05 2021 +0900

    Fix comment typo "accross" -> "across"

    See osdn #43296

commit f2f96e67215652bed398ccbe90fcec8fd5d1ae0e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 28 00:11:28 2021 +0200

    fcmp gtk4: Allow opening new quit dialog after destruction of previous

    See osdn #43073

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6d1f8f4dfcef49d165d509288b482693c9450cc4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 14 01:15:17 2021 +0200

    Drop 'start' parameter from advance_iterate()

    - Rename old advance_iterate(), with the 'start' parameter,
      as advance_iterate_base()
    - Introduce new advance_iterate() that is a wrapper around
      advance_iterate_base(A_FIRST)
    - Turn advance_iterate_all() as wrapper around advance_iterate_base(A_NONE)
    - Adjust all users of advance_iterate() - all of them wanted
      iteration from A_FIRST, so now use new advance_iterate()

    See osdn #43216

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d821976211b5744e2bf61eca44aac721bd557ea6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 24 05:01:29 2021 +0200

    ddr.svg: Update to inkscape 1.1.1 format

    See osdn #43268

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 62d3eb80718641a76192be0bb20fab96c8b5f3a9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 23 05:16:05 2021 +0200

    gtk3x: Avoid gtk_widget_destroy() on removal of cma shell

    See osdn #43263

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ec3a50847480568f7b056cbec8803927d392aa70
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 25 16:05:56 2021 +0200

    Fix erroneous message about obsolete build target after it has been updated

    Reported and original patch by Ilkka Virta

    See hrm Bug #921933

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a52ac850c24369d32a4118f46c12a29b7ff8ee29
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 1 08:03:28 2021 +0200

    webperimental: Correct barbarians translation_domain

    See osdn #43301

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3bea3915b7c355322b9245d5a6dc792631d4a8d0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 1 06:25:22 2021 +0200

    upgrade_ruleset_sync.bash: Update S3_1 revision to fetch

    Get a S3_1 revision where nations freeciv-core translation domain
    definition has been updated.

    See osdn #42111

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 69a02e2bf939348a279b8b96dfcab77bc941e26b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 15 06:30:10 2021 +0200

    Nations: Replace translation domain definition "freeciv" with "freeciv-core"

    This makes it to match the actual translation domain the translations
    are from.

    See osdn #42111

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 04d368a2046cc195a583f53604bc0fd05c322ffc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 23 05:44:43 2021 +0200

    darfur.svg: Update to inkscape 1.1.1 format

    See osdn #43264

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fca10e57e63962357a3af13d5be0229c6bf24c0f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 23 18:21:42 2021 +0200

    Meson: Fix build from release tarball

    Don't try to install files that are not part of the tarball.

    See osdn #43267

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 511240337d16ddcfd2b31c138dd37c161905ba85
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 19 15:28:52 2021 +0200

    gtk: Drop unused buy_shell, rename_input from struct city_dialog

    See osdn #43239

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e42bf737cc319104300ea576335a511c75b94144
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 24 03:24:38 2021 +0200

    Drop unused last_turns_shield_surplus from edit_city packet

    Reported by ihnatus

    See osdn #43204

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cb6e39dfe601d3d54d8f59aebdd6c1bf961658b3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 21 22:14:33 2021 +0200

    dahomey.svg: Update to inkscape 1.1.1 format

    See osdn #43262

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8f5643fe2ff7e96188cbb57f3fe75604e1057c93
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 21 07:49:57 2021 +0200

    gtk3x: Replace gtk_container_add() calls with modern constructs

    gtk_container_add() is going away in gtk-3.98.4

    See osdn #43256

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0344f2acab8ec58ac0ce7b6d0e7db0b928b81432
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 22 17:21:55 2021 +0200

    gtk: Correct popup_musicset_suggestion_dialog() comment speaking of soundset

    See osdn #43213

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 098ad6d67c0085854e408f27207b76875ff8277e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 13 08:19:33 2021 +0200

    Enable combat_odds_scaled_veterancy in most supplied rulesets

    Enabled in civ2civ3, multiplayer, sandbox, goldkeep, alien,
               webperimental, granularity

    Not enabled in classic, stub, civ1, civ2

    See osdn #43203

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f525cbfa7004fd12c845a8c5232cbad63e553b2d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 23 05:25:48 2021 +0200

    Update to crosser-2.2

    See osdn #43259

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2cd8e6823b8ae00ecface5603135aea4c6ff966a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 21 08:17:59 2021 +0200

    dacian.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #43257

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6dc2fa35e350d49550e6033c8cb891c41f49f5a4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 19 17:00:40 2021 +0200

    gtk: Unref ref protecting widgets from destruction in editinfobox_refresh()

    See osdn #43222

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 35add229806b033676ab67af9a488fb46fc21887
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 13 14:54:55 2021 +0200

    Rename ACTION_STARTED_... macros as ACTION_PERFORM_...

    See osdn #43207

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f10a2e9cec6d1b831e4d8ec569890b321c35d56a
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Sat Jul 24 01:33:27 2021 +0300

    Lua: correct players_iterate() after a player was removed

    See hrm Bug #883551

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit e28efc21981518bfe0fdf1ca02f8d6cc189f72b2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 20 13:18:20 2021 +0200

    czech.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #43228

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f991736a21620ceae297ea57bc805c3308dcac1e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 20 04:44:21 2021 +0200

    gtk3x: Work around gtk_widget_destroy() in citydlg unit tables handling

    See osdn #43246

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2eadaef4ffcc81141fa6b9911f8a77ad840fc734
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 13 14:14:35 2021 +0200

    Use iterate_unit_list_safe() when going through units that may escape

    Unit may escape from the original tile & list in the middle
    of the iteration, so nonsafe iteration macro should not be used.
    Most likely consequence from the old use of nonsafe macro was
    that once one unit had escaped, further units were not considered
    for escaping.

    See osdn #43206

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8ba9f30e04b06a162ffb7d9a487ca478080a443c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 11 07:47:37 2021 +0200

    Lua: Add Player:give_bulbs() method

    Requested by ihnatus

    See osdn #42502

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 75e0e407312b496d9fa6207d498a0ac5a82d0236
Author: JRo <jro@advops.com>
Date:   Wed Nov 24 19:15:14 2021 -0700

    Qt: Improve layouts

    - Tweak city dialog sizing
    - Correct goto dialog layout

    See hrm Bug #937959

commit 9710624f2871801016491f64cea4df7236264036
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 20 06:09:43 2021 +0200

    czechoslovakia.svg: Update to inkscape 1.1.1 format

    See osdn #43247

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 30718ee4c729bcf062cea8213f40e5b596238170
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 21 13:20:08 2021 +0200

    Msys2: Make sdl2-client installer to include gtk4 modpack installer

    See osdn #43193

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cceb835b946915e557c6f7a885e625474c577f53
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 26 14:40:30 2021 +0200

    Nations domain po-files: Correct typo in Marathi legend msg id

    Change msg id directly in the po-files, so that completely valid
    translations will not turn to fuzzy ones as a result of the fixed typo.

    See osdn #42609

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 12ec4891d34791951427fe146df6fd2fad84bc85
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 15 00:30:01 2021 +0200

    Fix Marathi legend typo

    See osdn #42609

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 98abea170d04d4ef54ff74ef10ceeea146e31c75
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 4 05:04:35 2021 +0200

    Rulesave: Save comment about actions quiet_actions settings

    See osdn #43162

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8484d4454c0f10d03dda96f91d48ccb39b7ce5f8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 26 06:11:00 2021 +0200

    Update Polish translation by Hubert Kowalewski

    msgmerged from S3_0 8001d555dc

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ebfdf60e1dcecd508eaf2efa7cc5a6eaba77c4ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 20 03:37:57 2021 +0200

    cyprus.svg: Update to inkscape 1.1.1 format

    See osdn #43245

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6f44ee72860c4b7f36db4c23771025ba475c620f
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Fri Nov 26 00:40:47 2021 +0100

    Updated French translations

commit 1f7dfbf8f2cfc82dbb768e93f5753c1cc1cff8a4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 16 17:46:30 2021 +0200

    gtk3x: Make gui_dialog_add_(action_)widget() to work without gtk_container_add()

    gtk_container_add() is going away in gtk-3.98.4

    - Rename gui_dialog_add_widget() as gui_dialog_add_action_widget()
      for consistency with gui_dialog_add_content_widget()
    - Always use gui_dialog_add_action_widget() when applicable

    See osdn #43227

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bff4d3c5da7867ccaba58853e468f37f885adb2c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 13 10:09:31 2021 +0200

    Make shield_stock given in editor to stick over production change

    Changing the production back and forth was causing the stock to
    get to the value it had before editing, not to the value it
    had after the editing (but before it was changed the first time)

    Reported by ihnatus

    See osdn #42685

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f7d61253a0360d1ee18ef4f894ad15d01f583477
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 25 07:21:06 2021 +0200

    CI: Update commit id for rulesets to update from S3_1

    Use S3_1 commit that has the LowFirepower combat bonus rename
    as the base for ruleset update tests.

    See osdn #43075

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d8e21bd8ab5ad9f8dd342db1396490e14e54520e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 13 09:30:59 2021 +0200

    Rename "Firepower1" combat bonus as "LowFirepower"

    This prepares us to having the actual firepower value being
    something else than 1.

    See osdn #43075

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 73efd1ab7cd1e0b2be092898357763b827d18684
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 19 05:37:31 2021 +0200

    cuyavia.svg: Update to inkscape 1.1.1 format

    See osdn #43238

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 787624ebe8d942ed0596cdbef58aadcd54604dc4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 20 03:04:59 2021 +0200

    CI: Add gtk4 package to msys2 environment

    See osdn #43243

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b836daa18ef1c7ebe9f3abc2b06722367f77b747
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 10 02:44:30 2021 +0200

    README.scenarios: Discourage disabling lake_flooding

    See osdn #43182

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 70430e1dca003a6313003f6d54525c4892eea0f5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 7 01:50:33 2021 +0200

    Remove accidental dot from "Cultivate. Rslt/Time" string

    See osdn #43172

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f14dfdc35d4fbe413fe11fd95ef137072b37493f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 16 18:39:12 2021 +0200

    cuba.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #43228

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7e81278f3bd803497d5f1391090ad9190964d97f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 16 17:17:19 2021 +0200

    gtk3x: Fix adding widgets to horizontal gui_dialog

    Rename variables and functions to agnostic to orientation.

    See osdn #43225

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d98dd30882f9165738a60456cc777534de76b51
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 14 02:29:29 2021 +0200

    fcmp gtk: Free gtk objects when quitting

    gtk4: Free GtkApplication
    gtk3: Free main window

    See osdn #43074

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit af96b6e86582eef55747e67646333e03f0cf0ac2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 20 21:54:13 2021 +0200

    Add support for combat veterancy chance being relative to the challenge

    Controlled by a new ruleset setting combat_odds_scaled_veterancy,
    defaulting to FALSE. Also left to FALSE for all supplied rulesets
    in this initial commit.

    Requested by Corbeau

    See hrm #804347

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7798d503405c8b3f3f169fc3fb6e8bc29e15de07
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 15 00:39:50 2021 +0200

    croatia.svg: Update to inkscape 1.1.1 format

    See osdn #43220

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2a20efe0880d884fd55f4e415b4a28eed35965d0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 16 03:31:52 2021 +0200

    Update msys2 environment to 211115 level

    - Include gtk4

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d1eca0d4e9edfef4c04d5f7a0a334d8ba715d39b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 8 01:06:32 2021 +0200

    Consider it land bombardment when a ship attacks from a city to land

    Reported by log65536

    See osdn #42960

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2288dee087de534c2bf8e129c86e616799ffdfce
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 9 17:56:14 2021 +0200

    Clear out trailing spaces from nation files

    See osdn #43181

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 68376e48b8dd3a144723e515a16ebbabb5af2537
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 22 06:43:44 2021 +0200

    Update Finnish translation

    This is just S3_1 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a40d4358e1ed7f4e861d1e7b15fe96b633956470
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 14 07:49:40 2021 +0200

    crimean_tatar.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #43217

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fe34b4e3c627decf634f273b4ad9e736f4139efd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 16 05:34:06 2021 +0200

    gtk3x: Rework to get rid of gtk_container_remove() calls

    gtk-3.98.4 drops gtk_container_remove()

    See osdn #43223

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2636f2c03cc8f1611b9f02af793da9759f49013b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 10 01:04:18 2021 +0200

    Be consistent about tile "unit escaped" message get send from

    Send the message from the tile originally defended, never
    from some of the tiles one of the units escaped to.

    See osdn #43099

commit 33b3713e2f5907559d0f5ca35a3c2634fdba9efc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 3 17:08:57 2021 +0200

    Meson: Make single check for libm

    Find libm just once and assign the result to a variable that is
    then used instead of separate find in every place it's needed.

    See osdn #43157

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cab22fffd605d045c4764003ed3dddbb54b103c4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 14 00:40:13 2021 +0200

    crete.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #43215

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1d6aeebbd946cf883ed75dd122d23a7c2814f3c4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 14 00:29:43 2021 +0200

    gtk3x: Rework chatline.c to work without GtkContainer

    See osdn #43214

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 73e9b3c73d72bc9227fe0a552e38c1b8890f0df3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 22 06:01:31 2021 +0300

    Qt plr_report::update_report(): Update number of rows as the first action

    Make sure the number of rows is correct, for example after civil war,
    before we may trigger automatic sorting of the model.

    Reported by chippo

    See osdn #42545

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ac69eee3284af328c885d8fcd25d1c35936357d6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 20 12:35:43 2021 +0200

    Comment typofix: "cavas" -> "canvas"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d4bade499a02310830edadd1127d90633e49b888
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 10 00:53:47 2021 +0200

    Add Action_Resist_Pct effect type

    Idea from freecivweb.org

    See osdn #43155

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8c4935425fd2095b8344c88ff74d00a3782e52ed
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 13 20:35:10 2021 +0200

    courland.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #43209

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ce8732a875185b34f32ca40c2ec877cd6b72b509
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 13 23:42:39 2021 +0200

    gtk3x: Add choice_dialog_destroy()

    It's based on gtk_window_destroy() Use it where appropriate, instead of
    old gtk_widget_destroy() that goes away in gtk-3.98.4.

    See osdn #43212

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c788daf42db0c2315aaf0a2a94e2b9613ab90869
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 8 01:18:55 2021 +0200

    README.packaging: List 'various tools' as libfreeciv users

    See osdn #42925

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 29fd78efd13f846e1ccd0075e16f16c428737360
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 19 14:16:30 2021 +0200

    POTFILES.in: Update to fc_cmdhelp.c move

    Fixes 'make dist'

    See osdn #43241

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a1c6a468f25205032d491a8667f1788681443c17
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 3 01:17:15 2021 +0200

    Move fc_cmdhelp.[ch] to utility/

    See osdn #42878

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 77a562c110a580fc286b5c128b95fdfded67e905
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 13 10:33:16 2021 +0200

    costa_rica.svg: Update to inkscape 1.1.1 format

    See osdn #43205

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dd109d24b34e2749efe29dd19e59449466612cbe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 10 19:36:22 2021 +0200

    Qt: Add unit stack size display

    Based on patch by John Robertson

    See hrm #911906

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e7dcd8db5f1300e938bcc4048d0c7652337f0d8d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 7 23:08:40 2021 +0200

    Fix assert failure when client is handling dead player's research

    See osdn #42988

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0faec3a872ae9a7aba0435a38b24a0255bef4cf6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 9 04:24:26 2021 +0200

    Rulesave: Use common sex module

    See osdn #43031

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 31af0d58d840191b79575378d9ce81b178fde6e1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 12 04:45:14 2021 +0200

    cossack.svg: Update to inkscape 1.1.1 format

    See osdn #43197

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c62802f2568cea730d417d7b04610445c8edfb3e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 13 22:50:29 2021 +0200

    gtk3x: Add help_vgrid support functions

    These reduce use of gtk_container_add() that is going to be dropped
    from gtk-3.98.4.

    See osdn #43211

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c107e5c49a3b979d9bd41a2db03d074dbec1f8a3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 11 04:15:35 2021 +0200

    Make GAMEOVER autosave in the end of all-AI autogame

    Reported by alain_bkr

    See osdn #42172

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f9648514ae7fe37f7894991113935a2807767701
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 1 07:59:38 2021 +0200

    freeciv-web: Pack city structure

    See osdn #43150

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 66bc2165d7cc61575dfe9f1f03e1dceb1b964e9a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 14 13:16:23 2021 +0200

    AI: Support sea moving caravans.

    Patch by Ihnatus, with changes by me

    See osdn #42567

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5e2f6dc7246c388be9f1946e73bc366d9d7858e5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 10 19:57:46 2021 +0200

    corsica.svg: Update to inkscape 1.1.1 format

    See osdn #43192

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c517f3c67db69915a76d33b4a14012bcd39d4579
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 13 22:19:35 2021 +0200

    gtk3x: Add gui_dialog_vgrid_add()

    Use it instead of gtk_container_add() to add widgets to gui_dialog.
    It's implemented using gtk_grid_attach() instead of the gtk_container_add()
    that's going to be dropped from gtk-3.98.4

    See osdn #43210

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d78c8307675501c0a2c3d5710a2e841c4427c599
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 3 01:25:50 2021 +0200

    civ1: Drop DamageSlows flag from all unit classes

    As civ1 units are either in full health or dead, there is no
    point in having DamageSlows flag for any of them.

    Reported by nef

    See osdn #43040

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3044917b1fc22ae9c64e4a83d8e18db2fdd4a2a6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 27 18:02:04 2021 +0300

    Improve coding style of z*.ruleset nation rulesets

    See osdn #43068

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b52db030703ec8b8e0df6a3dbd165d6244ac1bb3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 10 06:13:31 2021 +0200

    cornwall.svg: Update to inkscape 1.1.1 format

    See osdn #43184

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f5e66f19c8249283654ef999d14cc907bd17ddf1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 10 03:51:49 2021 +0200

    Introduce advance_iterate_all() macro

    Use it where applicable

    See osdn #42893

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d95f7835f60e9705242ba1ffa1c71e05da75a61d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 7 23:18:06 2021 +0200

    Improve --enable-ruledit help

    See osdn #41958

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 97fde167af9241ee87f3b087b82eb0383a8ffa91
Author: MarkusVolk <f_l_k@t-online.de>
Date:   Fri Nov 12 05:28:24 2021 +0100

    meson.build: install rest of the tilesets and scenarios

    See osdn #43199

    Signed-off-by: MarkusVolk <f_l_k@t-online.de>

commit bcd6b2aff9984a2c07c29c3443047c0310460d0c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 24 04:41:03 2021 +0300

    Rulesave: Save comment about calendar fragments settings

    See osdn #43117

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 78c436ceda77fe4b5dbf145b98348876b5d74378
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 14 17:19:00 2021 +0200

    Update Finnish translation

    This is just S3_1 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6e2d9f0ebc235e87c7179e81fb1701f2ad108b3e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 10 02:01:33 2021 +0200

    constantine.svg: Update to inkscape 1.1.1 format

    See osdn #43183

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 81023e86f1c01a56247fc452712c0f289e0dd19c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 10 17:34:19 2021 +0200

    gtk3x: Replace gtk_container_add() used for dialog content areas

    gtk-3.98.4 drops gtk_container_add(). Reduce its use by using
    gtk_box_append() in cases where we want to add to dialog content area.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 27e2f47926c9b06183dc06cead80c17d3cc157ba
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 10 16:08:58 2021 +0200

    fcmp gtk3: Quit by exiting gtk main loop

    Return cleanly out of main loop and via the end of main() function.
    It used to exit() from inside the main loop.

    See osdn #43187

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2217e3267e75197271b495ffac73f7b8765f6081
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 11 06:34:21 2021 +0200

    Add man page link for freeciv-mp-gtk4

    Patch by Jim DeLaHunt and myself

    See osdn #42196

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8f00250c2f0e48f6e4ee4656a26cb1747f2b0c0f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 23 06:19:23 2021 +0300

    civ2civ3/sandbox: Enable only_real_fight_makes_veteran

    Killing defenseless units will not grant veterancy any more.

    See osdn #43101

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5317af0648946f9bca5653686c7b62d642bb9d46
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 9 04:46:04 2021 +0200

    comanche.svg: Update to inkscape 1.1.1 format

    See osdn #43179

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 99ef62c6372c7e30b6bff8d5a4393c315ef31da0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 8 02:46:36 2021 +0200

    Rename 'move_is_blocked_by' as 'move_blocked_by'

    Same for move_2_is_blocked_by and move_3_is_blocked_by.
    This is consistent naming with other _blocked_by variables

    See osdn #41857

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4c89b089dd195cc9e39eddfed9f2261a101e2928
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 3 17:38:24 2021 +0200

    Rulesave: Save goods_selection value

    See osdn #43158

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 37e9936fd1a233b2e7834945c76fa54883b2d3c5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 20 22:52:01 2021 +0300

    fcmp: Fix bogus error message about failed sql query

    See hrm Bug #738891

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f6f103ed803a807c47af5d531a4e66d94c1033f9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 8 02:21:24 2021 +0200

    clatsop.svg: Update to inkscape 1.1.1 format

    See osdn #43175

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d0abca93eb46f08b83e0854cf65181e0e13f2916
Author: Hilde Iren Lagnason Bye <lagnason@hotmail.com>
Date:   Sun Nov 7 18:33:41 2021 +0100

    Check effect value known for the correct player.

    Make action_prob_pre_action_dice_roll() check if the dice roll odds are
    known for act_player. tgt_player is just the other party for local DiplRel
    requirements.

    Reported by Marko Lindquist

    See osdn #43169

commit dcfc22ec16157ce234cb529d1238f77df2f6213a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 6 08:55:41 2021 +0200

    gtk3x: Add rally point dialog

    See osdn #43167

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 30a48a00aafa74e8d9b446ab78f7ea0bf83fed99
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 12 08:04:11 2021 +0200

    Bump version number to 3.1.90.7-dev

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c474ab9556979c1ba02fae7f59f9ff1a5fcac85a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 3 07:44:18 2021 +0200

    Correct iterate_effect_cache() function header

    See osdn #43087

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 153d03100610a6a29e830e2ca25b1bac39fc7814
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 18 02:19:31 2021 +0300

    Lua: Add City:create_building() and City:remove_building() methods

    Requested by Alina L.

    See hrm Feature #695117

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2c965ad6076e4857a4209b030f5ca266dad0ac8b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 11 07:51:51 2021 +0200

    Comment typofix: "checvk" -> "check"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6c08a752033ddcf152671939d53ffd89464a6238
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 8 00:11:10 2021 +0200

    chuvashia.svg: Fix namespace error

    See osdn #43174

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit be95997648f2d9110f50cccf1bda2e2afd2c4d9e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 8 05:46:26 2021 +0200

    CI: Update setup-msys2 to version 2.6.1

    See osdn #43177

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ec6ec31c24efa605e99c413aa74e241855eb9ecc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 4 18:46:50 2021 +0200

    Save information if player has gained tech under multiresearch to savegame

    Lack of that information caused player to lose bulbs when switching
    research

    Reported by Lexxie

    See osdn #43161

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 85ccd8816171bca86dbc773aac818818dfef2067
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 11 19:42:31 2021 +0300

    Never reveal the tile in send_city_info_at_tile()

    Callers that want that the tile gets revealed before it's sent
    should do the reveal themselves. The way send_city_info_at_tile()
    sometimes was revealing the tile was inconsistent and lead to bugs.

    See osdn #42967

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c6b21ce2d8c73559848093f6b65a86387d99c0e5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 6 22:06:55 2021 +0200

    chumash.svg: Update to inkscape 1.1.1 format

    See osdn #43171

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a35db8892e0a7360db30679439909e54b73f4a72
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 2 07:20:50 2021 +0200

    hexemplio: Add user.infratile sprite

    Art by Canik

    See osdn #43151

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 41abc43023274a7434b87752d7c0f3b8800933a6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 6 10:17:07 2021 +0200

    README.effects: Sort effects alphabetically

    Clear out trailing spaces.

    See osdn #43165

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 053a5e3b7752709ee83c1d9199f1f5687af1e74e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 19 18:57:15 2021 +0300

    Improve coding style of y*.ruleset nation rulesets

    See osdn #43047

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7f138194a9f48fa8a7ac31f7dbe0c6bdb8c52be2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 4 18:37:32 2021 +0200

    chrobatian.svg: Update to inkscape 1.1.1 format

    See osdn #43164

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a4123a45bb82988b32d9ca71caef723fce1c3bd8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 31 14:50:51 2021 +0200

    features.m4: Suggest installing SDL2_mixer, not SDL_mixer

    See osdn #42877

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e84fe987d7214d0c37b37776f069ca888b24a7cb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 23 05:33:30 2021 +0300

    Ruledit: Add building genus editing support

    See osdn #43102

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6377e66eeb2edacd7a4214269e9d20bc080d262d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 6 22:13:25 2021 +0200

    Scale bombard rate down by bombarder's damage

    This is ruleset controlled. The old hardcoded behavior is
    still available, but the new behavior is the default.

    Requested by Alexandro Ignatiev

    See hrm Feature #821129

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 08ff27bfcffa61491808232333d2bb2a00c8d880
Author: SÅ‚awomir Lach <slawek@lach.art.pl>
Date:   Sun Mar 28 12:44:55 2021 +0200

    Initialize counters for a city

    - Added routines to obtain number of counters for given scope

    - Added default value for counter
    - Added routine declaration for obtaining number of city counters

    - Initialize city counters by default values
    - Added routines for manipulating city counter values

    - Get rid of city_i from counters_init

    See osdn #41116

commit b96543f88d5ac55ddc8ec31833cee89c822a4ad5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 3 01:07:56 2021 +0200

    chola.svg: Update to inkscape 1.1.1 format

    See osdn #43154

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 99465016a2a11359653c2750b89c8deea174add1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 8 03:45:46 2021 +0200

    Update Finnish translation of the ruledit domain

    This is just S3_1 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 095eff9e1cf2fccb9f84c0c364dd52f5517792a7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 30 14:41:44 2021 +0300

    Qt: Allow adjusting leader of the nation player has already selected

    In the pregame nation selection it was impossible to reselect
    the same nation one had already.

    See osdn #43024

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4f5a9e7a3ab96d4a4c0be768350d6c3762449491
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 20 05:22:13 2021 +0300

    civ1: Remove infra from city center tile when city destroyed

    Based on lua script by nef

    Requested by nef

    See osdn #43039

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0732324594ac85f39c1102911d7a3c1d47504fc8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 15 18:36:22 2021 +0300

    gtk3.22: Add rally point dialog

    See osdn #43030

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 857d7f04db6b73bd2016fbbd9bea26ba284f52d6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 1 00:28:13 2021 +0200

    choctaw.svg: Update to inkscape 1.1.1 format

    See osdn #43149

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 63937aba58606ea30fab8829960fe782221461d2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 6 21:51:45 2021 +0200

    Comment typofix: "tookit" -> "toolkit"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 158301dca1fde012a8eaa23492dd68d0b7b46c8c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 30 14:27:53 2021 +0300

    Meson: Make single check for libsqlite3

    Check existence of libsqlite3 just once and assign the result to
    a variable that is then used instead of separate checks in
    every place it's needed.

    See osdn #43045

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7556fd09ce81b6916f32bb3f7c767e528b850d8e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 19 01:05:15 2021 +0300

    README.actions: Correct UI names of a couple of actions

    Reported by ddeanbrown

    See osdn #43065

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6e63c7e63a7f226a20e269d815a2e20eb3b14f57
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 17 18:12:25 2021 +0300

    Use common sex module in savegame handling

    See osdn #43026

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a71a57eb7530548acdc16d139edd101e776ea012
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 30 14:10:50 2021 +0300

    china.svg: Update to inkscape 1.1.1 format

    See osdn #43147

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 110bb9ba1ae68cdc90ebd1904b861f5bddd548b6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 27 15:37:41 2021 +0300

    Rulesave: Add nations.ruleset ruledit section comment

    See osdn #42891

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 87c7626e90384a702958d2e8c8278b1ff82fa5c5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 23 05:17:20 2021 +0300

    sdl2: Correct popup_unit_info() function header

    See osdn #42568

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f1a5d534fcfa831a9b6614ab0ca1a179c8beb571
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 16 03:27:13 2021 +0300

    Set gamesetdef also when loading savegame with gamestart_valid = FALSE

    See osdn #43050

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6cf7896365a91e8a8b6f93dc2cb90b1395410564
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 23 06:15:21 2021 +0300

    chile.svg: Update to inkscape 1.1.1 format

    See osdn #43105

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 137ce1a42cbaf66945c234f27703eddd31a097bb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 23 05:51:44 2021 +0300

    gtk3x: Stop calling gtk_frame_set_shadow_type()

    See osdn #43104

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 513beda5c4b2a84de4b9f7faf0288f36f6592009
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 17 16:58:45 2021 +0300

    Capitalize 'U' in internal names of StartUnit unit type flags

    This makes them consistent with what is used and documented
    in supplied rulesets.

    Reported by ddeanbrown

    See osdn #43001

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aa831f2d4c74027411e0f16fe691c65930aacda5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 13 05:16:21 2021 +0300

    Rulesave: Save comment about culture migration_pml settings

    See osdn #43023

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ee1a2cad83fe79c3c525b467acc1d9eedb9948b2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 22 03:36:08 2021 +0300

    chickasaw.svg: Update to inkscape 1.1.1 format

    See osdn #43097

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8d761187a8f8e91778a3783ae5e2777b42b8cdd0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 22 03:26:45 2021 +0300

    gtk3x: Avoid gtk_button_set_relief() calls

    Replace them with gtk_button_set_has_frame()

    See osdn #43096

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0f7e5e3645453ebcda0061a2d2b85134fd5fff6b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 17 16:29:31 2021 +0300

    Add -Wimplicit-fallthrough to --enable-debug=checks

    See hrm Feature #852929

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c779245fa437c4e49066613a7c86aa34d2c64ca2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 12 21:28:52 2021 +0300

    Improve coding style of x*.ruleset nation rulesets

    See osdn #43018

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ef0fdabcbd43eaa69821dcd44636aa6c23aba4b3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 20 20:20:42 2021 +0300

    chiapas.svg: Fix namespace errors

    See osdn #43085

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b1b5247713510167d4fb9de8def8b79d83bc7f2d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 21 04:00:49 2021 +0300

    gtk3x: Stop calling gtk_container_set_focus_[hv]adjustment()

    See osdn #43088

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a9efa426b77ca0a03a02c69c5df03867f548a2e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 16 15:58:57 2021 +0300

    Fix traderoute_packet_list leak from broadcast_city_info()

    See osdn #43054

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 85b1113ed706e806b3ca34d320c468ff1a2d653f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 10 22:42:23 2021 +0300

    Qt: Use SEX_xxx macros instead of magic values

    See osdn #42948

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6b67f39e3f0a45e82c8f399fb3696fd6fb2b6de9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 20 02:14:22 2021 +0300

    chechnya.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #43079

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 364263713df61f7f5032c2083b88575deb15486c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 20 17:21:32 2021 +0300

    gtk3x: Drop gtk-3.96 compatibility code

    See osdn #43082

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 59d9e83ca8d15de705b7cdb0327533686225bcfe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 20 19:32:33 2021 +0300

    Tell which building was the problematic one in ruleset sanity checks

    See osdn #42995

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f9bae2f77f1b968053d43a6dd229ad25145f4402
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 31 09:24:28 2021 +0200

    Meson: Define FC_QT5_MODE

    Just hardcode it for now. This is an emergency fix that hopefully
    fixes Qt-client build failure on CI.

    See osdn #43148

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e2bdcf81dc096d62a3c298a664b6b3733a270822
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 9 20:17:27 2021 +0300

    Replace FC_QT6_MODE with FC_QT5_MODE

    Turn the Qt6-as-special-case logic to Qt5-as-special-case
    by retiring FC_QT6_MODE macro and introducing FC_QT5_MODE.

    See osdn #43010

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e60e26d32d214a0f6957fbac61ec47f5f0dad741
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 19 18:59:57 2021 +0300

    chananea.svg: Update to inkscape 1.1.1 format

    See osdn #43069

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 872ae121724a3ae9a1584baff9a35b4b85a8149e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 20 01:52:48 2021 +0300

    gtk: Destroy toplevel window on quit

    See osdn #43072

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e43cad365376173280b4f9df93649cc704a70fa5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 14 01:20:34 2021 +0300

    Set default range of Good requirement to a valid one

    Reported by ihnatus

    See osdn #42989

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 212d7541679dc088aee3845e52893bb1df138cdc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 22 02:11:22 2021 +0300

    Add only_real_fight_makes_veteran ruleset setting

    Requested by bard

    See osdn #43009

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 687010e34a2d459c325b9fbb67235c0025aa91c3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 18 05:42:00 2021 +0300

    cham.svg: Update to inkscape 1.1.1 format

    See osdn #43060

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c58902181fd4c52e565312af50f9fe32f48d9586
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 13 17:24:31 2021 +0300

    Improve help of techleak server setting

    Requested by Nate Martin (vodot)

    See hrm Bug #764909

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f5c91996fae51e37be680510abe70826cb737ff7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 9 11:15:54 2021 +0300

    Improve coding style of w*.ruleset nation rulesets

    See osdn #42986

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 482dde6995e964b3e2d9618c2471c3f8ce69bb8c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 19 19:36:31 2021 +0300

    gtk3x: Replace GDK_MOD1_MASK with GDK_ALT_MASK

    It's renamed in gtk-3.98.3

    See osdn #43078

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 121ac71f859e5f4ebec6ac33756c0979000abbfe
Author: SÅ‚awomir Lach <slawek@lach.art.pl>
Date:   Mon Aug 16 17:15:24 2021 +0200

    Add counter getters functions

    See osdn #41115

commit 89c9d5f31a57898ef676fbba8ec9853ab864d55b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 11 05:20:35 2021 +0300

    Mention ruleup in nations.ruleset [ruledit] section documentation

    See osdn #42894

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6584bf50f27640a05dad00d7386038e4c9119087
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Oct 23 20:10:28 2021 +0200

    sandbox: demonstrate variable city radius.

    Introduce the Space Elevator small wonder and the Space Elevator Tether.
    A city with a Space Elevator or a Space Elevator Tether gets expanded city
    radius, expanded vision radius, more trade and additional trade route slots.
    The down side is that it works only until you end up at war with someone.
    A city on the same continent as a player's Space Elevator can build a Space
    Elevator Tether.

    See osdn #43128

commit 984aa6135201c3e59581765a75ca92c143a6426a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 17 16:54:29 2021 +0300

    central_america.svg: Update to inkscape 1.1.1 format

    See osdn #43058

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 69c1a34e9607c2d9b1a966ee8ec7ec51da35a1b9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 9 10:14:34 2021 +0300

    Granularity: Add act_gfx_alt "unit.cultivate" for irrigation extra

    See osdn #43004

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4952ee374e30591ed21dd387ed0824b1f610c706
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 16 02:58:28 2021 +0300

    Remove mentions of ancient 'gui-mui' from comments

    See osdn #42931

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 918f703fb8e60880deac0c64786ba1eb84cdcfe2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 4 05:29:17 2021 +0300

    Rulesave: Save comment about culture history_interest_pml settings

    See osdn #42984

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 14dbd5d22e6f3ea1ff4a9b52c4f95421e585b256
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 16 09:19:51 2021 +0300

    celtic.svg: Update to inkscape 1.1.1 format

    See osdn #43053

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 75bad646d3e6ada32942478d574f234005ea1194
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 14 03:44:09 2021 +0300

    gtk3.22: Set title for Wonder List Intelligence Dialog

    See osdn #43043

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 32938cadfa5a8aa0d02845045febba770c5f4959
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 9 10:04:26 2021 +0300

    Add user.infratile sprite for amplio2 and amplio

    Art by Canik

    See osdn #43003

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d35edec90d19bff108022cad3ba03aaaf40fa85d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 15 20:47:01 2021 +0300

    celtiberian.svg: Update to inkscape 1.1.1 format

    See osdn #43048

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a65eece5e326c88f422aea34de9a0883f1df101b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 10 22:36:58 2021 +0300

    Qt: Do not ignore sex user has explicitly selected for leader

    Toggling leader sex did not have any effect, sex was selected only
    when one took predefined leader from the list.

    See osdn #42964

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a08a24d9f93af77ae937effc8bbd1d38ff93a4da
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 20 01:40:42 2021 +0300

    Sandbox: Demonstrate small wonder visibility "Embassy"

    See osdn #42972

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9711d01c20425863cf135ebed357938dda956f26
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 19 19:21:22 2021 +0300

    gtk3x: Avoid gtk_scrolled_window_set_shadow_type() calls

    Replace them with gtk_scrolled_window_set_has_frame()

    See osdn #43077

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2238a815529018bb5e4f9e8b5bd8ead265a3fc0a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 15 17:07:54 2021 +0300

    catalan.svg: Update to inkscape 1.1.1 format

    See osdn #43044

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 954da24d1273e9fec91f3120bfb9cb44c75a9491
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 10 05:23:21 2021 +0300

    Ruledit: Add unit type move rate editing

    See osdn #43016

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 569d5e61ef026a887f4c2667fddf75fea7f09b3b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 9 20:53:30 2021 +0300

    default.lua: Add a chance that a map is found from a hut

    Add new event type E_HUT_MAP for the message when that happens

    Requested by ihnatus

    See osdn #42974

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit db3824f0eeaebd1b6a72d04e064b03b2784ddc13
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 19 19:03:57 2021 +0300

    gtk: Drop obsolete toplevel_accel reference

    See osdn #43076

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c177d754c60437568e0d57d312e0b00924421ddd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 13 17:40:28 2021 +0300

    car.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #43038

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d5c462c4e4ce95fd9db72554c945697d7025bed9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 13 23:38:02 2021 +0300

    Civ1: Make all units to occupy tiles

    Reported by nef

    See osdn #42923

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f084b41861d148f252cd8f033e6ce69edc69bcd5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 9 07:30:07 2021 +0300

    Savecompat: Add setting gamesetdef values when updating from < 3.1

    See osdn #42985

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0f1039147dde2ebce684918e3a829d9637ccce6e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 15 19:02:45 2021 +0300

    gtk4: Add Wonder List Intelligence Dialog

    Ported from gtk3.22-client

    See osdn #43036

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 937c70f99d57a230c1294f41ee359b633dfbf06f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 12 17:54:16 2021 +0300

    carantanian.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #43035

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 75b14532c365d1258d22751cc3fd93e900b29056
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 10 03:20:01 2021 +0300

    Correct dai_gov_value() comment

    The comment spoke of Tech instead of Government.

    See osdn #42867

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3799001c7630b926ea1cc1693c2958077f082ea8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 3 01:17:23 2021 +0300

    Clear rally point on city transfer

    Reported by Lexxie

    See osdn #42906

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cc219b40c74d5b7f13c1d3e0627ad2275145367a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 16 05:15:46 2021 +0300

    gtk3x: Replace GdkEventButton use with GtkGesture

    See osdn #43051

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1a97b706700ec8a89c85af5f963c5ba850872ab7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 16 05:14:54 2021 +0300

    gtk3x: Avoid gdk_event_get_click_count() calls

    See osdn #42328

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 31f0318ade19673aa5403b482e4bc8d76fc040ca
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 16 05:13:37 2021 +0300

    Set gtk3x-client to use gtk-3.98

    See hrm Feature #890455

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7ffd1db98e857032697c373e848f58e38af06c10
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 11 05:36:23 2021 +0300

    canar.svg: Fix inkscape error

    Loading svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    See osdn #43025

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7ba64c0a681c4c39f3b4402a0df8f6977c9dfcb5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 9 08:26:43 2021 +0300

    Sanity check that wonder upkeep is zero

    Reported by Lexxie

    See osdn #42994

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d35cde22c54ffa6151ad0cb7656b71f9c4636850
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 3 03:39:59 2021 +0300

    Improve coding style of v*.ruleset nation rulesets

    See osdn #42966

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0ee1078bde0206a745fd4c8a85ceb43e725c7a57
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 15 17:09:06 2021 +0300

    CI: Update setup-msys2 to version 2.5.0

    See osdn #43046

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9168850a07b167ac49717fa7349b5c783224cdab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 10 16:43:10 2021 +0300

    canada_old.svg: Fix inkscape error

    Inkscape said: "Canvas::on_idle: clean region is empty!"
    Also resized canvas to image size.

    This still leaves inkscape warning:
    "WARNING: unknown type: svg:foreignObject"

    See osdn #43021

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 53c8ea3afe6af476496b0ab3becc0f3332b59a3b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 10 08:03:34 2021 +0300

    Qt: Fix segfault when quitting from main menu without visiting game

    Writing shortcuts crashed if attempted before they had been even
    initialized. Now check if they are initialized, and don't even try
    to write them if they are not.

    See osdn #43019

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aa5cc416df38aa7baa8ae113f0b7ed4eb9f5dcd6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 3 00:31:23 2021 +0300

    Lua: Add Tile:show() and Tile:hide() methods

    Requested by ihnatus

    See osdn #42973

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7801fbf9e62bfabf4bc95cde3e543de4d29c0b0a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 10 00:18:41 2021 +0300

    gtk4: Comment out all menu code

    See osdn #43013

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 69b3719adf6d91c5335a7a1b9ac400d13c92a911
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 10 01:54:17 2021 +0300

    cameroon.svg: Fix inkscape error

    Loading cameroon.svg to inkscape gave an error:
    "Canvas::on_idle: clean region is empty!"

    Fixed simply by resaving from inkscape.

    See osdn #43014

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b9df4a1b6374e187357013c7546d340e1d6c34b9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 9 14:06:44 2021 +0300

    Multiplayer: Remove broken link from a buildings.ruleset comment

    It was pointing to old freeciv forums no longer existing.

    See osdn #42839

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eab43bfe30468fda2abbfaaf67953c07952bf049
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 2 04:57:55 2021 +0300

    Alien nations: Improve coding style

    See osdn #42949

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 107b41128bedf3eb3e953356e16f7ecd85726c1e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 11 23:09:48 2021 +0300

    gtk4: Port infradlg from gtk3.22-client

    See osdn #42982

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b06ea02492d872d825f40aefc93e0b705f5ad10c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 9 17:20:41 2021 +0300

    caddo.svg: Update to inkscape 1.1.1 format

    See osdn #43007

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1f0246ceb3084554e3053b698f04b282a25f6137
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 9 06:36:49 2021 +0300

    Take ANEK_ACT_NOT_ENOUGH_MONEY message reimplementation to use

    Two different implementations of this existed in the code,
    better one being dead code after a "break;"
    I assume this to be result of a failed attempt to replace the
    older implementation with it.
    Take the better implementation to use, and drop the older one.

    See osdn #42901

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5e32070b0b3846307e6e6a14b0a7f9709c0dc8c7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 16 04:23:54 2021 +0300

    Update Finnish translation

    This is just S3_1 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ea40e75765ef1784a66648e373a9faaaf202c278
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 2 20:25:20 2021 +0300

    Track defaultness of setting game-start values

    Make the "/reset game" to respect defaultness of the value in game start.

    Reported by Jacob Nevins

    See hrm Feature #692373

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b194d15be8aaa553faa5c547e1486b8a0149652c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 12 17:47:25 2021 +0300

    CI: Update commit id for rulesets to update from S3_1

    Use S3_1 commit that has the alien ruleset wonder upkeep fix
    as the base for ruleset update tests.

    See osdn #43033

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f0733169ff7abe76b8caae562f425379d4db0b4b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 9 10:19:17 2021 +0300

    byzantium.svg: Update to inkscape 1.1.1 format

    See osdn #43005

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aeb843f1d9cd0d048fbba90aba765fb40911f359
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 2 06:25:07 2021 +0300

    cma_get_parameter(): Check attribute format version, don't assert() it

    See osdn #42898

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit de9a1dbe6ceff3d5b092673ee22fe6c6a3c7a2d9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 29 02:36:29 2021 +0300

    Drop obsolete windows/installer_legacy from git

    See osdn #42945

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0bb6740fcc8f76d22c9311a117621610836237ac
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 15 00:46:15 2021 +0300

    Bump version number to 3.1.90.6-dev

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ad41217b5e15e7b6d9505a15f7133c26030af345
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 11 17:50:22 2021 +0300

    gtk4: Clean out trailing spaces

    See osdn #43028

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1c7e24340dcb58973d5846be06fbbd331dcf6931
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 9 06:57:20 2021 +0300

    buryatia.svg: Update to inkscape 1.1.1 format

    See osdn #43000

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit deaaaeb5a3277d0303cdbf0c8523a106f794173a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 2 22:07:37 2021 +0300

    gtk3.22: Add Wonders list intelligence dialog

    Based on a patch by Ilkka Virta

    Requested by Alexandro Ignatiev

    See hrm Bug #883354

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 005a0a92dd4e090955a9538424a5e785d1bd1f68
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 29 01:20:44 2021 +0300

    Rulesave: Save comment about research free_tech_method settings

    See osdn #42943

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5a61d3344f32212944ffbe1d5f7640d4082c8193
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 10 07:41:14 2021 +0300

    Qt: Do not reopen quit dialog when client is already set to really quit

    See osdn #41675

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ba41dad8eb211cefffff4c4d9e0672bae39b5af7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 4 04:51:38 2021 +0300

    burundi.svg: Update to inkscape 1.1.1 format

    See osdn #42983

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3f4d25ff3019e252f377c123ed4464276c476d30
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 2 15:03:26 2021 +0300

    Fix revealing trade partner to destination owner when trade route established

    If the owner of the destination city already knew the tile where
    the source city is, but only from time before the city was founded,
    the source city was not revealed.
    This even lead to client crashes as traderoutes there were between
    owned city and NULL.

    See osdn #42968

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3747787e3a030032fa3836d2e99f5bbcd8542525
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 29 02:04:24 2021 +0300

    Improve coding style of u*.ruleset nation rulesets

    See osdn #42909

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aa196babd8565d176da34707a0d0ff01b89f4b0e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 9 23:20:03 2021 +0300

    gtk4: Drop parameters from gtk_scrolled_window_new() calls

    See osdn #43012

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 04218327a3ee4f512b1d1a69da4647d1fdd66b05
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 3 01:14:32 2021 +0300

    bulgaria.svg: Update to inkscape 1.0.2 format

    See osdn #42975

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d093edfcaffe648f415d136fcff90790870c0373
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 9 13:51:06 2021 +0300

    Alien: Mark upkeep cost of wonders as zero

    The engine forces upkeep for wonders to be zero, so value in
    the ruleset is not used. Mark the ruleset value as zero to
    avoid confusion, and also failing sanity checks once they
    get implemented.

    See osdn #43002

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8cb2910121c9f182ea979938f6051fcdab0fc6eb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 28 05:19:46 2021 +0300

    Introduce new sex.[ch] module

    Initial version has just sex value macros and sex_by_name() method.

    See osdn #42937

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b08383f1ab0c264cf93af50cff1e2b8f0a608922
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 3 08:33:25 2021 +0300

    gtk4: Replace use of "delete_event" signal with "close-request"

    See osdn #42979

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d8c6f066db55bb88a6e38a4ffdaf8d5b2a66ade0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 2 18:20:54 2021 +0300

    brunei.svg: Update to inkscape 1.0.2 format

    See osdn #42971

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bd183540c1883a3897b79a632a5a4f131374e2e5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 1 02:13:33 2021 +0300

    Qt: Show default ruler title for a player whose government is not known

    Intelligence was showing ruler title as if the nation was in Anarchy when
    it doesn't know player's actual government. Make it to show default
    "Mr"/"Ms" instead in that case.

    See osdn #42938

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 113491ef892f83cec8cee130158bc0cb8199e9af
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 27 06:35:30 2021 +0300

    cityrepdata.[ch]: Improve Coding Style

    See osdn #42932

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c036bd932872a338d4aeef18871af8352f26d085
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 7 19:58:41 2021 +0300

    Do not erroneously accept "Traderoute" range for a "Good" requirement

    Reported by ddeanbrown

    See osdn #42944

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e3b87a27856869f970d94f5e6322975e9311b208
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 2 05:05:31 2021 +0300

    brittany.svg: Update to inkscape 1.0.2 format

    See osdn #42965

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a4c9b4574abfe0759ad46cd080ef5137fd8a4522
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 10 15:15:34 2021 +0300

    data/.gitignore: Drop Freeciv entry

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 62a3c0b038b5ec494f4ab9913eb53535809ffe9a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 30 17:04:50 2021 +0300

    Apply square tileset setting changes to current game also if map topo is iso

    Reported by log65536

    See osdn #42956

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c0c6ed21534fadfe0d007fd736e47d4c0483fb15
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 27 04:19:20 2021 +0300

    Make it possible to use iterate_outward() recursively

    See osdn #42930

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 72a31416f55adda0556f7c3dd2f40745470655a6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 3 08:31:09 2021 +0300

    gtk4: Avoid using gtk_file_chooser_get_filename()

    See osdn #42978

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 450840fb52119d7a3c1951548beffe876fab8bf3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 30 17:14:39 2021 +0300

    britannia.svg: Update to inkscape 1.0.2 format

    See osdn #42957

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 42266b960088d8ae6c3e503f72c511884054396e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 27 19:19:07 2021 +0300

    Qt: Correctly send the sex user selected in nation selection request

    See osdn #42936

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 13985e7ca780ad202ac9db57e3c698a2872dcc03
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 26 21:11:57 2021 +0300

    configure.ac: Improve malloc(0) test output

    See osdn #41100

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 05ecf3e4183b5a2de5a2793269cbff421b8a3a9d
Author: log65536 <log65536@users.osdn.me>
Date:   Fri Oct 1 05:49:33 2021 +0900

    Fix help text for the trade_revenue_style server option

    See osdn #42961

    Signed-off-by: log65536 <log65536@users.osdn.me>

commit d76f87efdbb2fc33a4dd2ccb215431e079d1c965
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 29 02:41:30 2021 +0300

    brandenburg.svg: Update to inkscape 1.0.2 format

    See osdn #42946

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d1f25fda3c90b3fcda74c8f02f078dad6169b072
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 2 22:00:23 2021 +0300

    Add Border_Strength_Pct effect type

    See osdn #42913

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a3e9933b66066565e4efce70a16fe8f7d9e9ca43
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Fri Oct 8 02:26:11 2021 +0500

    Update for Russian translation.

commit 6e36345c2fa7174adcc50a0c15374e3d778ba36e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 3 08:28:54 2021 +0300

    gtk4: Drop gtk_widget_event() using functions

    gtk-3.98 does not have gtk_widget_event().
    Just drop the functions built around it from gtk3x-client

    See osdn #42977

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4204371a138f26b61833668973ab96222cf36e4f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 26 18:10:02 2021 +0300

    Rename WIKI_URL as HOMEPAGE_URL

    It does not point to wiki, but to main homepage.

    See osdn #42929

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 77e1f485d2d459dd60f54f4b4f3ffb1c3a402430
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 28 17:29:51 2021 +0300

    bosporus.svg: Update to inkscape 1.0.2 format

    See osdn #42941

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7584b315150b69b8a9a2f36d9d260b271b8cd529
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 25 06:21:41 2021 +0300

    Civ1 nations.ruleset: Improve coding style

    See osdn #42912

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5123e6d08f9083439bad8147f98db89b7e4a87bf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 3 08:25:28 2021 +0300

    gtk4: Avoid gdk_event_get_scroll_direction()

    Use gdk_scroll_event_get_direction() instead

    See osdn #42976

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 444cba7c9d1eb3c9dc61d3fd57bf2a1e8accd844
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 23 06:45:20 2021 +0300

    Rulesave: Save comment about research tech_upkeep_style settings

    See osdn #42903

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8d35503b9a0d45e49ebfcfd56720929f6e30ffb1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 27 06:45:50 2021 +0300

    bolivia.svg: Update to inkscape 1.0.2 format

    See osdn #42933

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aacd4ab7b4e3d28b67eb77eb243054a722fa13c8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 30 16:47:03 2021 +0300

    Free rally point when the city is destroyed

    See osdn #42953

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c2a00660cbf96b6479feab8686f3e0fef045885c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 24 03:29:55 2021 +0300

    Improve coding style of t*.ruleset nation rulesets

    See osdn #42875

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 14ef088f7d7293f181eb3d90e85e4bff250f4890
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 2 15:27:04 2021 +0300

    Make draw_trade_routes_for_city() robust against NULL trade partner

    Player should always know any trade partners his/her own cities have,
    but it's good to be robust against the opposite case
    (such as bug osdn #42968)

    See osdn #42969

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f2a2789123f4bf6cd712ebab20dda44d47e18485
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 26 09:23:05 2021 +0300

    bengal.svg: Update to inkscape 1.0.2 format

    See osdn #42928

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 27bede06d67704c2d366afe5b903a198a1b1ea9e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 4 05:08:51 2021 +0300

    Comment typofix: "client/gui-gtk3.22" -> "client/gui-gtk-3.22"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3933e02ff47e6839a5286ca1337aae39cf8b030c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 23 02:58:32 2021 +0300

    cma_core.[ch]: Improve coding style

    See osdn #42899

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9b5e262202056ced83f90822fb5844fa14c3145d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 25 20:49:41 2021 +0300

    Show selected infratile on map canvas

    See osdn #42920

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5187fbb88a6b69e3b1fcb110cb1a3534f234bc42
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 25 05:33:49 2021 +0300

    Turn enum setting_default_level to a specenum

    See osdn #42910

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 78818f438991059c43f86fbf101db32844d0c2e1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 25 08:59:46 2021 +0300

    belarus.svg: Update to inkscape 1.0.2 format

    See osdn #42914

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f941e91f7524e6136ffa99567dcb87b5048c89fa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 21 20:34:11 2021 +0300

    Civ2 nations.ruleset: Improve coding style

    See osdn #42896

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fa5ebdf1a1e6c5b8709147385524438ee43cfe80
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 25 05:44:26 2021 +0300

    List ax_cxx_compile_stdcxx.m4 in EXTRA_DIST

    See osdn #42911

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f7bca579773382dfa135633213bb2ef5a1d26ca6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 26 04:38:25 2021 +0300

    Add RandomMovement unit type flag

    Requested by Jacob Nevins

    See hrm Feature #699473

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 184bd3e575343014cd28e1e2347608b7d7a420f0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 24 04:32:12 2021 +0300

    baden.svg: Update to inkscape 1.0.2 format

    See osdn #42904

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9b374f798a7142b3354d2ab6c5711a922578a926
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 1 20:09:45 2021 +0300

    NEWS: Refresh 3.0 section

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6cfb58e7eafa90aef42d661e66fa6961fd091193
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 28 16:41:26 2021 +0300

    british-isles.sav: Set nationset to "all" to allow correct nations

    Reported by Molo_Parko

    See osdn #42939

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 44886eccf72dc49a0d7ff32ab964d6057d2550f6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 23 05:26:03 2021 +0300

    RETURN_IS_ACTIVITY_ENABLED_UNIT_ON(): Return even when action value is illegal

    See osdn #42881

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 21dc92e81f3db03e4306c5500768e6393c8aeb69
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 18 00:37:11 2021 +0300

    Improve coding style of s*.ruleset nation rulesets

    See osdn #42860

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 76f63f60bf89fc37c5d6c828cc7792a77e6ea010
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 23 06:09:14 2021 +0300

    azerbaijan.svg: Update to inkscape 1.0.2 format

    See osdn #42902

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f6afd59c6682ad62125d85d840e33360b02685ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 23 05:45:01 2021 +0300

    advance_index_iterate(): Move advance_count() call outside the loop

    See osdn #42883

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 942a1b8873df1e314ee090692ce45d2ea8dd6f25
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 19 07:39:23 2021 +0300

    Rulesave: Save comment about research tech_leakage settings

    See osdn #42880

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2e0be97b0f28a07e059caa325ef195db3d2e469a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 20 03:58:28 2021 +0300

    ruledit/Makefile.am: List MOC_FILES in alphabetical order

    See osdn #42886

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a89bfb963d3e3a96f086f23cd8654fbaf0197baa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 22 03:53:18 2021 +0300

    aymara.svg: Update to inkscape 1.0.2 format

    See osdn #42900

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 87b3c665af9199fbc8fd15405cf45a35af93ae11
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 26 04:09:36 2021 +0300

    README.packaging: Fix typo "not resources" -> "no resources"

    See osdn #42926

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1ca833045dee711f1e75ca7063a1003c57d555e0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 12 10:43:15 2021 +0300

    Get client's list of rulesets from .modpack files

    See osdn #42494

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 487302f4292c25f781e28d1ca7ff8c6b1e108e54
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 21 23:55:50 2021 +0300

    Allow moving CoastStrict unit to ocean city, or city in 1x1 island

    Reported by lexxie9952

    See osdn #42600

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5d49165600ab1fa8098c690dafb842749f51ab05
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 21 20:41:05 2021 +0300

    atlantis.svg: Update to inkscape 1.0.2 format

    See osdn #42890

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4b9db3e651de4b4ef6eb9964443fac703e7cadf2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 25 18:49:56 2021 +0300

    README.<ruleset>: Replace freeciv-gtk3 reference with freeciv-gtk3.22

    See osdn #42918

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 71453188d39a90e7577624598470864c3ddd80f5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 28 06:34:36 2021 +0300

    Comment typofix: "rule title" -> "ruler title"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d7531216bfca9ddaec75fd3b2aed7f2d75c50fe3
Author: Kristjan SCHMIDT <35647502+KristjanESPERANTO@users.noreply.github.com>
Date:   Mon Sep 27 13:41:05 2021 +0200

    Update Esperanto Translation /translations/core/eo.po

commit 10e31a0bb5088fb6dec7dad8895969aabd60e506
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 28 02:31:35 2021 +0300

    Update Finnish translation

    This is just S3_1 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ba77fc4f68ec69f4011fb563e8a917a6b48985f9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 18 05:22:22 2021 +0300

    Accept mandatory capabilities for packet variant

    Patch by MÃ¡ximo CastaÃ±eda

    See hrm Bug #829304

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f692013e4f7789e0f6304a549213c8f3d640a312
Author: Kristjan Esperanto <35647502+KristjanESPERANTO@users.noreply.github.com>
Date:   Mon Sep 27 11:50:01 2021 +0200

    Update eo.po

commit 11939e86590d5cff5058340e96fabada0a06dabc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 21 23:30:48 2021 +0300

    helpdata.txt: Make clear that traderoute's initial income depends on ruleset

    Reported by ihnatus

    See osdn #42652

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f91d9cc409bcca5a62c0525c279dd67204e3ed6c
Author: Kristjan Esperanto <35647502+KristjanESPERANTO@users.noreply.github.com>
Date:   Mon Sep 27 11:04:13 2021 +0200

    Update eo.po

commit fa20a02cde67be662ce7686cbed34a5af5055e23
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 21 03:43:16 2021 +0300

    assyria.svg: Update to inkscape 1.0.2 format

    See osdn #42888

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 419082c8d6e71803db89c038ef6f18b05344d43a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 16 05:48:53 2021 +0300

    Macrofy client_player()

    See osdn #42865

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 590662b48f45082e54c9dc2d8fc50fb64a23ae33
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 10 16:29:16 2021 +0300

    Improve coding style of r*.ruleset nation rulesets

    See osdn #42845

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 77b1a7f51585c8ed3c5820eadc452386e41681ea
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 19 08:23:23 2021 +0300

    AI: Drop unused military_advisor_choose_tech()

    It was never really implemented, and would not suit current design.

    See osdn #42227

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1593382a0ea8e5ece78d6dc6bfe28e6201b49969
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 20 05:29:44 2021 +0300

    assam.svg: Update to inkscape 1.0.2 format

    See osdn #42887

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 598996880df19c5deec5222a043d345e742a2d7a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 23 04:57:23 2021 +0300

    CI: Enable msys2 build

    Adjust required dlls in msys2 CI build to match environment.

    See osdn #42897

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 211ea66d16964a7fed639ed38f259970bd96bea5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 21 04:11:35 2021 +0300

    Add CityTile value Worked

    Requested by Alina L.

    See hrm Feature #919184

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 87094be33067e8d09e8a43396680119041c3f6f5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 25 17:37:57 2021 +0300

    nations/fi.po: Update version information

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bbf29156267e060cb76e37904621b507d185b066
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 25 17:21:38 2021 +0300

    fi.po: Replace gna.org email with freelists.org one

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 533488f976d306d710c75c64ef3949052d10c7c5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 21 04:15:36 2021 +0300

    Update to crosser-2.1

    See osdn #42067

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aa7fa1edae4db023de7f39212fb2579151ba72f0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 19 09:35:48 2021 +0300

    ashanti.svg: Update to inkscape 1.0.2 format

    See osdn #42882

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 69e3fef34aa4ffb32e2b24a8eed2ab675ca8be09
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 22 01:26:36 2021 +0300

    CI: Update setup-msys2 to version 2.4.2

    See osdn #42892

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ef455140d2bcf44932fbb9bc42358cbb08a58bb3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 16 03:28:13 2021 +0300

    Rulesave: Save comment about research base_tech_cost settings

    See osdn #42863

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 75d66a5420c0307a32037dc468da2c3a02b5ae80
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 24 19:28:43 2021 +0300

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c9c477d51ba271dbbd18b5fd86b21fee2951fb3c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 20 01:06:48 2021 +0300

    debug.m4: Disable array-bounds warnings when -Werror present

    See osdn #42885

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7e4152bff71e312066568b706b331ac8e8b7e431
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 18 15:12:32 2021 +0300

    aram.svg: Update to inkscape 1.0.2 format

    See osdn #42876

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c862c748ac4cf79b63be9dede98929a92e5af8c3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 18 04:29:21 2021 +0300

    req_text_insert(): Add missing break; for VUT_CITYTILE case

    See osdn #42872

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1a71960eaf58936ce8128ae77f224651d5fd6605
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 18 03:15:49 2021 +0300

    Send city owner's, not caravan owner's, info when caravan helps finish wonder

    Reported by Ilkka Virta

    See hrm Feature #908746

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9a65e6f8485898f1ec7935b6ae6f6aeffdd36506
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 8 02:18:59 2021 +0300

    Improve coding style of q*.ruleset nation rulesets

    See osdn #42832

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a45c6c3e9eb7cf7b2f60d3fc7f8c20c525348724
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 17 22:18:35 2021 +0300

    apache.svg: Update to inkscape 1.0.2 format

    See osdn #42871

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3d0d190d516b5a398b3959a08f7b8323a4d17698
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 17 00:42:45 2021 +0300

    fc_cmdhelp.c: Drop "version.h" include

    See osdn #42868

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ec4f8eefb105431fc3591823a782168ac4735d5f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 16 04:08:45 2021 +0300

    nations.ruleset: Set case of embedded_nations entries to match nation name

    The comparison is case insensitive so the all-lowercase entries have worked,
    but they are confusing as they appear different from nation rule_names
    from individual nations and more like file name.

    Base on report by ddeanbrown

    See osdn #42695

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e34fce1d6854e45058194d818c8604bb93c94742
Author: dftec <dftec.es@gmail.com>
Date:   Sat Aug 14 00:45:42 2021 +0200

    civ2civ3: Adjust which units can build bases

    - All military infantry units can build fortresses.
      All worker units can build airbases.

    - The working time required to build a base is 2 times
      the movement cost of the terrain.

    See osdn #42709

commit e248e042f74cacf24713326a86f1c58ccc72506b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 16 20:02:14 2021 +0300

    antigua_and_barbuda.svg: Update to inkscape 1.0.2 format

    See osdn #42870

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cc4dbd31fd7d89e094351715d84997169c4a6553
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 21 00:03:39 2021 +0300

    Comment typofix: "it's" -> "its"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8f59f748986429af7d8ac227aa0b5c48af589240
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 15 02:32:32 2021 +0300

    Add support for TerrainAlter requirement value CanBase

    See osdn #42849

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ddd9a1b3d8c1ecbe7a67fe1dde255f6e58bb4cc8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 16 15:53:09 2021 +0300

    italy.sav: Wrap map from the correct point

    In the italy scanario leftmost bulge of Italy was placed left of map origo,
    to the right side of the map. The map is not a wrapping one, so the parts
    were not connected at all.

    Scenario file rework by Jacob Nevins

    See hrm Bug #691812

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d198348c9d5702146ec43b0f0ee4f6618ca22c88
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 15 16:48:59 2021 +0300

    antarctica_alt.svg: Update to inkscape 1.0.2 format

    See osdn #42861

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 165561c83b5686156b325efd6148e4f9273f95e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 16 05:23:07 2021 +0300

    features.m4: Suggest installing lua-5.4, not 5.3, when it's not available

    See osdn #42864

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7ce1ea8411386bfc4e2c336de084d6593a152145
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 10 21:56:36 2021 +0300

    Rulesave: Save comment about research tech_cost_style settings

    See osdn #42853

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0bf9956055711c6b13a3118ab9320803eaac2ee8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 12 12:19:31 2021 +0300

    Set attribute __format__(__printf__ ...) for do_log_deprecation()

    See osdn #42841

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cc5339571b0a85e0c316b5fae381a5c60bebd2c0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 13 16:10:29 2021 +0300

    animals.svg: Update to inkscape 1.0.2 format

    See osdn #42858

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 08c059acf47448177f04347584e102a70a48bc38
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 8 07:01:14 2021 +0300

    Msys2 Makefile: Handle icu version with a single variable

    See osdn: #42835

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e19a7e18d8d50cda056c0243aa0bf4c38ff20642
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 5 11:22:32 2021 +0300

    Improve coding style of p*.ruleset nation rulesets

    See osdn #42790

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 74f6f523e2ec2bb152226ce056f93cb39a1801a4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 11 07:22:25 2021 +0300

    Rulesave: Save extra.buildable when ever it has nondefault value

    Reported by ddeanbrown

    See osdn #42848

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4506c65e2533408b36ac9138bfa66d08e41b48a1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 12 12:08:29 2021 +0300

    andorra.svg: Update to inkscape 1.0.2 format

    See osdn #42854

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0ce1c0ee39f4cfbe652b1c44c493722ccb960bd1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 11 09:22:17 2021 +0300

    README: Document freeciv-tickets mailing list

    See osdn #42491

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 30efbcf4fc6b1cb9c94823b2652c0a74518d7ae8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 17 05:38:03 2021 +0300

    Bump version number to 3.1.90.5-dev

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 441b3c22e3391775993c56cc6731a3bffc59b895
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 15 16:45:17 2021 +0300

    Autosettlers: Pass action, and not activity, to action_speculate_unit_on_tile()

    See osdn #42791

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 95435b8f4b7ca3f62c20db077ec87d29a6af2aae
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 10 16:09:07 2021 +0300

    almohad.svg: Update to inkscape 1.0.2 format

    See osdn #42846

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5025d9651428c3639202dd9e492e21ff5ce0fd13
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 16 18:34:17 2021 +0300

    Update Finnish translation of the ruledit domain

    This is just S3_1 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bb2ec71663a59e3ae9c1079e8bfbbbe970a56d4f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 7 02:33:30 2021 +0300

    Rulesave: Save comment about borders radius_sq_city_permanent settings

    See osdn #42829

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ef669a38000125cae7be4ab86b657df6448de5b8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 10 16:55:57 2021 +0300

    README.effects: Document TerrainAlter requirement values

    See osdn #42844

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 957cdbacce15b2ec2c69b69a13a2b87554405bb2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 9 16:47:47 2021 +0300

    Set attribute __format__(__printf__ ...) for bugreport_request()

    See osdn #42840

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b50b33de3bc503ac879dc92ce14e61e365aa6e86
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 8 19:08:45 2021 +0300

    aleut.svg: Update to inkscape 1.0.2 format

    See osdn #42838

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b8920b0c85d5374f25991807e60a6785305abfce
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 8 04:18:23 2021 +0300

    copyright.sh: Drop obsolete gtkpixcomm and pixcomm checks

    See osdn #42579

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 624608b834eaf61ba057a0321d262fbe9fb42f81
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 10 16:34:43 2021 +0300

    Sanity check space part genus

    Requested by Alexandro Ignatiev

    See hrm Feature #824590

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 529a9ccc6640abd54f1892387662c662a6d0563c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 1 17:55:23 2021 +0300

    Improve coding style of o*.ruleset nation rulesets

    See osdn #42783

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9724e992348c942dc152465ea9606f5e97789196
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 10 07:34:44 2021 +0300

    INSTALL: Remove extraneous word

    See osdn #42842

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 083073c1421392cc7a4cb039d9ce1ec16166bdf2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 8 02:22:02 2021 +0300

    albania.svg: Update to inkscape 1.0.2 format

    See osdn #42833

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a566e4200ff6d3a527f1fed173f97f914d4e427d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 9 16:44:07 2021 +0300

    remove-potcdate.sin: Update from gettext-0.21

    See osdn #42843

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 287d3f4f84db146d1236fb7140a4f859862cfcd4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 8 06:50:38 2021 +0300

    CI: Disable msys2 build

    Temporarily disable msys2 build in CI as there's no suitable setup-msys2
    version available at the moment.

    See osdn #42343

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9ecae5f48583c57a134e423a18d0135b774cd146
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 5 07:33:57 2021 +0300

    Update msys2 environment to 210831 level

    - Based on upstream snapshot 20210604

    See osdn #42343

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b42a889c25b84749e9480a3527dee8c02161fed0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 9 17:25:05 2021 +0300

    get_potential_improvement_bonus(): Consider multipliers

    See osdn #42836

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c51ce91b2e8f8083b60b6cc1afc500a105bab386
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 12 23:48:39 2021 +0300

    Rulesave: Save comment about action diplchance_initial_odds settings

    See osdn #42617

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 899627c78593f688affd71bf0927409f556bddc7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 6 05:00:27 2021 +0300

    akwe.svg: Update to inkscape 1.0.2 format

    See osdn #42796

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7eb17139c9fc852ff27962155ee13309d6fd63ab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 5 07:01:42 2021 +0300

    gtk4 fcmp: Don't claim there to be standard gtk command-line options

    See osdn #42415

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f39b510183d95b7084311e7e36ef955f44a2324a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 8 04:38:17 2021 +0300

    Refresh gnulib-common.m4 from gnulib upstream

    This is a comment update only. Serial number is not increased.

    See osdn #42834

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a333dd2accc3566e613b6f694bbddb7987807b69
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Wed Sep 8 03:50:46 2021 +0300

    AI: don't consider caravan bonus doubled when it is not

    See osdn #42641

commit aedbd287ecef405c89b8aa02d0bcbbb8cc9c892a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 5 05:34:21 2021 +0300

    ainu.svg: Update to inkscape 1.0.2 format

    See osdn #42788

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9b81e4945fde89cb6b242c4f4b82b13de882574a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 31 18:47:07 2021 +0300

    Improve coding style of n*.ruleset nation rulesets

    See osdn #42780

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 134efccee508e7e5451feb89e941785f1ca7b15c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 5 07:32:44 2021 +0300

    Replace uses of deprecated 'which' command with 'command -v'

    See osdn #42769

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a54e22e3bc1c7fdb410fa116652284f728b0042f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 7 07:20:04 2021 +0300

    ruledit/.gitignore: Add meta_edit_impr.cpp and meta_tab_multiplier.cpp

    See osdn #42557

    Reported anonymously

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit de64f0ad59d261ee4a6b843da9572cdd5b6562ef
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 4 07:47:13 2021 +0300

    afghanistan.svg: Update to inkscape 1.0.2 format

    See osdn #42787

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 789df36e84722db7f4bacfcf2cac61484c98c733
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 5 08:17:53 2021 +0300

    Msys2: Fix 'make clean' to remove Qt installer

    See osdn #42789

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c0e08b9c6a3d2fbe3aa3e1e6e7534bb9247c04a3
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Sat Jul 24 00:58:29 2021 +0300

    AI: Manage caravans that only can enter marketplaces

    See osdn #42518

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit 6c5d0cc1da2beed4a46b9c06fcf23f0750a72bcc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 16 14:21:27 2021 +0300

    Rulesave: Save comment about action ui_name settings

    See osdn #42538

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d479626b8d3dc667e5c21ab73799e39d8b55cb5b
Author: dftec <dftec.es@gmail.com>
Date:   Sun Aug 15 05:28:30 2021 +0200

    civ2civ3: Add effects for culture

    - The culture accumulated by each city increases its resistance
      in diplomatic fights against enemy agents (up to +50%).

    - The culture accumulated by your nation increases the cost to
      bribe your units or incite your cities (up to +500%).

    - Governments no longer get immunity against bribe or incite actions.
      Cities with a Courthouse or a Palace are now immune to incite actions.

    - Increased the amount of culture granted by achievements
      (from 100 to 1000 in most cases), and the lead relative to
      second best player needed for victory (from 33 to 100%).

    See osdn #42712

commit 11a0705bad87426896a8a778045bb2525a77dc17
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 2 05:26:48 2021 +0300

    acadia.svg: Update to inkscape 1.0.2 format

    See osdn #42785

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9dbbccc7e5a1d54f5ad7c7b1f5f4aadfba6756ba
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 31 19:19:57 2021 +0300

    sdl2.m4: Port upstream serial 2 changes

    See osdn #42779

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0edf036116b1dea22522331fb4a6e33e0ef46b99
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 11 03:51:01 2021 +0300

    Improve coding style of m*.ruleset nation rulesets

    See osdn #42610

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 026c26a1150a4cb1f152c2380057d2a8c1b873b6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 5 04:03:17 2021 +0300

    Comment typofix: "Widget's List" -> "widgets list"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5214c3646a9081b41489381aace1cc9f2347cc56
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 31 03:51:04 2021 +0300

    AI: Consider buildingless cities worth conquering

    See osdn #42778

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b3a896bb385738a949cdb8ca19fdbae164a38fd5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 1 03:57:48 2021 +0300

    abkhazia.svg: Update to inkscape 1.0.2 format

    See osdn #42781

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 128f43012d5bc7530964de21d57a4ba81414f846
Author: dftec <dftec.es@gmail.com>
Date:   Fri Aug 13 02:09:54 2021 +0200

    civ2civ3: Improve the script that adds labels to the map.

    - Prevent "Great Barrier Reef" and "Great Blue Hole" from appearing
      near Glaciers:
      Now "Glacier Bay" is Ocean adjacent to Glacier
      while "Ice Shelf" is Glacier adjacent to Ocean

    - Swap "Mud Volcanoes" (now on Hills) with "Valley of Geysers" (now on Plains),
      that makes more sense visually.

    - Reduce a bit the randomness, making labels more dependant on
      the actual landscape:
      Deep Ocean can be "Deep Trench" if fully surrounded by Deep Oceans,
      else "Thermal Vent"
      Forest can be "Sequoia Forest" if fully surrounded by Forests,
      else "Millenary Trees"

    - Add some more comments.

    See osdn #42708

commit 1084c36efb53bedb8d71aabefe69f011f314dda1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 2 06:09:23 2021 +0300

    Comment typofix: "becouse" -> "because", and some grammar

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6af66036a9ab334c4bece8d2c733a3272ed799a2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 13 00:19:51 2021 +0300

    Log game ending reason

    Show game ending reason (victory type) also in server console,
    so that one running server-only autogame get to know it.

    See osdn #42618

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 44fdb44fb565d630f0bef9f7c64ba03f15d97567
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Aug 25 07:24:49 2021 +0300

    Update gnulib-common to serial 67 from gnulib upstream

    See osdn #42766

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3ac2295d27800f7027c0d548dbd5199a90d3b8d1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 24 22:52:33 2021 +0300

    Improve coding style of l*.ruleset nation rulesets

    See osdn #42565

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e63a9ac41ef08ff45fab517c08636e22fb998325
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 12 08:25:58 2021 +0300

    Drop obsolete base_deps_iterate

    See osdn #42536

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 05a5ef5199f18d417a56ec2b060794fd970de948
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 26 02:49:47 2021 +0300

    zambia.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a106e487bc5d2359377b9f5ab8c471fe6a31e9b5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Aug 25 06:50:32 2021 +0300

    civ1: Remove TODO comments about embarking from transport to transport

    It has been confirmed to be legal by meynaf

    See osdn #42419

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4f3ab7622fd6c85f744ab7adf18aa30793c5d066
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 16 08:26:58 2021 +0300

    Ruledit: Add enabler count to stats

    See osdn #42176

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ec0734d87cf6e0fc19e4ada7628debcee585c1f1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Aug 18 04:16:50 2021 +0300

    wallonia.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42718

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 804e0d07054bbad309d95089e378416c6fab4d84
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 8 16:12:39 2021 +0300

    Msys2: Add set of dlls needed by Qt6-client

    See osdn #42602

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7d1e8790375e8d3fe717637cebcaf3eec9cdbffc
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Aug 11 05:52:09 2021 +0200

    Auto attack before the unit is selected.

    Implement fast auto attack like in Freeciv-web.

    (The web version was) requested by Lexxie

    See osdn #42719

commit 3e624963da5377afa2f44694804db2b2efa47706
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Aug 25 03:31:30 2021 +0300

    wales.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42765

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d24caae4ca31b50b218ea750091c42983771c571
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 26 13:16:21 2021 +0300

    is_terrain_needed(): Check if terrain is climate change target

    See osdn #42577

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 862f51ab2aef2ca0871d4e9dc3c1afce625e33d2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 17 12:00:29 2021 +0300

    united_nations.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42636

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a25ee11d78a7469c94ec93d301117e3fd7052c62
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 25 05:04:28 2021 +0300

    Consistently disable help links to space parts when spacerace disabled

    Reported by Jacob Nevins

    See hrm Bug #853869

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 14a6c0764d6804d238ef1b966b6c457851b65000
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 17 00:29:59 2021 +0300

    Meson: Generate langstat_core.txt

    See osdn #42543

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e4049281c2ac12a7f7d22d0a72be0002a8f87b6e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 13 01:23:09 2021 +0300

    tunisia.svg: Shrink page size to image size

    See osdn #42619

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cea9cc6dd02612f1d3be178bf97600611e58945f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 16 14:03:10 2021 +0300

    Tex: Free data of the messages received by worker thread

    See osdn #42462

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 937589d26b86ae64e0491900fdaf01e01b6a4ad8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 8 15:41:18 2021 +0300

    gtk: Drop unused variable 'total' from city_dialog_update_improvement_list()

    See osdn #42698

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 82726139d2754951a62886741fe2c3a3682f80fd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 9 07:00:05 2021 +0300

    winsock2.m4: Remove false comment

    See osdn #42488

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b4cf61fc1a3c700d0eff41c87c87db751a5b9606
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 12 06:21:07 2021 +0300

    tibet.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42615

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ade537b86ce6919144fac52a4d83aec6d100a913
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 8 12:51:59 2021 +0300

    Autosettlers: Evaluate all dependency extras

    See osdn #42492

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 62ed22545de7ba6d4cf00cac150d8c16574c48cd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jul 25 18:39:46 2021 +0200

    Ruleset actor consuming always for "Found City".

    This allows a ruleset where you get a unit that can found cities at the
    start of the game but are unable to build a city founding unit. (Think of a
    GamleLoss unbuildable "King" unit as the only city founder.)

    See hrm Feature #931180

commit 0c28c621a0eaea8145c21594caa353ba0370ba49
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jul 23 00:28:16 2021 +0200

    Can't embark to transport when not embarking.

    A move to a tile can't be legal because it is embarking to a transport when
    no embarking will happen.

    See hrm Bug #931099

commit 426051a36db372c13c3b9ff9059e260970d78287
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jul 22 21:25:57 2021 +0200

    sandbox: complex transport entry rules demo.

    See hrm Feature #931098

commit 8b29dd9ba281a2cbd933d59eb9a8e88ee03f3a10
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jul 19 08:31:53 2021 +0200

    aiferry_gobyboat(): don't hard code action ID.

    Look up board actions by action result rather than hard coding the action
    ID.

    See osdn #42649

commit 232da8109ae66500a4fddb2b1179d79e122b4e15
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jul 19 08:44:55 2021 +0200

    Make more complex transport entry rules possible.

    By having more than one action that results in a unit entering another unit
    it becomes possible to have more complex rules. An example I have been
    talking about since 2019 is to use one fake generalized variant to detect
    transport to transport transfers and then charge a higher move cost.

    Fake generalize the actions "Transport Load" and "Transport Board" so there
    are three of each. Add the new fake generalized "Transport Embark 4" as a
    new variant of embark.

    3.2 only for now as Lexxie is the only ruleset author to request support for
    detecting transport to transport transfer when asked if it was needed.

    See osdn #42645

commit 3b9ea2ce90e31f3bbfacaf07f23fb62911fd5d3b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jul 19 08:36:58 2021 +0200

    Qt client: support Transport Embark 2 and 3.

    The Qt client still needs a function for each action in its action selection
    dialog. Add support for "Transport Embark 2" and "Transport Embark 3".

    See osdn #42644

commit 5995f1056786152e5283a227fdab487b100ac491
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jul 19 08:18:33 2021 +0200

    request_unit_load(): prepare for multiple Board.

    Simplify request_unit_load() by using the code that picks an embark action
    by action result to handle board too. At the moment "Transport Board" is the
    only action with that result.

    See osdn #42642

commit 9815ddcbb481c64dbc5e925a2928d1856402240e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jul 13 13:27:39 2021 +0200

    Mark MinMoveFrags's translation comments.

    Add TRANS: prefix to reqtext translation comments about MinMoveFrags.

    See osdn #42623

commit ae5dfd5ed1c852a93f4bfc9e1074c15eb837d91b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jul 13 12:09:56 2021 +0200

    SDL2 client: implement action_selection_refresh()

    See osdn #42622

commit d420f4c8c981259dcc93e7dc7f36a7af8c1d23fe
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jul 13 00:28:32 2021 +0200

    act sel dlg: respect target tile switch.

    Respect that the action_decision_tile has changed. This justifies refreshing
    an open action selection dialog and giving a previously ignored unit
    priority in the unit focus queue again.

    Reported by Lexxie

    See osdn #42621

commit e4f6620549ea1b81bf7240c9767214eeb5b5ea66
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 16 08:50:13 2021 +0300

    gtk3x: Stop listing "standard gtk-options" in '-- --help'

    See osdn #42537

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d26ccd59412196b76a998055d46ea7ebfd2944c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 10 19:11:46 2021 +0300

    taiwan.svg: Shrink page size to image size

    See osdn #42608

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8a5405c18f3af19d3e4823b8d87d5ac8b5327661
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 11 04:53:34 2021 +0300

    Rulesave: Save comment about incite_cost settings

    See osdn #42508

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9607fc2f1de8d62fd92bd82906b9a10145551398
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 10 13:03:24 2021 +0300

    Avoid namespace conflicts with tinycthread

    Rename tinycthread source files, and resulting library,
    to make sure we use freeciv copy of those instead of one
    from crosser environment.

    See osdn #42607

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bcb33d7a608d346d5124eb4e7517e05081553296
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 9 07:30:17 2021 +0300

    switzerland.svg: Shrink page size to image size

    See osdn #42604

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5fadaca1802f345d64f096c83aeeac82b9f2fc84
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 16 09:45:28 2021 +0300

    Add .modpack files to tarball

    See osdn #42632

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cb9faa4f3cd9bb978dd3e44b014a060ddd0ce137
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 9 04:41:57 2021 +0300

    Add .modpack files for supplied rulesets

    See osdn #42493

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eb6e77c2da2396adb75874ad4982b8d526a08e40
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jul 13 10:33:15 2021 +0200

    Allow more than one kind of background request.

    The C clients currently use the action selection background request to
    refresh the action selection dialog on new information. Freeciv-web uses it
    to implement fast auto attack.

    Make it possible to have more than one background request kind by changing
    request kind to a number. The foreground request that should disturb the
    player gets the number 0. The others are client defined background request
    numbers. Give action selection dialog refresh the number 1 in the bundled C
    clients.

    See osdn #42620

commit 32b8977e27105121928407e036f416934972a476
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 11 02:35:35 2021 +0300

    begin_lanserver_scan(): Call scan->error_func() when necessary

    Handling of several error situations lacked the call.

    See osdn #42392

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 13b7a38bb50f5752592c7d256507dfd5a3d0254f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jul 13 13:14:29 2021 +0200

    Comment fact fix

commit 2ef96ea6ada38ab8301707b0c1f597abc014a5b7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 8 16:19:25 2021 +0300

    swaziland.svg: Shrink page size to image size

    See osdn #42603

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4938f48fea03eed14df5fb1346c8ff3cfe2d6022
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 16 06:20:55 2021 +0300

    Improve coding style of k*.ruleset nation rulesets

    See osdn #42533

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c1b0c270f05f0273a0aa57ba09262d84e845e605
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 16 07:09:52 2021 +0300

    Correct ai_timer_init() function header

    See osdn #42455

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cde443726da120f0e518c7028743d2a08cf8f9db
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 2 16:53:10 2021 +0300

    soviet.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42596

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c8482ac7c96e910e20666a2a5da02befcca598a6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 11 12:03:14 2021 +0300

    .gitignores: Drop entries 'civserver' and 'civclient'

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4d75fb563e0c5cc544467434e2906e827f3ad12c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 11 05:11:12 2021 +0300

    comments.c: Log entry that cannot be read from the comments file

    See osdn #42539

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d68fc9cdb99e25ac4ce28204d9a307d7912306e5
Author: dftec <dftec.es@gmail.com>
Date:   Tue Jun 29 22:52:54 2021 +0200

    Improve the readme of civ2civ3:

    - Reserve the use of capital letters to words used as rule_names:
      units, techs, terrains, resources, buildings, governments,
      and some key game concepts like Food/Trade/Production, Science/Gold/Luxury...

    - Use "Production" instead of "Shields" for city output (as in the city UI),
      or for production of citizens (like Trade, Luxury, Science and Gold),
      that will be multiplied by buildings.

    - Keep using "shields" for upkeep of units, use "coins" instead of "Gold"
      for upkeep of units or buildings, and use "bulbs" instead of "Science"
      for upkeep of techs.

    - Use "upkeep in Food", instead of "Food upkeep".

    - Use "ground units" when they include all Land unit classes (big and small).
      Use "naval units" or "boats" when they include both Sea and Trireme.

    - Use "unhappiness caused by military units", or simply war unhappiness,
      instead of Military Unhappiness.

    - Clarify when wonders affect every city of every player, or only the
      cities of the owner.

    - Use civ2 as reference in tables. References to classic ruleset changed
      to classic/civ2 (when they are equal).

    - Remove trail spaces.

    - Re-wrap the altered text with linux command: fold -s -w 72.
    Then replace the final space " \n" by a double initial space "\n  ".

    See osdn #42558

commit 3371dbfabdd60f42cbb9c87fb61fdc9f5cd9467b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 30 07:13:34 2021 +0300

    slovenia.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42590

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e06291f8cc9a6e24da3288b1778b49769309317c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 10 06:02:59 2021 +0300

    gtk: Drop empty create_help_page()

    See osdn #42504

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 32cf88b7794baff4427d005d4acc753400625a7e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 9 08:44:36 2021 +0300

    AI: Consider immediately spent gold as part of income in dai_calc_data()

    See osdn #42193

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f8c72cd0fd5c3181aad65a723932091564fac2f5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 26 12:56:37 2021 +0300

    silesia.svg: Shrink page size to image size

    See osdn #42576

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5525c97ffaad1b5fa8fa49ea4cc38393c0ccee65
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 16 15:48:49 2021 +0300

    Msys2 Makefile.meson: Package gtk3.22-client to installer

    The installer package contains only Freeciv gtk3.22-client, none of
    the dependencies. Thus it's not a working one in this initial version.

    See osdn #42540

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cbb3ac99d0df2b36d5153cf8a1065decfe032150
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 10 05:14:59 2021 +0300

    Rename unit cache max_defense_mp_pct as max_defense_mp_bonus_pct

    See hrm Feature #922840

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 92cf766e926d3f2767ee341fc6f8933c80d557dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 25 11:53:04 2021 +0300

    scottishgaelic.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42570

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b3ac633befa215514040aeecbc3e81125c025ccb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 5 17:59:23 2021 +0300

    Stop need_war_player_hlp() from crashing

    This is an emergency fix to just stop the crashing.

    See osdn #42597

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cedd5f7a5af8a10445f01b09bd91794e0126101d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jul 2 10:02:30 2021 +0200

    JSON: avoid integer underflow in dir in orders.

    Reported by Lexxie

    See osdn #42595

commit 91c7b0deb6db7af4e11bf5a446521aa3b58bd6e2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 10 04:59:08 2021 +0300

    Make identity_number an int

    It was a short, meaning that it wrapped at 65k despite
    max number of identity numbers defined to be 250000.

    Reported by Markus Wiesecke

    See hrm Bug #927510

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 255c6c962647ffb523c720279fb473edb0cd0c3c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 8 04:18:00 2021 +0300

    Improve coding style of j*.ruleset nation rulesets

    See osdn #42490

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7945d1bba34c0efab8460602c34afc0d8306d457
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 24 23:43:15 2021 +0300

    CI: Build Qt6 version again in MacOS

    See osdn #42249

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 475fe0f7e72ae149fdcd011979c1aa71436388fd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 24 23:51:03 2021 +0300

    scotland.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42566

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ae02fc49f024cdd16e356e91454e7c0b8cbd98ad
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Mon Jun 7 00:04:55 2021 +0300

    AI: remove immediate_destination() from dai_unit_goto_constrained()

    Unnecessary check that sometimes freezed fueled ferries.

    See osdn #41970

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit 4b20a7ca899a77edce7f8ad50796f9742be4bc28
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 7 19:37:40 2021 +0300

    Correct spaceship_init() function header

    It used to imply that capital-capture cancellation of spaceship
    is not implemented.

    See osdn #42460

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d92e4622bb57b82b3451b6f009c6fd5692c5ab65
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 28 22:43:56 2021 +0200

    sandbox: demonstrate "Transport Load".

    See osdn #42587

commit 64a207be83a04f3467c955124f085add37618749
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 29 06:07:00 2021 +0300

    civ1: Make comment about traderoute Cancel behavior non-TODO

    Update to comment after we got confirmation that the current
    behavior is correct.

    Civ1 testing by meynaf

    See osdn #42318

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 345e77a3f4b02c21dfe22f68e6e16b20a11858eb
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 28 22:36:13 2021 +0200

    New action "Transport Load"

    Thanks to Lexxie for reminding me of this.

    See hrm Feature #848668

commit 2a2262f0ac69ec4285af651beb4a7b52b7efd5bf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 24 15:17:49 2021 +0300

    sapmi.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42564

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1ece005f53faff0c6c9aea31dfbad23486212037
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 3 02:57:19 2021 +0300

    Enable 1.0/2.0 zoom functionality by default

    Make only arbitrary zoom levels depend on configure time option to
    enable experimental zoom support.

    See osdn #42457

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a53773bf84bd86ce181ba6f231900026ec1f5d9b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 27 11:28:26 2021 +0200

    Map unit move orders to (dis/)embark actions.

    Compatibility for move orders that don't specify an action. Most orders sent
    from the client are like this until hrm Feature #850768 is done.

    Making the embark actions rare_pop_up made the pop up never come up as the
    rare_pop_up logic interprets embark as a legal regular move that blocks a
    rare pop up. This made embaring with goto impossible.

    Makes paths through ships work again.

    Makes it possible to disembark with goto.

    Reported by Lexxie
    Reported by ihnatus
    Reported by Chippo Elder

    See osdn #42581
    See osdn #41824
    See hrm Bug #854983

commit 77c441272dbf6e0d548b533a281a4d04f645674f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 15 09:47:16 2021 +0300

    Makerules.mk: Make moc rule to respect automake's silent mode

    See osdn #42458

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2a6560a1499d1361a5d5439a0f138df87cd8ada0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 13 14:45:39 2021 +0300

    is_utype_needed(): Check if unit is animal for some terrain

    See osdn #42505

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5c76ecb94ea83f1394b35651bd827089a07a4268
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 22 06:02:33 2021 +0300

    rwanda.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42559

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 71dd180c1c59c02b74ba73628ffec11332ea5d41
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 28 02:07:43 2021 +0300

    server_sniff_all_input: Log fc_select() errors

    See osdn #42403

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7e4ec08a44faa2d155c5744a378ff3268a690682
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 20 08:00:16 2021 +0300

    Msys2: Add qt6-installer and ruledit-installer-qt6 targets

    See osdn #42556

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a85af13f0eb4dec78e29f7f40c566241876cfa4d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 24 09:44:20 2021 +0200

    Add the new DiplRelUnitAnyOther requirement type.

    See osdn #42563

commit cedd98808f30b65b37df1c531a3bdd5cc99753bf
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Jun 19 14:00:48 2021 +0200

    Add the new requirement type DiplRelUnitAny.

    Check if any unit at the tile has the specified diplomatic relationship.
    Note that it says any - not each. It being true for one unit is enough.

    See osdn #42562

commit 5999e9c91fe597e3eea8f96d6df729a0bd00ea19
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 25 22:46:55 2021 +0300

    FAQ: Update latest stable version number to 2.6.5

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 24e0817287c4b64ffbf438a45c3d0ca9f3c41503
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 19 10:10:54 2021 +0300

    prussia.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42550

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a3b78ad822b6c1953fdd90191d1d48e25a855b81
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 8 06:19:26 2021 +0300

    Amplio2: Add extra animal sprites

    Art by Bard
    Patch by frank e and myself

    See hrm Feature #721407

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 09fc5acdc268266e00d14c71c716789b4aa05231
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 11 03:22:22 2021 +0300

    is_terrain_needed(): Check if another terrain has the terrain as some _result

    See osdn #42505

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 10d54665fe12f1718c9d7c3b2be8630c953242ec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 2 03:56:50 2021 +0300

    Improve coding style of i*.ruleset nation rulesets

    See osdn #42453

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 476ac17f4654257530505cd51e9aae96b870ce98
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 18 10:13:54 2021 +0300

    peru.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42546

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dbc049b01ab0f636b4cf0e48a2e468ae2882379a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 24 14:37:02 2021 +0300

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 512706c8c88b339516685182ff41a5338efba50f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Jun 19 09:47:52 2021 +0200

    webperimental: expel only inside your borders.

    Only allow "Expel Unit" if the target unit is standing on a tile owned by
    the actor player.

    See osdn #42554

commit 8d048f9cf809046c418182dceb76a79fa4a20052
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Jun 19 10:41:31 2021 +0200

    Remove the bombard needs war hard requirement.

    See osdn #42553

commit df7e95a3a8ca31bd87e0ea477dc7871c7a492e9b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Jun 19 10:39:33 2021 +0200

    Make can't bomb non war city hard req obligatory.

    The bombard actions can't bomb units in cities not owned by someone the
    actor player is at war with. Make this an obligatory hard requirement.

    See osdn #42552

commit 704b91df2137d8fd13a48f00199e15774d0caa9f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Jun 19 08:48:09 2021 +0200

    Need war on target tile owner explanation.

    Action not enabled explain when war on the tile owner is needed because of a
    DiplRelTileOther requirement in an action enabler's target requirements.

    See osdn #42551

commit 4fc73ac186a836b2b85420037b6c74b2075d080f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 14 13:32:39 2021 +0200

    Add utype_can_act_if_tgt_diplrel_tile_other().

    Action unit type cache for DiplRelTileOther.

    See osdn #42531

commit ef4e56681d58bc73ecb2bb95829c540a7eeb59ba
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 2 16:21:43 2021 +0300

    Tex: Improve coding style of texaiworld.c

    See osdn #42459

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aa89fea193e78198c6c8ebd5182cabaaa7060c6e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 16 23:42:02 2021 +0300

    pashtun.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42542

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aeeb93aa35b19c2a96be6835d74a34e958ad8947
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 8 04:26:22 2021 +0300

    Ruledit: Add support for improvement upkeep editing

    See osdn #42487

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0c11ee0fce5f7919bece0a8d6b54c2e48a331641
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 2 03:13:10 2021 +0300

    Rulesave: Save comment about civstyle.ransom_gold

    See osdn #42452

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e7f4714811c569702cfc2b7bee9c787c35a79f37
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 17 00:55:07 2021 +0300

    Meson: Pass '--from-code=UTF-8' to xgettext

    See osdn #42544

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c7ba93ef260bb6fba1d280d0f9f3cffb6f29a990
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 16 06:54:49 2021 +0300

    papua_newguinea.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42535

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4dfd870f157b4efdf6dcb238e9511f734e6f23b8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 2 02:08:14 2021 +0300

    modpack.[ch]: Add initial version

    See osdn #42445

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e56142cf8eeb8a0629e893a457cede680ab47d02
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 16 06:32:12 2021 +0300

    Msys2 Makefile.meson: Enable nls

    See osdn #42534

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 65b98e4cbd66a7e1abf69d3fba4bf649f9e7d787
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Sat Jun 19 23:28:50 2021 +0200

    Updated French translations

commit 6ef26dfded5d3b7404c0e8b6c5014e5c49569886
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 6 08:20:04 2021 +0300

    Ruledit: Rename "...rec_vec..." as "...req_vec..."

    That "req" refers to requirement.

    See osdn #42477

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 73dd826e43efb6415db8f409785babd0e6b39625
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 15 06:28:40 2021 +0300

    norway.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42530

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 36e52a6a081fcfb50c12012f7fe8da6f689151d6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 31 05:12:47 2021 +0300

    Add function header for i_am_tool()

    See osdn #42330

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eb2f723d540bc8424921f9e030fe987d4205cb42
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 14 06:45:59 2021 +0200

    Remove outdated "can't be expressed" comments.

    DiplRel and DiplRelTileOther are able to let enablers express the "must be
    at war with any cities on the target tile" requirements of bombard, attack
    and wipe actions.

    See osdn #42528

commit ec8d2f2e4af0ae4fbc81477d2ae6ec4efb403a2c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 14 05:47:27 2021 +0200

    Introduce fc_tristate_or().

    See osdn #42527

commit 1a2e02dd0e123167c664fc319450dcddd1357518
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 11 12:27:44 2021 +0200

    Replace OnDomesticTile with DiplRelTile.

    See osdn #42516

commit 40ffceff77c7c756eddd84e4c5e8369f4261c9d4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Jun 19 08:10:20 2021 +0200

    Update 3.1 test ruleset compat git revision...

    ...to a version containing osdn #42516 before committing osdn #42516 here.

commit a13aed21ed00aac21a6596a9a79a5de3de81b92e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 16 22:59:24 2021 +0300

    Documentation: Replace freenode network with Libera.Chat

    See osdn #42541

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a94e24b0598f87bca1b1b587272bb7e12a0ee574
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 6 05:09:58 2021 +0300

    Ruledit: Add support for adding and deleting effects

    See osdn #42478

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f73864f88f6896a233e50841c4a3b196476f8525
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 30 05:49:20 2021 +0300

    AI: Rename aiplayer.[ch] as daiplayer.[ch]

    See osdn #42205

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a1aa6148798b1b852093f29dc36b8caf14905d56
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 14 04:25:19 2021 +0300

    nigeria.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42526

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 554582b5fc63252778c0b3613a31ad477bb7981d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 9 17:04:49 2021 +0300

    savegame3.c: Fix loading multiresearch values

    - Fixed memory leak
    - Don't free() memory that should not be freed
    - Assign bulbs to correct techs when ruleset has changed

    See osdn #42499

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4a51afc35ac00602bbb15bef4944fe15f18c9325
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 29 08:25:28 2021 +0300

    freeciv-mp-gtk4: Quit cleanly

    See osdn #42412

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a81f42647990e77d90883c9071700d42a1d47da0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 13 10:03:58 2021 +0300

    newzealand.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42521

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6e618c71da17c97fd668689340fe5bf45098d121
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 8 05:05:19 2021 +0300

    meson-winbuild.sh: Enable nls

    See osdn #42486

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 321e95e275f35026839f9d26cde2aea4fbc99f0b
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Mon Jun 7 00:42:41 2021 +0300

    Restore AI ability to build Fighters (except paradropping ones)

    See HRM #658896

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit f660195248af20da2c6d92b30a316e9c67c21dc9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 3 03:23:23 2021 +0300

    is_universal_needed(): Display action name along "Action Enabler"

    When action enabler requires universal, list it with the action name,
    not just by generic "Action Enabler" string.

    See osdn #42464

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a932b40578873879ac152d0210120a39458604b4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 27 02:33:02 2021 +0300

    Improve coding style of h*.ruleset nation rulesets

    See osdn #42401

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0e5c6d4df10d8310e4aa5fdd9644802c22728ca9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 12 08:22:51 2021 +0300

    newfoundland.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42519

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 62a53e665d5fecfc13dd35270d1b87a586fc7ac6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 8 04:43:02 2021 +0300

    Meson: Link against libintl when needed

    See osdn #42485

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 23e3e1f46ef2220abf4d1d78aeb5fbc5f6a91849
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 13 10:40:51 2021 +0200

    Add the new DiplRelTileOther requirement type.

    Like DiplRelTile except that the second player is DiplRel's second player.

    See osdn #42522

commit 0e35547d9dd01461582d9987ec5da4d3036ac711
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 11 01:46:40 2021 +0300

    mozambique.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42507

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4c0247e7f0ebafc8644e6b1e3ef51ca5ae4fff4e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 25 05:50:38 2021 +0300

    Ruledit: Add unit attack and defense strength editing support

    See osdn #42386

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 33f95f9071ed250b92f39bca7e1535acf33a5267
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Mon Jun 14 17:26:15 2021 +0200

    Updated French translations (up to diplomatic relationship with tile owner)

commit 31f3e4b96ecefa75561ed60b01ac054153c1da2e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 27 01:20:49 2021 +0300

    Improve sernet.c coding style

    See osdn #42400

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 53abcbb8e884566e3b8a46bb616f3970cb58337f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 11 15:22:17 2021 +0300

    Update gnulib-common to serial 66 from gnulib upstream

    See osdn #42509

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 95270ed39bcb5c0cf4acef4924a9c37eef3e3bd3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 10 03:58:13 2021 +0300

    mexico.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42503

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 36f365aeb68ce4e69b53fb8d26d5bc713340bb93
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 3 05:37:32 2021 +0300

    gtk3x: Drop toplevel_key_release_handler()

    See osdn #42467

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c86391bef31b0173df82ba7f815d6f2038f2b2bb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 25 05:08:17 2021 +0300

    civ/2: Set savepalace disabled by default

    Reported by ihnatus

    See osdn #42266

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d946395bf42d353fadb39a57bcc4002f2c348ede
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 11 11:50:58 2021 +0200

    Add the new DiplRelTile requirement type.

    It is like the DiplRel requirement type except that it is about the owner of
    the tile.

    This allows rules like "a unit can only be expelled if it is on a tile owned
    by someone its owner has peace with".

    See osdn #42515

commit c7001b4257796eb33da553d75995bd39861e4736
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 11 11:07:35 2021 +0200

    are_requirements_contradictions(): DiplRel like.

    Prepare are_requirements_contradictions()'s DiplRel handling to be used by
    diplomatic status requirement types other than DiplRel.

    See osdn #42514

commit 24e188171654eeca3cdded67d8c05676effcde6b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 11 10:36:38 2021 +0200

    diplrel_found(): make usable for DiplRel like.

    Prepare diplrel_found() to be used by other diplomatic status requirement
    types than DiplRel.

    See osdn #42513

commit fc5984884e06c6fec089ecb63700f41a255c8e1f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 11 10:04:50 2021 +0200

    Metaknowledge for TerrainAlter.

    See osdn #42512

commit b49efd180ea6311977996f135de3300e3cfe3d09
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 11 09:09:39 2021 +0200

    README.actions: correct target kind.

    See osdn #42511

commit f1c04da9f2f4cd89e60c0cb8eb23997a90768bf3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 9 04:21:51 2021 +0300

    maori.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42496

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1d0d8b22a61ce5b4cf43b3a50d8691caad678def
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 7 18:49:25 2021 +0300

    Meson: Respect cross_inc_path when detecting headers

    See osdn #42484

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 79c611100c3345729167c0bde22a5f7be79c2215
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 29 07:56:01 2021 +0300

    gtk3x: Replace gtk_main_quit() with g_application_quit()

    See osdn #42414

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit afa6452ac20ccc51e83deefada4370f5fbd1fe38
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 25 03:58:39 2021 +0300

    Rulesave: Save comment about auto_attack settings

    See osdn #42385

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 87fc396247c2dc12575c87373f93dc72d513b754
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 8 04:02:17 2021 +0300

    malaysia.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42489

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit be84f756c4fe99d4fb02ec435e7df4e0e71ace08
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 7 18:27:01 2021 +0300

    Msys2: Add Makefile.meson to git

    Initial version supports just building gtk3.22-client.
    The file is not included in tarballs as it's still an
    early development version only.

    See osdn #42483

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit af44b3145b37bcdb7dcf5d21539ebe1b9b46f24b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 29 07:53:47 2021 +0300

    gtk3x: Avoid gdk_display_get_primary_monitor() call

    Use gdk_display_get_monitor() instead

    See osdn #42413

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9453ecb924cd579743a896f76f4a686944786ba4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 25 02:25:06 2021 +0300

    is_universal_needed(): Check if needed by clause requirements

    See osdn #42374

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7469026dfc7863d6bd47b2dfee7d350a193c9f4d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 8 21:23:20 2021 +0300

    CI: Update setup-msys2 to version 2.3.1

    See osdn #42495

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7b521bc984575e138cdd43523c109ce6cf4f9cbc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 7 04:48:12 2021 +0300

    macedonia.svg: Shrink page size to image size

    See osdn #42481

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3e678a111ad95b516c804c2c3513dafa323ac0b4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 3 03:05:20 2021 +0300

    ai.[ch]: Improve coding style

    See osdn #42456

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e1f049107323ba16ab03b8bc6453748889adec66
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 22 02:19:13 2021 +0300

    civ2civ3/sandbox: Enable one-time-bonus for traderoute establishment

    This is to work around AI limitation that it does not want to
    establish traderoutes when it gets no bonus.
    Set default tradeworldrelpct to 100 to make sure the bonus does
    not grow without limits for bigger maps.

    See osdn #42319

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4b4a29d1484f7dc100d04457bb9dd157c109764e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 6 02:30:23 2021 +0300

    fc_gitrev_gen.h.tmpl: Don't speak of "revision number" in a comment

    Git does not have revision numbers but commit id/hash

    See osdn #42461

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 80953f85633b8977124c5bc9abfc459120365c0d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 6 02:06:36 2021 +0300

    maasai.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42475

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 853fdec02e7cf53df376934a0b4779092df59446
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 30 09:20:32 2021 +0300

    md5.c: Replace http URL to upstream version control with https one

    See osdn #42421

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c361ab0d50129cc26cfe4b9e43dca1c4f073e283
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 7 00:03:11 2021 +0200

    Introduce the new action "Spy Escape".

    See osdn #41800

commit 2024c0f4a0877b1880546348422b067cbc691871
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 22 06:16:03 2021 +0300

    Improve coding style of g*.ruleset nation rulesets

    See osdn #42348

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 93882a4309b41f8a89b8ef53afab24f244e8d219
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 2 06:53:57 2021 +0300

    Meson: Set data paths from meson.build

    Replace FREECIV_DATA_PATH & friends #defines in meson_fc_config.h.in
    with #mesondefines.

    See osdn #42454

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1c5c1beb64a71867d726ef7d868c582ad0b070a8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 5 13:29:50 2021 +0300

    lithuania.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42472

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6c07e6c40c971be75befd76ab04417aea456793f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 30 03:42:55 2021 +0300

    sdl2: Add function headers for gui_tilespec.h inline functions

    See hrm Bug #909607

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4e9e186f29b571a424dee32cb5303ff987d7d8aa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 22 01:24:09 2021 +0300

    rssanity: Break out from obsoleted_by loop

    Server was left in an infinite loop when it detected
    an obsoleted_by loop.

    See osdn #42301

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 20b7d10d867a0e1d1f452e8a095fa27d85fbe199
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 5 08:32:45 2021 +0300

    Msys2 Makefile: Rename Qt targets specifically Qt5 ones

    See osdn #42427

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8e9f224366b7c78a1f966c4ff3aa97a617c53cfd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 8 05:21:55 2021 +0300

    messapian.ruleset: dos2unix

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ad1cde50d198cb6679b3397f62ad10c685503665
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 4 02:57:30 2021 +0300

    latvia.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42469

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f64b835c42994a881218209fd188966d3c023a5e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 29 06:41:36 2021 +0300

    INSTALL.Cygwin: Replace http cygwin homepage URL with https one

    See osdn #42411

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9641e561732ce335c4f1ef8bd5fd789dae1f10ac
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 21 15:07:46 2021 +0300

    AI: Set H_RATES for Hard and Experimental difficulty levels

    Requested by alain_bkr

    See osdn #42333

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 62c7d7faedc8038e682ab0dc0596b19349f0a8e5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 26 00:47:57 2021 +0300

    gtk3x: Drop gtk_window_set_type_hint() calls

    It's removed from gtk-3.98

    See osdn #42394

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a383735614eee4506b338882c721c957829f4b45
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 3 02:25:42 2021 +0300

    kenya.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42463

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 06da990511cf6753825b7e383de32217a0e43053
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 23 16:40:45 2021 +0300

    README.msys2: Update msys2 homepage URL

    See osdn #42373

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4ad74b6c17c2f07b1e7ff947d9ece58cce065094
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 21 04:18:53 2021 +0300

    rgbcolor.c: Replace http URL in a comment with https one

    See osdn #42340

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 939c66133f185e49ed1c041d313477b313020efd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 1 04:40:44 2021 +0300

    installer_cross: Check CROSSER_QT5 from crosser.txt

    Check more specifically Qt5. It used to grep any CROSSER_QT.

    See osdn #42438

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bb0b718c9386911916dcdd6f41cf94ac87ef813d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 2 01:21:05 2021 +0300

    israel.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42444

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0fcf25e6c1dfdbfc6840af05d92a07db45078f3c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 2 05:00:13 2021 +0300

    Make unit build cost's effect on bribe cost float

    Notably this makes units with build cost less than 10 to
    have above zero bribe cost.

    Reported by Lexxie

    See hrm Bug #929034

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a0e9d0522b51be631d3033d0bd1302b9663a1dbf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 5 12:54:38 2021 +0300

    Bump version number to 3.1.90.4-dev

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 18bea47cff25273ce245061f6a58970522bd1f2c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 5 12:29:03 2021 +0300

    Move FC_C99_INITIALIZER_BRACES to tcc.m4 named as FC_INITIALIZERS_BRACES

    It exist for tcc support.

    See osdn #41947

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7b71203517d5d0468edb4e5bcb71e15295665c3c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 26 00:40:05 2021 +0300

    gtk3x: Drop handle_edit_key_release()

    It did nothing.

    See osdn #42389

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3ad6dc935f73a213e8577f34f225895246f4d594
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 1 01:35:44 2021 +0300

    ireland.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42442

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1c38a60663b071491ce5772b11d357fef7525cce
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 30 07:23:49 2021 +0300

    Remove vision provided by shared vision from a removed player

    Reported by Alexandro Ignatiev

    See hrm Bug #883225

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 88bdf1e2240ac1bfd1a8add87b1a7171c6425cbf
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 31 15:24:42 2021 +0200

    amplio2: fix image location collision.

    The location I used for extra.transport_hub_mg was already taken by blank
    defaults for cd.city and cd.city_wall. Move them to a different cell.

    Reported by Lexxie

    See hrm #42441

commit e33f1339dd223e75cd86f2ddc25054c0e8415beb
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 31 14:32:06 2021 +0200

    cimpletoon: add castle and castle2.

    Add graphics for two castle bases - one open and one closed.

    Castles by Lexxie

    See osdn #42440

commit aca2923369e62a03706b8553585b8b0d385e6c7a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 31 08:14:08 2021 +0200

    unit_perform_action(): sub target must be there.

    Check that the sub target is there after server side sub target assignment.

    See osdn #42437

commit a745844bad4e5d59e207cdc850c87033f4b3c64e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun May 30 22:11:32 2021 +0200

    Only allow buildings as building targets.

    Reported by Lexxie

    See osdn #42436

commit 02c03d1d3322533e16422566b6ec47bad147a689
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 31 07:05:59 2021 +0200

    ANEK: paradrop blocked by non allied unit.

    Use the action not enabled system to explain that a visible unit at the
    target tile blocks a Paradrop Unit action.

    See osdn #42435

commit c69bf1e03cf4dc46c01ef1de34db19a9c5c85e3e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 31 07:06:08 2021 +0200

    Map non allied unit at tgt tile to ANEK system.

    Have the action not enabled explanation system detect that a non allied unit
    at the target tile is blocking an action when unit_move_to_tile_test()
    returns MR_DESTINATION_OCCUPIED_BY_NON_ALLIED_UNIT.

    See osdn #42434

commit a4277de0e3bfc1cea06463f7a9e7b8f9860cc819
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 31 06:55:46 2021 +0200

    Action not enabled explain non allied unit at tgt.

    Add an action not enabled explanation kind for a non allied unit being at
    the target tile. Not in use yet.

    See osdn #42433

commit 4675971f15c05e559d44b3f248dafadbe7a7ff45
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 17 06:46:14 2021 +0300

    Improve coding style of f*.ruleset nation rulesets

    See osdn #42302

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 643a2d69db5b38cff0524c09033ca4e5c3019c46
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 26 03:01:30 2021 +0300

    Meson: Support standalone libiconv

    Make iconv work when it's not provided by glibc, but in
    a separate libiconv library.

    See osdn #42395

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit de5660adf6cc75097598d54f100ba3edc05e1c24
Author: Joshua Root <jmr@macports.org>
Date:   Mon May 31 08:07:24 2021 +1000

    Only include sys/random.h for getentropy()

    This fixes a build failure on older OS X versions, which have
    sys/random.h but not getentropy(). Instead the header declares some
    nonstandard functions which unfortunately use some types in their
    declarations that may not always be available, depending on what
    headers were previously included.

    See osdn #42439

commit f9f7531f56f08d1e3bb3d13370303fb9f4d7c7f5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 31 03:01:00 2021 +0300

    iran.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42432

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f055f46fb70bbbff06dacf4c1ac233ceaf687df9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 19 18:39:27 2021 +0300

    civ1: Make traderoute one-time-bonus gold only

    Reported by nef

    See osdn #42317

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0698350b62ae86c7a6a5d9613d7b8ac2ed0a3655
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 20 17:09:17 2021 +0300

    validity.c: Use ..._re_active_iterate() macros where appropriate

    It was erroneously considering even removed items (those that
    the regular iterator goes through) blockers for removal of
    dependant items.

    See osdn #42173

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fd66f7689961d4d2a45b51670c3bc1e7f3698a62
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 25 17:04:43 2021 +0300

    gtk3x: Replace gtk_label_set_line_wrap() call with gtk_label_set_wrap()

    Function has been renamed in gtk-3.98

    See osdn #42390

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 81e509e8365363b8f6cdd67109005ab2c9006460
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 3 04:02:20 2021 +0300

    amplio/.gitignore: Drop as obsolete

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1c4f762516615dabbbf41e5209b54f6ec821d3b7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 30 02:02:00 2021 +0300

    hungary.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42418

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bf1ed51612a2382197a20c113dfaaf90135c3f07
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 22 16:12:22 2021 +0300

    gtk: Make loading to the default transport to work

    Option initially selected in the unit load dialog was not really
    set as loading target, if user did not explicitly rechoose it.

    Reported by alain_bkr

    See osdn #42303

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6ff828647010cecac49a9dd41060b9ce276e5f2e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 2 15:45:40 2021 +0300

    Comment typofix: "checkin" -> "checking"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ddcdb576b858beac2094eef3aab0789dcd0e6939
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 11 18:47:21 2021 +0300

    Rulesave: Save comment about wonder_visibility.small_wonders

    See osdn #42238

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a271a2fd3e9209fb196b57c51953863f57857e61
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 2 07:30:16 2021 +0300

    langobardic.ruleset: dos2unix

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 599ddb2106db6f4a11dcc6e8bf117976173ab117
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 26 03:29:22 2021 +0300

    Meson: Set FREECIV_SOCKET_ZERO_NOT_STDIN in Windows

    See osdn #42396

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ef3caad903f0ab103b421a77acfeee6acb57ccab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 29 03:21:33 2021 +0300

    frisia.svg: Shrink page size to image size

    See osdn #42410

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 47a9b87be4f5622f3dea753b7cf50899490d8f6a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 17 01:13:06 2021 +0300

    Replace '1' referring to tech cost style with 'Civ I|II' in a message

    See osdn #42119

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cdf1086a0f3263721949ee1a8c92f68c8d8343bd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 29 14:12:48 2021 +0300

    AI: Fix dai_goldequiv_clause() division by zero for tech clause

    In a ruleset where tech upkeep is enabled, there was a division
    by zero error when player had researched zero techs.

    Reported by kontorotsui

    See osdn #42409

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a5f01df78ac03fcafef5cb6d738bf67caa95e660
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 28 01:46:17 2021 +0300

    flanders.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42404

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 44bd11ad2e91f8f1efda0986ce19e1ce2ac9db03
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 20 04:19:53 2021 +0300

    gtk3x: Drop uses of gtk_widget_get_toplevel()

    See osdn #42327

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 21c15137f9b27aa682b0b45f80d51db6091e2f0c
Author: Lexxie9952 <32187224+Lexxie9952@users.noreply.github.com>
Date:   Sat May 29 14:40:24 2021 -0700

    amplio2: add castle and castle2.

    Add graphics for two castle bases - one open and one closed.

    See hrm Feature #919768

commit 4b04fd8049c4fdd2a339602adfe323d2ea980a27
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 28 20:32:00 2021 +0200

    Drop check for 0 (cultivate|plant|transform)_time

    See osdn #42105

commit b3b20401a8d4199f7409a066991280d329f6e7d7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 11 20:12:26 2021 +0300

    Improve coding style of e*.ruleset nation rulesets

    See osdn #42241

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8e2313b5775f18e72278a91370f9f16edb1a6833
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat May 29 13:45:09 2021 +0200

    Add unit saver for paradropping on enemy units.

    See hrm Bug #869995

commit 29d89e9eb9e4c8d19e5ca9d9e5baa38df3be368b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 21 01:41:12 2021 +0300

    Inline is_server()

    See osdn #42331

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bdecab01001f27b174bfb7af491d88bf6d68ad72
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 26 23:28:56 2021 +0300

    equatorial_guinea.svg: Shrink page size to image size

    See osdn #42399

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1c60964e74df80c43dcb796497686f70fd9b38c6
Author: Lexxie9952 <32187224+Lexxie9952@users.noreply.github.com>
Date:   Fri May 28 17:45:38 2021 -0700

    Make the Transport Embark actions rare popup.

    This avoids spam pop-up from city GOTO traffic.

    See hrm Bug #928837

commit 19b4380eafaf860aef005b6b81dbcc83b9196cf6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 15 07:49:19 2021 +0300

    Meson: Add support for building freeciv-mp-gtk4

    See osdn #42270

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 06d41f2c06a3fec6833b7f1ee6bc34abe7bce512
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 30 17:03:39 2021 +0300

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a2db533c6095970a302914e3acb9586b91a52ad8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 30 11:36:38 2021 +0300

    Add support for 'no_aggr_near_city' field for extras

    It replaces old NoAggressive flag. The new value tells the
    maximum distance to nearest friendly city.

    See osdn #42199

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f7b8923d54cf2b8fc7228b9ffc130e32494ef1e4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 17 07:33:17 2021 +0300

    gtk: Make pillaging of the default target to work

    Option initially selected in the pillage dialog was not really
    set as pillage target, if user did not explicitly rechoose it.

    Reported by alain_bkr

    See osdn #42168

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cf29056810c290e6e1e0798754947dc0afafd948
Author: dftec <dftec.es@gmail.com>
Date:   Thu May 20 22:31:23 2021 +0200

    civ2civ3: Correct helptext of Tech Communism

    In this ruleset, the effect of Cathedrals is reduced by the
    Communism government, not by the tech.

    Fixed typo error in helptext of Anarchy government.
    Added missing "*", and joined the 2 lines related to luxury.

    See osdn #42337

commit d4edd0dcaa15b1a9b00a9fd43ae8109ec0587a99
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 26 00:21:13 2021 +0300

    egypt.svg: Shrink page size to image size

    See osdn #42393

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7851348ea7e3754ac7adcff78b956748d8f62bae
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 21 02:34:00 2021 +0300

    CI: Work around older msys2 environment

    See osdn #42334

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 764f7021a47de29a886087267145aa3518b63492
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat May 29 16:23:00 2021 +0200

    Comment spell fix: igonered -> ignored

commit c5d8dc4e2ea12a304815b0fa6ba6470176d537fc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 29 13:24:15 2021 +0300

    Add errno mapping for Winsock error #10038 (WSAENOTSOCK)

    See osdn #42043

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e5b113eeb6999c9cccdc2a556134329d7123a0c2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 16 07:39:28 2021 +0300

    Correct "fire power" to "firepower" in a help message

    See osdn #42207

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 845250907fd7ade2b9c465607942bbae7ae26f46
Author: Andrew McGuinness <andrew@arobeia.co.uk>
Date:   Wed May 26 18:18:55 2021 +0100

    Avoid calling AI lost_control for human players

    See osdn #42325

commit f3174ae79268dc66b75b02da71f31cff582a99b7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 25 02:04:33 2021 +0300

    comoros.svg: Shrink page size to image size

    See osdn #42384

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8c6dc8585b2fa6a8f77232c5a4da724693cb3840
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 20 15:51:31 2021 +0200

    autohelp: fix action section headline.

    The bullet point were printed where the action name should be and vice
    versa.

    See osdn #42335

commit 6fb946f0884f7cf247f92654d5b5b534f8c3dfe5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 26 07:02:32 2021 +0300

    Meson: Define FREECIV_DELTA_PROTOCOL

    See osdn #42397

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 643ce52193e17bb79ab674bea2916e23b3284d61
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 28 16:40:04 2021 +0300

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5b69eeafd1fb6d40e131ebb511dda01ba267fdc7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 11 04:28:14 2021 +0300

    Rulesave: Save comment about combat_rules.only_killing_makes_veteran

    See osdn #42218

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cd85ad9436c7a1c1dee603f76c9769a39d6ade58
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 16 11:17:33 2021 +0300

    Improve indentation of entries in the left panel of city dialog

    See osdn #42298

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b132e475780a0245f41bdb2d7045d80743a77777
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 24 01:19:42 2021 +0300

    canada.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42378

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8018390ff3c03929dd06072c3eb4799bbc643744
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 10 16:43:55 2021 +0300

    Meson: Set -Werror in debug builds

    See osdn #42213

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2420f6106054fa136de3273cae975878bd953fdc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 17 01:01:00 2021 +0300

    Rename installer_msys2/freeciv-mp-gtk3x.cmd as freeciv-mp-gtk4.cmd

    See osdn #42151

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 28f9b0cb1faa90b545ef5d4078cb677097c7be18
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 14 22:47:58 2021 +0300

    Correct gameseed and mapseed help

    Updated gameseed help to mention that actual seed will
    be usually based on system entropy, when value zero given.
    Mapseed help corrected to refer to gameseed, and also to
    mention the case of both mapseed and gameseed being zero.

    See osdn #42260

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 132153e1930bef75175e4ca826ea4e27671f4984
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 23 00:06:21 2021 +0300

    united_kingdom.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42370

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 15fa9883c7a63b7ef46a957175994ea7b2ed854a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 13 05:31:12 2021 +0300

    CI: Build freeciv-mp-gtk4 on OSX

    See osdn #42252

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1cf0f608b5a74a8c6e603462a0baa68e46df086f
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Wed May 26 13:43:55 2021 +0200

    Updated French translations

commit d027b8807f5888661642cfa22525fc429ff02298
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 24 03:12:35 2021 +0300

    gtk: Make tab notice color different from alert color

    Reported by pjlsergeant

    See osdn #42295

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3cf624ca5d289093702fcc9f33135188059eebea
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 26 03:25:25 2021 +0300

    Comment fix: "socket zero ... same stdin" -> "socket zero ... same as stdin"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 81f771abe23a90735138475a275e7818d55669f3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 22 00:57:00 2021 +0300

    bosnia.svg: Shrink page size to image size

    See osdn #42345

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 442692ff610365854fd1e3321a7c492880effa09
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 20 05:57:37 2021 +0300

    CI: Update list of msys2 packages to install

    See osdn #42321

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a51956dbde87a9b83c870f690dc8a8e7e2098e84
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Mon May 10 23:10:40 2021 +0300

    AI: Stop fueled units from unnecessary hopping between bases.

    The previous behaviour ruined regeneration and spent mp for
    nothing that could work for auto-attack or something.

    See HRM #924328

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit cc6f97d78e887eb2cc1188e91909af977835f3e9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 10 17:24:16 2021 +0300

    gtk3x: Get rid of remaining gtk_widget_get_surface() calls

    See osdn #42215

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bc23c880c48d76bb1ac48ab5ff2e824d21555f0f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 11 17:51:10 2021 +0300

    AI: Use more advisor code for evaluating governments

    See osdn #42231

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e9e75f403af51ec9687d888bee07114dfd2f9766
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 21 01:38:20 2021 +0300

    boer.svg: Shrink page size to image size

    See osdn #42339

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 02d7f54e2769d6ff1cc3329f47bc91d037ac9150
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 21 16:18:08 2021 +0300

    MacOS: Respect user set MOCCMD

    See osdn #42342

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ede1ab682f289edef2a57241246542769cb31806
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 8 05:16:21 2021 +0300

    Rulesave: Save comment about combat_rules.nuke_defender_survival_chance_pct

    See osdn #42197

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a1428cbc04aca0ce4a27216e20970b80b28d33cc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 16 07:10:58 2021 +0300

    gtk3.22: Use widget's window in impr_callback()

    It was using default window.

    See osdn #42183

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 46c976977aace20e82ea9412e1e0245886fd6f88
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 20 00:08:01 2021 +0300

    belize.svg: Shrink page size to image size

    See osdn #42326

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f5d6779a9e74803c42d3559569ce719a928a60c4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 13 05:29:40 2021 +0300

    CI: Build fcmp front-ends for OSX

    See osdn #42251

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 69613f3b7cf10f6dfed5ab6efd938684b9e391d9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 9 13:49:46 2021 +0300

    Send packet_game_load with load_successful as FALSE when load failed

    The packet was sent with load_successful always set to TRUE

    See osdn #42189

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5b15cf3b5b90d0dac3c9728a30febc5a9ece9664
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 10 21:55:19 2021 +0300

    INSTALL: Update cygwin homepage URL

    See osdn #42217

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 59c8411d62a5a61bba9ddf51ef9fbb7f3251f3d5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 19 00:30:37 2021 +0300

    belgium.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42315

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 515c95901b09067c8176a88946f1f70d146fe437
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 17 23:27:39 2021 +0300

    Meson: Do not redefine HAVE_MKSTEMP in freeciv_config.h

    Correct definition comes from liblua_config.h.
    freeciv_config.h one was also defined unconditionally even when
    it should not be defined.

    See osdn #42306

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f2514a3a4d5e7aa990e5b9ca4a4a9db7f78fad69
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 8 05:30:40 2021 +0300

    Improve coding style of d*.ruleset nation rulesets

    See osdn #42198

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 436898805a5248f0c1101691fa1114aee10e1921
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 22 06:18:33 2021 +0300

    Consider tradeworldrelpct when calculating one time bonus

    See osdn #42097

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 42e3d73eb6bc927fdad53d92249482655ce5ba59
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 22 01:50:37 2021 +0300

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7ec10c5ea385d794edac552c34b4d47d8b8f847a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 17 23:19:47 2021 +0300

    euskadi.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42308

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3848fce6e4eca5f15535723df091b1cb8be2a91b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 19 13:38:41 2021 +0200

    Support unit requirements in Unit_No_Lose_Pop.

    See osdn #42320

commit db8babd1ee74c387d18d2e5b75a11725e3e6479a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 20 01:17:50 2021 +0300

    gtk: Add empty space for scrollbar in units and economy reports

    Scrollbar was hiding rightmost column of the reports. Work around
    that by adding empty column where the scrollbar goes.

    Patch by alain_bkr

    See osdn #42167

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b130d9f00fbc02cc6a740f8767c6bb34ed1450a2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 19 16:36:04 2021 +0300

    CI: Disable msys2 build

    There's no github msys2 action with new enough msys2 yet.

    See osdn #42035

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d4bfd89b07cb4e91c62745497fb160e772bc5a4d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 17 07:14:26 2021 +0300

    CI: Update msys2/setup-msys2 version used to 2.3.0

    See osdn #42035

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9f9ac6f19c9c5dfcb9eb692e19efa21a268ed890
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 16 19:19:37 2021 +0300

    Update msys2 environment to 210515 level

    - Based on upstream snapshot 20210228
    - Replace pkg-config with mingw-w64-<arch>-pkgconf
    - Install just automake1.16, not all automake versions via the
      automake meta package

    See osdn #42035

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3952a5c319aff4e980dae983cdb5880e149f6b09
Author: andrew <andrew@arobeia.co.uk>
Date:   Sun May 16 17:10:58 2021 +0100

    Tex: Avoid re-registering units and cities for each player

    See osdn #42299

commit b0aced45d0218c93c3b14db5dc16d538c0826d4d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 9 13:37:03 2021 +0300

    Rename action_enabler.disabled as action_enabler.ruledit_disabled

    See osdn #42174

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 35647b7f7362363f6db94b32214fa1ef6f0b5c3d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 9 16:43:53 2021 +0300

    Give ransom from multiple Barbarian Leaders on the same tile

    The old behavior was that no ransom at all was given when
    there was multiple Barbarian Leaders on the same tile;
    they were considered to be protecting each other.
    Now ransom is paid for each Barbarian Leader if there is
    no other kind of units in the tile.

    Reported by alain_bkr

    See osdn #42020

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 54341667b900533d1ff0025705b2bab4ab174754
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 21 04:46:32 2021 +0300

    italiangreek.ruleset: dos2unix

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bcec0a122f05cc7d779ab3d8313f544f7f11b58b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 17 00:01:27 2021 +0300

    phoenicia.svg: Shrink page size to image size

    See osdn #42300

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b6d07d62fee52cd81a126d0efe9e5559b70736cc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 15 08:26:38 2021 +0300

    dependencies/*/Version: Rename as Version.txt

    Files named "Version" caused trouble on OSX build where system headers
    wanted to include a file named like that.

    Reported by Dean

    See osdn #42271

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bbd118b932f228eaea8b9d497f29c57834451c0a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 11 23:28:58 2021 +0200

    Introduce "Bombard Lethal".

    "Bombard Lethal" is like the other bombard actions except that it kills its
    target units if they run out of hit points.

    See osdn #42312

commit 56038ccc05fe5d5482a44e40d2d8a1d199701423
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 18 08:29:30 2021 +0200

    "Non Lethal To Target Unit" action sub result.

    See osdn #42310

commit 55822302bdad1725db81131c5e60b217ba0de0de
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 18 11:01:12 2021 +0200

    "Is foreign" -> "Foreign"

    "Is foreign" was renamed to "Foreign" in 3.1.

    See osdn #42311

commit 17abc9bca0e1cf9a2129c47634c56461d5c152ad
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 7 22:45:56 2021 +0300

    dai_calc_data(): List 'income' as outgoing parameter in function header

    See osdn #42192

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 08a726a59a3e48668f67550944d11586871e137a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 16 10:16:01 2021 +0300

    Replace "win32" with "windows" in post-crash debugger comments

    See osdn #42146

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 288b17a5a27d3e0aaf573512f817eaebc69479f2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 16 00:06:24 2021 +0300

    kushan.svg: Refresh

    Loaded kushan.svg to inkscape and resaved with sensible view.

    See osdn #42291

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 63cb474c1f943b009233935de02b86acdcd1d48c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 19 22:32:23 2021 +0300

    FAQ: Refresh from wiki

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b77a1a4a32431551f2495d05ebf050b975c384f9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 3 01:31:49 2021 +0300

    Get rid of player_addr_hack()

    See osdn #42144

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eb52b4923811f8f90f5fe21c183df19b16856723
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 2 11:02:11 2021 +0300

    Rulesave: Save comment about combat_rules.nuke_pop_loss_pct setting

    See osdn #42139

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b0fb298eef441258e007bf4cac882844034996bb
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 11 21:25:58 2021 +0200

    Inline kills_citizen_after_attack().

    See osdn #42245

commit 1ed381a9edf50ce18dac6df7d9d6ee6666b107f4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 11 21:05:33 2021 +0200

    sandbox: destroy city with the last defender.

    Only protect size 1 cities from being destroyed until the last defender dies.

    Suggested by Marko Lindqvist

    See osdn #42244

commit 44dba54dbdc029cd13ce3f0b6859a2978ae0a82c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 11 17:56:15 2021 +0200

    Support destroying a city with attack actions.

    Move the rule that attack actions like Attack and Bombard won't kill a
    city's last last citizen to the ruleset via the Unit_No_Lose_Pop effect.

    See osdn #42243

commit af27eca7fdabe3c1c84249fe1fbed23b11331672
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 11 15:53:21 2021 +0200

    Support action requirements in Unit_No_Lose_Pop.

    This makes it possible to let a unit have two attack variants where one
    reduces city population and the other doesn't.

    See osdn #42242

commit cac800095e25b4f4b8db028932d8d1d0ba5e6bf2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 11 14:50:59 2021 +0200

    Factor out unit_attack_civilian_casualties().

    Factor out the civilian casualties from attacking or bombarding units in a
    city to a new function.

    See osdn #42240

commit 8977f3796b42ec5bf7fcbfb37058bb827246f1c9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 16 10:14:01 2021 +0300

    Strings.txt: Document how qualifiers are added to follow tag strings

    See osdn #42142

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a426b11a70f34c278a9b2b6df8d652853d9bf7d0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 14 22:41:58 2021 +0300

    illyria.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42267

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 211e21075c998dffe0db3ef4f5c6b18ecd1bfd87
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 4 17:10:48 2021 +0300

    Introduce action_enabler_list_re_iterate()

    See osdn #42171

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ea77998266ac1933a8d701c6cdc8d3cf7cfee4fa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 2 18:31:31 2021 +0300

    clinet.[ch]: Improve coding style

    See osdn #42148

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 38d3e76f5f050d0a3edc7fc15eb720f22265c6b8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 11 18:41:40 2021 +0200

    Introduce effect_value_will_make_positive().

    See osdn #42239

commit eab362d2d38906a82cf85f4eb1e5944c1e7bbdcf
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 11 12:18:46 2021 +0200

    Support action specific Attack_Bonus effects.

    Make it possible to have an Attack_Bonus effect value based on what attack
    action is being used by having it accept Action requirements.

    See osdn #42230

commit 67238ff06ae279b1122b7923551fe593b1426ade
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 11 12:15:13 2021 +0200

    unit_win_chance(): take action parameter.

    Make unit_win_chance() aware of what action is being performed when the
    information is there.

    See osdn #42229

commit f7f3f49e1c86c043fbae42a0d167ee4f51c7b41a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 11 13:07:53 2021 +0200

    get_diplomatic_defender(): take action parameter.

    Make get_diplomatic_defender() aware of what action is being performed.

    See osdn #42228

commit 91bc3f6e21ac01dd7c0d7d55482fdbbd03d795f6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 11 12:11:51 2021 +0200

    get_defender(): take action parameter.

    Make get_defender() aware of what action is being performed when the
    information is there.

    See osdn #42226

commit a3931e54845b2c09d50ff02fe68902f1c299a81e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 11 11:56:53 2021 +0200

    do_nuke_tile(): take action parameter.

    Make do_nuke_tile() aware of what action is being performed.

    See osdn #42225

commit e0feca8f073df9e9d28c161178e42aa7b2653772
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 11 11:46:06 2021 +0200

    unit_versus_unit(): take action parameter.

    Make unit_versus_unit() aware of what action is being performed.

    See osdn #42224

commit 8a4fca0ef8cb8bd04c657ef906ddf299e396997f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 11 11:43:35 2021 +0200

    unit_bombs_unit(): take action parameter.

    Make unit_bombs_unit() aware of what action is being performed.

    See osdn #42223

commit adc2dc175bcc4a37f025daaa872ef80a24929042
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 11 10:58:17 2021 +0200

    get_unittype_bonus(): take action parameter.

    Allow get_unittype_bonus() using effects to take action requirements.

    See osdn #42222

commit 69f5b7b499b7f7435f61a4695145a67079dd59ce
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 28 22:49:36 2021 +0200

    Check if road or base action can target terrain.

    The autohelp should mention that a terrain type can't have bases or roads
    built on it if a base or road building action is impossible.

    See osdn #42155

commit 94c7a306d216708e51ec34e3097811a27e66d4f9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 3 01:22:18 2021 +0300

    Replace follow tag "win32" with "windows" in examples

    See osdn #42143

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 11f1bd6e4dcef7a1ccdec1abe6efabcfff27d7dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 13 05:26:09 2021 +0300

    han.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42255

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 154cebbc10feb867919a27337840fc6c1f508188
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 9 12:24:09 2021 +0300

    AI: Increase want for improvement provided gold when tax rate high

    The high tax rate indicates that there's gold shortage that
    runs it high, and we should avoid making situation worse.
    Ideally we even improve the situation and make it possible to lower
    the tax rate in the future.
    Improvement provided gold is often negative as maintenance
    cost is included.

    See osdn #42195

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a73eab4b12b1eba2aebb06b69e650424ce47ea37
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 2 05:22:15 2021 +0300

    Improve coding style of c*.ruleset nation rulesets

    See osdn #42136

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 14be09d5e51b84ad7fc58cc4c48b07db10a339e6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 10 20:31:57 2021 +0300

    Meson: Set GDK_VERSION_MIN_REQUIRED & co per-target

    Having them as global flags won't work when we have executables
    for multiple different gtk versions.

    See osdn #42216

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 71885126a11c8f671184e389ac87c38398fe8452
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 10 06:00:56 2021 +0300

    georgia.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42208

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9fa7b4593daa45e053738ce7bc5f8f69517a2e17
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 1 11:39:34 2021 +0300

    mapview_common.h: Update URL to grid documentation picture in a comment

    The old server hosting the picture no longer exist. The picture has
    been salvaged and moved to our own server.

    Picture salvaged by louis94

    See osdn #42126

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3bfcaf21634f81b333c743537573c389c4dd48b4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 14 20:40:14 2021 +0300

    Don't promise that there's a one time trade bonus when there is not

    Reported by chippo

    See osdn #42087

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c603fdb588e93b1a448250d0ccda1d963435aca3
Author: Jim DeLaHunt <from+project_by_git@jdlh.com>
Date:   Tue May 11 23:50:02 2021 -0700

    Create a new man page "freeciv"

    Create a man page, with source in doc/man/freeciv.6.in . Content and
    structure are both adapted from doc/man/freeciv-{client,server}.6.in .
    This page gives an overview of the Freeciv game, including its client
    and server parts and its flexible rulesets and parameters. It points the
    reader to the other man pages and websites for detailed information.

    The problem which this page solves is that a user new to Freeciv, unsure
    where to start, can type the obvious thing, "man freeciv", and get a
    useful overview instead of finding nothing.

    Make changes to ancillary files to incorporate the new source file.
    All these changes are parallel to corresponding entries for similar man
    pages.
    configure.ac: include new file in AC_CONFIG_FILES([...])
    doc/man/Makefile.am: include new file in MAN_PAGES
    doc/man/.gitignore: ignore derived file freeciv.6

    See osdn #42138.

    Signed-off-by: Jim DeLaHunt <from+project_by_git@jdlh.com>

commit 5c427005c7cfda837395e9c941325b2ff525c2b1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 12 06:09:04 2021 +0300

    CI: Use 'sysctl -n hw.logicalcpu' instead of 'nproc' in OSX build

    nproc does not exist in OSX

    See osdn #42248

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 15d07ab1b9e7e9a8ab99bc78b4be47a9b080b474
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 7 05:29:04 2021 +0300

    cape_verde.svg: Refresh

    Loaded cape_verde.svg to inkscape and resaved with sensible view.

    See osdn #42188

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8d9246fd9102074a17399b95c27724736ccb0b46
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 1 02:01:43 2021 +0300

    Correct name of ai/default/daicity.c in a comment

    adv_data_city_impr_calc() function header referred it by an old name.

    See osdn #42117

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aba8a76efa467c6a6162efc6d3d47e712688de4b
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Sat May 15 17:36:17 2021 +0200

    Updated French translations

commit 3359e74d31beb90e1ab807e349cbd7d9f6f895d1
Author: dftec <dftec.es@gmail.com>
Date:   Wed May 12 17:25:33 2021 +0200

    civ2civ3: Disable uk_happy for ships with attack 0, enable for fighters with fuel > 1.

    Galleon, Transport and Carrier (ships with attack = 0) no longer
    cause unhappiness (when they end the turn outside national borders).
    Fighter units (with fuel > 1) can now cause unhappiness due to
    military activity.

    Updated readme, that did not include the old exception about Fighters.
    Updated Sandbox ruleset with same changes.

    Requested by chippo

    See osdn #42078

commit 246fffbef887cc5ccd16583ec9487249b756d0a6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 8 04:43:10 2021 +0300

    Make man page links to work on OSX

    Reported by jdlh

    See osdn #42178

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4b24c13f321f68f8eac679eacb903d78fbcc2452
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 10 16:25:18 2021 +0300

    Include headers with tolua_*_open() with <>

    That makes meson based build to find correct header from the
    build directory first, and not the autotools based build generated
    version from the source directory.

    See osdn #42212

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 14bc3f9280113464e2da1708a6ea5e5300547dd2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 4 04:02:15 2021 +0300

    armenia.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42163

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 437b71d34927def196775666b5a073a2219027d0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 1 01:57:06 2021 +0300

    Make terrain transform_time of zero to disable transforming

    That's how it has been documented.

    Reported by Sveinung Kvilhaugsvik

    See osdn #42120

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ea6c0268181c45e98c20c2738413913f6b208fd8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 1 20:41:57 2021 +0300

    Qt fcmp: Show Qt5/Qt6 mode with the freeciv version number

    See osdn #42130

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2409957e0a1c66fffad88e9d517aa0f00e79b8de
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 14 08:46:35 2021 +0300

    gen_headers/.gitignore: Add stamp-h3

    Reported by jdlh

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 569a97fe816dac3284b7025a4e97ec8d75c17eb9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 14 07:48:51 2021 +0300

    Update Polish translation by Hubert Kowalewski

    msgmerged from S3_0 2f6dfb4040

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 145c7a4b10945ef7b5df737c3ed64621b5a66326
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 10 16:53:02 2021 +0300

    CI: Set debug=true on meson based builds

    See osdn #42214

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 07b4b0de761d7129e76267d1a65ff1c7b50bb1fb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 6 02:39:02 2021 +0300

    gtk3x: Remove gtk_widget_get_surface() call from impr_callback()

    See osdn #42187

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4cec7cd2bc5da2aa9bdcf5c07420ed9ab17b1829
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 1 20:37:13 2021 +0300

    Qt / gui_main.cpp: Replace single-line C-style comments with C++ ones

    See osdn #42129

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d8a54ddb6a5ac083c400411a3dd456267d0ac17f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 10 07:52:50 2021 +0300

    Build separate library out of client/helpdata.c

    Link freeciv-manual against it, instead of compiling
    source file from a different directory ("../client")

    See osdn #42209

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 132f869f05a5b38ab2dd8c6064e27d2f58b70dc8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 5 18:27:37 2021 +0300

    gtk3x: Drop unused root_window

    See osdn #42185

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 526cdf3569ed92bfc722073bced7891f0549c8af
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 2 06:34:58 2021 +0300

    aitech.c: Move couple of assignments outside 'if'

    See osdn #42137

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9af718279ce7031ee7580e955288a703ba9ee37c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 12 07:44:31 2021 +0300

    CI: Temporarily switch OSX build to use Qt5

    OSX Qt6 build currently fails. Use Qt5 until that gets fixed.

    See osdn #42250

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d60a1397330decc2788bfdc4bcc57d9f14fc77f5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 4 04:36:42 2021 +0300

    Add meson config header templates to distribution

    See osdn #42116

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b14f341af1a59850ff4e24eef8ccb670a1f3f070
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 12 06:32:31 2021 +0300

    CI: Get OSX Qt6 paths dynamically with 'brew --prefix qt@6'

    See osdn #42249

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5bb7c1d6f48112941702dd46d25bca5b192b6116
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 9 12:17:09 2021 +0300

    Support Small Wonder Visibility value "Embassy"

    See osdn #42051

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c170a93f69a5114fb95b5dd1e1b8f134d593ca16
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 5 15:53:06 2021 +0300

    gtk3x: Define GTKCOMPAT_GTK4_FINAL when building against stable gtk4

    See osdn #42184

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d1fd0b55205834376d2855278152a141ea4f958b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 11 16:11:29 2021 +0300

    Comment typofix: "againt" -> "against"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 29f326871434d4a4a623b41b0deb5dd7dccbcb44
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 28 02:38:55 2021 +0300

    pkg.m4: Refresh from upstream

    See osdn #42081

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 497fd18e65872fb96d3932af640ba3c4901342ae
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 3 11:51:03 2021 +0200

    can_attack_from_non_native() by action result.

    See osdn #42161

commit b9809e88d1d08e46802377f2c59d15db183f612f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 3 11:20:36 2021 +0200

    Add utype_can_do_action_result_when_ustate().

    Make it possible to check if any action with a specific result can be
    performed by units of a specified type in a specified unit state.

    See osdn #42160

commit 50d0a75f6902432c33fea22c73e8b52b21a44d29
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 29 02:50:44 2021 +0300

    Rulesave: Save comment about combat_rules.tired_attack setting

    See osdn #42109

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0a0c16f168cf5a0a7b4c7bf30aac64ec3cd6cebe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 5 15:50:15 2021 +0300

    gtk3x: Drop gdk_seat_grab() and related calls

    No replacement functionality provided.

    gdk_seat_grab() API has been dropped from gtk-3.98.

    See osdn #42182

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8d19f47fc413a7d86e7fe31ccab8ad75e435572c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 1 03:21:04 2021 +0300

    Sanity check cultivate|plant_result in relation to _time

    Reported by Sveinung Kvilhaugsvik

    See osdn #42124

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c9a4e61a38402c427311ebd59f18354c2228f361
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 25 07:21:24 2021 +0300

    stdlib_h.m4: Update to serial 63 from gnulib upstream

    See osdn #42070

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d6fbf9449de5d80b74d234eb39722da4dbabe734
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 1 20:36:11 2021 +0300

    Ruledit: Show Qt5/Qt6 mode with the freeciv version number

    See osdn #41869

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fb1ece6ad6f677c9bff8c72420cec35a0bfc1313
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 5 07:15:43 2021 +0300

    Don't sanity check EFT_CAPITAL_CITY as a boolean effect

    It no longer is.

    See osdn #42118

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 92ebdb3071ccf6512695de97c22ab3f4c79c8a8e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 29 03:26:47 2021 +0300

    Improve coding style of b*.ruleset nation rulesets

    See osdn #42110

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fcff2feef4307f483a504e353e8f70bc6144b0d6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 5 15:39:00 2021 +0300

    Do not enable gtk3x-client for --enable-client=all

    It doesn't compile with the final gtk4 stable yet.

    See osdn #42180

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 801a0b33b5835c6e68aa7063e2761cfdf2fecc0e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 3 01:18:44 2021 +0300

    viking.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42150

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2053992e64e7858134480b436ac7ec49df63c484
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 28 20:20:10 2021 +0300

    Correct return value documentation in is_allied_unit_tile() function header

    See osdn #42101

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 44fa7983b809e5e5ded691ab9162616bcaa50c60
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 8 16:20:27 2021 +0300

    data/.gitignore: Drop ggz entries

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aff3ffa5a871107ba75e785fa148beee925346a2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 24 03:25:13 2021 +0300

    Rulesave: Fix saving of "Builder" AI trait

    See osdn #42066

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f8043fa9758ed0f11b4e47dfcec15351794667c9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 30 04:37:20 2021 +0300

    Generate separate configuration header to be used for in-tree liblua build

    Definitions from full fc_config.h can cause trouble in liblua build.
    Generate and use separate config header that has just the definitions
    needed in liblua build.

    Reported by jdlh

    See osdn #42114

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e30796dab1c2327c71bad18f06050980a91cfcc2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 2 03:04:19 2021 +0300

    cheyenne.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42132

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3947014bfbbc9ff797008c576d07fb76e0ecedae
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 3 09:40:16 2021 +0200

    Mention --clean in freeciv-ruleup man page.

    Reported by Marko Lindqvist

    See osdn #42153

commit 4bd91f231438ec3ec93c2afc50696eef10b72a5f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 3 09:12:47 2021 +0200

    The "Trireme" flag has been renamed CoastStrict.

    See osdn #42158

commit b51a6d165cb5981d88bae39cbd02ec3835bc7396
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 23 03:00:44 2021 +0300

    Fix ruleset comment typo: "desciption_file" -> "description_file"

    See osdn #42061

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f5cdf84237c43321f15de8a75fb4b91bbf096add
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 23 03:22:39 2021 +0300

    Rulesave: Save comment about civstyle.gold_upkeep_style setting

    See osdn #42062

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6eef0e8cfc576db6aca4df1ab091ce9922b47bdb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 7 05:57:27 2021 +0300

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 874ea413bbff7717f8737e2390d02ad8168abd94
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 1 19:46:26 2021 +0300

    Meson: Install alien ruleset nation files

    See osdn #42128

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 43b90911acbf88484293a9bcf46fc3798c9e97c9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 23 02:04:08 2021 +0300

    INSTALL: Document MOCCMD

    See osdn #42049

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 51eb4a095f7efee2d9b7edd42aebbbf66958143a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 23 02:13:45 2021 +0300

    Add dev savecompat block for 3.1.90 - 3.1.91

    See osdn #42060

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5717fef1d5d5337461868b7d8a18939becc6be38
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 22 07:35:27 2021 +0300

    Meson: Define storage dir with correct dir separator in Windows

    See osdn #42054

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 85e7da6fba227ea730c8b7c4240d5170f61e6adf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 6 06:22:02 2021 +0300

    gepid.ruleset: dos2unix

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b598ae6adc31045b5224903525023b3a7ae055d4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 1 01:52:47 2021 +0300

    mongolia.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42123

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4b138265dae14a5de03cc2a6eac3526a8e810aaa
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 3 07:53:59 2021 +0200

    Make the irrigation_time > 0 hard req obligatory.

    See osdn #42157

commit 587badf0c8fff3dda642a3562984d808a4dc9e84
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 5 20:04:55 2021 +0300

    Bump version number to 3.1.90.3-dev

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 02b3be5fe784ca71cee62d3e9cd280b418fcdbe8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 22 05:53:05 2021 +0300

    sdl2: Drop unused create_themeicon_button_from_unichar()

    See osdn #42053

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6bdb12448b7a83632072de3178843cfc1fb68dfa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 5 14:02:55 2021 +0300

    upgrade_ruleset_sync.bash: Update S3_1 revision to fetch

    Get a S3_1 revision where ruleset capstr has been bumped
    to one we support in compatibility mode.

    See osdn #42159

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6621a2359ee1546e7cc85381be0d94672ab2c8e9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 3 15:59:39 2021 +0300

    Update RULESET_COMPAT_CAP for new S3_1 capstr

    See osdn #42159

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 97a67476024dc83268a282201c7ce2b9ffefd115
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 23 02:00:38 2021 +0300

    meson-winbuild: Link with -static-libgcc

    See osdn #42055

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1ae4fe8acff6c4a6cf23a5784fadc815b8e3ad7d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 5 05:16:56 2021 +0300

    NEWS: Refresh 3.0.0 NEWS from wiki

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 79d6d8f73605329acb90496a447b719d4953fd9a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 28 02:56:53 2021 +0300

    ethiopia.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42094

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 82efa5389d27eae1531ae96d9f748384ab2f1797
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 19 03:24:27 2021 +0300

    Improve coding style of a*.ruleset nation rulesets

    See osdn #42026

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dec601183e1f3f0f9726d67bfca9d3c420d2c5a7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 20 19:25:10 2021 +0300

    Meson: Add BCryptGenRandom() support

    See osdn #42040

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a57f7a17feee8481f635a194f69dd6ef933f28de
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 30 04:01:31 2021 +0300

    iroquois.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42115

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0c6dc0416b7f494e4d7046e6a445f7e944be1de3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 16 06:16:45 2021 +0300

    Drop remaining fragments of auto_attack.will_never rscompat code

    See osdn #42013

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 73e62966bc4be80dd36be7462df081033576501f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 3 16:03:59 2021 +0300

    Comment typofix: "given data" -> "given date"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 04675754ee6c8ac0cce412ddf79996e835092488
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 29 00:20:40 2021 +0200

    Check if road or base action can target terrain.

    The help dialog should only claim that a terrain type can have bases or
    roads built on it if a base or road building action is possible.

    See osdn #42131

commit d56eea27ced093a7699a0ecca5136854d6847543
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 3 11:51:59 2021 +0200

    Comment fix: missing space.

commit 82ae7bbc208859d1623a568cffb487e7a3f548a5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 3 08:44:54 2021 +0200

    Comment style fix

commit 1d3ff49772995cce85388928982bd5ec09d42fdc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 22 04:54:14 2021 +0300

    Improve comments about mapping Winsock errors to errno

    - Correct set_socket_errno() comment to point to net_types.h
      where the mapping currently lives
    - Add cross-reference comment to net_types.h about
      set_socket_errno()

    See osdn #42045

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 116a4256d1916d00819a0a4d820ced345815c8b3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 28 14:43:58 2021 +0200

    Make the mining_time > 0 hard req obligatory.

    See osdn #42107

commit f7fa33b36502f0de30894078ca8088e61e0a6b19
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 28 20:05:37 2021 +0200

    civmanual: check action can target terrain.

    Update existing checks if an action can be performed against a tile with a
    given terrain type to also check if the action itself may be enabled against
    the terrain type. It may be impossible to perform it even if it has a
    x_time above 0 or a defined result.

    See osdn #42106

commit 74df5437727fa8a9a71855005623ac75828cbd1f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 28 18:21:40 2021 +0200

    Use universal fulfills in contradiction detection.

    The functions in universal_found_function have knowledge about if a
    universal fulfills a requirement. This knowledge can be used to detect the
    contradiction where the presence of something is required but the absence of
    something implied by what was required to be present also is required.
    Use this in are_requirements_contradictions().

    See osdn #42100

commit 5c2fc065158f69eacf4bed6614b42ba9aaf9a13f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 28 17:10:54 2021 +0200

    ustate_found(): support non local requirements.

    Prepare for universal_fulfills_requirement() checking any sort of
    requirement against a unit state universal.

    See osdn #42099

commit 6e7f2f7cea0b383d308b2e32d48ebf4432f2d68e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 28 16:46:17 2021 +0200

    TerrainAlter for universal_fulfills_requirement().

    Detect if a terrain type fulfills a TerrainAlter requirement.

    See osdn #42098

commit 0885919f10d40d5c6813f326c2197e3bf13b0776
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 28 13:14:00 2021 +0200

    dai_unit_attack(): support "Explode Nuclear".

    The introduction of explode_nuclear_max_range made a ruleset where
    "Explode Nuclear" is able target a neighbor tile possible. Support it in
    dai_unit_attack().

    See osdn #42096

commit 1ea9f9bba0ddbb04850e03efa2757cadfddcf981
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 3 05:48:28 2021 +0300

    header_guard.sh: Drop check against Freeciv.h

    See osdn #41784

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e69be18bafb44bc400a34c526c53b2db7206995d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 3 02:45:01 2021 +0300

    create-freeciv-gtk-qt-nsi.sh: Update list of available guis in comment

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5ec2f651788c4bb0115790e1d112515b64e596fe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 29 02:15:00 2021 +0300

    indonesia.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42108

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 91b067728566f7f5f528c68eb3fc845676bcb0e6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 19 17:32:51 2021 +0300

    Define default port in .project file

    See osdn #42030

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f2cd20dae543e26d5be0e3fc9339be3dcc8880bf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 17 04:24:44 2021 +0300

    Rulesave: Save comment about civstyle.gameloss_style setting

    See osdn #42018

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a26d32647c17e9ada361021afb03959a1beb9b3b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 16 06:22:39 2021 +0300

    Drop rscompat code for effects nreqs requirements

    See osdn #41977

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c9bef2239fab66cf416a14cbe8fc447c85227f21
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 2 05:18:08 2021 +0300

    carantanian.ruleset: dos2unix

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4cfac166f9d3bf6ee29ec93c012a33438dccca84
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 27 03:08:22 2021 +0300

    keetoowah.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42080

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 317a0412efd549638c62d332e9af53dde74b986e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 28 12:15:19 2021 +0200

    alien and civ1: Drop unused !"HutFrighten" reqs.

    Reported by Marko Lindqvist

    See osdn #41859

commit 9547fea678416ea75f453cd7123f128202214c77
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 28 12:02:06 2021 +0200

    Count never there as absent.

    Consider an obligatory hard requirement fulfilled if a universal that never
    is there is required to be absent.

    Reported by Marko Lindqvist

    See osdn #42095

commit 042b102b7ae179904c3c02a9bb18f0371e9dd13a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 28 23:38:57 2021 +0200

    Comment numbering fix

commit 65f3192075a2b1b5f3e53d2ed600e1220a2aa3a8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 1 07:13:49 2021 +0300

    Clean out VUT_UNUSED

    See osdn #42011

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a3d07277fb70f7771309eaea12f2f5755f855400
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Sat May 1 14:48:03 2021 +0500

    Update for Russian translation.

commit d0b11a2de8a9935be986c7e078b29a3ae67e7f7c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 16 23:36:58 2021 +0300

    Ruleset comments: Fix "compatability" typos -> "compatibility"

    See osdn #42017

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a3c09d22f44047da65de6496c05b9fec966cfc0e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 10 18:49:28 2021 +0300

    Tell in help if nukes can destroy cities completely or not

    See osdn #41967

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6d5fd7bf3a9cd84f3716c26f95c2a063cc8d0ee4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 26 05:28:09 2021 +0300

    brasil.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42076

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 35c9673899889fc4b489645370f5cd89d7482489
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 16 07:41:32 2021 +0300

    comments-3.2.txt: Improve utype entry coding style

    See osdn #42014

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 67223da4dee1f3daa6475bf9aceb270d899b8570
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 17 01:34:14 2021 +0300

    Ruledit: Drop unnecessary includes from req_edit.h

    See osdn #41964

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 867f400c39f2752c6747639f6669887f97fe419e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 28 15:56:30 2021 +0300

    Define H_ASSESS_DANGER_LIMITED also in normal (non freeciv-web) builds

    It's still set to any AI player only in freeciv-web builds.

    See osdn #41939

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8d703f5edfbbfdbd4b77df032b36227496d8f646
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 25 05:03:32 2021 +0300

    sumeria.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42069

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 284bb24dc63b3a2dd44475aff084bc490b0de244
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 29 21:53:16 2021 +0300

    Comment typofix: "diplomancy" -> "diplomacy"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4a0210ac5acf9c8e6c891459b4ad88ff474ecdf2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 11 13:28:16 2021 +0300

    Drop rscompat code for old style Bridge settings

    Road/River kind of interaction ruleset format was changed
    in 3.0 to 3.1 update.

    See osdn #41976

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5bb29f5b8d28b4106856a26a4260a4c18e6018ff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 11 11:44:02 2021 +0300

    Add verbose log about new turn at client side

    Requested by alain_bkr

    See osdn #41973

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit da174d6b8a9850e2606636c70f26897478a324bf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 29 09:44:23 2021 +0300

    translations/core/.gitignore: Do not ignore nb.po

    Long time ago nb.po was just copied from no.po, and not under
    version control. Now it's the actual translation, under
    version control, and definitely should not be ignored.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 973a7b0609c05a9499d55d6c8f35321275726bbe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 8 18:54:16 2021 +0300

    Meson: Add option to build freeciv-web version

    See osdn #41948

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a3d4f6b629aa582b8bf4319cfd86ceb467b15545
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 23 05:08:28 2021 +0300

    hephthalite.svg: Refresh

    Loaded hephthalite.svg to inkscape and resaved with sensible view.

    See osdn #42065

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 79952abecb34a2ca28492805882db16c419b1bc7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 18 06:35:27 2021 +0300

    Check that its transporter can hold target unit before converting unit

    See hrm Bug #921940

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e99635a23892fdc938c706404fd9baddfbe6cc10
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 11 02:51:13 2021 +0300

    Correct comment about ai_fuzzy() location

    fuzzy_of_skill_level() function header claimed that ai_fuzzy()
    is in common/player.c, when it is in the same difficulty.c as
    fuzzy_of_skill_level() itself.

    See osdn #41937

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 258f220b04a7b86a5a93c378a1bf2661e2d8b956
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 25 08:52:16 2021 +0300

    Fix xgettext warnings from game.rulesets

    See osdn #42071

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 49ac001cf297c37a91872cf2e4974eb15c794246
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 28 03:43:09 2021 +0300

    Update Finnish translation of the ruledit domain

    This is just S3_1 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ef4791776845d9d2071c33fa3ecea8982c4f502a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 22 23:59:37 2021 +0300

    rome.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42059

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6fe7575fd333da0d837552e04321f0b85895d423
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 23 21:47:53 2021 +0300

    Bail out from find_dispersed_position() if no tile found in time

    It was possible for the function to end in endless loop if
    there was no suitable tile to be found within dispersion area.

    Reported by jtn

    See hrm Bug #767127

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6f7c698b2615a1f2f51529088425de5f625f3557
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 11 11:15:34 2021 +0300

    Improve default/nationlist.ruleset coding style

    See osdn #41974

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f09ee238f49476d932166a6087e8d4abffef8cd8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 22 01:18:35 2021 +0300

    maya.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42050

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ead26eecd71260d20e4cb35cc2fa97c1b967d73d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 10 10:29:53 2021 +0300

    Drop base flags rscompat code

    See osdn #41963

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9e85a84b9166e8a3749722dbfd13f46f8c58abb6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 21 01:14:34 2021 +0200

    Tolerate ending unstarted action selection.

    Relax the assertion in action_selection_no_longer_in_progress() so it allows
    ending the action selection for a unit that never started it. This may
    happen when a follow up question to the action selection dialog is asked
    from a non action selection dialog source like a menu item for that action
    alone.

    See osdn #42042

commit 74da66173c0bc157c30e5e627f4dd06db07e1f0f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Apr 20 11:08:29 2021 +0200

    Better information in upgrade_ruleset_version.txt

    Add commit date so the age of the snapshot is apparent.
    Add action stamp to get a VCS neutral commit reference.
    Don't record what reference names pointed to the commit at the time the
    command executed.

    See osdn #42038

commit 4262836cf24c820b39b3e80821060e5221725985
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 15 09:55:49 2021 +0200

    Clarify "Attack" action enabler names.

    See osdn #42010

commit ccd544b553c419c26ee2747bf40512c90745a131
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 9 00:55:20 2021 +0300

    Ruledit: Delete "Edit Values" dialog when ruleset item is deleted

    See osdn #41957

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cb8dd7fa6994577fba1c866f2501ccd16b1f8ff5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 10 02:09:02 2021 +0300

    Notify players when nuke destroys a city completely

    See osdn #41912

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bec7bdec3728b6e8fa127f5745fbf97955a89890
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 21 01:05:10 2021 +0300

    carthago.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42041

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 600683f16f029f038a1d895a9107d6cab031bf2d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 22 21:45:54 2021 +0300

    tcc.m4: Fix missing prototype error from FC_VALUE_AFTER_EXIT()

    See osdn #42058

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a92e6512f8a29e9c4bb67d2e51f69c5083bf671c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 25 12:24:29 2021 +0300

    Stop terrain changing unit activities when climate change changes tile

    Requested by Alexandro Ignatiev

    See hrm Bug #899919

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c618682aae29cc60ebc472f4e9ec7d1ddda48f20
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 25 08:48:02 2021 +0300

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 78b55f958659f0cfdcee73a6fed74f01f5a4c897
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 8 15:05:13 2021 +0300

    Document that get_preferred_pillage() has list of extra causes too

    Comment for enum extra cause now tells someone adding new cause types
    to also update get_preferred_pillage() to reflect the added type.

    See osdn #41949

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ec79ea36264424f1d3dbca707624e97078531e3e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 20 02:34:48 2021 +0300

    australia.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42027

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2b2afb94bbe9fd7c8a0c038f9fc106165bdd44df
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 21 15:38:01 2021 +0300

    stdlib_h.m4: Update to serial 62 from gnulib upstream

    This is a comments-only update.

    See osdn #42034

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d7b2e29ecd36579db4827b0adf6335f8cf68c51e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 9 06:41:22 2021 +0300

    Improve ruleset comments about ransom_gold

    It's possible it's not granted in full when barbarian player
    has not enough money.

    Reported by chippo

    See osdn #41943

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit acd8396fd97e672519b976bae2be16e135721316
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 22 04:44:49 2021 +0300

    Add ruleset setting controlling Small Wonder visibility

    See hrm Feature #924859

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a357fceaa7050536e0b5d166fb742603cda990f7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 19 00:43:29 2021 +0300

    babylon.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42025

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 55a169e90ae087baf1edfd2ac18d6f0e2aab9860
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 18 04:49:41 2021 +0300

    tcc.m4: Fix duplicate result output from FC_VALUE_AFTER_EXIT()

    See osdn #42021

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 005960064274074c8dd5e57b9f7a4aaa0ed7f605
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 10 02:12:02 2021 +0300

    Fix server crash when illness destroys a city

    See osdn #41959

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 70706887f1c879ab5151ffeb08cede4427dd9897
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 7 21:59:31 2021 +0300

    Rulesave: Save comment about civstyle.granary settings

    See osdn #41936

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 38f7202c2694dde3f083db7496f26bd4e1e8cbfa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 18 07:55:12 2021 +0300

    avar.svg: Fix format errors

    See osdn #42022

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 50f557f2ae2b96c3a48121b20c7b390c99d46bcb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 14 04:28:38 2021 +0300

    INSTALL: Improve listing of Qt-client dependencies

    - List 'moc' in dependencies
    - List compiler's requirements first, and mention examples of compilers
      tested only after that
    - Mention that also clang++ has been used in development

    Requested by chippo

    See osdn #41998

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 02fb80d5b6b05ab87be24d8f1e94f62405d6ccac
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 19 16:09:56 2021 +0300

    Disable PF_WAIT_DEBUG by default

    This fixes a regression that an existing error situation is turned more
    serious by failing an assert on it. The assert would also be
    overzealous even without the actual error situation it currently hits.

    See osdn #42029

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ad0a23910bfb415a73a8ec0157c071495d4502c9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 22 04:46:04 2021 +0300

    Meson: Enable fcdb

    See osdn #41934

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e7834dc937762da2086c29c2c0fa170fce02d333
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 18 07:08:09 2021 +0300

    aztec.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42023

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 15de591c1ce0e8b7abd717d034cdf4cd6326ddfa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 19 00:32:55 2021 +0300

    configure.ac: Don't check for /dev/urandom on Windows

    It could be found at configure time, but would not be available
    once freeciv is installed. Make sure it does not get enabled by
    not checking for it at all in Windows

    See osdn #42024

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ebb0fe78667186308539d1dc0a543034c76757ef
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 21 16:51:15 2021 +0300

    tcc.m4: Comment typofix: "usualy" -> "usually"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 47f68a9d65977dd71ec588b036b2c39d2d190764
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 9 00:18:27 2021 +0300

    Ruledit: Prevent multiple "Edit Values" dialogs for same ruleset item

    See osdn #41951

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a85f5d2f874aa7a06772f91ffd4d5a1e705ae4bc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 16 22:37:39 2021 +0300

    sandbox: Add Wipe Defenders action

    See hrm Feature #922861

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 425d89101112c53f6acd179b6cdb7a566a09e017
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 17 15:14:24 2021 +0300

    austria.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42019

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c5c3236bafc5e75fb7e86a09398f51f6c4cd53a4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 15 16:06:00 2021 +0200

    Factor out can_attack_non_native_hard_reqs().

    Split the new function can_attack_non_native_hard_reqs() from
    can_attack_non_native(). This separates the hard requirement rules from
    reasoning about the rules.

    See osdn #42009

commit 79c38600a7fac761de35a57e37c8068a77c788ee
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 15 15:15:01 2021 +0200

    Allow nuking non native with no attack_strength.

    Allow a unit with "AttackNonNative" and without "Only_Native_Attack" to do
    "Nuke Units" to a non native tile even if its attack_strength is zero and it
    is unable to perform any other attack action.

    See osdn #42008

commit 2ae56552843f3540e844ad9b64145285a75f2f43
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 15 12:08:16 2021 +0200

    unit_attack_unit_at_tile_result(): action param.

    Take what attack action is being checked as a parameter to
    unit_attack_unit_at_tile_result(). Stop checking the rules for other actions
    when it is specified.

    See osdn #42007

commit ccfd37ffadebf30d4b5fb59d9b5c03089ce7fffe
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 15 11:41:17 2021 +0200

    Fix unit_attack_*_at_tile_result() header length.

    Fix the line length of the function headers of
    unit_attack_unit_at_tile_result(), unit_attack_all_at_tile_result(),
    unit_attack_any_at_tile_result(), unit_attack_units_at_tile_result()
    and unit_wipe_units_at_tile_result().

    See osdn #42006

commit 09611968677c87ba0800bb8887bd8f4485d94479
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 15 10:59:10 2021 +0200

    Document "Nuke Units" on non native tiles.

    The action "Nuke Units" is influenced by tile nativity of the target unit,
    the "AttackNonNative" unit class flag the "Only_Native_Attack" unit type
    flag. Document it.

    See osdn #42004

commit 2c45b15d2e222ea82027b1f1548bcd4065ae1471
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 15 10:32:08 2021 +0200

    Action prob: custom AttackNonNative detection.

    Requested by serge_alard

    See osdn #42001

commit 488c0aa422e78ed175ac159f91fd9a874818846d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 15 07:19:44 2021 +0300

    Update gnulib-common to serial 65 from gnulib upstream

    Update also stdlib_h.m4 to matching serial 61

    See osdn #41999

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7f2a9d3a538b1d846942d0ffb700d01e570638ac
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 8 22:41:00 2021 +0300

    Rulesets: Add space around '=' in file description assignment

    See osdn #41956

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6a0c81ee24ed4422a078ea5bd48af764eba7da75
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 6 15:46:57 2021 +0300

    Purge already built buildings from the worklist

    They used to be just postponed.
    This is not exactly targeted to the case where building is
    already built, but takes effect for any unknown reason for
    which building is not buildable at the moment.

    Requested anonymously

    See osdn #41925

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5561aff8bfe0fa3eceea9d13bf405e283b3ff0cf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 16 20:31:57 2021 +0300

    argentina.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42016

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b434dcedae2754f404f089b77358235763c2859f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 13 20:48:16 2021 +0300

    Fix false positive when looking for moc-qt5/moc-qt6

    See osdn #41997

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f3fe5b97828ce35c5397b4db990acd63452900e6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 8 16:24:10 2021 +0300

    Ruledit: Use QCheckBox instead of QRadioButton where sensible

    See osdn #41945

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 208f670812249c702db7d0a77fd6dc1075040de6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 6 15:36:49 2021 +0300

    Correct worklist_item_postpone_req_vec() return value documentation

    Function header claimed it returns TRUE when item can be postponed.
    In reality it returns FALSE in that case.
    There was also a double negative "never can't" in another sentence.

    See osdn #41927

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0dccbfc59efb713c7b38d559793ef9bfe99fa91e
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Mon Apr 19 02:11:55 2021 +0200

    Updated French translations

commit a978d996ec4c8235388eef850b32fe5cc9ab0f6e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 12 14:17:25 2021 +0200

    Use scenario ruleset as fall back.

    Some scenarios aren't ruleset locked. They can still require that the
    ruleset has certain ruleset_caps. The current ruleset may not fulfill that
    requirement.

    Fall back to the ruleset specified in the scenario's rulesetdir when that
    happens.

    The previous behavior was to both fail to load the scenario and to reset
    the ruleset.

    See osdn #41994

commit 0a379e83ffed678cfb3273a2b2bc45b9dd9b86a1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 12 12:41:20 2021 +0200

    Document how to set ruleset for scenario.

    Some scenarios aren't ruleset locked. Document how to set the ruleset of non
    ruleset locked scenarios when this is attempted after the scenario has been
    loaded.

    See osdn #41962

commit 2eba97c22c7bf79cd382ec76e4eaa9de062fdc6a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 16 05:32:53 2021 +0300

    arab.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42012

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e822bedff2dcc7b9dea772c458354b4b79887610
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 10 11:22:46 2021 +0300

    Make it possible to use custom database.lua

    See osdn #41880

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c0a05adb66ab74e5a530bd1a860ef3afff649edd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 8 16:10:31 2021 +0300

    Ruledit: Add support for description file reference editing

    See osdn #41946

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bd2d875580d37a50d576dd74fb3a83e7f501d06e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 8 06:48:59 2021 +0300

    Improve help about Barbarian Leader ransom

    The sum paid may be less than the ruleset defined value if
    the barbarian player has less money.

    Reported by chippo

    See osdn #41938

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 336c28f8c5c2deb1d92e920faf824a7dbcdd0116
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 15 16:11:57 2021 +0300

    usa.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42005

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 046f7d60f3283e62a1c0368593583c23b47887f0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 17 18:05:19 2021 +0300

    Registry: Add support for comment entries

    Unlike comment sections we already had, comment entries are inside
    another section, i.e., they appear next to other entries within
    section, not outside all sections.

    See hrm Feature #658079

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 43e0d6dd42096c95e534958770a4e593edffd576
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 8 15:45:54 2021 +0300

    Ruledit: Add support for editing unit build cost

    See osdn #41950

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c90b739f53a925a145f671161e6011955d5f920c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 17 03:23:49 2021 +0300

    AI: Make invasion_funct() to handle cargo units of the passed unit

    Handle unit itself and all of its cargo. The code used to handle
    the unit itself only.

    See hrm Bug #872215

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e2d191c6261bb8499670717e0612886f2670a520
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 10 16:43:51 2021 +0300

    iran_ancient.svg: Shrink page size to image size

    See osdn #41966

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 212d115eb1148c9240a7fac45171b62d17ae423d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 5 09:57:12 2021 +0300

    gtk: Change multiplier current value label to show "Now"

    The old "Cur" was deemed confusing.

    Reported by Dean Brown

    See hrm Bug #727155

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bcb9799f202e2a3061352a69097930ecc42c0acf
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 12 12:11:51 2021 +0200

    action_actor_utype_hard_reqs_ok*() takes action.

    Update parameter in function comment header.

    See osdn #41993

commit a3fa191cf7b6b516f470f2f4292fbf552d181bed
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 12 12:07:22 2021 +0200

    req_vec_fix: item_info has been renamed to item.

    Update parameter name in function comment header.

    Reported by Marko Lindqvist

    See osdn #41931

commit 7351f3f705d354bd6f621668e5ab34fea64d2007
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 12 10:48:58 2021 +0200

    Document what 'disabled' means in an enabler.

    See osdn #41992

commit a1489b3bc169e56a4205299489a776206a15c843
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 8 15:35:32 2021 +0300

    Ruledit: Consistently place "Edit Values" button in different tabs

    Also name it "Edit Values" also in tab_unit. It's now always
    placed after the ruleset item name fields, before any of requirement
    or effect buttons.

    See osdn #41944

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8e3d6558170e91118a06eeaf0533b33529610ddf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 16 07:46:25 2021 +0300

    Comment typofixes: compatability -> compatibility

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b21c1676b928433ddfc08f09726ba413d266aafd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 16 04:20:34 2021 +0300

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aef1f0d443b83a10fd682b7d9901fe84023587fc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 16 03:06:46 2021 +0300

    Drop unused 'capital' field from PACKET_EDIT_PLAYER

    See osdn #41921

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 64dee683aa005260d7508e0b2eb43c64c32f6bc9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 12 10:02:13 2021 +0200

    Less scary "action enabler dropped" logging.

    Inform the user that multiple copies of the original enabler may be created
    while hard obligatory requirements are added and that the enabler being
    dropped because of a self contradiction may be one of multiple copies of the
    original.

    Demote the log level of the message when an enabler is dropped because of a
    self contradiction to warn. As multiple copies are created when there is
    more than one potential solution a self contradiction currently only
    indicates a potential error.

    Thanks to Marko Lindqvist for feed back on the solution.

    Reported by Marko Lindqvist

    See osdn #41971

commit 108974259172bcd9ce93d2fae639675cf6350bfb
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 12 09:14:51 2021 +0200

    Mention where the action enabler was dropped.

    Have rscompat_enabler_add_obligatory_hard_reqs() specify in its error
    messages that the enabler was purged while adding hard obligatory
    requirements to action enablers.

    See osdn #41991

commit ae954503c1faca4c1b5f7ed9af47da15a73aa0a2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 5 13:09:30 2021 +0300

    hexemplio *.spec: Define artists in correct section

    Client expects entry 'info.artists', hexemplio hills.spec and
    mountains.spec had no [info] section but had 'spec.artists',
    leading to unused entry warning from the client.
    Add [info] section where 'artists' entry goes.

    See osdn #41923

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit da478ee974d11d059b934235ee79938603abf125
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 6 22:10:14 2021 +0300

    Enable /dev/urandom support when possible

    Add configure check to enable support for using /dev/urandom
    as entropy source for randseed.
    For cross-compiling the default is to disable support, but
    you can override that by setting ac_cv_dev_urandom=yes

    See osdn #41918

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4cd38aeb38027df450a34d5c9da82b10cbb793bd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 4 05:09:45 2021 +0300

    Drop 'compat' parameter from lookup_cbonus_list()

    See osdn #41916

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e545cbdcd59bd8835d7cdf57dd9bf419a39ccaa8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 3 19:57:35 2021 +0300

    Use tag "unit.cultivate" instead of "unit.irrigate" in supplied rulesets

    See osdn #41914

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8bb9a654f6f47b8c9fb2132423eda3c4ca26d8d0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 14 17:51:29 2021 +0300

    Fix 'make dist'

    Fix typo in the name of 'convert_png_legacy' to add to tarball.

    See osdn #42002

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8ff254007fdedfef1fa48d4dc20eaef51bd25c41
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 12 21:47:14 2021 +0300

    convert_png: Make to work with Inkscape 1.0.2

    See osdn #41884

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bdf19ba8acc94e6584959fc7bc1cb98e79b71315
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 14 14:01:34 2021 +0300

    Use AC_CHECK_HEADERS() when HAVE_xxx_H macro expected

    AC_CHECK_HEADERS() with two headers to check was recently
    changed to two separate AC_CHECK_HEADER() uses as one of
    them require special handling. What was missed, was that
    AC_CHECK_HEADER() does not define HAVE_xxx_H like
    AC_CHECK_HEADERS() does, leading to compilation failure.
    Replace those AC_CHECK_HEADER() uses with uses of
    single-parameter AC_CHECK_HEADERS() to have HAVE_xxx_H
    properly defined.

    This should fix OSX build.

    See osdn #42000

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a2023f4943bb71783307fd7bed25dee3f7a11f15
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 12 15:42:24 2021 +0300

    Fix build on cygwin

    See osdn #41995

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ad3644352353064b18ca459d1093293383445e82
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 3 08:38:51 2021 +0300

    Meson: Add xz compression support

    See osdn #41907

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 03730d337ba359711d28da93dd53223371f483b6
Author: Chang Liu <goduck777@gmail.com>
Date:   Tue Mar 2 07:04:03 2021 -0500

    SDL2 client: force UI refresh when turn ends

    Fix some dialogues not showning up when player's turn ends.

    See osdn #41683

commit 4156fb52b264170476ccd0154222f83e2e9bbbe6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 6 15:25:10 2021 +0300

    civ2civ3/sandbox: Consume Diplomat or Explorer establishing embassy

    Establishing Embassy without unit cost was overpowerful action
    considering that embassies give tech leakage, units capable of
    establishing embassy are given as startunits, and by default
    all players start at the same continent, i.e., are easily reachable.
    It also made Marco Polo wonder obsolete.

    Reported by chippo

    See osdn #41929

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1e1fefe68a3a4b4a67230be9cf0f709b70b81f1e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 7 16:58:54 2021 +0300

    Update fcdb lua api documentation

    See osdn #41935

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d8961826d1f43c793f1f5424879af3189e9f58ea
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 3 08:57:05 2021 +0300

    Clean out rscompat code for transforming Irrigate/Mine activities

    Conversion from transforming Irrigate and Mine activities to
    Cultivate and Plant is 3.0 to 3.1 change. Master supports conversion
    from 3.1 to 3.2 only.

    See osdn #41908

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit faaef245f4a027879dd80f743eeb109840bb3b76
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 7 03:05:23 2021 +0300

    tcc: Return value even after exit() call

    Fixes tcc warnings like
    server/savegame/savegame2.c:1048:error: function might return no value: 'char2terrain'

    See osdn #41890

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 78a55ea5f97c3b40e7a317ccb6c090b455f91364
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 11 00:09:16 2021 +0300

    civ2civ3/sandbox: Add missing newline to Anarchy helptext

    See osdn #41969

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d831240c3e4b3622092cae4e553b4638b1059b87
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 12 16:35:35 2021 +0300

    Comment typofix: Structute -> Structure

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5dd8e0d78033582978ffada440eb248cff0286a6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 10 11:25:12 2021 +0300

    Ruledit: Use QSpinBox for numeric requirement value

    In requirement editing dialog, text editing field was being
    used for entering value for requirement types that take numerical
    value. That wrongly allowed user to enter any text, not just numbers.

    See osdn #41893

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b31f71be0fc98f9f6441e63cd9d61189551ba9ff
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 12 11:28:20 2021 +0200

    Comment grammar fix.

commit 270170d53071377138ca5cc8989ab049a927dc41
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 12 10:45:18 2021 +0200

    Comment spelling fix: rueldit -> ruledit

commit b61c0c09300772cc6f1844d218e7987f4a933f1c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 12 10:05:23 2021 +0200

    Comment fact fix: update for multiple solutions.

    An obligatory hard requirement for an action enabler can now have more than
    one solution. An action enabler self contradiction is therefore more likely
    to come from some but not all solutions contradicting the original action
    enabler than from the original action enabler never being in use.

commit 6685dedffa1f73cfd47b79c44bddb8143144ac54
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 3 09:32:28 2021 +0300

    Update included lua to 5.4.3

    See osdn #41909

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 96db3fef5a7ca77a38605b7b37611f350eabbadc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 3 19:41:00 2021 +0300

    Use tag "unit.cultivate" for Cultivate activity

    Also Irrigate activity falls back to "unit.cultivate"
    Many rulesets still have "unit.irrigate" as alt tag for
    unit irrigation extra building activity.
    We can (and should) change supplied rulesets, but to
    support custon rulesets - which may result from
    ruleup from earlier version - supplied tilesets still
    provide "unit.irrigate" as an alias for "unit.cultivate"

    See osdn #41913

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9ba1c064ee6bc804200059faa02a58f9b36335da
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 3 04:43:14 2021 +0300

    Rulesets: Improve Nuke related action enablers coding style

    See osdn #41904

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9ffc624fd11f02acbec27f42df921cf796ccbe99
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 11 12:21:09 2021 +0300

    Fix send_city_info_at_tile() crash when the tile has no city

    See osdn #41975

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9cf91898a7fb1a1f048539ee15791d41d56070f3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 8 17:15:30 2021 +0300

    Wait until city is in sane state before sending info packets

    Don't send city info packets to client in the middle of the city
    processing when city might be in inconsistent state.

    See osdn #41851

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0009bb82344512e591dfe884ce69c9e7137d87b8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Apr 11 00:40:05 2021 +0200

    Comment fact fix: unit may be dead.

commit 30e78c83705d2f932015a36e9c3eca65bd1ba273
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 4 05:21:23 2021 +0300

    Clean out rscompat code for loading resources that are not extras

    That was a 2.6 to 3.0 conversion.

    See osdn #41917

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8c0420cde0f322104dd616a68d314cc272e79bce
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 8 16:33:04 2021 +0200

    A building that allows actions isn't redundant.

    Some wonders in sandbox are shown as redundant even if they allow units to
    perform an action. Make enabling an action count as a side effect.

    Requested by Emmet Hikory in a FIXME comment.

    See osdn #41955

commit b0d6d5969424accf8b3822e11ea0cb959b7cd326
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 8 16:28:59 2021 +0200

    Factor out utype_player_already_has_this().

    Split utype_player_already_has_this_unique() in two so it becomes possible
    to check if a player has a unit of a certain type.

    See osdn #41953

commit e4d524f9471836342422b71de7365197fbf49894
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Apr 10 13:23:47 2021 +0200

    Comment fact fix: diplomat -> unit.

    The action selection dialog hasn't been diplomat only for a long time.

commit 568ef0f8c61a7d1b74cdc3cf93328635a3179e8c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Apr 10 13:12:34 2021 +0200

    Comment grammar fix.

commit 97e93f86195e5c36efe2e0f8a389555a8f7dc9d2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 11 00:07:44 2021 +0300

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 59f00c49dbe4aa2d010a2f07ec0916baa6d44e22
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 8 17:22:46 2021 +0300

    Meson: Add gitrev option

    See osdn #41881

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 226c931575e58d8a370d8e5f47c2b54f5f357147
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 7 03:15:30 2021 +0300

    gtk unitselect.c: Use GINT_TO_POINTER to cast between pointer and integer

    See osdn #41932

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit efa2fa51305b80c7f38d990d5483158f9026d802
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 3 13:37:39 2021 +0300

    Round city size reduction by nuke_pop_loss_pct to nearest, not down

    Make default nuke_pop_loss_pct 49 (instead of 50) so cities are never
    completely destroyed when the default value is used.

    See osdn #41911

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2459c896b204e1b86dfcdb506ddde6db322ae524
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 3 06:42:15 2021 +0300

    Update stdlib_h.m4 to serial 59 from gnulib upstream

    See osdn #41906

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 400cd4466b35301a9f2abf73beda3d93f8d47879
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 4 07:34:01 2021 +0300

    civ2civ3/sandbox: Clarify luxury rules under Anarchy in help

    Requested by Goz Nij

    See hrm Bug #811425

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d7de73b0df71791666326e40078f0b1ab3c67911
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 9 15:05:44 2021 +0300

    Bump version number to 3.1.90.2-dev

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 51d4dfed2432efc6db71a8f4e66ee8d81b808914
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 30 19:52:27 2021 +0300

    INSTALL: Drop outdated OSX notes

    Reported by Dean
    See osdn #41887

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 58b89ae006d442aab78a7f2ec1f01479f4158557
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 30 15:04:31 2021 +0300

    meson-winbuild.sh: Store fc_config.h and crosser conf files to output package

    See osdn #41882

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 027c35bda56e8e4baabd65e37a0a504d9743c0c3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 1 05:37:10 2021 +0300

    Ruledit: Allow entering effect values in range -1000 - 1000

    It used to be limited to just 0 - 99.

    See osdn #41892

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 68b73ca9e0d724d4ed235ba27445fda70a022559
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 31 05:42:24 2021 +0300

    Update lib-link.m4 to serial 32 from gnulib upstream

    See osdn #41889

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9c22ec41b4789440e31a8e14f26f1f7aac347793
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 6 15:59:54 2021 +0300

    Fix CM crash when the other end of the trade route is not yet known

    Reported by alain_bkr

    See osdn #41926

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a5c8c1226464f259146687ba2c53ee6a54771e16
Author: Hilde Iren Lagnason Bye <lagnason@hotmail.com>
Date:   Wed Mar 31 12:10:57 2021 +0200

    Run action_dice_roll_odds() only when relevant.

    The function action_prob_pre_action_dice_roll() will only use the result of
    is_effect_val_known() when the value of EFT_ACTION_ODDS_PCT is known.

    See osdn #41928

commit 8f2d893f3da6447c64f2371f100a75c554efaf73
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 24 06:24:51 2021 +0200

    Replace 1 with TRUE in ai_fuzzy() function header

    It refers to a boolean value.

    See osdn #41847

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 11032a7a4c489ca9555be46171d1676e3a5d9594
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 1 05:01:24 2021 +0300

    Ruledit: Add building details editing dialog

    Thre only value that one can edit in the initial version is build cost.

    See osdn #41891

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6b2bd6f305bc3fb613fdcf9ff65075504e82ecc8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 7 17:08:32 2021 +0300

    client/.gitignore: Drop freeciv-xaw entry

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 91d7a6b36038b313ecf981cc261f0317534ca2b4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 29 21:52:26 2021 +0300

    Introduce randseed typedef

    Replace various uses of 'int', 'unsigned int', and 'uint32_t' as
    random seed type with a new 'randseed' type.

    See osdn #41873

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a52d763673c867b1aeadef7e2b38182edf884961
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 30 15:02:54 2021 +0300

    Meson: Set _WIN32_WINNT for Windows builds

    See osdn #41883

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5faa96e04ea084e7a222146e308d942a856cc0a0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 23 02:05:43 2021 +0200

    Add CityStatus values "Disorder" and "Celebration"

    Requested by Jacob Nevins

    See hrm Feature #870141

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4ad764d98dcd7d55a55406adc2a9e495e65a42b6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 22 16:46:50 2021 +0200

    Update progtest.m4 to serial 9

    See osdn #41830

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3d5e3a4f62d18cf26a17c170ee0d7acc97c82c62
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Sun Apr 4 00:39:24 2021 +0300

    fuel pathfinder: dont wait for no reason

    See hrm Bug #923677

commit 34c6d30cef0750532bc8ad41c810f808780a2165
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Apr 3 11:19:22 2021 +0200

    Remove unnecessary restriction.

    For quite a while key_unit_action_select() has set server side client state
    calling up an action selection directly. This removes the need for banning
    it while another action selection dialog is open.

    See osdn #41920

commit 44b97eb205a896605055346ef18e3e5fd2bd9420
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 30 16:06:21 2021 +0300

    Use os.time() in database.lua

    It replaces dirty database access to get the time.

    See osdn #41879

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c9f1c5b136974929400b9db0c65a9947ee59b136
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 25 04:22:39 2021 +0200

    Introduce wonder_visible_to_player()

    It tells if information about player's wonder should be sent
    to another player. Introducing this initial version is just
    refactoring - all wonders are still always sent.

    See hrm Feature #923785

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5bea236dc0070dbdf33178a19c88d0aeafe9ad85
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 30 05:42:17 2021 +0300

    Drop 3.0 to 3.1 rscompat code for old veteran raise chance entries

    See osdn #41878

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 50f754b43084b622f7261c314dbaa8d3d16cd02e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 23 20:21:17 2021 +0200

    CI: Switch OSX build to Qt6 mode

    See osdn #41840

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1cc55084c296fcf4fa22b2deb3df9f052cebc826
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Mon Apr 5 13:12:18 2021 +0200

    Updated French translations
    (including bullet conversion from "*" to "%s" )

commit c824b7a4bc2fb1760ba6b1e5e59c556c50062739
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 3 05:55:52 2021 +0300

    Fix Qt-client shadow warning about 'password'

    Rename global variable 'password' as 'fc_password' to avoid
    conflict with Qt headers.

    See osdn #41905

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 315ae36edd26b4f4093dc30e0d4f55000bb8c397
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Sun Mar 28 21:51:28 2021 +0300

    Remove unneeded movement from AI air attack code

    See hrm Bug #924327

commit ecf16d2769245a8c5d7d6853cfd7c711b875ab4f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 5 05:14:47 2021 +0300

    version.h: Correct compile time error message

    It claimed that the file's name is plural versions.h

    See osdn #41772

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aeb11dcf7270b85ed7f715732efa03513eadf706
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 23 07:17:20 2021 +0200

    Make scorelog start check to respect ruleset set start year

    Reported by Jacob Nevins

    See hrm Bug #820731

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b1565d1fa6959ac788a4c0cf273e12c84a76d3a8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 29 06:23:56 2021 +0300

    Support unpredictable random seed on Windows

    See osdn #41842

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f4786b5f2c8b4606c9b0269d277f497dda326735
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 22 23:52:06 2021 +0200

    Make Qt configure message to specify Qt5 or Qt6

    See osdn #41833

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 39863b4d9fc158cf82dcbe5ceb76ad8312fb506d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 1 08:02:12 2021 +0200

    Don't translate action_auto_perf_cause names.

    The translation of action auto performer names aren't used. They probably
    won't be used - at least in the near future.

    Reported by Hubert Kowalewski via Marko Lindqvist

    See osdn #41866

commit 74603754b75233d4c516f9073a9c9c9a7477711c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Apr 3 11:01:12 2021 +0200

    Comment fact update

commit ab0a697b5993ca38f20196758a5b03a0372eb3f8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 15 11:19:53 2021 +0200

    Do occupying move after Wipe Units

    Requested by Alexandro Ignatiev

    See hrm Feature #922859

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6b29b46dad28cce223ecbcee684834e9fcd73bf9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 23 07:11:34 2021 +0200

    Rename GAME_START_YEAR as GAME_DEFAULT_START_YEAR

    See hrm Feature #923660

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 65730206ed67ed6a369d5459c7ce8fb7fae8e791
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 24 23:23:48 2021 +0200

    Correct name of check_city_feelings() in a comment

    See osdn #41852

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1c7fc268c63d199e89ce94d0a3fee70b08f2c0e7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 3 04:23:12 2021 +0300

    slavic.ruleset: Clean up the ruleset coding style

    See osdn #41764

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 54b58469e7ebb132ffcb5e326d4afc65de161b91
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 23 20:12:31 2021 +0200

    Add OSX Qt6 mode support

    See osdn #41697

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2d291ee210e7c39209afe99fd9ab44dcac147857
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 2 14:57:22 2021 +0300

    Path finding: Allow path to moving transport, but not through it

    Make it possible to enter transport on goto with a goto.

    It's still impossible to make a path through such transport, as
    it would move away with the cargo unit in it, and the cargo
    could not continue where it wanted.

    Reported by bluss contributor

    See hrm Bug #647612

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 399f7661da51f9f985f13642dba0d395fd923ba3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 2 09:36:27 2021 +0300

    sdl2: Refactor get_widget_pointer_from_id() for minor optimization

    See hrm Feature #921195

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f56a3d2c14023b2b45495d69db6671d9736e6c06
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 1 17:28:22 2021 +0200

    Comment clarification

commit d5684691eaaae10587a089b00732eea73ada7ab0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 30 05:06:09 2021 +0300

    helpdata.c: Move bullet point character to a macro

    Instead of writing bullet point character to every line,
    have a macro BULLET that defines the bullet point character to use
    in just one place.

    See osdn #41877

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2c804ab99a3d930d942454efaa1a35ccf21c9fca
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Sun Mar 28 14:28:02 2021 +0300

    civ2: give real scramble bonuses to fighters

    See hrm Feature #923193

commit 0560b0067129f791b089427324f908dbab82e543
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 1 15:35:58 2021 +0300

    FAQ: Update current version number after 2.6.4 release

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 277b83f1cc0cf48045f61f3cbce365a62495e71c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Mar 30 21:58:42 2021 +0200

    diplchance documentation: ruleset configurable.

    Mention that a ruleset can disable taking initial odds for the pre action
    dice roll from the diplchance server setting in its documentation.

    See hrm Feature #924524

commit bf974420d59dde6c42145ff17fea5ce7290a1273
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Mar 30 20:58:12 2021 +0200

    sandbox: demonstrate poison city diplchance.

    See hrm Feature #924521

commit 5c64320446348752a681486ae4841966ef2b9efb
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Mar 30 18:02:33 2021 +0200

    Success dice roll for "Poison City [Escape]".

    Make it possible to add a pre action dice throw to "Poison City" and to
    "Poison City Escape".

    Given higher priority after a discussion with Lexxie L and Marko Lindqvist
    around a year ago.

    See hrm Feature #869738

commit 159979a1d6721c4eb9862593a8002e8db478a801
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Mar 30 17:53:57 2021 +0200

    helpdata: always 100% odds can't fail.

    Don't claim that an action that always has odds of 100% can fail because of
    a dice throw even if it does throw the dice.

    See hrm Feature #924512

commit 40e0bc13992ee0d1b9c7443e5a8b4fa96df49e87
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 23 04:21:32 2021 +0200

    Save AI's current wonder want and wonder city to savegame

    As it has the data available after loading the savegame, it
    won't erroneously switch from wonder production to unit production.
    It used to consider all improvement wants zero after savegame
    loading until the turn it does recalculation.

    Reported by Chippo Elder

    See Bug #857459

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d2654b9368ede8b47b820327724b5ad6bcb54420
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 21 10:17:24 2021 +0200

    Update host-cpu-c-abi.m4 to serial 14

    Also update lib-ld.m4 to matching serial of 10

    See osdn #41818

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bb09a4fb623840fbc578479ef1fc25f0aeb721f3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 29 21:41:49 2021 +0300

    Document setting up PKG_CONFIG_PATH for finding icu-uc in OSX build

    Reported by Dean

    See osdn #41872

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cbc0167610fffef0642e94157fb159899454765f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Mar 29 23:49:10 2021 +0200

    Action decision wanted for the hex2t tileset.

    See hrm Feature #924388

commit 651b7701de669db433732d30d4fc2a9bd53d425f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Mar 29 10:05:31 2021 +0200

    cimpletoon: add Ancient Transport Hub graphics.

    See osdn #41876

commit f009a6153b14e14cb411158c470fcb64907bf32a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Mar 24 12:17:58 2021 +0100

    non allied -> non-allied

    See osdn #41875

commit aa08f9a78571ca6e96fc4fbbfa083eb7ce8eb3ff
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Mar 29 22:15:01 2021 +0200

    sandbox: start odds for spy nuke with diplchance.

    Take the initial odds for the spy nuke actions from the diplchance server
    setting.

    See osdn #41874

commit 75f18c1f3eca1520d7842b88c5c1a7d284ea2a4e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Mar 29 22:10:52 2021 +0200

    Suitcase Nuke [Escape] action probability.

    Includes action probability calculation function for possible diplomatic
    battle followed by dice roll modified by the Action_Odds_Pct effect.

    See hrm Feature #920121

commit 0d512394bf3029a739fff3a21403d4621ed6db7c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Mar 29 22:26:52 2021 +0200

    Introduce action_prob_and().

    See hrm Feature #924387

commit f20c8d29168bf94de0c46a2926f621e6f28f3aad
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 22 18:01:25 2021 +0200

    Ruledit: Make unit tech req menu easier to use

    See osdn #41832

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4add33c249a81bb4d20494d8cce8ec006d7e0ce0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 15 08:47:21 2021 +0200

    Add Action "Wipe Units"

    Wipe Units wipes all the units from the target tile if none
    of them has positive defense value. This applies even when
    stack death does not usually apply.

    Requested by Alexandro Ignatiev

    See hrm Feature #864356

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 757bb201eb1d9017ccd517b6d1c90b1848bd301c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 30 20:48:12 2021 +0300

    Update Polish translation by Hubert Kowalewski

    msgmerged from S3_0 77afc666f5

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 17baf62d58d3cd3b06d8684e57033720cb8f90ca
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 25 00:08:22 2021 +0200

    Drop "Partial_Invis" compat mode handling

    The flag was not part of 3.1 ruleset format, so we don't support
    it even in compat mode.

    See osdn #41854

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3154697bf96ea8702a1dc289283878edbb37f3eb
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Mar 28 23:41:57 2021 +0200

    amplio2: add Ancient Transport Hub graphics.

    The glowing thing floating in the air that suddenly appeared out of nowhere?
    Just an ancient bus stop sign.

    See osdn #41868

commit 88d76acf7ed278d340e5037cadf45d4a14c7f635
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Mar 28 20:32:21 2021 +0200

    Action decision wanted for the hexemplio tileset.

    Add art for unit.action_decision_want to hexemplio and to tilesets that
    import it.

    See hrm Feature #924326

commit 567870b3aa638b048a6bb9355a70bfe4ec9d75b1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Mar 30 21:42:54 2016 +0200

    Action decision wanted for the amplio tilesets.

    Add art for unit.action_decision_want to amplio, to amplio2 and to tilesets
    that imports one of them.

    See hrm Feature #924321

commit 2ad6d1606c5a2bbb90bb58a46ba8573f82b58ff5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 24 07:44:58 2021 +0200

    meson-winbuild.sh: Create 7z package of the build results

    See osdn #41849

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d2cc00739a82cda561db27eabe569a97d795edb5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 23 04:19:54 2021 +0200

    Do not call building advisor as a human player when actually AI

    That happened in savegame loading.

    See hrm Bug #923658

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a4b7021cbc95f32a154ddcc16435fa4eefdfced0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 23 06:40:05 2021 +0200

    Add achievement type Killer

    See hrm Feature #823396

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9c847152100babf8ab493270782e3d662fe2a1d8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 29 03:11:32 2021 +0300

    Update Spanish translation by Jordi Negrevernis i Font.

    msgmerged from S2_6 445be91228

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0b8bd3a67710899404c1ecdedee532fcd75c2249
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 25 01:16:58 2021 +0200

    Meson: Generate 'run.sh' to support running from build directory

    See osdn #41856

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cef49f1dbcc4248d58458d06bbb39401ba2fad9f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Mar 28 19:44:49 2021 +0200

    Comment spelling fix

commit f9df948454e208fcc06774077c519b1e6f5268e8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 25 17:37:53 2021 +0200

    Add TRANS: comment about "Q1" ... "Q4"

    Reported by Hubert Kowalewski

    See osdn #41858

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5a9eb6f3450d30d716585dae88cae9352fb4c0c3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 24 23:52:51 2021 +0200

    Introduce RSFORMAT_3_2 macro to use instead of Magic Number

    Use macro RSFORMAT_3_2 instead of value 30 when referring to
    format version of the current freeciv version.

    See osdn #41853

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1f377afc228cc7444300a22371964d410fb08bdb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 26 08:52:26 2021 +0200

    Send info about city size reduction to everyone in nuke-specific part of code

    Osdn #41810 changed generic city_reduce_size() to send city info about the
    city in question to everyone, instead of doing sync_cities().
    Revert that change and instead send the city in question in
    nuke-specific code.

    See osdn #41860

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5927d460a9ab3799a2a9c5c26c0d691c5d351f6d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 24 07:20:05 2021 +0200

    meson-winbuild.sh: Fix to work with crosser-2.0

    See osdn #41848

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9da37d6227da87bea8bfee04afe38b42d2480536
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 17 05:52:04 2021 +0200

    diff_ignore: Add freeciv-web and freeciv-ruleup

    See osdn #41801

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 30554305398d5caf908c3222c5b917dcc703ec79
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 25 00:55:36 2021 +0200

    Clean out "Reserved" unit type flags

    See osdn #41855

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1e3ec26a323bbfae8e8a8554d293d9ff3253855e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 16:19:00 2021 +0200

    postgres.m4: Use $SED instead of hardcoded 'sed'

    See osdn #41773

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b199c95ab0549bc11e14952db467d9fe9b0f6ea2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Mar 24 03:25:41 2021 +0100

    Use NULL rather than FALSE.

    Assertions in action_enabler_suggest_repair_oblig() returns FALSE rather
    than NULL. It is supposed to return a repair suggestion.

    See osdn #41850

commit cadcdc3f33dcec39f9b066cae0644dfc156fcf4c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Mar 24 02:25:13 2021 +0100

    sandbox: complete the "Spread Plague" demo.

    Add the "Spread Plague" demonstration rules left out because of COVID-19.

    See hrm Feature #923727

commit 4b34040b79443a55bb31a672924666cf681df585
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Mar 24 01:49:38 2021 +0100

    sandbox: allow anyone to help build Treuga Dei.

    A pacifist wanting to end violence or a neocon looking forward to the Casus
    Belli against terrorist states once Treuga Dei is finished may wish to help
    a non allied player to complete Treuga Dei.

    See osdn #41846

commit e1b7c732a10418f74193dc8534f8177ee1047027
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Mar 24 01:14:36 2021 +0100

    sandbox: add "Mechanic".

    Demonstrate "Heal Unit" in 3.0 and non 25% unit healing and two Heal Unit
    actions in 3.1 and 3.2.

    See osdn #41845

commit 72ed378045928f989c7098baec7cc63f1bb971f7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 21 00:19:15 2021 +0200

    CodingStyle: Declare variables in the innermost block possible

    See hrm Feature #923438

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 71cbb869300de0b8049158123ab51f3ce2abe6ec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 21 01:27:15 2021 +0200

    Enable shadow warnings in C++ code

    See hrm Bug #900828

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5bb625bc26f653a1ba54b4c96e9b49780cdb477e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 24 02:17:29 2021 +0200

    Fix build on non-ELF platforms

    Update lib-prefix.m4 from gnulib upstream to fix regression brought
    in by earlier update.
    The new serial is 19, we had 17.

    See osdn #41843

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7265d2eeb2bc1ed582e5427d429e69eaac1d6e75
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Thu Mar 25 16:47:17 2021 +0100

    Updated French translations

commit 40036e6c7053b118b76f7f213e7f0fe25d09042e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 25 14:19:43 2021 +0200

    Update Polish translation by Hubert Kowalewski

    msgmerged from S3_0 1b2e82175f

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9ffe3bc075fc8c72442de539ce86dc304b45ab90
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Thu Mar 25 13:02:30 2021 +0200

    Add "CityDefensePct" combat bonus type

    Implement type-specific combat bonuses in cities that override
    "Defend_Bonus" effect.

    See hrm Feature #865084

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit 226638f270cf0817199b5e7884aa997741a16de9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Mar 23 13:31:28 2021 +0100

    sandbox: demonstrate "Unit Make Homeless".

    Demonstrate "Unit Make Homeless" by introducing a little bit more of the
    evil storyline of "Sons of Adam".

    Introduce the tech "Ruler Apotheosis", the wonder "Altar to The Divine
    Ruler" and the action "Unit Make Homeless" under the name "Make Sacrifice of
    Work". Adapt it to sandbox by making Theology obsolete "Altar to The Divine
    Ruler" and by commenting out the advisor.

    I find the fact that I introduce a little bit more of the evil storyline of
    "Sons of Adam" funny because the evil storyline of "Sons of Adam" is based
    on moving just a little bit further along the evil storyline.

    See osdn #41836

commit b0ae7a2c757b689665ba04ebc6201460357e12d0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Mar 23 03:06:53 2021 +0100

    Simplify away unit_move_igzoc().

    The functinon unit_move_igzoc() is only used to move barbarians out of the
    hut tile. The unit that entered the hut is located at that tile. Eliminate
    conditions that can prevent the barbariann from moving out and move the new
    function to barbarian.c.

    See osdn #41834

commit 1480f511c5eb8059706af8de023c5758194a83d6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Mar 23 01:20:18 2021 +0100

    ruleup: set exit status based on what happened.

    Set the exit status to failure if the ruleset couldn't be loaded.
    Extend the Fatal option to trigger when the comments couldn't load.

    Thanks to Marko for clarifying that fatal_assertions not catching
    log_error() isn't a bug.

    See osdn #41634

commit ea8b92d0ed6e6f8d111241e99e210d72c74ffbb2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 18 00:12:24 2021 +0200

    README.effects: Add missing 'is' word

    See osdn #41803

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit abf0065d79c5cb3892477f82c8fdab3e5991d582
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 23 05:49:01 2021 +0200

    Clean out 3.0 to 3.1 rscompat stuff from master

    See osdn #41835

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit af224510a3856877bf7f806d8b2e6341de26817e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 22 16:18:19 2021 +0200

    Alien: Install nation ruleset files to correct directory

    Reported anonymously

    See osdn #41828

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 09d44091cbaf50cde42e05aec5e95b5a44bb684d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Mar 22 14:44:37 2021 +0100

    do_paradrop(): trust the action system.

    Trust that the action sent is correct when determining if a city conquest is
    legal or not in the action performer of the paradrop actions.

    Thanks to Marko for pointing out a bug in a previous version.

    See osdn #41827

commit 686fb23aa53d37972467f38156dfd06a2f5bed79
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Mar 22 15:17:54 2021 +0100

    Document paradrop death side effects.

    The paradrop actions can kill the actor unit in certain circumstances.
    Document them in README.actions

    See osdn #41829

commit f07f02c9dae66a8147e71841510812927208f917
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Mar 22 14:34:31 2021 +0100

    autohelp: remove outdated claim.

    A unit with the CanOccupyCity unit class flag may be unable to occupy a city
    thanks to action enablers. A unit with the CanOccupyCity unit class flag may
    be able to occupy a city thanks to Lua.

    See osdn #41826

commit 48749d2084e4c7b3a0fdd02559bb6bb68a268cc6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 24 12:28:55 2021 +0100

    Fix city for "City Gone" action auto performer.

    The action auto performer system will set target city to the city at the
    unit's current tile if not specified. Set target city to the (potential)
    city at the target tile.

    See osdn #41825

commit 4c81b72a5ff69d680bc76f917a262aa0588fd857
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 16:35:57 2021 +0200

    Meson: Set QT_NO_DEBUG on non-debug builds

    See osdn #41775

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4c52800b97b4c2fa33f88bacd1990f3ba0e63651
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 21 01:24:51 2021 +0200

    Ruledit: Fix req_vec_fix::req_vec_fix() shadow warning

    See hrm Bug #923440

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7aa0ebd254e4d91e3161fa5b089ef0a3f5a65fe0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 23 21:52:26 2021 +0200

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e86c0b5c79f70a3e78edc33d4e8c9d8272623115
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 18:02:14 2021 +0200

    Europe 1900 WWI: Rename Finnish city of Tammerfors as Tampere

    Tammerfors is its Swedish name. Tampere is both Finnish and
    international name.

    See osdn #41777

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aa49f0434d7aef32649573b890dc70c81a3e60b9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 23 17:21:41 2021 +0200

    randseed.c: Include <sys/random.h>

    This fixes OSX build.

    See osdn #41838

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a56144bd28e2a19707cee5c5c3028a12c634d0ff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 15 17:13:38 2021 +0200

    Make generated random seed less predictable

    Patch by Ilkka Virta and myself

    See hrm Feature #914184

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9eca2977d7d0a48472b62ccd22ec979709b84560
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 23 05:17:00 2021 +0200

    Comment copy&paste error fix: improvements -> units

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d676484c2cfd4a0f61d7c7b1466b73cff7bb1590
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 04:51:37 2021 +0200

    Update iconv.m4 to serial 24 from gnulib upstream

    See osdn #41755

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 06d0f07b79b8b43ec3d8df4f786f320bc91ac84a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Mar 21 14:14:03 2021 +0100

    Add Sveinung Kvilhaugsvik as present maintainer.

    Reported by Marko Lindqvist <cazfi74@gmail.com>

    See osdn #41820

commit 72bc436b8902c2ec56ed8f83f296bcde2dc23392
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 19 06:55:14 2021 +0100

    Consider effect move cost in move to unknown.

    An effect can add to the move cost of a move. Make utype_unknown_move_cost()
    aware of this.

    Only consider regular moves, not other actions, for now. Don't see movement
    to an unknown tile as costing all movement points just because invading a
    city costs all movement.

    See hrm Feature #923136

commit d34c14d0a4f53652a79566240d429a6504b2c995
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 19 07:24:28 2021 +0100

    effect_cumulative_max(): support many universals.

    Allow specifying more than one universal the effect must apply to.

    See hrm Feature #923137

commit cd00ca30a80d9e72158907659e449081fd8b2cdb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 23 00:14:36 2021 +0200

    server/.gitignore: Add freeciv-web

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 02fd8753260c054608d69373be69ac49a1b6a1d9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 3 13:51:44 2021 +0200

    Make Visible_Walls effects from City Walls and Great Wall non-cumulative

    In rulesets where both City Walls and Great Wall are visible and
    otherwise replacing each other, make them to replace each other
    also in respect to Visible_Walls effect. Effect value is just 1
    even if both buildings are present.
    This improves support for tilesets that have support for multiple
    different wall types, as those rulesets do not accidentally show
    the other wall type for value 2 or the effect.

    See hrm Bug #823341

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6546dca8fabaaa9203dfc1ecb47c3df2f268bbb8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Mar 22 16:19:27 2021 +0100

    Comment explanation improvement

commit e9d398d100aa0329242bcd520f4dca5de95c7ac3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 15 03:42:17 2021 +0200

    Add ruleset control of unlimited airlift without capacity

    Add ruleset entries airlift_from_always_enabled and
    airlift_to_always_enabled. These are consulted when server
    setting airliftingstyle sets airlifts to unlimited, and
    there is no airlift capacity at all.
    The old hardcoded behavior of 'from' requiring airlift capacity
    and 'to' not requiring it are the default.

    Requested by Lexxie

    See hrm Bug #874937

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5ba524451e2b3b1fbbed41cc474246779fd7af15
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 19 09:15:58 2021 +0100

    rscompat: help Lua porting.

    Fill in the 4 user effects so they help porting the edit.unit_move() and the
    edit.unit_teleport() Lua calls.

    The ruleset author must do the Lua side changes him self.

    See osdn #41812

commit 67383deed6794494fb1937aca661578879c3203c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 19 08:19:20 2021 +0100

    Correct wrong moves_actor_kind.

    The actions "Investigate City" and "Establish Embassy" doesn't do diplomat
    escape. The actor unit stays in place.

    Set their moves_actor_kind to MAK_STAYS rather than MAK_ESCAPE. Don't charge
    all movement as the spy escape cost.

    See osdn #41811

commit dc994c107673e7f9af19a7d65e3fcaffeae43de2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 19 07:45:35 2021 +0100

    Include the action name of enabler with problem.

    Reported by Marko Lindqvist

    See hrm Bug #892147

commit 9c2a1c2588c86885ff5fb9386d7faa9cc977ca3f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 23:33:58 2021 +0200

    README.packaging: Don't list gtk3-client in --enable-client example

    See osdn #41780

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c2af2f66e1b1d245d2b91ce480878d7ba3c378dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 19:18:08 2021 +0200

    Correct granary_savings() function header

    It claimed that the returned percentage is lost when in fact
    it's what is kept.

    See hrm Bug #922785

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a58143c079f6e53ca53763d821b09896892a84a0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Mar 18 21:29:21 2021 +0100

    Send city size change during nuke.

    Update city information to all players that can see the tile of the nuked
    city.

    See osdn #41810

commit 1cea21ed81a45b103c538b91cecf968335123d71
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Mar 18 19:13:30 2021 +0100

    sandbox: document the nuke overhaul.

    See osdn #41696

commit ba20d4aa904f2c660753cbb3729b1b034e135899
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Mar 18 18:44:39 2021 +0100

    sandbox: demonstrate spy nuke

    Copy the rules I made for webperimental but adjust them for Treuga Dei.

    Intended to have a blast radius of 0 but that is only possible in 3.2.

    See osdn #41809

commit 13e2ce6be19399f3c4124aaea4724f3c03e85967
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Mar 18 13:20:16 2021 +0100

    Replace hut_behavior with HutFrighten.

    The HutFrighten unit class flag serves as an anchor that should be pulled
    when frightening and entering a hut at the same tile is supported.

    The user unit class flag "HutNothing" is used where hut_behavior may have
    been "Nothing".

    See hrm Feature #923073

commit 9dfba39d123eea116df16ee823a0f6f88f3480fb
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Mar 18 14:38:11 2021 +0100

    unit_can_*_hut() by action [sub] result.

    The hut_behavior of a unit class is no longer a guarantee that a hut can be
    entered or frightened. Have unit_can_enter_hut() and unit_can_displace_hut()
    check what actions the unit can perform rather than trusting hut_behavior.

    See hrm Feature #923089

commit b5759f6e8656cc607ada28dfd3c7ed8d5ee7392e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Mar 18 14:49:09 2021 +0100

    Unit [type] can do action by sub result.

    Introduce unit_can_do_action_sub_result() and
    utype_can_do_action_sub_result().

    See hrm Feature #923090

commit 1ff1861632553d6d9127f6c7238781c4dc71bda8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Mar 18 14:48:49 2021 +0100

    Move action_sub_result to fc_types.h

    See hrm Feature #923091

commit 8891cf24ab4636b7841361e04777c9308eab9aa2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Mar 18 12:01:27 2021 +0100

    Obligatory hard reqs by action sub result.

    Make it possible to specify obligatory hard requirements for actions by
    their sub results.

    See hrm Feature #923072

commit 6b48be2613f7f8ab49bf782d60f1c1ef41bdb672
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 21 08:58:40 2021 +0200

    Ruledit: Fix req_edit::fill_active() shadow warning

    See hrm Bug #921208

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ffca827f55209a627dbbcd3a978b604475a2fb07
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 08:29:03 2021 +0200

    readline.m4: Improve quotation

    See osdn #41759

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 89aca7932414195b63a5cc4360c82c3a527ab436
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 21:34:33 2021 +0200

    Check city itself for CityStatus OwnedByOriginal on Traderoute range

    See hrm Bug #922787

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0b29e0ff39ed0aef887f3222ca37d281b71b8b9b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 17:35:15 2021 +0200

    debug.m4: Update outdated comment

    It claimed that doc/HACKING lists flags used in 'checks' debug level.
    That documentation has been removed as a hacker can check the flags
    directly from debug.m4 itself.

    See osdn #41776

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2ac6d7245af84c84b681107d7cf43ce988a97abb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 8 04:07:39 2021 +0200

    Multiplayer: Say what differences in README.multiplayer are relative to

    The differences are relative to classic ruleset, not the default (civ2civ3)

    See osdn #41712

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2b358fac6ad41bf540eec7ef5e5112879ac19200
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 14:03:47 2021 +0200

    Rulesets: Add spaces around '=' in capstr and format version assignments

    See osdn #41768

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cf318356268b14f095c9b03efc7584d7361b9d85
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 19 17:58:26 2021 +0200

    Ruledit: Fix tab_enabler::update_enabler_info() shadow warning

    See hrm Bug #921179

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 35622d9c2fe5e554c79e177e5a94117c1172c9a4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 11 19:44:44 2021 +0200

    Refresh FAQ before 3.0.0-beta1 release

    See osdn #41736

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c11f19f91f40c7c9c87af81dd43915457c4c78d1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Mar 17 23:05:52 2021 +0100

    Unify "needs war" translatable message.

    Reported by Marko Lindqvist

    See hrm Feature #897730

commit 7d0cc8b64eb05ef3c5de59326f41a442b78a812e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Mar 17 18:31:27 2021 +0100

    Introduce req_vec_problem_new_transl().

    Add a function for creating new requirement vector problem where the error
    message already is translated.

    See hrm Feature #923036

commit 0865c3b3d22a4b0c9458c4f437d38d84cf234c0b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Mar 16 18:18:26 2021 +0100

    CI: run make distcheck

    See osdn #41799

commit c87bc4299734ebb6c2f265b3689692ac6c028697
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 14 22:17:01 2021 +0200

    diff_ignore: Drop Freeciv.h entry

    That file doesn't get generated any more.

    See osdn #41786

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c17f6563bc792ae4cfe62696b12a787257468bb6
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Fri Mar 19 04:46:28 2021 +0500

    Update for Russian translation.

commit e2d9f3050fd596d222e7f81c763a228f9ddb5b8c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 21:24:28 2021 +0200

    Add CityStatus type "Starved"

    Requested by Lexxie

    See hrm Feature #922788

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 18bf457f3b094888edc1967917d62cbe825f68c4
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Thu Mar 18 16:29:43 2021 +0100

    Updated French translations

commit ca167d64b079db381675d2b5afb0308676f77294
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 12 17:45:11 2021 +0200

    NEWS: Add 3.0 news

    See osdn #41751

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8cce0097e86d481aa3ad2b7865cc645333024241
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Mar 16 16:31:46 2021 +0100

    Remove unused "Transport Disembark 2" mention.

    The rulesets civ1, civ2 and webperimental mentions "Transport Disembark 2"
    in their Illegal_Action_Move_Cost effect but they never enable
    "Transport Disembark 2". Remove the mention.

    See osdn #41798

commit 5d83113dfe3c5177873fcb5d1e0bf8a1684d1b4d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Mar 16 16:31:30 2021 +0100

    alien mentions unused action "Join City".

    Remove the mention of the action "Join City" in the ruleset alien's
    Illegal_Action_Move_Cost effect as it never is enabled in alien.

    See osdn #41797

commit 6ee2fd8d3f33908c12fc8800f630d9199009cd8a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Mar 16 13:50:29 2021 +0100

    !TerrainSpeed shouldn't pay slow_invasion cost.

    Make sure that units without the TerrainSpeed unit class flag doesn't pay
    the slow_invasion MP cost.

    See osdn #41794

commit 7a63809c58aca3babcff202e7026f2ca6cae6d59
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Mar 15 23:04:31 2021 +0100

    multiplayer: make huts work again.

    Reported by Marko Lindqvist <cazfi74@gmail.com>

    See osdn #41766

commit ac340862d5ee3bf193fd5dcd66dba3eb9a6cbaf3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Mar 15 22:33:21 2021 +0100

    common/scriptcore: fix header line length.

    See osdn #41793

commit 22a35cb1edf114d1cb32af7b1dfe0e4f82f1671e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Mar 15 20:35:41 2021 +0100

    server/scripting: fix header line length.

    See osdn #41792

commit d39289d7e0f1c5f7b80f7cbcb606e8b4ec35e405
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Mar 15 19:14:34 2021 +0100

    Lua API: can't enter and frighten at once.

    Ban setting both enter_hut and frighten_hut to true at once. That will at
    the moment always lead to frighten hut. Forbid it now to reserve it for when
    one hut can be entered and another one frightened at the same tile.

    See osdn #41791

commit e89838c38b27f1eb8654c7653403388a25d81371
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 15:39:37 2021 +0200

    name_translation.h: Add "**//**" -marking to inline function headers

    For doxygen support.

    See osdn #41771

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fccb6e7c5dc8f798f2cc56e63074363ff57ce5f7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 11:58:12 2021 +0200

    Improve ..._blocked_by entries style in rulesets

    See osdn #41761

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9109419c75b261745346ceae78ed30b9ac22020e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Mar 17 18:10:53 2021 +0100

    Comment fix

commit 09aecef385c7f040d3ba4663e9d542bb292eb9d2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 15:10:56 2021 +0200

    Add spaces around '=' in assignments in C-code

    A couple of places were still missing them.

    See osdn #41770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2ebd37750b7acb494c1118fc8005ce54df0f99df
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Mar 15 12:35:11 2021 +0100

    Deduplicate "Establish Embassy" move costs.

    Doing post "Establish Embassy" escape to a nearby city spends all remaining
    MP. There is no point in also subtracting 1 move fragment for doing the
    action.

    Reported by Marko Lindqvist <cazfi74@gmail.com>

    See osdn #41765

commit 0c26dcf37779a985283d30f5c18492127219e7a1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 8 16:38:08 2021 +0100

    Lua API: remove move unit side effect setting.

    Disable all side effects of Unit:move() and Unit:teleport() rather than
    setting them based on the old rules when they aren't specified.

    This allows us to soft code rules that the setting of the side effect
    relied on.

    Thanks to Marko for feed back on my previous attempt at doing this.

    See osdn #41523

commit ee4c882d46c7ca744d8e5e39d2e43f6cc70f15a8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 03:56:07 2021 +0200

    Refresh config.rpath from gnulib upstream

    See osdn #41754

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a78e5c4dae0bcf8d5fde9381d928a975bd36daae
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 23:16:15 2021 +0200

    Correct documentation references to long gone civclient_gen.c and srv_main_gen.c

    They have been replaced by packhand_gen.c and hand_gen.c.

    See osdn #41779

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b492e9b8fc68d5f81fb855dbaf0f934d49d2b059
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 13:38:45 2021 +0200

    Improve grouping of movement related action enablers

    See osdn #41763

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b4bc5525f24fbb81099ca6d4127fa70fb687e808
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 14 20:52:04 2021 +0200

    Mark civ2 EarlyFighter helptext no-c-format for xgettext

    See osdn #41787

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2ead4127a51ff3ba03c3144d58345f6fc208f39c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Mar 14 13:29:17 2021 +0100

    New effect Heal_Unit_Pct.

    Make how much of the unit's full health the heal unit action will restore
    ruleset controlled.

    See osdn #41789

commit ef10f11079ae760ef2f5fdc092b22b28aec96b92
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Mar 14 21:14:56 2021 +0100

    Document hard "Heal Unit" requirement.

    See osdn #41788

commit 740dd6e55acd295f48e9d063abb24612056ed8dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 05:48:38 2021 +0200

    Fix 'make distcheck'

    translations/*/Makefile.in.in handles LINGUAS file automatically.
    Listing it explicitly only caused an attempt to include it twice
    to the dist, causing 'make distcheck' to fail.

    See osdn #41756

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a0c59d0abc917f648d7db9671de614ecca3ab54d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 14:28:44 2021 +0200

    Improve packets.c coding style

    See osdn #41769

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c7f1760543cd9e7987a49245d3d9c69b6d09fd38
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 6 12:42:24 2021 +0200

    CodingStyle: Allow C++ style comments in C code

    See hrm Feature #804348

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ee41dbb4216feebf0b80fd5bdfb28b3522387c80
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 12 21:36:02 2021 +0100

    New action "Unit Make Homeless".

    See osdn #41622

commit 547fb33c2d8c7ef7bddc883488e07460f12da85f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 13:02:12 2021 +0200

    Improve Action_Success_Actor_Move_Cost effect entries style in rulesets

    See osdn #41760

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3dd8ffa7946ef6105488e3a5318ae4afea8536eb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 07:22:28 2021 +0200

    m4/lib-*.m4: Update to gettext-0.21 level

    See osdn #41758

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f9efd7b096f5dc621da696a2206d0fc83c6c49f2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 14 20:51:22 2021 +0200

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bbd5e3f29fe87fe1afa8817267e83a007401aeac
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 12 20:00:44 2021 +0100

    Lua API: deprecate not specifying side effects.

    Deprecate calling edit.unit_move() - aka Unit:move() - and
    edit.unit_teleport() - aka Unit:teleport() - without specifying the side
    effect parameters and then assuming that they will be filled in based on
    the old rules.

    See osdn #41752

commit 75fa8d837d6377680adc146b794b5e3b716ff87a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 12 15:38:04 2021 +0100

    sandbox: demonstrate user effects.

    Decide if "Use Ancient Transportation Network" should be able to conquer a
    city or an extra at its target tile based on User_Effect_1 and
    User_Effect_2.

    See osdn #41750

commit 77c29a61a0f0be1c08fcba4c3a41edf6fd38aeda
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 12 15:28:33 2021 +0100

    Lua API: introduce effects.unit_vs_tile_bonus().

    It is like effects.unit_bonus() except that it takes a tile argument and
    that the city the effect is evaluated against is the city at the argument
    tile rather than the city at the unit's tile.

    See osdn #41749

commit 64af81fea0617ffc6dfbcac03716ad32373ab1d0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 12 15:09:01 2021 +0100

    Rename get_tile_bonus().

    The function get_tile_bonus() takes the primary player from the unit
    argument, not from the tile argument. Rename it to get_unit_vs_tile_bonus().

    See osdn #41748

commit 3b96fb330789d5ce225a10b64c2edfd7663b2217
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 12 15:00:15 2021 +0100

    get_tile_bonus(): set other_player to tile owner.

    This allows the effect using it to specify local DiplRel requirements.

    See osdn #41747

commit d28df97bd420c7623ab7b73de8557f38eb4aebb1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 12 13:59:36 2021 +0100

    Lua API: introduce effects.unit_bonus()

    See osdn #41746

commit 00014ef249a4c72d203b9c98acb4b3b8111985a7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Sep 30 15:30:43 2011 +0200

    Introduce ruleset defined effects.

    Add 4 user effects. They can be given meaning by the ruleset from Lua.

    See gna patch #2979
    See osdn #41745

commit c1977a44e7b255b589800b93993301e68a68d203
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 12 13:37:48 2021 +0100

    Document Lua's effect integration.

    See osdn #41744

commit 9823297f4b88dbca56669236130e626cccd0b5d5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 12 11:33:06 2021 +0100

    Metaknowledge for surviving tech requirements.

    Surviving tech requirements with the "World" range are visible to everyone
    because game.info.global_advances is sent to each player.

    See hrm Feature #922369

commit 5e491db571dc2360e0fc7c8fec39d0ca97ff64d7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 12 11:27:50 2021 +0100

    sandbox: forgotten Communism changes Treuga Dei.

    Make the violent actions legal after Communism is discovered even if it
    later is forgotten.

    The main reason for this change is that the player knows if a tech ever was
    discovered but not if someone currently knows it. This makes the rule a lot
    more user friendly.

    It can be excused in the narrative by saying that a cultural change may
    survive even if the idea that caused it is dead.

    See osdn #41742

commit 1b67253a4131cb684a50ecb778680995a353c2e4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 12 10:00:39 2021 +0100

    sandbox: add historical note to "Treuga Dei".

    Make it really clear that "Treuga Dei" isn't an attempt to make fun of the
    medieval West Church or any of the churches that today claim to be its true
    successor by documenting that the effect of the wonder is different from the
    historical "Treuga Dei".

    See osdn #41741

commit 78bb91f55d54a8beb2bb180d6ac4300663ae0be2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 05:59:51 2021 +0200

    Fix civ2 ruleset xgettext warnings

    See osdn #41757

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6aa73f1a1c3e1ef6ff21b345f55891e7eef9d357
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 14 14:39:59 2021 +0200

    Make unit combat bonus value signed 16bit in network protocol

    Requested by Alexandro Ignatiev

    See hrm Bug #922007

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5602c4819647a705be425197cccde4ff45d0f2a3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 14 10:38:21 2021 +0200

    gui-*/.gitignore: Drop Freeciv.h entry from guis where it does not exist

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0d4105c4f797462a83886604641d84a48f769ff3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 9 14:51:55 2021 +0200

    check_macros.sh: Add empty line after all the tests of this kind

    See hrm Bug #922145

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 372e4eb46dc1c030f998dcc2ddb6d1ea6f0516c3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 6 03:30:10 2021 +0200

    Goldkeep: Mention that the ruleset used to be called 'experimental'

    in ruleset Summary.

    See osdn #41705

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bd9cf6b04e5b6426efdc70375d06f8213a3cc54f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 12 00:32:41 2021 +0100

    sandbox: test paradrop_to_transport.

    See osdn #41740

commit fb2590a9585dcc2fb6d13746f2e20f385744b087
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 12 00:27:39 2021 +0100

    "Unit May Embark" action sub result.

    Introduce the new action sub result "Unit May Embark". It is true if a unit
    may end up loading into a transport at the target tile if it can't survive
    there on its own.

    Represent civstyle.paradrop_to_transport internally - the ruleset
    representation remains the same - by setting "Unit May Embark" for the
    paradrop actions.

    See osdn #41739

commit 6412b681f053d68ff69f084633f66f043e9e8af2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 12 00:05:24 2021 +0100

    Fix translation comment location.

    Move the action sub result translation comments directly above the
    translated text.

    See osdn #41738

commit 163ec6c46974007c7dfca136897b26567454f6e9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Mar 11 16:52:21 2021 +0100

    Initialize all fields for the counter "Owned".

    See osdn #41734

commit b98e12e9bdd085d4d5e6d62bcd02ceda8547fd76
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 12 08:39:35 2021 +0200

    Make city culture values 32bit in network protocol

    See osdn #41706

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 719e72492b03f905cb6f57d2e140daf6c8771db3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 5 06:07:27 2021 +0200

    Tex: Clean out unused TEXAI_MSG_UNIT_MOVED handling from texai_unit_info_recv()

    That's dead code.
    TEXAI_MSG_UNIT_MOVED is being handled in texai_unit_moved_recv().

    See osdn #41698

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d15d39d24857830d0295ae54c02c98b163f5373f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 06:27:01 2021 +0200

    Update Finnish translation of the ruledit domain

    This is just S3_1 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 49c7e9522dc292c54b30b45d0c1a653b23aaa8ad
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 4 06:21:19 2021 +0200

    INSTALL.Cygwin: Add a note that currently Cygwin has no new enough Qt

    See osdn #41693

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e2154ae2ef4ef89d9db17daf6051b8cba1366402
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 03:37:10 2021 +0200

    Comment typofix: had_internal_effct -> had_internal_effect

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 88fb91c4500d8195063602aa402ddbddb35b140e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 8 04:05:46 2021 +0200

    classic/multiplayer/experimental: Double Fighter defense against Bombers

    See hrm Feature #922015

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit db106d0ad36ceac4c00fbefb465dc386eaf51e8c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Mar 11 00:52:36 2021 +0100

    sandbox: use Lua teleport side effect control.

    Have using the ancient transport network scare any huts at the target tile
    as the unit emerges. Allow teleporting to and from a transport. Forbid city
    or extra conquest - at least for now.

    See osdn #41731

commit 4beba15c368ee272b0365db768e62dbd6d3cfec7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Mar 11 00:44:06 2021 +0100

    Lua API: allow setting move side effects.

    The Lua API allows moving a unit without considering what the move rules are
    via edit.unit_move() and edit.unit_teleport(). This can be used to create
    custom move actions, teleporting items on the map etc. They have side
    effects that used to be a part of regular moves but that now live in
    separate actions.

    Add parameters to control what side effects not a part of enabler controlled
    moves the move should have. This allows the ability to specify a unit to
    embark to, to determine if a unit is allowed to unload from its current
    transport to perform the move, if any city at the target tile is conquered,
    if any extra at the target tile is conquered, if huts at the target tile are
    entered and if huts at the target tile are frightened.

    The old versions of edit.unit_move() and edit.unit_teleport() that infers
    side effects based on game rules and state can be deprecated as soon as
    enough of their old rules can be expressed in Lua.

    See osdn #41730

commit a84e5b42f676ac8aa57cef4a201cf6179c80bf10
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 12 12:02:09 2021 +0100

    Comment clarification.

    Make my poem analysis more accurate.

commit 024ca901dd889eb79185157f14da02976c50cef5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Mar 10 20:52:06 2021 +0100

    move_unit(): add frighten_hut parameter.

    Make move_unit() take a parameter that specifies that any entered huts
    should be frightened. This allows its users to order different hut popping
    behavior than standard.

    Example: A unit that is teleported from Lua in a scary way may scare away a
    tribal village even if it normally would be able to enter it.

    Use this opportunity to take hut behavior from action sub results in the
    action performer functions.

    See osdn #41729

commit 62961da24c89ac9fce543fa6dbabbb9caef7812f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Mar 1 23:24:43 2021 +0100

    sandbox: add the new wonder Treuga Dei.

    Celebrate that all violent actions now are under enabler control by
    introducing the new wonder "Treuga Dei" in sandbox. It disables most violent
    actions until Communism and makes them an international incident after
    Communism.

    This wonder idea is taken from my unfinished ruleset "It Is Just A Game".
    This patch adds it as it is there. It can be adjusted to better fit into
    civ2civ3 derived rulesets in followup patches if someone wants to.
    Alternatively I could complete "Pax Dei" - a more "serious" version - and
    add it to sandbox.

    See osdn #41677

commit bc6e1692b2960027f67ee1522d5ffa4daaaa21df
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Feb 19 04:54:04 2021 +0100

    Split "Paradrop Unit"

    Reduce the number of paradrop side effects by splitting the new actions
    "Paradrop Unit Conquer", "Paradrop Unit Frighten",
    "Paradrop Unit Frighten Conquer", "Paradrop Unit Enter" and
    "Paradrop Unit Enter Conquer" from "Paradrop Unit".

    City conquest and extra conquest ended up in the same actions to keep the
    number of new actions down. They can be split later on ruleset author
    request.

    Allows more fine grained control over Paradrop side effects.
    Enables simplifications and clean ups already half done.

    See osdn #41565

commit c4f58ee8f06ac3b920c60ba0f6661a32fd624c80
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Mar 10 08:31:43 2021 +0100

    ai paradrop: respect the fog handicap.

    The function find_best_tile_to_paradrop_to() respects H_FOG enough to not
    occupy cities it shouldn't know are empty and not to not jumping to
    tiles to attack adjacent units it doesn't know are there. Extend this
    respect to also cover the selection of the tile to jump to to attack those
    adjacent units.

    Allow dai_manage_paratrooper() to check if a paradrop action is legal using
    the full information when the fog handicap isn't set.

    See osdn #41722

commit b2bbb54bfb4d61ece6915820cfc7a2f8fcd68da3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 6 18:28:52 2021 +0200

    Improve civ_population() style

    See hrm Feature #922008

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 85cc8dadf6c6cc0907914d29b42584253474a635
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 4 01:46:57 2021 +0200

    Granularity: Disallow Roads and Bases on Ocean tiles

    See osdn #41691

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 82c8f337c1c9583752de15170a58ed2b5b8bf797
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Mar 9 13:34:09 2021 +0100

    Don't lie in "Paradrop Unit" enabler name.

    Stop claiming that the enabler for claimed tiles only applies to foreign
    tiles.

    See osdn #41720

commit 198f8a4cf26bfded8b6f684577e296a99cb9a59b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Mar 9 12:24:27 2021 +0100

    Introduce units_can_do_action_with_result().

    It works like units_can_do_action() but is for any action with the specified
    result rather than just for the specified action.

    See osdn #41718

commit 026985baafb83598b42195044347e1df771dcad3
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Thu Mar 11 16:34:27 2021 +0100

    Updated French translations

commit dac5244c0707e2cb66f89421cb9128a824ba961c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 3 14:11:05 2021 +0200

    HACKING: Update reference from gui-gtk-3.0 to gui-gtk-3.22

    gui-gtk-3.0 no longer exist.

    See osdn #41686

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8f58972586a8465645ff0a73ef0cbb1a11d35f21
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Sun Mar 7 23:05:23 2021 +0300

    civ2: add an approximation for fighters scramble mechanics

    Originally in cities defense x4 vs bombers and x2 vs fighters,
    but we can't yet separate the bonuses for SAMs and airbases,
    so values are mostly reduced.

    See hrm Bug #865085

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit 08873716d178fb84cb0fc8a7e67804d8c7b15082
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 8 03:47:08 2021 +0200

    Refresh mkstemp.m4

    There's no functional changes, just an updated comment.

    See osdn #41711

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 242ab35ae2d3c9d814e52d0c1bac05de5002b7b1
Author: Ilkka Virta <itvirta@iki.fi>
Date:   Tue Mar 2 14:51:09 2021 +0200

    Use pop at turn change to calculate Demographics (Literacy and Military Service)

    The code used to look at the real-time value for population, but the value
    at turn change for the other values. This both leaks info about nations
    losing (and gaining?) population mid-turn, and leads to obviously invalid
    results like Literacy > 100 %.

    See hrm Bug #880780

commit c8e30fd1186ddd88021c1e8ff21774363f7d23be
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Mar 9 00:31:08 2021 +0100

    rscompat: add HutNothing user uclass flag.

    Mark all unit classes with a hut_behavior of "Nothing" with the user unit
    class flag "HutNothing".

    Once the non user unit class flag "Frighten" is introduced this will allow
    less than one enabler for the hut popping acitons per unit class and get rid
    of the custom hut_behavior unit class field.

    See osdn #41716

commit edf157e2f7bf137c8c0d164289ba31517b3f0238
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 5 15:18:20 2021 +0100

    client: prepare for multiple paradrop actions.

    Prepare the code in do_unit_paradrop_to() that orders the paradrop action
    performed for multiple paradrop actions.

    See osdn #41717

commit 1978980927fb4c7bda3142b9fbaacf56fd760579
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Mar 8 22:25:53 2021 +0100

    ruleup: dirty by default

    Replace the --dirty option with a new --clean option.

    Requested by Canik and Caedo at the Freeciv forum.

    See http://forum.freeciv.org/f/viewtopic.php?f=11&t=91862&sid=127735f2b4233e03427ccaf0429420f5
    See osdn #41678

commit fd529c812188969b98d22366442f961981d25ab2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 10 07:46:17 2021 +0200

    Comment typofix: backgroud -> background

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a06227ac8676de559f78686243c1f5c05e973e9d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 8 07:52:51 2021 +0200

    Add event type "Infrapoints"

    See osdn #41690

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f536277a582081a713ea5da292096b346c868d5e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 2 00:09:32 2021 +0200

    INSTALL.Cygwin: Drop instructions to explicitly set MOCCMD

    The step is no longer needed

    See osdn #41676

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c004ce6e4a504059b5483ff654a84e552d42f36c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 5 15:18:11 2021 +0100

    ai: prepare for multiple paradrop actions.

    Prepare the code in dai_manage_paratrooper() that orders the paradrop
    action performed for multiple paradrop actions.

    See osdn #41703

commit aa9834a22f58d498e3c268c29c5a012d748e0d69
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 5 13:17:50 2021 +0200

    Appdata: Use secure URLs (https) for screenshots

    See hrm Feature #921959

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2cee97e5a8b7d9cee38fa5eebf87102a22b75ac3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 9 04:26:25 2021 +0200

    Bump version number to 3.1.90.1-dev

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6570959b3b01cb7721a3123151551fde1bc2dd0f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 2 07:53:07 2021 +0200

    Comment why we don't check bodyguard ferry boarding legality

    Requested by Sveinung Kvilhaugsvik

    See hrm Bug #849990

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aa2b01d1d644db3d8ea089f15a4db9656c03bf9d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 3 23:41:10 2021 +0200

    Drop helptexts for gtk3-client client options

    Gtk3-client has been dropped. Its options need to be kept for now
    to support migrating them to later gtk-clients, but the helptexts
    are not used for anything. Drop them.

    See osdn #41687

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit afefe554e93211091217bd656b30eeca50a57398
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 1 10:52:02 2021 +0200

    README.rulesets: Drop experimental from the list of rulesets

    See osdn #41666

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f71a50e578c5483b728c5ccb57b2bd1cddfefc4b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 6 06:53:04 2021 +0200

    Update stdlib_h.m4 to serial 55

    See osdn #41707

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 737511952f85be4d5aeb7fcc9e6c2c727d50e441
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 2 07:10:36 2021 +0200

    sdl2: Add science_dialog_callback() function header

    See hrm Bug #911733

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 95b7b995210166766a0ce7b11ca74c40319d59d7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 2 12:13:28 2021 +0200

    Unify game.ruleset comments between translated and untranslated rulesets

    See osdn #41680

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 01322f786e9c61aec6894b4d29d157d09d30e3ea
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 5 10:49:08 2021 +0100

    sandbox: let Nuclear explode in place again.

    Make Nuclear able to explode in place again by setting min distance of
    "Nuke City" to 0.

    See osdn #41702

commit 67d95f4f3387efa418d5040deb75f7ef582b99f7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 5 10:40:12 2021 +0100

    Nuke action min distance to to the ruleset.

    Move the minimum distance between the action and target for the actions
    "Explode Nuclear", "Nuke City" and "Nuke Units" to the ruleset.

    See osdn #41701

commit 3fb2bc7083dbd779fae50a06bc63a37aa68e94f5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 5 10:00:53 2021 +0100

    Get default action distance range by result.

    Change action_min_range_default() and action_max_range_default() to specify
    the default action action distance range by action result. This changes the
    default max range of "Nuke City" to 0 since it shares its action result
    with "Explode Nuclear".

    See osdn #41700

commit ff029619675f1f6842f28fa716c8134ca8b784da
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 1 14:55:32 2021 +0200

    Clean out freeciv-2.7 options file slot

    See osdn #41669

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e986750b72ce59f51426e2cd2d8f08c704bb804d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 2 05:41:06 2021 +0200

    Don't send clients to pre-game when savegame loading attempted during game

    Reported by anonymous

    See hrm Bug #767358

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9233f42dcb11644ba924fc63102b83a3c48c8ffa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 6 15:12:00 2021 +0200

    Qt: Fix a typo breaking build

    See osdn #41708

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c34751a62426f0cd481cff88e6a946906ad6db60
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Wed Mar 3 16:31:16 2021 +0100

    Add "Convert" improvement genus for coinage-like improvements

    See hrm Feature #921525

commit 4d9ef90b19a178f0027d752bcea79e9c96876486
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 3 14:04:35 2021 +0200

    Update gnulib-common.m4 to serial 63

    See osdn #41685

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f690917c6e8f99252c95449c926519334c1d3fc8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 1 00:08:09 2021 +0200

    Goldkeep: Clear alt_dir definition

    See osdn #41665

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 23e7019c9cd183d0b75ed695ba64102366ed39a4
Author: Ilkka Virta <itvirta@iki.fi>
Date:   Tue Mar 2 14:21:52 2021 +0200

    Check if the new unit fits in transport when upgrading transported unit

    The old code checked if the current unit fits, so you could end up with
    an impossible unit on the transport.

    See hrm Bug #921691

commit bc6cb9650e208acfd6753246b31d90a23886f628
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 5 17:50:12 2021 +0200

    Abbreviate consequtive "imprv." mentions the same way

    Function header of global_worklist_callback() mentions "imprv./wonder"
    multiple times. Unify those.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4fbd965e69d6f0f33936cc7a48729621623ba9fc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 1 13:43:08 2021 +0200

    requirements.c: Include <stdarg.h>

    See osdn #41667

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e40f9e3252e25bc59a7c47fa8bf1bb4c1c8adab6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 5 02:19:53 2021 +0100

    Comment fact fix

commit 93adbb9a6a5afd83ce5ec80ee99bdedfb74fd83e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Mar 4 00:30:45 2021 +0100

    sandbox: demonstrate surviving nukes.

    Introduce the new unit type SSBN, a nuclear submarine. On top of being able
    to carry 16 ICBM or Nuclear units it gets the ability to launch one tactical
    nuke per turn once its owner discovers Rocketry.

    See osdn #41689

commit 9de1d80832a8375beeba6efe9a5da50d55f6b88a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Mar 3 23:28:40 2021 +0100

    sandbox: tile target "Nuke City" for "Nuclear".

    Demonstrate that the target kind of "Nuke City" now can be tiles by using it
    to handle all explosions of "Nuclear" in sandbox.

    See osdn #41688

commit 663d27df9d91f7b5da72dd1ccc902f734c5b6b6c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Mar 3 21:00:37 2021 +0100

    sandbox: expand ICBM blast radius.

    See hrm Feature #921825

commit b3256e5d5595d06de305821a08e8c6bbbb0aa8e4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Mar 3 20:56:46 2021 +0100

    webperimental: reduce suitcase nuke blast radius.

    See hrm Feature #921824

commit 591c1d9d868b900033f1fe7a25189583a73453e6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Mar 3 19:59:53 2021 +0100

    Ruleset configurable nuclear blast radius.

    Introduce the new effect Nuke_Blast_Radius_1_Sq to control the size of a
    nuclear explosion's blast radius.

    Named like that to make room for an inner and an outer blast radius.

    Uses the existing nuclear explosion animation for all blast sizes.

    See hrm Feature #854166

commit 9af27fc23b73e6cf1b2f62ac57ddd3d2280f132e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 27 17:29:29 2021 +0200

    CodingStyle: Add exception allowing declaring variable in the middle of scope

    Relax variable declaring rule a bit when compilation conditional to
    preprocessor macro is in play.

    See hrm Feature #804349

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d9d89f974a950f0c50d4ec9622e30fe14a402e4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 2 09:42:49 2021 +0200

    Send meetings opened by AI players met thanks to dispersion setting

    Meetings initiated by AI players when they start in contact with the
    player were sent too early for the client to open the meeting dialog.
    After that the client was unable to ever open a meeting with that
    AI player, as server though that the meeting is already active.

    Send active meetings to clients again when they are ready to receive
    them, in the beginning of a new game.

    Reported by Robin Patterson

    See hrm Bug #764968

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 88a878c6523c5dcdc0b0eef4ce8a7c522a6099c5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Mar 3 03:49:01 2021 +0100

    Ruleset actor consuming always for nukes

    A nuke can have a max range where the resulting explosion won't destroy
    the actor unit. In that case the ruleset should also be able to set that
    the actor unit isn't consumed by it.

    This allows (ISFJ girl joke) units like "Pink Unicorn Princess of Doom" or
    (more serious) units like "Second Strike Sub" to case a nuclear explosion
    somewhere without being destroyed them self. The "ammo" of the action can
    - as an example - be represented as a loss of MP when performing the action
    and a minimum MP requirement to perform the action if it is desired to
    restore the ammo at turn change.

    See osdn #41681

commit 045252e43f375630a3b626f08ab83239d1aeb13d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Mar 2 02:55:18 2021 +0100

    CI: factor out rulesets_upgrade.sh

    Make testing ruleset upgrade from the previous version a separate script.

    See osdn #41684

commit f951f08630b52189a4049b03154932f5eeaddbc3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 28 17:07:25 2021 +0200

    Ruledit: Translate req_edit dialog texts

    Some "Allows"/"Prevents" related texts were not marked
    for translation.

    See osdn #41658

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 21177a5129660eca5c1bc3c5342b7a28f665fcd0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Feb 28 04:01:41 2021 +0100

    Ruleset unit_stack_death forced action list.

    Move the list of actions attempted to escape when the defeated unit stack is
    scheduled for execution to the ruleset.

    See hrm Feature #920951

commit d5fd36ead619d5f0a7bc218fdca5117b0628729f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Mar 3 13:25:33 2021 +0100

    Comment spell fix

commit 5e8868693e74c61bbdb85b53da706f93f4c71566
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 4 14:21:18 2021 +0200

    CI: Request version 5 of Qt for OSX build

    Reported by Sveinung Kvilhaugsvik

    See hrm Bug #921871

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 46dea169f6ce6592ac90c62bb677ae984f0c48f9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 1 21:50:12 2021 +0200

    Autodetect moc command with name of format moc-qt<ver>

    See osdn #41674

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 67fcf3be2aefe0871e7c93da7fdb8e5b814ec006
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 2 08:05:54 2021 +0200

    civ2civ3/sandbox: Tweak culture victory values

    Increase victory_min_points from 18000 to 20000.
    Change victory_lead_pct from 200 to 33

    Requested by Jacob Nevins and bard

    See hrm Feature #830181

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c3dda2a53f0db2ebf87420d85335e94ab708200d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 3 23:28:49 2021 +0200

    Replace gui-gtk-3.0 with gui-gtk-3.22 in a comment

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1c0d3989f8a616f79e6e9a307f73ddd2c2545c64
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 28 13:49:25 2021 +0200

    Document in diplchance help that it does not affect all mission types

    Reported by Lexxie

    See hrm Feature #870009

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 68ddb445a3642944a4577571d5c238197bb6bb0d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 1 18:26:39 2021 +0200

    Set AI mod capstr to freeciv-3.2 specific one

    It was still a freeciv-3.1 development one.

    See osdn #41673

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0c8f3ead6ce160f6efa0af94d357d7228d8d2d1b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 3 09:46:29 2021 +0200

    ai/.gitignore: Drop obsolete libcivai.a entry

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0bb3723df74a467fb7ee3b5c75b3208c38f4bfdc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 3 05:45:40 2021 +0200

    configure.ac: Make all AC_CHECK_HEADERS() and AC_CHECK_FUNCS() one-liners

    This might help with "not a string literal" error seen on CI
    with msys2 and autoconf-2.71.

    See hrm Feature #921737

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d1181b5bf96a68cbfb1172297579b1c966d155f9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Mar 1 15:36:00 2021 +0100

    sandbox: demonstrate unit healing.

    Demonstrate unit healing by letting flesh initiates of The School of
    AmÃªzÃ¢rÃ¢k know how to heal wounded flesh.

    See osdn #41671

commit 1d651ae89c7a8bd10d95abc4ad234888e7beb934
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 27 03:25:17 2021 +0200

    CI: Update msys2/setup-msys2 version used to 2.1.4

    See hrm Feature #918825

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9ee1d83de482c62c70103869328d7baaf5571cfa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 26 10:04:04 2021 +0200

    Update msys2 environment to 210226 level

    See hrm Feature #918825

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 85279094270f53aed2e44d7013b3001fba4b46af
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Feb 28 20:52:50 2021 +0100

    Increase the number of legal reqs.

    Our ruleset upgrade code can add new requirements to existing requirement
    vectors. But requirement vectors can't be more than 20 requirements long.
    The existing requirement vector may already be that long.

    Increase the number of legal requirements in a requirement vector to 40,
    doubling it.

    See osdn #41661

commit fc155395a92ac7f2fe48fd2eb1e1357e45290597
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 22 01:12:36 2021 +0100

    Casus Belli for "Paradrop Unit".

    Make the Casus_Belli_Success effect support "Paradrop Unit".

    Tested by Lexxie

    See hrm Feature #921213

commit 501a9b612290c8a96a36d1c9b0f8836f63921a7f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Feb 28 19:22:54 2021 +0100

    Allow actor utype to influence Casus Belli.

    Allow the unit type of the actor - when the actor is a unit - to influence
    if an action is a Casus Belli.

    I waited to decide who's unit type - the actor or the target - would get the
    ability to influence Casus Belli rules until it was needed in a ruleset.
    Lexxie needed this now so the actor it is.

    See hrm Feature #921209

commit 5087b4a6903122988831ef83176d82a3a9b412af
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 3 02:54:41 2021 +0200

    Update Finnish translation of the ruledit domain

    This is just S3_1 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ba2f7bb76a4b0b4533cc91ab3d7d82f4f9504854
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 2 03:42:58 2021 +0200

    Make player culture values 32bit value in network protocol

    Reported by mortmann

    See osdn #41654

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ccd7dd39230e4f8f91b8027aee897d7dfd5fbcf2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 2 21:01:23 2021 +0200

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 57c3d1a01900894d2b92f31b2e5226843fc552f9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 28 18:38:39 2021 +0200

    Fix "unterminated character constant" errors from xgettext

    See osdn #41659

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 26dd032439a619e95c5d799b813e6a126f37b587
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 27 23:39:32 2021 +0200

    sdl2: Fix alpha channel changes when recentering map

    Do not use surface blending mode when moving mapview around.

    Reported by, and initial patch provided by, goduck777

    See osdn #41629

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 370265041ec9b6e66e11eff907f031aca8d62d80
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 27 23:29:12 2021 +0200

    Implement Qt6 related bootstrap file changes

    See hrm Feature #892817

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7ca509cd2887ad171dde842d41ccad2ad6b518cd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 27 03:09:04 2021 +0200

    Avoid erroneous improvement obsoletion messages

    Do not claim that an advance that is !present obsoletion requirement
    does obsolete improvement.
    Fixed in server messages, client help, and civmanual.

    Reported by Alexandro Ignatiev

    See hrm Bug #874192

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 258219cb26a896b3365312d3ed86e525bb3b476b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 1 18:46:42 2021 +0200

    common/.gitignore: Drop obsolete entries

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 61ee5b9ca089163326df3a4df8238c1ff27ff263
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 27 07:02:43 2021 +0200

    FAQ: Update from wiki FAQ 3.0

    See osdn #41657

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bb673d5244b51df18f09d48dd3b4bec3ea016f75
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 1 11:42:12 2021 +0200

    goldkeep/.gitignore: Drop as obsolete

    It only had entries for Makefile and Makefile.in, which no longer
    are there as the ruleset is not distributed.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 24b3b9aec399b7a51108ad4af8782fb35520b371
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 27 15:54:13 2021 +0200

    Rename experimental ruleset as goldkeep

    See hrm Feature #820965

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1af985b8732857030a107b1bc17f001d74581bcf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 10 07:51:46 2021 +0200

    POTFILES.in: Add missing files

    See hrm Bug #918937

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4dd893e1d8871a3cad0c9e538cadfcc4768f1a5b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 11 06:34:34 2021 +0200

    Ruledit: Fix effect_edit::add_effect_to_list() shadow warning

    See hrm Bug #919733

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ff6737b7a5b315fe6f5f823bc3809179865e7e92
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Thu Feb 25 15:46:40 2021 +0100

    Eschew use of UCF_CAN_OCCUPY_CITY from AI and advisors

    Replace unit class flag checks with calls to unit_can_take_over()
    and utype_can_take_over()

    See hrm #921005

commit 06d5218bd01b7daab65fcec76fdbae9e6dad92e5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Feb 25 11:55:33 2021 +0100

    Unit stack death escape: add back all 3.0 actions

    Add back all the actions a unit with the CanEscape unit type flag could do
    to escape stack death in 3.0.

    See hrm Feature #920950

commit c4f03f245a4d1606af9c58e678abdf1b68faf051
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 24 12:39:56 2021 +0100

    Unit stack death escape: respect the move rules.

    See hrm Bug #920206

commit 913adaa593faf67dd535fd8c2021777b5049b8fb
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 24 12:11:55 2021 +0100

    Fix the rule name of the "City Gone" AAPC.

    The forced action auto performer cause "City Gone" was accidentally given
    the rule name "City Gone ".

    See osdn #41648

commit cdc8ed763e8705fb080c7b4fc8f9949f37e3a5cc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 27 18:03:00 2021 +0200

    Comment typofix: tagets -> targets

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d9a98562945a220b6f023afc47aa96768e635d19
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 10 17:36:17 2021 +0200

    Add "?unittype:" qualifier for BarbarianBuild flag

    See osdn #41548

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit da89a3dbbe803166c6c5b9c30fad265415d917ff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 12 07:37:05 2021 +0200

    freeciv.doxygen: Update to doxygen 1.9.1 format

    See osdn #41558

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 14149bb9143ca1c811bbdf935f5e1a8eaac9b80f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 23 21:06:02 2021 +0100

    Git: add a .mailcap to fix a bad email address.

    See osdn #41647

commit 39578de7ab750e315dd835420006b6a49218b8ec
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 23 16:18:12 2021 +0100

    "Attack" move cost to the ruleset.

    Move the move cost of non OneAttack attacks to the ruleset too.

    See osdn #41646

commit cd5ccddd341e9e8bd1f7e90e8a075450df5af5ec
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 23 15:43:16 2021 +0100

    ruleup: purge unused !present requirements.

    Unused requirements may have crept into a requirement by the ruleset update
    code. Purge them from action enablers and from effects unless the --dirty
    option is specified.

    See osdn #41645

commit d1c29e59bd8a830a2c844069e8f1154f506402a2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 23 14:33:29 2021 +0100

    Split unit_move_handling() based on igzoc.

    Done as a small step for the sake of ensuring backwards compatibility.

    The new function unit_move_igzoc() handles cases where igzoc was set to
    TRUE. It is kept the exact same rules for when it is allowed to move the
    unit. (I think some of them should be removed.)

    unit_move_handling() keeps - recently enabler controlled - regular moves
    and the code to understand a move towards a tile as asking what actions the
    unit can perform against it.

    See osdn #41604

commit 5712afa954fbec4081ef44ddb7afd7c072d669d7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 23 14:11:12 2021 +0100

    autohelp: deduplicate action turn ending text.

    See osdn #41644

commit 801cfa96e656608ff6fb4962d5a6995cb618263b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 23 13:36:57 2021 +0100

    ruleup: detect more unused action enablers.

    Detect action enablers that are unused because no actor that fulfills its
    hard requirements fulfills the action's hard requirements.

    See osdn #41643

commit e2b3949a2f3416676d9186a892ab49aabdec44e6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 23 13:21:39 2021 +0100

    Introduce action_enabler_utype_possible_actor().

    Add the new function action_enabler_utype_possible_actor() to the actions
    module. It checks that an action enabler - at least in theory - may be
    performed by a unit of a given type.

    See osdn #41642

commit edda883eb4fad335b8d4e61fa876f5a594362cde
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 23 11:39:00 2021 +0100

    A non existing enabler can't be removed.

    Don't show message the "Purged all action enablers for" message when the
    action didn't have any enablers to purge.

    See osdn #41641

commit becdd4842721b076c6037fa0bdf87e05206fdda9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 23 11:09:36 2021 +0100

    ruleup: purge duplicate requirements by default.

    Duplicate requirements may have crept into a requirement by the ruleset
    update code. Purge them from action enablers and from effects unless the
    --dirty option is specified.

    See osdn #41640

commit 29050a29264306982d3bd927bddd243dc7d75aa3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 23 09:58:49 2021 +0100

    req_vec_suggest_improvement(): fixes first.

    Suggest fixes before suggesting improvements to requirement vectors. A
    potential improvement can be made irrelevant by a required repair. This
    makes req_vec_suggest_improvement() consistent with
    action_enabler_suggest_improvement().

    See osdn #41639

commit 5321e43758602d2b32e7559273a88945da5201a3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 23 09:41:00 2021 +0100

    Don't encourage mindless "fixes".

    Offering to remove a requirement for a missing universal that is present is
    to offer a rule change the ruleset author should think about first. The
    requirement vector may have been intended to never be fulfilled.

    Prevent mindless "fixes" by not offering any automatic solution to a
    positive requirement for a missing universal.

    See osdn #41638

commit 13e51009e798905b62a7bd17c60e08f9ade3d042
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 23 09:17:02 2021 +0100

    universal_never_there(): find unused extra flags.

    Detect when an extra type flag never is in use. This allows Ruledit and its
    other users to detect unused extra flags being required.

    See osdn #41637

commit e1e875e690a72ab6168ad35464b7b4fe5c5be949
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 23 09:10:28 2021 +0100

    In use function for extra flags.

    Add the new function extra_flag_is_in_use() It checks if the specified flag
    is used in the current ruleset.

    See osdn #41636

commit b572bfa85535b41746a5fc6b72ce17bc8586b632
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 23 08:43:53 2021 +0100

    Comment clarification.

commit bec78a0210fc9388b9ea36cdb38d6e3e4bdcb420
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 23 00:01:13 2021 +0100

    Ruledit: don't success exit on missing comments.

    The program refuses to start when no comments-x.y.txt file is found. Exit
    with EXIT_FAILURE to signal that something is wrong.

    See osdn #41635

commit fb97950b6db4e3be2a0be6c0fb2f99ba003c3f1a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 22 22:31:35 2021 +0100

    Ruledit: detect duplicate requirements.

    Add the new function get_first_redundant_req(), currently only able to
    detect exact duplicates in requirement vectors. Plug it into
    req_vec_suggest_improvement() so everyone looking for generic advice on
    requirement vector improvements gets it.

    This makes Ruledit find duplicates in action enabler requirements.

    See osdn #41633

commit 435df98e03e7d71b752589ac8f519bfd2455f361
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 22 22:50:48 2021 +0100

    Log the problem with the comments file.

    Give a hint why the ruledit ruleset comments file can't be loaded.

    See osdn #41632

commit 4b8328d0c5858d6009c13197abd8183eeeec1b82
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 22 22:45:41 2021 +0100

    ruledit comments: escape quotation marks.

    See osdn #41631

commit c13f5ad341fc5b80204ae625ef484016e407893a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 22 19:46:41 2021 +0100

    Spelling correction: DiplReal -> DiplRel.

    Fix the spelling of DiplRel in README.actions.

    See osdn #41630

commit cf3f612f562dcfe8db5610f4cf02d6d32183e0b9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 22 14:30:30 2021 +0100

    Action escape movement cost to the ruleset.

    Move the movement cost of escaping to the nearest city after performing a
    spy action to the ruleset.

    See osdn #41628

commit 655781d8234a46dbe9bd4d307f4603cf46a5963a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 22 01:00:44 2021 +0100

    Casus Belli for regular move.

    Make the Casus_Belli_Success effect support "Unit Move", "Unit Move 2"
    and "Unit Move 3"

    Requested by Lexxie L

    See osdn #41627

commit b3f1f42b8086fdba87d199b27b917a5d078c47a2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 23 08:24:09 2021 +0100

    TODO comment fact update.

    With hrm Feature #920119 done more action probability work is now complete.

commit b710c3f2369b004c54ec96e66b22b532c11efab1
Author: Hilde Iren Lagnason Bye <lagnason@hotmail.com>
Date:   Sun Feb 14 20:13:11 2021 +0100

    Action probability for Surgical Strike Production

    See hrm Feature #920119

commit 7ccb9a5029deaecf17aa305b54167f2ff3241744
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Feb 21 15:37:32 2021 +0100

    autohelp: improve "spends all movement" text.

    See osdn #41625

commit 1dcfe0ef764d41a70c4a30c68bf5d24f31e44970
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Feb 21 15:18:21 2021 +0100

    autohelp for action sub results.

    Document the action sub results for hut entry and hut frightening in the
    auto help for the action in the help for the unit type.

    See osdn #41623

commit 10efd339cf29ef047ae74cbe95358c9d820bf43a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Feb 21 02:50:14 2021 +0100

    Standard problem finders for requirement vectors.

    Add req_vec_suggest_improvement() and req_vec_suggest_repair() so
    requirement vectors have the same standard req_vec_problem finders as action
    enablers.

    See hrm Feature #920603

commit 5b9bfebe81020eee7f3c902356f05ead0d737a9f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Feb 21 02:28:35 2021 +0100

    rulesets: remove unused Casus Belli effects.

    Some Casus Belli effects are never active because they require a diplomatic
    state where the action they are for is illegal. Remove them.

    See hrm Feature #920602

commit 4ddc4ec1d9dd922d49fb403d52ae1b3d01f5cd62
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Feb 19 23:24:44 2021 +0100

    ruleup: purge unused effects by default.

    Support deleting unused effects in ruleset_purge_unused_entities().

    See osdn #41620

commit 03f5c0608caf693d8c8bcaad6bb180342343c241
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Feb 19 22:09:09 2021 +0100

    Find missing universals in enabler requirements.

    Make action_enabler_suggest_improvement() suggest removing references to
    missing universals. This gives ruledit and other users of
    action_enabler_suggest_improvement() access to the knowledge of missing
    universals.

    See osnd #41616

commit e1d65abf178abd3ca11aef920bd40e15ae48eb26
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Feb 19 19:59:24 2021 +0100

    ruleup: purge unused ruleset entities by default.

    Make ruleup clean up the mess after the ruleset upgrade by attempting to
    purge unused entities unless it is told that the dirty result is wanted.

    See osdn #41615

commit 4bc6f033b392a000596598c98b0f9939542a191e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Feb 19 19:48:07 2021 +0100

    Support purging unused action enablers.

    Introduce ruleset_purge_unused_entities(). All it does right now is to purge
    unused action enablers.

    See osdn #41614

commit 3d8b7e41ce7ced2f50f4b57cf52f122754177684
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Feb 19 19:05:38 2021 +0100

    Introduce req[_vec]_is_impossible_to_fulfill().

    Introduce the new functions req_is_impossible_to_fulfill() and
    req_vec_is_impossible_to_fulfill(). They check if a requirement or
    requirement vector is known to be impossible to fulfill in the current
    ruleset.

    Introduce the new function universal_never_there() to check if a universal
    is known to never be there.

    The only currently supported requirement types are action, unit class flag
    and unit type flag.

    See osdn ##41613

commit 380d82122cb54018b2d2cd88c476a905b39ef688
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Feb 19 17:06:42 2021 +0100

    In use function for unit (class|type) flags.

    Add the new functions uclass_flag_is_in_use() and utype_flag_is_in_use().
    They check if the specified flag is used in the current ruleset.

    See osdn #41612

commit ceaef270bd3ba9917bd70962f35e8104834c1ba9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Feb 19 17:16:21 2021 +0100

    Introduce action_is_in_use()

    Introduce the new function action_is_in_use() and make use of it.

    See osdn #41611

commit 05af62064fcb82e21148ea6617be97c7f866e39b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Feb 19 09:37:43 2021 +0100

    Action sub results.

    Add the field sub_results to the action struct. It is for side effects that
    happens on top of the action result.

    Add "Unit Enter Hut" and "Unit Frighten Hut" as the first action sub
    results. Move the parts of the corresponding action results that can be
    moved to the action sub results.

    See osdn #41610

commit 5056160814fdddb66b5adc934b81b6d3fd47033b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 10 16:37:28 2021 +0200

    installer_cross: Enable nls when possible

    Qt-client still does not build with nls enabled in crosser environment,
    so leave it disabled when ever Qt-client is being built.

    See osdn #41546

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 66ae5648c747faa4b9bc6c83206339a80de2ca71
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Feb 19 22:35:30 2021 +0100

    Remove NoHome where it is unused.

    The rulesets civ1, civ2 and alien don't give the NoHome unit type flag to
    any unit type. Stop referring to it.

    See osdn #41618

commit 83ab99cb79bfda37ba3a5b9f8d30f9f4a8529b27
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Feb 20 12:55:15 2021 +0100

    Make the NoHome utype flag mean "built homeless".

    Limit the meaning of the NoHome unit type flag to "built without a home
    city". Make it up to the ruleset author if the action "Home City"
    (sometimes) should be permitted for units with the NoHome utype flag.

    See osdn #41621

commit acbd1b6a3961694dde7791f4e1c3a9227f4fe557
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Feb 19 23:15:57 2021 +0100

    civ2civ3: stop referring to "Enter Marketplace".

    Remove the Trade_Revenue_Bonus effect for "Enter Marketplace" in civ2civ3.
    It is never enabled.

    See osdn #41619

commit da0327dda3bbdcc54ca6435611577715cf07e86f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Feb 19 22:25:34 2021 +0100

    Remove EvacuateFirst where it is unused.

    The rulesets civ1, civ2 and alien doesn't give the EvacuateFirst unit type
    flag to any unit type. Stop referring to it.

    See osdn #41617

commit ccd69c140a588479f0b31319f3259ff7b05935c7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Feb 19 08:06:02 2021 +0100

    sandbox: demonstrate gold theft.

    This version of gold theft rules are less complex than those I added to
    webperimental.

    A spy can perform the action "Steal Gold Escape" once Banking is
    discovered.

    See osdn #41609

commit f7c1fb898e51b260aa973e5f41a61279f7fb948a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 10 00:28:36 2021 +0200

    doc/TODO: Replace hrm ticketing link with osdn one

    See osdn #41533

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 64aeb891498a4d556cbf44a8c447912d49b25bb9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Feb 19 08:58:54 2021 +0100

    Comment fact fix.

commit de1a7de9c43cfecc2b774658ac46d16ddcf8abfe
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Feb 18 12:02:55 2021 +0100

    Fix indention of parameter list.

    See osdn #41607

commit 1626d3db6075a518484ff8499ca062107cfd973e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Feb 18 17:13:53 2021 +0100

    Fake generalize all normal move actions.

    Add two more fake generalized variants to all actions that involves moving
    to an adjacent target tile and paying the normal move cost for doing so.
    This adds the new actions "Conquer City 3", "Conquer City 4",
    "Conquer Extras 3",  "Conquer Extras 4", "Transport Disembark 3",
    "Transport Disembark 4", "Transport Embark 2", "Transport Embark 3",
    "Enter Hut 3", "Enter Hut 4", "Frighten Hut 3", "Frighten Hut 4",
    "Unit Move 2" and "Unit Move 3".

    See hrm Feature #920420

commit 78906feee56ab8ae9588d50e5c12ceb7cc39c7c6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Feb 18 17:34:43 2021 +0100

    README.actions: blocked_by for "Conquer City 2".

    Document the variable name of "Conquer City 2"'s list of actions that block
    it. This avoids giving the impression that it uses "Conquer City"'s
    variable.

    See osdn #41606

commit ab2803044dae02e85d37000d792dcff685134556
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Feb 18 17:34:28 2021 +0100

    README.actions: Fix "Conquer Extras 2" ui_name.

    Make the documentation for "Conquer Extras 2" in README.actions refer to its
    own ui_name, not to "Conquer Extras"'s ui_name.

    See osdn #41605

commit cc5e496cdc30a8e18a9acc9662e86e0791feb430
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Feb 18 14:40:43 2021 +0100

    Fake generalize "Heal Unit"

    This allows two differently named versions. Say one version for a Medic unit
    and one for a Mechanic unit.

    See osdn #41602

commit 1fee155e4cb8c6eb1cbe0386d262090fae74b9ef
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Feb 18 12:25:44 2021 +0100

    A paratroopers_range = 0 unit can't paradrop.

    The autohelp will say that a unit can perform the action "Paradrop Unit"
    even if its paratroopers_range is 0.

    This bug was hidden in the bundled rulesets since they require that a unit
    must have the Paratroopers unit type flag to do "Paradrop Unit".

    See osdn #41599

commit 1c1d151700a3c27c9a23b36acbf7258cf535b3ff
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Feb 18 11:50:03 2021 +0100

    Upgrade ax_cxx_compile_stdcxx.m4

    Update the bundled ax_cxx_compile_stdcxx.m4 from serial 8 to serial 12 - the
    newest version from the Autoconf Archive. Serial 12 has brought back the
    "keep default C++ version if it is OK" feature that serial 8 had. Upgrading
    prevents automatic upgrades to serial 9, 10 or 11 - versions that don't
    support avoiding C++ standard version downgrades.

    See hrm Feature #880503

commit 3940300d331b2a1a7abacf2f8fdf56f27a66681b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 17 21:21:24 2021 +0100

    Action_Success_Actor_Move_Cost cache.

    Calculate and cache the results of utype_action_takes_all_mp() and
    utype_action_takes_all_mp_if_ustate_is() at game start.

    See hrm Feature #875954

commit c7267903780a52e3ae3658b947be8d8217ad959f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 9 21:25:10 2021 +0200

    Qt: Fix shadow warnings from repodlgs.cpp

    See hrm Bug #919445

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ca7b1c03a65248aee65b22fb6592769b0e4c83ef
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 16 19:07:15 2021 +0100

    Unhardcode the "OneAttack" unit type flag.

    See hrm Feature #847256

commit 8cb7ef7a0cef65e46f779f179303886762f23a9c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Feb 18 09:31:14 2021 +0100

    Update 3.1 test ruleset compat git revision...

    ...to a version containing Feature #847256 before committing Feature #847256
    here.

commit 08e0c3d669d4313e6aa97aa510830355b49f6bdc
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 16 18:09:39 2021 +0100

    autohelp: document all remaining MP loss.

    Document if an action is known to always consume all remaining move points
    by it self or combined with ending up on a native tile.

    Introduce the functions utype_action_takes_all_mp_if_ustate_is() and
    utype_action_takes_all_mp() but don't cache their values yet.

    See hrm Feature #920270

commit 71a6af790540903a268805835274da19bd55a9b3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 16 17:41:01 2021 +0100

    Introduce effect_universals_value_never_below().

    Make it possible to calculate if an effect type is guaranteed to always be
    above a certain value given a list of universals. False negatives are
    acceptable.

    It can't support multipliers since it must be able to run at cache
    generation time. The solution here is simply to not give a guarantee if a
    relevant multiplier is detected.

    See hrm Feature #920268

commit bfa3f20fd78bbf2d9a7fc2acf2bde0804a942ab4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 16 16:53:09 2021 +0100

    ruleset: distinguish action name when punished.

    The hut popping actions with (potential for) the loss of all MP ended up
    with the same ended up with the same UI name as the non punished version.
    Add the reason for the potential punishment to the UI name like for other
    punished actions.

    This makes the user interface a bit more consistent, helps explain why the
    unit lost all its MP and is nice to have in case the punished actions
    becomes non quiet in the future and when they show up in the autohelp.

    See osdn #41592

commit ecf45cafc0ec9206acd422cd76e30a0116c594e5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 16 16:19:15 2021 +0100

    Introduce universals_say_everything().

    Make it possible to check if the specified universals is everything required
    to find out whether the specified requirement vector is fulfilled or not.

    See osdn #41590

commit 6c73dba0b602ba77dce3e54046b57edbe01296ad
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 16 15:48:59 2021 +0100

    Introduce universals_mean_unfulfilled().

    Make it possible to check if the presence of any universal from a list
    means that a requirement vector never can be fulfilled.

    See osdn #41589

commit af5e3f9dbaa8c27452ac1b97da3aa1da4be48064
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 16 15:20:00 2021 +0100

    universal_fulfills_requirement(): unit state.

    Add a universal_found_function for UnitState properties.

    See osdn #41588

commit b3b07c597bb611ac6882c047a9140dd0e404be60
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Feb 14 08:28:22 2021 +0100

    Enabler control over regular moves.

    Introduce the new action "Unit Move" making regular unit movement action
    enabler controlled.

    A consequence is that code for giving regular moves the same properties as
    if it was controlled by the action system can go away. Included in this
    patch is the replacement of the action selection dialogue's "Keep moving"
    button, the removal of the custom handling for actions.move_is_blocked_by
    and the removal of various "do a move action or regular move"-code. Clean
    ups of other areas aren't included in this patch.

    The optimizations required to make it possible to move the movement cost to
    the ruleset are not included, neither is the move of that cost itself.

    See hrm Feature #919970

commit c176ff8c2a5fe59ba45d6772ba562498dbe08c0c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 16 05:50:18 2021 +0100

    Qt client: improve button number macros.

    The non action buttons in the action selection dialog has assigned numbers
    so they can be looked up "by action id".

    Number them relative to the previous non action buttons rather than
    "Keep Moving" so it becomes less work to insert or to remove non action
    buttons.

    Add parentheses around the counting just in case.

    See osdn #41587

commit 8b3c21f0825b4320dbfb942691ef8c22c5ce7dd7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 16 05:48:06 2021 +0100

    GTK clients: improve button number macros.

    The non action buttons in the action selection dialog has assigned numbers
    so they can be looked up "by action id".

    Number them relative to the previous non action buttons rather than
    "Keep Moving" so it becomes less work to insert or to remove non action
    buttons.

    Add parentheses around the counting just in case.

    See osdn #41586

commit 0478a33b9e265b955e791e3833c709900871239c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 16 03:42:22 2021 +0100

    Ruleset escape_city forced action list.

    Move the list of actions attempted to escape when the city that made its
    tile native disappears to the ruleset.

    See hrm Feature #920149

commit 62a50b953c7c8658fb4323226f589bde7641cf01
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 15 21:08:56 2021 +0100

    Action list: Native Making City Gone.

    Move the repetitive code to have a unit try various actions and then a
    regular move to escape when the city that made its tile native disappears
    to an action auto performer. Not exposed to the ruleset yet.

    See hrm Feature #920148

commit 5cddc6069c70214682cc234651108411a820cedc
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 15 18:18:33 2021 +0100

    Ruleset init action dice roll odds is diplchance.

    Some actions have a action dice roll before the action starts where it can
    fail. The initial probability of success is 100% for the strike actions and
    the value of the setting diplchance for the spy actions. The initial
    probability of success is modified by the Action_Odds_Pct effect before the
    roll happens.

    Move if the initial odds of an action is controlled by the diplchance
    setting to the ruleset.

    See gna patch #5641
    See hrm Feature #849492

commit 563ea7acc3142d59d959fec082c34c6bdf27979a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 15 19:05:51 2021 +0100

    save_bv_actions(): skip non enabled actions.

    Have rulesave skip saving non enabled actions when saving
    diplchance_initial_odds and move_is_blocked_by.

    See osdn #41585

commit c3811746b890b63d3f3eae5da2cf19accb20b9c2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 15 16:43:36 2021 +0100

    ruleset: factor out bv_actions read/write.

    Factor out actions.move_is_blocked_by's loading and storing of a list of
    actions in the ruleset corresponding to a bv_actions variable.

    See osdn #41584

commit 4f887e1f86a33cb6880769900d2ca6e7781c5719
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 15 15:21:18 2021 +0100

    CI: separate configure run on OS X.

    Run configure separately rather than as a part of autogen.sh on OS X.

    See osdn #41583

commit 9741a73531c074aa0f3d30d257768b71106a58ff
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 15 14:53:37 2021 +0100

    Transport (un)load: (un)set Sentry via SSCS.

    Use the packet PACKET_UNIT_SSCS_SET to set and unset Sentry on loading and
    unloading units from a transport.

    See osdn #41582

commit 6c21dbe1d953fae9c3de51c97c89dbefb882d4af
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 9 20:36:08 2021 +0100

    Sentry is server side client state.

    Make it possible to set it with PACKET_UNIT_SSCS_SET.

    See osdn #41581

commit c25c53e52f13a4e871497fa134d78e5b44e8a51e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 16 06:44:47 2021 +0100

    Add a bug reference to a FIXME comment.

commit f07c3a3f70c29078c491c50b8056dc8a6bba6ffc
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 16 06:01:52 2021 +0100

    Comment fact fix.

commit 960b0e394eeefe626122671df06b6a957a2bab81
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Mon Feb 15 16:45:12 2021 +0100

    Updated French Translations (including introduction of the Ancient Transport Network).

commit ab0a9a91cf645a10ad8371de95518ebf245272fd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Feb 13 02:05:05 2021 +0100

    Factor out regular move action performer.

    Factor out unit_do_regular_move() from unit_move_handling().

    See osdn #41569

commit cbc5f09b640a4d271e652d4bdc8bfbf54b9a0f84
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 15 12:12:43 2021 +0200

    Don't try to distribute gtk3_menus.xml

    It no longer exist.

    See osdn #41580

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bed224b7421610743358af3b550bc2d0f817e0e0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 15 10:39:33 2021 +0200

    configure.ac: Do not try to create client/gui-gtk-3.0/Makefile

    See osdn #41580

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 27ffea6ed69581304640ef709bebe6d68d9543bb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 9 23:01:51 2021 +0200

    Drop gtk3-client

    See osdn #41531

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4162c7a68ddae7842303feb91b70bcf5d84c97d2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 15 05:56:23 2021 +0200

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 67b3bd8e2b30334470b2db2d1e70b62945d405ab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 10 17:21:01 2021 +0200

    sdl2 inteldlg: Show unknown information as such

    Don't show dummy values when there's no embassy to reveal
    the real information.

    See hrm Feature #918827

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 432d2a6ea133bc892299bd60aec75be90a62f5f9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 10 00:51:38 2021 +0200

    Replace gtk3-client with gtk3.22-client in examples in documentation

    See osdn #41534

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d143fab5f8ac417035f5791ada234611c7801440
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Feb 12 12:52:51 2021 +0100

    Lua API: prepare for non unit actors.

    Rename edit.unit_perform_action() to edit.perform_action() so it can be used
    with non unit actors too. Assert that the actor kind is as expected.

    See osdn #41566

commit 206a63fcaf9f0576bf359f331eeb881e17a1db4d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 9 16:44:22 2021 +0200

    Set tile resource when relevant extra added from editor

    Reported by Alina L.

    See hrm Bug #919194

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4c45c62804d70a9cca27e1e8de1f97101ed54610
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Feb 14 00:23:21 2021 +0100

    Comment fact fix: already done.

commit 65ab9ff9bb0a0b4238cd3ddd698a3aa70019213e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 9 16:39:27 2021 +0200

    Fix client crash on setting up patrol for fuel > 1 unit

    Reported by Alina L.

    See hrm Bug #919308

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 576ccca85972413dd4963407e7b453ab86ecd010
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Feb 11 19:56:03 2021 +0100

    sandbox: test Unit:teleport() via a user action.

    Add the user action "Use Ancient Transportation Network", the extra
    "Ancient Transport Hub" and the small wonder "AmÃªzÃ¢rÃ¢kian Mysteries" to
    sandbox. "Ancient Transport Hub" are placed on the map before the game
    starts. A unit can do "Use Ancient Transportation Network" when located
    at a tile with an "Ancient Transport Hub" and targeting a tile with an
    "Ancient Transport Hub" if its player has "AmÃªzÃ¢rÃ¢kian Mysteries".

    An "Ancient Transport Hub" becomes visible when Polytheism is discovered.
    It becomes possible to pillage an "Ancient Hub" after that. It becomes
    possible to use it once the player builds the small wonder
    "AmÃªzÃ¢rÃ¢kian Mysteries". "AmÃªzÃ¢rÃ¢kian Mysteries" requires Polytheism to
    build. The action has unlimited max range. It isn't possible to reverse
    engineer and build an "Ancient Transport Hub".

    Targeting unseen tiles
    A target tile without an "Ancient Transport Hub" will lose the unit hit
    points - potentially killing it. A target tile with an "Ancient Hub" the
    unit can't exist on - say a land unit ending up in the sea or a ship ending
    up on land - kills the unit.

    See osdn #41557

commit 7fcd474f9b169ac7ad5728f06e5f2e6b24ae7e53
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 9 23:34:58 2021 +0200

    CI: Drop gtk3-client builds

    See osdn #41532

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 659882716239dd464b88202a0fd5ff826575005a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 10 13:07:04 2021 +0100

    autoexplorer: stop desiring hut frightening.

    Only give an extra score to a tile with a hut if it can be entered rather
    than frightened.

    Bug reported as a FIXME in the source code by Alexandro Ignatiev or by
    Marko Lindqvist

    See osdn #41554

commit 9718e9070cf4f20f2fb02c1008929a2c4f707af6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 10 21:23:26 2021 +0100

    Document more "Paradrop Unit" side effects.

    README.actions already documents that "Paradrop Unit" can end up conquering
    a city. Document that it can conquer an extra or pop a hut too.

    See osdn #41553

commit c568f497623fa53dd0db65954a0335776376a17f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 10 18:13:14 2021 +0100

    Merge "Unit Explode Nuclear" and "Unit Nuke City".

    The only difference between the action results "Unit Explode Nuclear" and
    "Unit Nuke City" is the target kind of its actions. The target kind of an
    action can now be read from the ruleset.

    Merge the action results "Unit Explode Nuclear" and "Unit Nuke City".
    Introduce nuke_city_target_kind and explode_nuclear_target_kind to so its
    actions still can do the right thing.

    This leaves us with an awkwardly named action now that tiles is its default
    target kind but that can be changed in a follow up patch.

    See osdn #41552

commit 00e9be3d91f4c129dccc529abb63a8345f899000
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Feb 12 08:23:03 2021 +0100

    Update 3.1 test ruleset compat git revision...

    ...to a version containing osdn #41552 before committing osdn #41552 here.

    See osdn #41555

commit b08f3ba24ab61f948c31c23761165403229e2643
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 10 16:27:15 2021 +0100

    Prefix all unit action result names with "Unit".

    Prepare for more than one actor kind by prefixing the ruleset name off all
    actions results exclusive to unit actors with "Unit". Do this now, before
    action result names leaks into the ruleset and are frozen.

    See osdn #41547

commit 710ab712e5a2d9a0a8faba6281fbd41a0264db12
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 10 17:10:28 2021 +0100

    unit_perform_action(): find more targets.

    Try to find target tile and target city no matter what the action's target
    kind is. This makes it easier to call the action performers when action
    target kind lives in the ruleset.

    See osdn #41551

commit 4a65cc23b3a613d33ba6663076e47d4f3f31909d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 10 17:38:19 2021 +0100

    action_target_neg_util(): tgt kind may vary.

    Prepare action_target_neg_util() for actions that may be city targeted in
    some rulesets but not in others.

    See osdn #41550

commit 28b3f3bd145bc8ae507f719cc16db3a295d4a3e6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 10 18:16:34 2021 +0100

    Mention what action has a problem.

    Specify what action has a problem in the error message of
    enabler_tile_tgt_local_diplrel_implies_claimed(). The message isn't only
    encountered in ruledit where it is clear what enabler has a problem.

    See osnd #41549

commit 38ca803f0d3a77937de138bb2885e97e6b519395
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 10 14:36:12 2021 +0100

    Fix Unit:move() and Unit:teleport() hut behavior.

    Fix the Lua api functions Unit:move() and Unit:teleport()'s hut behavior.
    They would pop a hut when hut_behavior is Normal and Nothing, but not when
    it is Frighten. Nothing is the one that is supposed to be unable to pop
    huts.

    See osdn #41544

commit fb2dee9c4b69fb9d4118d0b231cd9b6724d5f521
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 10 12:31:51 2021 +0100

    Add space between "attack_actions" and "=".

    This makes it consistent with the rest of the line.

    See osdn #41543

commit c214b2a7d53ddaeead5121f6853df2db511d73c1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 10 12:29:25 2021 +0100

    auto_attack.attack_actions: remove impossible.

    Some rulesets have "Capture Units" and "Bombard" in their attack_actions
    even if those actions never are enabled. Remove them.

    See osdn #41542

commit 70a2d645a532855145eec8bbeb00df6051575278
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 10 12:31:07 2021 +0100

    Clarify that granularity can't autoattack.

    No action in granularity's attack_actions is enabled. Comment it and the now
    unused if_attacker out like it is in stub.

    See osdn #41541

commit 52eac0d6cf32f79ee6221273949d4896f584037a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 9 21:10:38 2021 +0100

    Forced post action actions to the ruleset.

    The actions "Bribe Unit" and "Attack" will under certain circumstances force
    an enabler controlled action or a move if the action is successful. The
    enabler controlled actions come from the fact that they used to be side
    effects of regular moves.

    The code to try various enabler controlled actions and then a regular move
    has gotten big and ugly. Soft code it by making the list of actions
    attempted as a part of a forced move a list.

    Put the list in the ruleset so it can be changed.

    See osdn #41524

commit 559b36559b73a0a7ae33b5b4297fd2378832c186
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 10 10:17:04 2021 +0100

    action_auto_perf_unit_do(): extra can be NULL.

    Check that target_extra isn't NULL before accessing it's id.

    See osdn #41538

commit 51bc15dc3fbbcf581c73d991eb045ed24311e0af
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 10 09:32:46 2021 +0100

    action_auto_perf_unit_*(): support action reqs.

    Support checking action requirements in the action auto performer
    requirement vector. This makes it possible to choose action auto performer
    based on action.

    See osdn #41537

commit dc1e9dbfb811cf015cd05d38f3d82313c6a0e317
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 10 07:27:19 2021 +0100

    rulesave: skip non enabled actions in AAP lists.

    Only save an action to an action auto performer list if it is enabled.

    See osdn #41536

commit cc045cff199d1d60675ab8b85368c162df1e2c07
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 10 06:03:54 2021 +0100

    README.actions: document Unit:perform_action().

    Document that a unit now can be forced to perform an action.

    See osdn #41535

commit 47948b3c7b6fc1113c38bd0b0ab62bf0604598f2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 9 21:17:05 2021 +0200

    Qt: Fix setting up dialog title in eco_report::sell_redundant()

    See osdn #41530

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bb4326b22942c526f83bafd9b02a6d38b2f10e19
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 7 07:20:21 2021 +0200

    Qt: Fix plr_report::toggle_ai_mode() shadow warning

    See hrm Bug #919310

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f729149a30853740dd68a7cd208d0183b57fbfed
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 7 09:19:45 2021 +0200

    README.AI_modules: Update list of AI types built in by default

    See osdn #41505

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5262b01fe762a784ede0feb916461b21d5eaca70
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 10 07:30:11 2021 +0200

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4a6ecbf5d4db2528e5d1212b0a4b79312c966103
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Aug 21 16:45:36 2017 +0200

    Lua API: allow forcing an action.

    Add unit_perform_action() to edit. Add perform_action() to Unit.

    This makes it possible to force a unit to perform an action from Lua.

    See osdn #41520

commit 26e0f755daff3e9c1712c094c7eff768b1fa1bc2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 8 12:50:29 2021 +0100

    Lua API: add find.action()

    Make it possible to get an action from the find module.

    See osdn #41519

commit a7b1fc9a9af91ee59e1e126e7d8774163d46e1cc
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 8 10:40:56 2021 +0100

    CI: run autohelp.

    Run freeciv-manual on each tested ruleset to catch some potential crashes
    in the automatic help text generation.

    See osdn #41518

commit 6c1b563251cffe5f13a69c777267809c6bab83ac
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 10 01:12:12 2021 +0200

    Comment typofix 'titelbar' -> 'titlebar'

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6f6877f7c28f143faaafec3d45ff154a5399ed89
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 8 08:14:49 2021 +0100

    rulesets_save.sh: make it possible to keep files.

    Keep the upgraded rulesets for later inspection even if nothing fails as
    long as KEEP_RESULT_IN_DIR is set to a folder. The result is stored there.

    See osdn #41517

commit 2200db6313dc83a72a6670b0dfe84f07ae5b644a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Nov 17 04:18:58 2019 +0100

    rulesets_save.sh: test ruleset saving stability.

    Check that loading an already upgraded ruleset saved by rulesave and saving
    it again won't change it. Changing the result could indicate bugs like
    compatibility code running on already updated rulesets.

    Idea had during conversation with Marko Lindqvist <cazfi>

    See gna patch #7283
    See osdn #41515

commit 647b561249397e2bb101103243509485420fa2f3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 8 09:01:56 2021 +0100

    Handle buildable extras without activity cause.

    Make rulesave save the fact that it is buildable when it has no worker
    activity causes. If not buildable will default to false on the next load.

    This fixes rulesave's stability when saving granularity and loading the
    result.

    See osdn #41516

commit 4ac27f9ae5b0711a2350a836612d81a3754c9081
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 8 06:29:08 2021 +0100

    Fix "Conquer Extras" disembark-punishments.

    Make it impossible to avoid disembark punishments by disembarking to a hut
    by adding the punishments to "Conquer Extras" too.
    - Make "Conquer Extras" actions block "Transport Disembark" actions.
    - Handle "Conquer Extras" in the slow_invasion ruleset upgrade code for 3.0
      rulesets.
    - Add disembark-punishments to the existing rulesets.

    See osdn #41467

commit c24a3efdb5fa90f079a4493f45a2dcc62333efe1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 8 03:25:04 2021 +0100

    Fake generalize "Conquer Extras"

    Introduce "Conquer Extras 2" - a perfect copy of "Conquer Extras". Any
    difference between them should be ruleset defined.

    See osdn #41513

commit c7a3925349b074ba3dcc4b33bf93fee83ff6e25b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Feb 4 22:19:34 2021 +0100

    multiplayer: fix move_is_blocked_by line length.

    It was more than 77 characters long.

    See osdn #41514

commit 168f1fbc77e1051af659847cbdbd486cdeec5988
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 8 05:48:44 2021 +0100

    Clarify reference in comment.

    The suggested narrative excuse for Sandbox's placing of castles at the start
    of the game isn't a reference to Noah's flood. (Over 1500 years too early
    for that, at least according to James Ussher.) It is a reference to ancient
    and medieval writer's speculations about a civilization of angles that
    eventually fell into rebellion and was destroyed by a flood between
    Genesis 1:1 and Genesis 1:2. (Don't ask me if they believed that this was
    what happened, what probably happened, what may have happened or what didn't
    happen but is fun to speculate about.)

    Allude to Genesis 1:2 in the comment to make this clear.

commit dbb8c43bbbf343b9a4fe5f890d6e1dbef0b6121c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 8 02:24:42 2021 +0100

    Put Pillage's multi target support in a macro.

    Move Pillage's multi target support in can_unit_do_activity_targeted_at()
    into a macro so other activities can use it too.

    See hrm Feature #919332

commit b7e92fbc9dfa49f63f82ca498d7bd9aea5af4f5f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 2 07:17:14 2021 +0200

    BUGS: Replace hrm link with osdn one

    See osdn #41424

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 53aaa2ec00a4909f32dcf28c92b811267cfd5349
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 3 18:49:22 2021 +0100

    Action enabler controlled hut popping.

    Introduce the actions "Enter Hut" and "Frighten Hut". Have them control
    entering and frightening a friendly village.

    Introduce "Enter Hut 2" and "Frighten Hut 2" for slow_invasions
    compatibility when disembarking. Thanks to Marko Lindqvist for the
    reminder to check disembarking.

    The unit class field hut_behavior isn't moved to the ruleset yet.

    See hrm Feature #919139

commit b3f2c763e19c8dbdd316ecb3b0ac01d9cad79f91
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 3 18:53:20 2021 +0100

    Add more unit class user flags.

    Increase the number of unit class user flags to 15.

    See hrm Feature #919098

commit 85773dc28f0ea64d16648375cffda30af8237cd6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Feb 6 20:48:40 2021 +0100

    Allow making "Pillage" tile extras targeted.

    Lexxie asked a question about combining the "Pillage" action and the
    "tile extras" action target kind at the Freeciv forum. Make it possible.

    See http://forum.freeciv.org/f/viewtopic.php?f=11&t=59607&start=70#p103518
    See hrm Feature #919305

commit f8d60c927cc1613553d8ce64c945af9861a77b46
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Feb 7 17:20:05 2021 +0100

    Extra sub target doesn't imply tile target.

    To support extras targeted action with extra sub targets the assumption that
    an extra sub target implies that the target kind is tile must be removed.

    See hrm Feature #919322

commit 375ad65e8f0b082c0de8905241e78db2987147ea
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Feb 6 21:59:55 2021 +0100

    Prepare action target kind for non user actions.

    Prepare the code responsible for loading and saving action target kind from
    the ruleset for use by non user actions.

    See hrm Feature #919307

commit 8ea939e2dbd42f0e0ca6d9642816ff7b2d9676b5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Feb 7 12:35:13 2021 +0100

    unit_action_new(): don't specify target.

    Make an action's default target and sub target depend on the action result.
    Calculate the target complexity based on action result, action target kind
    and action sub target kind.

    This helps to prepare for taking action target kind from the ruleset for
    non user actions and therefore to prepare for generalized actions.

    See hrm Feature #919321

commit ed65bcf03b22eaa9cda54ad333b4d2769e40911b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 2 15:09:42 2021 +0200

    sdl2 widget.h: Correct comment claiming this is gui_stuff.h

    See hrm Bug #918990

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eee884fde487ae3cfc29620a151132ea3f6f06c1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Feb 6 21:14:37 2021 +0100

    unit_perform_action(): ACTION_STARTED_UNIT_ANY.

    Put user actions' ability to have any target kind in a reusable macro.

    See hrm Feature #919306

commit fd4ebcd71a99f2c40df41772616d86a3cff89d08
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Feb 6 19:27:27 2021 +0100

    Validate action target kind.

    Allowing the ruleset to change action target kind requires that Freeciv
    validates that the specified target kind will work with the action's result.

    See osdn #41498

commit 3cb16c614af0465089404738604053f9f2ca7cdb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 5 16:32:33 2021 +0200

    Prevent saving new bz2-compressed savegames

    It was already deprecated in freeciv-3.1

    See hrm Feature #804350

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8c261efc55e6653ba94e4e5bc00cbccacf537ecc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 1 16:06:53 2021 +0200

    Qt: Fix shadow warnings from pages.cpp

    See hrm Bug #918890

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 443e6058924f37c8473e94b405e3479296fa6a96
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Feb 6 13:12:09 2021 +0100

    ruleset.c: 3.2 won't need to read force_*.

    Remove compatibility code introduced in hrm Feature #919172 for
    force_capture_units, force_bombard and force_explode_nuclear from
    Freeciv 3.2.

    See osdn #41492

commit 01400dc9c549ed3071b3b24aa223baee58204fd5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Feb 5 00:11:40 2021 +0100

    webperimental: add rmcause "Enter" to huts.

    Looks like this was overlooked in hrm Feature #802768

    See osdn #41470

commit 32d079f88b41966f29a0a2e90a224317fb21d483
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 3 19:37:44 2021 +0200

    Show git revision also in beta mode

    The version number can get quite long with both beta notice and
    git revision included, but that's what user has explicitly chosen when
    giving --enable-gitrev.

    See osdn #41452

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5ddeb28e2075065469b727eb7ad0d222504cc156
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 1 17:07:31 2021 +0200

    Correct audio_(get/set)_volume() function header

    See hrm Bug #910927

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 770d1114ec402ca09a9d60c1a405c6e425c76829
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 2 15:06:05 2021 +0200

    Main Makefile.am: Add docs to EXTRA_DIST

    Autotools were already automatically adding most documents to dist,
    but ChangeLog-1.0-S3_0 was not. This also makes it simpler to
    add NEWS-x.y files in release branches.

    See osdn #41428

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1f932c5716943e7bd056584aa78a9ded6b5636b2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 3 21:15:58 2021 +0100

    Get rid of action_id_would_be_blocked_by().

    Remove "access by an action id rather than as an action structure"-macro
    action_id_would_be_blocked_by().

    See osdn #41471

commit c371467117ec3b9c79b20d54c8ff5c8b2de9f798
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Feb 4 22:19:16 2021 +0100

    Document why "Transport Disembark 2" is silenced.

    Document why "Transport Disembark 2" and other actions representing a
    disembark move that takes all movement from a unit are to quiet in the
    rulesets that use them for that.

    See osdn #41469

commit fbd84ad78519b894f1723c936a69ca6467be131a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Feb 4 18:58:03 2021 +0100

    ruleset: remove 2.6 ruleset check.

    Freeciv 3.1 doesn't support loading 2.6 rulesets, even in compatibility
    mode.

    See osdn #41463

commit 47b04ac6451c837a54787ef50dab538d4e7b608a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Feb 4 12:41:52 2021 +0100

    Change force_action to action_blocked by list.

    Give the ruleset more control over exactly what actions block other actions.
    Makes the way blocking is expressed in the ruleset for actions that
    currently can be blocked by other actions consistent with how
    move_is_blocked_by expresses it.

    See hrm Feature #919172

commit 0c896b9136ffbc6887276640357b200ee8a21771
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 24 04:00:34 2021 +0200

    Add counters module

    Initial version of counters module. Doesn't really do anything yet.

    Based on idea by SÅ‚awomir Lach

    See hrm Feature #876776

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 863e5206cc53ba4385d8e76fe79faaa6860b53af
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 6 01:22:41 2021 +0200

    upgrade_ruleset_sync.bash: Use commit from S3_1 as the previous version

    See osdn #41127

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7793660651352d5c89563b8f1d9b94f65a256a68
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 9 01:44:16 2021 +0200

    Bump ruleset capstr and format_version

    See osdn #41128

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit db4506c7deb97a6da249314a339e862759aaf09b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 9 00:50:57 2021 +0200

    CI: Fetch compat rulesets from S3_1

    See osdn #41127

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 059d220a1a2e8e8a4488336a233554b3b49ec605
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 9 00:38:24 2021 +0200

    Clean out 3.0-to-3.1 rscompat code

    See osdn #41126

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0d42c5ffe5e1831feff02185c6ce54340dce396a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 9 00:26:53 2021 +0200

    Rename comments-3.1 as comments-3.2

    See osdn #41125

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 86918367e510cdb0f89288cc96ad4de90b3a94fa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 9 00:10:30 2021 +0200

    Add macro FREECIV_DEV_SAVE_COMPAT_3_2

    It's to be used where the savegame compatibility code is specific
    to 3.2 development.

    See hrm Feature #820801

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5166f0d9e1ef15346ac7af042faad63d9f71a75d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 6 01:06:19 2021 +0200

    Prepare master for 3.2 development

    See hrm Task #656468

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3a723d0ce3bd9552f3558a799ce22c55901f7a5a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 6 00:45:31 2021 +0200

    Update ChangeLog before branching S3_1

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 16ff6718c9668fa6adf00cf447a0b91507d2a88b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 6 00:38:14 2021 +0200

    Make update-po before branching S3_1

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 71d231e0eb023a46ebef370b08052dcff25f46de
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 2 08:50:11 2021 +0200

    scripts/potfiles: Update to the rename of 'freeciv' domain to 'core'

    See osdn #41425

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4669eddb18eb3e736278aa7f32bd6e03e3385394
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 31 20:15:40 2021 +0200

    sdl2: Make create_bcgnd_surf() state parameter enum widget_state

    See hrm Feature #900470

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5104b85852aec502934bde866ef848afd7bf78dd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 3 22:04:59 2021 +0100

    Allow an action to block a regular move.

    An enabler controlled action is able to block another enabler controlled
    action. That means that the blocked action becomes illegal if the blocking
    action is legal.

    Regular unit moves aren't enabler controlled actions yet. But certain
    enabler controlled actions needs to be able to block regular moves for
    compatibility reasons. They were handled along with regular moves in a way
    that made regular moves impossible if they were legal.

    Introduce actions.move_is_blocked_by as list of actions that block regular
    moves and put it in the ruleset. Add the 3.1 actions "Transport Disembark",
    "Transport Disembark 2" and "Conquer Extras" to it in the ruleset
    compatibility code. Add the same actions to the existing rulesets'
    move_is_blocked_by when they use them.

    See hrm Feature #919110

commit 520f3ad4ae637206f04a8de3d5d7e4e8be0f0a2b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 3 21:09:14 2021 +0100

    Use action stuct in autohelp for action blocker.

    Use action struct rather than action id when documenting what actions blocks
    an action a unit is able to do.

    See osdn #41456

commit 5b962a1a996b09be1f1448d7f12a60ae9d80d95b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 3 21:14:55 2021 +0100

    action_is_blocked_by(): from id to action.

    Specify the action as an action struct rather than as an action_id.

    See hrm Feature #919106

commit a1203c899311983a423c664235b8a960dd8f227e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 3 11:12:40 2021 +0100

    README.actions: improve Lua example 1.

    The action logger example would print potentially wrong ownership
    information about unit stack targets and tile extras targets. Make it write
    text for each target kind separately. Eliminate owner information for unit
    stacks since a unit stack can have units from more than one nation. Correct
    it for tile extras targeted actions.

    Add action target kind specific information too now that it is possible:
    Cities get name and id. Individual units gets unit type and id. Unit stacks
    gets coordinates. Tiles and tile extras gets coordinates.

    Improve the wording of the actor unit text too.

    See osdn #41451

commit bee20b4bc6342801bb6473863e5d1edd3ea86913
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 3 09:08:25 2021 +0100

    Lua script API: add tile extras_owner.

    Export a tile's extras owner to Lua.

    v2: change API to tile/extra pair as suggested by Marko Lindqvist

    See osdn #41445

commit 53457d5920b1228ad1e840ca1011ce97a6e8d29b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 3 09:47:06 2021 +0100

    Lua script API: export action target kind.

    Export an action's target kind as a string to Lua. It is already exposed to
    the ruleset via the user actions target kind setting.

    This can be used to write a call back handler that is registered for
    multiple target kinds but still can get target kind specific information.

    See osdn #41446

commit cac8486ad1acfbc6ce2e10cc8db6384bbf0e4170
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Fri Feb 5 10:50:45 2021 +0100

    Updates french translations before S3_1 branching.

commit e4e173dce11854a8e97439555cf1104e2c9f0bc2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 31 18:09:56 2021 +0200

    Qt: Fix crash when loading of some shortcut has failed

    Use default shortcut when one cannot be loaded from the file.
    Null shortcuts were causing client to crash.

    Reported by John Robertson

    See hrm Bug #909515

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3ae20a8297990debf717c8f208959f98f612fe1e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 31 15:56:15 2021 +0200

    Gtk inteldlg: Show unknown information as "(Unknown)"

    It used to show dummy values

    Requested by fomalhaut pa

    See hrm Bug #765366

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ce7f183754bcaabbeb5719877617b28002f285a5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 2 20:46:29 2021 +0100

    Expand non domestic obligatory hard requirements.

    Tile and Tile Extras targeted actions may also not make sense against
    domestic targets. Set this up and add the "target must be foreign or
    unowned" obligatory hard requirement to the action "Conquer Extras".

    See osdn #41435

commit 2707616031c811389acb32317cfddded5c3de622
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 2 19:46:11 2021 +0100

    sandbox: autogame castle storming.

    Work around that the AI won't build Castles by placing castles at the start
    of the game so "Capture Extras" gets autogame testing.

    See osdn Ticket #41434

commit 75376196700fb2bb2ecf1482051a91a445e04710
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 2 14:31:18 2021 +0100

    sandbox: add "Castle" as a new base type.

    A castle expands a fortress with an administration center, allowing it to
    claim terrain, to see cardinally adjacent tiles even when empty and to be
    captured by foreigners.

    See osdn #41433

commit f3ad1b5a363f015bdc3eb5cd94ca32cad0450ca7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 31 13:42:06 2021 +0200

    Clarify that Railroad increases production by half in most rulesets

    Text that used to say just that it increases the production everywhere,
    was confusing for the case where the production is less than 2 and
    the increase gets rounded down to zero.

    Reported by Chippo Elder

    See hrm Bug #918741

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2ca83fc9f9509690733aeb32b5b85898f7d09167
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 4 05:25:01 2021 +0200

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 26050e3d82c6ef09cd8bd2a9f67f12c17f49b7fa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 4 04:16:36 2021 +0200

    core/POTFILES.in: Add featured_text.c

    Recent combat message change moved some strings to featured_text.c

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2fcc98a58feea2bcdac02b0cc41aeb0a86ea4adf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 31 21:06:58 2021 +0200

    Qt: Drop unused fc_client::game_layout

    See hrm Feature #918824

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 27b533423d7d26fc8a102026d152bb15a9a2cece
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 1 18:19:00 2021 +0100

    auto help: list "Conquer Extras" targets.

    List a unit's potential "Conquer Extras" targets in the unit's action
    specific help text.

    See hrm Feature #918956

commit 38d7ccd971f484147a7f704c23a47743f6dbeda6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 1 19:42:25 2021 +0100

    webperimental: ban civilian fortresses capturing.

    Demonstrate "Conquer Extras" by forbidding civilians from capturing
    fortresses in the webperimental ruleset.

    See hrm Feature #918909

commit b9d8cfc501270f73b12a525edabd3a3ff8c9044f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 14 18:18:53 2019 +0100

    New action "Conquer Extras".

    Extra conquest used to be a side effect of regular moves. Make it a
    separate action.

    Soft code the "no extra owner or at war with the extra owner" requirements.

    Changes auto games because the AI starts to put a value on extra capture.

    See hrm Feature #850508

commit 481e987bc614ee53b5219d43b8bec61cbf55f9a9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 31 09:46:06 2021 +0200

    sdl2: Drop unused free_bcgd_order_widgets()

    See hrm Feature #918801

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 429b16e27b2e55fa4a36200fb3ab96cdf380d389
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Jan 30 16:22:01 2021 +0100

    CI: reenable Windows build.

    Set CI msys2 version to 20201109 by specifying that version 2.1.2 of the
    msys2 GitHub action should be used. This makes GitHub actions able to build
    Freeciv again.

    Reported by Marko Lindqvist

    See hrm Bug #903493

commit 0a32b72a97c89502215d72fd5b402e42eb24d636
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 3 14:12:51 2021 +0200

    Bump version to 3.0.93.2-dev

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 34fda8180c3a7e46d269af153115ef7cd3462795
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 1 13:11:23 2021 +0100

    Introduce tile extras targeted actions.

    Add support for enabler controlled actions that targets all extras at a
    tile. The difference from tile targeted actions is that the player
    target_reqs are evaluated against is the tile's extra owner rather than
    the tile owner.

    ATK_EXTRAS has no hard coded users yet but can be used with the user
    actions by setting target_kind to "tile extras".

    Example: A Buoy at an unclaimed tile is owned by the player it grants
    vision. An action enabler for "User Action 1" has a local DiplRel War
    requirement. A player at war with the tile's extra owner tries to perform
    "User Action 1" to the tile. If user_action_1_target_kind is set to
    "tile extras" the requirement is fulfilled. If it is set to "tiles" it
    isn't since there is no player (tile owner) to be at war with.

    See hrm Feature #918887

commit ebfc84fa24c08202b93221a60279a07607d81fa0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 31 11:42:18 2021 +0200

    Fix increasing of the packet decompress factor

    Code assumed that zlib would return Z_DATA_ERROR when decompress
    buffer is too small, but in reality it returns Z_BUF_ERROR.
    This caused decompress factor never to be increased even if the
    default value turned out to be too small.

    Reported by Louis Moureaux

    See hrm Bug #918726

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 29a5197c7f0380df0aa98ea1907c520091b86466
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 1 12:32:40 2021 +0200

    Bump soundset capstr

    New entries have been added to the soundspec format since S3_0.
    Make the capstr to differ from frozen 3.0 one.

    See osdn #41411

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c0c43cc0bd07522b96287ddc7e8abfaa2310c0c1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 1 08:23:46 2021 +0100

    Document unit activities usages.

    Document what each member of unit_activity is used for.

    See hrm Feature #918854

commit 0d2a51c5889dd65ee1861d21e6cd17f7850faa68
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 1 08:08:30 2021 +0100

    Drop conversion of never read activity.

    ACTIVITY_PATROL_UNUSED can't be read from savegames. There is therefore no
    need to convert it to ACTIVITY_IDLE.

    See hrm Feature #918853

commit a9f6a5ae423c53d4f2de40e1ee3082c4103c4ec2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 1 08:18:48 2021 +0100

    savegame3: drop pre 3.0 activites.

    Remove activity2char()'s support for reading activities that were dropped
    before 3.0 was released.

    See hrm Feature #918852

commit b54b06e340c421b34458a50f8c7a13b968175cbe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 2 19:08:13 2021 +0200

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 27b57cb2e3c507817a02166df8cbf1016c71a2cc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 31 23:10:26 2021 +0200

    README.md: Update patch submit URL to osdn one

    See osdn #41402

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dfab4d04de098d1025d4330541f768aeea323016
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jan 31 15:20:46 2021 +0100

    Add an "Extras Owned" CityTile property.

    It works like "Claimed" except that it checks for extra owner rather than
    for tile owner.

    See hrm Feature #918819

commit a3f3a388a241914e55ada7214476d741bad1906a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jan 31 16:32:34 2021 +0100

    Translate CityStatus property values.

    See hrm Bug #918818

commit 1343b450a9ead77e36eef26dfe487e9a2672e298
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jan 31 16:18:15 2021 +0100

    Translate CityTile property values.

    See hrm Bug #918816

commit dc3a0e63d211d7622530ca1f810e594c944f2dfd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jan 31 15:09:43 2021 +0100

    Clean up is_citytile_in_range().

    * Convert from if statement to switch statement.
    * Move the no target tile check to the top.
    * Move asserts against illegal ranges to be within switch statement
      (requested by Marko Lindqvist)

    See hrm Feature #918815

commit f67dfd3a09f71d29ef6b4ab31b208884b7fdca28
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 31 12:10:35 2021 +0200

    Make year SINT32 in network protocol

    Reported by Alina L.

    See hrm Bug #918800

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 23512a7b88ba5329ce244709e4b0f6b2fd63e6dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 31 09:14:58 2021 +0200

    Correct api_methods_game_year_text() function header

    See osdn #41393

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c4af7815b91e88402359eaeb4c0674a5cefc2d3a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 30 21:18:46 2021 +0200

    Qt: Fix foreach() inside foreach() shadow warnings from menu.cpp

    See hrm Bug #918786

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 110cdbbb11168e6b1a4afddf59aa73672e4a55b7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Jan 30 16:48:14 2021 +0100

    CI: use prebuilt Lua on OS X.

    See hrm Feature #918779

commit 4703c41161b2b97200814276af9b5f9f5ed197c9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Jan 30 13:47:01 2021 +0100

    Ban "Fortress" in unit "Activity" requirements.

    The "Fortress" unit activity is there for compatibility with old savegames.
    It should not be exposed to the ruleset.

    Ban it from appearing in any "Activity" requirement.

    See hrm Bug #918776

commit c391b9903f555ab3beee59a773ed9c159620b5a5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jan 29 22:08:30 2021 +0100

    Make "Sentry" pure server side client state.

    Ban "Sentry" in unit "Activity" requirements. This makes it pure server side
    client state again. This makes Sentry a non action. Remove the "Sentry Unit"
    action introduced in hrm Feature #879674.

    I don't think the rules should change based on what the client does to
    implement a better user interface. Not having to think of upgrading rulesets
    that requires it gives us more freedom to move it to a server side client
    state sub system in the future.

    Ban "Sentry" from appearing in any "Activity" requirement. Make the
    requirement system see a unit performing "Sentry" as being idle. Remove the
    "Sentry Unit" action.

    This reverts commit fc6101ecfd9ee34e3d57230bf9c7679420f9fc4e.

    Done because of negative feed back on the "Sentry Unit" action from Ignatus
    on the Freeciv forum. See
    http://forum.freeciv.org/f/viewtopic.php?f=11&t=59607&start=70#p103321

    See hrm Feature #918768

commit e7d63729cb6d3a7b9ef8f8fef3345011be11e674
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Jan 30 11:37:17 2021 +0100

    Ban "Explore" in unit "Activity" requirements.

    The "Explore" unit activity controls a server side agent. I don't think the
    rules should change based on if the player moves a unit himself or if a
    server side agent does it on his behalf. Not having to think of upgrading
    rulesets that requires it gives us more freedom to move it to a server side
    agent sub system in the future.

    Ban it from appearing in any "Activity" requirement. Make the requirement
    system see a unit performing "Explore" as being idle.

    See hrm Feature #918767

commit d73ac0ff7cea627cce63b045a8f948238937edd3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Jan 30 11:18:09 2021 +0100

    Ban "Goto" in unit "Activity" requirements.

    The "Goto" unit activity is there for compatibility with old client-side
    goto. It should not be exposed to the ruleset.

    Ban it from appearing in any "Activity" requirement. Make the requirement
    system see a unit performing "Goto" as being idle.

    See hrm Bug #918766

commit d85e8de307a95f151644193f8d903a882a310cea
Author: Charlie Galik <Charlie.Galik@cambiumnetworks.com>
Date:   Tue Jan 26 13:43:16 2021 -0600

    Add detailed combat info server message

    Patch by myself and Louis Moureaux

    See hrm Feature #913055

commit 2ca43f449542d0d1f7bd8f798b62f8fbbeb39017
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Jan 30 10:08:50 2021 +0100

    Forbid invalid Activity requirements.

    The unit activities "Unused Road", "Unused Railroad", "Unused",
    "Unused Airbase" and "Unused Patrol" aren't valid values for the "Activity"
    requirement type.

    See hrm Bug #918765

commit 6fae7ee8703d348e7f518456a32c6b7fb2adbf6b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jan 31 15:22:52 2021 +0100

    Comment pronuon fix.

commit a7e8c5a1112f3285c4e43ffffc966c6909790018
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Fri Jan 29 19:29:57 2021 +0100

    Fix hard requirement of non-animal actor for Conquer City actions

    It should apply to the actor player, not to the target player.

    See hrm Bug #918718

commit db1ca595861fe98be54a61ba5a03dff6637bb0b6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 31 10:17:59 2021 +0200

    Comment typofix: "dispalyed" -> "displayed"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4a9f698b6a6fef14bd31bd80cb5871e8b10d3885
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 29 17:34:10 2021 +0200

    Update to crosser-2.0

    See hrm Feature #891459

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fe382f38fb13b5aee7cbb03d7ea7e3eb8de12492
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 30 08:54:19 2021 +0200

    Granularity: Add Pottery tech

    See hrm Feature #908869

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9fb57ad8d9ac0a1261422337629724bbebd2d5f6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 24 07:47:56 2020 +0200

    gtk3x: Comment out chatline.c tool buttons code

    See hrm Feature #909061

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 626bce5b96e5d528e4d2b2c0ea5b09fda93a500a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 29 14:42:52 2021 +0200

    Fix typos in global_worklist_callback() function header

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9e74a332d5645eeec63e7b0f50689d2dc45e9e3a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 17 15:00:10 2021 +0200

    Qt: Fix map_view::shortcut_pressed() shadow warnings

    See hrm Bug #916123

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1547c17802ff465ec55531e4c9273d4a4b8da461
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 27 05:22:15 2021 +0200

    Add --enable-patient-connect configure option

    When the option is enabled, client gives spawned server much
    more time to get up. This is needed in some underpowered embedded
    systems. This option is meant to replace custom patch that
    OpenEmbedded meta-games is carrying to increase the time.

    See hrm Feature #899259

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit abf2d17cf9968ff8fb29cda12f64c35fdc6414b2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 5 00:59:15 2021 +0200

    sdl2: Drop order_auto_attack icon from theme format

    See hrm Feature #902918

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e18490ad03e1b8e0247ec6fc3ec7eae21e96923d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 9 11:47:57 2021 +0200

    Qt: Fix shadow warning from hud_battle_log::timerEvent()

    See hrm Bug #914093

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bdab6cb064d0706b641131443fa3dc40c35fc12a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 19 02:27:43 2021 +0200

    Control -mwindows flag ourselves, from one place

    See hrm Feature #915700

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7ed496002dedc0d6b52d35b8d145f323e2a0a0f5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 17 03:17:19 2021 +0200

    Drop unnecessary SDL_mixer.h includes

    See hrm Bug #898088

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2dde28145becd1310dd37d9ab90d2d05ccc7eae5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 3 11:17:32 2021 +0200

    Update BUG_URL to point to osdn

    See osdn #41096

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 25050c829fab00032ffd54770f632b81a777b80f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 17 05:42:40 2021 +0200

    Qt: Restore QWheelEvent::source() and QWheelEvent::phase() to use

    We couldn't use them in earlier branches that had lower minimum
    Qt requirement.

    See osdn #41189

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7ef49f2b8ee916d79d7bc97e5ac1851281c01050
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 5 00:48:02 2021 +0200

    sdl2: Show more accurate unit cost in global worklist editor

    Use utype_build_shield_cost(... client_player() ...) instead
    of utype_build_shield_cost_base() so player specific effects
    are considered in the calculation.

    See hrm Feature #905452

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 49ed82bac36e22eec12404727eb58b5e1cac7ade
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 18 05:24:47 2021 +0200

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3c7a4f89dc9877566c1111e3bb3a6d54fc5862ae
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 16 11:26:43 2021 +0200

    Qt: Fix dialogs.cpp shadow warnings

    See hrm Bug #915888

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9c056a65ee4227f588db21c9426d81776271488a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 16 10:43:17 2021 +0200

    Drop borders_button from sdl2-client theme format

    Bump spec capstr as now the format differs from that of stable branches.

    See hrm Feature #898699

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9a37f40c3480641450675cd635ea49940996a074
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 2 00:42:23 2021 +0200

    Refactor duplicate PF_IMPOSSIBLE_MC check out from pf_normal_map_iterate()

    See hrm Feature #911970

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3591b8c8bed2285a92879e9c321bdd43ec04085b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 21 19:41:23 2020 +0200

    sdl2: Correct create_horizontal() function header

    See hrm Feature #899230

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6d29b049eb2fffd3a1b4fc699ca9844b4297af8c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 9 12:07:22 2021 +0200

    Qt: Fix cityrep.cpp shadow warnings

    See hrm Bug #914100

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 47415c2c22b3ddb54683d1f0499620427e357e01
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 12 05:22:33 2021 +0200

    sdl2: Improve wldlg.c coding style

    See hrm Feature #914761

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a10500e43b091169403961d4d4ba7f45138aad48
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 1 09:38:47 2021 +0200

    Ruledit: Don't open separate console window in Windows

    Reported by Jacob Nevins

    See hrm Bug #681310

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b1ad781bd913f77eb99a4d841fb09612abc4ace8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 12 03:30:16 2021 +0200

    sdl2: Improve widget_window.c coding style

    See hrm Feature #914738

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 00f2bf372537f2e15b476fd887ac1ff14d99bff6
Author: Ilkka Virta <itvirta@iki.fi>
Date:   Mon Jan 11 15:23:47 2021 +0200

    Make Despotism penalty and Pollution/Fallout not apply to Gold/Luxury/Science

    Some wonders like Hanging Gardens apply a direct Luxury or Science bonuses
    on the city _tile_. The code subjects them to the Output_Penalty_Tile
    effect, unlike the help texts lead the player to assume. The same issue
    applies to Pollution/Fallout via Output_Tile_Punish_Pct.

    Fix this by excluding Gold/Luxury/Science from both effects in the affected
    rulesets: civ2civ3 and sandbox.

    See hrm #908518

commit dcdef0ad0ade3720c303b418ab39afe433d2bfc8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 10 09:10:50 2021 +0200

    sdl2: Improve widget_scrollbar.c coding style

    See hrm Feature #914306

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fcdcdc78c2667e8645b701ee84337406708d1ee5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 5 16:09:11 2021 +0200

    Fix postponing buildings from worklist

    They were never postponed, but their building started even when
    it was supposed to be impossible.

    Reported by wiederFI

    See hrm Bug #912972

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d59336b703330e910649fa546cdee87da48a24b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 9 03:01:17 2021 +0200

    sdl2: Improve widget_label.c coding style

    See hrm Feature #914020

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 124c737a7bfd1d96156f55f5bf4a29892da53b18
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 3 22:24:53 2021 +0200

    Qt: Fix citydlg shadow warnings about 'pcity'

    Local variables shadowed data member by the same name
    from city_dialog and impr_item classes.

    See hrm Bug #912471

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5b295ccfef9362f0e4ed4331310926bc745c87e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 8 07:32:45 2021 +0200

    sdl2: Improve widget_edit.c coding style

    See hrm Feature #913754

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d08c5b49104745dae79d7c78c0929d82b21e6e4b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 7 15:04:46 2021 +0200

    Fix Capture Unit's Casus Belli triggering

    Reported by Lexxie L

    See hrm Bug #913516

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d74b85a4c3967052f613c4ec8ff8ea3e391b8b7f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 3 07:26:25 2020 +0200

    sdl2: Correct create_utf8_str() function header

    It talked about parameter called pInTextString, when in reality
    it's called in_text.

    See hrm Feature #902490

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d449581923e7ffaa216a822b46584893e7e2930e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 6 12:34:25 2021 +0200

    sdl2: Improve widget_checkbox.c coding style

    See hrm Feature #913238

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ed073d52b50f08a46a607f0f5cd736b9b93930c6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 7 04:02:06 2021 +0200

    configure: Drop detection of SQLITE3_VERSION

    The detection code errored when sqlite3.h header was in
    nonstandard location, and even when the detection succeeded,
    the result was not used for anything.

    See hrm Feature #913433

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f3b03f6d56a71092e5707f585d650e3103026497
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 27 04:54:34 2020 +0200

    sdl2: Remove useless Toggle Mini Map Mode button

    It did nothing, just confused user by its existence.

    See hrm Bug #898649

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit be137f6f7bdb92c4b5967a2fc8dd6f0383280630
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 5 08:31:47 2021 +0200

    sdl2: Improve widget.c coding style

    Some variable renames affect also other source files.

    See hrm Feature #912882

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5e13ee1951a35be4b4a095cedd545b2b68b17262
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 30 05:20:15 2020 +0200

    sdl2: Rename get_widget_pointer_form_*() -> ..._from_...()

    See hrm Feature #911183

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cf091b010b18c2047e564b8f5667dac44cdc8524
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 9 10:47:15 2021 +0200

    Qt: Fix chat_input::chat_word_list_changed() shadow warning

    See hrm Bug #901860

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a712a49e3d0b67640aacf5a45cf67bf2925030d3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 4 08:24:19 2021 +0200

    sdl2: Improve widget_button.c coding style

    See hrm Feature #912574

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2a12fc52083a25552facf3d81566062c0696937b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 3 23:05:02 2021 +0200

    Adjust formula for barbarian band size

    The old formula increased number of cities needed for higher
    band size factor too steeply.

    The new table:
    Player cities -> band size factor:
    ...10    -> 1
    11...31  -> 2
    32...80  -> 3
    81...186 -> 4

    Reported by Akechi

    See hrm Feature #767126

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 814490291d5ee838a8c08cd26ab72a74a9f6efc4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 3 01:51:12 2021 +0200

    sdl2: Improve theme*.c coding style

    Some renames affect also other source files.

    See hrm Feature #912245

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0f5aa81591ff9226189251eec1c2e4f354410fa2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 6 12:16:55 2021 +0200

    msys2: Add 'ci' target for the Makefile, use it in CI

    Disable build for now, as latest msys2 packages fetched by the CI
    are incompatible with our codebase (officially supported msys2
    snapshot version)

    See hrm Feature #913235

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d7e87a3c9d9f6ae10b3c50701e9c88989d72f496
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 2 12:23:02 2021 +0200

    Meson: Set GDK_VERSION_MIN_REQUIRED, GDK_VERSION_MAX_ALLOWED

    Silences deprecation warning from newer gtk+ than our
    minimum supported.

    See hrm Feature #912102

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4f2c263dae07a6595bcbfe65073a60c586ae606a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 2 02:00:04 2021 +0200

    sdl2: Improve spaceshipdlg.c coding style

    See hrm Feature #911986

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3b03409c536a5920b736e44696cc8cbd118b28cd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 3 13:37:08 2021 +0200

    configure.ac: Fix IPv6 support in Haiku

    Reported by Luc Schrijvers <Begasus>

    See hrm Bug #912369

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5118e0cbe68fce8ce9e6a5d2bd7a41931748a314
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 3 21:47:51 2021 +0200

    Qt: Fix helpdlg.cpp shadow compiler warnings about 'buffer' variables

    See hrm Bug #912464

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 90ff9cb2c9c6d3a2487b331b72a032c6f98943c1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 1 00:36:54 2021 +0200

    meson_freeciv_config.h.in: Don't claim to belong to autotools build

    See hrm Bug #908841

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a98563c5957075f6fc17f9b62e61b0d0d190f3f0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 1 01:25:54 2021 +0200

    sdl2: Improve repodlgs.c coding style

    Some renames affect also other source files.

    See hrm Feature #911729

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3466068fa50dae88540e0607d4948988f9878168
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 5 23:16:16 2021 +0200

    Bump version number to 3.0.93.1-dev

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a22273e65e79ee233e5b701b072898c6cc49e1ae
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 1 23:01:41 2021 +0200

    Make ~/config/settings/freeciv the storage directory under Haiku

    Requested by Begasus

    See hrm Feature #911958

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 183b871c32a77435cca478567aa161d4204b8760
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 2 16:45:36 2021 +0200

    Qt: Popdown gotodlg when leaving the game

    Also fixes a crash when quitting the client, and gotodlg has been
    opened.

    Crash reported by John Robertson

    See hrm Bug #911885

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ec5ab3f557e5bb5cc4fab09c7f5785a704279d3e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 2 01:02:22 2021 +0200

    configure.ac Fix Windows compilation detection for gtk4 modpack installer

    See hrm Bug #911974

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b1ca2e610cd257ec4d666b342283cd85fe83e41e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 31 16:13:12 2020 +0200

    sdl2: Improve plrdlg.c coding style

    See hrm Feature #911637

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a5698cf211f017c7d3e0c086bc47bea46259ecd4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 23 15:24:33 2020 +0200

    meson-winbuild.sh: Disable nls

    See hrm Feature #908863

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5d851e0a444b0ba2e17c5c91e8c888d0963fb3aa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 28 14:23:44 2020 +0200

    Rename modified sdl2.m4 as fc-sdl2.m4

    See hrm Feature #851202

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ff2462fa627cb48cf8ee34d0736381065c941fb4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 30 06:07:04 2020 +0200

    Fix selecting music track after lua play_music() track has played

    Reported by Jacob Nevins

    See hrm Bug #683570

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d55e3a1c0a0f82569e3274fb6f2779b1a020185c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 30 05:06:08 2020 +0200

    sdl2: Improve messagewin.c coding style

    See hrm Feature #911180

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 604eb362e642ac7020b1d30f84c1c6d8ad14897a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 31 16:29:14 2020 +0200

    Introduce new compat_load_dev() block for the version 3.0.93

    See hrm Feature #911639

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fdf96a7ff57e4e837813cca68975c449725a2a51
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 3 14:41:38 2021 +0200

    Qt: mr_menu::*(): Rename menu_list as menus

    mr_menu class has several member functions with a variable
    called menu_list. Those shadow data member of the class.
    Rename them to 'menus' to avoid the shadow warnings.

    See hrm Bug #900975

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b9e85534e1cd5cb9c3fed9eef314a13c5c4f11b9
Author: John Robertson <jro.johnro@gmail.com>
Date:   Sat Dec 19 19:30:28 2020 -0700

    Qt: Confirm before distruptive selection

    See hrm Feature #907806

commit 9d3b03963eeb15fa95c7af065b34b3b77b333f43
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 29 05:02:16 2020 +0200

    sdl2: Improve menu.c coding style

    See hrm Feature #910846

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4a4fc6d50b7a3cd847441d2b2be2cef44865abdd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 2 20:50:36 2021 +0200

    AI: Use considered unit's attack count in city bashing consideration

    Virtual unit under consideration was assumed to always deliver one
    attack against enemy city. Use its real move rate instead. For example
    units of move rate 2 can both attack and conquer at the same turn.

    See hrm Bug #872218

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 463d99c265fc23152db0af2350cfd34cb1df0eab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 2 14:50:17 2021 +0200

    sdl2: Fix compiler errors when SMALL_SCREEN enabled

    See hrm Feature #899569

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d944b5fdd294f1e7c5d923d445d9c878e6e21014
Author: Ilkka Virta <itvirta@iki.fi>
Date:   Sun Jul 12 00:17:37 2020 +0300

    Fix city_landlocked_sell_coastal_improvements() for Aqueducts and Harbors

    Aqueducts used to get sold on terrain change among with coastal improvements since the
    actual city tile was not passed to is_req_active. Also add check for TerrainFlag reqs,
    used by Harbors from 2.6, so that they do get sold.

    See hrm Bug #880455

commit ae0cda01b29bf52d96df459a25a79a46e4806a31
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 28 05:37:37 2020 +0200

    sdl2: Improve mapview.c coding style

    See hrm Feature #910530

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e355db22740839b9048a4e6648965a71a7651442
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 28 13:06:07 2020 +0200

    Fix selection of next music track after single-alternative track

    Saving correct music tags and setting up the callback was erroneously
    inside a code block that handles alternative tracks for the given tag.
    It was not executed when there is no alternatives for the track.
    Move the code outside that block so it's executed always.

    See hrm Bug #910605

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 58e6b1a8409607420f253c9a628aaa3eeccc94cd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 1 14:36:44 2021 +0200

    Inline is_city_center()

    Some arrangements for includes was needed as headers depend on each other.

    See hrm Feature #905143

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5b6baa8d5c4c65d06ce3200eb6261dbab7da3648
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 1 09:05:14 2021 +0200

    Bump version number to 3.0.93-dev for year 2021

    See hrm Feature #910554

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a58d84533a8875f6e98f0ebe6b2b93d3eaa14d49
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 27 04:49:55 2020 +0200

    sdl2: Improve mapctrl.c coding style

    See hrm Feature #910251

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2b24adcae463e4c646c804b82a1f7610008288d0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 30 05:55:47 2020 +0200

    Revert hrm #905818 to fix stopping music

    What was thought to be fix for Bug #905818 has actully been
    breaking stopping of music. Revert that fix.
    Actual root-cause of Bug #905818 was Bug #910605, which will
    be fixed in a separate commit.

    See hrm Bug #910919

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0131720e1c882567735e66073507ac50db1a3963
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 31 13:09:56 2020 +0200

    Update Polish translation by Hubert Kowalewski

    msgmerged from S3_0 b79b7d1d8b

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dc6e7b77355d0e9cff2483c7caa9ba571becde22
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 20 03:45:05 2020 +0200

    Fix buffer overflow in reading score log file

    Reported by louis94

    See hrm Bug #907791

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5583ab70fa02d16c43f89c591904069813b11563
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 31 07:37:08 2020 +0200

    Update Spanish translation by Jordi Negrevernis i Font.

    msgmerged from S2_6 fa280f545a

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cfef00afcad597338cd1e2493874683618c3f879
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 26 07:06:27 2020 +0200

    sdl2: Improve helpdlg.c coding style

    Some variable renames affect also other source files.

    See hrm Feature #909797

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2eb65191cab0ad87449393005428acc52b22fbc6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 29 03:47:51 2020 +0200

    gtk: Fix crash on receiving chat with link tags

    We did g_object_unref() ourselves to a tag we had created with
    gtk_text_buffer_create_tag(). Its documentation says:
    "The returned tag is owned by the buffer's tag table"

    Reported by louis94

    See hrm Bug #910832

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9780ca55a89eca92b3ad20935a6282f597f26441
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 30 16:05:07 2020 +0200

    Update Spanish translation by Jordi Negrevernis i Font.

    msgmerged from S2_6 4cc9a34d67

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6749fb2ce2fab627a4c3e37502ad58e23c2d44d0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 30 15:02:23 2020 +0200

    m4/.gitignore: Remove x.m4

    The file no longer exist.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dc917b084ed8c963d61074468ee6d10250793113
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 30 06:45:11 2020 +0200

    tools/fcmp/.gitignore: Add gtk4 modpack installer files

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 31ab7c7518c404c17eea1df02de34473b079129a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 25 12:48:14 2020 +0200

    sdl2: Improve gui_tilespec.c coding style

    See hrm Feature #909610

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 056f282d84998391b2f56dccfbaeded7867486e1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 22 19:25:04 2020 +0200

    Add minimum_turns property for multipliers

    It tells how often multiplier can be changed.

    See hrm Feature #908582

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b0ee24f6eadd318415087d396996e2e3ba31de80
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 29 05:15:33 2020 +0200

    sdl2: Drop unistring.[ch]

    See hrm Feature #901118

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5c3b4f2a7bf29bbde28bd4cd4f8ff129e3b45000
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 23 14:47:10 2020 +0200

    Meson: Add nls support

    See hrm Feature #908818

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0dd9df4767c2e684a46daafc251fda55323c73b6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 24 04:57:12 2020 +0200

    sdl2: Improve gui_mouse.c and gui_string.c coding style

    See hrm Feature #909028

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 54e2a5f62c1cfb7c0fa45a0072c2c5dc749767bf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 22 15:36:42 2020 +0200

    Add .desktop and appdata files for gtk4 modpack installer

    See hrm Feature #908486

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 95d20bad56b80fd27548d2e9487c6f6a7c495f6e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 19 12:36:43 2020 +0200

    Granularity: Add Fishing

    Tech Fishing is needed for cities to be able to work Oceanic tiles.

    See hrm Feature #907604

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9bf38119eda38e8c05a97e06f67dd3a0d69e0cf8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 23 16:51:44 2020 +0200

    sdl2: Rename i[A-Z]* to adhere coding style

    See hrm Feature #908883

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4d978370996c4ed27da3b09f33f20e927e28b5d0
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Sun Dec 27 20:00:34 2020 +0100

    Updated French translations

commit bc6f0cd6a86a5ec16fd8fb648d630f54f8bb8cfb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 27 15:02:24 2020 +0200

    meson-winbuild.sh: Do ninja install step

    See hrm Feature #905637

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a046523fbe0560d681c615c4f39d54bc2e000ca8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 23 16:29:22 2020 +0200

    Qt: Pass QEnterEvent* as parameter to QWidget::enterEvent()

    See hrm Feature #893359

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 125ac4ef1d373affba38a6a2d139e1060b8a0c6e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 23 06:42:53 2020 +0200

    sdl2: Improve gui_main.c coding style

    See hrm Feature #908732

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5456c9b2359969d3f2c8c334263fbf0c74738abb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 22 15:16:21 2020 +0200

    Update gtk3x modpack installer to gtk4 modpack installer

    Make it to use final gtk-4 and rename.

    See hrm Feature #908451

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5912beae3d81e66cb2d27b0813795007848ed45b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 23 18:22:16 2020 +0200

    sdl2: Update sdl_create_server_list() function header

    See hrm Bug #908900

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6c2425945e5d7ff6be950287046eeb0b91139b22
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 22 05:52:21 2020 +0200

    sdl2: Improve graphics.c coding style

    Some variable renames affect also other source files.

    See hrm Feature #908410

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1949471efaaadf7f85b21d69b7b93ce540d469f3
Author: John Robertson <jro.johnro@gmail.com>
Date:   Tue Dec 22 10:34:59 2020 -0700

    Qt: Update gotodlg when unit selection changes

    See hrm Feature #908664

commit c5edb2bead41bf29c69f7127e2174d1ad70821d1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 17 06:19:11 2020 +0200

    Meson: Disable nonnull-compare warnings

    See hrm Feature #853693

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4002acaf1e55f85dc417cf3b99b2b6cbccf52de7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 22 18:49:31 2020 +0200

    Rulesave: Save multiplier offset and factor

    See hrm Bug #908577

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1f093c65e44f91dec98786eb036e4b2973d329c5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 21 06:26:12 2020 +0200

    sdl2: Improve gotodlg.c coding style

    Some renames affect also other source files.

    See hrm Feature #908095

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0e9e768f4d8d5d8972ddcdb43d846905079e1617
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 21 23:18:45 2020 +0200

    Support MagickWand-7

    See hrm Bug #905573

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 612e7555c7bcf04f300dc20473a63d6a4484c635
Author: Ilkka Virta <itvirta@iki.fi>
Date:   Sun Dec 20 18:58:23 2020 +0200

    Update city info to owner when foreign caravan helps build wonder.

    See hrm Bug #907977

commit 62b6c3423bb2ae5efbe3e18e145fc76e7ac292ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 19 07:44:49 2020 +0200

    sdl2: Improve diplodlg.c coding style

    Some variable renames affect also other source files.

    See hrm Feature #907546

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 18d48dd97d0df7c02fbc6f22bb524e672fc78a74
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 17 05:42:11 2020 +0200

    Meson: Set QT_DISABLE_DEPRECATED_BEFORE

    See hrm Feature #906910

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 65f1819dab2784558e6aa18e45e220435065425f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 23 14:49:23 2020 +0200

    Drop long gone ./ser and ./civ from root .gitignore

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6b50a5b0bc6650d4c03992aa1fa71643c26fb5ed
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 16 00:08:26 2020 +0200

    Increase max number of alternative music tracks to 25

    Requested by jwrober

    See hrm Feature #905821

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 526e2804e5c0e6f2eb17668373a77fdebf76d1b4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 18 05:20:09 2020 +0200

    sdl2: Improve dialogs.c coding style

    Some variable renames affect also other source files.

    See hrm Feature #907185

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1fa1022d9cefe42952a7d22433103a38e1ada6ff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 10 21:03:49 2020 +0200

    Record turn multiplier was changed

    See hrm Feature #905098

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0ba761b88469c955abc9d462040a7fc74ba12297
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 13 20:27:58 2020 +0200

    gtk3x: Replace gdk_event_get_coords() calls with gdk_event_get_position()

    See hrm Feature #903161

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 119632b7b0ac3d4e7684ceff4fc6ae50b3a49559
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 10 20:08:58 2020 +0200

    Granularity: Add README.granularity

    See hrm Feature #905081

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bc226a38b9f61b62c05c60f1ba9cdd272cfa9e32
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 17 01:06:02 2020 +0200

    sdl2: Improve connectdlg.c coding style

    Some variable renames affect also other source files.

    See hrm Feature #906863

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 54f08f41f12929dbf84b6936ed17e58d91006c91
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 11 17:28:20 2020 +0200

    Meson: Install Qt-client order icons

    See hrm Feature #905391

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bd4295d091fe55409779b966ebea5e15e1aef3e8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 21 15:32:26 2020 +0200

    Ruledit: Add new meta (moc) files to .gitignore

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 49698afd61ff8c33b21dc042c1bb365518b31278
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 13 18:13:42 2020 +0200

    Qt: Add --shortcutreset command line parameter

    Gui specific command line parameter can be used to force
    default shortcuts to use. Like usually, those then get saved when
    the client exits.

    See hrm Feature #905784

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7e8ef861b74bebf66b71ce84785ab8eff911a5ad
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 15 23:02:14 2020 +0200

    sdl2: Improve cma_fe.c coding style

    Some variable renames affect also other source files.

    See hrm Feature #906509

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1a8ac746c9b06966102881fa4d0a4c1f883bcc92
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 11 20:35:53 2020 +0200

    Pass player parameter for utype_build_shield_cost()

    get_unittype_bonus() asserts that there's a non-NULL player
    passed to it. If there's NULL city passed to utype_build_shield_cost(),
    it can't get city owner to pass to get_unittype_bonus().
    New player parameter is added for utype_build_shield_cost(), so it
    have a player even if city is NULL. There's still fallback to city
    owner if player is NULL and city is not.

    See hrm Bug #905411

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cb9d5a5d73f08385016ed77e62b9c8e06e299ff7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 9 21:24:26 2020 +0200

    gtk3x: Replace gdk_event_get_button() calls with gdk_button_event_get_button()

    See hrm Feature #903155

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c2a800d0e59f84a4cafb3f9fb2fad2b7be4250b8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 14 03:47:59 2020 +0200

    sdl2: Rename pMotion* to adhere coding style

    See hrm Feature #905884

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ba3bbde2326d07caca2bd142cdc2bd2e25df82f9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 11 17:25:10 2020 +0200

    Meson: Install all Qt-client themes

    See hrm Feature #897836

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 02f708051d0ffff7759e5cbeb53bf22d1900e988
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 19 16:28:18 2020 +0200

    Update .gitignores to .desktop file name changes

    Reported by Alain Baeckeroot

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aa7b5506d3cea56c4fb5102dbcdbebaa9989ce45
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 10 19:54:59 2020 +0200

    Granularity: Give trade bonus for city center tile

    City center gets +25 trade, +100 on cities of size 8 or bigger.

    See hrm Feature #905076

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f4594dd2cfa918bd7a6d1a76113f40214700f03d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 11 16:48:24 2020 +0200

    Update included lua to version 5.4.2

    See hrm Feature #905343

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ebf3d49994dfded5557afcc9d72eb566ea4521a8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 13 06:32:03 2020 +0200

    sdl2: Improve cityrep.c coding style

    See hrm Feature #905719

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 425f3178551268c466408177680234228033a529
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 9 23:05:57 2020 +0200

    Drop "Infra" user unit type flag

    We never took "Infra" flag to use the way it was planned.
    Drop it completely, both from supplied rulesets and from
    the ruleset update code.

    See hrm Feature #904738

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6056d3a565fbc28dcdcda4d5536c6d6b48e0f2ec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 10 20:48:43 2020 +0200

    Wrap multiplier value and target to a new multiplier_value struct

    See hrm Feature #905090

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c78c4e1771a0f4983e2127ad589f5ea413e9cdef
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 18 04:42:49 2020 +0200

    Comment typofix: "stoped" -> "stopped"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2b58342d8d797009847cb4470eb9630f465e3769
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 11 14:14:21 2020 +0200

    sdl2: Improve citydlg.c coding style

    Some variable renames affect also other source files.

    See hrm Feature #905330

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a6de234c66bfcbd8270853963c91f21bc6454edc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 9 21:36:26 2020 +0200

    Lua: Add city:is_primary_capital()

    See hrm Feature #904702

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a47a6b965386ec8fe847696e7f54e0a8e1cfa771
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 13 06:08:03 2020 +0200

    Increase CM_MAX_LOOP to 27500

    See hrm Feature #905717

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a9d4a4dd054d5320bc1afa44b913fd7e3c82a66b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 13 21:36:45 2020 +0200

    Fix continuing to a new music track when previous one ends

    audio_stop_usage() was flagging music ending callback to not to
    select a new track. That's not necessary as the callback is not
    called at all in that case. Instead the flag remained until
    callback's next call, causing it not to continue to new track
    at that point.

    Reported by jwrober

    See hrm Bug #905818

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0e6b6448d3f36896ef4500343740c39f6cee982f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 10 21:26:28 2020 +0200

    sdl2: Rename p*Name* to adhere coding style

    See hrm Feature #905105

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 01d6951f199151e9cb239a4d0dfcc40e4f2f7c6e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 17 01:34:02 2020 +0200

    Qt: plrdlg.cpp comment typofixes

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 58452952060a29384ad3e74851344a4d9e6e2241
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 7 22:56:38 2020 +0200

    gtk3x: Replace gdk_event_get_state() calls with gdk_event_get_modifier_state()

    See hrm Feature #903154

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1cea65728ff74b88ad989d4897c0110b4c44c684
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 12 04:14:21 2020 +0200

    traderoutes.h: Document enums as part of network protocol

    See hrm Feature #905523

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e914d408fd7834764c9051ccadba524b6fd9ca8c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 12 02:31:41 2020 +0200

    Update msys2 environment to 201212 level

    See hrm Feature #896715

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eb236c09091a1dff2c5e193f63f6241f2dc9cfeb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 9 23:33:57 2020 +0200

    sdl2: Rename p*List to adhere coding style

    See hrm Feature #904745

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ec5db5057b4e33dd446a8b397a43fff3cc51c869
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 4 22:07:47 2020 +0200

    Granularity: Rename Generic Ship as Boats

    See hrm Feature #903190

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 13736bfc92f4e5970e964252a593f95e047c14ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 14 01:34:59 2020 +0200

    audio.c: Rename variable 'keepstyle' as 'keep_old_style'

    This should make it clearer that it's not about introducing
    persistent style, but about not touching existing style.

    See hrm Feature #905828

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2a9d2053b5446315327112f95c45bbea26b9dd35
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 15 11:20:50 2020 +0200

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4f195b866d376fd13b3cfec6a33a39acf44ce8e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 12 15:31:42 2020 +0200

    Ruledit: Add virtual destructor for req_vec_fix_item

    See hrm Bug #905636

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e6ea58b2cfe1123e5a8a098035d562565f1636c3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 9 16:38:28 2020 +0200

    sdl2: Rename struct city_icon members to adhere coding style

    Unused members are not renamed to make it easier to detect, and
    possibly remove, them later

    See hrm Feature #904649

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b930aeecd6f443c2fb0eb633a28a4545df3e3a1c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 5 13:50:43 2020 +0200

    Use untranslated unit name in a debug log message

    sell_random_unit() was placing translated unit name to an otherwise
    untranslated debug log message.

    See hrm Bug #903432

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4bc9975e08354acf57bddd923cfe2daccb0b51d1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 2 07:23:30 2020 +0200

    Meson: Add support for ruledit build

    See hrm Feature #902120

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e2334ade9af4b65dff05586fdd7f52026446d8fb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 14 08:25:36 2020 +0200

    POTFILES.in: Add traderoutes.h

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f7704909dad9203676a52d81f6753f00f632b7ca
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 8 14:02:08 2020 +0200

    fcgui: Respect @EXEEXT@ on name of executable chosen with --gui

    See hrm Bug #904301

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 39d1a1c04957477f87f6f88b16a011fcbde5e20d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 7 21:06:59 2020 +0200

    sdl2: Rename struct Theme and members to adhere coding style

    See hrm Feature #904053

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 473c24559d6e76a6aec95fc1bd995756cf209184
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 11 12:52:08 2020 +0200

    Make city_tile() a macro

    See hrm Feature #905312

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d157a115a8d821c27a421c891e79d1f5d088ea0a
Author: John Robertson <jro.johnro@gmail.com>
Date:   Sun Dec 6 00:25:13 2020 -0700

    Qt: Fix city-list menu for View/Center/Buy

    See hrm Bug #903672

commit 4f72b951b220fbdac7c63fef826cafe0c9a1a470
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 10 23:45:18 2020 +0200

    Introduce CM_LOOP_NO_LIMIT

    The macro, disabled by default, makes cm iteration always to run
    until it finds a solution, and to log how many iterations it took
    if going over the usual max iterations.

    See hrm Feature #905132

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 120a59cca85407342586b1d821643368da30eda8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 11 15:49:04 2020 +0200

    Share intelligence from embassy to team members

    Add function team_has_embassy(). Use it instead of player_has_embassy()
    where the question is about getting intelligence information.

    Requested by Alexandro Ignatiev

    See hrm Feature #878898

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0d8ba31294c2ae7f34315e84dc0a1a910c4b275c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 6 06:08:37 2020 +0200

    sdl2: Improve chatline.c coding style

    Rename variables to adhere with the coding style.
    Some minor other changes.

    See hrm Feature #903600

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b4a7a5b122e086c1d94face055ce0c4bff7b6e28
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 10 09:04:39 2020 +0200

    Qt: Save shortcuts for different versions of freeciv separately

    As shortcut ids change between versions, the shortcut storage
    gets incompatible between them. This made shortcuts saved in older
    branches to break master, and vice versa.

    Reported by Chippo Elder

    See hrm Bug #856551

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 393e90dad8491bb2ccd513a5022906a3a53e5839
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 1 12:41:37 2020 +0200

    meson-winbuild.sh: Disable audio support

    See hrm Feature #901854

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c2f73cd12bf159c2e9207a60ef71074c6d4b95c8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 9 22:06:14 2020 +0200

    Drop unused threadid variable from Windows version of fc_init_console()

    See hrm Feature #904719

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 582972ab47cf278cf0c3a8c5176e97c6806a939f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 5 14:43:37 2020 +0200

    sdl2: Rename pTmp* to adhere with coding style

    See hrm Feature #903449

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 182de97be35eeb7850f99bc51070b78e251635fb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 26 03:27:38 2020 +0200

    Sandbox: Add Chichen Itza wonder

    It demonstrates Popcost_Free effect by removing population
    cost of units built in its city.

    See hrm Feature #900032

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2d82b1027da7329d96e76919d4d5495b8c6580fe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 6 18:55:25 2020 +0200

    gtk3x: Replace gdk_event_get_keyval() calls with gdk_key_event_get_keyval()

    See hrm Feature #903153

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f5a4dd7859ca7a22c22e82f1067dbab93dd7f42e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 6 08:08:07 2020 +0200

    AI: Support scenario AI type fallback from tex to classic

    If scenario has tex AIs and allow_ai_type_fallback set, fallback
    to classic AI when tex is not available.

    See hrm Feature #903631

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e30450319019fd839cf3e2d57fa3571df3145f79
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 4 21:39:19 2020 +0200

    sdl2: Rename p*Dialog to adhere coding style

    See hrm Feature #903177

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 16b26376b6397b534c3dd6f8e79296a292fbdf3e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 26 04:36:08 2020 +0200

    Granularity: Call default government type "Tribal"

    Replace government type name "Generic" by "Tribal"

    See hrm Feature #900044

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 77a8a13ba9c5f876d9fdd65de59fb88a7859a37b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 1 12:37:26 2020 +0200

    Meson: Make audio support optional

    See hrm Feature #901853

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0090b79096b27ded237ef7af0ade681f91b01fa7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 8 11:49:22 2020 +0200

    AI: Fix unnecessary production changes for away player

    Reported by Frelhelm

    See hrm Bug #904268

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ac6ab41d8e73765ebdbe84c12fb20082dbf58ca0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 4 03:06:04 2020 +0200

    sdl2: Rename p*Label to adhere coding style

    See hrm Feature #902769

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aecb9b7bfc1c7e6dd1458975b8d14ed0a0dc5a31
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 5 20:08:12 2020 +0200

    CI: Drop confused '-j$(nproc)' from msys2 installer build

    It's the recursive execution of make to compile freeciv as part of
    constructing the installer package where the concurrency needs to
    take place - and by default it does. There is no point to run
    toplevel make with '-j' argument.

    See hrm Feature #903504

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 39348ec997dd562aab37d70fd63085e57dd2ce20
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 4 03:10:52 2020 +0200

    Add Popcost_Free effect type

    See hrm Feature #659540

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8c735c219bf94d47b0a36be16dfffaad8f6f116a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 3 18:15:02 2020 +0200

    Avoid client crash if workertask requiring target does not have one

    Server should not send such tasks, but make client robust against
    broken or modified server that does.

    Reported by Alexandro Ignatiev

    See hrm Bug #885482

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ee4a95c2b1652a59a148bff29c26fd5f14530073
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 4 02:19:20 2020 +0200

    sdl2: Rename pI* to adhere with coding style

    Most of those are icons related variables, but there are a couple
    of other variables handled as well.

    See hrm Feature #902758

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7b4be5af3451b956786e4c7a1020d19dce2246d3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 6 18:36:49 2020 +0200

    gtk3x: Make gtkcompat.c to include gtkcompat.h

    Introduce GTKCOMPAT_ITSELF macro for the gtkcompat.h to
    differentiate between gtkcompat.c itself and its users
    as the source file including it.

    See hrm Feature #903761

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b90b397f0c8dc8d57f7a11ec81571c0164d0e9f9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 26 03:28:56 2020 +0200

    README.sandbox: Fix a typo "Staring" -> "Starting"

    See hrm Bug #900029

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a58eea4bf0fcf075241965ba720a5dcfbcdd0dc6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 3 16:57:59 2020 +0200

    Qt: Clean citydlg.h includes

    - Reorder them to correct grouping
    - Drop unneeded Qt includes

    See hrm Feature #902626

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ef1049b08a58506186e565f2c3cb0b8d44989371
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 3 06:43:45 2020 +0200

    sdl2: Rename p*Button to adhere with coding style

    See hrm Feature #902483

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 972845081c762b19cb399c94cecc235395a72bef
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 2 23:18:51 2020 +0200

    Meson: Install INSTALL.Cygwin

    See hrm Feature #902409

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e539d54a92023bd045ad6ae304fd597efde832bf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 4 21:03:40 2020 +0200

    gtk3x: Drop parameter from gtk_window_new() calls

    See hrm Feature #892350

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1cc170431f672a67d40cc0eabd1f345d8d45a9d5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 3 00:55:10 2020 +0200

    Ruledit: Correctly translate translatable strings with R__()

    See hrm Bug #902423

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6c331bddf53e7372c2967ce2862f3c3c94c8b420
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 2 06:29:38 2020 +0200

    sdl2: Rename widget.ID as widget.id

    See hrm Feature #902103

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 163701d3d053aa6b70609b1bf38f3f756975da1e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 2 19:56:00 2020 +0200

    Select gtk3.22-client for --enable-client=gtk

    See hrm Feature #902365

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 73e6311250ab1f9269726919c43119a50f66e0b9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 4 21:01:56 2020 +0200

    gtk3x: Introduce gtkcompat.[ch] module

    It will provide compatibility stuff between gtk version we're
    moving away from and the version we are moving to.

    See hrm Feature #903167

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9f7c41869e53b628a38a757a3bd128d55dcbf82f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 6 11:18:55 2020 +0200

    Update Finnish translation of the ruledit domain

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c9cbc16e22d4bb8628d8aeb072750a4d163cfc02
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 20 06:08:40 2020 +0200

    Granularity: Add River

    See hrm Feature #898827

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 271226642af2568568b3a81ac4a0c7b840128f96
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 6 06:39:07 2020 +0200

    core/POTFILES.in: Add client/gui-qt/citydlg.h

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2456d0f34c9b90518ba3d1a24369600964a0b37a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 1 04:56:04 2020 +0200

    sdl2: Improve action_dialog.c coding style

    Rename variables to adhere with the coding style.
    Some renames (such as 'cBuf' -> 'cbuf') affect also other
    sdl2-client source files.
    Some minor other changes.

    See hrm Feature #901739

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 95742e74b130faf5ce147a0bad64abb0437f1d6c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 5 21:51:15 2020 +0200

    CI: Build Qt modpack installer with meson

    See hrm Feature #899233

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8f6a0df57a4f2b0b6ef26786b9e89877c18d3b5a
Author: John Robertson <jrobertson@callware.com>
Date:   Tue Dec 1 12:32:43 2020 -0700

    Qt: Add city size to city info panel

    See hrm Feature #901393

commit 0d2572bb293c66f843e5d83497a2efeb77d7c540
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 1 10:49:05 2020 +0200

    Tell tileset name or filename in scan_specfile() error messages

    See hrm Feature #901829

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit edefeb2dbc00d4d2582688f931b687e27c5191d6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 25 05:37:54 2020 +0200

    Update mkstemp.m4 to serial 28

    See hrm Feature #899697

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 73f05c93f813d31007c289441f8b341f9017302a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 29 04:45:48 2020 +0200

    sdl2: Rename p*Dlg to adhere with coding style

    See hrm Feature #901113

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 825eebd575702ba26daa0ba39352834941b5d42f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Dec 2 10:14:31 2020 +0100

    sg_order_to_action() isn't used by savegame3.

    Move it to savegame2.

    See hrm Feature #902242

commit 5c89159627816000eeef9be24d8ba2264bf7ca54
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Dec 3 09:16:31 2020 +0100

    Migrate from travis-ci.org to GitHub actions.

    It looks like travis-ci.org is going away. From
    https://docs.travis-ci.com/user/migrate/open-source-repository-migration/#frequently-asked-questions
    Q. What will happen to travis-ci.org after December 31st, 2020?
    A. Travis-ci.org will be switched to a read-only platform, allowing you to
    see your jobs build history from all repositories previously connected to
    travis-ci.org.

    Migrate the remaining CI jobs to GitHub actions.

    See hrm Task #902085

commit 4d6a6813142ea0558c14bae5ad861d0016a4ed58
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Dec 3 08:59:46 2020 +0100

    README.md: display GitHub actions CI status too.

    Some of Freeciv's CI tests run on GitHub actions rather than on travis-ci.org

    See hrm Feature #902526

commit 791f6a950c02e0198656a858fb4eb69fb76f5023
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 24 17:32:20 2020 +0200

    README.modpack_installer: Fix typo "is is" -> "it is"

    See hrm Bug #899608

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 35933ab308aa02cdbf355fcbf5c94f74b0277127
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 2 08:54:16 2020 +0200

    Meson: Add support for Qt modpack installer build

    See hrm Feature #899232

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4b143e3c59725ca5f57a3d1ef0428c1a1eaef844
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 4 08:57:47 2020 +0200

    Bump version number to 3.0.92.3-dev

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a960c82d8b57bff9238e03f2e819abe120381a25
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 1 09:25:09 2020 +0200

    msys2: Set -Werror on snapshot builds

    See hrm Feature #899340

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2dfcdda74a18f948afda2ce5b318a4109d31776f
Author: JRo <jro@advops.com>
Date:   Sun Nov 29 18:03:16 2020 -0700

    Correct memory allocation size bug

    See hrm Bug #901366

commit 0d1b7ffbd49dbc0cae667b5f72b623119c6bbaca
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 27 07:15:52 2020 +0200

    sdl2: Rename pStart*, pBegin*, and pEnd* to adhere coding style

    See hrm Feature #900477

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4fd2b1d6efc646054e35e22656840e674dc888ce
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Dec 2 08:29:04 2020 +0100

    CI: move the OS X build to GitHub Actions.

    It looks like travis-ci.org is going away. Even if we migrate the other
    builds to travis.com and hope the free OSS minutes covers our usage the Mac
    build should move somewhere else since OS X builds are more expensive on
    travis-ci.com according to
    https://blog.travis-ci.com/2020-11-02-travis-ci-new-billing

    See hrm Task #902234

commit e32d035e010319c03604ad03e5b520aff764cd32
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Dec 2 06:12:14 2020 +0100

    Travis CI: simplify away sudo usage.

    Stop assuming that the user "travis" exits. This makes it easier to run
    travis-build.sh outside of travis-ci.org

    It looks like travis-ci.org is going away.

    See hrm Feature #902139

commit cc221d5fb8ee3861556b8bc1fc28a23a19a58a7b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 1 15:50:15 2020 +0200

    Fix crash in req_vec_problem_new()

    Handle translated description correctly:
    - Fix second use of the variable argument list already consumed
      by moving it to va_start() .. va_end() iteration of its own
    - Use correct field size in fc_vsnprintf()
    - Actually translate the description with gettext

    See hrm Bug #901912

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4ee20d9ce2c32ca8e8836d87ce50342de18d2157
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Sep 15 08:27:13 2020 +0200

    Validate city worker tasks.

    A corrupt worker task can cause corruption issues. Refuse to accept bad
    worker tasks sent over the network. Purge corrupt worker tasks that gets
    into a city via a bug or a savegame.

    Thanks to Marko Lindqvist for pointing out that sanitycheck.c only runs
    in debug builds.

    See hrm Feature #901938

commit fc6101ecfd9ee34e3d57230bf9c7679420f9fc4e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Oct 31 23:07:24 2020 +0100

    Introduce the new action "Sentry Unit".

    There are good arguments against action enabler control over sentry. In the
    current rules it is just server side client state. A user interface detail,
    not a rule. The server will set it when a unit boards a transport to avoid
    the passenger getting focus while transported.  The client will end its
    "Return to Nearest City" order with it if the unit needs to heal. The server
    will unset it to bring the player's attention to events like a hostile unit
    moving too close, restored hit points and the unit being bounced.

    The new Activity requirement makes it possible to have rules depend on a
    unit's Sentry state. If I remember correctly other Civ variants have made
    rules depend on a unit's Sentry state. This, together with the fact that a
    Sentry action permits getting rid of activity orders in a follow up patch,
    makes me land on the side of making it an action.

    See hrm Feature #879674

commit c95677139605bd360d1c35af3e555dc2c92ffb81
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Nov 30 12:34:26 2020 +0100

    Introduce action_by_activity_iterate

    Hard coding action ids for activities gets in the way of generic actions.

    See hrm Feature #901915

commit d3541d49d5ddc9e53b83af653602e3f67cc541f8
Author: Christoph Reiter <reiter.christoph@gmail.com>
Date:   Sat Aug 1 18:55:12 2020 +0200

    CI: Update to msys2/setup-msys2@v2

    See GitHub pull request #24
    See hrm Bug #901959

commit 3ba215388bffbc8628a8051b721421c4b9d1251d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 3 07:34:24 2020 +0200

    Comment typofixes for sdl2-client

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5eeafc6b0bbfea9d7125ba10c6f2f7eae1722778
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 26 04:44:08 2020 +0200

    sdl2: Rename pText* to adhere with coding style

    See hrm Feature #900047

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a74e99d63fbc7755e6722dd0bec5cbf71abd2ce3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 3 00:32:17 2020 +0200

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b82b025099ebb303e7747be5287f4e5eae4166c6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 28 04:18:06 2020 +0200

    Use initials of d)epartures and a)rrivals in airlift capacity message

    They replace old initials of s)ource and d)estination. There's
    hoping that meaning of the new ones is a bit easier to figure out
    by end-user.

    Reported by Hubert Kowalewski

    See hrm Feature #899057

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 74e5c47e261861fb5e1e2b47f7485817ea1b8c6a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 25 03:34:06 2020 +0200

    Add gnulib-common.m4 to dependencies/m4

    New version of mkstemp.m4 will depend on GL_MDA_DEFINES
    from it.

    See hrm Feature #899674

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4369985ffdea746063a0d9fde5ad42488b2ade8a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 22 12:00:03 2020 +0200

    Split ChangeLog

    Main ChangeLog contains changes since beginning of 3.1 development.
    ChangeLog-1.0-S3_0 contains changes up to S3_0 branching point.

    See hrm Feature #899243

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cc69ae1e5e58eb2174f191e9f09bd86261e3d954
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 2 06:59:13 2020 +0200

    doc/man/.gitignore: Add freeciv-ruleup.6

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eb188c81dce45466ae80826959a29e2828475155
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 25 04:16:07 2020 +0200

    sdl2: Rename pEdit and friends to adhere with coding style

    See hrm Feature #899680

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c6104b9869056657934ae463545be0a6d2b2b1f9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 24 03:56:46 2020 +0200

    Avoid returning too early in assert builds when inf_sanity_check() fails

    See hrm Bug #899339

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 53a2d3334c42d6fc24c5d6a42d5199b9c36c0f78
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 17 19:24:51 2020 +0200

    meson-winbuild.sh: Explicitly disable syslua

    See hrm Feature #898081

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8ae99bf6a34a279b40d4b8def2938a5e16596f4a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Dec 1 08:24:29 2020 +0100

    Comment grammar fix

commit d08c3f1561f4c68775cb9f3c6d6109b28882e95f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 24 12:17:24 2020 +0200

    sdl2: Rename p*_Button to adhere coding style

    See hrm Feature #899570

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit de9d0291813e88666e42963daadeb0ebd2f476ed
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 24 16:48:11 2020 +0200

    data/graphics/README: Drop duplicate "are"

    See hrm Bug #899594

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6bdd33015632ac3d5dcf4bddc0dea827a09a5c70
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 30 16:07:08 2020 +0200

    Turn base flag "NoAggressive" to an extra flag

    As it was the last of the base flags, clean out all support
    for base flags.

    See hrm Feature #897492

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 54ccd92025f7d8d03be53f38b7da205b6410183d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 17 21:48:32 2020 +0200

    mem.h: Update comment to say "exit(EXIT_FAILURE)" instead of "exit(1)"

    See hrm Feature #898117

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fc242b373a7a5b432360e57f6c9db2e215ac3929
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 23 19:41:27 2020 +0200

    sdl2: Rename SDL_Client_Flags as sdl2_client_flags

    See hrm Feature #899322

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 42006e2bd8fbc6ed62270b1e2c58a075e4049778
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 23 17:49:22 2020 +0200

    sdl2: Rename pCity as pcity

    See hrm Feature #899316

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c2fe8f96dd650935cc47fae015883f8c98ea60f5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 25 13:00:34 2020 +0200

    Meson: Install .serv files with rulesets

    See hrm Feature #899804

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7947660c96dda8d2b5ddaa917fa35c12371a7005
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 26 07:48:17 2020 +0200

    README.packaging: Remove mention of new minimum automake version

    Now also S3_0 requires automake-1.13, so the requirement is not new
    with freeciv-3.1

    See hrm Feature #899258

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 24edd7058223a4c47b62954b99094703007b01a8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 23 17:35:51 2020 +0200

    Tell topologies in question in map/tileset topo incompatibility error

    See hrm Feature #899315

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 143b968415fa1fd640b74877ddafc9f6b6bf4b19
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 24 04:58:33 2020 +0200

    sdl2: Rename pBuf* as buf*

    See hrm Feature #899249

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a104b96190eba5f2816f5bdd22f92bbdb8eae205
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 25 02:08:31 2020 +0200

    Update stdlib_h.m4 to serial 51

    See hrm Feature #899659

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 620c19baa23dffb9c7047798251e9c3c327f20d2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 27 12:18:06 2020 +0200

    Msgmerge Spanish translation from S2_6_2

    Merged from S2_6_2 1f6782b3d6

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 136760d89f7893380873bff94d719490e508b59b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 25 02:57:15 2020 +0200

    Qt: Improve plrdlg.cpp coding style

    See hrm Feature #899672

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a5d3dc64f54add8e745dbf2fd49ac3c5c62f6d02
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 22 10:17:57 2020 +0200

    sdl2: Rename p*Window to adhere coding style

    See hrm Feature #899241

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cc6da371a88bd3ed2513e3e2da6ea7b3496db635
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 19 06:54:03 2020 +0200

    Update diff_ignore

    - Drop duplicate fcruledit
    - Add freeciv-gtk3.22
    - Add distribution packages compressed with zip or xz

    See hrm Feature #898550

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8463175f9a708b7e51b7042cd6edde57d1604318
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Thu Nov 26 14:57:58 2020 +0100

    * Updated French translations for trunk, 3.0 & 2.6*
    * Updated INSTALL.fr for trunk (only)

commit a9e7bd6b3a586c5fcfb927d7bff260224c004bfb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 17 02:14:51 2020 +0200

    Granularity: Add Plains

    See hrm Feature #897817

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a3a8b65c0101222881ffbc664e98ac3d0e8e5f55
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 21 19:14:43 2020 +0200

    sdl2: Rename pScroll and related variables and structures

    Make their naming to adhere coding style.

    See hrm Feature #899229

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aeaa23357d3e9235929291ce5aa2d3424d351085
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 23 01:46:57 2020 +0200

    Drop ACLOCAL_AMFLAGS

    Bump minimum automake requirement to 1.13, starting from which
    aclocal can scan m4 directories from AC_CONFIG_MACRO_DIR and
    AC_CONFIG_MACRO_DIRS macros. Drop thus obsoleted ACLOCAL_AMFLAGS usage.
    This prepares us for future versions of automake that drop support
    for ACLOCAL_AMFLAGS

    See hrm Feature #899258

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a73cc6c26a1280130eca3d7da2e7e43a24bcaf04
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 17 04:44:38 2020 +0200

    Travis CI: Build Qt-client with meson

    See hrm Feature #897842

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b673bbc1fa82333b76fb10b196886290d1bc6756
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 25 05:05:59 2020 +0200

    Comment typofix: Drop duplicate "are"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0b2d42b933dd81aa72677eddf62703bea217c33e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 20 16:33:15 2020 +0200

    sdl2: Rename pButton as button

    Do also some other related renames.

    See hrm Feature #898995

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit edaf5970dfad2a0b347b5bc1e30a0853ef6f8601
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 22 10:32:09 2020 +0200

    sandbox: Make Ecclesiastical Palace secondary capital

    It was already documented as one.

    See hrm Feature #899242

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ba625298abb38fb4ef254d8344c7a901df105561
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 16 21:04:59 2020 +0200

    settings.c: Add TRANS comment about "Classic Freeciv" values

    See hrm Feature #897732

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a6ebd091f6d2bb962a868e4657f95a5c4343f1f4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 24 06:06:32 2020 +0200

    Replace '0' by 'FALSE' as boolean in read_a_line() function header

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2ea11c621c1221b5e7efcd90d17d7467e7dbd75d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 19 16:46:34 2020 +0200

    sdl2: Rename pOwner as owner

    See hrm Feature #898696

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b17c0672025ef98338c67657e3e525b901c722a3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 14 09:48:42 2020 +0200

    Use nanosleep() instead of usleep() when possible

    usleep() is deprecated.

    See hrm Bug #896807

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c7f81feeafe29f30e32b30e61541c88f84e9adbb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 17 21:39:34 2020 +0200

    Improve mem.c coding style

    See hrm Feature #898114

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 054e457da3a8d14cc58880d33291c7a0fa67207e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 17 05:41:04 2020 +0200

    Rename aisettler.[ch] as daisettler.[ch]

    See hrm Feature #897851

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a3868f3ce85ba4bdb1615cb628dc44cb84771844
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 17 22:38:32 2020 +0200

    sdl2: Rename pUnit* to adhere coding style standards

    See hrm Feature #898126

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9056dce7b5a711aa2d7d0aeeca370b1b21118ce3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 19 02:04:16 2020 +0200

    Add TRANS: comment for deprecation warning against numeric log levels

    See hrm Feature #898474

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b2c217348df3c4521c155399d0fc501baa845ddb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 17 04:04:37 2020 +0200

    Meson: Add support for building Qt-client

    See hrm Feature #897835

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d5526b95f0e470917790f36d9d592b4657b63c34
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 16 05:29:32 2020 +0200

    README.msys2: Correct default number of build jobs

    It's the same as number of processor cores. Document was outdated
    and claimed hardcoded 2.

    See hrm Bug #897485

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4a2c65ee03397d814f03c815f957fb8ce259da9b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 17 06:20:51 2020 +0200

    sdl2: Rename p*ActiveWidgetList

    Make their names to adhere to coding style standards.

    See hrm Feature #897860

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eb019993da5cd31346c490b0c9dba0edbbe8e974
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 17 16:34:15 2020 +0200

    Qt: Use QApplication->primaryScreen() instead of QGuiApplication::screens()[0]

    Do not assume they are the same thing. We want former.

    See hrm Feature #897971

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d9017fe1c4400233ce1d368af15cc09afbc8aba6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 17 16:12:23 2020 +0200

    Meson: Do not redefine _GNU_SOURCE

    See hrm Feature #898030

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 65ee24f2737b6b7a5bd9c49bbe21d64014081a00
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 12 02:41:56 2020 +0200

    winbuild.sh: Set default for MAKE_PARAMS if none given

    Build with "-j6' by default.

    See hrm Feature #896062

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 87e29a02646f70ecbe3bd2a1122b398b6c837d93
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 16 21:51:54 2020 +0200

    sdl2: Rename pDock, pStore, pHelpDlg

    Make their naming to adhere to coding style.

    See hrm Feature #897759

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7c0535e64cc1c66213bf1bc2a864af2f6ed84537
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 12 04:50:18 2020 +0200

    Distribute scripts/replace

    See hrm Feature #896096

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 343f85e4b7629ee3c521e397b7e6fdb8a8a0ce0b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 16 05:57:12 2020 +0200

    Metaknowledge: Consider VUT_ROADFLAG a tile targeted requirement

    See hrm Bug #897490

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 134ac12909b940d2dd2c3c0302e842ff6fad0f4e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 13 15:15:39 2020 +0200

    Travis CI: Build sdl2-client with meson

    See hrm Feature #896569

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 924bb1ba0688044ec4a32157a570b81a4eafa626
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 16 08:16:11 2020 +0200

    sdl2: Rename pTech as ptech

    See hrm Feature #897523

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 18fc63d82ce226e5a49f3c08d0c43b2844ada541
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 16 20:30:14 2020 +0200

    Sandbox: Fix msgstr of Hermit's nest messages

    See hrm Bug #897725

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d8a8b083cfe1bdd0b9cfe52cfbc48d5cbc4b9e8b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 8 18:14:18 2020 +0200

    Granularity: Add Workers unit

    It can Cultivate and Plant.

    See hrm Feature #894991

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f6209390cf43ff7dad65017e2f3397c305f70298
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 19 00:16:14 2020 +0200

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 98f98ee7a36bf5a7795b870bf5a83a7a95fbad2a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 14 02:18:01 2020 +0200

    sdl2: Rename pSurf as surf

    Do also other related renames

    See hrm Feature #896725

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a7caa4cad4b8a50b1c61c68e8f84017145ccf30d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 7 09:23:45 2020 +0200

    Set BUG_URL to point to freeciv-dev mailing list

    See hrm Feature #894573

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 28ce3b30edf23006a3a57cd712c6bd45e93d9199
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 17 21:21:06 2020 +0200

    Remove no longer true comment about mem.c sanity_check_size()

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 49229726007f168fc68d34d537e0bbe2203c723d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 12 04:36:07 2020 +0200

    Meson: Add support for building sdl2-client

    See hrm Feature #896091

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dc22720d4572026a13d70ed75af878e53710a37b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 13 13:21:00 2020 +0200

    sdl2: Rename small_dialog members to lower case

    Also members of other structures by same names renamed.

    See hrm Feature #896534

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1cb5b7e3a35312ddf32e0046e0d659dafe1593a8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 13 15:00:53 2020 +0200

    Travis CI: Install different builds to different directories

    See hrm Feature #896563

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4d6f532a1fd7993d337e24375ae215622a4e6248
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 14 08:41:38 2020 +0200

    README.scenarios: Correct name of "prevent_new_cities" field

    See hrm Bug #896797

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 724fc3c446d2e4798250ffd2e5ba0c7f8ca496d7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 16 20:28:30 2020 +0200

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d4a98077eac6beaf35e935f2dac521780efeaee1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 12 01:30:55 2020 +0200

    sdl2: Rename pBackground, pLogo, and pIcon

    Make their names to adhere coding style standards

    See hrm Feature #896053

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2c6020a02f7c447e82751c8d19cf269e13c7d601
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 12 03:17:23 2020 +0200

    Msys2: Set default MAKE_PARAMS based on 'nproc'

    See hrm Feature #896075

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 970b381ed0cceb11a84556203e3bbd7f68fdb4ad
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 7 21:37:24 2020 +0200

    Meson: Add 'syslua' support

    See hrm Feature #892307

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 987250e761123ecc0e7493a327e114def2c097ab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 11 22:21:28 2020 +0200

    sdl2: Rename DownAdd() as widget_add_as_prev()

    See hrm Feature #896016

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b416cc89b4904e8c9d40b26aa511a13e4f3b77cd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 12 02:38:28 2020 +0200

    winbuild.sh: Make each of 'clean', build, and 'install' in separate step

    Running 'make install' directly caused problems in that sometimes
    dependencies from the build step were not made in time.

    See hrm Bug #865048

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b08090a338e89fc65744ab54c2129c5da2c7a231
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 7 22:56:50 2020 +0200

    AI: Initiate the spacerace if being tech leader

    AI that is leading tech, and will thus alone have required tech
    for spacerace for some time, tries to take advantage of that by
    building spaceship while others are still trying to get the tech.

    See hrm Feature #894739

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fbd4f7572ff26e929151703d6fb84c344503ff68
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 7 08:16:53 2020 +0200

    gtk3/.22: Drop unused files from theme

    See hrm Feature #894559

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f0db7cd21ff9aff734604da08b316ce0c33bbff6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 9 07:45:37 2020 +0200

    sdl2: Rename pImprove* to lower case

    See hrm Feature #895133

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2b38aac84d25928c165bfe15f6d9304ed2ba111a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 8 23:51:04 2020 +0200

    Document that action_prepare_ui_name() is not thread-safe

    Add mention about function not being thread-safe to function header.
    Also for other similar functions - action_prob_to_text() and
    action_prob_explain() - in actions.c

    See hrm Feature #895052

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 95b6bcb601e788b59036a327f5db5904ac15f542
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 12 03:55:06 2020 +0200

    gen_headers/.gitignore: Add version_gen.h

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6ddaffdae7f37ba065d38e50cd4f3877fa79a779
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 12 03:13:18 2020 +0200

    Comment typofix: WINACRH -> WINARCH

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d8a4e8bc146878f2889319367ebb92a5193fc227
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 8 12:57:40 2020 +0200

    sdl2: Rename pTerrain* as (p)terrain*

    See hrm Feature #894926

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f11c6b84109c9643e6fc5e39e97f4a92a6568f80
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 30 18:55:48 2020 +0200

    qt6.m4: Bump QT_DISABLE_DEPRECATED_BEFORE to match Qt-5.15

    See hrm Feature #893343

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 334e554d0f60a6bba7caccea78bcdc4c92af7bd6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 8 17:41:58 2020 +0200

    Granularity: Add Spirits and Sacred Grove

    See hrm Feature #894986

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 78280024974ca989d32676c6b946331100d8fb51
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 23 23:46:43 2020 +0300

    Qt: Avoid using deprecated QLabel::pixmap()

    Qt-5.15 deprecates QLabel::pixmap() that returns QPixmap pointer.
    Use overload that returns value instead in --with-qt5x build.

    See hrm Feature #892507

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1930308f6ea33f7c474a48e17b6e1b67f63bd082
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 6 21:09:01 2020 +0200

    sdl2: Rename pTile as ptile

    See hrm Feature #894445

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f34a882ddf9f7065acb39628fc6cb5b2cf2975dd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 8 15:45:42 2020 +0200

    Fix gcc-11 stringop-overread error at comparing scenario.authors fields

    See hrm Bug #894423

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ea8d2a6a38382656134eed05ad0836a0558e7cb3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 7 19:02:17 2020 +0200

    Meson: Add test for ICONV_CONST

    See hrm Feature #894682

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ea34658084a5fb9f95406db54d24003bfc2b2fb6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 23 02:44:01 2020 +0300

    Fix Small Wonder impr_req for units

    There was a strict requirement that impr_req for unit must
    be buildable by the player, unless it's Great Wonder, for unit to
    be buildable. If player already has Small Wonder in the city, it's
    not buildable any more.
    Change this so that unit can also be built if Small Wonder is already
    built

    Reported by Lexxie L

    See hrm Bug #884993

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 74d92715bd45b686da765945416bd75a6ece0214
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 7 16:05:16 2020 +0200

    sdl2: Rename uppercase widget.h struct names to lower case

    See hrm Feature #894652

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6197d34951b95bdb550fd93aa1c9877543ef3e5f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 7 11:03:20 2020 +0200

    Free action ui_name string

    See hrm Bug #894582

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5909b91c655ee0f82592867657f6cf45959e26b7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 7 09:42:10 2020 +0200

    Granularity: Make Carving to depend on Fire

    See hrm Feature #894577

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 81e7d0b0f07c0235b988b1ad78b06f34bc4e68d5
Author: graf wasili <graf.wasili@posteo.net>
Date:   Fri Nov 6 08:43:21 2020 +0100

    Display correct tile output if celebration ends

    Reported by Alexandro Ignatiev

    See hrm Bug #885093

commit daba44bc8fcff9fa1fa27122d8ac68e95ab34f9b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 6 20:49:54 2020 +0200

    sdl2: Fix enabling buttons for activities that require target

    See hrm Bug #894434

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 36d60f316c8a4fc59018f56171feff5a5cfec261
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 6 16:39:34 2020 +0200

    sdl2: Rename pUnitType as punittype

    See hrm Feature #894375

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 888298036b247f7b461bb08de478a0f19c00fe98
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 23 23:51:58 2020 +0300

    Make Qt-5.15 minimum requirement for --with-qt5x build

    See hrm Feature #892509

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 11fc8730cbb25819ab15b8ae0db04c54b8c37970
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 22 13:24:54 2020 +0300

    Meson: Install gtk3.22-client theme

    See hrm Feature #852974

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 71f1619573d7bd8fce50a292438a17ed05e4af90
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 23 03:41:54 2020 +0300

    Qt: Fix hang on trade planning calculation

    Reported by Alexandro Ignatiev

    See hrm Bug #874406

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f9732e1d71d0d3836077f4111fdeb1b4d0e1700e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 6 15:50:16 2020 +0200

    Comment typofix: WARRING -> WARNING

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 895b5b5e67a9a02936936af01fb40814b683fe92
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 19 04:51:13 2020 +0300

    savegame3.c: Clean up unit changed_from_tgt loading

    Remove unnecessary compatibility code. Savegame3.c saves have never
    been saved with the outdated format that it was protecting against.

    See hrm Feature #824073

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5d75624c69eaeb1f48fd7d0f81e42d674c545d98
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 4 15:18:47 2020 +0200

    Bump version number to 3.0.92.2-dev

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c5087d2cae45815caefbd0dd19776c824e6d2c0a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 31 09:03:39 2020 +0200

    Qt: Include QActionGroup to menu.cpp

    See hrm Feature #893360

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e677fa6cd30eea0f34677fe1a30badb36645bf27
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 31 09:12:13 2020 +0200

    Qt: Change menu_list iterator type to QMultiHash <munit, QAction *>::iterator

    See hrm Feature #893361

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8c4f9f9e3646e027081a85a3c6169bd1453a5342
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 30 12:40:17 2020 +0200

    Fix clang ndebug build warnings

    See hrm Bug #893306

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e6485a60422b366a678cc1a9473763b8b654cb98
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 27 07:45:25 2020 +0200

    Qt: Avoid using deprecated QTextCodec

    See hrm Feature #892826

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3b2743f41eb2728ad4ff41fbfd6f422dcb6ad5b5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 30 18:44:40 2020 +0200

    sdl2: Rename pWidget as pwidget

    See hrm Feature #893342

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 587308c32cc03006b51733f8911ccb6c8372404b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 25 15:42:17 2020 +0200

    Granularity: Add Masonry and City Walls

    See hrm Feature #892729

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 99c0692475d453e61d2dd19138cbdef1ff55d859
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 27 07:31:08 2020 +0200

    Avoid using deprecated QDesktopWidget

    See hrm Feature #892821

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 88707231909098f0b66523e402b35c4a028450ac
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 27 08:14:26 2020 +0200

    sdl2: Rename pRect as prect

    See hrm Feature #892829

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0e18a6d25c0c38955279520762939ab475c75e0b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 24 07:03:39 2020 +0300

    gtk3x: Use g_main_context_iteration() API instead of gtk_main_iteration()

    See hrm Feature #892512

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0fd52741a6b3264a023aede38bc521dab9abccd1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 24 14:46:54 2020 +0300

    installer_cross: Use moc from crosser environment

    See hrm Feature #892712

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 36106440bc138de97053df14dbc4c5056a05a08b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 27 07:16:01 2020 +0200

    Qt: Don't assume QStringList to be an class

    It's a typedef in Qt6.

    See hrm Feature #892819

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ccbad7a3ad296bcc3d0e68c043740e24d0deb040
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 26 20:29:20 2020 +0200

    sdl2: Rename Main as main_data

    Also rename its type from 'struct main' to 'struct sdl2_data'

    See hrm Feature #892804

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4aa3fcbe64e43b60212e4e2bafff9445e9561316
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 29 21:12:36 2020 +0200

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 35707026b92252784851a1ce72ae853d22fd9d24
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 23 00:25:09 2020 +0300

    Output /write command result

    See hrm Feature #892376

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 39183bad0ac0cdc30ca75ebd2048b8ebc7b8b071
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 24 06:48:13 2020 +0300

    Update freeciv-mp-gtk3x to use gtk-3.99

    See hrm Feature #892511

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c53e2e428395c525dd7c3eb77b2e54f8abbac454
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 25 17:10:31 2020 +0200

    INSTALL: Document requirements for C++ compiler standard version

    See hrm Feature #892394

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cfd80fbfbba5c1d85e87dba250a53934db6da51a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 25 14:24:50 2020 +0200

    sdl2: Rename pPlayer* as pplayer*

    See hrm Feature #892728

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit df34e3e65f8a20521e3b88bfff826b95dae85aee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 19 00:58:06 2020 +0300

    Rename AI level "Handicapped" as "Restricted"

    Requested by T Hall

    See hrm Bug #872165

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4ec9562bb8fc6bf5920caa42694354bdb99adfb6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 23 23:29:55 2020 +0300

    Qt: Replace QHash::insertMulti() usage with QMultiHash::insert()

    Former is deprecated in Qt-5.15.

    See hrm Feature #892505

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4ac17deb6febb2f04ecd798bb5ba0e353e4242b2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 25 14:10:58 2020 +0200

    Reimplement scripts/replace

    See hrm Feature #891558

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 267ea75d7131d8d4ffe217fcb547e19712ddad3e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 24 23:07:43 2020 +0300

    sdl2: Rename pSrc* as psrc*

    See hrm Feature #892722

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ef064e6183df184366ee1cd063e029d756a2dd03
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 22 15:42:02 2020 +0300

    Add space between ',' and type name of next parameter where appropriate.

    See hrm Feature #892315

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 23c3d4a0f77f29940012b388fd153712f8d77ae4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 23 07:31:07 2020 +0300

    Require c++17 in --with-qt5x mode

    See hrm Feature #892380

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 142af92fca0d9aa816271b060678284133a068df
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 22 16:38:43 2020 +0300

    gtk3x: Rearrange to work without gtk_main()

    See hrm Feature #892340

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 44e913ca26437d809f96d0afb3213c566624a8e6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 23 00:09:35 2020 +0300

    Add '.serv' extension to file created by /write

    Only files with '.serv' extension can be read by /read command, so
    it should always be on files created by /write.

    Requested by S.C. L.

    See hrm Bug #677584

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3ed4d157e4cb144d92f3b9a11a4911106ac38e6e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 23 15:58:42 2020 +0300

    sdl2: Rename pDest* as pdest*

    See hrm Feature #892477

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 96df3adb753ba260157f4df2bf49f9c42ac7f496
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 18 10:56:02 2020 +0300

    Rename irrigation_result as cultivate_result

    Change cultivation legality checks to depend on cultivate_result only,
    cultivate_time is no longer an factor.

    Similarly rename mining_result as plant_result.

    See hrm Feature #890287

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 35c07f68cdb5d23541ad7a9ab35f9ddf3d875a79
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 22 12:07:49 2020 +0300

    Qt: Avoid using deprecated QWheelEvent constructors

    See hrm Feature #892290

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 80fb6cf9d0f72f16077ab344133774263dbafb55
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 22 19:37:44 2020 +0300

    gtk: Adjust improvement tooltips in citydlg if they are not sellable

    Tooltip used to instruct improvement selling also for wonders that
    cannot se sold.

    Requested by Alexandro Ignatiev

    Patch by graf wasili

    See hrm Bug #885725

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bdb42e39603780a7d38c9c31e58f64c5b1a98fdc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 22 07:25:12 2020 +0300

    Add space between ',' and '"' where appropriate.

    See hrm Feature #892240

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c362233a497eb0a6fa9db64f64f77517427d465f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 19 03:32:59 2020 +0300

    Use shuffled player order when placing startunits

    Requested by Jacob Nevins

    See hrm Feature #850656

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6f82d02fef01dd566968e7551a4b4e69fec78799
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 22 16:03:45 2020 +0300

    sdl2: Rename pWindow as pwindow

    See hrm Feature #892323

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d2415c34ff45c75a927cc2a8d2161956e5a12fa7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 19 06:33:00 2020 +0300

    Update Bridge tech flag documentation

    See hrm Bug #741534

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b65549d8f77578cf5fabb7fe6994220cb24dbc7e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 22 11:19:06 2020 +0300

    Qt: Avoid using deprecated QWheelEvent::delta()

    See hrm Feature #892283

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4be3e685bac56247eb3d59429cf624e5fbac5d1a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 18 12:15:49 2020 +0300

    gtk3x: Drop gtk_window_set_position() calls

    See hrm Feature #891536

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 51a545ff5b9cf2ccf732ecc3f6ce91e9641bcefb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 21 23:02:34 2020 +0300

    sdl2: Rename pCity_* as pcity_*

    See hrm Feature #892213

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5d2c6d9c52eac3464ed4967fa9a738c2fbef033f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 18 22:49:18 2020 +0300

    Improve climisc.c Coding Style

    See hrm Feature #891561

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9fd4cd5397c25f99a4cba4fc27700d54bf087898
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 19 10:34:08 2020 +0300

    Don't hide allied stealth units on seen tiles

    They are expected to be visible. Hiding them lead to duplicate
    unit removal from client when such a unit dies

    Reported by Jacob Nevins

    See hrm Bug #764976

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit debeec8d0c665c139f50ba9cc55606de2d8b8bfd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 19 03:19:34 2020 +0300

    Document --with-qt5x

    See hrm Feature #853803

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4e2b0c425b412c0181cd2fc79df7370344b22d86
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 19 01:23:08 2020 +0300

    Unify writing of Washington-on-the-Brazos between rulesets

    Reported by John E. Beach

    See hrm Bug #867817

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5b0819aae15b552faaeb2570cdb3313fea8e3ded
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 18 20:54:19 2020 +0300

    sdl2: Rename pCityDlg as pcity_dlg

    See hrm Feature #891559

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b8b869d7636d8558aca768346b5406709a62c504
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 18 14:33:35 2020 +0300

    Meson: Add gettimeofday() check

    See hrm Feature #891544

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 34203c55485121134e983ab075534676a6eedb97
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 19 02:21:38 2020 +0300

    Qt themes: Fix "Specified color without alpha value but alpha given"

    See hrm Bug #891563

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit af3c4469bcadd093e35ddd43fd04404c12b84728
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 19 05:27:05 2020 +0300

    Avoid infinite loop when phase from savegame == num phases

    Reported by George Koehler

    See hrm Bug #815196

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c91bbb9a16cb3165972138643239e07077490e91
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 18 17:34:43 2020 +0300

    sdl2: Rename unit_type *pUnit as punittype

    See hrm Feature #891555

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7a474dc79e9c3ab1d20354ef2a2090bb06a79d45
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 18 14:55:51 2020 +0300

    meson-winbuild.sh: Use crosser version 1.10

    See hrm Feature #891550

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit afbf68b798005712a9acd8b0796235e8958ab0d5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 18 13:21:22 2020 +0300

    ruledit: Avoid deprecated usage of Qt::AlignmentFlag value QFlags<T>::Zero

    Qt-5.15 recommends using default constructor instead of zero
    for Qt::AlignmentFlag.

    See hrm Feature #891537

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 07a45acf1f2d47c01bac9fa48bd2f3ebdee52c9f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 3 12:49:10 2020 +0300

    Make ACTIVITY_IRRIGATE not to care about irrigation_result

    Do not use irrigation_result as means of checking ACTIVITY_IRRIGATE
    legality. Use irrigation_time > 0 instead. Equivalent change is made
    for ACTIVITY_MINE.
    This allows ACTIVITY_IRRIGATE and ACTIVITY_CULTIVATE to not be
    mutually exclusive depending on value of irrigation_result.

    See hrm Feature #873061

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4d71a63dc39ae5e338cb9a6310ee1bc990d3e95d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 17 18:10:12 2020 +0300

    installer_cross: Explicitly disable nls

    See hrm Feature #891515

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4d4d781a1af49c9383614ca4382a0cddb27b40a8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 12 18:53:48 2020 +0300

    Mark Clean Pollution/Fallout UI name entries for translation

    See hrm Bug #891049

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 62bc4962ed5798a29ee50a57c749b63425d66129
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 29 19:06:32 2019 +0200

    Inline city_size_get()

    See hrm Feature #854139

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c8a497c6d21dfc52762dcd68b8c43df4489c0da0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 15 21:32:17 2020 +0300

    Drop unused AUDIO_SDL2 define

    See hrm Feature #891393

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5d860f56f35d76fb4f5f3dfc77b34255f551e29b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 12 18:55:05 2020 +0300

    Granularity: Set game.ruleset about.name to "Granularity"

    See hrm Feature #891071

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4c5b2a7d8a1b6f3e5544f3dba3a9524cda4996d5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 17 20:57:51 2020 +0300

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3b7998b51a8a373683f6527e4570a99621102649
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 13 01:57:32 2020 +0300

    README.actions: Correct "Cultivate" and "Plant" documentation

    See hrm Bug #891083

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3a11db3bb92d3015a5ba78ccb900f58840d4b295
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Thu Oct 15 21:18:08 2020 +0300

    Auto-close tags at the end of featured texts

    This prevents failure of some clients at wrong tags.

    See hrm Bug #887581

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6cda9a37fe96d04ed26c524cfc1ce66c2faff56d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 13 04:09:10 2020 +0300

    Do not call mapimg_client_define() when mapimg subsystem is uninitilised

    Reported by Olivier Certner

    See hrm Bug #886678

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bd9cbdfdb06300a3bed512b0a2df14f67c8044ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 12 17:39:32 2020 +0300

    Update included lua to version 5.4.1

    See hrm Feature #891047

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4f82baa164ad6f5f8a5357a5b596e9dc087fd851
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 7 18:22:07 2020 +0300

    Drop civmanual.c assert.h include

    See hrm Feature #890323

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e0cc1da5b49010d540d06d04e6d0a43c6271a399
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 13 01:05:28 2020 +0300

    Give clear error message about missing cultivate_time or plant_time

    See hrm Feature #891082

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dc69ea09622bd1e42ea2ed326d0c389c9cac00d1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 15:14:49 2020 +0300

    gtk3x: Make gdk_device_get_surface_at_position() args 'double *'

    See hrm Feature #853653

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3a46f6d1c4465ba848491fd4b2cacee088aa1e16
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 15:13:46 2020 +0300

    gtk3x: Get rid of gtk_entry_set_width_chars() calls

    See hrm Feature #853649

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 52d96a47d558ea583562bbc45bb2ed4f9dd14764
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 15:11:41 2020 +0300

    gtk3x: Replace gtk_box_reorder_child() call with gtk_box_reorder_child_after()

    gtk_box_reorder_child() has been removed from gtk-3.96

    See hrm Feature #851565

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 74d95757083e79b683e9df5b20bff736f84d1b36
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 15:09:58 2020 +0300

    gtk3x: Replace gtk_box_pack_start() calls with gtk_box_insert_child_after()

    gtk_box_pack_start() has been removed from gtk-3.96.

    See hrm Feature #851564

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 190c941c63edd688ad7c37b83744d5a15b0112c7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 15:04:23 2020 +0300

    Set gtk3x-client to use gtk-3.96

    See hrm Feature #851563

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 83e6a6daa2480569e6d553b93854acb7485c4341
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 12 11:41:28 2020 +0300

    Qt: Fix clearing of worker tasks

    Reported by Alexandro Ignatiev

    See hrm Bug #887748

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2e3b2ff43af4790ba7c85a7ae798609e8930845c
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Thu Oct 8 05:36:34 2020 +0300

    Make Direction a normal class

    Direction objects now have property .id and function find.direction(id)
    to be saved, and property .name to be prettily stringified.
    As additional syntaxic sugar, direction module functions are now callable
    as properties and find.direction(string) calls direction.str2dir(string).

    See hrm Bug #880895

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eedacda963b8d1fdb0fd50dd2ea9d431688f84a5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 8 21:00:18 2020 +0300

    sdl2: Drop unused utf8_strlen()

    See hrm Feature #858229

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9f5a9cde642d86a8808952c2c659b9c6a7bcbb6d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 8 12:56:30 2020 +0300

    gtk3x: Comment out gdk_surface_invalidate_rect() calls

    gtk-3.96 has dropped gdk_surface_invalidate_rect() completely.
    Just comment out its use from our code while waiting for gtk4
    compatible drawing code.

    See hrm Feature #890400

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a31692eb9a4ea253ae2885ae73be4418693aedfb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 8 12:39:26 2020 +0300

    gtk3x: Replace GtkLayout usage with GtkFixed usage

    GtkLayout has been removed from gtk-3.96

    See hrm Feature #890399

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8c50f63baa18a4b22e09f992c1f3edbc35e1c03f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 8 23:07:53 2020 +0300

    Make appdata ids reverse-DNS

    Add separate launchable entries for connecting appdata files to
    desktop files.

    Also rename desktop files to match reverse-DNS scheme of appdata ids

    See hrm Bug #853571

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9789993475765814ea18cb41dab3a93ed5fec30c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 8 21:32:33 2020 +0300

    Use past tense in Land Ahoy achievement messages

    The message is not shown immediately when unit sees a shore,
    but only in next turn change.

    Reported by Chippo Elder

    See hrm Bug #856804

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 20ba13842727abd882085cf0644f805bd36613ad
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 7 19:17:22 2020 +0300

    sdl2: Remove dead code to handle terrain changing irrigate/mine

    See hrm Bug #890320

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 67bdf5d73aace24d769582bbc9a1d1a58358db07
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 8 18:27:31 2020 +0300

    Update diplomatic counters between alive players only

    This fixes problems like cease fire running out and turning to a war
    with already dead player.

    Reported by fomalhaut pa

    See hrm Bug #879055

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6171ce202d82bd5733f8f49f0e5bfe3612cea9e7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 8 13:00:04 2020 +0300

    gtk3x: Comment out GdkDragContext part

    gtk-3.96 defines no GdkDragContext. We already comment out a lot of
    gtk+-3 style drag&drop code. Extend that outcommenting to GtkDragContext
    usage.

    See hrm Feature #890402

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ea1a3ac06977618f54172e0475341fe0a311b5cf
Author: swiftech <awsksupport@gmail.com>
Date:   Fri Oct 9 00:52:56 2020 +0800

    Update Chinese translation

commit 9d4654c5c188f54150ece684acffce19da7a8d1d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 7 14:16:50 2020 +0300

    Update luasql to version 2.6.0

    See hrm Feature #890257

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dc2b595a108a20b34ccfadc7c45a22d554cb5068
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 7 16:30:09 2020 +0300

    Qt: Replace "Irrig. Rslt" with "Cultiv. Rslt" in helpdlg

    Similarly "Mine Rslt" -> "Plant Rslt"

    See hrm Bug #890314

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5e8f8c0f506b41669b04b744a6631f5e9f74519a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 7 07:32:48 2020 +0300

    Fix build with clang-11

    See hrm Bug #883284

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c6000e1cad9d2b854d125ab30b6dfbe720623c36
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 7 06:07:42 2020 +0300

    Update msys2 environment to 200906 level

    See hrm Feature #883288

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 54267cb9596570dad2aef2db720789d80b8c6cf7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 30 11:28:35 2020 +0300

    configure.ac: Drop use of obsolete AC_HEADER_STDC

    Autoconf-2.70 was giving a warning about it. We didn't use its
    results anyway (with any version of autoconf).

    See hrm Feature #889544

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 20b75101a6d7e98eef27fc49dd2304e6262cc584
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 30 11:12:19 2020 +0300

    configure.ac: Drop use of obsolete AC_HEADER_TIME

    Autoconf-2.70 was giving a warning about it. We didn't use its
    results anyway (with any version of autoconf).

    See hrm Feature #889543

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 31d257b7278274b22690fa72b77d8424512642f7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 23 03:30:25 2020 +0300

    Rename player_capital() as player_primary_capital()

    See hrm Feature #872580

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 534358a271c79e8ba9a5cc31e097af4135907c8b
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Fri Sep 25 14:30:27 2020 +0200

    Updated French translation of the README file.
    - default client
    - clients / server app names
    - license
    - modularity
    - mailing lists
    - log levels
    - server auto-start (suppressed)

    ... and so many others I can't remember !

commit 954e7369bdd26f28d4d1bd388c95df0b74b4363e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 10 07:49:25 2020 +0300

    Consider secondary capitals when calculating unit bribe cost

    Distance to nearest capital, not necessarily to the named capital,
    is what matters.

    See hrm Feature #872579

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fc06464a491d1002962df912ba26248b669cad4c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 10 21:23:35 2020 +0300

    Consider secondary capitals when calculating city incite cost

    Distance to nearest capital, not necessarily to the named capital,
    is what matters.

    See hrm Feature #872575

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5aa534dd94a9a0c3630dca2da4f4a7ba8f6f02e4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 5 23:50:02 2020 +0300

    Make top 5 cities report to accurately label number of Great Wonders

    Make it clear that Small Wonders do not count by changing mentions
    of "wonders" to "Great Wonders"

    Patch by Lexxie L

    See hrm Bug #884474

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b5315ebb5ea7796701973bf3c0c342c9821e5ae8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 10 00:32:58 2020 +0300

    civ2civ3: Make Ecclesiastical Palace secondary capital

    It was already documented as one.

    See hrm Feature #872572

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 71eb308f799fd62920077d68d9109448d47cc7a8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 5 14:41:02 2020 +0300

    Fix stdinhand.c compiler warning with gcc-10 and -O3

    See hrm Bug #886331

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fbf6d254b9f89eda2bbc40562197c79591580304
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 10 02:28:18 2020 +0300

    Support multiple cities with positive Capital_City effect value

    If multiple cities have Capital_City effect, one with the highest
    value is considered the primary capital. This is updated at turn
    change, unlike the previously used direct effect system check
    taking immediate effect.
    Cities with lower, but still positive, Capital_City value are
    considered secondary capitals.

    Requested by Lexxie L

    See hrm Feature #871681

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ce98082eddcd7be37a477c7f2c55f10dffe9146f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 5 21:31:45 2020 +0300

    Add volume control

    Patch by Raymond Martineau

    See hrm Feature #885685

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7527315835c16179e68080fe8f7244c76152b656
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 5 14:12:59 2020 +0300

    Fix cvercmp compiler warning with gcc-10 and -O3

    See hrm Bug #886330

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4247bee632e4a94064edb72e7c9f4055d6344516
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 27 04:34:41 2020 +0300

    Separate cultivate/plant time from irrigation/mining time

    Add entries for terrain sections in terrain ruleset for
    cultivate_time and plant_time. Use those times for cultivate and
    plant activities instead of irrigation and mining times.

    See hrm Feature #872777

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 30ba62911cfb4cdb8243fc1ed59df6406d325947
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Thu Sep 3 16:40:19 2020 +0200

    3-way coherency check between translations

commit 8c251b99295c5d6c7059e765e20764687210ad01
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Aug 27 06:30:07 2020 +0200

    Worker task creation: transform vs extra act.

    "Plant" isn't "Mine" any more. "Irrigate" isn't "Cultivate" any more.
    Separate terrain transformation activities from extra creation actives in
    the worker task creation user interfaces.

    See hrm Feature #885497

commit 8539a658f69abc7ccb553a1e104c7b0d8365e4cb
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Aug 27 06:12:44 2020 +0200

    Qt client: Fix worker task creation.

    It broke when hrm #846914 changed the buttons to pointers.

    See hrm Bug #885495

commit e7baacac237bfa8bd65453a71ad43597a0d67461
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Aug 27 05:29:54 2020 +0200

    Remove dual activity meaning remains.

    The function can_unit_do_activity_targeted_at() duplicated checks done in
    is_action_possible() for ACTIVITY_MINE, ACTIVITY_PLANT, ACTIVITY_IRRIGATE
    and ACTIVITY_CULTIVATE.

    Before hrm Feature #871737 landed the checks were used to find out if the
    original - now extra only - activity was extra creation or terrain
    transformation. It would then check if the appropriate action was enabled.
    Terrain transformation and extra creation are now separate activities. This
    makes the old checks redundant.

    See hrm Feature #885494

commit 233fe197ec638b35aca824d3a10763e99513fd48
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Sun Aug 2 17:05:50 2020 +0300

    Scripting: Fix segfaults with Direction objects

    Prevent segmentation faults in C applications due to tolua
    botched garbage collection of user objects (Direction). It also makes
    functions return same objects for same directions and nil for invalid
    directions (they hanged the application anyway).

    See hrm Bug #880869

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2054ee3a2cab1e90d8df6becedf13e5e96b225fe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 2 18:46:41 2020 +0300

    Deprecation warning typofix: "instad" -> "instead"

    See hrm Bug #883116

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8d3364d2fe5bafe167639bb382a47ad90e30d426
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Sun Aug 2 16:44:37 2020 +0300

    Fix City:is_(un)happy() Lua functions in clients

    See hrm Bug #881951

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dd9f35c89d946d49fe7bce368d396912e0463f39
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 2 10:56:44 2020 +0300

    Update gettext bootstrap files to gettext-0.21 level

    See hrm Feature #883109

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0606b5fc072f2f39c636f2af184dd42eaa5fb047
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 2 12:11:00 2020 +0300

    Add req_vec_fix.cpp to POTFILES.in

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 54b7be317172e505223b0980e3fc2adf6e89296c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 10 11:58:58 2020 +0300

    Granularity: Add Hunters and Horsemen

    Also add techs they require.

    See hrm Feature #872589

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8dbc85feed62ac775dff4b8b676213de42f2173a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 27 18:15:37 2020 +0300

    Drop lua-5.3 from git

    See hrm Feature #882571

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b6b9baf62d2fcea5eb08525b736b80ca41b4c873
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 27 02:55:35 2020 +0300

    Qt: Drop multipler_rates_dialog Qt::WindowFlags parameter

    See hrm Bug #882483

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 078e80728ac70fbb5e3944d5d66b642317ce3638
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 27 03:59:25 2020 +0300

    Qt: Set "Cultivate" as the name of ACTIVITY_CULTIVATE worker task

    See hrm Bug #874770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a5ba19a13ca83e444d1401fcca5668f98b42790a
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Mon Jul 27 22:16:56 2020 +0200

    Updated French translations :
    - action enablers
    - improved cross-branches coherency

commit 0e6cc3a9525dd5358ca941a09fd221d3e8c67625
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 10 11:17:44 2020 +0300

    Granularity: Add Road extra

    See hrm Feature #872586

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 85459532aa8ff8e8b21161032d7c2311b7ee9153
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jul 17 01:27:23 2020 +0200

    Doxygen: make warnings more visible.

    Doxygen warnings used to drown in a sea of other output. Quiet it so the
    warnings becomes visible.

    See hrm Feature #881540

commit 0af4c90998a6687da9461a0c246ba251fd4efcf0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jul 16 14:42:10 2020 +0200

    GitHub Actions: Windows build (for CI).

    Use GitHub Actions to do a msys2 build on Windows as a continuous
    integration test.

    The build is too slow to expect that the developer is at his computer
    by the time it fails. It still beats waiting for someone's msys2 build
    to fail.

    See hrm Feature #880897

commit 9d5a856490db6413f1356a9ea93aed668d3d7537
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jul 16 15:27:44 2020 +0200

    Fix msys2 ruledit build.

    Solution hint from Marko Lindqvist
    Reported by Marko Lindqvist

    See hrm Bug #880891

commit 9ade2f212b22c4402f03564170d3d287962ea8fb
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jul 16 15:02:58 2020 +0200

    README.msys2: fix package name spelling.

    See hrm Bug #881455

commit 94c3359cd7401665aa5ed6cdace2c2aaa5facd3d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 30 10:22:43 2020 +0200

    Set target city for tile targeted actions.

    See hrm Bug #879610

commit fe06d4ef903109c1a24dc41b10006014beb447c3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 8 21:35:53 2020 +0200

    Travis CI: test ruleset upgrade.

    The test data is the Freeciv 3.0 rulesets from S3_0

    See hrm Feature #880591

commit 8cca0393e402279e7cc6ef900c36b384fc2372d4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jul 9 00:02:15 2020 +0200

    Ruleset upgrade test data preparation script.

    See hrm Feature #880653

commit 9536b462c85873e3ed07ca8075166b6aa576905e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 9 12:36:04 2020 +0300

    README.msys2: Correct date of upstream package

    See hrm Bug #878462

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eaf83a7da7dc35176f36ae685df0873644ae915d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 8 21:03:57 2020 +0200

    rscompat: fix "Paradrop Unit"  move cost effect.

    The move cost for "Paradrop Unit" should be subtracted from the actor unit,
    not from a target.

    See hrm Bug #880587

commit ed44d39a9168cfe92f7e1165ff38d5ad6e24650c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 30 15:32:24 2020 +0200

    Make "Center" a sub set of "Claimed".

    Set the tile owner to the owner of any city on that tile even when borders
    are disabled.

    See hrm Feature #879677

commit e3963f141dc404164cd1887b0b55ba41098e997c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 8 12:43:57 2020 +0200

    req_vec_change: introduce req_vec_num_in_item.

    Some ruleset item kinds like action enabler have more than one requirement
    vector. A req_vec_change must therefore specify what vector it applies to.
    Up until now this has been done by a pointer to the requirement vector in
    the ruleset item that was suggested changed. This created extra work when a
    change was supposed to be applied to a copy of the original ruleset item.

    Introduce req_vec_num_in_item. A req_vec_num_in_item is a numbering for
    requirement vectors in ruleset items. The numbering is specific to each
    ruleset item kind. Have req_vec_change and functions that work with
    req_vec_change specify the requirement vector the change applies to as a
    req_vec_num_in_item.

    See hrm Feature #880564

commit 86adba4ba5cf8d065b56a4b90def8a0dcbf84dd1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 8 14:28:29 2020 +0200

    Comment header fix

commit 63328bb4b52bafaf3ebcee4218852800810779e7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 8 09:44:38 2020 +0200

    ruledit: use QListWidgetItem::setSelected().

    setItemSelected() is deprecated.

    See hrm Bug #880526

commit e47ed6b389067e2bd34535369694abbeec0fc73b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 8 08:07:06 2020 +0200

    README.actions: expand Lua logging example.

    Log all current action target kinds.

    See hrm Feature #880514

commit 9f0d1b29cb3eddf9e1283dabae390e13174d310c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Sep 13 11:55:11 2018 +0200

    HACKING: Explain what an "action" is.

    Explain that the action concept shouldn't be muddled.

    See hrm Feature #880508

commit a8412daa41f3e3910127e8cac05a2b897b930116
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 24 00:01:48 2020 +0300

    Meson: Add option to build json-protocol

    See hrm Feature #874813

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9e3ec8b26b6d5ae40e0bfcc85964c8214c9926e2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jul 7 14:35:56 2020 +0200

    Travis CI: run make in parallel on OS X build.

    See hrm Feature #880452

commit 85d2057fa824887e27f662cc755ff3ea4a8fe5a0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jul 7 06:11:42 2020 +0200

    Delete requirement_vector_contradiction_clean().

    It is unused in 3.1.

    See hrm Feature #880399

commit 633b455c37b49eb53f5142d7fd1fab426fe6b2bd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 8 16:23:38 2020 +0200

    Comment spell fix: requirment -> requirement

commit 8e2191bf87188bab3d87551168417bc93e83affc
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 8 14:27:02 2020 +0200

    Comment header syntax fix.

commit 8414968cc9b95913ee97eeda0d083a0a71a60926
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jul 7 04:05:57 2020 +0200

    Travis CI: print config.log on configure failure.

    It is easier to debug a failed ../configure run when the log is shown when
    reading the log of the job.

    See hrm Feature #880397

commit f34483283f9a442251f58692e8cdcc44df2660d2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jul 7 04:05:25 2020 +0200

    Move class fix_enabler_item out of header.

    The class fix_enabler_item is an implementation detail of tab_enablers. It
    inherits req_vec_fix_item. The class req_vec_fix_item is a regular C++
    class that doesn't inherit QObject. There is no need to for fix_enabler_item
    to remain in the header.

    See hrm Feature #880396

commit daa4e7b803126850227a06a8e2c3bb28d7213bb9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jul 6 21:43:05 2020 +0200

    Travis CI: clang debug build.

    Clang catches stuff like an enumerator from the wrong enum being assigned
    to an enum variable. The OS X build is slow and needs lua5.4 before it can
    run in debug mode. Add a Linux clang build.

    See hrm Feature #880378

commit d38771cbed16c46201fb22f1a3347e88a98bb350
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jul 6 19:53:06 2020 +0200

    Update included lua-5.4 to version 5.4.0

    See hrm Feature #880331

commit bf9560ee50005bc02d9ca9b3a59cc7a206c15f9b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jan 1 15:47:08 2020 +0100

    Travis CI: build the Qt client on OS X.

    See hrm Feature #880335

commit 894aff809ad1411c47fa110a9f6aca82224d1f83
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jul 6 16:58:29 2020 +0200

    Set minimum C++ standard version to 11.

    A C++ compiler may support C++11 but default to an older version.

    Ask for C++11 when compiling C++ code. All our C++ code uses Qt.
    All Qt versions supported in 3.1 requires C++11.

    ax_cxx_compile_stdcxx.m4 was taken from the GNU Autoconf Archive.
    Serial 8 was chosen because it doesn't downgrade C++ version to
    C++11 when to compiler default is a more recent version. (No C++
    standard version downgrades requested by Marko Lindqvist)

    See hrm Bug #880321

commit 297d2dab3113a752559750a47075ce0af508bc29
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jul 6 12:15:14 2020 +0200

    Travis CI: remove homebrew work around.

    Travis' OS X image no longer needs a brew update on each build to
    work around hrm Feature #861472.

    See hrm Feature #880296

commit 2ed083f451139f17f13f8bdabcfcc1692a5afd7c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jul 6 11:21:05 2020 +0200

    req_vec_fix: update on outside req vec change.

    Listen for changed done by others to the requirement vector it is trying
    to fix. Discard all local changes and start over again when the vector
    has changed.

    See hrm Feature #880291

commit cd448eaa40cb4c233788ab85f7d84288e9d64070
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jul 3 11:29:08 2020 +0200

    req_edit: update on outside req vec change.

    Listen for changes others do to the edited requirement vector.
    Update the view of the requirement vector if it has changed.

    See hrm Feature #879873

commit 1e49fa010ebcee4ced23420c3e3a97cf021f807f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jul 3 10:29:11 2020 +0200

    Travis CI: build experimental ruledit in normal.

    See hrm Feature #880060

commit 7099396239651a36e6fabfa877d342c3f1ec83d7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jul 2 12:21:24 2020 +0200

    ruledit: mark enablers that has problems

    See hrm Feature #879934

commit 31484d078ea2018d7b70636ce68774c1eeeebe2b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jul 2 11:47:24 2020 +0200

    ruledit: (enabler) problem seriousness detection.

    See hrm Feature #879928

commit 968e2abd38ef5c93f0ec0a6a22ffdf48be9b0703
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 1 20:38:56 2020 +0200

    req_edit: emit signal on rec vec change.

    Emit the signal rec_vec_may_have_changed(const requirement_vector *)
    after req_edit changes a requirement vector.

    See hrm Feature #879870

commit 0abc30affbd3a72cb01cc8ebd21a23c9bf31ce66
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 1 20:08:51 2020 +0200

    ruledit: update changed enablers.

    Update an action enabler if one of its requirement vectors changes.

    See hrm Feature #879864

commit 3d9f38736df5b2014facc500ea74cebadc0c8be2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 1 13:08:34 2020 +0200

    ruledit_gui: forward rec_vec_may_have_changed().

    Forward incoming rec_vec_may_have_changed(const requirement_vector *vec)
    signals.

    See hrm Feature #879862

commit 0718783b9a2a95325277cd4be1ca9b5b71d4a44e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 1 13:06:04 2020 +0200

    req_vec_fix: emit signal on rec vec change.

    Emit the new signal rec_vec_may_have_changed(const requirement_vector *)
    after req_vec_fix does all accepted changes to a ruleset item.

    See hrm Feature #879745

commit 548f05cea56f7078c99c0c289d00641478c1f550
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 1 13:07:17 2020 +0200

    ruledit: close redundant req_vec_fix_item.

    Make ruledit_gui::open_req_vec_fix() close item_info when another
    req_vec_fix window already is open for the item.

    See hrm Bug #879744

commit fcca999cd3847c1f4e9e6454e0c7550a7cae0a38
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 1 11:39:17 2020 +0200

    ruledit: keep selected enabler marked on refresh.

    See hrm Feature #879727

commit c89354001a8662749782dbfa33a56a16d13588b5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 1 11:16:45 2020 +0200

    ruledit: use layout for req_vec_fix problem area.

    Replace the hack of using a widget to contain the widget displaying
    the current problem with the use of a QStackedLayout.

    See hrm Feature #879718

commit 45d3a28aee047fafbc1803265c9e4bec9a707943
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 30 16:31:23 2020 +0200

    Client access to the ane_kind enum.

    Move the enum ane_kind to common.

    Put it in the new header file - explanation.h - so adding a new possible
    reason why an action isn't enabled won't cause a giant rebuild.

    See hrm Feature #879630

commit e94229af5a07ae8c64396c0d9247e89ede5f8243
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 30 11:49:37 2020 +0200

    Action tool tip generation to client text.

    The generation of the tool tip for an action button in the
    action selection dialog should be client only. Keep the
    action probability to explanation code in the actions
    module to keep action probability interpretation
    centralized.

    See hrm Feature #879607

commit caf6a094c097b3d9d6964c5cc0431a939e9f93fd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 30 12:31:39 2020 +0200

    Action not enabled explain peace blocks.

    See hrm Feature #879606

commit 3563e340cf1729b6f68e99111a1e1ba70585f8a7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 1 23:37:51 2020 +0200

    illegal_action(): fix explanation finding order.

    Punishing a unit changes its state. This state change can make the action
    illegal for other reasons than the real reason why it was illegal. The
    reason why the action was illegal must therefore be found before the
    punishment is applied.

    Looking for an explanation why the action was illegal after the unit was
    punished can also crash the server if the unit is killed.

    This patch creates a new, smaller, bug: A client asking to not be disturbed
    will end up not getting the reason why the unit was punished. Accept this
    for now. (See hrm Bug #879881)

    See hrm Bug #879880

commit a3336c029335f28729e15d2fcd132161bb3df952
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 1 23:15:51 2020 +0200

    A dead unit can't lose MP...

    ...but trying to make it lose movement points can crash the server.

    See hrm Bug #879879

commit 23de141028420ac9e003c09cfcd89e28d213ef2d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 12 10:11:39 2020 +0200

    dai_fill_unit_param(): look for attack capability

    A unit without the NonMil unit type flag may still be unable to attack.

    See hrm Feature #879480

commit 292e41e1d766a97221fa0fc96d213220a6362c76
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 29 03:16:31 2020 +0200

    Obligatory hard req rscompat: fix all trivial.

    Have rscompat_enabler_add_obligatory_hard_reqs() apply all append only
    fixes during ruleset upgrade.

    See hrm Feature #879438

commit 1ee4725db0a9795a486e1b20f7c985a58099caec
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 28 23:22:44 2020 +0200

    Bitwise server setting value access.

    Add a function that gives access to the value of bitwise server settings to
    fc_interface. This can be used to check the value of bitwise server settings
    that aren't sent in PACKET_GAME_INFO. Add an bitwise server setting value
    getter to the server_settings module.

    See hrm Feature #879437

commit 82348097906c0121498829fafce5e1b4997566a8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 28 22:23:55 2020 +0200

    Standardize enabler problem terminology.

    Standardize on the clearer terms "repair" and "improve".

    See hrm Feature #879431

commit 121e25b073b8ad9c32e180ac5247a2cbe6776be0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 28 12:54:46 2020 +0200

    Mandatory local DiplRel means claimed tile target

    Requiring a local DiplRel implies that the target tile is claimed. Make
    explicitly expressing this implicit requirement mandatory from 3.1.
    Action not enabled explanation finding relies on it.

    See hrm Feature #879408

commit 39d6b022123202d0e847375281de14d3110ac4d8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 26 15:40:52 2020 +0200

    Travis CI: move to the next Ubuntu LTS.

    This allows dropping the ppa.

    See hrm Feature #879251

commit 36ecef5508ba83b66bf79bc69d81ab71d8237809
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 26 14:59:28 2020 +0200

    --warning: show enabler improvement possibilities

    See hrm Feature #879228

commit 5a74d3a9d9c7a8ec0547b14351cd7c42e04d91aa
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 26 14:22:26 2020 +0200

    Found City on claimed tile enabler clarification.

    Clarify the rules that allows building a city on a claimed tile by
    specifying in the action enablers that the tile is claimed.

    See hrm Feature #879232

commit fd3d4bfe612cf5e04cafffd95a07bfa1a087bb1f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 26 13:45:27 2020 +0200

    ruledit: suggest action enabler clarifications.

    A local DiplRel requirement in an enabler for a tile target action implies
    that the target tile is claimed. Suggest clarifying this to ruledit users.

    See hrm Feature #879226

commit 6ba7051134dd4728eaa60da2ac1a8663c8590d13
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 26 13:11:52 2020 +0200

    Detect tile targeted enabler self contradiction.

    An enabler for a tile target action can't require a local DiplRel if it
    also requires that the target tile is unclaimed.

    See hrm Feature #879225

commit 259568c4987fbb828bbc7dc76a16214397fa779d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 26 10:10:52 2020 +0200

    ruledit: detect unused action enablers.

    See hrm Feature #879199

commit 27f064c2de55a161094d68b785d7348c19ec65dd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 26 15:18:45 2020 +0200

    Comment fact fix

commit c77bcb298a47386f3937c846c251687024d0e4f7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 26 00:42:05 2020 +0200

    Non TerrainSpeed are native by terrain.

    Transporable units in alien, civ2civ3, classic, experimental, multiplayer
    and sandbox that doesn't have the TerrainSpeed unit type flag are on native
    terrain when they load.

    Remove redundant "Transport Disembark" action enabler and !present
    requirement for "Transport Disembark 2".

    See hrm Feature #879143

commit e3efcf0f2342bb8774a876f856f9c3b4f0574631
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 25 21:01:13 2020 +0200

    Increase the max size of problem descriptions.

    Around 150 characters was a bit on the short side. Increase the size limit
    to 500 bytes. Long enough to describe the problem, too short for a wall of
    text.

    See hrm Feature #879142

commit d0df88f98fe18e619d7c0a271f7a3a0c7e2b99d1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 25 23:14:40 2020 +0200

    No unit types can join cities in alien.

    Remove redundant action enabler and user unit type flag.

    See hrm Feature #879141

commit 1fe09b85920684f25c380c6b0e330235832ff4f4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 26 00:02:11 2020 +0200

    classic and multiplayer have simple native rules.

    If a transported unit is in a city in classic or multiplayer it is on a
    native tile.

    Remove redundant "Transport Disembark" action enabler and !present
    requirement for "Transport Disembark 2".

    See hrm Feature #879140

commit 24e60fceea92de6354e74fa245672139fc307d47
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 25 23:20:01 2020 +0200

    All unit types in granularity have TerrainSpeed.

    Remove redundant "Transport Disembark" action enabler and !present
    requirement for "Transport Disembark 2".

    See hrm Feature #879139

commit 2cffec2e9a081d0d1e7fcd9b6482a4d2412be910
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 25 22:54:24 2020 +0200

    Untransportable units can't board, alight, etc.

    Make action_actor_utype_hard_reqs_ok() check that there exists a
    transporter for a unit type before claiming that it can do
    "Transport Alight", "Transport Disembark", "Transport Disembark 2",
    "Transport Board" or "Transport Embark".

    See hrm Bug #879134

commit aaf62286c486c13a7a2c82bbd86ce44d5281ce73
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 25 21:12:44 2020 +0200

    Fix enabler duplication on action change.

    See hrm Bug #879130

commit dae0db5e472d49fa08d57857b3e6fd2a772ff112
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 25 18:57:13 2020 +0200

    New effect Illegal_Action_HP_Cost.

    Introduce the new effect Illegal_Action_HP_Cost. It is like the
    Illegal_Action_Move_Cost effect except that it targets a unit's hit points.
    It is able to kill a unit.

    If the action always causes the actor unit to end up at the target tile two
    consolation prizes are given. An area with the radius of the actor unit's
    vision_radius_sq tiles is revealed. The player may get contacts with the
    owner of units and cites adjacent to the target tile. This is done for
    compatibility with "Paradrop Unit".

    See hrm Feature #879103

commit 6e1679a333de962b0459168c1cb36f9e72090f8c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 25 17:44:15 2020 +0200

    Get rid of paratroopers_mr_sub.

    Move the unit type field paratroopers_mr_sub to the
    Action_Success_Actor_Move_Cost effect.

    See hrm Feature #879117

commit 58aa784b3fd0adfc3e942226940683f185f20e36
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 25 16:36:10 2020 +0200

    Get rid of paratroopers_mr_req.

    Move the unit type field paratroopers_mr_req to the action enabler
    requirements of "Paradrop Unit".

    See hrm Feature #879114

commit 300f9350bf57db21511e72cb4967ffe60e693030
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 25 14:57:19 2020 +0200

    Don't punish non revealing illegal moves.

    The punishment for an illegal move specified by the
    Illegal_Action_Move_Cost effect should only be triggered
    when trying to perform the illegal action may reveal new
    information.

    See hrm Bug #879104

commit 00bc78e09f0e096b6dea27bba4ede2a01a004f13
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 25 14:18:40 2020 +0200

    Introduce action_prob_unit_vs_tgt(),

    an action probability finder that picks the target to evaluate against
    based on what the action in question wants.

    See hrm Feature #879100

commit 0a378f1dc1345eb8e3cc1a94864f3bb0203178c8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 25 12:53:30 2020 +0200

    Refresh non fogged borders on player map load.

    The tile owner isn't read when loading a tile from a save player map
    unless  foggedborders is on. Set it during the player map repair
    phase of the savegame loading.

    See hrm Bug #879084

commit 47b54cf5befdec7e2d7743e2673283d6aea10026
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 25 11:07:22 2020 +0200

    Obligatory no "Paradrop Unit" peace invasion.

    Make the rule that the player can't use "Paradrop Unit" to move a unit into
    the territory of a player he has peace with an obligatory hard requirement.

    See hrm Feature #879085

commit 1286e948d090b5c4ba26d90ece94e3ad7216a577
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 23 13:50:11 2020 +0200

    Shorten auto_settlers_speculate_can_act_at().

    Prepare the function auto_settlers_speculate_can_act_at() for replacement
    by something that takes action rather than activity by having it use
    actions rather than activities internally.

    See hrm Feature #879062

commit 5b8dfc9563dbe277c772091c730f6af3bb94761e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 25 14:38:37 2020 +0200

    Comment English fix

commit 0c86c14df246736e227f05e5db1c7c0cb330c34c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 23 15:48:42 2020 +0200

    Meta knowledge for Activity requirements.

    See hrm Feature #878873

commit 9d701de08cae244777c663b2bf27fc98db1c4fa1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 23 09:10:39 2020 +0200

    Obligatory hard requirements: support "or".

    Make it possible to specify fall back requirements. An obligatory hard
    requirement is considered fulfilled if the action enabler fulfills any
    of the alternative requirements. This makes it a bit less strict.

    See hrm Feature #878845

commit 99fcba85b2fdf42fd1cbd357997658cbbacc89aa
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 23 06:02:37 2020 +0200

    Remove unused obligatory req functions.

    The functions action_enabler_obligatory_reqs_missing and
    action_enabler_obligatory_reqs_add() aren't in use any more.

    See hrm Feature #878840

commit eb52e173f3d0a5ddada64f8deedde44250e20aa8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 18:36:27 2020 +0200

    rscompat: upgrade enablers with req_vec_problem.

    Use req_vec_problem to add missing hard obligatory requirements to
    action enablers during ruleset upgrade.

    See hrm Feature #878829

commit 4a98d0f3959e1cdbaa7f7a011fb9d3e45e4d354b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 18:34:48 2020 +0200

    ruledit: allow rejecting enabler repairs.

    Show the user the individual problems and steps performed to repair an
    action enabler. Allow him to reject them and try to fix the enabler by
    hand.

    See hrm Feature #877674

commit 28322d10148de69be553ad0a8416ca4ac1dc670e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 22 22:33:08 2020 +0200

    ruledit: introduce req_vec_fix.

    Introduce a generic requirement vector fixer dialog. It shows the user
    problems and allows him to pick the solution if more than one alternative
    is presented.

    See hrm Feature #878659

commit bc8ffbaa3690245730b44df5d0ca899fa112d793
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 22 14:46:01 2020 +0200

    Introduce req_vec_change_translation().

    See hrm Feature #878586

commit 3b70eec4ed080ca50b8fa4e91e46bd1634ca7e4c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 18:03:53 2020 +0200

    Translate requirement vector problems...

    ...so ruledit can display the texts.

    See hrm Feature #877715

commit d733e11b8666d53d9951131e87ef5c742f617370
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 18 11:06:11 2020 +0200

    Simplify need_war_player().

    Unify the handling of tile targeted actions with the handling of other
    actions. The criteria for a perceived need for war is now the same for all
    actions. The criteria is that the action is illegal under the current
    diplomatic state but would be legal during war. No checks if another
    diplomatic state than war and the current state would allow the action are
    done. That could be done later in a check for non war diplomatic states.

    Bombard and Attack are both unit stack targeted. Per unit war requirements
    are therefore handled by the action enabler. Drop custom check.

    See hrm Feature #878193

commit ad85c63ab81bf2a2cf4999fb207d3bcc13d3af9e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 18 09:06:10 2020 +0200

    handle_unit_action_query() by action result.

    What additional information is given currently depends on action result
    only. Should other action properties be considered later they should be
    checked by action, not by hard coded action id.

    See hrm Feature #878173

commit e4590881521c834af9405367d0fb4285d3c3eb5d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 18:36:04 2020 +0200

    rssanity: check enablers with req_vec_problem.

    Replace the old missing hard obligatory requirements chek with a call to
    action_enabler_suggest_a_fix().

    See hrm Feature #878153

commit 2edd14778121e68f6684751912f7ddd330cde1e9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 23 06:24:10 2020 +0300

    meson-winbuild.sh: Setup PKG_CONFIG_PATH

    See hrm Feature #874756

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 781cdfa6549b2904994e01cfb8612ae4b60b8b2a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 18 10:04:57 2020 +0200

    expl_act_not_enabl(): fix ACTION_ANY segfault.

    Fix hrm Feature #878173 by prevention a segfault when the action is
    unspecified.

    See hrm Bug #878181

commit 5b431ecc9d37009eb71be6c6b37ce20f9ba9ea1f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 16 17:10:09 2020 +0200

    Remove tile target specific foreign explanation.

    The normal action not enabled explanation because the target is foreign
    works for tile targets too once hrm Bug #877844 is fixed.

    See hrm Feature #877868

commit 8e3156d9a8cb531f1f3a44323a659ca713e3e02f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 16 16:47:36 2020 +0200

    Modernize expl_act_not_enabl().

    * custom feed back by action result rather than by action id
    * pass action rather than action id to functions with an action variant
    * use the action where it is natural to do so

    See hrm Feature #877864

commit b0c03248a8e649a0747ca794bb9bdc132c04b4a1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 16 16:27:10 2020 +0200

    Optimize city_can_be_built_here()

    Use cached value in can_utype_do_act_if_tgt_diplrel() rather than looking
    through the action enablers each time a check is needed.

    See hrm Feature #877856

commit 58b1d2bb39307e8b5ad55855ebb02ab688c61097
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 16 14:13:44 2020 +0200

    action_hard_reqs_actor(): actor_city must exist.

    Check that actor city exists before checking if it fulfills "Airlift Unit"'s
    hard actor city requirements. action_hard_reqs_actor() is called before any
    action enablers are checked.

    See hrm Bug #877827

commit 6b2a77169db22e81fa09c96211a565320daee060
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 20:01:13 2020 +0200

    Do not close action lists by hand.

    Use action_list_end() to close the action lists in
    auto_settlers_ruleset_init().

    See hrm Feature #877847

commit a4630e795f8b69c4235cf1b3f604e0984ea7b435
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 16 14:28:57 2020 +0200

    utype action diplrel cache: no relation to nature

    Local diplomatic state requirements for tile targeted actions are evaluated
    against the tile owner. This makes local diplomatic requirements unfulfilled
    against unclaimed tiles. An action enabler that requires that the target
    tile is unclaimed will therefore never be active under diplomatic states.

    See hrm Bug #877844

commit 8874f21e9b29d258b7a36a02e6388ce0a063a871
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 16 13:28:15 2020 +0200

    Unit action cache setters: reduce duplication.

    Loop over whether the requirement is present or not rather than
    duplicating it.

    See hrm Feature #877835

commit 2f27b4bbe8dd2e9a91ef9c7a7d23c250d017896a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 16 13:13:38 2020 +0200

    need_war_player() by action result.

    The special war requirements applies to all actions with the same result.

    See hrm Feature #877812

commit 6943e552caf0d4dcc9ee2367b51210874bbbf79c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 16 12:56:21 2020 +0200

    Drop hostile as an action property.

    If an action is hostile or not determines how agents and utilities like
    path finding reacts to it, not what the rules actually are. If an action
    is hostile or not is a matter of interpretation. This interpretation
    should probably care about many action properties.

    Move it out of the way for now.

    See hrm Feature #877798

commit 9e03f2695842763fabac0a982cfcbd6e3e82607f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 16 10:35:44 2020 +0200

    Move CanFortify and Cant_Fortify to the ruleset.

    See hrm Feature #877577

commit d3f14dabac67a4218a42ce1f705929b6e151b5fc
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 16 10:13:46 2020 +0200

    helpdata: consider Fortify_Defense_Bonus.

    The bonus a unit gets from fortifying is now controlled by the
    Fortify_Defense_Bonus effect. If it can fortify at all is controlled by
    enablers for the Fortify action.

    Get the fortify bonus from the effect. Move the information about what
    happens in the Fortified unit state to the documentation of the Fortify
    action.

    The new code can't detect as much as it could before the
    Fortify_Defense_Bonus effect was added.

    See hrm Bug #877782

commit a70327afb4d4e6cd4f72c94a43b4784452d54b4c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 16 09:40:10 2020 +0200

    universal_fulfills_requirement: support CityTile.

    Add a universal_found_function for tile properties.

    See hrm Feature #877780

commit 941e36ac2a52fadf6e9054d3512c13f1a27abd61
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 16 09:23:52 2020 +0200

    universal_fulfills_requirement: support Activity.

    Add a universal_found_function for unit activities.

    See hrm Feature #877779

commit 68c803540329f20ded9fd55b77c8f7c035e112bb
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 8 11:54:42 2020 +0200

    Simplify auto_settlers_speculate_can_act_at().

    The special checks are redundant. That are done in the
    action_speculate_*() functions too.

    See hrm Feature #877755

commit de5507b969e9b9841a98c4b661522b87d66c8bfa
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 14:21:38 2020 +0200

    requirement_vector_contradiction_clean(): port.

    Port requirement_vector_contradiction_clean() to use
    req_vec_get_first_contradiction() and req_vec_change_apply() internally.

    See hrm Feature #877702

commit 4742bc64e961c30136bb05cb0b337fe7f87fba95
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 21:22:14 2020 +0200

    rulesave: respect disabled enablers.

    Respect ruledit's disabled property when saving action enablers.

    See hrm Bug #877742

commit b425da5a8e3b4f293d7279b8092c9ec01a31e62f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 19:31:36 2020 +0200

    Central action enabler deallocator.

    Introduce action_enabler_free(). Use it in actions_free().

    See hrm Feature #877731

commit eb47529dac7bedee08b035d7150b49222aac1002
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 18:21:50 2020 +0200

    Fix unterminated character constant warning

    while generating freeciv-core.pot

    See hrm Bug #877727

commit 98bc408986abd72b24eb8b6162e5e9fac4608261
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 17:02:58 2020 +0200

    Mark requirement vector problems for translation.

    See hrm Feature #877720

commit 1ec78a3f5faab4dbdb1903cd238fe2339d2fa455
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 14:52:44 2020 +0200

    Interactive friendly enabler changing.

    Add functions to the actions module that makes it easier to suggest changes
    to action enabler to the user in an interactive environment like ruledit.

    See hrm Feature #877704

commit 3cfa5599af5c0816f406dbc3e21e3aab9f842588
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 14:17:49 2020 +0200

    sanity_check_req_vec(): standard contra detect.

    Use req_vec_get_first_contradiction() to detect requirement vector self
    contradictions during sanity checks.

    See hrm Feature #877701

commit 1ae47278cb24cef78b77aa9f550276c7fe19c3a1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 12:31:03 2020 +0200

    Interactive friendly requirement vector change.

    Add functions and data structures to the requirements module that makes it
    easier to suggest changes to requirement vectors to the user in an
    interactive environment like ruledit.

    See hrm Feature #877692

commit b6959c47825b81bfa9c0ecef627e2bcdeb945e0b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 09:51:55 2020 +0200

    ruledit: split enabler repair from action change.

    A user may wish to repair an action enabler broken outside of switching its
    action or to switch action and repair the enabler by hand.

    See hrm Feature #877669

commit 9da39d52c7e56971c802ef7bdf0fb3ba954173f9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 09:23:26 2020 +0200

    ruledit: can't edit non selected enabler.

    Don't offer to delete, to change the action type or to edit the requirements
    of the currently selected action enabler when no enabler is selected.

    See hrm Feature #877662

commit 98af429680f50f88611cfc576e50edd3a28fa369
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 00:43:08 2020 +0200

    rscompat: assert enough free user flags.

    Assert that no user flag spot not added in the current version is spent.
    That would make old rulesets that used all user flag spots impossible to
    upgrade.

    See hrm Feature #877576

commit 19e44fd2a405d8b090d1f12fabb26afd2ea65ef3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 20:43:27 2020 +0200

    find_something_to_kill(): simpler build to chase.

    A civilian that can perform a hostile action doesn't count as a civilian.

    See hrm Feature #877541

commit ec49940db38b70f38a5d19873c05de8bca53baf4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 00:03:50 2020 +0200

    Make in city hard req obligatory.

    The action "Airlift Unit" has a hard requirement that the actor must be
    in a city. Make it visible.

    See hrm Feature #877574

commit 9a9fd3f733249ec282bee74ae1a45c200c9d6c69
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 14 16:26:20 2020 +0200

    Path finding hack by action result.

    See hrm Feature #877563

commit 509f204f8023e78d68c748fa1ea409a6811c9131
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 14 15:49:54 2020 +0200

    Qt client: detect sea and air by action result.

    Have city_production_delegate::paint() check what actions a unit can do by
    their action results.

    See hrm Feature #877560

commit bc6d83909b4adedab461e02c9a10380628c0aeb9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 14 15:47:57 2020 +0200

    Intoduce utype_is_consumed_by_action_result().

    See hrm Feature #877558

commit 1fd810fccd081e34c26532c74ebe6ce9182d3759
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 14 15:37:23 2020 +0200

    requirements module: take req_vec_wants_type().

    It may be useful elsewhere too.

    See hrm Feature #877556

commit 73a138d7add6118ce4681b3bba9017540e9dfb91
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 14 10:14:11 2020 +0200

    get_fortified_defense_power() by action result.

    See hrm Feature #877545

commit a22dcb2e1a1cfc73bbd698abea576b6da95edf7b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 14 09:31:01 2020 +0200

    Make not fortified hard req obligatory.

    The action "Fortify" has a hard requirement that the actor can't already
    be fortified. Make it visible.

    See hrm Feature #877543

commit 4c8bb242b28ec598501f05cdd5d81399f3fd1785
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 14 07:44:00 2020 +0200

    can_attack_non_native(): consider actions.

    A unit may be unable to perform an attack action because no action enabler
    enables it even if at has a non zero attack.

    See hrm Bug #877542

commit edbe26097d72087b273a5a32796a7f75803f7acc
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Mon May 25 05:51:52 2020 +0300

    Integer calculation of diagonal move cost

    See HRM#868646

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit bd5e1d57bc9f6734910d6ed468867868399c4882
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 11 11:13:00 2020 +0300

    Update msys2 environment to 200610 level

    See hrm Feature #874451

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 11bff5e2a6f56e4282d9f118f363db7407dd9bd4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 12 20:56:28 2020 +0200

    is_action_possible(): omniscient sees all.

    Make the checks for "Spy Attack" respect omniscient.

    See hrm Bug #877508

commit 7969022a435f03f9fe024269842ded284963fbd7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 12 20:31:45 2020 +0200

    action_target_neg_util(): use action result.

    See hrm Feature #877504

commit 32c1377bcb902f645aeba61551629b940f9a070b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 12 18:34:43 2020 +0200

    Move NoFortify to the ruleset.

    Soft code the rule that a unit can't fortify on terrain with the NoFortify
    terrain flag unless it has a city.

    See hrm Feature #877498

commit 8672f9702e1257471958622329e541ab04fe9ae4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 12 18:04:53 2020 +0200

    Increase the number of user terrain flags to 10.

    See hrm Feature #877497

commit 9453b4c4a561633df32b8aa76f56da0bbd6dfb15
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 12 16:20:29 2020 +0200

    Make home city hard req obligatory.

    The actions "Establish Trade Route" and "Enter Marketplace" has a hard
    requirement that the actor unit has a home city. Make it visible.

    See hrm Feature #877487

commit c1e8c565771c8587b58e98e641a9937ee0790e6f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 12 15:48:11 2020 +0200

    Make no existing embassy hard req obligatory.

    The actions "Establish Embassy" and "Establish Embassy Stay" has a hard
    requirement that the actor can't have a real embassy to the target already.
    Make it visible.

    See hrm Feature #877481

commit 28a9e621734c71467ef2b950211c20fc439dc4da
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 12 14:44:19 2020 +0200

    is_attack_unit(): consider actions.

    A unit may be unable to perform an attack action because no action enabler
    enables it even if at has a non zero attack.

    See hrm Bug #877476

commit d8212547496c587dfd252684e413dd197f431320
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 12 14:37:02 2020 +0200

    utype_is_cityfounder() by action result.

    See hrm Feature #877475

commit 3bac8361cd94257c8ff835aca446a5928e252c3e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 12 12:49:44 2020 +0200

    pf_tools: shorten spy action detection.

    Identify spy actions with aia_utype_is_considered_spy() in
    pft_enable_default_actions().

    See hrm Feature #877469

commit 4f42030823cb00dafe0335baeeb796d28c257930
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 12 12:08:14 2020 +0200

    Caravan classification to aiactions.

    Factor out classification of unit type as a Caravan based on the actions it
    can perform to the new functions aia_utype_is_considered_caravan_trade()
    and aia_utype_is_considered_caravan().

    See hrm Feature #877466

commit c9cc3cbbfb709008bcd7e93b9d121910d4cf92b7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 12 11:59:50 2020 +0200

    Worker classification to aiactions.

    Factor out classification of unit type as a Worker based on the actions it
    can perform to the new function aia_utype_is_considered_worker().

    See hrm Feature #877464

commit 94e9a5ec5b01c89d00de48b94edb5366092d97d6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 12 11:13:20 2020 +0200

    Introduce the aiactions module.

    Certain reasoning about actions are interesting to path finding and other
    aicore stuff, not just the built in AI modules.

    Introduce aiactions. Factor out classification of unit type as a Spy based
    on the actions it can perform to the new functions
    aia_utype_is_considered_spy_vs_city() and aia_utype_is_considered_spy().

    See hrm Feature #877462

commit 798443b7ce89db3c2dce3dd819f150ac017a7352
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 10 13:42:51 2020 +0300

    Fix api_game_methods.c return types

    Several functions in api_game_methods.c were returning
    in LUASCRIPT_CHECK_STATE() failure cases returning wrong type
    of value. Non-pointer functions were returning NULL, and non-boolean
    functions returning FALSE.

    See hrm Bug #871688

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5f5aad1b8cc6d2fea720e260f8c47944b696f32e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Feb 7 23:44:17 2020 +0100

    sandbox: demonstrate "Spread Plague".

    See hrm Feature #859160

commit c67cb82f51ef5034cc361738ab8ae74946374262
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 11 14:49:03 2020 +0200

    sandox: adjust illness_trade_infection

    Adjust sandox's probability of plague from trade to compensate for it having
    half the amount of possible trade routes compared to experimental.

    See hrm Feature #877397

commit a8e4353a2c571b448c1a8307dc4cf619c1c70552
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 20:43:45 2020 +0200

    Declare "Pillage" a hostile action.

    Freeciv keeps track of if an action should be considered hostile for use by
    internal reasoning like path finding, AI and auto settlers. Declare
    "Pillage" to be a hostile action.

    See hrm Feature #877390

commit 98b8b1e2e7e9cb2b57d0d6b05fa7ec47000b1e35
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 11 13:00:13 2020 +0200

    city_can_be_built_here(): check unit can found.

    Check that a unit passed to city_can_be_built_here() really can perform
    "Found City". Almost all units, non city founder included, are capable of
    performing some action.

    See hrm Bug #877385

commit ed7a20ac9c40e431e88c3ec15f008c92b854dd90
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 25 23:13:16 2020 +0200

    dai_upgrade_units() by action result.

    See hrm Feature #877391

commit 819d35417d2fce9c8ac3cc2fe08d25e3d2f0c24b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 11 12:00:06 2020 +0200

    city_can_be_built_here(): use action result.

    Prepare for a world with more than one city founding action.

    See hrm Feature #877382

commit fe0dc144d29be0417d4681cf5590ac89794f24b2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 11 10:47:17 2020 +0200

    Get rid of the enum city_build_result.

    Make the function city_build_here_test() about the tile alone and rename it
    city_can_be_built_tile_only(). Move unit checks to city_can_be_built_here().

    See hrm Feature #877376

commit 4be807a5bca5b04fe6b06ae246c23ba16499377a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 11 09:34:17 2020 +0200

    Simplify handle_city_name_suggestion_req().

    All errors are forwarded to illegal_action_msg().

    See hrm Feature #877370

commit 185d9a9e0331d5e699d6ef6b0ac0f9d94c3ad1ec
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 11 09:16:31 2020 +0200

    expl_act_not_enabl(): direct citymindist detect.

    Have the action not enabled explanation for "Found City" use
    citymindist_prevents_city_on_tile() rather than city_build_here_test().

    See hrm Feature #877369

commit 6e6ed6505ae98be12ec6a1f82077bbb6cbd8b331
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 11 08:56:06 2020 +0200

    is_action_possible(): simplify "Found City".

    Stop using city_build_here_test() in is_action_possible(). With the
    requirements of absence of the NoCities terrain flag on the target terrain
    is added to the action enabler only one check from city_build_here_test()
    is needed. Factor it out to citymindist_prevents_city_on_tile() and use it
    directly.

    See hrm Feature #877366

commit 010ee13f21392f5a865fe2212f87f0a86d8540a6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 23 23:13:40 2020 +0300

    Correct "Conquer City" ui_name format string

    Reported by Igx, The Dreaming Drummer

    See hrm Bug #874809

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f708a8c38be174b82cef5a8eff8f6f6f6f82b5be
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 20:43:09 2020 +0200

    ai: assess_danger(): simplify harmless check.

    City conquest and unit attacking are hostile actions. A "civilian" than
    can do hostile actions isn't harmless.

    See hrm Feature #877325

commit 4cc63a8109570f0c20376afb4a40f8580035a83d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 10 11:18:44 2020 +0200

    Update city_production_gets_caravan_shields().

    3.0 allows non wonder city production to receive shields from the
    "Help Wonder" action. Make city_production_gets_caravan_shields()
    aware of this.

    See hrm Bug #877250

commit 960f8de5551be541b6924a976558a75c398668aa
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 10 01:14:52 2020 +0200

    Make the no NoCities flag hard req obligatory.

    The action "Found City" has a hard requirement that the target tile can't
    have the NoCities terrain flag. Make it visible.

    See hrm Feature #877190

commit 8ed128983f69efccba46da8350d819a4ce17e74e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 10 00:12:18 2020 +0200

    Explain illegal because peace with target tile.

    Have the action not enabled explanation system detect when an action is
    illegal because the target tile is foreign and the actor isn't at war with
    its owner.

    Example: Webperimental allows founding a city on an unclaimed tile or on
    an enemy tile.

    See hrm Feature #877189

commit 52cca5e2af6ce23d0d98631c0f9412d500e6dd03
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 23:28:04 2020 +0200

    Explain illegal because foreign target tile.

    Action not enabled explanation for when an action is illegal because the
    target tile is foreign for all tile targeted actions.

    See hrm Feature #877187

commit c7ea93d4004f32a452c9bacb7cb546ae6c43c1ef
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 15:31:47 2020 +0200

    Action reasoning API clean up.

    Rename univs_have_action_enabler() to action_univs_not_blocking(),
    move it to the action reasoning section of the header and have it
    take its action parameter as an action rather than as an action id.

    Remove action_blocked_by_situation_act() and
    action_blocked_by_situation_tgt(). Their intended use cases - if I
    remember correctly - can be covered by action_univs_not_blocking().

    See hrm Feature #877184

commit bc7f0050261d1677bca336178473fea7702fcdc0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 19:33:30 2020 +0200

    advdata: worry about nukes by action result.

    See hrm Feature #877182

commit b9fced8507bd4d69a262ad61ddc2c95bdf21ee10
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 19:02:01 2020 +0200

    Find Manhattan nuke actions by result.

    Find nuclear actions that adds the Manhattan project to the actor unit's
    build requirements by action result.

    See hrm Feature #877181

commit 8844dcffcbab5a653949b2fc7fde39f9feae97f9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 18:46:10 2020 +0200

    Introduce action_list_end().

    See hrm Feature #877180

commit 4bca13fd06253f1f7c4d871b9f0cf315e6c59d62
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 17:15:33 2020 +0200

    helpdata: can convert to by action result.

    Document that a unit type can be obtained by conversion of another unit type
    by action result.

    See hrm Feature #877171

commit 19c4fb60a053f287fa0dc19d8e2641d6ca2db541
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 17:05:20 2020 +0200

    helpdata: pillages extra in action help.

    Mention what extras the extra pillaging action can target under the action's
    section in a unit's help text.

    See hrm Feature #877170

commit 55f76caece55b39b439c6818b969872350c30f81
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 16:56:42 2020 +0200

    helpdata: cleans extra in action help.

    Mention what extras the extra cleaning actions cleans under the action's
    section in a unit's help text.

    Delete the action independent mention from the unit's help text.

    See hrm Feature #877168

commit acc738fd4c57eadb0bd5248ad913ef042622371b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 16:50:30 2020 +0200

    helpdata: builds extra in action help

    Mention what extras the extra creation actions builds under the action's
    section in a unit's help text.

    Delete the action independent mention from the unit's help text.

    See hrm Feature #877166

commit 25cc3b8e8a8f5d8f6f3fedacdbdab7b4139c09b0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 15:51:17 2020 +0200

    helpdata: converts terrain in action help.

    Mention that the terrain conversion actions changes a terrain's type under
    the action's section in a unit's help text.

    Delete the action independent mention from the unit's help text.

    See hrm Feature #877163

commit 07b3ebb8ec6c3b8a24df2d886012de408b0c3357
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 15:46:00 2020 +0200

    helpdata: custom action help by result.

    The additional information given about an action is about its result.

    See hrm Feature #877162

commit 08a3b524de37ef9a0a23a1a478f8f1825a6f56ef
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 14:02:36 2020 +0200

    tilespec: centralize server side agent drawing.

    Always select a unit's server side agent control indicator sprite in the
    same switch statement.

    See hrm Feature #877151

commit d86788e45f6dcd10ec2b7b274294ae3dc5406e25
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 30 16:50:11 2017 +0200

    Won't body guard by action (result).

    A civilian may still have no attack capability.

    See hrm Feature #877147

commit 7b6296fe952c9f1cc2b4008e0100cb54c1fd51db
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 14:32:35 2020 +0200

    Act sub tgt checkers: take action param as action

    Have the action target complexity checker functions action_requires_details()
    and action_has_complex_target() take the action parameter as an action rather
    than as an action id.

    See hrm Feature #877145

commit 5d608c46346f3dd68ebfca8bafffed601dcbbb37
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 11:06:34 2020 +0200

    Qt client: Go to and... sub target support.

    See hrm Feature #877098

commit 1299007e88638809a875f2cfe3cdebf966e501ff
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 8 17:03:49 2020 +0200

    ai *_tile_worker_task_select(): keep action.

    Represent the extra removal / creation actions as action rather than as
    activities.

    See hrm Feature #876962

commit 023b77d493b697b54015fc3e5509067780d8fb3c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 8 16:47:29 2020 +0200

    is_extra_*_by_action(): take action as action.

    Have is_extra_caused_by_action() and is_extra_removed_by_action() take
    their action parameter as an action rather than as an activity.

    See hrm Feature #876960

commit c2ec47481c51ea92f6a13ac6e830ea772f5d6082
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 8 15:51:03 2020 +0200

    autosettlers: fill action lists by action result.

    Fill the lists of actions for terrain transformation, extra creation and
    extra removal based on the action result rather than with hard coded action
    numbers.

    See hrm Feature #876952

commit 2f29770d8115128fe60d2d1d26471fcc22d47a78
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 8 15:50:12 2020 +0200

    Introduce action_list_add_all_by_result().

    See hrm Feature #876949

commit 397f4880ea5697698143bd4b86de4131b0af54d2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 8 11:25:17 2020 +0200

    autosettlers: rmextra by action, not by activity.

    Iterate over actions that can remove an extra as actions rather than as
    activities. This makes it like the other similar iterations that iterates
    over actions.

    See hrm Feature #876935

commit 86f9545c349a02a218e87900628fe8fb6d3c3c91
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 8 10:41:11 2020 +0200

    activity time getters: const extra parameter.

    See hrm Feature #876909

commit 823ba253b1852addf57e354ce2cd7afbbdbb28e2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 8 09:22:50 2020 +0200

    action_prob(): custom prob by action result.

    The action specific probability is actually action result specific.

    See hrm Feature #876898

commit e524c11c369a610d2d861340c44cec8634e6d666
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 8 08:48:09 2020 +0200

    Perform actions by result.

    Call action performer by the action's result in unit_perform_action()
    rather than hard coding the action performer for each action id.

    See hrm Feature #876893

commit 205355b7497348afdd8d08bbd259e7226a962fec
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 5 21:51:56 2020 +0200

    Auto explore is a server side agent.

    Put Autoexplore under the general server side agent control system.

    See hrm Feature #876885

commit 7033c3a61361939d7fa39a3b233fcece95ad7863
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 8 01:42:12 2020 +0200

    handle_unit_server_side_agent_set(): generalize.

    Prepare handle_unit_server_side_agent_set() for non auto settler server side
    agents. Factor out unit_server_side_agent_set() so server side AI can avoid
    the having its unit's plans cleared.

    See hrm Feature #876879

commit 45e653061d93f98401d5b8c283969a46bf8924a0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 7 19:59:02 2020 +0200

    client: clear SSA when ordered to perform action.

    The client takes back control from any server side agent controlling a unit
    when it orders it to change activity or changes its orders. Be consistent
    and do the same for orders given via the action selection dialog.

    See hrm Feature #876854

commit 70d532ead1c5360bac4b87dc1e9ed0a49b6a33ba
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 7 20:35:02 2020 +0200

    Remove unit order no SSA side effect.

    Make taking back control from a server side agent on unit order change
    explicit rather than implicit.

    See hrm Feature #876853

commit 7626094445917cd0f47ff468b576a22cbda2ad81
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 7 19:47:46 2020 +0200

    Remove unit activity change no SSA side effect.

    Make taking back control from a server side agent on unit activity change
    explicit rather than implicit.

    See hrm Feature #876842

commit 34bf2665998791de27fcb965c307039607e4dc46
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 7 20:15:08 2020 +0200

    Introduce request_unit_ssa_set().

    See hrm Feature #876850

commit ac84b0b67ab3524c4f6a354fcd23176d51777dd1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 7 19:02:53 2020 +0200

    Don't send unit_change_activity directly.

    Make request_unit_load() and request_unit_unload() use
    request_new_unit_activity_targeted() rather than sending
    packet_unit_change_activity directly.

    This allows request_new_unit_activity_targeted() to intercept their request.

    See hrm Feature #876839

commit feb0ce16c23f51bcae70d4ed160745a3c68ae50d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 7 11:12:44 2020 +0200

    unit_order_list_is_sane(): remove redundant check

    No activity unit order with a sub target remains.

    See hrm Feature #876808

commit edfd70388ef0c6ab6945b26265559e411194b0ff
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 7 12:55:51 2020 +0200

    upgrade_unit_order_targets(): fix action orders.

    A 3.0 action unit order that can appear in the middle of a unit's orders may
    move the actor unit to the target tile or have the actor unit remain at its
    current tile.

    See hrm Bug #876807

commit 4e7c5a701ab762f15728b4ffda7bf98ff149389d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 7 22:48:42 2020 +0200

    Comment fact fix

commit 32ad299efcf20c864894c2d275a0a4b81f2c8f76
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 7 10:43:13 2020 +0200

    Fix outdated unit_order field descriptions.

commit 28f4c1c0807d55aadd1337b2621b95f5e03c9693
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 5 17:02:15 2020 +0200

    clients: support long ranged "Go to and..."

    Make it possible to specify a distant target tile for the action of a goto
    unit order by creating a normal path to the tile the actor unit should act
    from - possibly including waypoints - and pressing 'd' before selecting the
    target tile.

    This could later be extended to allow long range actions like Airlift in the
    middle of a path by having the user press 'd' again rather than clicking on
    the tile to select the target and then continue.

    See hrm Feature #876450

commit 17d0b280ffdfebf5e13278c5d089fd4c0b90a7e5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 5 14:16:09 2020 +0200

    Remove backward compatibility from savegame*.

    Target assignment to a unit's current activity has lived in savegame3 and
    its ancestors for a long time. With post load save game compatibility it can
    move there without breaking save games that used to load in previous
    versions.

    See hrm Feature #876410

commit 963dde5041a2a91de1279a1a169c20f542937529
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 5 13:52:55 2020 +0200

    Dev save compat: rename "Road" to "Build Road".

    The action "Road" was renamed to "Build Road" in hrm Bug #851695. Update
    stored action list in development version save games.

    See hrm Feature #876406

commit 074005d0aa8d5eb0fe6be7970783e040750f697a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 5 12:07:45 2020 +0200

    upgrade_unit_order_targets(): upgrade all orders.

    unit_order_list_is_sane() expects all orders, executed or not, to be sane.

    See hrm Bug #876394

commit 5cb68b00ab4c50778ee6a03d4af2c16326263d28
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 3 23:18:23 2020 +0200

    Unit order execution: deduplicate action/activity

    Don't accept activity orders where an action order would do the same job.
    Simplify execute_orders(). Upgrade save games.

    See hrm Feature #876382

commit 5b2e20161d146f34f22606bc745640dad17c0140
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 5 13:30:05 2020 +0200

    Fix dev compat for unit action order targets.

    The call to upgrade_unit_order_targets() should have been called in
    compat_post_load_dev() but it somehow ended up in compat_load_dev().

    See hrm Bug #876401

commit d1d6761d48d15d86d21408248723dc46b7100a81
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 5 09:33:54 2020 +0200

    Action server side sub target assignment.

    Assign a sub target for actions with a flexible target complexity.

    See hrm Feature #876377

commit 86bee177637737020a3f7b5766ff170122e6f0a3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 3 22:56:02 2020 +0200

    Sanity check action unit order extra is relevant.

    unit_order_list_is_sane() checks that the target extra for extra targeted
    activities are relevant for the activity. Do the same for action orders.

    See hrm Feature #876210

commit e6a95a342afa14abc2283fda6a0410db36be36b7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 3 17:25:12 2020 +0200

    dai_incident(): assert that the scope is handled.

    See hrm Feature #876181

commit fd0504d0c8b78e6211e31acd973fb891ef87f920
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 3 20:26:39 2020 +0200

    GTK clients: Go to and... sub target support.

    See hrm Feature #876178

commit 381d1e24ed62ba7a8cea4284072d7566ccc0b548
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 3 20:24:18 2020 +0200

    GTK clients: recursive menu item remover.

    See hrm Feature #876177

commit 0a0fae9b427292ee847c3b4f40d8f8fcbb88876d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 3 15:05:11 2020 +0200

    goto: use action order in connect.

    See hrm Feature #876154

commit 034fad1930bc31f0f17a5306a96cfca29524f356
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 3 15:55:37 2020 +0200

    Fix the activity action performers.

    The functions unit_activity_handling() and unit_activity_handling_targeted()
    does the wrong thing for actions. They return TRUE even when the activity
    failed to start. They cancel a unit's orders. This is bad when an action
    appears in the middle of a unit order list.

    Split out the parts the action performers can use into static functions.
    Have both the action performers and the unit_activity_handling*() functions
    use them.

    See hrm Bug #876152

commit 2f09cef25b0e881045cabf46757640318f228c7c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 3 15:33:03 2020 +0200

    Use do_action_activity() when no extra target.

    Have unit_perform_action() use the correct action performer for non extra
    targeted activity actions. Add assertions to the action performers to make
    sure that the correct one is called in the future.

    See hrm Feature #876149

commit 69d7d8289b76f9d769dce2aa3f3c948837fc0422
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 3 11:45:15 2020 +0200

    Skip accomplished action extra targeted orders.

    Unit orders activity skips orders removing a non existing extra or creating
    an existing extra. Do the same for action unit orders.

    See hrm Feature #876126

commit a94f32e8d2fc16e74641694a582fde3fd8dee20d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 3 11:28:29 2020 +0200

    Assert that action order has an action.

    See hrm Feature #876123

commit 27f2ba715d6e63ac67a502520f0b771f58a4d9ab
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 3 13:01:27 2020 +0200

    Centralize utype can target extra checks.

    Introduce utype_can_create_extra() and utype_can_remove_extra(). Use them in
    the GTK clients' action selection dialog's target extra selection dialog.

    See hrm Feature #876117

commit bae7a1ad9f99ef5c56d1dbc0465461aaadf43cd8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 3 11:44:35 2020 +0200

    Action creates/removes extra checker functions.

    Introduce the new functions action_creates_extra() and
    action_removes_extra().

    See hrm Feature #876098

commit d3568ce2894ec974867a70182c78c103be9ec443
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 26 12:11:41 2018 +0200

    order_recursive_roads(): check for existing road.

    There is no need to order a road that already is there built.

    See hrm Feature #876088

commit 53587a0afdd8d8ac5675339a0774e6be98dabecd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 27 13:14:33 2020 +0200

    Unit order: support long range action targets.

    Set the target tile as the explicit target of each action. The target is
    still selected at order execution time. This is needed for backwards
    compatibility: existing orders may order a Settler to go and join a city
    that don't exits yet.

    See hrm Feature #876017

commit 722b51bddfc1b30a492cc7eb9c58eb2c4b067138
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 2 08:25:25 2020 +0200

    Make move to ally without questions possible.

    Introduce the new client setting popup_last_move_to_allied. If disabled
    the client will do a regular move into an allied unit or unit stack
    without popping up the action selection dialog even if it can act
    against it.

    See hrm Feature #875939

commit 8dab4d8383582fbeb3ea53599f369b66b79b4c97
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 2 07:13:16 2020 +0200

    savegame2: keep bad unit orders unit a bit longer

    Move the save game loading sanity check and removal of bad unit orders
    to the end of sg_load_sanitycheck(). This allows them to be rescued by
    adjustments in sg_load_post_load_compat() and sg_load_sanitycheck(). The
    tolerance ends with sg_load_sanitycheck().

    This was done for savegame3 in hrm Feature #874189

    See hrm Feature #875937

commit 12c046869da4319ae12c07de9fbb4108fd2df05d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 3 12:27:08 2020 +0200

    Comment clarification for dai_incident_simple()

commit 2831d8cdeea3567c090d9f55449fc8f1655580bf
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 1 23:45:58 2020 +0200

    dai_incident(): differentiate action reaction.

    Having your city investigated is not as infuriating as losing it.

    The handling of the nuclear actions stays the same. The rest are grouped by
    action result and given a badness score from 1 to 10. A badness score of 2
    is about what "Pillage" used to have. A badness score of 5 is what spy
    actions (and all non handled actions) used to have.

    Exceptions to the above is that doing something to a player that causes
    International Outrage doubles the amount of AI love its victim removes and
    that a self targeted action that causes International Outrage removes a
    small amount of AI love.

    See hrm Feature #875910

commit 24fea0a839d8659b5e2a803ac43aae8d4329ba9d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 1 20:39:05 2020 +0200

    dai_incident(): handle international outrage.

    Reuse ai love change values that used to be written by the victim to the ai
    love of other players where those existed. Add a value for international
    outrage caused by pillage.

    See hrm Feature #875899

commit 68be4d3600b0509b57c4f524f20084851e608d5a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 1 12:54:08 2020 +0200

    Start unifying server side agent unit control.

    An agent is an "AI" that the player gives control over an aspect of the game
    to. The agent then plays on the player's behalf. Some agents, like auto
    settler and auto explore, live in the server.

    Standardizing server side agent control allows creating something once and
    getting the benefits for all kinds of server side agents. An example from a
    different domain is how unified action handling allows the auto generated
    "Go to and..." menu.

    Introduce the standard server side agent handling by putting auto settler
    under the general server side agent control system.

    See hrm Feature #750152

commit 10cd2876e395be45bddb9905cb476ec86eccae56
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 1 13:26:39 2020 +0200

    savecompat: upgrade dev suicide attack orders.

    Upgrade the "Attack" order to "Suicide Attack" in saved unit orders for units
    unable to do Attack in older 3.1 development version save games. Upgrade for
    3.0 save games was done in hrm Bug #874169.

    See hrm Feature #875817

commit 86dae9780066ae34c09b579530d5f8e559a89706
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 1 10:19:00 2020 +0200

    Move legacy set activity functions to savecompat.

    The functions set_unit_activity_base() and set_unit_activity_road() are only
    used when loading pre 3.0 save games. Move them to the savecompat module.

    See hrm Feature #875804

commit 52e1ccbdb456fe375bf77d2143b5a8b192972930
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 1 09:34:39 2020 +0200

    ai no bribe handicap by action result.

    Make the AI handicap that prevents it from bribing worker and city founder
    units detect who it can't bribe by looking for the action results of settler
    actions.

    See hrm Feature #875795

commit daa9e4a8215ea5c49f71d184683cb7a35b761dbb
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 1 08:06:08 2020 +0200

    Coding style: change "char* " to "char *"

    See hrm Feature #875775

commit 295f81929b44e610a9c7ec135fbd68ddccd3c6db
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun May 31 02:09:42 2020 +0200

    Check action hard requirements by action result.

    See hrm Feature #875706

commit 3876387cd40f65d209cb8217c27026fe68fa69d7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun May 31 02:16:37 2020 +0200

    Get action battle kind by action result.

    See hrm Feature #875707

commit 93a3ea4e851e05a25f82f4cb0e8590363b9ba917
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun May 31 01:42:08 2020 +0200

    Government action immunity score by action result

    See hrm Feature #875704

commit 31d8337c53789cabddeeab645b9f0654334fd396
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 28 16:34:38 2020 +0200

    ai: diplomatic incident handling API update.

    * Pass action, scope and who the AI controls to the AI.
    * Call each AI's incident handling in call_incident() during international
      outrage. This replaces custom calls to third party AI's for actions
      involving nukes.

    See hrm Feature #875573

commit 1291daecab5745ae2d5c8e88307d1e1b29533958
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat May 30 12:04:00 2020 +0200

    Fix "Help Wonder" and "Recycle Unit" distance.

    Documentation for "Help Wonder" and "Recycle Unit" claimed that max distance
    to target was 1 while also mentioning that max distance to target was ruleset
    settable. The last one is correct. I forgot to update the first one in
    Feature #875249

    See hrm Bug #875668

commit bf98be7433048fad7d0704374598fd5a3a488c57
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 29 12:27:27 2020 +0000

    Initial odds of action dice roll from result.

    Port action_dice_roll_initial_odds() to action_result.

    See hrm Feature #875565

commit c527cb73171f3fb1e73b2f00280e07e6bc3b427f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 28 21:07:12 2020 +0200

    Post activity Casus Belli.

    "Pillage" currently triggers the Casus_Belli_Success effect when the activity
    begins. Introduce Casus_Belli_Complete that it can trigger once the Pillage
    is completed.

    See hrm Feature #875465

commit c8667653c81860006169bbaa89f765a6371d5924
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 28 16:04:47 2020 +0200

    action_to_incident(): port to action result.

    See hrm Feature #875458

commit 61d070bc933e93b3476e45cd531131803a580543
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 28 16:59:47 2020 +0200

    Port obligatory enabler reqs to action result.

    Obligatory hard requirements for action enablers applies because of the action
    performer or other hard coded assumptions in Freeciv, not because of an
    action's action id number.

    See hrm Feature #875445

commit 84941df4fd946e29d834732f2e643c62fa22c6b5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 28 00:12:12 2020 +0200

    helpdata: detect directly if a unit can escape.

    Check that a unit can perform an action with a MAK_ESCAPE and survive rather
    than hard coding each action id that permits escape.

    See hrm Feature #875452

commit 0c6401a4c7b15acb8bf92ebe40cb0dde0ec59c76
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 28 16:25:11 2020 +0200

    Move the enum casus_belli_range to fc_types.h.

    See hrm Feature #875441

commit 872e4d9fdfc760fea037da12a2f481378078ee76
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 28 14:16:52 2020 +0200

    Add the new UnitState property "MovedThisTurn"

    Requested by nef at the Freeciv forum.

    See hrm Feature #875439

commit 07d3edf9f5513232a32d1372709c1f4af4560afa
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 28 00:22:41 2020 +0200

    utype_can_take_over(): check conquer by result.

    See hrm Feature #875314

commit 1e4f4aa281f8e43b55ef255f28a114492505bdaa
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 28 00:01:44 2020 +0200

    ai: check if spy unit by action result.

    See hrm Feature #875313

commit 73741ff26ca048dad8b992d01ce8c6057c32d16e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 27 23:28:25 2020 +0200

    Result utype can do action cache functions.

    Introduce unit_can_do_action_result() and utype_can_do_action_result(). They
    are action result versions of unit_can_do_action() and utype_can_do_action().

    See hrm Feature #875310

commit a40ed6237a338d9d1a7de5f9098b08d3e793f8fe
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Sep 16 14:10:51 2018 +0200

    Adjust action blocking by action result.

    Port the forced action blocking in autoadjust_ruleset_data() to use
    action_result rather than gen_action (action id).

    See hrm Feature #875307

commit 85c2c309b0e1bfb6dee9d188731c036bf6b384b0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 27 20:30:00 2020 +0200

    Split action_result enum from gen_action.

    Split new action result data type from the hard coded action ids in the
    gen_action enum. Only use it in action_has_result() for now.

    See hrm Feature #875306

commit a3a80549f7f3959d752745d5d47152afa9f99622
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 27 18:24:23 2020 +0200

    Fix "Help Wonder" help unit remaining text.

    3.0 lets a ruleset allow "Help Wonder" to help build a unit. But
    build_points_left() only supported calculating it for buildings. This gave
    a bad remaining/surplus value in "Help Wonder"'s user notification text.

    See hrm Bug #875289

commit 1cca0d8d6efb66cbdad40a6b9885fe76a6552da8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 27 16:06:13 2020 +0200

    New utility action_by_result_iterate().

    See hrm Feature #875293

commit 6f1e240345bab6e679e7edf65dfbf2cde25bd0ef
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 27 10:13:30 2020 +0200

    action: store action result in a separate field.

    Fake generalized actions and actions with an escape and a non escape variant
    have the same result. All the differences between them are defined by hard
    coded action data and by the ruleset. Checking action result by action id for
    those means a lot of duplicate code.

    Add the field result to the action struct and network packet. Its data type
    is currently gen_action. The type will change as the generalized action work
    continues.

    Pick one gen_action value as the result number for each group of actions that
    shares the same result. Make action_has_result() assert that the value
    checked for actually is a result.

    Replace multiple calls to action_has_result() that checks for multiple
    actions that has the same result with a single call that checks for the
    result alone.

    See hrm Feature #875279

commit 2a781facdd32d7290a76dd2d3003d8bf5fbc028b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 27 12:25:08 2020 +0200

    "Help Wonder" and "Recycle Unit": rs max distance

    Allow the ruleset to set max range for "Help Wonder" and "Recycle Unit".

    Doing "Recycle Unit" to an adjacent city was made legal for consistency with
    "Help Wonder" in hrm Feature #644449. Make it possible to get the old rule
    back and potentially make "Help Wonder" consistent with it.

    See hrm Feature #875249

commit 972174aba8b96c5d8ba146e2795d568da567dcd5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 27 08:49:14 2020 +0200

    move cost: separate embark from enter city.

    Disembark was separated from leaving port as a part of hrm Feature #848684.
    Keep the move cost the same for both cases.

    See hrm Feature #875245

commit 8278782830bfb8791cda00e01997a48561eb84fc
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 27 07:35:26 2020 +0200

    Remove unused action enablers.

    Remove all action enablers that requires the CanOccupyCity unit class flag
    and unit classes that don't have the CanOccupyCity unit class flag at the
    same time. In alien, civ1 and civ2 the unit class without CanOccupyCity was
    required directly. In civ2civ3, classic, experimental, multiplayer, sandbox
    and webperimental a unit class without CanOccupyCity was required by
    requiring AttFromNonNative - a user unit class flag only given to unit
    classes without CanOccupyCity.

    See hrm Feature #875243

commit 0299bd091088088b86329f650f9b20ba0ed85e00
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 27 11:27:54 2020 +0200

    Clarify can't steal tech while expected.

    The code is full of checks by action result that does the same for the
    version of an actions that always spends the unit as for the version that
    doesn't. This makes programmers read the checks if a unit has a chance to
    steal a tech even when expected as one of those. Rewrite it to make it
    clearer.

    See hrm Feature #875230

commit 451e63c05b200726637b5d6c7963b8be8cdb9a53
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 26 21:53:36 2020 +0200

    README.actions: mention gold theft effects.

    See hrm Feature #875196

commit a860f4a6c2499304ee44e055bec02fa3fd6fea61
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 26 12:42:10 2020 +0200

    Merge help production action performers.

    "Help Wonder" and "Recycle Unit" are extremely similar. A feature added to
    the action performer function of one should probably also be added to the
    action performer of the other.

    Merge unit_do_recycle() and do_unit_help_build_wonder() to the new function
    unit_do_help_build(). This gives "Recycle Unit" notification of city owner
    when receiving help from another player and Casus_Belli_Success support.

    See hrm Feature #875079

commit 1f2e52718d280466407a54d6c4a8a3ffd8616fe5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 25 22:19:24 2020 +0200

    is_action_possible(): avoid action_id_*()

    Use the functions that takes an action directly rather than the macros that
    takes an action id and calls the function with action_by_number(action_id).

    See hrm Feature #875057

commit a3e85c7e0cb81c2d0b5470015c22647e1fed3052
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 25 23:12:31 2020 +0200

    unit_type_upgrade: prepare for an action field.

    Even if PACKET_UNIT_TYPE_UPGRADE isn't made a general mechanism for ordering
    all units of a given type to perform an action generalized actions will make
    it need to specify what upgrade unit action the units should perform.

    See hrm Feature #875054

commit a9afc35974f274b380f6537512381c45591cc55b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 26 03:42:40 2020 +0200

    Fix "Help Wonder" help unit production text.

    The player notification would always try to show the building name of the
    current production. But 3.0 lets a ruleset allow "Help Wonder" to help
    build a unit.

    See hrm Bug #875020

commit f825b6a130ebb28586a579718b5be27bb753370c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat May 23 19:33:02 2020 +0200

    Introduce the Unit_Shield_Value_Pct effect.

    Unhardcode that a unit's shield value is reduced by 50% during the action
    "Recycle Unit" and when calculating unit upgrade cost. Make it possible to
    alter the shield value during "Help Wonder" too.

    My original plan was to make this a unit type and action only effect. Then I
    saw a request from Akechi on the forum to allow taking hit points into
    consideration when calculating "Recycle Unit" shields. Unit_Shield_Value_Pct
    can therefore take unit state when calculating unit shield value for the
    actions "Help Wonder" and "Recycle Unit".

    See hrm Feature #874806

commit db5284a8393bc016272ce25815e433d02f5b7e2e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 25 18:14:12 2020 +0200

    Action not enabled explain missing gold.

    See hrm Feature #874987

commit 95dbf86954e50e161c6ec3485005b077bae74533
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 25 17:30:40 2020 +0200

    do_unit_upgrade(): remove redundant code.

    The action is legal if do_unit_upgrade() is reached. It therefore won't show
    any explanation why the upgrade was illegal. This makes its explanation code
    unused.

    See hrm Feature #874986

commit 1e60ca3aeaea5fa801bf061006cffba1a76ebe58
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 25 15:38:11 2020 +0200

    Pass action to all action performers.

    See hrm Feature #874985

commit 888ce4b49591a51f09dae06e3aadcdea1c82bcc0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 25 16:08:03 2020 +0200

    unit_perform_action(): get activity from action.

    See hrm Feature #874984

commit eea246d10967dca61bcb0c6533b30f9842e99455
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 23 08:00:34 2020 +0300

    Qt: Rename cultivate/plant menu entries depending on target terrain

    See hrm Feature #874755

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5b3084b107a3813c151ac20d6d3f921d9b4f2cb5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat May 23 21:45:58 2020 +0200

    README.actions: document Maps_Stolen_Pct.

    See hrm Feature #874808

commit ba67ec165a62f2de27068912541ee29b1bd55393
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat May 23 19:32:45 2020 +0200

    unit_do_recycle(): add action argument.

    See hrm Feature #874807

commit f8c35b0df45fa5ff44d84fa28f8be005fc3172e2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 21 01:03:22 2020 +0300

    AI: Fix illegal read on EFT_DEFEND_BONUS evaluation with ocean cities

    See hrm Bug #874452

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 90143ca62eed61a3062aaa03cc6a6cb9af029328
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 22 10:16:38 2020 +0200

    act sel dlg: show shields for "Recycle Unit".

    See hrm Feature #874646

commit bb4a62fd3cd1e0079d09d923738e3ad21f3bbc0a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 22 11:47:10 2020 +0200

    act sel dlg: fix shields text for unit production

    3.0 lets a ruleset allow "Help Wonder" to help building a unit.

    See hrm Bug #874648

commit 4b56e6f1ff21c2122e55dcbf12cfa7c0520ae72d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 22 09:10:22 2020 +0200

    Standardize extra action selection dialog info.

    The additional details that appears next to the probability of success on the
    action selection dialog buttons gives action specific information.

    The Qt client and the GTK clients used to show remaining shields of the
    current production for "Help Wonder". The SDL 2 client used to show estimated
    recurring revenue for "Establish Trade Route" and estimated one time bonus
    for "Establish Trade Route" and "Enter Marketplace".

    Have them all show everything.

    See hrm Feature #874621

commit 86001cedb624aa2fb9bd0714d7c2ded1e48336ec
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 22 07:08:52 2020 +0200

    Factor out action_prob_to_text()...

    ...from action_prepare_ui_name().

    See hrm Feature #874620

commit 98a17d04eda438208abda5777dfa55efc367ec07
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 23 02:47:51 2020 +0300

    Gtk: Rename cultivate/plant menu entries depending on target terrain

    See hrm Feature #874754

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f2730fff1d9e6eecf04211da5af4e29156df22b2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 21 00:30:20 2020 +0200

    action_prepare_ui_name(): free chance.

    Reported by Marko Lindqvist

    See hrm Bug #872662

commit 0fd5f1851c28dd1570b5ff3901e5cb6aca7d4467
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 10 10:40:11 2020 +0300

    Granularity: Add Irrigation extra

    See hrm Feature #872584

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 833d1fb14c3a5014bc4eeccfe652f5d9dddf3119
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 19 10:07:12 2020 +0300

    Do end_phase() research updates for alive players only

    See hrm Bug #873692

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1be71432ad5d6f7a9dabb6f0cc20f68023392774
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 3 00:42:27 2020 +0300

    Return FALSE instead of NULL from api_edit_unleash_barbarians()

    See hrm Bug #871686

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 892bdde53447993b1380262991dc6f2adbb1ab4c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 20 09:01:12 2020 +0300

    Gtk: Add the city's size to the Info Panel of the City dialog

    Clenup the field enums while at it.

    Patch by John Robertson

    See hrm Feature #872815

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b3a041b1856773805fa87a0b22ef8e8f870eda32
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 12 22:28:02 2020 +0300

    Autosettlers: Drop code related to terrain changing ACTIVITY_IRRIGATE/_MINE

    See hrm Feature #873056

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d7ff93a63eacc231552bd7a5c296b2db2730ba8c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 22 21:13:19 2020 +0300

    Granularity: Punish production without tools

    See hrm Feature #872582

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 19534aabc919a7b49922b2c8759bdb49bbc2a856
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 20 21:40:06 2020 +0200

    README.actions: document missing "Pillage" reqs.

    See hrm Feature #874445

commit bfb0ee5cb3a6846964111452b7426e8f043898fd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 20 19:19:24 2020 +0200

    Lua script API: add tile owner.

    Export a tile's owner to Lua.

    See hrm Feature #874440

commit b306b97ee8ccc24ee5fa0a0af00bee4157b8dedb
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 20 22:08:32 2020 +0200

    dai_hunter_try_launch(): respect alight rules.

    dai_hunter_try_launch() called unit_transport_unload_send() without checking
    if it was legal.

    Check if "Transport Alight" is legal. Unload with "Transport Alight" if it
    is.

    See hrm Bug #874450

commit 2e85bb236dcf501b9ab15d9b0760b139a5b3a689
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jul 19 15:42:28 2012 +0200

    Retire slow_invasions and BeachLander.

    The slow_invasions rule can now be implemented with the
    Action_Success_Actor_Move_Cost effect, the actions "Transport Disembark",
    "Transport Disembark 2", "Conquer City" and "Conquer City 2". It don't need a
    custom ruleset representation any more. A hard coded representation of it
    could lead to ruleset author confusion.

    Soft code the slow_invasions rule and its BeachLander exception.

    Move the BeachLander unit type flag to the ruleset. Always add it during
    automatic ruleset upgrade no matter if slow_invasions is enabled or not. It
    may have been mentioned even if slow_invasions is off.

    "Transport Disembark" rules in rulesets where slow_invasions was disabled
    should be as before this patch. In rulesets with slow_invasions enabled
    "Transport Disembark" is used for disembarking from a transport on a native
    tile while "Transport Disembark 2" is used for disembarking from a transport
    on a non native tile. The effect Action_Success_Target_Move_Cost is triggered
    by "Transport Disembark 2".

    "Conquer City" and "Conquer City 2" has the same relationship to each other.

    Historical note: I got the idea of actions, the action requirement type and
    action enablers while trying to represent slow_invasions with reusable
    general concepts rather than with a custom ruleset representation.

    See hrm Feature #848684

commit 677fb757ddeaccb3cef45cc076cf753795090f23
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 20 15:16:00 2020 +0200

    ai action selection: improve move cost estimate

    See hrm Feature #874415

commit c62c1b24019473d654faa0ef65962e21518acb83
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 20 14:37:42 2020 +0200

    ai: embark next to an enemy.

    I don't see the point in checking your own movement points after embarking
    when seeking to not end up next to an enemy. What would matter is if the
    transport the unit embarks has moves left and if it intends to move away.
    Just ignore no ending up next to an enemy while embarking for now.

    See hrm Feature #874414

commit 8c9a974244b3a9bea94df8fa89041e381447111f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 20 12:45:34 2020 +0200

    ai: action move cost for not end next to enemy.

    Consider movement cost for the action to perform when seeking to not end up
    next to an enemy without any moves left.

    See hrm Feature #874408

commit f548700fd34330b2b4582cf80fba834cccf96e07
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 20 12:27:32 2020 +0200

    dai_unit_move(): add missing else statement.

    See hrm Bug #874394

commit 8ded52f268af9fb916f8c9b473fb27492be80765
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 20 12:19:15 2020 +0200

    map_move_cost(): check BeachLander.

    See hrm Bug #874392

commit ac158b80160eb788bc76b8756fa143653c426d5a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 19 11:13:51 2020 +0300

    README.effects: Document meaning of value of Airlift effect

    See hrm Bug #874123

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5c5f53237dc2c080bb73eb41740e575aedcfa47e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 13 00:36:30 2020 +0300

    Make lack of format_version field in ruleset an hard error

    See hrm Feature #873068

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e09a1d97a6ad4920d12df65aa6cf11c46959fea9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 7 16:26:55 2020 +0300

    AI: Want units that can occupy already empty enemy city

    High want for unit to occupy enemy city was given only when
    also defenders of the enemy city were about to be attacked.
    This ignored the case where there was no defenders in the
    city to attack against, i.e., when city was empty to begin with.

    See hrm Bug #872220

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit afee50836a456776993a4455830266d4b931a503
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 9 13:58:51 2020 +0300

    Meson: Link executables against ws2_dep

    See hrm Feature #872561

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 19e6d788127934fe548dd8784b242f5cfd1860e5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 11 21:19:24 2020 +0300

    is_build_activity(): Unconditionally return TRUE for irrigate and mine

    ACTIVITY_IRRIGATE and ACTIVITY_MINE are now always extra building
    activities, so no need for the code in is_build_activity() to try
    to determine what they are meant to do in specific case.

    See hrm Feature #872783

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 09ce28a437f7a90b5a65d1f6609ca3fe21cddf3e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 9 14:51:33 2020 +0300

    Granularity: Autobuild Path to city centers

    See hrm Feature #872564

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6593a23a780a2befd321f376d23773b007c8e331
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 12 18:26:06 2020 +0300

    civ2: Add format_version field to effects.ruleset

    See hrm Bug #873040

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 040091dcae9a5f433d807c2b694a198517b6bf5d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 18 23:23:52 2020 +0200

    sandbox: make "Pillage" casus belli.

    See hrm Feature #874199

commit 2deb49b9538db4ce8e815df19795c0154357962b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 18 19:49:29 2020 +0000

    Make Casus_Belli_Success support pillage.

    Requested by Lexxie L

    See hrm Feature #874197

commit 50e29a934fd6d003175448bcc73d984243038c58
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 18 19:27:39 2020 +0200

    free_unit_orders(): set orders.length to 0.

    When a unit don't have orders the length of its orders list is 0.

    See hrm Feature #874191

commit 980de384ba1a68e3be829fa896f6a3a918d36f73
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 18 18:20:44 2020 +0200

    savecompat: upgrade 3.0 building targeted orders.

    Production targeted actions were split from building targeted actions and
    their sub targeted encoding simplified in hrm Feature #852132.

    But "Targeted Sabotage City" and "Targeted Sabotage City Escape" can appear
    in 3.0 savegames as unit orders. Upgrade their target encoding and set the
    correct action.

    See hrm Bug #874174

commit 8509c8f6044045e9d207d4315b5d163a1130d879
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 18 17:37:04 2020 +0000

    savegame3: keep bad unit orders unit a bit longer

    Move the save game loading sanity check and removal of bad unit orders to the
    end of sg_load_sanitycheck(). This allows them to be rescued by adjustments
    in sg_load_post_load_compat() and sg_load_sanitycheck(). The tolerance ends
    with sg_load_sanitycheck().

    See hrm Feature #874189

commit e09e20498be3224198867585eeaa8bc6665850da
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 18 17:35:09 2020 +0200

    savecompat: upgrade 3.0 suicide attack orders.

    The action "Attack" was split in "Suicide Attack" and "Attack" in 3.1.
    Upgrade the "Attack" order to "Suicide Attack" in saved unit orders for units
    unable to do Attack.

    See hrm Bug #874169

commit 4aeebc49b3d24867f8aa57d89bcecfd1113ea94d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jan 15 10:00:08 2019 +0100

    Version specific post load compatibility.

    Some compatibility needs access to game state not available in
    sg_load_compat(). This because the correct thing to upgrade to depends one
    the game state or the ruleset.

    By spreading such compatibility all over the code it becomes difficult to
    identify and remove it once save games from that particular version of
    Freeciv ceases to be supported.

    Introduce sg_load_post_load_compat() so post save game loading
    compatibility can be put in a clearly version specific place.

    See hrm Feature #874159

commit d59dc9acc971052f11b724e1db9fe6658c498f8d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 9 13:29:12 2020 +0300

    Meson: Make fc_ai to depend on verhdr

    See hrm Bug #872560

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fc7f19a899cbb92b6566de768db7b5059dcee57b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 6 19:27:41 2020 +0300

    Granularity: Add Forest

    Remove shield production from Grasslands as Forest now
    provides it.

    See hrm Feature #872127

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 096887da13e9f907427d8010cc43cd600b9614c6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 7 16:13:43 2020 +0300

    Add adv_choice.log_if_chosen debug field

    See hrm Feature #872209

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 34ddb57f8d70be6bb7891df90b5b2874de9b9f2f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 16 08:09:36 2020 +0300

    Namespace tutorial script callbacks

    See hrm Feature #873317

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 891970bb8c1a264883bc108a4f54d118b474e7b8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 15 15:47:08 2020 +0200

    Some action orders should only appear at the end.

    See hrm Feature #873621

commit 6f54f097b43cc8bd100ae5d90049e56d27ba4a4a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 15 14:54:05 2020 +0200

    helpdata: document diplomat post action escape.

    See hrm Feature #873613

commit 0134e8e90534cedc6682bffc2334edef2124d394
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 15 13:54:26 2020 +0200

    Introduce utype_is_unmoved_by_action().

    Make it possible to check if the unit always will remain on its current tile
    after successfully performing an action.

    See hrm Feature #873606

commit c97a0b449c8aed2c88081fd0c861e9f8f09f7123
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 15 13:20:45 2020 +0200

    Make unit actor post action move info data.

    Move information about if and how performing an action will move its actor
    unit from utype_is_moved_to_tgt_by_action() to the new field moves_actor on
    the action structure's unit actor specific part.

    See hrm Feature #873605

commit 0a6ce0b0b3cc2b31c41aff5486b422283ba749fe
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 15 11:24:43 2020 +0200

    action: separate actor kind specific fields.

    Some fields that currently are a part of the action structure is specific to
    actions with a unit actor.

    Introduce an actor kind specific part of the action structure. Move
    rare_pop_up and unitwaittime_controlled to it.

    See hrm Feature #873599

commit b8955f08ab43f5b66e5ec68a08b06ed212063f43
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 14 15:38:24 2020 +0200

    More configurable map theft.

    This was planned as a quick follow up to the introduction of "Steal Maps" but
    was forgotten until I discovered that Lexxie had to manually change the hard
    coded properties in her Freeciv-web instance.

    Introduce the effect Maps_Stolen_Pct. It determines the probability of the
    player successfully doing "Steal Maps" or "Steal Maps Escape" getting the map
    for a tile tile.

    The ruleset setting steal_maps_reveals_all_cities decides if the thief always
    will steal the map of a tile containing a city.

    See hrm Feature #873390

commit cca4c3d5278f52310f3e09186f9234479a722304
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 14 15:11:19 2020 +0200

    give_distorted_map(): take probability as percent

    See hrm Feature #873385

commit d9d54331cdfd96b14c9a88addd118d2c734d7854
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 14 12:45:35 2020 +0200

    Update Action_Odds_Pct documentation.

    List new actions Action_Odds_Pct can change the odds off.

    See hrm Bug #873351

commit 4b2844d5da9b73f661a23b656ff639530c963da4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 2 11:38:24 2020 +0300

    Assert against update_dumb_city() error conditions

    See hrm Feature #871652

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cd121c140c16a9a4735ef440c0b669b6286dde2b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 11 23:12:34 2020 +0300

    Disallow targetless ACTIVITY_IRRIGATE/_MINE

    See hrm Feature #871737

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bbaa0539d410eebb6abb3836cf68da01429ad357
Author: Louis Moureaux <m_louis30@yahoo.com>
Date:   Mon May 4 05:27:31 2020 +0200

    Qt: Add Cultivate/Plant unit activity buttons

    See HRM feature #852844.

commit 16b2b41bf122304287aa5e03644b050df455fc21
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 6 05:59:04 2020 +0300

    Turn "Did not find a cm solution..." logging to warn level

    It has been at error level, causing lots of noise in the logs
    when backtrace logging for errors has been enabled.

    See hrm Feature #871946

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6ebcd9a81911a319342611bbf238efa8dc34a6f8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 10 08:36:54 2020 +0300

    Fix clause section names memory leak on ruleset loading

    See hrm Bug #872581

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ee2629e97092227cb0a1161e0ab65c0c246e04c6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 12 10:24:16 2020 +0200

    Make tile cleaning action enabler controlled.

    Add the new actions "Clean Pollution" and "Clean Fallout" to control them.

    Requested by Marko Lindqvist <cazfi>

    See gna patch #6168
    See hrm Feature #850507

commit 25d7813fa77ccf6db70330fb9b4d2fcd985bbfb9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 12 11:28:43 2020 +0200

    can_remove_extra(): make all parameters const.

    The only remaining non constant parameter was pextra.

    See hrm Feature #872904

commit 50212d23ab1de28f600d2eaaf9c6f8f180a5439c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 12 11:09:30 2020 +0200

    Make the Settlers flag hard req obligatory.

    The actions "Transform Terrain", "Cultivate", "Plant", "Build Road",
    "Build Base", "Build Mine" and "Build Irrigation" has a hard requirement that
    the actor unit has the Settlers unit type flag. Move it from
    action_actor_utype_hard_reqs_ok() to an obligatory hard requirement so it
    becomes visible.

    See hrm Feature #872886

commit 00533d3546475ff6590bcc827d9a4b957f829be3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 11 17:30:32 2020 +0200

    Unify action tile target finders.

    Both unit stack targeted actions and tile targeted actions use a tile to
    specify the target. Eliminate action_tgt_tile_units() and have
    action_tgt_tile() recognize unit stack targeted actions as making the tile a
    valid target.

    See hrm Feature #872861

commit 37e0b5ba4634a8a7dc88427a447c32ea2ad1c607
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 11 16:58:29 2020 +0200

    Simplify interpret move as attempted action.

    A move is sometimes interpreted as trying to perform an action to a target at
    the destination tile. Simplify and improve the documentation of the code in
    unit_move_handling() responsible for this.

    See hrm Feature #872851

commit 75f4c068a2d62c8abeaa444d3bad989510ecd723
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 2 19:55:22 2020 +0300

    Correctly set use_prev_server client option to FALSE instead of NULL

    See hrm Bug #871676

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4b5d08d38f7d6e9f733ff33dab5e2831dbf3dd74
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 2 10:34:10 2020 +0300

    Meson: Add ip_mreqn check

    See hrm Feature #871645

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7204800b238ed11d1efc900e37b23b8ef74d5a9d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 1 18:05:17 2020 +0300

    Drop unused establish_trade_route()

    See hrm Feature #871620

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5de226440199404eb9f572a48ad3ac654ce466e1
Author: Louis Moureaux <m_louis30@yahoo.com>
Date:   Sat May 9 23:02:32 2020 +0200

    Fix crash when setting a rally point out of the map

    See HRM Bug #858746

commit ef372100951ef610eb59a1f12b2d6446e10ae8eb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 12 18:14:37 2020 +0300

    Fix compatibility mode ruleset loading

    See hrm Bug #873037

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 66397335c4ce71fdb3fc0a6e72f10329b63330ba
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 10 21:13:41 2020 +0300

    Add Fortify_Defense_Bonus effect type

    It replaces hardcoded fortifying bonuses.

    Requested by Alexandro Ignatiev

    See hrm Feature #867744

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit db0d74f6a5785e9dd6949ceef018e31bcd3ab2ab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 30 02:13:34 2020 +0300

    gtk3x: Drop popupinfo_positioning_callback()

    See hrm Feature #871438

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3c63474ddb6c6d0f2756bfc764dfce4b7c8d32dc
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 11 15:16:40 2020 +0200

    Comment fact fixes.

    * Starting with 3.0 actions aren't only about special abilities.
    * The unit being marked as wanting an action decision doesn't pop up an
      action selection dialog by itself.
    * The client doesn't always show an action selection dialog in response to
      getting a list of potentially legal actions. The Qt client has default
      actions based on target type.

commit 1bf1cff978fae70c64d2feea64dcf56c36291d60
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 9 11:59:12 2020 +0300

    installer_cross uninstaller: Uninstall generated files

    See hrm Bug #854017

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 51cdcf0fb15aff91c6c3d6286a51f362217ba19d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 5 07:06:29 2020 +0300

    Qt5x-mode: Make Qt-5.14 the minimum requirement

    See hrm Feature #871853

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 96500ef764881ec282ecb4374c5fc97155f58710
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 6 16:26:26 2020 +0300

    Fix helpdlg impr_build_shield_cost() calls with NULL city

    Reported by ZoltÃ¡n Å½arkov

    See hrm Bug #872018

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f6207a324167b1e68253de920e2b5485b3a8d774
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 2 22:15:15 2020 +0300

    get_activity_text(): Return "Mine" as name of ACTIVITY_MINE

    Reported by Jacob Nevins

    See hrm Bug #853128

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c14756a4268a694d9e572cb8cd5ee14cbf15333e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 29 08:12:48 2020 +0300

    Improve combat.h coding style

    See hrm Feature #871315

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fd89941cb325f3fd17d7735d397021a33d174981
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 9 11:08:40 2020 +0300

    installer_cross: Delete also symbolic links in uninstaller

    See hrm Bug #872554

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a91a87c5171d14cbe08675603b75a477be82ff85
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 29 21:40:13 2020 +0300

    Qt: Avoid deprecated QGridLayout::setMargin()

    Replace by QLayout::setContentsMargins()

    See hrm Feature #871406

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f3b55e7209359a80cfe7874eafd6adaac143a76a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 7 16:14:59 2020 +0300

    AI: Handle settler_evaluate_improvements() result as adv_want, not int

    See hrm Bug #872193

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bbeb5021de3a09ec23c53515df624c92f47f64dd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 5 03:45:25 2020 +0300

    Implement impr_estimate_build_shield_cost()

    Requested by ZoltÃ¡n Å½arkov

    See hrm Feature #871844

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7a57cea0673432472946956d9f8c635e9f165da2
Author: Zeko <zeko@freeciv.xyz>
Date:   Tue May 5 13:17:06 2020 -0700

    Set player tile owner whenever tile knowledge is updated

    See hrm #846106

commit 6ba75713619bc469231d81d27900f4a2aa279cb3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 1 12:05:55 2020 +0300

    defense_multiplication(): Rework to take defender unit parameter

    Replace unit_type defender parameter with individual unit parameter.

    See hrm Feature #871170

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5e180318aee69e64144306364fe336d997079211
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 5 11:07:06 2020 +0300

    Set GDK_VERSION_MAX_ALLOWED for gtk3.22-client

    Set also GLIB_VERSION_MAX_ALLOWED.

    See hrm Feature #871873

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d8eb8485bd3998c8c033b7da50fb394e653f3a79
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 1 08:09:24 2020 +0300

    Granularity: Add Throne building

    It marks capital city and produces some infra points.

    See hrm Feature #871327

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dc7bc6fe0249221dfee4c5cf50b9fba8171dc670
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 28 23:47:19 2020 +0300

    Rulesave: Save actual terrain_control.pythagorean_diagonal value

    It had hardcoded assumption that when the value is not default, TRUE
    should be saved. That was true for the current value of
    RS_DEFAULT_PYTHAGOREAN_DIAGONAL, but wouldn't adjust to changes in
    default.

    See hrm Bug #871296

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8158f6ceb565b8387b8ceb8036822f0af8fdb9fb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 1 16:54:00 2020 +0300

    reality_check_city() trade partners when trade route established

    Establishing a trade route reveals the partner cities, and their tiles.
    If the partner city is founded on the ruins of a former city that
    is still in player's plrtile, that former city must be cleared out
    by reality_check_city().

    See hrm Bug #871606

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2ecb47522342ff8a324766d78e70b7be7fc073f7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 29 11:23:55 2020 +0300

    Fix get_city_dialog_production_row() assert with NULL city

    Reported by ZoltÃ¡n Å½arkov

    See hrm Bug #870966

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 86dea56b4d01742c0054c526f8b8edfd6acdcc44
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 30 02:07:16 2020 +0300

    gtk3x: Drop gui_dialog_set_default_response()

    It relied on gtk_widget_grab_default() that is gone from gtk-3.96

    See hrm Feature #871437

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9653be808aadbeaa746fc70501ee439fd17a9765
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 29 20:16:25 2020 +0300

    Qt: Set QT_DISABLE_DEPRECATED_BEFORE to match Qt-5.11 in qt5.m4

    Now it's in the same level as our minimum Qt requirement, i.e.,
    the lowest Qt version that we support.
    In qt6.m4 QT_DISABLE_DEPRECATED_BEFORE is set to match Qt-5.12.

    See hrm Feature #871397

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 414794cf4e2d71df6432fb39a0dc488d155b6018
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 29 09:47:24 2020 +0300

    installer_cross: Create ShortCut from Start Menu to doc/freeciv

    See hrm Feature #871326

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f5d51cbc52bf8603956d5b6ea49ceea38f666ef8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 28 03:29:58 2020 +0300

    Meson: Add readline support for server

    See hrm Feature #871153

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 144b1b0d17bcfda9645beaa9c3263f67d0b884ae
Author: Zeko <zeko@freeciv.xyz>
Date:   Wed Oct 2 17:17:00 2019 -0700

    Add server-side CMA

    See hrm feature #839703

commit 9642c624b796d3b26c253f857b76c737f36fc0a2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 29 18:53:46 2020 +0300

    Qt: Replace deprecated QSignalMapper uses with lambdas

    See hrm Feature #869892

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 86c56eb57af73a90dae228c79aa7f7e71990b73d
Author: Louis Moureaux <m_louis30@yahoo.com>
Date:   Mon May 4 07:53:10 2020 +0300

    Add tolua_game to the fcdb lua context

    tolua_game is required to pass the 'player' argument of user_take().

    See hrm Bug #866850

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 11cbde04b425c7d8f7b64ef3365b21039522102b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 2 16:47:35 2020 +0300

    Drop flush_mapcanvas() from gui API

    See hrm Feature #871656

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5f76d68a3509da412eb1adf1da3f22a35343ae41
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 27 04:17:56 2020 +0300

    Update to crosser-1.10

    See hrm Feature #870964

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 435f62788f06a7f3c7726fbcd048c2e335e030cc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 1 09:01:21 2020 +0300

    Add requirement type "Activity"

    See hrm Feature #870905

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e99ec66ad258619b9e349122983b3b58bd7bccc2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 4 13:26:41 2020 +0200

    Don't delete valid action orders with sub target.

    The fix for Bug #856480 was to zealous. It would overwrite valid non extra
    sub targets for action orders.

    Exclude action orders from its default order sub target initialization. All
    possible (and one impossible) action sub target kinds are initialized in the
    action order specific switch statement.

    See hrm Bug #871781

commit f17c4206551d2588eba502e2525812e6cb2ce7d8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 4 11:58:33 2020 +0200

    Make sure initial sub target is invalid.

    IDENTITY_NUMBER_ZERO can be valid for some sub target kinds. Replace it with
    NO_TARGET in simple_action_callback()'s sub target initialization.

    See hrm Feature #871772

commit 11e39ab07b2899e833bb48a920d660de1b5562f6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 4 11:46:07 2020 +0200

    Replace magic number representing no sub target.

    0 is a valid identity for some action or activity sub target kinds. This
    makes IDENTITY_NUMBER_ZERO a bad choise to represent that no sub target is
    set. Up until now it has been represented with the magic number -1.

    Introduce the new macro NO_TARGET to flag that a target or sub target is
    unset. Use it to replace magic -1.

    See hrm Feature #871769

commit 0d87d6cd6f4592b018c058cab291ea2a4dc9e92f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 4 11:15:19 2020 +0200

    savegame3: don't guess order building sub target.

    A bad order building id sub target in a save game would result in it being
    set to 0. 0 is a valid building id. This would change the sub target,
    potentially to something the player absolutely don't wish to target.

    Set a bad sub target to B_LAST so it remains invalid.

    See hrm Bug #871766

commit 0b5e6afaa30f4870a49f4f7e45d7eb20d302622d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 27 13:06:50 2020 +0200

    execute_orders(): assert not ORDER_LAST.

    An order containing ORDER_LAST should never reach execute_orders(). It should
    have been caught while receiving the new unit orders from the client or on
    loading them from a save game.

    See hrm Feature #871751

commit ff4cd22479930b232926518b6ae0d22493247e77
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 29 14:04:36 2020 +0300

    Return boolean from save_action_max_range() as return type indicates

    Return statement was returning 'struct entry *' despite function
    return type being 'bool'.

    See hrm Bug #871347

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 33eb921a81f7eb149d88b718f3b1be5424f2913f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 29 06:48:23 2020 +0300

    Qt: Uncomment Qt version display in build info

    See hrm Feature #871307

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0bb03627aa2a15c9bec9fe8a8e97659177b17b38
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 1 07:56:35 2020 +0300

    Cache if infrapoints are in use in the ruleset

    Store the value in terrain_control. Use that value where appropriate.

    See hrm Feature #871245

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7af6d24c6da124bd4f56e1d7b3c67d69af615344
Author: Zeko <zeko@freeciv.xyz>
Date:   Fri May 1 15:33:39 2020 -0700

    emscripten: Disable SDL2 configure checks

    See hrm #871637

commit 983ca7cf230ebf9b0004334ed3ab6a9fe822613e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 23 12:44:54 2020 +0300

    Drop R. Daniel Markstedt from the list of present administrators

    See hrm Feature #870391

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8317836664c7f436a0c20f4a7d236f246bc7b054
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 27 11:22:36 2020 +0200

    Drop custom non savegame3 order error message.

    Treat them like other letters not representing an order.

    See hrm Feature #871003

commit ac36ae6ec6c6c147e850b9636562c2b5bac1a307
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 27 10:59:37 2020 +0200

    savegame: run unit_order_list_is_sane()

    Make sure that the savegame loading code won't accept any unit orders the
    server wouldn't accept from a client.

    See hrm Feature #871007

commit 965a455d2ae920907b971eb5ea18bb68f588c13d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 27 10:55:37 2020 +0200

    Factor out unit order list sanity checks.

    Move incoming packet unit order list sanity check from create_unit_orders()
    to the new function unit_order_list_is_sane().

    See hrm Feature #871002

commit bd272be63e80cd1f25b84305f0eb041674a2fe37
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 27 09:06:42 2020 +0200

    Simplify order action validation.

    Order validation per action only checks the sub target. Make it per sub
    target kind instead. This way it won't have to be updated each time a new
    action is added.

    See hrm Feature #870994

commit 734a1bf278a5f0489c5988d437103f053179adf3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 27 08:30:18 2020 +0200

    Make it clear that order targets are per order.

    Put target variables inside the loop in execute_orders() to make it obvious
    that they aren't carried over from one order to the next.

    See hrm Feature #870992

commit a306b4dc792d28f7aa2f938b49be2816b3f0f015
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Apr 24 10:25:08 2020 +0200

    aiair: Unhardcode the OneAttack unit type flag.

    See hrm Feature #870986

commit 991628dd12cd002003c270e01750b872280ec82e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 28 19:55:26 2020 +0300

    Change default extra infracost to 0

    See hrm Feature #871246

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9f86af432afdcda6964eac3a5378758848506ff5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 17:53:15 2020 +0300

    emscripten: Disable configure check for zlib

    See hrm Feature #869884

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e5fd61d8d659a821c00e80e28f33721c78369b8e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 25 14:11:02 2020 +0300

    Convert targetless ACTIVITY_IRRIGATE/_MINE to ACTIVITY_CULTIVATE/_PLANT

    When loading savegame, convert targetless ACTIVITY_IRRIGATE and
    ACTIVITY_MINE activities to ACTIVITY_CULTIVATE and ACTIVITY_PLANT
    activities.

    See hrm Feature #870890

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f9cf79a2f575b45194aed8bfc8b157553e181d6f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 29 20:03:41 2020 +0300

    Qt: Avoid using deprecated QDesktopWidget::screenGeometry()

    Replace its uses with QGuiApplication::screens() followed
    by QScreen::availableGeometry()

    See hrm Feature #871396

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit df91eeb4dba536c363209542328272e70b70b64d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 29 09:26:58 2020 +0300

    Msys2: Create ShortCut from Start Menu to doc/freeciv

    See hrm Feature #871297

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ec7a0cd85aab46c84a1dd4da520d24058df0105d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 30 01:48:18 2020 +0300

    gtk3x: Drop set_relative_window_position()

    Global positions related stuff is dropped from gtk-3.96, and
    our set_relative_window_position() can't work, so just drop it.

    See hrm Feature #871436

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9f8b5b02e93a0009a791d44f92995d61b66fe05d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 24 04:28:20 2020 +0300

    Fix caravan_evaluate_withtransit() result setting

    The function was only initializing the result. It didn't pass
    the result pointer to the callback that is supposed to actually
    set it.

    See hrm Bug #870482

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0135db80adcb1fe50e6ad4028c568ab2bb88f078
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 29 12:02:48 2020 +0300

    emscripten: Disable sqlite3 configure check

    See hrm Feature #871336

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7cddb7fdf68bbab89d9d98610b8634cf97b4a161
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 29 07:38:26 2020 +0300

    Bump version number to 3.0.92.1

    Emergency version number part enabled to test it in master.

    See hrm Feature #871311

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7552915f1c37800c009bb81552c65df5e29cc5a7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 28 07:19:05 2020 +0300

    setting_game_restore(): Set FALSE instead of NULL to bool variable

    See hrm Bug #871167

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 138e6642d5d62ad5444fea94c7b13291d93a9007
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 27 06:53:32 2020 +0300

    Meson: Require gtk-3.0 only when really needed

    See hrm Feature #870981

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 42dfb6dc96cbddf8c275753b447f5ee70774651c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 23 16:37:51 2020 +0300

    Granularity: Add basic Path extra

    See hrm Feature #870424

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c90b531c135f8d032044c226bdd76cbd4c67a0f6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 15:36:33 2020 +0300

    gtk3x: Avoid using GtkButtonBox

    See hrm Feature #869872

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0852f46f0e0af85ed1b2e449dfe926706c0d1627
Author: Zeko <zeko@freeciv.xyz>
Date:   Wed Oct 2 17:15:18 2019 -0700

    Add max_growth CMA parameter that selects optimal food surplus

    See hrm feature #839704

commit 4410f3edecc51900749bb40cd461f3578828f6cd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 29 09:41:18 2020 +0300

    Msys1: Create ShortCut from Start Menu to doc/freeciv

    See hrm Feature #871325

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8ee524d22030b72e51527bd03bbbf5fa92ca2086
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 25 12:08:38 2020 +0300

    Meson: Link Windows libfreeciv against ws2_32

    See hrm Feature #870656

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 489a7707bea51b8797519bf70fef8826a6c8b99b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 22 13:10:43 2020 +0300

    Qt: Make mr_idle::callback_list private

    See hrm Feature #870178

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 53d2ac716d188ba068f51b800ebf52f13512b9a7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 24 03:58:33 2020 +0300

    mapimg_colortest(): Fix compiler warning with -O3

    See hrm Bug #870481

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6af3c6131374022e5a4f61a526df742dc2d13d61
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 25 05:39:50 2020 +0300

    emscripten: Disable icu configure check

    See hrm Feature #870642

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 78fb0335800729c928b9ee26825d56731004e195
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 23 16:40:54 2020 +0300

    dai_effect_value(): Rename 'ai' as 'adv'

    See hrm Feature #870420

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3a3b1c41a8bca8d7fabea2b5d9c8bd7313c256be
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 24 00:43:56 2020 +0300

    Granularity: Set city generated border radius

    See hrm Feature #870478

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit abbc7ff40d9687c5007ad0ececf27444349a0160
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 17 16:34:03 2020 +0300

    AI: Divide aisettler boat cost by multiple trips

    When calculating AI settler want, do not weight boat cost equally
    to settler cost. Settler gets used on the mission, boat can make
    multiple trips.

    See hrm Feature #869673

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c1c68212b922de646e4287c584f45280a2114742
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 23 10:10:12 2020 +0300

    Qt: Tell Qt5/Qt5x mode in build info

    See hrm Feature #870334

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dc6c5a304bd571770db0f4860c508c058f9d5319
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 27 02:12:42 2020 +0300

    Make unit_type pointer from unit structure const

    This makes unit_virtual_create(), and recursively everything that
    uses that pointer, to take const unit_type pointer. That is a lot
    of places.
    Since some code is agnostic whether city is producing unit or
    building, also a lot of improvement pointers recursively turn
    to const ones.

    See hrm Feature #870914

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b2684e6018b7d4cc482609eb3ee3f33398fd45c4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 23 16:36:38 2020 +0300

    Add Infra_Points effect type

    See hrm Feature #870421

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 60e8ef0a7bc0e5881ba61e2b1ce6bbf66c29afd0
Author: Adrian Tam <adrian.c.m.tam@gmail.com>
Date:   Sun Apr 26 17:07:11 2020 -0400

    README.effects: CityStatus ranges in correct order

    See hrm Bug #870328

commit 2e2ce4b7a5b38c0915add67ccb974b1fa96f8add
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 22 01:09:55 2020 +0300

    emscripten: Disable fcdb

    See hrm Feature #870131

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 41687437e1b57b16305362605f70b41b85531a58
Author: Zeko <zeko@freeciv.xyz>
Date:   Sun Oct 13 10:47:21 2019 -0700

    Remove nested event loops in Qt client

    See hrm #846914

commit 333ca2024f74037fe333c5e7c64ef67fdeadb669
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 22 04:24:12 2020 +0300

    is_tile_units_in_range(): Rename maxUnits as max_units

    See hrm Feature #870142

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 59a5b8aa8fa15708c21f06cd4e5c11e317ec2a52
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 27 11:39:39 2020 +0200

    Comment fact fix

commit 6e99a7055027a00fb6d9a4d2aaea1ed17278d727
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Apr 24 08:17:57 2020 +0200

    helpdata: unhardcode the OneAttack unit type flag

    See hrm Feature #870554

commit f9dfff47c44b7ce2856e5511380bf83743fc67f5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 22 11:25:44 2020 +0300

    Meson: Define ALWAYS_ROOT for Windows builds

    See hrm Feature #870170

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ce5dbf555222d55ebf5ce2ebebaf28b529f46734
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 22 13:52:11 2020 +0300

    Qt: Fix plrdialog crash when selected player has no research selected

    The crash also required that client is not attached to a player.
    That can happen at least when it's global observer.

    Reported by Chippo Elder

    See hrm Bug #863815

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c79d4699d88b76ef1b3e7b2810156a5b0bdc08b1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 15:33:33 2020 +0300

    gtk3x: Drop remaining gtk_window_set_icon() calls

    Replace them with with gtk_window_set_icon_name()

    See hrm Feature #869871

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5ea4c8d81934763e15a448236b8f61d9a98b2b8d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 23 08:57:07 2020 +0300

    emscripten: Disable libcurl

    See hrm Feature #870324

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6dff51aab91e3600ef16c11f3b0163fc57718675
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 22 16:15:47 2020 +0300

    Fix Qt-client crash on timeout label update

    Qt-client was calling its new turn setup functionality
    from timeout label update if turn number had changed since the
    previous update. Timeout label gets updated at times when
    client state is not suitable for those new turn setup actions,
    sometimes leading to a crash.

    Call Qt-client new turn setup function by generic
    gui interface instead. New callback is added for this goal,
    called from new turn packet handling.

    Crashes reported by Chippo Elder

    See hrm Bug #857974 and Bug #858251

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dc8649c734887edb217229021eedfa7224590d7b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 22 02:57:22 2020 +0300

    Add MinForeignPct requirement type

    Requested by Lexxie L

    See hrm Feature #857904

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6a12af86d9e1cb50c907d5314ddbfec658fa3771
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 16:21:18 2020 +0300

    Granularity: Set base_pollution to -2000

    See hrm Feature #869881

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 698f013a175278ce1423d2ca6444f6ad74885def
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 19 00:14:52 2020 +0300

    Move common stuff from qt5.m4 and qt6.m4 to new qt.m4

    See hrm Feature #853400

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4dd77f7ad1235a834b01677a815da95f260d93e8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 11:24:19 2020 +0300

    Send infra placing finishing turn to client

    See hrm Feature #851869

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3f8e564d9bcbf7d502b7962e2092fdd3faa782ff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 17 05:34:35 2020 +0300

    Drop europe_1901 scenario from git

    See hrm Feature #778686

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 72b2b9839aeaff5178470fc9e77926cfeba2dede
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 22 06:00:21 2020 +0300

    debug.m4: Set always-active compiler flags last, not first

    This way they override other flags that might affect same things.
    Especially this makes specific -Wno-xxx flags to override -Wall, and not
    the other way around.

    This fixes compile with clang-10

    See hrm Bug #868533

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 587185029a2fffaac3f0c0d4f89543f166e976f2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 08:10:58 2020 +0300

    Increase QT_DISABLE_DEPRECATED_BEFORE to match Qt-5.9

    See hrm Feature #869740

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6a2864acb5f0ed6d7be97b7ba9e74b851bce83b0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 14:18:31 2020 +0300

    Update freeciv-mp-gtk3x to gtk-3.98.1 level

    See hrm Feature #869870

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 173303c7d2648453007839a29e3de3d263a57847
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 00:40:08 2020 +0300

    README.effects: Correct typo "MinMoveFargs" as "MinMoveFrags"

    See hrm Bug #869737

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d266c3ee7b34d4a9cb815d37b90560f8ab562f42
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Apr 21 10:34:33 2020 +0200

    Auto document action failed dice roll.

    Requested by Lexxie L and Marko Lindqvist

    See hrm Feature #869739

commit 50d0e3c45ada00fcb70c6df3ad3231eaf6e38e75
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 20 17:42:55 2020 +0200

    Sanity check Action_Odds_Pct effect action.

    Detect attempts to apply the Action_Odds_Pct effect to actions it doesn't
    change the odds of.

    See hrm Feature #870088

commit 30aa9a11434330bb84c32912694bf951f8d19f7f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Apr 21 10:51:24 2020 +0200

    action_dice_roll_odds(): split out initial odds.

    Split what the odds are before the Action_Odds_Pct effect applies to the new
    function action_dice_roll_initial_odds().

    See hrm Feature #870090

commit d2bd5c447af4985cc727d0ee9a980d4a399f7aea
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 20 23:00:58 2020 +0200

    Kill non conquering paradropping to enemy city.

    Paradropping a unit that can't occupy a city to a tile containing an enemy
    city could result in the unit and the city coexisting at the same tile. Solve
    this by killing any non conquering unit that tries to paradrop to a non
    allied city.

    See hrm Bug #870004

commit 79ffdc9c9d1e2ba2bc2b7b7050b78eb08789dfda
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 07:58:19 2020 +0300

    Qt: Avoid deprecated QDateTime::fromTime_t()

    Replace the call with QDateTime::fromSecsSinceEpoch()

    See hrm Bug #852863

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ee29f6fafae9a5b9a2d9c9672d02f697b8d9bf07
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 20 18:06:07 2020 +0200

    do_paradrop(): move seen tile unit unit saver.

    do_paradrop() had a hard requirement that prevented a unit from jumping to
    its death because the target tile contained a unit it couldn't share a tile
    with for diplomatic reasons, except War, when the target tile was seen. Move
    it to "Paradrop Unit"'s hard requirements and action not enabled explanation.

    The remaining unit savers aren't moved yet.

    See hrm Feature #869994

commit 967ccf77d71cfe7972fa77ac3722b570da7d4908
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 22 13:14:35 2020 +0300

    Comment typofix: callabcks -> callbacks

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 21e8f59f4451fed62f24535b0fbbabcb8b5a9c54
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 12:22:29 2020 +0300

    Add emscripten.m4

    From original patch by ZoltÃ¡n Å½arkov

    See hrm Feature #869747

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dfd0c9a397d42780899a10e13b627ecfec2cb036
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 04:55:20 2020 +0300

    Add requirement type CityStatus

    The only supported value for the new CityStatus requirement type
    is "OwnedByOriginal".

    Requested by Lexxie L

    See hrm Feature #858238

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d8a8d573563480ec33da6c0fc815f7643ae6802
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 22:52:21 2020 +0300

    Qt: Avoid division by zero in chatline default_size()

    Reported by Chippo Elder

    See hrm Bug #863839

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8eaa34a03bcd9098c6f827bc5a69eebb78086dcc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 05:36:41 2020 +0300

    Make name_and_sort_items() to work with NULL city

    When there's no city given, the improvement cost it uses is the
    city-agnostic base cost.

    Reported by Chippo Elder

    See hrm Bug #856546

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 123f3a771c877e0bba34cf49799385473d76f426
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 07:01:13 2020 +0300

    Set 1 the minimum value for endturn setting

    See hrm Bug #853060

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit df055e68d419745c4cf71eb538fc522baa23d7ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 16 14:28:37 2020 +0300

    Bump minimum automake requirement to 1.11.4

    See hrm Feature #852669

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1742ee4994cf3715ff6b93be299a99165c9537ff
Author: Zeko <zeko@freecivweb.org>
Date:   Thu Apr 16 23:04:57 2020 +0300

    Add /playernation command for setting nation and leader name

    See hrm feature 768292

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 19021dc6bb03628ed949dd8383e0cf622e94e128
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 17 01:22:59 2020 +0300

    Cleanup effects.c

    See hrm Feature #869621

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5c3029deefd6dd45f337057558694733a2ea488b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 17 04:13:41 2020 +0300

    sdl2: Drop nation legend display from races dialog main view

    Only a couple of words of the legend fit there at best. Sometimes
    it gave an error when even one line did not fit.
    Complete legends are available via right-click dialog.

    Reported by Chippo Elder

    See hrm Bug #858718

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3e21a65d35c2832c0b472791d98448f1b477c03f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 17 03:21:49 2020 +0300

    Make can_unit_survive_at_tile() aware of UTYF_COAST units

    Reported by Jacob Nevins

    See hrm Bug #869622

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9bd7b9efb328ed9b3bb2aa5aaf14dc1a69e8aca5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 16 22:25:26 2020 +0300

    Qt: Cleanup fonts settings

    Patch by Mir3x

    See hrm Feature #772029

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3cabf45164bbf65c912be23a1fc01b9fa8395dc6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 22:27:00 2020 +0300

    Comment typofix: numer -> number

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 16073410fa29e4b2f44c9399bdc8eda9aafddde8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 16 14:19:38 2020 +0300

    installer_cross: Create correct freeciv-mp-gtk3.exe link from gtk3.22-installer

    See hrm Bug #854122

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 422198397163eb2f418ef26de3fbe876166bb8ca
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 16 13:22:39 2020 +0300

    Qt: Fix assert failure on research dialog building tooltip

    Reported by Chippo Elder

    See hrm Bug #854917

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eec12b37d4e93620608c36584fce640505ee5028
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 16 09:42:12 2020 +0300

    HACKING: Replace list of --enable-debug set flags with reference to debug.m4

    The list was outdated. Let's not try to maintain it, but tell user
    to check from the master list.

    See hrm Bug #855637

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ecb3c7a9a573a2c3034a45af0266a0ecfeeac77f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 13 09:13:30 2020 +0200

    Separate hard obligatory req message from req.

    Separate the requirement that contradicts an hard obligatory action
    requirement and what action enabler requirement vector to check from the
    error message text when the requirement isn't fulfilled. This gives more
    flexibility in the future.

    See hrm Feature #868958

commit b1c1846a346a873f3690aa171123b493629a6c02
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 13 07:18:08 2020 +0200

    Don't advice using the F3 shortcut in Freeciv-web

    See hrm Feature #868944

commit b5f210b8fd24c67eee2ce23091c5173aa1adb836
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 13 09:51:09 2020 +0200

    do_paradrop(): move seen tile city unit saver.

    do_paradrop() had a hard requirement that prevented a unit from jumping to
    its death because the target tile contained a city it couldn't enter for
    diplomatic reasons when the target tile was seen. Move it to "Paradrop Unit"'s
    hard requirements and action not enabled explanation.

    The remaining unit savers, including the one that does the same but based on
    the player's information about a known but not seen tile, aren't moved yet.

    See hrm Feature #868956

commit d78ea8ac8999e4cebbff73e86529bb8dfbe30c5a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 13 07:49:31 2020 +0200

    do_paradrop(): move seen tile terrain unit saver.

    do_paradrop() had a hard requirement that prevented a unit from jumping to
    its death because of the target tile's terrain when the target tile was seen.
    Move it to "Paradrop Unit"'s hard requirements and action not enabled
    explanation.

    The remaining unit savers, including the one that does the same but based on
    the player's information about a known but not seen tile, aren't moved yet.

    See hrm Feature #868949

commit f9191cce26587f56ef2350f5ee193e98cf903035
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 13 06:30:13 2020 +0200

    Organize do_paradrop() into 3 sections.

    Make do_paradrop() less confusing by organizing it into three sections:
    Requirements that should move to other systems, the landing kills the unit
    and the landing is successful.

    Document some of its problems.

    See hrm Feature #868942

commit 739cdf93e02b77b7ffc3bfdc36920fdd9d1f1e6d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 16 09:10:12 2020 +0300

    Qt: Do not try to show enemy move points

    Reported by Chippo Elder

    See hrm  Bug #857638

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 36bf13872f10af1256138f893bea1c72cc0856b4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 17 01:44:46 2020 +0300

    AI: Want cities more when getting them would mean finishing enemy off

    Add an bonus to city want when the enemy in question has only a couple
    of cities left in total.

    Requested by Anton KÃ¶rbchen

    See hrm Bug #855339

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 453bb069c6342782acdc916082aa2dca21985070
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 16 08:48:29 2020 +0300

    Improve documentation of "Nationality" requirement type

    Requested by Lexxie

    See hrm Bug #857353

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 614dbc82390294d05ff3d49b10e8e0a902b5756d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 15 18:18:03 2020 +0300

    Update gettext bootstrap files to gettext-0.20.2 level

    See hrm Feature #869356

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 028ee1edb2a1aed466970a933cd1b1ba2f92e017
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 15 17:32:18 2020 +0300

    Bump version number of supplied scenarios to 3.0

    Some other minor format updates come with this as this was done
    by using /scensave command of current S3_0 HEAD.

    See hrm Feature #682499

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7a9c67f849b4129ae7be2ecdfd42e7342347cc1b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 16 23:38:40 2020 +0300

    Update comment about raise_chance and work_raise_chance

    Comment claimed that they are not sent to the client, but
    nowadays they are.

    Reported by Sim Sulla in Feature #680052

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7b0fe7e44015be9970abf5af6fa6ab765f9b61f9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 15 20:52:10 2020 +0300

    Comment typofix: evalutaion -> evaluation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eb1f4210da49b3760599b8ec69cb60a103c7a576
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 13 19:52:21 2020 +0300

    Qt: Extend lifetime of QByteArrays when their data() is later used

    Replace temporary QByteArrays with ones stored in variables so that
    their content returned by data() stays valid as long as its referenced.

    See hrm Bug #859139

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d9c010701fda075d083aea600adade73cef45020
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 12 17:15:01 2020 +0300

    Fix division by zero when transforming unit with zero move_rate

    Reported by soundnfury

    See hrm Bug #868905

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a895bef6b18c2882b2268c0fecca975127a3b7ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 10 15:30:02 2020 +0300

    Improve coding style of the generated code

    See hrm Feature #868649

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 87f4abf81d530b825d0af772d95fd1ea78503e64
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 7 13:22:14 2020 +0300

    Include <QPainterPath> where needed

    This fixes Qt-client build on OpenEmbedded

    See hrm Bug #868060

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit adbeb2be08c745e05593ad6e2858e43bf5a901b0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 6 07:05:09 2020 +0300

    Fix msys Qt-client build

    See hrm Bug #863755

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9417138817eb656e5baa27a9555df85f9d020318
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 13 21:52:01 2020 +0100

    Tolerate multiple CityTile requirements.

    Technically speaking Claimed doesn't contradict Center. Future properties may
    be completely orthogonal to each other. Tolerate multiple CityTile
    requirements to be ready for them.

    See hrm Feature #864838

commit 8f854d380b6bb55cbf3023a8fca494043f066b5c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 13 09:41:32 2020 +0100

    action_dice_roll_odds(): keep odds in range.

    Action_Odds_Pct can modify the odds out of range. Clip them.

    Reported by Lexxie at https://github.com/Lexxie9952/fcw.org-server/commit/d64b010b69a367bc4699b1b38fc5c98b16db044d#diff-b6b1d12fdaa51d2bd5093279d36e2e96R1616

    See hrm Bug #864613

commit 040efa636b574dd25895b727d9fa7925b7b50e5a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 7 19:05:45 2020 +0200

    Update to crosser-1.9

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ac8c35c75065fad713bbec04a9d524e0051c47c9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 14 09:27:39 2020 +0200

    configure.ac: Don't set compiler debug flags for _mkdir() detection

    See hrm Bug #863322

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aafc646b8cc9882d35a72f2f44fd50ac8a7e5878
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 13 13:27:54 2020 +0100

    Centralize diplomatic defender selection.

    Centralize picking the defender for a diplomatic battle in the new function
    get_diplomatic_defender(). The logic is unchanged: the first defender capable
    of diplomatic combat is selected even if the tile may have a better unit to
    defend it.

    See hrm Feature #864663

commit 79582a29c4a98101176fc31692b38c2ebdd34450
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 13 11:16:09 2020 +0100

    Strike building/production: adjust string.

    Refer to action name as "do %s", rather than assuming it has a main-verb-like
    form, when "Surgical Strike Building" and "Surgical Strike Production" fails
    to beat the Action_Odds_Pct odds in the action failed dice roll.

    See hrm Feature #864644

commit 0d1d979b62daef0c3b5353ac2c75f09e4366f912
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 13 03:09:47 2020 +0100

    Show correct name for the Claimed CityTile req.

    Freeciv 2.6 introduced the CityTile value "Claimed" in addition to the old
    value "Center". The function universal_name_translation() assumed that
    CityTile still only could be Center.

    Update universal_name_translation() so it checks the value and returns a
    matching text.

    See hrm Bug #864579

commit 36697f603c7dde48c325ae9b5798b8db6896d3a7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 13 02:30:29 2020 +0100

    Split strike building/production action performer

    The actions "Surgical Strike Building" and "Surgical Strike Production" are
    no longer the same. Give them separate action performers by splitting
    do_unit_strike_city_production() from do_unit_strike_city_building().

    See hrm Feature #864578

commit 662ec5c2ff2055675492a99f3f735796cf2ceda5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Mar 7 17:04:07 2020 +0100

    Add the InNativeExtra unit state property.

    See hrm Feature #854185

commit 1a5aaebb46ba4801ea0b319156e179725bd0f75a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Mar 3 19:52:00 2020 +0100

    Fix Clang 9 warning.

    ../../server/unittools.c:4678:25: error: result of comparison of unsigned enum expression < 0 is always false [-Werror,-Wtautological-unsigned-enum-zero-compare]
        if (orders[i].order < 0 || orders[i].order > ORDER_LAST) {
            ~~~~~~~~~~~~~~~ ^ ~
    1 error generated.

    See hrm Bug #863758

commit 45c8737bdb1f6b09b56bc965c78274eb086205db
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Mar 7 15:21:55 2020 +0000

    Qt: fix "Gold: 178 (+-2)" on turn change display

    See hrm bug #863755.

commit 93ebeb486b3d5ec60a179033e43250a30d64931b
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Mar 7 15:01:38 2020 +0000

    Undefined behaviour in specvec copy when size==0

    Found by UBSan (gcc -fsanitize=undefined), in the context of loading
    classic ruleset specialists' empty reqs vector. Not known to cause
    visible symptoms.

    See hrm bug #863750.

commit d8790db2f3d9ffb11fe6fdc57170f749c32294d5
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Fri Mar 6 09:28:18 2020 +0000

    Fix client out-of-bounds array access on disband

    This would happen whenever ACTION_HELP_WONDER and ACTION_RECYCLE_UNIT
    aren't valid ways to get rid of a unit but ACTION_DISBAND_UNIT is.

    Reported and patch tested by Chippo Elder.

    See hrm bug #859034.

commit 2808dc9267c9650c8932b761060d821b931f246b
Author: Hilde Bye <lagnason@hotmail.com>
Date:   Fri Mar 6 21:05:35 2020 +0100

    Actprob for the action Airlift.

    See hrm 863338

commit 07e9bc3693738f5dcf2d4fd3c3c4e597a4ad2860
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Mar 5 23:06:40 2020 +0100

    No Illegal Action Move Cost for disembarking.

    Disable the Illegal_Action_Move_Cost effect for "Transport Disembark", for
    "Transport Disembark 2" and for "Transport Alight" in all rulesets with the
    effect.

    See hrm Feature #863341

commit 69cf56cda7fca79dc0640af477125bb88a25b2df
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 26 01:05:30 2020 +0100

    Centralize action failed dice roll.

    See hrm Feature #862919

commit 9351ca9f40bb9def9ee5718a4ae050bd7617fd89
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Feb 25 23:19:16 2020 +0000

    Qt: tweak irrigation/mining UI hardcoding

    Similar to how SDL2 client was changed recently.

    See hrm bug #861867.

commit c483db67e23fa7a05a3ee0c412d3d98f51a3f1b9
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Mar 1 16:31:51 2020 +0000

    Gtk3/4: fog_style "Auto" was too dark

    Fix it to (roughly) match what the Gtk2 client had (65% of normal).

    See hrm bug #862511.

commit e60ce5ab1b9b08dc9bea9df7fdc3b7da62d81b3c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Mar 1 00:20:50 2020 +0100

    clients: targeted no longer hides untargeted.

    The untargeted version of an action used to hide the target version in the
    action selection dialog. The untargeted version was selectable from the
    targeted version's target selection dialog.

    Hiding the untarget version made the UI look like before the actions were
    split. It made the code more complex. It made the UI not map 1:1 to the
    ruleset. It hid the UI name of the untargeted version when the targeted
    version was legal. It doesn't always make sense to only expose the
    untargeted version as an option next to the targeted version's targets if
    the targeted and the untargeted version have been made different enough by
    the ruleset. It was inconsistent with showing the production targeted action
    when the targeted building targeted action is enabled.

    Stop hiding the untarget version of an action when the targeted version of
    it is legal too. Do this in all clients. Considering to drop non targets
    from the target selection dialog of targeted actions can be done later (and
    on a per client basis).

    See hrm Feature #862482

commit c3830000985937b9fbde850b78808e507bdd931b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Feb 29 17:56:01 2020 +0100

    SDL 2 client: remove redundant act sel dlg cb.

    Use simple_action_callback() in the action selection dialog where possible.

    Delete all the old action specific action selection dialog callback functions
    that don't do anything simple_action_callback() can't do.

    See hrm Feature #862468

commit 5bcd5263cda45f6c781e5d28731d92c658ff899e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Feb 29 15:23:47 2020 +0100

    SDL 2 act sel dlg: generic call back.

    Add the generic simple_action_callback() to the SDL 2 client and use it as
    default when no call back is specified.

    See hrm Feature #862450

commit 34f8923f5998bfc7931e668547e4ad9623e40388
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Feb 29 16:30:31 2020 +0100

    SDL 2 act sel dlg: pass action id in item ID.

    Pass action id to callback in the SDL 2 client's action selection dialog.

    See hrm Feature #862459

commit 27d463d8ce8a7953f71d8be9ca8fa2f265dfcc7a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Feb 29 13:11:49 2020 +0100

    SDL 2 client act sel dlg: set units target.

    Assuming all units targeted call back functions will look up the tile target
    id while keeping the units target id undefined is a bug waiting to happen.

    See hrm Feature #862448

commit 20e80406d096796191c067e6098f85487b052b7f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Feb 29 13:07:36 2020 +0100

    SDL 2 act sel dlg: store all sub target kinds.

    Make the SDL 2 client action selection dialog store all sub target kinds.
    This prepares it for support for the action selection dialog itself setting
    sub targets for more sub target kinds than extra sub targets.

    See hrm Feature #862431

commit 773df782079830148dde24cfb09d891759e96e39
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Feb 29 01:36:55 2020 +0100

    SDL 2 client: actor ID from standard location.

    Standardize where the action selection dialog's per action callback
    functions gets the actor unit's id. Have the act sel dlg cb functions always
    get actor unit id from pDiplomat_Dlg->actor_unit_id.

    See hrm Feature #862429

commit a93fd2047d30ba64346cede07e92810d77efa961
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Feb 29 13:07:47 2020 +0100

    Qt act sel dlg: store all sub target kinds.

    Make the Qt client action selection dialog store all sub target kinds.
    This prepares it for support for the action selection dialog itself setting
    sub targets for more sub target kinds than extra sub targets.

    See hrm Feature #862433

commit b59a1e8a84dc120f29b434943e02bc6aebe3cca5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Feb 29 12:58:01 2020 +0100

    GTK clients: fix building sub target encoding.

    Actions that could target a city's current production or an improvement in
    the city were split in hrm Feature #852132. But the (currently unused)
    support for specifying a building as sub target in the action selection
    dialog (rather than in a follow up dialog) wasn't updated to the new simple
    encoding of building sub targets. Update it.

    See hrm Bug #862428

commit a32a00e492f9cc7987d9a3257dc8a5c10fd4906d
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Fri Feb 28 18:51:25 2020 +0000

    Updated Spanish translation by Jordi Negrevernis i Font

    msgmerged from S2_6 efeffaba27. Stats on master:
    core: 84%: 6526 translated, 831 fuzzy, 394 untranslated.
    nations: 100%: 1843 translated.
    ruledit: 51%: 57 translated, 25 fuzzy, 29 untranslated.

commit 3cc0a57a2fb4b1760c11197ba0cb7e99034e6d8f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 26 00:42:43 2020 +0100

    Centralize action fail dice roll odds finding.

    Include the diplchance server setting for actions based on it. Then apply the
    Action_Odds_Pct effect.

    See hrm Feature #861876

commit 875eb89465a9c0c9c2d67b257458046b59ed0c24
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 26 00:41:58 2020 +0100

    actions.c: sort imports.

    See hrm Bug #861875

commit 936577c8c5f81a8da5caf4634993903bd3a5b1e0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 25 17:09:14 2020 +0100

    Int server setting value access.

    Add a function that gives access to the value of integer server settings to
    fc_interface. This can be used to check the value of int server settings that
    aren't sent in PACKET_GAME_INFO. Add an int server setting value checker to
    the server_settings module.

    See hrm Feature #861868

commit 55be574cfd8deb8b4be3568647e51a9648728ef3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 24 10:48:49 2020 +0200

    Update msys2 environment to 200224 level

    See hrm Feature #848624

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0e7791b0a7f3cbbec5936fae0804e7aa038437b2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 25 13:40:29 2020 +0100

    Suitcase Nuke: explain why no actprob.

    Document why Suitcase Nuke (/Escape) doesn't have action probability
    calculation in its TODO comment.

    See hrm Feature #861850

commit 27a9eb6ab60b73705ac0758bf3ce1ea858ff1b18
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 25 13:12:24 2020 +0100

    User actions: accommodate Lua dice rolls.

    Explicitly set the action probability of each User Action to not implemented.
    They are owned by the ruleset. The ruleset author should be able to implement
    dice rolls for them in Lua without getting the wrong action probability sent
    to the player.

    See hrm Feature #861829

commit ae422ce44627ead01a5a8ce350427b526147c8c2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 25 14:15:11 2020 +0100

    Action probability for "Poison City".

    Calculate action probability for "Poison City" and for "Poison City Escape".
    Will almost always be unknown because of potential invisible diplomatic
    defenders.

    See hrm Feature #861827

commit c680ad7aef3729cf942235e8e7104ce0159486ae
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 25 14:11:30 2020 +0100

    ap_diplomat_battle(): support unseen defenders.

    Don't assume that all potential diplomatic defenders are visible when
    calculating action probability. This makes it possible to use it in more
    actions without leaking information.

    See hrm Feature #861825

commit ed6f929f6cf17e43c08119b094b3502960c82b3e
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 23 12:39:09 2020 +0000

    SDL2: show turns / result of bases/cleaning

    In the order button tooltips for Fortress, Airbase, Pollution, and
    Fallout, show which extra they would affect and how long it will take to
    complete the activity.

    See hrm feature #861501.

commit 7498077d86d678279cc1d62d6828375936232055
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 23 16:26:51 2020 +0000

    SDL2: remove never-used order tooltip strings

    These were overwritten by context-sensitive strings before anyone could
    see them.

    See hrm bug #861500.

commit 9d0432728c131c17a7ad3ca46ca71cda5ed16878
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 23 12:52:07 2020 +0000

    Remove traces of auto-attack order in SDL2 client

    This was functionally dead code.

    See hrm bug #861499.

commit e8d9f1ed5646dfd2c53b931de920a20488d09c1d
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 23 16:30:10 2020 +0000

    SDL2 order button turn estimates were very wrong

    The time to completion reported in the tooltip on buttons like
    irrigation did not take into account unit activity rate, so were too
    pessimistic by at least ACTIVITY_FACTOR (10x).

    (This change adds a general function turns_to_activity_done() which
    accurately calculates how long an activity would take to complete if a
    given unit were to start work on it now.)

    See hrm bug #861460.

commit 493bbf73c648eefe7596b5b929e7d809e111abc6
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 23 15:10:09 2020 +0000

    Fix middle-click popup for some complex rulesets

    In a hypothetical custom ruleset where different activities could cause
    creation or removal of a single extra, the middle-click tile info popup
    got very confused about the activities and their completion time if
    those two activities were ongoing on a tile simultaneously.

    Also, split out the turn calculation to a separate function, as I'm
    about to need it for something else.

    See hrm bug #861509.

commit 78d0025dab106e86a31d482257362044a8c20350
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 23 14:48:28 2020 +0000

    Don't prevent pillaging of non-infra extras

    It was possible to give extras with cause "Pollution", "Fallout",
    "Appear", "Hut", or "Resource" an rmcauses of "Pillage" in a custom
    ruleset, but actually issuing a pillage order did nothing.

    See hrm bug #861508.

commit 86c62eb8242d4fe1b57a14c1877d715e1b3b3bc6
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 23 10:59:10 2020 +0000

    Improve SDL2 mining/irrigation UI hardcoding

    It still has some hardcoding that works best with rulesets like
    'classic', but it should adapt a bit better to different rulesets now.

    See hrm feature #861498.

commit c8881b85d6911270d1a3f94961bae8ffdd57524f
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 23 13:00:02 2020 +0000

    SDL2: make fortress/airbase keys as documented

    From 2.6, the keys were supposed to become Shift+F/Shift+E respectively.
    Gna patch #5076 claimed to fix this, but it only changed the UI text;
    the actual recognised keyboard shortcuts were still unshifted.

    See hrm bug #861497.

commit f7ab15f392d39602ce3187c7770d5e891cf24137
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 22 15:26:30 2020 +0000

    SDL2: pluralise worklist length message

    See hrm bug #861462.

commit bfd243d1901d05e30fee3a82986b26cc6275f46d
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 22 22:23:44 2020 +0000

    SDL2 climate change icons not updated sometimes

    See hrm bug #861479.

commit f360afb4ed83c10e7993a25418928023758a8ac0
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 22 22:23:19 2020 +0000

    SDL2 worklist UI not reliably refreshed

    See hrm bug #861461.

commit 5c49fa4b0c6ac84b74d6adef10d49a777f5dd410
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 25 13:24:04 2020 +0100

    Strike actions: explain why no actprob.

commit 5fc3a22b3a1681d80c68b9ec0b8f0cf0b78ca239
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 23 01:43:34 2020 +0200

    Fix clang-9 warnings

    This is a port to master from the complete patch for S3_0.
    There might be some master-specific warnings that this does not catch.

    See hrm Bug #859248

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4b29d6320d8f12337a2f25dc0a99eb6b79e6d4ef
Author: Hilde Bye <lagnason@hotmail.com>
Date:   Tue Dec 17 18:55:59 2019 +0100

    Actprob for transport (un/)load actions.

    Add action probability for transport unit entry and exit actions.

    See hrm Feature #852981

commit bc110fd68043ec7cae8ead1c187ec1a2d8dae9e1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Feb 22 23:10:41 2020 +0100

    Travis CI: work around homebrew + Travis issue.

    The Travis OS X builds started to fail because Travis failed to use homebrew
    to install SDL 2. It failed because it couldn't find the bundle command.
    Looks like homebrew renamed it and that Travis didn't update its OS X image.

    The work around is to update homebrew until Travis updates their images.
    Solution found in casconed's comment at
    https://travis-ci.community/t/macos-build-fails-because-of-homebrew-bundle-unknown-command/7296

    See hrm Feature #861472

commit dcaa93b3f905e307763da940ea7e369616471a71
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 22 20:56:36 2020 +0000

    SDL2: explain what a gui_layer is

    And how a widget's coordinates relate to it.

commit 5b2d753174606a0ecdcb699630518bf83338cc4b
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Feb 20 00:44:49 2020 +0000

    Gtk: don't default to merged messages/chat layout

    It's not a very friendly default for new players.

    Gtk3+ can still default to it on first run, if they determine the
    screen to be small. (Like other similar options, any Gtk2 setting is
    ignored on first run, so on this branch we can forget the Gtk2 setting
    and its associated migration code.)

    See hrm feature #860624.

commit 94da0441a68c87bed975e80feea592a696c4bf36
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Feb 20 01:29:13 2020 +0000

    Remove Gtk2 options that aren't migrated to Gtk3+

    The 'fullscreen' and 'small_display_layout' options are deliberately
    ignored when doing the Gtk2->Gtk3 migration, so there is no need to
    retain knowledge of them on this branch, now that it no longer has a
    Gtk2 client.

    See hrm bug #861147.

commit 34410e74af93e5947c8232dc932e8fe79ea17435
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Feb 19 22:58:42 2020 +0000

    Fix comments around gui_gtk_message_chat_location

    I'm not sure whether the comment that these options' default was ignored
    was true when I wrote it in 2010; but it's certainly not true now.

commit 49ac7ca2ee16eace657daf2bf63af848999d6db7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 17 00:29:51 2020 +0200

    fc_version: Separate entering beta mode from releasing beta1

    This is an process documentation update.

    See hrm Feature #860640

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 421f80138528fe23f9d95a530caf31888db32645
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Feb 14 09:07:04 2020 +0100

    Travis CI: configure arguments to separate lines.

    Break up the ../autogen.sh calls so each argument is on a separate line. This
    increases readability and makes travis-build.sh more git blame friendly.

    See hrm Feature #860094

commit 46f22c251d36539d5059bd1876a46dbb024cc9ab
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Feb 13 15:11:59 2020 +0100

    Sanity check actor move cost actions.

    Only units can pay a cost in moves. Verify  that actions required by the
    Action_Success_Actor_Move_Cost have a unit actor.

    See hrm Feature #849882

commit 1a8d9a3958a8118a851d1fea4615b847fe30ebcb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 14 06:07:49 2020 +0200

    Qt: Correct capitalization of the Map Image file name

    See hrm Bug #860076

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8eb918281dd4b73d8aea2122fe4e5b4a455ca914
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Fri Feb 14 22:02:21 2020 +0100

    Updated French translations
    Started coherency check among branches, but too late to make it for 2.6.2 - It will be finished later...
    Also tried to be more consistent with the capitalization policy of the English strings : capitalized unit, tiles & government names.

commit c143df38063763c8765ecae4dac65f007932ad90
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Fri Feb 14 16:22:39 2020 +0500

    Update for Russian translation.

commit 0823ceb315ab83fa14e87cb48fb3d81707516df9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 12 18:56:39 2020 +0100

    "Nuke City" and "Nuke Units": ruleset max range.

    Allow the ruleset to set max range for "Nuke City" and "Nuke Units". This
    makes them consistent with "Explode Nuclear".

    See hrm Feature #859845

commit 207f5617b0a8f7acdb93d708709925c6520cefeb
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 12 18:41:51 2020 +0100

    rulesave: save all var named action properties.

    Save action kind, min range, max range and actor consuming always if a var
    name is defined. It is too easy to forget to add saving by hand.

    Group by action.

    See hrm Feature #859843

commit 14459f564fff7ae9d3fc89bcd5708ae121af2e07
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 14 05:35:26 2020 +0200

    Update Finnish translation

    Merge Sini Ruohomaa's S2_6 update to later branches.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a623e13f5ac5a539c6b90afacc667f4266ceae2e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 12 12:38:18 2020 +0100

    sandbox: demonstrate "Spy Attack".

    See hrm Feature #859809

commit c4142ed6a9c8558d3fdb6878d0f2bb392e5b8ddc
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 12 10:02:18 2020 +0100

    Add the new spy action "Spy Attack".

    Fights a diplomatic battle like when surprised by a diplomatic defender while
    trying to perform another spy action.

    Before gna patch #5300 attempting to bribe or to sabotage a unit capable of
    diplomatic defense would trigger diplomatic combat with no follow up
    action since the actor or the target would be eliminated. Allow rulesets to
    bring this back.

    See hrm Feature #859163

commit 27888e21dc16535dbbb1befae047b3b2dd7dd889
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 12 09:05:34 2020 +0100

    diplomat_infiltrate_tile(): pass defender owner.

    Some action performers may wish to be informed who the owner of the unit that
    defended against its action is.

    See hrm Feature #859794

commit ce59216187a0b7bc9e861a7596345ee9ff1ac90b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 12 08:35:57 2020 +0100

    diplomat_infiltrate_tile() without primary victim

    It is possible to imagine an action without a primary victim player. An
    action targeting a stack of units with different owners is one example.

    Allow using diplomat_infiltrate_tile() in an action without specifying a
    primary victim player.

    See hrm Feature #859778

commit c49feaa380d04d89a683f0940d4787497c1510b9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 12 11:01:28 2020 +0100

    ap_diplomat_battle(): indention fix.

    Fix misleading indention.

    See hrm Bug #859775

commit f568f5bb700de1aa11178991e37898b557cba21c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 12 10:01:06 2020 +0100

    ap_diplomat_battle(): stop assuming unit target.

    Stop assuming that the target kind of the actions ap_diplomat_battle() checks
    the diplomatic battle probability off is individual units.

    See hrm Feature #859761

commit f7827dc24147d99c2b26e0033f7d6e8f1f9cfd99
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 12 08:08:34 2020 +0100

    Auto document diplomat battle of "Spread Plague"

    See hrm Bug #859759

commit af50b285bea1cec8d0633ad0426dc02d8905c0bd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Feb 9 12:06:25 2020 +0100

    Streamline ruleset settable action consuming.

    If an action always will consume its actor can be set in the ruleset for
    some actions. Centralize ruleset variable name.

    See hrm Feature #859740

commit 268986ca6a54566111892288bc9c1cab1c3605c8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 11 18:12:09 2020 +0200

    Update Finnish translation of ruledit domain

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b07320f90acadf2a5a1a7d8cdfa8cb281631499a
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Feb 11 09:59:11 2020 +0000

    Updated Polish translation by Hubert Kowalewski

    merged from S3_0 9316628d76. Stats on master:
    core: 97.9%: 7587 translated, 117 fuzzy, 46 untranslated.
    nations: 100%: 1843 translated.
    ruledit: 86%: 95 translated, 8 fuzzy, 8 untranslated.

    (This fixes the UTF-8 msgid confusion in the previous update.)

commit 86e6459c7de210c5be15f5fc6d456e8e6a548f82
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 9 13:32:17 2020 +0000

    GUI modpack installers: fix message display

    Some messages were allocated on the stack in frontend-independent code
    and being passed to another thread and accessed after they went out of
    scope.

    Reported by Chippo Elder.

    See hrm bug #858823.

commit e412315a9f6759d7fb93d698bfffa91426e0c715
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 8 22:46:35 2020 +0200

    citydlg_common.c: Include stdarg.h

    See hrm Bug #859209

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 222f4d006c6609059e4c1edc7216b6fc88bfb42c
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 8 13:02:31 2020 +0000

    Gtk3+: set size request on unit buttons

    To stop the main view jumping around when the size of the unit stack
    changes (with wide tilesets such as hex ones).

    See hrm bug #858871.

commit 74cb0d3f3931e3b14d4648a9cc880654cbc44845
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Feb 7 19:36:37 2020 +0100

    Add the new spy action "Spread Plague".

    Bio-terrorism. It triggers a plague in the target city artificially. If
    illness_on is FALSE the plague won't spread along trade routes. In that case
    "Spread Plague" becomes like "Poison City" except that the actor unit can get
    caught in a pre action dice roll. (See the diplchance server setting and the
    Action_Odds_Pct effect.) "Poison City" and "Spread Plague" can both be
    stopped by a diplomatic battle.

    This represents relatively low tech bio-weapon usage. Slightly more
    sophisticated than using catapults to sling victims of the bubonic plague
    over the city walls, but not much. I assume that current bio-weapons has
    optional features like limitation of reach by giving the biological agent
    high mortality and quick onset of symptoms, limitation of reach for the
    deadliest parts of the payload by giving those parts a high probability of
    mutating away before the biological agent has time to spread to its creators'
    population, ethnic targeting, and the increase of reach and target population
    panic by making the agent contagious before onset of symptoms, a long
    incubation time and a dramatic way of killing its victims. This action can't
    do that. That would require a system for bio-weapon design (where
    capabilities are chosen), development, testing and spread when released.

    See gna patch #5537
    See hrm Feature #859148

commit 885238643597958aa7176453b4dc92080fdee2d0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 7 21:08:38 2020 +0200

    Qt: Fix heap-use-after-free in nations dialog

    Reported by Chippo Elder

    See hrm Bug #858212

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a8215cd3914ae6e504b108d691a17b982f6d21e9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Feb 6 16:56:56 2020 +0100

    Display airlift capacity in the city dialog.

    Make the Qt client and the GTK clients display the city's current airlifting
    capacity in their city dialog.

    Tested by Chippo Elder

    See hrm Feature #858965

commit 61a80133a7c678ee2245eb5f5a9e9d846c11c91d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Feb 6 18:37:24 2020 +0100

    Comment clarification

commit baf743c87f93c149b0d0aacf404a23831a242290
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 8 18:26:37 2020 +0000

    TRANS comments about leading spaces

commit c9301d462a23d925acad11ca8810b97d74250544
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 27 04:45:53 2020 +0200

    Enable -Wtype-limits in --enable-debug builds

    See hrm Feature #855476

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 18e608c37efc53f4ea997cf6d83e1315487fe15e
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Feb 6 00:52:51 2020 +0000

    Fix player colours when ruleset overrides tileset

    When a ruleset's suggested tileset was accepted (automatically or by the
    user), the parts of the tileset depending on player colours weren't
    reliably being initialised, leading to effects like no visible borders
    and assertion failures when trying to draw them.

    Reported by Chippo Elder.

    See hrm bug #858072.

commit a61897320f3e2c167a363323f7a0e127f25e8997
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 3 01:13:57 2020 +0200

    Do not unqueue mapview updates when tileset is not fully loaded

    Timer initiated unqueue was sometimes crashing in the middle of
    a tileset change.

    Reported by Chippo Elder

    See hrm Bug #858069

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 486bce2328332a95ad8b5e883d273e0ec3ff7edd
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Feb 6 23:49:00 2020 +0000

    Merge current S2_6 en_GB translation

    From b5d01adc0a. Stats on master:
    core: 81%: 6265 translated, 999 fuzzy, 466 untranslated.

commit e4ea7914db4ccc8c928f96229599b87154adcb24
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Feb 3 21:38:16 2020 +0000

    TRANS comment about tileset types

commit 5fa96c064c65cccbaa160c411b141f3332cae7a6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 4 14:36:17 2020 +0100

    Ruleset defined max range for "Airlift Unit".

    Introduce airlift_max_range. Unlimited airlift range may be a bit much in
    some rulesets.

    See hrm Feature #854978

commit 481826d46b628895cbd63f7f16fed76c08cb02a6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jan 10 07:25:47 2020 +0100

    Limit Disrupt Supply Lines targets to land units.

    Limit Sandbox and Webperimental's Disrupt Supply Lines user action to land
    unit targets.

    See hrm Bug #855200

commit f32a2bae0e88f665021b579af12c346b20e86c6d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 3 00:27:59 2020 +0200

    Fix ghost unit issue when unit is loaded to an transport on the same tile

    Reported by Chippo Elder

    See hrm Bug #858214

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3fa205f618b14067c59ad4e5d3dcef37ba370f05
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Feb 3 21:28:39 2020 +0000

    Tweak topology-related strings

    Standardise on "overhead" as terminology for non-iso, non-hex maps; get
    rid of notion of topology 'index', now that setting is a bitfield; etc.

    See hrm bug #858226.

commit 64eb7499d51fddbf41889f430d93c22919636980
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 3 01:08:30 2020 +0200

    Fix error message typo; "reparing" -> "repairing"

    See hrm Bug #858243

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5998d0237f7c0d21aeae919f9fa819be2e67bd33
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 2 16:34:50 2020 +0000

    A few miscellaneous string tweaks

    Including moving toward standardising on referring to action names as
    "do %s", rather than assuming they all have a main-verb-like form.
    ("You're Fired" does not, and "Recycle Unit" is dubious in some
    contexts.)

    See hrm bug #689474.

commit 9673cadface7346cd0f815bd0895a70b3ddb8ea1
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 1 22:24:14 2020 +0000

    Rework GUI option migration

     - Don't try to migrate anything on first run. (This was probably
       harmless, but unnecessary.)

     - On first boot of a client, mark all migrations relevant to it as
       done, so that they can't accidentally trigger on subsequent runs.
       (For instance, if the user explicitly enabled full-screen on first
       run, migrate_options_from_2_5() could clobber it back to FALSE on the
       second run.)

     - Avoid an enabled fullscreen setting from pre-2.6 Gtk2 leaking though
       to Gtk3.x/4; as with migration from 2.6+ Gtk2, we want to start again
       from defaults for this setting.

     - In the Gtk3.22/4 clients, migrate a pre-2.6 fullscreen preference that
       would have affected the pre-2.6 Gtk3 client (if there is no newer
       Gtk3-specific fullscreen preference).

    See hrm bug #858208.

commit 33756f17f9ddecff99647c36e3d2a16374d3568b
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 1 22:23:14 2020 +0000

    Don't migrate small_display_layout Gtk2->Gtk3

    The Gtk3/4 clients may decide to override it to TRUE anyway, but if they
    don't, we don't want a TRUE from Gtk2 leaking through anyway; we want it
    to be freshly evaluated, as for a fresh boot of the Gtk3/4 client(s).
    (The same as the 'fullscreen' setting already is.)

    See hrm bug #765941.

commit 59ff7b4083fab6c480cb7ac45df5213ca0ffbf86
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 1 21:52:08 2020 +0000

    Abolish client_option_adjust_defaults()

    The only client that was using this GUI-independent mechanism was Gtk,
    and it was being called too early to actually work properly for Gtk.

    Remove the nominally client-independent interface, and instead do the
    Gtk adjustments at the same time as option migrations.

    This fixes two problems with the Gtk screen-size-dependent adjustment:
     - It was attempting to determine screen size before gtk_init(),
       which caused a return of 0 (unknown), so it would not actually adjust
       anything.
     - It was adjusting options before the GUI-dependent command-line
       options had been processed, so "-- --resolution" could not affect the
       adjusted behaviour.

    See hrm bug #858203.

commit 11da066462fff362961a511f140eb6bf72ebc390
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 1 21:27:39 2020 +0000

    Gtk: don't default to small screen layout

    Gtk3.x/4 clients will now enable the small layout on first run if they can
    determine that the screen is <1024px high (previously it was the other
    way round).

    Add a bit more logging to the area.

    See hrm feature #858179.

commit ce2bff9ee3c62e0b1ae698af45e5f13d1f70be13
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 1 18:52:17 2020 +0000

    Gtk3.22/4: adapt to screen size

    Enable all the mechanisms that the Gtk3 client has to adapt to screen
    size, using the primary monitor of the default display (if available).

    See hrm feature #858202.

commit 7798ace058c724927ae054e036247825f6698ca7
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 1 21:52:44 2020 +0000

    Treat client rc load failure same as first run

    Since it uses defaults, just the same as when no rc file was found.

    This also applies if a path to a non-existent file was specified with
    the FREECIV_OPT environment variable, causing creation of a fresh one.

    This change has little practical effect right now. It causes the Gtk3
    dynamic option adjustments to be invoked, but they don't actually do
    anything right now. It suppresses some spurious "Migrating [...] from
    freeciv-2.5 options" messages (the actual migration had no effect).

    See hrm bug #857675.

commit e2a2247ed3a6b0dc3cdea306d8005365de47215a
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 2 02:28:07 2020 +0000

    Fix defaults for migration_gtk2/gtk3_from_2_5

    They were swapped. This might have caused a user full-screen preference
    to be clobbered in some obscure sequence of different Gtk client starts
    after upgrading or starting with 2.6+.

    See hrm bug #858207.

commit 6227290d8aab566d434859720dede2204c30b52e
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Dec 29 12:36:55 2019 +0000

    Clarify description of 'mgr_distance' setting

    After reports by Corbeau and Ignatus on the forum.

    See hrm bug #854305.

commit 4b6cb2ce87d52d58fd3156483f838847fefc8a42
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 1 14:40:52 2020 +0000

    Correct help about city defense bonus

    Reported by 'fomalhaut pa', fix suggested by Marko Lindqvist.

    See hrm bug #763061.

commit de9c555f5b829b86aa75117f88cf4899d4f6e15c
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 1 14:26:13 2020 +0000

    Describe worker tasks in online help

    Requested by Marko Lindqvist.

    See hrm feature #657405.

commit 135d43eed02d62a8a14076b663553040d6c4fba2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 10 12:58:47 2020 +0200

    Fix type-limits warnings from report_demographics()

    See hrm Bug #855542

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e17389b201a923309ad65ad660d81c3962f9918d
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 2 15:10:05 2020 +0000

    Add missing toonhex.tilespec to POTFILES

commit f39eef49cc00f6a6e9c8857a6c9c971693870015
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 2 15:08:58 2020 +0000

    Alphabetically sort tilespec files in POTFILES

    No functional change.

commit 951e1d4aa29f0c1a2ab9b39c4e450e97fa746554
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 2 15:17:23 2020 +0000

    Fix toonhex.tilespec for string collection

    Fix 'unterminated character constant' caused by apostrophe in comment.

commit 6f5af46cdf87f6090a8bb3f855504101272e8881
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 2 11:22:15 2020 +0000

    Miscellaneous TRANS comments

commit 240348fc2beb2c07539a39f2410f8f509b7a1f30
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 30 17:45:23 2020 +0200

    qt: Properly NULL-terminate gfx file extension list

    Reported by Chippo Elder

    See hrm Bug #857808

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9a50389cffd6904bfa16b6f4e763cc67d77bd67d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 28 17:59:37 2020 +0200

    gtk3.22/gtk3x: Migrate settings all the way from gtk2-client

    Requested by Jacob Nevins

    See hrm Bug #856682

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ce8d9b396bb881fc921979ae93a802cd3825a6ce
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 27 04:32:46 2020 +0200

    Make tech parasite effect to count teams, not players

    Reported by fomalhaut pa

    Tested by Chippo Elder

    See hrm Bug #817118

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7be357005455ab53e97eb95aa9a196e9fb86aa9e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 11 05:49:20 2020 +0200

    Fix type-limits compiler warnings from log_parse_level_str()

    See hrm Bug #855539

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5c5ef9e34c74083714a025b171a7e0ca428775ef
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jan 26 12:37:39 2020 +0000

    Gtk3.22/4: fix city dialog emergency highlighting

    The red highlighting of things like famine only showed up the first time
    a city dialog was opened.

    The custom style provider continues to exist throughout, but was not
    being associated with the new widgets of city dialogs after the first
    time, so those new widgets' "emergency" style had no effect when applied.

    See hrm bug #856484.

commit 4f9d5c695dcc754166f9f524153d9b028a62a7a2
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 25 14:18:05 2020 +0000

    Qt: use fixed-width font for city dialog popups

    See hrm bug #857341.

commit 9952f52aa7dd0092c749b9f68f40ff7e97c754a9
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 25 22:02:59 2020 +0000

    Qt: take more care over HTML-escaping

    Various ruleset- and user-defined text was being interpreted as
    (Qt) HTML in some contexts without being HTML-escaped.

    This is not a complete fix -- tooltips in particular are still a bit of
    a crapshoot -- but it improves the situation a lot.

    See hrm bug #857342.

commit dafc58729b5f7ac9e9716a3c7a5bb954a52d6fd1
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 25 17:54:08 2020 +0000

    Qt: &-escape ruleset and user text

    Various menus and buttons were letting ampersands in user and ruleset
    text cause unwanted mnemonics.

    See hrm bug #857340.

commit 0cceb917f68df0029f0da24c2a53ea714a7ad817
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 25 20:00:23 2020 +0000

    Escape mnemonics in action UI names

    If a ruleset's action UI name happened to contain a client-specific
    mnemonic character (such as "Steal&Escape" with the Qt client), it could
    cause unwanted mnemonic effects in that client.

    See hrm bug #857339.

commit 1730776a3cedeb0754c2f57a2436f7d4cf261259
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jan 26 00:33:13 2020 +0000

    Sanity check ruleset's unit capacity against cargo

    See hrm feature #857338.

commit 294c1a5c7a7493a2f1cfd33f0c2c1de9de108f72
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jan 26 00:32:26 2020 +0000

    stub/granularity: Generic Ship had no cargo

    See hrm bug #857337.

commit 9d044f6afd1d8adf0c9ee77cce69d2f5a10bb673
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 25 22:19:32 2020 +0000

    Qt nation report showed own gold/gov as unknown

    See hrm bug #857334.

commit 814fe64619f01a5db80e9e5a7b2c5b572bd24d91
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 25 20:52:42 2020 +0000

    Qt client didn't translate nation set descriptions

    See hrm bug #857331.

commit b6bd5b0726aba4edeae1d6211f6db2937a901820
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 25 23:45:44 2020 +0000

    Gtk: fix 'weight' property in tech help

    We were passing a string instead of a number. As well as not giving the
    intended result, this could lead to console messages like
      GLib-GObject-WARNING **: [...] value "-1453617302" of type 'gint' is
        invalid or out of range for property 'weight' of type 'gint'

    Message reported by Chippo Elder.

    See hrm bug #857203.

commit f4d6a83e07e73e893ea5d98f094fc9239226327d
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 25 23:27:14 2020 +0000

    civ2civ3/sandbox: fix Statue of Zeus help

    It wasn't clear that it affects happiness in every city of its owner,
    not just the city containing the wonder.

    Reported by Chippo Elder.

    See hrm bug #856984.

commit 1feefb557e15b58edc548f737bdc678e9879821f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 27 04:24:27 2020 +0200

    Introduce clause_enabled()

    This initial version cares about settings that are constant
    over the game. Many of the potential callers are not ready
    to handle non-constant returns.

    See hrm Feature #768141

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c9cc00e86601dba3c7fa156ca963f2625c54ee4d
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Sun Jan 26 18:14:14 2020 +0100

    Updated French translations
    (headers included)

commit 16948af158ddc56736cc6edd3b5e464a1bf27ce6
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jan 26 13:47:33 2020 +0000

    Merge current S2_6 en_GB translation

    From 53bf835b80. Stats on master:
    core: 81%: 6248 translated, 1008 fuzzy, 472 untranslated.

commit 582c64e8772b5eea90374793979c909e2ec49440
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 25 00:59:09 2020 +0000

    Gtk3.22: shortcuts for musicset selection dialog

    Missed in hrm bug #857082.

    See hrm bug #857239.

commit 2d7e624d07fe635b7d7478815c6bcff3e8c1d1fb
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Jan 14 01:19:29 2020 +0000

    Display city history points per turn in client

    This is now shown in:
     - the city dialog, in the popup sum for "Culture";
     - the city report, on the "History" column.

    See hrm feature #857084.

commit 053d3d08d4d42f40b32beb17bd8efd22c0627b14
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jan 22 21:43:34 2020 +0000

    Add nation history gain per turn to info popup

    This is based on client knowledge only.

    See hrm feature #857083.

commit f48ea47abf8d547e8722852a7cbfbb41dbca5bac
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jan 22 21:47:43 2020 +0000

    Gtk: shortcuts for ruleset-preference dialogs

    Add keyboard Alt-accelerators for the dialogs shown when the ruleset
    wants to override the tileset, soundset, or musicset.

    See hrm feature #857082.

commit dd8d92c7a30c11be1f8bf349eb3077dfb4425f0e
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jan 22 00:46:08 2020 +0000

    Use research_pretty_name() for Lua script API

    Most code describing research groups would return a nation plural for
    1-player teams, but Lua (Player):research_name_translation() would
    return "Team 2". This made the embassy "Team 2 acquired ... from scrolls
    of ancient wisdom" message inconsistent with other research-related
    messages.

    This changes the grammar of what the Lua method returns, so scripts
    which use it need adjusting.

    Reported by Chippo Elder.

    See hrm bug #855670.

commit 85f2c14435b57ff104cac0149fb63bb1c4841369
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Jan 21 23:56:31 2020 +0000

    Always update menus on tech gain/loss

    It was possible for a tech change that granted a new government type not
    to refresh the governments submenu.

    Also add a menus_update() when receiving a player_info packet, on
    general principles.

    Government/tech trouble reported by Chippo Elder.

    See hrm bug #856629.

commit 86c44fe4f79e5c9a85cb64e2bf47109f985d4c38
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Jan 21 22:45:33 2020 +0000

    Goto path waypoints weren't displayed sometimes

    They were only displayed if the tile already had some other path marker
    on it.

    See hrm bug #856946.

commit 36b19949b37722c9d8644513dc8e82ad966b03fa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 10 20:36:28 2020 +0200

    Qt: Don't compare equality to 'true' or 'false'

    See hrm Bug #855482

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 004dac959afaa7940d9f97e40b83c845f2abb3f5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 21 17:50:37 2020 +0200

    msys1: Convert langstat files to ISO-8859-1 when building installer

    This fixes display of name of the language "Norwegian BokmÃ¥l"

    Reported by Jacob Nevins

    See hrm Bug #852637

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 22cfc27434c798ba40c3ec648d9e23f88fd23a10
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 18 17:40:36 2020 +0200

    gtk: Clear citizens icons beyond topmost when refreshing citydlg

    Reported by Chippo Elder

    See hrm Bug #856117

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c15ef7c413c2fe130be599c296bb3e15808cdb4b
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 18 23:07:50 2020 +0000

    Fix uninitialised read when sending city info

    For cities with no rally point, parts of packet_city_info were left
    uninitialised.

    Found by valgrind.

    See hrm bug #856481.

commit 76b9d4998c555690d7bb34a7d77974dad7dc9c0c
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 18 23:06:10 2020 +0000

    Fix uninitialised data loading units from savegame

    For certain orders, sub_target could be left uninitialised, causing
    trouble later when unit info was sent over the network.

    After a report by Chippo Elder.

    See hrm bug #856480.

commit f256b3ab5cf68419db30da60e58e365d06da00c7
Author: Christian Prochaska <cp.ml.freeciv.dev@googlemail.com>
Date:   Mon Jan 20 19:14:48 2020 +0200

    Update msys1 environment (iconv)

    See hrm Bug #852637

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 07203e4c3b8c3fd39fc77963680c33bca7148102
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 18 18:00:38 2020 +0000

    Enable -Wold-style-definition with --enable-debug

    See hrm feature #856477.

commit e99e30595b91a43b2b380ba5a5ba8a5a07eb9a7d
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 18 18:00:28 2020 +0000

    Fix -Wold-style-definition compiler warnings

    See hrm bug #856478.

commit 15fea6a008e63ffeb7a91d9cc326b24487c89e13
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 20 05:07:46 2020 +0200

    Qt: Properly scale multiplier value to display units when opening dialog

    See hrm Bug #855486

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4d978134d0057d517a698d4926ae4f33b3444f5c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 18 10:21:55 2020 +0200

    Fix parsing of per-file debug log levels

    See hrm Bug #855477

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 446cc3998ae1c89ecf06440b25d24d5faca87dce
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Jan 16 01:47:44 2020 +0000

    Rework sum display in city dialog

    Invent a new 'city_sum' facility, that accumulates sum contributors and
    their effects, merges duplicate descriptions, and optionally accounts
    for any discrepancy between the accumulated and 'correct' total.

    Also, the "plague" sum now shows the original size of any bonuses from
    effects (e.g. "Bonus from Aqueduct (-50%)").

    See hrm feature #856260.

commit 3d1da7b8148ed1755785ed17ad057f7cd1a9cf1f
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Dec 29 12:27:50 2019 +0000

    astring: expose varargs method astr_vadd()

    See hrm feature #856256.

commit 910e56f74b0e1301affb5d8f9172accf9f7caaf8
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Jan 14 09:38:36 2020 +0000

    Fix description of "Multicultural" achievement.

    In 55945b78d0 (hrm bug #689474), I erroneously changed rulesets to imply
    that it required multiple nationalities in a single city; but it's
    across an entire nation.

    Update README.achievements to clarify this.

    See hrm bug #855938.

commit 653c930220a4cd1da4744f0bde7da0aa0c8d0559
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 11 05:43:07 2020 +0200

    Disallow negative line numbers in per-file debug log level definitions

    See hrm Feature #855537

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6c934d0c288df27d7c1fdc80ee9b13fa377fd809
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 12 03:39:56 2020 +0200

    CodingStyle: Instruct usage of fc__fallthrough

    See hrm Feature #853526

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9e181103e4ce83b6f3947360863513c8c11c3b4d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 9 07:28:31 2020 +0200

    Fix sign-compare compiler warning from genlist_sort()

    See hrm Bug #855389

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0d40d98b79d49fd05a740d9193ba2f71d3090d0c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 11 11:05:40 2020 +0200

    create-freeciv-gtk-qt-nsi.sh: Drop mention of gtk2 from comment

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 20bb8888329cb6906f280bb62c7d1211a631078c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 9 05:06:22 2020 +0200

    Qt: menus_sensitive(): Add missing break after DISBAND key handling

    See hrm Bug #855366

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c707c35c3e253e89fc4489804fdc0699d7d6d4ec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 9 04:48:07 2020 +0200

    Use fc__fallthrough where needed

    See hrm Feature #854739

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 69099ecbc70f7a10b9f184e1cc1696d527468ce1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 8 16:10:22 2020 +0200

    Qt: Fix nations dialog global observer crash

    Reported by Anton KÃ¶rbchen

    See hrm Bug #855199

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c49d364820f596b286c590255f33c7789095b411
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 1 19:59:17 2020 +0200

    Fix sign-compare compiler warning from log_parse_level_str()

    See hrm Bug #854474

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ab63df8a361be18bfcdb56f1fcb4f7e52c6a39bc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 29 20:13:24 2019 +0200

    ruledit/comments-3.1.txt: Get rid of all tabs

    See hrm Feature #854150

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 09dd3849e155cd0088908e558267672575eb8221
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 29 19:57:46 2019 +0200

    savecompat.c: Rename 'enum entry_type' field 'entry_type' as 'type'

    See hrm Feature #854149

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 72c50d3c76fad3b85979c1cdc17e9937c56c1a73
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 28 14:38:51 2019 +0200

    Travis CI: Meson: Build cli modpack installer

    See hrm Feature #854112

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 01b1492a0f026a66182a3d6cdbf50f68af0d7562
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 1 12:13:51 2020 +0200

    sdl2: Fix assertions when first opening Help Browser

    See hrm Bug #854468

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 44c1f3653c1cb26ee71d51a905cc62c90fd180ee
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Dec 29 01:39:45 2019 +0100

    Ruleset user action demo: "Disrupt Supply Lines".

    Demonstrate how to implement a ruleset defined action in webperimental and
    sandbox by adding the new action "Disrupt Supply Lines". Everything it does
    is done via effects and ruleset variables. Lua is only used to notify the
    players involved. This makes it friendly to the parts of Freeciv that reasons
    about the ruleset.

    "Disrupt Supply Lines" itself takes one whole move from the target unit. The
    price the actor unit pays for this is one move fragment.

    See hrm Feature #852114

commit 8e14bfed7a740b1512cef30249a893162a1030bd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 1 13:29:51 2020 +0200

    tileset_use_preferred_theme(): Fix theme name setting for gtk3x-client

    It was accidentally falling to use sdl2-client theme.

    See hrm Bug #854470

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 969661b8ddce0fa525613cf1331cd854bac260fa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 6 17:38:47 2020 +0200

    gtk3x: Drop remaining gtk_window_set_role() calls

    See hrm Feature #853655

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 157346618f25d6886e4f6b600b06826f1dc0f52b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 31 16:22:30 2019 +0200

    Drop FREECIV_DEV_SAVE_COMPAT_3_0

    See hrm Feature #854449

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eb9c83e92c45afa9710705a43cfd48f5a0044d8b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Jan 4 04:52:54 2020 +0100

    Limit action default target_kind saving.

    Don't save action target_kind for non enabled actions with the default value.
    Save even default value when enabled for the sake of clarity. Save non
    default when not enabled since it is changed and may be wanted for later.

    See hrm Feature #854775

commit 91dc0be0bf8c53e24bf3b30c0ce5e247493130b6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 30 16:32:25 2019 +0200

    Meson: Add 'cacert-path' configure option

    See hrm Feature #854261

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4f1e4098c5fa22b0280016c8f3342f29e277abfd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 30 19:44:42 2019 +0200

    AI: Check migration from cities full migration distance away

    When calculating want for Migration_Pct effect, AI was not
    considering cities far enough as potential migration sources.

    Reported by Jacob Nevins

    See hrm Bug #854301

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f48152bea208391a53234e45d76e92e3d08b1d48
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 1 13:15:15 2020 +0200

    Add missing break to handle_unit_get_actions()

    See hrm Bug #854469

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 613b89294ed84edc994da6e142bbc70361fcefc7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 31 00:27:54 2019 +0200

    Rename entry_type() as entry_type_get()

    See hrm Feature #854095

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ff5266029692fa5cafd78e48777aeb36617e2768
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jan 3 11:09:31 2020 +0100

    Streamline ruleset settable action range.

    The minimum and maximum distance between actor and target can be set in the
    ruleset for some actions. Centralize ruleset variable name and default value
    for those actions.

    See hrm Feature #854686

commit 2f4a87c371b592053e847f14d60d6b17fa6fcf62
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jan 3 08:37:30 2020 +0100

    SQLite3 detection: fix "unary operator expected".

    See hrm Bug #854668

commit 78b9d7d679e6a77e0f4e254cb63febc90fa9124b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 30 22:51:34 2019 +0200

    fill_sprite_array(): Call city_size_get() just once in LAYER_CITY2 handling

    See hrm Feature #854366

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a9e0712842b368f7ea8620a85c01d08a0266ff9f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 4 18:16:59 2020 +0200

    Correct --with-qt5x error message

    It was claiming that Qt6 libraries were looked for, while we
    still look for Qt5 libraries. Make it to say 'Qt5x' libraries.

    See hrm Bug #854021

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit db84ff18914ec039b9d7a52e4d35620cb9b0baa9
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Fri Jan 3 01:18:52 2020 +0000

    Increase MAX_NUM_RULESETS from 16 to 63

    This affects PACKET_RULESET_CHOICES used in single-player setups.

    See hrm feature #854627.

commit 1580358aec7f0a2d421d7249607996c9499393a5
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Fri Jan 3 00:21:17 2020 +0000

    Server: new command '/list rulesets'

    This uses the existing single-player logic to enumerate .serv files
    (which conventionally correspond to rulesets).

    Also, in a single-player setup with very long .serv file names, the
    server no longer sends invalid truncated names to the client (it no
    longer sends such filenames at all).

    See hrm feature #854630.

commit 38c21ab19064f351504cd9d9d30bc5e27f97ef7a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 4 15:48:14 2020 +0200

    ruledit: Add support for --Fatal commandline option

    See hrm Feature #853490

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6efdfd65a355ee2c2bbaec6770f1eba9ff1db314
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Jan 2 21:11:20 2020 +0000

    Server: cope better with failure to load savegame

    Particularly in the common case where the required ruleset is not
    available.

    See hrm bug #854623.

commit 92ba915812ed8cd15448bc16c46a4394d15d0544
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Jan 2 17:12:24 2020 +0000

    Add purpose comment to fc_config.h

    Mainly for the benefit of people who see it in binary distributions like
    the Windows builds.

    (For Meson builds, the same comment goes in freeciv_config.h too, since
    unlike autotools fc_config.h is not a superset of that.)

    See hrm feature #854615.

commit 9689475b4f75cf33d18562635c0a2bfa2e905972
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 28 12:19:09 2019 +0200

    Fix sign-compare compiler warnings from fc_utf8.c

    See hrm Feature #854096

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e7a45eceb13c1e572c3a86aafa147d52481af764
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 4 03:05:39 2020 +0200

    core/POTFILES.in: Add gui-qt/themes.cpp

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 08f22727996fc67dfd1702677e008c7c5be6949a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 30 16:06:19 2019 +0200

    Meson: Define FREECIV_MSWINDOWS when building for windows

    See hrm Feature #852980

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8381b065cd8036a65d0d420e4520ccea9f31fe2f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 30 16:01:21 2019 +0200

    sdl2.m4: Correct upstream version number to 2.0.10 in comment

    See hrm Bug #854328

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f6e283b57266a6ae6378d51b3897a880d2d96c1a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 31 16:16:21 2019 +0200

    Bump version number to 3.0.92

    See hrm Feature #854448

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit df0aca876f0e0514d66074800f9e16ffc8ae5e5b
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jan 1 14:03:21 2020 +0000

    Add plague risk to SDL client's city dialog

    See hrm feature #854479.

commit 4e35e927be6d7299d7ae2a0a3303594406e2e803
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jan 1 14:02:44 2020 +0000

    Clarify meaning of "plague risk"

    See hrm feature #854478.

commit 699125aef59fd1377722b047168813efb76aeb04
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jan 1 17:08:57 2020 +0000

    SDL2: fix various input event handling

    Some right/middle-click actions were unavailable, and there may have
    been trouble with finger events.

    See hrm bug #854477.

commit 79a7b25b486244212b44060ae6ccb138e9394116
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jan 1 15:28:52 2020 +0000

    SDL2: many keyboard shortcuts didn't work

    Due to testing SDL_MouseButtonEvent union members without first
    verifying that the event was a SDL_MOUSEBUTTON* event.

    See hrm bug #854476.

commit d9a5a2bef23ab64eb60da02f6fc155efbf88c1bc
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jan 1 17:00:34 2020 +0000

    SDL2: fix crash when editing global worklists

    See hrm bug #854475.

commit 29426ad0eab57edcc06adc48c076b6995e78e3f3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jan 3 10:35:38 2020 +0100

    Comment fact fix

commit 55e307c9d19f8d7ee0d68963d12ca20436f1307a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jan 1 15:26:35 2020 +0100

    Travis CI: build the SDL 2 client on OS X.

    See hrm Feature #854481

commit 039c973009da71b6f5fedb8d36d599c7910099ac
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jan 1 04:01:50 2020 +0100

    Travis CI: OS X build.

    Thanks to Marko Lindqvist for pointing out that I had confused CPPFLAGS for
    CXXFLAGS in an earlier revision of this patch.

    Requested by Marko Lindqvist

    See hrm Task #739973

commit d1bb5ba766c4a9f59e1d2849ea989f2ac1021605
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 30 16:08:26 2019 +0200

    make_dir(): Set null character as '\0', not 0

    See hrm Feature #854295

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ae595a16aa5ffef7c918f385d3b18ad6676ece90
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 3 05:41:59 2020 +0200

    Fix -Wtype-limits compiler warning from strvec_index_valid()

    See hrm Bug #853423

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 05368927a22c3ee48009508eb5006798034a96be
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Dec 31 21:54:25 2019 +0000

    Add README.modpack_installer

    Includes some material from
    <http://www.freeciv.org/wiki/Creating_freeciv-modpack_content>,
    which was mostly written by Marko Lindqvist.

    Also, tweak the modpack installer man page.

    See hrm feature #854464.

commit 77989fa7905cdc941d4f456c4d9224d01cf594e1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 30 16:17:22 2019 +0200

    Add configure option --with-cacert-path

    It replaces old Windows CA cert path hardcoding.

    See hrm Feature #854259

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5f0dadd75da7d386d52ab3d7d1212dba5ce8e802
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 31 16:10:30 2019 +0200

    Guard current dev-save-compat savegame loading with a version check

    See hrm Feature #854447

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 53582f5e89f298721a647eea3b283c0c88ab3ecd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 30 08:47:19 2019 +0200

    Meson: Define FREECIV_HAVE_WINSOCK & FREECIV_HAVE_WINSOCK2 on Windows

    See hrm Feature #854236

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 57d6a0eb39afe98b694113296f5e6d3c4fb806d7
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Thu Jan 2 11:09:15 2020 +0100

    Updated French core translation

commit 0500c95ea1d171e13b64f2a4fb07d5dc1a3e35d9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 30 23:12:31 2019 +0200

    sdl2: Fix how utf8_strlen() detects multibyte characters

    See hrm Bug #854367

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9f84952339cd8bb6d574f2008cfc212aaa65b993
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jan 1 14:27:04 2020 +0000

    Improve comments around Gtk emergency highlighting

commit 64e3c39dc42091f14e22df03db451acb483bd961
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 28 11:47:33 2019 +0200

    Add str_to_uint() implementation

    See hrm Feature #854090

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 60690b60cff6506240f41a69cf663c3dc88ef711
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 23 16:37:58 2019 +0200

    Refactor diplomat_infiltrate_tile() switch to avoid 'default' case

    See hrm Feature #853671

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5372003098cceea2c52f3458d918d3672d81a909
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 28 12:57:59 2019 +0200

    msys2: Clean out 'buildable' targets from the Makefile

    See hrm Feature #854100

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7bc311e3584d0b4e8ef3d82d7868655562011f79
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 29 07:46:15 2019 +0200

    Meson: Add tinycthread to include path

    See hrm Feature #854128

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ec0db36b4303c040dac583ab799f3449158304f2
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Dec 29 14:19:51 2019 +0000

    Add attribute __format_arg__ to Q_() and friends

    This is similar to what _() / gettext() gets as standard, and
    suppresses complaints about using the output of Q_("string") as a
    printf format string when "string" has no format specifiers.

    See hrm bug #854307.

commit 92e94ce6e98bad84830f54dc6a04dcd54b9d7853
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Dec 29 11:07:56 2019 +0000

    The city dialog plague chance popup was misaligned

    See hrm bug #854303.

commit 02d60a0a3dbea77be9ca692096e4c103a586ea27
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 29 12:53:09 2019 +0200

    entry_type(): Return new ENTRY_ILLEGAL value on error

    It was returning -1 despite having unsigned return type.

    See hrm Bug #854093

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6c77abeecda447b120d09273446a4321901a59e9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 28 21:50:03 2019 +0200

    installer_cross: Add freeciv-ruledit.cmd to Qt-client package

    See hrm Bug #854125

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a06a83532ad17f76ce471abf1959a83f7810be33
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 26 06:49:46 2019 +0200

    Explicitly mark fc__fallthrough in research_total_bulbs_required()

    See hrm Bug #853520

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ea2c5990cdee218f2e19d7b4ae56250ace57abea
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 23 07:07:48 2019 +0200

    meson-winbuild.sh: Add EXTRA_CONFIG support

    See hrm Feature #853579

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3856c870deb1656afa499dc5a6a08d486fdc3d14
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 25 16:00:04 2019 +0200

    Fix type-limits compiler warning from dai_reevaluate_building()

    See hrm Bug #853783

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c1757fe95b1ba083164fc450e96573d1b586410b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 28 14:31:23 2019 +0200

    Travis CI: Clean out unneeded python setup

    See hrm Feature #854109

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 81eea895a3ba3555158b3019378a323e5a1e4d8b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 23 15:05:19 2019 +0200

    Improve cm.[ch] Coding Style

    See hrm Feature #853665

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fce7b3f74834e05917a1bf1e9a8e2279fca9c1a8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Dec 28 15:56:32 2019 +0100

    Add 3 blank user actions.

    See hrm Feature #852112

commit 3501f10b3846bbf8de6e947cc5ce0af3dd1d9fb1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Dec 28 22:37:01 2019 +0100

    Send actor_consuming_always to the client.

    Have the client take if an action always will consume the action from the
    server rather than relying on per action hard coding.

    See hrm Feature #854126

commit df9357cdc0f367143f690865a5545c0197f39f12
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Dec 2 21:41:34 2019 +0000

    civ1: Minor help text improvements

    The description of Pollution mentioned Solar Plant, which isn't in the
    civ1 ruleset; plus a few other wording tweaks.

    See hrm bug #854117.

commit 7cb3c4fe2aea0ab66b9199e36dff27576d417b14
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 28 11:23:11 2019 +0200

    Check gcc version to be at least 7 for fc__fallthrough

    See hrm Feature #854081

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 72bcd92a1a2da09a4964d3d7c0e2eab521e32606
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 28 03:51:30 2019 +0200

    Meson: Enable nonblocking sockets support when possible

    See hrm Bug #853446

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c0132d1f50636c99df492bd644f123a0dcac5fa4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 27 15:37:51 2019 +0200

    msys1: Fix https usage

    Reported by ZoltÃ¡n Å½arkov and Jacob Nevins

    See hrm Bug #853960

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 763e8814a830d09c15623a0a04152fe4bbb43fde
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Dec 28 11:35:03 2019 +0000

    civ2civ3: Explain why no farmland on bare desert

    Since the autogenerated help has an inviting button implying that it is
    possible.

    (This commit expands the help for Farmland in some other rulesets too.)

    Reported by user "Voland0" on the forum.

    See hrm bug #854105.

commit 1e411725769d3cbadde404d778837e2337e9a925
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 22 19:35:25 2019 +0200

    Improve adjust_terrain_param() coding style

    See hrm Feature #853554

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d3b2007e67735fa685574601456d95308139e93d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Dec 28 01:01:46 2019 +0100

    sandbox: ICBM with unlimited range.

    Demonstrate ruleset defined action max range for "Explode Nuclear" and the
    special action max range value "unlimited".

    See hrm Feature #854014

commit 9002d0af823a61c0a8c7bc03000041abcd3b3cfb
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Dec 27 23:25:53 2019 +0100

    Fix numeric action_max_range saving.

    See hrm Bug #854012

commit a17cff2f166eaf4c6370da7ac953d1cd3d84903b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Dec 27 22:16:11 2019 +0100

    Ruleset defined max range for "Explode Nuclear".

    Allow ruleset authors to set the max range for the "Explode Nuclear" action.
    This makes it possible to allow nukes to "fly over" walls of units blocking
    the way to a high value target.

    See hrm Feature #854013

commit 00fb6766f9f9bafeba249762d8249ab37773599e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Dec 27 22:05:00 2019 +0100

    Fix action_max_range load error handling.

    The switch() for entry types when loading the "actions.bombard_max_range"
    entry would fall through in error situations to error handling in 'default'.
    This would not work for ENTRY_INT, as it would end up in ENTRY_STR and not
    directly to 'default'.

    Rewrite it with if, else if and else.

    Reported by Marko Lindqvist

    See hrm Bug #853675

commit 9dbdc3233f13d9142d8a68bf7d9fa892d436c492
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Fri Dec 27 19:45:37 2019 +0000

    Gtk: use fixed-width font for city dialog popups

    They were using the style name "city_info_label", which doesn't have a
    corresponding font option, so they were not styled. Changed them to use
    "city_label", a fixed-width font.

    (Also comment that "city_happiness_label" has a similar problem, but I
    haven't done anything about that.)

    See hrm bug #854005.

commit ef841a29671a7085e20b2aecd95bc396c0c793a0
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Fri Dec 27 16:30:21 2019 +0000

    Gtk3.22/4: fix huge detach handles

    The detachable widget handles were far too big. Add some custom CSS to
    shrink them to be comparable to Gtk2.

    The Gtk3.0 client will be covered separately by hrm bug #853912, since
    it turns out to be more complicated.

    See hrm bug #854002.

commit b996a92fef4cf136e12d835fe70ba18d7d6da6f9
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Fri Dec 27 13:46:19 2019 +0000

    Script / rally point fixes at unit build time

     - A unit whose creation disbanded its city now emits the
       "unit_built" signal, and honours city's rally point.
     - Fix trouble in city_build_stuff() if script "unit_built" or
       "unit_cant_be_built" handlers destroyed city.
     - Fix trouble in city_build_unit() for pop_cost units if script
       "city_size_change" handler destroyed city.
     - Fix trouble in rally point code if "unit_built" or
       "city_size_change" destroyed city.

    The precise sequence of events around unit building has changed
    slightly.

    See hrm bug #853935.

commit 5d917139aa6bdefe6bc23908548a83ae539ff5af
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 27 07:51:05 2019 +0200

    msys2: Fix https usage

    Reported by ZoltÃ¡n Å½arkov and Jacob Nevins

    See hrm Bug #833269

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b05ccb3ea498078cd35ee1681a343683ebc2c77f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 25 18:16:25 2019 +0200

    Make position fields in struct inputfile unsigned

    See hrm Feature #853704

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1a14bb0cd71a8737ed686cd75132fbc66d35fffd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 22 08:48:48 2019 +0200

    Add initial version of meson-winbuild.sh

    See hrm Feature #853475

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 48dad32a0fb7a0f3bc5cc6ff10c5dc25d29b950c
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Fri Dec 27 13:17:50 2019 +0000

    Document unit population cost better

     - Add description in online help (helpdata.txt), including the rules
       about disbanding cities
     - Generalise description of CITYO_DISBAND in city options dialog
     - Fix the message emitted when attempting to disband last city

    See hrm bug #853987.

commit 5e48586b133b937d46ce6bcb4f9749f5e0bda9cb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 25 18:14:21 2019 +0200

    mapgen: Do not reduce mountains percentage by steepness^2 factor

    Mountains percentage is kept the same with the default steepness
    value of 30. With values different from that mountains percentage
    changes more logically.

    Reported by Akechi .

    See hrm Bug #767003

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5cf18a07c3222d267b4f41a06ae589acb2ab35e9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Dec 18 00:22:30 2019 +0100

    action_get_sub_target_kind(): error value fix.

    The function action_get_sub_target_kind() is supposed to return an
    action_sub_target_kind. Set it to ASTK_COUNT.

    Reported by Hilde Bye (from a Clang warning)

    See hrm Bug #852987

commit 2062845dcb3a743df133c72242c4ebc6a2edfbd9
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Fri Dec 27 02:06:59 2019 +0000

    Gtk: don't clear worklist source tasks on refresh

    In the Gtk3 clients, this caused the worklist source task viewport to
    scroll around annoyingly on actions like adding an item to the worklist.

    Reported by vla22.

    See hrm bug #706351.

commit c6b4d123f91f82ca2e73c27d0c72d536e87ab334
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 25 18:17:25 2019 +0200

    Fix sign-compare compiler warning at fc_has_capability()

    See hrm Feature #853705

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2ed7abbebe2db9b68bb4be613924fec3319ad859
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Dec 26 14:37:48 2019 +0000

    Gtk3/4: make civ-info-and-units box expand

    This stops the detach handle changing size when the contents change size
    (for instance when switching between unit stacks of different sizes).

    See hrm bug #853923.

commit d89bacf0b0d277cf3d6c99faa396faff3caed931
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Dec 26 12:38:45 2019 +0000

    Gtk3/4: ensure overview etc to left of main map

    With "Arrange widgets for small displays" enabled, the pane containing
    the overview map, civilization status etc would appear to the right of
    the main pane containing the main map view, etc. (Unlike Gtk2.)

    See hrm bug #853922.

commit 43d8d8e224884982ef42574b4935460a2ff36aeb
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Dec 26 13:08:25 2019 +0000

    Gtk3/4: set more GTK_ORIENTATION_VERTICAL

    For some GtkGrids that were GtkVBoxes in the Gtk2 client.
    This has no known functional effect; in practice, I think these VBoxes
    never have more than one child.

    See hrm bug #853921.

commit 3ef30b0d3cedebbb44344b8c7623edd97fbea223
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Dec 26 12:38:14 2019 +0000

    Gtk3/4: fix vote bar location

    The vote bar could be displayed in the wrong location, taking up a lot
    of screen space:
     - If "Arrange widgets for small displays" was set; or
     - If that was unset but "Messages and Chat reports location" = "Merged".

    This was caused by not setting GTK_ORIENTATION_VERTICAL when converting
    some Gtk2 GtkVBoxes to GtkGrids.

    Reported by forum user "RsXT.2" and HRM user "S.C. L."

    See hrm bug #656550.

commit 36db010880162f071238ccb9975c7537a0d6396a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 22 08:15:35 2019 +0200

    Meson: Add support for custom cross-compile include and library prefices

    See hrm Feature #853463

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d347bc21afae95ee4076c3f5567a7f322e3a4a88
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 19 04:04:34 2019 +0200

    Qt: Fallback to FC_QT_DEFAULT_THEME_NAME

    If theme set in the settings cannot be loaded at client start,
    fallback to FC_QT_DEFAULT_THEME_NAME.
    The settings can contain theme names derived from freeciv-2.5
    illegal in later versions.

    Reported by Christian Prochaska and Jacob Nevins

    See hrm Bug #853130

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 50d7b1764c55921448b74abefebfaca0d1dccf7e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 16:57:40 2019 +0200

    Set qt5x programs' minimum Qt requirement to 5.12

    See hrm Feature #852900

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a08057e42ce6ee721bc8861750b7379a0606a6b8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 21 14:01:58 2019 +0200

    Add missing breaks to mapgen.c

    They were missing after some supposedly impossible to reach
    cases, also guarded by asserts. The main difference this commit
    makes is cleaning out compiler warnings about those cases
    when -Wimplicit-fallthrough is used.

    See hrm Bug #853422

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f5f7e5fe67c436211a16ade8a394170b4f569eff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 22 06:50:21 2019 +0200

    Meson: Build tinycthread for Windows host

    See hrm Feature #853447

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b72cace8f5065f36785c8d5bb3d3f411b70dbccd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Dec 24 14:27:02 2019 +0100

    Travis: build the Qt-programs again.

    The ppa can be dropped once we move to the next LTS.

    Requested by Marko Lindqvist

    See hrm Feature #853722

commit 69d0932151ab34d05c91dc1a4499afa6742891e5
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Dec 26 12:42:03 2019 +0000

    Fix comment about Gtk overview map size.

commit a94f5a6a7973683f6a6187ce25aa49c9f4e5d4c6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Dec 25 01:09:40 2019 +0100

    Travis: speed up the "make dist" job.

    The slowest current job is make dist. This means that the total build time is
    the build time of make dist.

    Speed up the "make dist" job by not installing GUI stuff, language packs,
    mysql or replacing openssl-dev and by not building Freeciv before running
    make dist. Not building Freeciv becomes possible by installing tolua.

    Thanks to Marko Lindqvist for the tip about how the Freeciv build can be
    avoided.

    See hrm Feature #853746

commit 609ec1d756f56201bd79229479735deacbd0f033
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 22 17:21:20 2019 +0200

    Add implementation of fc__fallthrough

    See hrm Feature #852923

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 455fc7ae818c300028f8f27b5e9a0fbaa5eca3af
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 24 16:26:32 2019 +0200

    Apply lua.org patch #4 to our copy of lua-5.3.5

    Patch for lua-5.3.5 bug #4
    ("Joining an upvalue with itself can cause a use-after-free crash.")
    from http://www.lua.org/bugs.html

    See hrm Feature #853700

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 946d6b5fe78ba9dff67bb9f95fe8f45c9bd1c503
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 23 05:54:29 2019 +0200

    Add configure option --with-qt5x

    See hrm Feature #852870

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 060af1cf6c0e46a56d3d0e7266b722046f044a6a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 22 06:18:18 2019 +0200

    Meson: Define HAVE_IP_MREQN

    See hrm Feature #853445

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b21659d0487647df0bd885f15f9df51fd0e21786
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 25 18:08:31 2019 +0200

    gtk3x: Drop gtk_combo_box_set_wrap_width() call

    See hrm Feature #852693

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1c30311a2a9b9b8c0b63c8906db915b7a6d28ecc
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Dec 24 03:57:54 2019 +0100

    Travis: dependency instal in .travis.yml.

    Stop installing dependencies in the build script. Move that to Travis'
    addons.apt.packages.

    The initial conversion is a blind copy. All the old dependencies, needed by a
    particular job or not, ends up in its addons.apt.packages. This ensures that
    the same packages are auto-detected so the same things are tested.

    Optimizing away unneeded apt packages for each job would probably speed them
    up. That should probably be done in a follow-up patch.

    Reported by Marko Lindqvist

    See hrm Bug #853424

commit 12c9a3d274253cb84fee60e8711a77ecaa76b626
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Dec 23 03:14:25 2019 +0100

    Travis: test meson build.

    See hrm Feature #850242

commit 8c04f3bec3381dbea70d11bede69e9d1f4a54d9b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 25 09:23:56 2019 +0200

    Drop always-true comparison from big_int_to_text()

    See hrm Bug #852941

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fcdbc089cba27570bbdbb827caa5d3a17dbebc4f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 22 11:36:03 2019 +0200

    Make --help to advertise log level names instead of numeric values

    Since the --help output needs to fit in small space, level names
    are abbreviated down to a single letter.

    See hrm Bug #782727

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1ce9f8ac4bd611ef4df773136f568d4e61abb54a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 23 05:24:08 2019 +0200

    Meson: Bump minimum meson version to 0.48.0

    Versions up to 0.47.2 did not have 'debug' core option.

    Reported by Sveinung Kvilhaugsvik

    See hrm Bug #853564

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 38479764f5761269bfe79dbc712de0d08322eff6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 20 18:14:19 2019 +0200

    List values for --enable-sdl-mixer in ./configure --help

    Reported by Jacob Nevins

    See hrm Bug #853375

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7599ccf258f08711767c5f973e3452e5340d8ed5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Dec 20 18:45:18 2019 +0100

    Travis: run "make dist" in parallel.

    Start using a build matrix. Use it to run "make dist" in parallel to the
    rest of the build.

    See hrm Feature #853559

commit e9b755b366a9b62e939557abd960dfa1ee092bd3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 22 17:44:48 2019 +0200

    Fix sign-compare compiler warning in get_tokens()

    See hrm Bug #853540

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aa70b375fbfb676ca69c8cbb761bac12d03351b6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 22 10:36:12 2019 +0200

    Make generic Coding Style cleanup for connection.c

    See hrm Feature #853485

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 74b1f337abce5e64a5890c4d901a3ad12dd8c35e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 22 05:42:51 2019 +0200

    Meson: Check for iconv and use it when available

    See hrm Feature #853444

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 539b44fcb1ded57ed1856861661958d4f33b7346
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Dec 21 13:48:41 2019 +0100

    Fake generalize "Bombard"

    Introduce "Bombard 2" and "Bombard 3", perfect copies of "Bombard". Any
    difference between them should be ruleset defined.

    This could have waited for real generalized actions. It was done now so I
    can add a shorter range bombard to webperimental on top of the current
    "Bombard" and so Lexxie can drop hard coded bombard action rename from the
    web client of fcw.org-server

    See hrm Feature #851451

commit edb5aa3028b6b780084ecb9eab1cb5b6180e07ae
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Dec 18 19:43:02 2019 +0100

    Don't attempt to move to bounced unit's tile.

    The action "Bribe Unit" will in some cases force a move to the target unit's
    tile.

    In certain rulesets a spy unit can bribe a target unit on a tile with a city
    and/or units the target unit won't be able to share a tile with after
    changing  side. In those cases the target unit is bounced after being bribed.

    The code checking if the briber should be forced to attempt to move to the
    victim's tile after a successful bribing would check that the target tile
    only had one unit. This was presumed to be the bribe target. But if two enemy
    units shared a tile and one got bribed and then bounced the target tile would
    contain the enemy unit that wasn't bribed. The briber would then have to
    attempt a forced move to a tile with a non allied unit.

    Never force a move when the bribe target unit was bounced.

    (It may be a good idea to make "Bribe Unit"'s post action forced move
    consistent with the forced post action move of "Attack" for post 2.6 branches
    in a follow up patch.)

    Reported by Jacob Nevins

    See hrm bug #765938

commit e2c81f241de1638dcce215b9dee3f6e0585894c6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 21 11:32:14 2019 +0200

    Cleanup SYS_TOLUA_CMD handling in tolua-5.2 Makefile.am

    See hrm Feature #853406

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9f96cd4bd3d4d829a287fb032bffb794f464bd76
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 21 12:45:05 2019 +0200

    Fix astr_reserve() sign-compare compiler warning

    See hrm Bug #853412

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d3a8c892b11e7febd125f0c2d692e1a24de971dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 19:08:19 2019 +0200

    Meson: Enable tinycthread instead of pthreads in Windows builds

    See hrm Feature #852952

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 659c346418f1e1b45f2b187b31360cb50a05cfcd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 20 07:05:09 2019 +0200

    INSTALL: Document minimum Qt version

    See hrm Feature #853326

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9407d7d094b1f93c14b39826882cbd610e4a2295
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 22 20:13:20 2019 +0200

    Comment typofix: "shortut" -> "shortcut"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 819b1076c06320dc54d8745bb1836273b4465c89
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 18 12:44:13 2019 +0200

    Add missing breaks to reqtext.c

    Erroneous fallthroughs were in handling of some of the
    unsupported requirement ranges.

    See hrm Bug #853037

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5abb072b8b23177afa4dec69d0dbe8b40dca07e7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 20 19:40:27 2019 +0200

    sdl2-client.m4: Clean out obsolete check against SDL_mixer = sdl

    See hrm Feature #853383

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 739fd789f46abd2b5385fa3d5594cfe6a9999cd6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 20:14:30 2019 +0200

    Meson: Define _GNU_SOURCE

    See hrm Feature #852959

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a43d77eab0fa71fe189344b90b5708d36059e392
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 19 06:12:02 2019 +0200

    sell_random_unit(): Return NULL instead of FALSE

    Function's return type is pointer.

    See hrm Bug #852996

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7990a19e514440b8bc3a7bb6b58bee6d621c28d9
Author: Christian Prochaska <cp.ml.freeciv.dev@googlemail.com>
Date:   Fri Dec 20 01:45:48 2019 +0100

    Updated msys1 environment (python3)

    See hrm Bug #851511

commit d6ae14e202b75c0a1c1c28e7156f7ac119577f45
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 16:53:47 2019 +0200

    Add FC_QT autoconf macro to wrap FC_QT5 and FC_QT6

    See hrm Feature #852867

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7b9410649a931faa4c3d68b809ab76bbeb5f3b02
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 15:03:20 2019 +0200

    Enable -Wold-style-declaration in --enable-debug builds

    See hrm Feature #852936

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c92ee61a02536a7d6ac2be89aa717dc7b119c5f0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 19 05:44:23 2019 +0200

    Qt: Use FC_QT_DEFAULT_THEME_NAME theme when clearing custom theme

    It was attempting to use default theme name from settings, but that
    might be custom theme in itself.

    See hrm Bug #853140

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7f54f7782fa97a84d7bbdda1131bb4682181a192
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 16:47:28 2019 +0200

    tcc: Fix conflicting definition of tile_changing_activities

    See hrm Bug #852686

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3ce5c835914f60dadfcfc6bea09e76d00a607339
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 16:49:39 2019 +0200

    qt6.m4: Add initial version

    Initially qt6.m4 is mainly a copy of qt5.m4 with macros and variables
    renamed to their own namespace. Those macros still search for
    the same Qt5 headers and libraries as qt5.m4 macros.
    Darwin specific things have been left out. They have not been
    actively maintained even in Qt5 version, so probably would require
    more than just copying over to Qt6 side.

    See hrm Feature #850961

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 58b2c2f231d1ead7571a0dc7af2e88cc84527e83
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 15:00:13 2019 +0200

    Fix -Wold-style-declaration compiler warnings

    See hrm Bug #852918

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cb2be38ff30d899e9eced77c8e918d9f879c1e59
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 18 04:36:46 2019 +0200

    Fix sell_random_unit() crash with recursive transports

    See hrm Bug #852938

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d249fb981e334bf9a65e3e5c474dce609bcd8391
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 20:40:25 2019 +0200

    Meson: Make debug-build client to spawn server from current directory

    See hrm Feature #852973

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 94b4b68298b59f0fb2a9b6d57f614cf07fb4a472
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 07:28:45 2019 +0200

    Set QT_DISABLE_DEPRECATED_BEFORE

    In master it's set to 5.7 that is latest for which we don't have
    pre-existing deprecated constructions in use. This is less than
    our minimum Qt requirement (5.11)

    See hrm Feature #852856

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5e512073d235142fc803f7ebf7985151b1596eb0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 13:56:51 2019 +0200

    Add missing breaks to universal_value_from_str()

    See hrm Bug #852927

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 392f3ab9ea7e94489bf69777994b694a708533a8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 16 08:47:29 2019 +0200

    gtk3x: Drop gtk_window_set_role() call

    See hrm Feature #852690

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0a4916200f64227c65c983d7fa9562118fe15e50
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Dec 17 10:20:03 2019 +0100

    Rename "Road" action "Build Road".

    It builds a road. Make it consistent with the other "Build X" action names.

    Reported by Marko Lindqvist

    See hrm Bug #851695

commit d2a47d77e1135e1b56b46fc3a9812ed475cc33fc
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Dec 17 10:05:32 2019 +0100

    Split ASTK_EXTRA in existing and non existing.

    Makes stronger sub target validation possible.

    See hrm Feature #852130

commit f5f1b8529d72f64ca0a0ff3b5a1f1847c8c81e4f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 06:20:15 2019 +0200

    Qt: Replace deprecated qSort() call with std::sort()

    See hrm Bug #852857

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9dc5e70b703d3ad21389c210e2425246699597be
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 04:22:38 2019 +0200

    msys2: Convert langstat files to ISO-8859-1 when building installer

    This fixes display of name of the language "Norwegian BokmÃ¥l"

    Reported by Jacob Nevins

    See hrm Bug #681314

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0a093c5e005a5249673de7ff79dcfae64869824f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Dec 16 20:15:37 2019 +0100

    Unique UI names for conventional nuke actions.

    See hrm Bug #852687

commit 5d0d746d3c89245f19148cb6577bf25d4d7486c3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Dec 12 10:58:11 2019 +0100

    webperimental: ban striking city production.

    The Leader can do the "Surgical Strike Building" action. It is not supposed
    to be able to destroy the city production. Ban it.

    See hrm Bug #852163

commit de53b43813bf51e6361e2f73d37722518c4bd283
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Dec 12 22:51:31 2019 +0100

    Split production from building targeted actions.

    Split an action that targets the city's current production from actions that
    targets a building in a city or its current production. This gives finer
    grained control to ruleset authors. It also enables just assuming that a
    building sub target is a building in validation code and in sub target
    encoding and decoding.

    Split "Sabotage City Production" from "Targeted Sabotage City".
    Split "Sabotage City Production Escape" from "Targeted Sabotage City Escape".
    Split "Surgical Strike Production" from "Surgical Strike Building".

    See hrm Feature #852132

commit 809d772602f1f5f3d0c69d77a7aecf32a3bd6316
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Dec 16 21:17:49 2019 +0100

    rscompat: modify copy of effect, not original.

    Modifying the original can trigger an eternal loop.
    Modifying the original can break the result when more than one universal is
    split from the same source universal.

    See hrm Bug #852824

commit 4030a4731be2cdea9a8525e89ee3befeb2379fa4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 16 06:32:48 2019 +0200

    Add C11 threads configure check

    C11 threads are the preferred threading model.

    See hrm Feature #852681

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e2c1d5d5d474eb9690678a32adcfad7a32c9bc2e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 16 08:44:16 2019 +0200

    gtk3x: Replace gtk_window_set_icon() call

    Use gtk_window_set_icon_name() instead.

    See hrm Feature #852689

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f338f3e228d1e6d0ac72468634171ae9572c4549
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Dec 17 21:44:18 2019 +0000

    Updated Polish translation by Hubert Kowalewski

    merged from S3_0 e912c45b69. Stats on master:
    core: 98.4%: 7567 translated, 93 fuzzy, 27 untranslated.
    nations: 100%: 1843 translated.
    ruledit: 89%: 95 translated, 8 fuzzy, 4 untranslated.

    (There is some confusion with UTF-8 msgids in this update; it's ended up
    with extra double-escaped msgids, which have new translations attached,
    also somewhat double-escaped. On this branch, because of the msgmerge,
    all of these have ended up marked obsolete, and the possibly out-of-date
    translations attached to the correct msgids will be used.)

commit 576b56e3d951c313e0cfd8b93e45ad0d817026d5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Dec 16 06:27:32 2019 +0100

    savegame: pad the correct field.

    Padding for a city's rally_point_sub_tgt_vec field ended up in sub_tgt_vec
    for orders after the first order. Use the correct field name.

    See hrm Bug #852685

commit 926569caa77a3eb719a5b9b58d0a2ed2a81e1110
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Dec 13 01:38:10 2019 +0100

    savegame: store order action id as a number.

    The save game format allows storing it as a vector of numbers. This is better
    than storing it as a string converted by num2char(). It allows more actions.

    Remove num2char(). This was its last user.

    See hrm Feature #850504

commit 51141edf99678cd0c52d4bb14d1190e175ae174a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 19:11:06 2019 +0200

    Fix comment capitalization typo

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f68f6be5899b13838f904569e8ed08cb4e7b09c9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 8 13:47:35 2019 +0200

    sdl2: Add Cultivate/Plant buttons

    See hrm Feature #851551

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0d8d3745e719273caf94706f7c2a1b797c993173
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 02:09:05 2019 +0200

    AI: Reduce defense building wants by about 20%

    AI with H_DEFENSIVE handicap still suffers same amount
    of handicap as before.

    See hrm Feature #825079

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 78ed272248c9d95f856966a1e04bfd8a3ed7aaa3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 13 23:19:30 2019 +0200

    gtk3x: Turn a couple of GtkButtonBoxes to GtkBoxes

    GtkButtonBox will go away with gtk-3.96. Reduce their usage already
    where possible.

    See hrm Feature #852422

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f434d048680d6ce1f1a529f28c2e6c5f9944f2ff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 13 20:51:27 2019 +0200

    Add support for terrain defined placing_time

    See hrm Feature #851866

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2a8c5e1c4b6f8d5db8b9a711cb556b8b9a98672f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 8 03:17:53 2019 +0200

    Meson: Unconditionally define HAVE_MKSTEMP

    See hrm Feature #851530

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5c4ca841b5eb618bbac58005eb6288ac2cbda904
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Dec 12 11:51:15 2019 +0100

    ai: non production sabotage target support.

    Just pick the last building with equal to or better odds than the previous
    for now.

    See hrm Feature #852204

commit a8a6113bf7be11858163c0ee03079cf8803ac9da
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Dec 5 06:20:29 2019 +0100

    Improve movement cost from action estimation.

    Evaluate movement cost from the action in the state the unit will have after
    the action may have moved it.

    See hrm Feature #850770

commit a5e4ed8580452e85c1e00cbb62fdca9c8708bc8f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 12 01:58:16 2019 +0200

    Fix gcc-10 warning about use of possibly uninitialized variable

    See hrm Bug #851873

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9c2beec181d8f0e4dcba5a4c5606b0e67fda096c
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Dec 11 23:52:22 2019 +0000

    Fix formatting error in freeciv-client(6) man page

    See hrm bug #852070.

commit ce57e819cba63b3af6961cb6bef793bcd65b8af2
Author: Zeko <zeko@freeciv.xyz>
Date:   Tue Dec 10 03:30:36 2019 +0200

    Replace deprecated QFontMetrics::width with QFontMetrics::horizontalAdvance

    See hrm Feature #834390

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f2da7a48499b1f5bd7bcccd8fdb33814521da1f2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 12 01:35:58 2019 +0200

    Refactor code to avoid gcc-10 warning

    See hrm Bug #851728

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8dff16d48c03ce727ec48aafb160bdf1482bc0b5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Dec 10 08:23:18 2019 +0100

    Split "Explode Nuclear".

    Split the new actions "Nuke City" and "Nuke Units" from the "Explode Nuclear"
    action. They handle acting against a city or a unit stack at an adjacent
    tile. "Explode Nuclear" is now only about detonating in place.

    This moves all the weird "Explode Nuclear" special case rules to the ruleset.

    See hrm Feature #850219

commit 84802f56997d6c4bdbc4bad1342052628ca52af4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 10 21:40:07 2019 +0200

    Make sure tile info is sent to owner when placing is set

    See hrm Bug #851529

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit be2862771527faa1d26f814d8fc22c09e80ea98e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 9 00:54:47 2019 +0200

    gtk3x: Replace deprecated gtk_entry_set|get_text()

    They will be dropped in gtk-3.96.

    See hrm Feature #851566

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ab06fcaa66bf874fec24d0349a9f6cfeba95d2b7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 5 01:12:48 2019 +0200

    Bump minimum Qt requirement to 5.11

    See hrm Feature #849444

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a4016b8ca3f4857457280da70704b1ed1fb76d55
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 8 02:25:58 2019 +0200

    Show extras being placed in main map

    Client shows the extras being placed if it knows about them.
    Currently it often doesn't (Bug #851529)

    See hrm Feature #851528
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 17938c639f239381c0d1fcfcce356b49f5e86100
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 10 07:39:19 2019 +0200

    Terminate format escapes list

    See hrm Bug #851727

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0cdce5681edac55a8843365b8d44aa9ea308bb58
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 5 21:09:48 2019 +0200

    helpdata.txt: Add documentation of cultivate/plant controls

    See hrm Feature #851200

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a4bf4d1e141aa9e6ca143997a233a83974895f9a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 7 00:59:06 2019 +0200

    Travis CI: Disable Qt programs from build

    See hrm Feature #851187

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6de035ac703119b3086f8473934153a6021c5637
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Dec 9 22:38:43 2019 +0100

    GTK clients: improve act sel dlg sub tgt support.

    Make simple_action_callback() able to handle sub targets. This makes the
    custom call backs for "Pillage", "Road", "Build Base", "Build Mine" and
    "Build Irrigation" redundant.

    See hrm Feature #851693

commit 4d6368838f9615739b40f88e0bf6f21f18e69914
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Dec 9 18:56:51 2019 +0100

    GTK clients: general act sel dlg detail cb.

    Replace action specific follow up question detail from server requester
    callback functions with the new request_action_details_callback() call back.

    See hrm Feature #851670

commit a83cf8671b270d9151dc97fa9e20f39b0c30c338
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Dec 9 15:16:38 2019 +0100

    GTK clients: remove redundant act sel dlg cb.

    Use simple_action_callback() in the action selection dialog where possible.

    Delete all the old action specific action selection dialog callback functions
    that don't do anything simple_action_callback() can't do.

    See hrm Feature #851648

commit 1c409f9515813edf062291130e732ba085c588ae
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Dec 9 14:27:13 2019 +0100

    GTK clients: default act sel dlg callback.

    Use simple_action_callback() by default unless an action specific call back
    function is specified for the action.

    See hrm Feature #851642

commit e7a3be20218b4d46031601cc64a2919b6a988860
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Dec 9 09:25:03 2019 +0100

    GTK clients: generic act sel dlg callback.

    Introduce simple_action_callback(). It is to be used as a call back function
    in the action selection dialog for actions that don't require anything
    special in their call back function.

    This reduces the amount of work to introduce a new action.

    The number of actions where this can replace the current call back function
    is large. Only a few known good existing actions have their old action
    specific callbacks replaced here.

    (I made Freeciv-web auto generate its action selection dialog years ago. I
    didn't get around to do it for any C client before now.)

    See hrm Feature #851603

commit ad71fe529bb425072cfbf5c9b821ff087170d798
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Dec 9 12:45:10 2019 +0100

    GTK clients: action id to act sel dlg callback.

    Pass the action id to the action selection dialog button callback function.
    Exploit the fact that the GTK client only can show one action selection
    dialog at a time by making the data shared between actions a static variable.

    See hrm Feature #851635

commit 6510b3d8007782917375f1b285994f80c0718088
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Dec 9 19:46:58 2019 +0100

    autohelp: document sub target kind.

    See hrm Feature #851672

commit cae9f566d4988e31896ece6e23d0e4d39f2980e1
Author: Zeko <zeko@freeciv.xyz>
Date:   Sat Dec 7 20:21:21 2019 +0200

    Allow C++11 lambdas in coding style

    See hrm feature #851519

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a2fd46c96d8b735ac0dbb3f181c91501626913f2
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Dec 9 01:11:33 2019 +0000

    Gtk3.*/4: handle "close" signal in input_dialog

    This is sent when the user hits "Esc" at such a dialog.
    Among other effects, if the user hit Esc at a new city name dialog, that
    settler would subsequently be unable to build a city.

    Reported by Joan Creus.

    See hrm bug #689225.

commit 15f60afa7b44c32d128fc8fb8ad7d1100a5a39df
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 8 00:45:07 2019 +0200

    Make extra placing to last extra build time turns

    Extras that have no build time defined (are supposed to use
    terrain specific build time) still take 1 turn to complete.

    See hrm Feature #851525

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 56b091569a1865657ca155f84e092dbad7b3d43e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 4 23:04:44 2019 +0200

    configure.ac: Drop unused 'AMIGA' variable

    See hrm Feature #850944

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dea2189c7833c9de5bd21d6ecfce6f2237c3039e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 7 18:35:05 2019 +0200

    Restore Ctrl+F for "Find City"

    Ctrl+S is used also by Save Game, so can't use it for Find City.
    Similarly restore Qt-client Full Citybar to Ctrl+F.
    Change Show City Growth from Ctrl+F to Ctrl+O.
    In sdl2-client change Show Pollution from Ctrl+O to Ctrl+Shift+O.

    Reported by Jacob Nevins

    See hrm Feature #850461

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e3b31df011522ece994aa5541a88e2793313c2b5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Dec 10 07:08:54 2019 +0100

    Comment fact fix

commit 9fdffcb489aab7d4bc6ef55d541e5ad027645389
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 7 00:57:30 2019 +0200

    Implement minimal editor support for owned extras

    Goal of this commit is to provide network protocol part
    of editing of owned extras. It does result in minimalistic
    editing support too.

    Requested by Jacob Nevins

    See hrm Feature #851220

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6075f581f95f49492b3019f29fdbf5f055ac41aa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 4 17:11:56 2019 +0200

    gtk: Set sensitivity of Cultivate and Plant menu entries

    See hrm Feature #850833

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit afd14f3a57916aa11fd6de89163d3b7d7549361a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 5 00:59:16 2019 +0200

    qt5.m4: Rename FC_QT52_CHECK as FC_QT5_VERSION_CHECK

    Also the macro's output variable fc_qt52 has been renamed
    to version-agnostic fc_qt5_min_ver.

    See hrm Feature #850950

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 18978a7b61d732d2eb8b6803c4657422d108b2d9
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Dec 7 13:25:53 2019 +0000

    Miscellaneous TRANS comments.

    See hrm bug #851518.

commit 86a5eb74fbaf7d838b57a48c2a286489b251284a
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Dec 7 13:32:36 2019 +0000

    Fix a message about failure to act

    The format string arguments were the wrong way round.

    See hrm bug #851510.

commit c1598d8a2af074cfb14fe9a95a83d2af319ca772
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Mon Dec 9 13:55:21 2019 +0500

    Update for Russian translation.

    core: 7599 translated messages, 51 fuzzy translations, 29 untranslated messages.
    nation: 1843 translated messages.
    ruledit: 107 translated messages.

commit dadb51dc996eec4e16681663be635bafed51652e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 5 20:36:06 2019 +0200

    README: Fix numbers of INSTALL chapters referenced

    See hrm Bug #820728

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d371e6e5d5407679ddc25a47b547810ed213d169
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 4 16:51:16 2019 +0200

    Add menu entries for Cultivate and Plant

    Cultivate and Plant UI added to gtk- and qt-clients.
    No icons added to sdl2-client.

    See hrm Feature #850477

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d55ecacd5f132570e7ea8d4767026903988f046
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 7 00:56:42 2019 +0200

    Send emergency version number in client_info packet

    See hrm Feature #657293

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d521e55701639b1cf1a799471ac37a6f37c8ebe3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 4 22:35:18 2019 +0200

    Update mkstemp.m4 to serial 27 from gnulib upstream

    See hrm Feature #850943

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 193c6a9daff227266dc180e7b8f41ee63a5a5c3f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 4 17:04:16 2019 +0200

    Consider ACTIVITY_CULTIVATE/ACTIVITY_PLANT tile activities

    This makes them to show up in tile info popup

    See hrm Bug #850820

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b6beadd42d93ff2051917b3bb81b23f20ec293f2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 2 06:47:00 2019 +0200

    Sandbox: Make advance clauses to require Writing

    Both parties need to know Writing before techs can be traded.

    See hrm Feature #768209

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4ad3a17dca805a2ac30feaf706fe4b31ac06cb64
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 5 19:14:52 2019 +0200

    Correct comment implying that python > 2.2 wouldn't work

    See hrm Bug #851193

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ef6200480702163a1980f6abdf32e97a2561ea0f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 5 00:13:57 2019 +0200

    Fix tripling of units when copy+pasting tiles in editor

    Reported by Alexandro Ignatiev

    See hrm Bug #850947

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 245002c121673c4f858adc95914e2e73ed34b899
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 6 22:06:57 2019 +0200

    Save ruleset_locked and capabilities when saving scenarios

    See hrm Bug #821959

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bbadbdf0ec1cd49938fc70346118676eef38b509
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 4 21:25:08 2019 +0200

    Update sdl2.m4 to SDL2-2.0.10 level

    Manually rebased upstream changes to our modified version.

    See hrm Feature #850938

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fbda89cf3f74e35d56102501c111b7dbd2989595
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 4 16:33:10 2019 +0200

    Rearrange control keys to make space for cultivate and plant controls

    Reserve Shift+I and Shift+M for Cultivate and Plant.
    Move "Connect With ..." / "... Waypoint" from Shift+<key> to Ctrl+<key>.
    Move "Show City Growth" from Ctrl+R to Ctrl+F ("Food") to make space for
    changed Road connect.
    Move "Find City" from Ctrl+F to Ctrl+S ("Search") to make space for changed
    "Show City Growth".

    Qt only: move "Show Full Citybar" from Ctrl+F to Ctrl+S

    See hrm Feature #850461

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 13b0605a47aa70797516481772c4445fc53bae94
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Dec 4 00:29:37 2019 +0100

    daiactions: consider regular move cost.

    Some actions will always charge the move fragment cost the actor unit would
    pay to perform a regular move to the target's tile. Add this cost to the
    regular action move fragment cost dai_action_value_unit_vs_city().

    See hrm Feature #850769

commit b5d1e127e7f2516a545ba036994e4188bbc88ce7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 3 17:28:45 2019 +0200

    Fix client crash in lua call to city:inspire_partisans()

    Check if the caller is server before executing inspire_partisans()
    parts that would require omniscience. If the caller is client and
    correct answer for the current rules would be available only with
    omniscience, always return FALSE.

    Reported by Alexandro Ignatiev

    See hrm Bug #797679

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6b24cce6604e6248d62153ed5f6ae6d4c1e3b160
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Dec 3 21:35:42 2019 +0000

    Cancel ANIM_NUKE when done

    This was causing permanent sluggishness and high CPU usage in clients
    which use frame_by_frame_animation (Gtk3/3.22/4) after a nuclear
    explosion.

    See hrm bug #850672.

commit 715025fb957d3a0f2c33dfece45e6d6f783f795b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 4 00:22:39 2019 +0200

    savegame3.c: Remove aifill players after rulesets loaded

    Remove aifill players created ruleset loading time so that
    later correct number (maxplayers limitations) of them can be
    created with the correct skill level.

    See hrm Bug #850666

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c145bf90cad3f98f3bae4faf8fb9e46319ebdd62
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 5 12:54:48 2019 +0200

    Remove duplicate word from code comment

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1a43ef9a30abc86ce6a7212ad3daf3fe97ab5a65
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 3 16:44:45 2019 +0200

    Add function headers for civmanual client stubs lacking one

    See hrm Bug #820981

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 165118dec8241385dfec5b032b61364256a833c5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Dec 3 23:07:31 2019 +0100

    civ1: remove lie from land unit class.

    There is no airlift in the civ1 ruleset. Stop claiming that units with the
    land unit class can be airlifted.

    Reported by nef at the Freeciv Forum

    See http://forum.freeciv.org/f/viewtopic.php?f=15&t=597&start=40#p100875
    See hrm Bug #850673

commit 0e290f0e40f208b8e44242f70634c999e6242b5c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Dec 3 22:03:27 2019 +0100

    civ1: improved (dis/)embark move cost.

    Bring the civ1 ruleset's unit embark and disembark cost closer to what it was
    in Civilization. This is just a start the people that know Civilization 1
    better than I do can fine tune.

    See hrm Feature #850669

commit f27f6f14f62ed06bdee261833ff7ee22769b9868
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Dec 3 21:44:06 2019 +0100

    civ2: improved (dis/)embark move cost.

    Bring the civ2 ruleset's unit embark and disembark cost closer to what it was
    in Civilization II. This is just a start the people that know Civilization 2
    better than I do can fine tune.

    This allows diplomats to use their second movement point after landing from a
    ship, so the the tech-pirate strategy that works so well in the real civ 2
    isn't completely ruined.

    Reported by an anonymous Civilization 2 player at our wiki.

    See https://freeciv.fandom.com/index.php?title=Comparison_of_Freeciv%27s_civ2_modpack_and_Civilization_II&diff=19136&oldid=13908
    See gna bug #23782
    See hrm Bug #850668

commit 328ded10dc4eb42e2af556f18499c0079883a877
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 3 18:13:02 2019 +0200

    Qt: Do not try to load without savegame selected

    Do nothing if user clicks Load button without savegame selected.
    Previously game proceeded to loading page where it then stayed forever
    waiting for server to get game loaded.

    Reported by  David Fernandez (bard)

    See hrm Bug #778016

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 91e3bfb70b367a7f14c54389708e9b3b7d3be31c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 3 16:14:12 2019 +0200

    Correct code comment about HutTech unit role

    Reported by Alexandro Ignatiev

    See hrm Bug #823695

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ef49da726b82439025b301d5e26a52f5be65c5b6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Dec 4 20:46:26 2019 +0100

    Comment fact fix.

commit 69ea39e115a6bb0612b7eb2e27902d87c4b74e13
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Dec 3 10:51:12 2019 +0100

    Fake generalize "Conquer City"

    Introduce "Conquer City 2", a perfect copy of "Conquer City".
    Any difference between them should be ruleset defined.

    See hrm Feature #850551

commit 0f7b1ed58d7490463ef21029d367d58deacb843d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Dec 3 10:11:49 2019 +0100

    Fake generalize "Transport Disembark"

    Introduce "Transport Disembark 2", a perfect copy of "Transport Disembark".
    Any difference between them should be ruleset defined.

    See hrm Feature #850550

commit 7c6b5e00691ef9b49b35746458ff46d355ed6885
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 2 05:54:16 2019 +0200

    Add requirement vectors for clause types

    Ruleset can specify requirements for the clause types to be available.

    See hrm Feature #768208

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a1e5167c9a38022fe7aa38c65a8ccc042737d00b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Dec 2 10:32:01 2019 +0100

    A unit can't board a non allied transport.

    Force "Transport Embark" and "Transport Board" action enablers to mention
    that it only can be done to domestic units, units on the same team and allied
    units.

    See hrm Feature #850424

commit 311b40dabe3c81374747407f511d3a48b8aaabee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 2 04:26:58 2019 +0200

    Drop settings_consider_all_changed()

    See hrm Feature #850362

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b6791cb61d5f0719179fd62e198ba11a891dee19
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 2 04:25:12 2019 +0200

    Send server setting defaultness to client

    Requested by Jacob Nevins

    See hrm Feature #692371

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3dc8b22b35d7218d0a5d492c213c893205425a50
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Dec 1 19:38:43 2019 +0100

    A probability can't be above 100%.

    See hrm Bug #850312

commit 256ca3ce73655e1c4ec6149dc8d5c9d2ea72e4c9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Dec 1 09:22:29 2019 +0100

    Auto attack actions to the ruleset.

    Put the actions that autoattack should try in the new field attack_actions in
    the auto_attack section.

    Only allow removing and changing the order of the old auto attack actions for
    now. Other actions need more testing and fixing of issues caused by a worst
    case action probability of 0%.

    See hrm Feature #850300

commit ee74851b81490dc884dea1e5053514b0a13da269
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Dec 2 23:22:04 2019 +0000

    Merge current S2_6 en_GB translation

    From 98adb81658. master stats:
    core: 81%: 6229 translated, 974 fuzzy, 473 untranslated.
    nations: 100%: 1843 translated.
    ruledit: 60%: 64 translated, 18 fuzzy, 25 untranslated.

commit 95284be1a6931295523cb41ca905393aa3928d60
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Dec 2 22:41:33 2019 +0000

    Updated Polish translation by Hubert Kowalewski

    merged from S3_0 f7a336c9f0. Stats on master:
    core: 97.7%: 7496 translated, 131 fuzzy, 49 untranslated.

commit 1c33900b840d584eacf39d1cd3e98104c4692854
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Dec 1 00:36:53 2019 +0000

    Gtk3.22/4: restore mnemonics to most buttons

    Many of these are GTK_STOCK buttons in the Gtk3 client. I've mostly
    chosen the keyboard mnemonics that the Gtk3 client shows on my system.

    See hrm feature #850297.

commit de62f51c88a648df96af4c944470da69f9df1e7c
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Dec 1 03:25:42 2019 +0000

    Gtk3: restore mnemonics to action dialogs

    See hrm feature #850296.

commit 155df9a41a53242932e002305cac53ccb0d23954
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Nov 30 21:33:14 2019 +0000

    Gtk3/4.x: restore Alt+mnemonics to menu system

    See hrm feature #850295.

commit 3fc0988c7a042a88aca55ccd50f0c8134d383db0
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Nov 30 20:20:50 2019 +0000

    Gtk3/4.x: don't use keypad for fullscreen

    Laptops/netbooks often don't have a numeric keypad. Use Alt+Return
    instead, like Gtk2 did.

    See hrm bug #850293.

commit 10f39218cc3b786db69c4459d5a115b632cd0052
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Nov 30 20:13:34 2019 +0000

    Gtk3/4.x: replace META with MOD1 in shortcuts

    This works with the 'Alt' key (on my Linux PC at least), like Gtk2 did.

    See hrm bug #850292.

commit e16afad6a0dad930d7edde6d8d70aa8788903832
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Nov 30 18:32:49 2019 +0000

    Qt: don't cache first theme directory

    The first time a theme was loaded, its directory was cached and all
    future attempts to use themes would try to use the same directory.
    However, the user could still be presented with themes in different
    directories, which would then fail to load.

    See hrm bug #850290.

commit 9f03c4fba88e71d7dfb758322bd7f63983ca8a6c
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Nov 30 14:44:24 2019 +0000

    Add dates to NEWS files.

    See hrm task #850289.

commit 55706fd9de8a46b07fa01d4cc6405d704360fd89
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 5 20:48:25 2019 +0300

    Show unit activity icons for ACTIVITY_PLANT, ACTIVITY_CULTIVATE

    See hrm Feature #825185

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b27bbb6449f0b063112054b63f8fee221202cf0e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 1 06:02:44 2019 +0200

    Meson: Add daiactions module to build

    See hrm Feature #850276

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit edc3c6c9b2ac2ccb677cda812666ba410ba8fb00
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Nov 30 09:46:52 2019 +0100

    Support complex "will never auto attack" rules.

    In 3.0 it became possible to define a user unit type flag NotAnAutoAttacker,
    put it in auto_attack.will_never and give it to every unit type that never
    should auto attack. If only a few unit types should auto attack - say
    Nuclear Mine, SAM and AA Gun - the NotAnAutoAttacker flag would have to be
    added to every other unit type.

    Replace auto_attack.will_never with auto_attack.if_attacker, a new
    requirement vector. This allows a user unit type flag AutoAttacker to be
    defined for the above case. As a bonus support for more complex rules is
    added.

    See hrm Feature #850212

commit 0adbbc46b71b830da2df72f7dce3f23e1a483756
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 28 12:18:38 2019 +0100

    New action "Transport Embark"

    Introduce the new action "Transport Embark". It covers cargo initiated
    entering of a transport on an adjacent tile. It also covers cargo initiated
    transfer to another transport at an adjacent tile.

    See hrm Feature #850022

commit d3a7f59d0fb0ef92f00f08208c6c016f9494e6da
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Nov 30 16:21:24 2019 +0100

    Fix memory leak.

    Make unit_survive_autoattack() free the probability of impossible actions.

    See hrm Bug #850240

commit c3d0dd01bcfe715a26327b0ad6cf482452427c5a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 28 15:32:04 2019 +0100

    Fix the post bribe disembark code.

    Disembark was baked into regular moves before hrm Feature #848682. The code
    to do a post bribe disembark was accidentally committed before it was ready.
    Complete it.

    See hrm Bug #850087

commit 5cfbd48e02017ab81b0c1461eccbdf394e0ce965
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Nov 29 09:37:20 2019 +0100

    Comment clarification.

commit 191be284431a372e5498c4349277d573e4ed08bb
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 28 07:50:26 2019 +0100

    New action "Transport Board"

    Introduce the new action "Transport Board". It covers cargo initiated
    entering of a transport on the same tile. It also covers cargo initiated
    transfer from another transport at the same tile.

    See hrm Feature #848637

commit f5f6074a18750aa992f00bf3058917acae790f82
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 28 09:19:42 2019 +0100

    Non transported units can do "Conquer City".

    Feature #849289 made it look like transported units were the only units able
    to do "Conquer City". Clarify.

    See hrm Bug #849954

commit 3b69933736b8e8d505034ddcb1301e0200c1a582
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Nov 27 17:05:19 2019 +0100

    Introduce the new module daiactions.

    Factor aidiplomat's action sub target selection and action utility evaluation
    into daiactions's initial functions dai_action_choose_sub_tgt_unit_vs_city()
    and dai_action_value_unit_vs_city().

    See hrm Feature #849851

commit d698045a4caa53f7dfa3eb2f5b986755c73bf8db
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 26 10:40:08 2019 +0100

    webperimental: state terrorism.

    Allow sabotage, poisoning and suitcase nuking of non allied units and cities.
    Doing those actions in peace time causes international outrage: everyone, not
    just the victim, gets a Casus Belli against the guilty party.

    See hrm Feature #849540

commit ecd0a53854431d52c8871e235a0fc38801bfe132
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 26 08:12:21 2019 +0100

    AI spy action vs city evaluation: Casus Belli.

    Have dai_action_want_vs_city(), currently only used when evaluating spy
    actions against a city, consider the diplomatic implications (Casus Belli) of
    performing the action.

    See hrm Feature #849459

commit 86fe1b7ee928d7b40d5de2bfd8f1b3fd85f25178
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 26 06:13:03 2019 +0100

    AI: Suitcase Nuke > Sabotage City

    Adjust the utility of "Suitcase Nuke" and "Suitcase Nuke Escape" so they beat
    "Sabotage City", "Sabotage City Escape", "Targeted Sabotage City" and
    "Targeted Sabotage City Escape".

    See hrm Feature #849451

commit 6b31d6952576ff79e163aee464a5167447d71efc
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 14 11:09:26 2019 +0100

    unit_pays_mp_for_action(): add attack cost.

    Move the cost of a successful attack to unit_pays_mp_for_action(). Doesn't
    include the cost of occupychance post attack forced move.

    This cost can't move to the ruleset yet because the support for OneAttack is
    still greater than the support for Action_Success_Actor_Move_Cost. Having it
    in unit_pays_mp_for_action() gives the AI access to it.

    See hrm Feature #849449

commit ca632d05ad2c36ac9e8903719fa7225c5ab2f561
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 26 06:00:05 2019 +0100

    AI spy action vs city evaluation: movement cost.

    Have dai_action_want_vs_city(), currently only used when evaluating spy
    actions against a city, consider the move fragment cost the actor unit has to
    pay.

    See hrm Feature #849448

commit d874447a669e2a7d04c6656deeffe65f982a912b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 26 05:55:52 2019 +0100

    AI: A unit can't pay more than MAX_MOVE_FRAGS.

    MAX_MOVE_FRAGS represents all the movement a unit has. Cap the move fragment
    cost from Action_Success_Actor_Move_Cost and Action_Success_Target_Move_Cost
    when calculating the AI utility they provide.

    See hrm Feature #849446

commit 6e6a2a311090e2ae60af49fc4ba69d4617642767
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Nov 25 17:10:43 2019 +0100

    AI: utility based spy vs city action selection.

    The Freeciv AI will typically make a choice by its utility ("want"). Much of
    its action selection code is hard coded by the order actions are attempted in
    the source code.

    Change the action selection a Spy does vs a city to an utility based selector
    that supports generalized actions. The action it performs is supposed to be
    100% identical to the old code. Value changes, support for things like move
    cost and Casus Belli and support for other actions can be done later.

    See hrm Feature #849343

commit ff04ae67262eb1df9139ada3703deb21b1e108f7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Nov 25 14:05:02 2019 +0100

    Clarify disembark in "Conquer City" documentation

    The hard requirement documentation for "Conquer City" in README.actions
    mentions being able to disembark. Clarify that this doesn't refer to any unit
    exit transport function.

    See hrm Feature #849289

commit 1f066c7ccf4dfa7ab21e24e1f1a9cfa85b6233dd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Nov 24 21:36:58 2019 +0100

    New action "Transport Disembark".

    Introduce the new action "Transport Disembark". It covers cargo initiated
    transport exit to an adjacent tile. It doesn't cover transport exit followed
    by an action. It doesn't cover transport to transport transfer.

    See hrm Feature #848682

commit 4917cf37b3f38ef57fcfa806b90df8515552f7d5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Nov 24 22:22:58 2019 +0100

    webperimental: Leader can destroy buildings.

    The next step to make Dear Leader more powerful is to allow him to destroy
    visible buildings, like city walls, in enemy cities. Doing this has a 50%
    chance of success and ends his turn.

    See hrm Feature #849195

commit 3897610810e14f616ee299e138463860e2912f63
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Nov 24 21:55:43 2019 +0100

    webperimental: add being healed movement costs.

    Charge 1 mp from units being healed by the court physician.

    See hrm Feature #849194

commit 8269e221e8271335698a5c3493da3cf42873dcd6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Oct 31 00:16:30 2019 +0100

    adv_data: clarify what is being counted.

    Rename "missiles" to "suicide_attackers" since that is what is being counted.
    Rename "missile" to "suicide_attack" since that is what is being checked for.

    See hrm Feature #849138

commit 6124fe8effcf4787f33767af7b5631214e4cdf70
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 24 15:22:25 2017 +0200

    New action "Surgical Strike Building".

    A "Surgical Strike Building" is an attack against a player specified building
    in a city.

    The target building must be seen to be targeted. Future work may have
    previous Investigate City actions, Targeted Sabotage City actions, the see
    invisible buildings parts split of those split to a new action or some new
    action representing a Spy with a laser high lighting the target building
    provide the required visibility to do a precision strike against an unseen
    building.

    For now there is no powerful enough defence against this action to make its
    usage common. It will be limited to special actions for extremely high value
    units (like Leader) and probably also spend all movement fragments to leave
    the high value unit exposed. "Use the royal sapper to destroy the city walls
    and pray that you manage to eradicate all opposition before turn change."

    Ruleset defined pre action battle, if introduced, could make this action more
    usable. I think a new battle kind where one unit in the city able to attack
    the actor unit attacks it (shooting version of diplomatic battle) would suit
    this action well. "Precision Bomber tries Surgical Strike Building but is
    interrupted by attack from Anti-aircraft Artillery."

    Another thing that would make this action more usable is the ability to
    exclude certain target buildings, like wonders.

    See gna patch #7683
    See hrm Feature #848643

commit a69c9e441f06b4cb5a6082149c2d98d10cf5dc6f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 22 12:22:38 2019 +0200

    installer_cross: Generate gschemas.compiled at target

    Do not ship gschemas.compiled from build host, but generate
    it when installing.

    See hrm Feature #848649

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d6cce37c5297ca267e246eb428578a82cbd36a1a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Nov 22 20:46:56 2019 +0100

    4 generic unit action events.

    Introduce the generic events e_unit_action_actor_success,
    e_unit_action_target_hostile, e_unit_action_target_other and
    e_unit_action_actor_failure for new (or previously silent) action messages.

    See hrm Feature #848791

commit d927c0a8486aae44a9bf5533738cb312ba73ab02
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Nov 22 08:23:05 2019 +0100

    Make exit transport requirements consistent.

    A unit was forbidden from exiting a transport to its current tile if it was
    fueled or was losing hit points at that tile and the tile didn't have a city
    or an Extra where it could refuel. But it could exit the transport to the
    same tile by waiting for the transport to move one tile and then move to the
    tile it couldn't alight or unload on.

    Make transport exiting to same tile consistent with transport exiting to an
    adjacent tile by removing this hard requirement from "Transport Alight" and
    "Transport Unload".

    See hrm Bug #848658

commit 38ca32702ce19a1980db32e4c18a96f79c842de9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Nov 22 05:45:37 2019 +0100

    New action "Transport Unload"

    Introduce the new action "Transport Unload". It covers transporter initiated
    unloading of a target unit to the current tile. It doesn't cover unloading
    followed by movement to another tile or followed by an action. It doesn't
    cover cargo initiated unloading. It doesn't cover transferring directly
    to another transport.

    See hrm Feature #848492

commit 37e8ec55499f3d473b5845e875a5eedd52894e14
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 21 13:29:49 2019 +0100

    New action "Transport Alight"

    Introduce the new action "Transport Alight". It covers cargo initiated
    unloading from a transport to the current tile. It doesn't cover unloading
    followed by movement to another tile or followed by an action. It doesn't
    cover transport initiated unloading. It doesn't cover transferring directly
    to another transport.

    See hrm Feature #848430

commit fa6683ebd50e2f39748b801cf467ee7e16d34f8e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 21 11:09:29 2019 +0100

    New effect Action_Success_Target_Move_Cost

    Introduce the new effect Action_Success_Target_Move_Cost and use it to soft
    code successful action target move cost for the action "Expel Unit".

    See hrm Feature #848435

commit 94c41483f6c5d49512cdd9c17b5464a31555d311
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Nov 20 06:12:56 2019 +0100

    Clarify Action_Success_Actor_Move_Cost docs.

    Specify that the move fragments subtracted by Action_Success_Actor_Move_Cost
    applies on top of any movement fragments the action itself subtracts.

    See hrm Feature #848229

commit 028e38f53703d8a248bd9731e67c1f059f6b26a2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Nov 20 18:01:19 2019 +0100

    Auto help: document will never autoattack.

    See hrm Feature #848344

commit 86569c660fcac986d62c610ea7d68deabaf496f6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Nov 20 16:56:42 2019 +0100

    Auto help: mention how much "Heal Unit" heals.

    See hrm Feature #848326

commit d6110db7693cf41087f6209e0a912bbd3d445adf
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Nov 20 09:49:36 2019 +0100

    Load and store OutputType reqs by rule name.

    Read and save OutputType requirements by rule name rather than by (translated
    in the case of writing) vernacular name.

    See hrm Bug #848260

commit 2364e2a6d61c962c86cd6d2aaf98c9349645145d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Nov 20 06:57:37 2019 +0100

    Auto help for death inside nuclear blast.

    The nuke_pop_loss and nuke_defender_survival_chance_pct ruleset settings were
    added in hrm Feature #801780. Auto document them.

    See hrm Feature #848233

commit 7cf73c9ce29906545d3228ca6acf50cd16dcfa7b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 19 15:01:54 2019 +0100

    Attempted BokmÃ¥l translation of new strings.

    My attempt at translating the strings introduced in hrm Feature #848070 to
    BokmÃ¥l. Marked as fuzzy since I'm a Nynorsk (not BokmÃ¥l) user and the
    translation was quick.

commit f4be6c443dbffc20b18a65b454abb5c3bd621bd7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 19 15:00:41 2019 +0100

    Auto help: document Casus Belli for unit actions

    See hrm Feature #848070

commit 3d0acf5cdd5995608a22beeb5280dfb5f59d50a2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 19 13:14:24 2019 +0100

    Set counter to 0 before use.

    The code that adds text to unit actions explaining that an action can't be
    done if another action is legal uses "i" to count the number of blocking
    actions. It assumed that i was 0. But code may be added above that writes to
    i without setting it back to 0. Set i to zero so such code won't cause
    problems.

    See hrm Feature #848052

commit 3f7d417daf4910d3801e11aecab2f0787e1489b8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 19 11:16:13 2019 +0100

    universal_fulfills_requirement: support DiplRel.

    See hrm Feature #848034

commit 03f4b02ab5d78c1476d5dc8ae70ce0b007d457c5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 19 09:12:15 2019 +0100

    Improve no universal found function handling.

    See hrm Feature #848027

commit 77680913120f67710b3af00101f83ff314174402
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 19 07:12:24 2019 +0100

    Replace magic number of EFT_CASUS_BELLI_* amount

    ...with the macros CASUS_BELLI_VICTIM and CASUS_BELLI_OUTRAGE.

    See hrm Feature #848015

commit 18f08b5b36e2535f421e8f0f0c86eefd2cd38ff8
Author: Zeko <zeko@freeciv.xyz>
Date:   Sun Nov 17 07:45:49 2019 +0200

    Call get_tooltip_improvement in Qt client with city pointer

    Reported by Marko Lindqvist

    See hrm bug #846914

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 945a27c649e08657f7edf8282dc42726250b0873
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Nov 17 06:08:34 2019 +0100

    webperimental: adjust "Heal Unit" cost.

    The only unit that can do "Heal Unit" is the Leader. Spending all his
    movement points to heal up to 25% of some unit's hit points is too expensive.
    Reduce the cost to a single move.

    Feature #847689

commit 8dcf0aa583e939568f63bf28a790c3ea946499c1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jan 13 14:03:33 2019 +0100

    Ruleset saving (ruleup) test.

    See hrm Feature #752136

commit b6e01c4068e364d9f375971d8f4de9a6d7776f47
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 16 07:09:26 2019 +0200

    Switch from python to python3

    See hrm Feature #842994

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 25a386b3fd3bc9f5df54c0bc0685d000b2128f2e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Nov 15 13:57:58 2019 +0100

    Clarify that actor unit may be a non diplomat.

    The unit action server query code started by reusing the existing spy action
    code. The actor unit was therefore often referred to as diplomat. Change
    names to make it clear that other kinds of actor units may use this system
    too.

    See hrm Feature #847398

commit f2173409a8e09fea9fecfb79ddf7dcf64fdab425
Author: Andreas RÃ¸sdal <andreas.rosdal@gmail.com>
Date:   Wed Jun 14 22:44:10 2017 +0200

    Set MAP_MAX_SIZE to 38 for Freeciv-web.

    Freeciv-web has carried a patch to increase max map size for Freeciv-web
    since 2017. MAP_MAX_SIZE is inside an ifdef FREECIV_WEB in Freeciv. Apply the
    patch Andreas added to Freeciv-web to Freeciv so Freeciv-web can drop it.

    See hrm Feature #847376

commit 23ae684640fc1995301f3a427ce8ffbafcbf19ae
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 14 04:36:42 2019 +0100

    Auto help: document unit turn ending actions.

    Document actions that ends the actor unit's turn because of the effect
    Action_Success_Actor_Move_Cost. This makes it consistent with how "Attack"
    ending the actor unit's turn because it has the OneAttack unit type flag is
    documented.

    See hrm Feature #847267

commit 28a69a38ec6a368b91b5a3d5cb0c0c28dd8a07ab
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 14 10:03:51 2019 +0100

    universal_fulfills_requirement: support actions.

    See hrm Feature #847262

commit 9c7607db530480fb1ad6590b7fbeb8538708159d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Nov 13 07:32:24 2019 +0100

    New effect Action_Success_Actor_Move_Cost

    Introduce the new effect Action_Success_Actor_Move_Cost and use it to soft
    code successful action move cost for the actions "Establish Embassy",
    "Investigate City", "Bombard", "Capture Units", "Expel Unit" and "Heal Unit".

    See hrm Feature #846773

commit cfa2ebccba99605c193045b153d449bef4a3ac6f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Nov 13 14:49:14 2019 +0100

    Include terrain_control in movement.h.

    SINGLE_MOVE and MOVE_COST_IGTER in movement.h refers to terrain_control.
    Include it.

    See hrm Bug #847090

commit fa071cd3aae5506330e23088c34c341bec588108
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 12 10:46:27 2019 +0100

    Centralize successful action move cost.

    Successfully performing certain actions has a movement price that is
    subtracted after the action is done. Centralize this subtraction for the
    actions "Establish Embassy", "Investigate City", "Bombard", "Capture Units",
    "Expel Unit" and "Heal Unit".

    See hrm Feature #846967

commit 423625c68619eb32585aa762c596bbecf49642b5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 12 13:05:45 2019 +0100

    freeciv-manual man page: document tech output.

    See hrm Bug #846835

commit 4e57e3b9332b6c1dfdb37362394351bcaf140545
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 12 10:30:26 2019 +0100

    Replace magic number of max move frags...

    ...with the macro MAX_MOVE_FRAGS.

    See hrm Feature #846809

commit 0a92b6869180ae94dd23840f9ed36716bc1431d9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Nov 10 18:05:42 2019 +0100

    Move unit_type's need_improvement to build_reqs.

    Move unit_type's need_improvement to the internal build_reqs requirement
    vector.

    Don't change the ruleset format. The requirement vector support for unit_type
    isn't ready to be exposed yet.

    See hrm Feature #846539

commit 6a56d14d4aa880a827916a1842029536beb488d3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Nov 11 00:25:35 2019 +0100

    CanPillage unit class flag to the ruleset.

    See hrm Feature #846557

commit b18930195a8cbe9bf05fac1705501c9ee9043e0b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Nov 6 18:46:39 2019 +0100

    Internal unit type requirement vector.

    Add the requirements vector build_reqs to unit_type. Store unit type's
    government requirements in it. Replace use of unit_type.need_government with
    use of the requirement vector.

    Don't change the ruleset format. The requirement vector support isn't ready
    to be exposed yet. (When it becomes ready it will probably have another form,
    like an action enabler for an action with a city actor.)

    See hrm Feature #846538

commit 997edc7cddbd0f51fece3eef8bf0307f352407ff
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Nov 10 14:59:28 2019 +0100

    Fix city worklist building postponing.

    Make building postponing happen again.

    See hrm Bug #846514

commit 2cc1bb29ccdca168cf12831db849f45ccc132f65
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 7 12:25:53 2019 +0100

    Factor out postpone build req vec reasoning.

    Factor out worklist_change_build_target()'s logic that goes over an
    unbuildable building's requirement vector to see if it should be postponed or
    canceled.

    See hrm Feature #846513

commit d3bcfd37fb1f4b3f8fb427aa1c2cca2635ac9e82
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Nov 8 07:20:05 2019 +0100

    Comment fact fix

commit 6d125fcde6d8905b4b651e94af7f54a513a299bd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 7 08:04:26 2019 +0100

    Add more unit class user flags.

    "Missile" moved to the ruleset. A 3.0 ruleset may use all 8 itself. Add more.

    See hrm Feature #846122

commit 639b2667030309fd0b0b362e0ed9c7b29968ed7b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 7 08:09:04 2019 +0100

    Fix comment typo

commit c99f29bd4f0130276f0713ea8e655da48fb8ff22
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 5 13:31:28 2019 +0100

    protocol: standardize action main target fields.

    Action sub target fields are already transferred as ACTION_SUB_TGT. Do the
    same for main targets by introducing ACTION_TGT. It is large enough for all
    main target kinds.

    See hrm Feature #845766

commit 745a2a230e923c07a3f24d849f2c740338a1651b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Oct 30 23:46:44 2019 +0100

    adv_data: stop claiming utype flag control...

    ...over the action enabler controlled unit abilities "Paradrop Unit",
    "Airlift Unit" and "Suicide Attack".

    See hrm Feature #845488

commit e9436a809f6f6630835cef0d15cff42698f13f7c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Nov 17 17:26:42 2018 +0100

    Missile uclass flag to the ruleset.

    Move the Missile unit class flag to the ruleset and lift the restriction that
    a unit that can perform "Suicide Attack" can't perform regular attacks.

    This makes units that can attack the normal way but also perform suicide
    attacks possible. Rules for what circumstances permits regular attack and
    what circumstances permits suicide attacks are action enabler controlled.
    Example rule: an air unit that has to perform a Kamikaze attack to fight sea
    units. It has combat bonuses against sea units to make the Kamikaze attack
    worth performing.

    See hrm Feature #787111

commit 8b2989b6680c94400aa87b1ded219a141123af6a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 5 13:00:31 2019 +0100

    Fix incomplete comment.

commit 26b61a8bb2ba7ea04203dffd3cee5d1b48f25032
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 20 04:39:33 2019 +0300

    Update included lua-5.4 to version 5.4.0-beta

    This is only a version number update in documentation.

    See hrm Feature #842591

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a0cb02cf37a2ed9fd49fd87048ea5e4b3ccf5e9b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 12 19:19:35 2019 +0300

    Update msys2 environment to 191012 level

    See hrm Feature #841414

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a9b94235d1677a86a8a4b2902be1bdfa6528e518
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 12 05:37:42 2019 +0300

    Update included lua-5.4 to version 5.4.0-beta-rc2

    See hrm Feature #841262

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ac45f28be09dc3bf14a2604c1871f6939ee0fbec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 12 05:22:39 2019 +0300

    Make extra placing to take place at turn change

    Extra placing is no longer an immediate action.

    See hrm Feature #826830

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dcc3eb32d7cc68431eac573ad760e73bbcccb934
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Fri Oct 11 11:27:12 2019 +0200

    Updated French translations

commit ab1c8f2a914300783f769819bed37c848c66721a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 7 15:25:42 2019 +0300

    Fix segfault at loading older format savegame

    Conversion of the action_vector was trying to save excess, uninitialized,
    elements.

    See hrm Bug #840623

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 94a27480f3a66b79bbaefd4cc79847a57ef32770
Author: Louis Moureaux <m_louis30@yahoo.com>
Date:   Mon Oct 7 01:43:15 2019 +0300

    Replace Qt client-side rally points with server-side ones

    Server-side rally points have numerous advantages. Shortcomings to be addressed in future patches:

    * Possible crash if a city is destroyed while setting its rally point (issue #830553)
    * Orders are not displayed while setting the rally point
    * Only supported by the Qt client

    A shortcoming of server-side rally points is that they can only be set if an unit is being built.

    See HRM feature #840514

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7176e19a7fb8317767d533320a00f63cfa770a92
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 5 23:50:29 2019 +0300

    Update included lua-5.4 to version 5.4.0-beta-rc1

    See hrm Feature #840145

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 243d5ad0745e2409667d4398c5814d7d2ec918c0
Author: Louis Moureaux <m_louis30@yahoo.com>
Date:   Fri Oct 4 09:28:11 2019 +0300

    goto.[ch]: add support for rally points

    Add functions to send rally point packets to goto.[ch]. The interface
    mirrors the one used for normal goto orders.

    See HRM task #838543

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 461b045bff0ddc5cb740ef76de29c315cf7b30d4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 4 09:05:07 2019 +0300

    Set RULESET_COMPAT_CAP to "+Freeciv-3.0-ruleset"

    See hrm Feature #820799

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 841ad229df9e1bae5350046145e2d47045a7e439
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 4 08:21:10 2019 +0300

    Set master soundset capstr to "+Freeciv-3.0-soundset"

    See hrm Feature #820798

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5b160a5990561219dac7f7cc4e2f00515216752e
Author: Louis Moureaux <m_louis30@yahoo.com>
Date:   Mon Sep 23 06:10:53 2019 +0300

    Factor out make_path_orders in client/goto.c

    The new function will be used for rally orders.

    See hrm Feature #835674

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e9164a6f71bdcc7093e4aae8abb09d9b9d377faa
Author: Louis Moureaux <m_louis30@yahoo.com>
Date:   Thu Sep 5 14:20:56 2019 +0300

    Update README.delta with information about struct fields

    See hrm Feature #834328

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6f6d707e827bdc6d2f85712b2b3bd35497d79c96
Author: Zeko <zeko@freeciv.xyz>
Date:   Wed Sep 4 01:45:33 2019 +0300

    Remove unused function: tile_{add,remove}_{base,road}

    See hrm #831057

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e32e134c64dfcec56cd435804eab6c565bf1c648
Author: Louis Moureaux <m_louis30@yahoo.com>
Date:   Tue Sep 3 15:59:48 2019 +0300

    Network protocol: turn unit orders into array of struct

    Unit orders were sent as 5 distinct arrays:

      ORDERS orders[]
      DIRECTION dirs[]
      ACTIVITY activities[]
      ACTION_SUB_TGT sub_targets[]
      ACTION_ID actions[]

    This combination was used four times in the protocol. This commit turns
    all of them into a single array:

      UNIT_ORDER orders[]

    This change simplifies the interface of some orders-related functions,
    making it possible to share code between goto and rally points.

    See hrm Feature #833667

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e78bf3730c6e8f62b080008116e364885f333c5b
Author: Zeko <zeko@freeciv.xyz>
Date:   Fri Aug 30 05:01:21 2019 +0300

    Remove unused function: zoc_ok_move

    See hrm #831056

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit faf49be4fc5a85283294a8a8e9060cdbc6329bfb
Author: Zeko <zeko@freeciv.xyz>
Date:   Thu Aug 29 17:28:16 2019 +0300

    Add handling of SDL_FINGERDOWN events

    See hrm #831742

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 819a49c7973fdbf19f0e0de05e6a174872d74ba3
Author: Louis Moureaux <m_louis30@yahoo.com>
Date:   Thu Aug 29 13:49:35 2019 +0300

    Move do_make_unit_veteran() to common/city.h

    Also rename it to city_production_unit_veteran_level since it doesn't
    do anything to the unit.

    This function is needed in the client in order to set rally points.

    See hrm Feature #830557

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 67a9b6ae8e197e71115a8bfbdb5d5db6ba5538d9
Author: Zeko <zeko@freeciv.xyz>
Date:   Sun Aug 25 08:28:51 2019 +0300

    Remove gui_iconv because it is dead code

    See hrm #831012

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 598d2dc388b73d84550c5573c10b8b6209fdad61
Author: Zeko <zeko@freeciv.xyz>
Date:   Sat Aug 3 10:05:03 2019 +0300

    Fix multiple declaration of pOptions_Button

    See hrm #829535

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a255f35f41ffb55dc4e6c1bf9864714c5d8b2c7e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 3 09:49:05 2019 +0300

    Fix gcc9 warning in mapimg_generate_name()

    See hrm Bug #830116

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a53ac41fc25ae24b2f768db863374c5965e73738
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 30 21:51:41 2019 +0300

    Meson: Install stdsounds

    See hrm Feature #829523

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 445c845c13cb5a6c27d961c3277f04960af3d036
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 18 11:54:19 2019 +0300

    Granularity: Use default nationlist

    See hrm Feature #827548

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3639cd98396d7ae17a9400d5fa068204d44d1c1f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 26 23:48:14 2019 +0300

    Travis CI: Use 'apt' instead of 'apt-get'

    See hrm Feature #829052

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 95346174b81240dd78663df1a1694bc145d89107
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 18 12:04:31 2019 +0300

    Add AI trait "Builder"

    See hrm Feature #825086

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8373f31c0e40fd70cbd37eb45a3e5785dc166b96
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 27 09:43:00 2019 +0300

    Update msys2 environment to 190727 level

    - Updated to use upstream snapshot 190524
    - Empty package cache

    See hrm Feature #826810

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c93f95b6ccbf13ee521bf1496538263ffe43e8ae
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 17 07:44:18 2019 +0300

    Granularity: Multiply move costs and rates by 5

    Make units subject to terrain move costs for the correct costs
    to apply to them.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 503b5e2cf6168f9593482a52db125bda2a98b50b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 18 09:38:38 2019 +0300

    Alien: Replace ui_name_irrigate_tf by ui_name_cultivate

    See hrm Bug #827524

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2704537a7f3a988bbc0f9abd2f4d4756d0fce67f
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:   Thu Jul 18 10:01:37 2019 +0300

    Female Kibutznik is Kibutznikit

    Changed to the correct form

    See hrm Bug #829168

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7e583860621cfae0a0fa7ae24711e9be6d9d3307
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 16 05:37:33 2019 +0300

    Granularity: Set base Max_Rates effects

    See hrm Feature #826832

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3e6fab18db4410c046cb023e4e2316f421849389
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 18 08:51:39 2019 +0300

    Meson: Install gtk3.22_menus.xml

    See hrm Feature #827508

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b1ec8176c8fcab4f64f0e23660a4461a3a3b8c79
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 17 12:44:18 2019 +0300

    civ1: Remove max rates limits for tax/sci/lux

    Reported by nef

    See hrm Feature #827329

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f6cca34be04f811cab76027a0b8684bc3fbaa182
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 16 02:21:51 2019 +0300

    Granularity: Setup Grassland terrain

    Replace Generic terrain with Grassland. Make it to provide 200 food.

    See hrm Feature #826807

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 85016b1ca4f24092aec3b154a64ec61fe1296fb2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 15 20:28:10 2019 +0300

    Granularity: Multiply attack/defense values by about 10

    Nomads have attack & defense of 7 instead of 10.

    See hrm Feature #826739

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0f1ddb15357291f5703ed329a23bd7d9532732c6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 8 00:57:00 2019 +0300

    Disallow placing extras where also workers are making changes

    See hrm Feature #825236

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 145acd4429f0bc48c84ed740a6ed71aa12f0a4d1
Author: Zeko <zeko@freeciv.xyz>
Date:   Fri Jul 26 21:22:48 2019 +0300

    Remove unsafe QString construction from uninitialized char array

    See hrm bug #827171

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 965af7e322d25e41e14a2bedb1a4041a2d68f070
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 15 09:15:33 2019 +0300

    Meson: Install large flags

    See hrm Feature #826396

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e6d87fe0003a8ef821029a768caaba7d6bbbbd95
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 8 01:41:10 2019 +0300

    README.scenarios: Add chapter about savegame compatibility

    See hrm Feature #825240

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 828ee717266f9619e63c73a61adb55e8acd4e874
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 7 12:01:55 2019 +0300

    Granularity: Add base "Size_Adj" effects

    See hrm Feature #825214

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3945c3da2f842c1df07fd17952459beab41d9b1b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 17 05:57:48 2019 +0300

    README.packaging: List tex ai being built in by default in new features

    See hrm Feature #827157

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cfa277790d74cae0ee4d0ec1c5a46d8af1882e2c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 7 01:02:20 2019 +0300

    Rename comments.txt as comments-3.1.txt

    See hrm Feature #825209

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 267f259abac3301f9e48303f61f2c849e98b5cd5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 5 09:17:07 2019 +0300

    Add adv_choice_get_use()

    See hrm Feature #825091

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4967e4a153e8575aaddb801df2de1e722b211c8f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 22 21:40:53 2019 +0300

    Fix stringop-overflow compiler warning in xml registry

    See hrm Bug #828263

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 99feab328d942777b97d7080f1fd97fe491d6f8d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 20 16:42:52 2019 +0300

    Update to crosser-1.8

    See hrm Feature #827999

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1b701966a50bfb57378094d1441ae2e7ef3b6f44
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 23 10:16:51 2019 +0300

    Comment typofix: "is is" -> "is"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 174830b7e30a051f21c0cc1c2e2d2a4543079a78
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 23 09:51:38 2019 +0300

    Typofixes: "Is is" -> "It is" / "Is it"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9e82a78d3cd219b72f8fde411c632eaba6ed4686
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 9 02:02:13 2019 +0300

    Meson: Install building and wonder icons

    See hrm Feature #825445

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 24e761e11c4080c2ecc00a828e10f1aaf5b7f886
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 5 19:33:24 2019 +0300

    Disable FIELD_RANGE_ASSERT

    It has been enabled by accident.

    See hrm Bug #825126

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c8d550a8acbff66cb52b44e04cc6604820bc471b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 5 04:12:51 2019 +0300

    find_something_to_kill(): Count considered unit as one more attacker

    When counting how many units there would be to attack enemy city,
    and considering an unit to be built, count the considered unit in.
    Maybe attack is worthwhile with the new unit.

    See hrm Feature #825074

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b03849f0a3823ebf5bbf2535a0308174aa0f85c3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 5 02:06:09 2019 +0300

    Help: Do not claim that extra is placed by generator when it's not

    If extra has 'generated = FALSE' help should not say it's placed
    by map generator. Also, made it to say that generated extras
    of resource kind are placed by map generator.

    See hrm Bug #825071

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e768799056e99738debe16dca2bb676b24922ee9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 18 11:50:08 2019 +0300

    Do allowed_terrains check against original city name hint

    The code to check if terrain given as city name hint exist modifies
    the name to check also non-plural form if the terrain is not found
    with original. Later allowed_terrains check should be against the
    original name given in as the hint regardless.

    See hrm Bug #827555

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a1bae5a16c0c38a07722a2764b552df4f0150e84
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 4 20:01:08 2019 +0300

    Meson: Build freeciv-mp-cli

    See hrm Feature #825023

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 53913c2e6fada531c555ff13a1a4cb39d287b920
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 4 21:41:24 2019 +0300

    Granularity: Add first techs

    Set tech requirements for existing units.

    See hrm Feature #825029

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1aaa409d6748d68703e669652895995d86e99c51
Author: Louis Moureaux <m_louis30@yahoo.com>
Date:   Thu Jul 18 03:13:26 2019 +0300

    Fix negative array index in send_path_orders

    i can be equal to 0 after the loop when a final_order was given without a path.
    This caused p.orders[-1] to be read. Prevent it by requiring i > 0.

    See HRM issue #827156

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d15a8e054fd2b203a2a4799d2355fb0492c5dd3c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 5 03:53:42 2019 +0300

    Fix military advisor to consider sea attacker instead of land attacker twice

    See hrm Bug #825073

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ea15fc761acc4145ed984cab87dcf8e135360071
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 4 01:52:55 2019 +0300

    Meson: Install techs.png

    See hrm Bug #824833

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5975091fb230233c3eefbb9d708da10b0a265a02
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 2 17:26:58 2019 +0300

    Granularity: Set output_granularity to 100

    Multiply output values by 100 everywhere.

    See hrm Feature #824526

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1b9627a677fe9c4bd7215ba0919652899a1037fc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 4 17:55:21 2019 +0300

    Update included luasql files to luasql-2.5.0 level.

    See hrm Feature #824990

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4655d120a7f70187a63459653eea45cc289d920d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 29 18:54:07 2019 +0300

    PF: Support move costs bigger than 253 in fuel maps

    See hrm Bug #824102

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1a506932ed2c5c18e136a353eab5be57f5abdf74
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 4 01:43:14 2019 +0300

    Meson: Add checks for functions

    See hrm Feature #824830

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1fbca91d97f2cca603a09fac992c5cbf308329e2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 18 11:59:38 2019 +0300

    Adjust network protocol for high granularity

    See hrm Feature #826808

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a2c9db1b27dcf7c08c97658419626613eb926881
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 4 00:10:13 2019 +0300

    Alien: Give "NeverProtects" flag to Burrowing units

    See hrm Feature #824810

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 428a9388839c5d64a2a256691e3d4e749444d4cf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 15 03:21:24 2019 +0300

    Bump .modlist, .mpdl capability string

    See hrm Feature #826215

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a527d19d529f620d69570a5d84945f64781d21d5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 3 22:57:26 2019 +0300

    Sandbox: Do not call default.lua hut handling for Hermit's Place

    Reported by Alexandro Ignatiev

    See hrm Bug #824818

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit af5ff75b5b907416a90c5f784cc7617cd6a4ba6e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 8 01:25:15 2019 +0300

    civ1: Don't allow planting Forest to River tile

    Reported by nef

    See hrm Feature #825239

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 88dedbc15d26b8c0ddddbc1225367742fc0c5db5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 3 03:52:49 2019 +0300

    Granularity: Set base City_Unhappy_Size effect

    See hrm Feature #824596

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6591a59eca999c4726c30381da767928f592f50d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 2 22:59:20 2019 +0300

    Tex: Use tex map unit list when evaluating city worker tasks

    Use worker thread's copy of player unit list when evaluating city worker
    tasks, to avoid trouble when workers get killed in main thread while worker
    thread is going through tasks they could be doing.

    See hrm Feature #824565

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8ccf0ccb6a55961c7217573a9576b81daeb63d13
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 3 04:44:56 2019 +0300

    INSTALL.meson: Document important upstream implemented configure options

    See hrm Feature #824597

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 060e6bef5379c373f1d852b3caf057d3ee7a35e2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 16 00:46:56 2019 +0300

    Rename aicity.c as daicity in POTFILES.in

    See hrm Bug #826803

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fe0c5da47043d2993a62a4c0275e00aece008dec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 29 21:15:41 2019 +0300

    Rename ai/default/aicity.[ch] as daicity.[ch]

    See hrm Feature #824110

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f9fbee362750bda9288d738d0215203a8381a203
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 7 13:59:55 2019 +0300

    Granularity: Set summary text to granularity ruleset one

    Replace summary text derived from stub ruleset, and specific to
    stub ruleset, with a text suitable for granularity ruleset itself.

    See hrm Feature #825217

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c9251a5ef4795c7bfbae30271a4ef62f6e852c6e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 3 00:39:45 2019 +0300

    Meson: Check for fork() and vfork()

    See hrm Feature #824588

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 46cb1b65593792fcbfce039008127c07407e2e75
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 29 16:54:05 2019 +0300

    AI: Consider "Coast" units usable boats

    Relax is_boat_free() check against fuel using units to allow
    UTYF_COAST units to be used as boats.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ede67b466ad1319daad2f2a59c121b09aae13d2b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 2 22:38:50 2019 +0300

    Bump .tilespec and .spec capstrings

    See hrm Feature #824555

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 319847140ba4e54ba2e607409c38895844913e72
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 7 12:38:25 2019 +0300

    Adjust max values for ruleset settings for high granularity

    See hrm Feature #825215

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9bb4349d07b4198f89f46932eff55f3cdd47d2c6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 29 18:52:26 2019 +0300

    PF: Correct check against impossible move in pf_fuel_map_iterate()

    See hrm Bug #824100

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c88ffff5694be8375c4104baf168419db8efa486
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 13 23:23:30 2019 +0300

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e76d82582490e249aea5c339c988f290d2ef6b0c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 30 11:42:18 2019 +0300

    civ1: Correct River helptext

    It was claiming that River can exist on any land terrain when in
    reality it can exist only on Grassland.

    Reported by nef

    See hrm Bug #824129

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f609fa628407e534ea15676d7e38844b0d419acd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 13 06:28:42 2019 +0300

    Add history_interest_pml ruleset setting

    See hrm Feature #823245

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 586ad2253a683eb22ba0c3b2ebd8811422c64868
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 29 09:41:29 2019 +0300

    Meson: Set IS_DEVEL_VERSION

    See hrm Feature #824085

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 02419650ebdb8ebb455c2e74257640281a021b63
Author: Zeko <zeko@freeciv.xyz>
Date:   Sun Jul 7 10:27:38 2019 +0300

    Clarify helptext for airliftingstyle setting

    See hrm #825210

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a38a2d3ff140d837952597f8bfd5ed67d4bba54c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 29 18:48:01 2019 +0300

    PF: Handle FC_INFINITY move cost in fuel maps

    tile_move_cost_ptrs() uses FC_INFINITY to flag that all
    movement is spent. Handle that special value if received
    in pf_fuel_map_iterate()

    See hrm Bug #824099

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 78839df322cad1532ca33f5f66d986673f77cb68
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 29 06:12:01 2019 +0300

    README.scenarios: Add chapter 'Luadata'

    See hrm Feature #824071

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6082bd4886ed1459f411617ee3da7395a756278e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 8 02:18:53 2019 +0300

    Fix gcc9 warning in NDEBUG build

    See hrm Bug #825241

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f76f6c8a63e91412bd033ccbe2b8f8694fc7acac
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 29 10:39:58 2019 +0300

    Allow placing extras to own territory only

    See hrm Feature #824087

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6270ecb8971e36c66be022668ae24c2a57fd7882
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 28 06:42:11 2019 +0300

    Meson: Install stdmusic

    See hrm Feature #823707

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cc98cbafeb3ea674e9f0102c312c1b31a8ff01c9
Author: Zeko <zeko@freeciv.xyz>
Date:   Thu Jul 11 02:54:48 2019 +0300

    Implement server side of the rally points

    See hrm Feature #822928

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 782f25c8fcdc9c14803cffa03b7cc75e0b6dd591
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 7 23:06:34 2019 +0300

    Qt: Correct display of adversary luxury rate

    Reported by Jacob Nevins

    See hrm Bug #825218

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5629c729c0b78a467f6930ae13860f1ef4f01ca3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 29 09:26:40 2019 +0300

    Granularity: Add Nomad and Warriors unit types, remove Generic

    See hrm Feature #824080

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7b5461cbbac874bb7773ec5dfefe23d5be899421
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 26 05:26:00 2019 +0300

    README.scenarios: Document [scenario] fields

    See hrm Feature #823395

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 158b11d4c8e35c3d920ba88b93e5a20e70720f86
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 28 06:38:24 2019 +0300

    Meson: Enable audio

    See hrm Feature #823706

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b6439cb1a93dfd7b2aec5a40b026fa6db7252dd9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 10 00:10:54 2019 +0300

    Add ACTIVITY_CULTIVATE, ACTIVITY_PLANT

    They do only tile transformative part of
    ACTIVITY_IRRIGATE/ACTIVITY_MINE. ACTIVITY_IRRIGATE/ACTIVITY_MINE
    are not changed; they still do both extra building and tile
    transformative forms, as they are still what is actually used in
    most cases. There's no way to initiate the new activities from
    the client.

    See hrm Feature #824074

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2cd6d13c35e4f5c2d2139ddc80ef4dbcd92232d9
Author: Zeko <zeko@freeciv.xyz>
Date:   Sun Jul 7 10:18:44 2019 +0300

    Fix heap buffer overflow when stripping string prefix

    See hrm bug #769012

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a66022307d134249d479b659abf3f07e00f5f330
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 28 21:47:46 2019 +0300

    Add configure option --enable-ruleup

    See hrm Feature #823938

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 647412ee2a9d6e013896c4fabb1229930c05df96
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 24 23:14:08 2019 +0300

    INSTALL.meson: Add chapter about prerequisites

    See hrm Feature #823133

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ff67f1613da6a14c288ad160204bbb8f3d13b4ba
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 28 08:11:40 2019 +0300

    Granularity: Add Settlers unit type

    - Add action enabler for city founding
    - Add Settlers unit type
    - Remove "CitiesStartUnit" role from Generic unit

    See hrm Feature #823714

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 78d2c0175d52d3c72d9bdba1be57121f1ba471c6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 9 00:10:33 2019 +0300

    Add extra rmcause "Enter", use it for huts

    Patch by Alexandro Ignatiev and myself

    See hrm Feature #802768

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ce89223df146dbdc0a637294d192343f95672a17
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 1 16:16:09 2019 +0300

    PF: Fix handling of NS_PROCESSED in fuel map iteration

    In case of fuel map iteration, even already processed tiles can
    be rechecked if they are not refuel point. Make sure that when
    that happens, they do not end to main queue, but only to waited_queue.

    See hrm Bug #824278

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 31d50eb11f054e10e11ff3225ad4c7c3be97dd4c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 1 23:06:53 2019 +0300

    Rename "Irrigate TF" action enabler as "Cultivate"

    See hrm Feature #821921

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 94257d4c010fb5f3d36dca65092878acfaeda645
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 25 19:19:56 2019 +0300

    civ1: Make Great Wall to protect against population loss

    Great Wall is documented to be equivalent of having City Walls
    in every city. City Walls protect against population loss, so
    Great Wall should too.

    Reported by nef

    See hrm Bug #822929

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 14476905b94277d6beb428814acea2b5c29b7803
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 24 07:06:44 2019 +0300

    Meson: Define FREECIV_DEBUG in debug builds

    See hrm Feature #823013

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c43f6bde93034eef1447bf2a99fe47ae0962fa73
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 24 22:30:53 2019 +0300

    Travis CI: Make also C++ compilations with -O3

    See hrm Feature #823123

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit beff81a442e2c769f9eda895c5c0dd4f52f42d2c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 24 17:43:37 2019 +0300

    Tell ruleset section name in ruleset update log warnings

    Converting some 3.0 effects to 3.1 action enablers can result
    in warnings in the conversion log. Tell which ruleset section
    they are about.

    See hrm Feature #823056

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8c9e0d5abd44c43c1eff92a4d563bb78fba71167
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 5 19:07:42 2019 +0300

    Make food_stock signed value in network protocol

    See hrm Bug #661865

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5626f4fec5ee04611589556af2116d4841226681
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 7 17:48:56 2019 +0300

    Add 'infracost' property for extras

    See hrm Feature #823926

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e5d8962bfc5e0cd257bf8efacf13572f133783bb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 23 12:23:10 2019 +0300

    Granularity: Setup file headers and descriptions

    See hrm Feature #822935

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6110ed1472b3dc70a27b88e66ff2f65a6db12f8b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 23 13:42:38 2019 +0300

    Meson: Install data/ruledit/comments.txt

    See hrm Feature #822959

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c37197d79a55feeba99a1aca3c0110dac13865e5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 23 10:57:49 2019 +0300

    Travis CI: Add granularity ruleset loading test

    See hrm Feature #822934

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 35def4fcdb3ee6f1fe0434ea8f511b149784af7f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 3 02:11:03 2019 +0300

    sdl2: Do not try to add callbacks to the list when client is closing

    Reported by ZoltÃ¡n Å½arkov

    See hrm Bug #824593

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d22393f2c2a22ee33ff0dda7f005e60348feaf1d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 23 01:13:04 2019 +0300

    Document --wiki option in freeciv-manual manpage

    See hrm Bug #822921

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 85567c921303df54deb331657a34d3fe3f2af622
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 23 07:54:08 2019 +0300

    civ1: Make only Artillery and Bombers to ignore City Walls

    Reported by nef

    See hrm Bug #822926

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3d94040eb30c36529bf7e6c4770136a78f8f75f3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 3 22:38:14 2019 +0300

    Display remaining infra points in infra placement dialog

    See hrm Feature #822922

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ceaad8dd7a3c7177fe45bfca78604c4ea50b7cc8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 30 01:59:50 2019 +0300

    Improve documentation of terrain.ruleset [extraui] section

    See hrm Feature #824117

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bd5f15b33c0db5e6f2b367ab7e039abe601fc3b8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 23 01:01:43 2019 +0300

    Add manpage for freeciv-ruleup

    See hrm Feature #658078

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 998dd219509f9f43bbb5ec5e2e1200d9602cc948
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 24 05:01:05 2019 +0300

    Meson: Build freeciv-mp-gtk3

    See hrm Feature #822920

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a6e7ac5536820318dab196349f403c16972106ed
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 22 20:45:05 2019 +0300

    Travis CI: Use python3 instead of python2

    See hrm Feature #822909

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0a86c72bdab44756315cbda4b78f3b7cece19f87
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 23 10:34:35 2019 +0300

    Copy stub ruleset as granularity ruleset

    See hrm Feature #822933

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5e73bcd35a8a42fa24a39ad4ac915e7f9f8f2496
Author: Zeko <zeko@freeciv.xyz>
Date:   Wed Jul 3 02:40:42 2019 +0300

    Fix arithmetic error in SDL2 create_line

    Reported by Ignatus and ZoltÃ¡n Å½arkov

    See hrm Bug #824589

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 320d4b6aa6f168da5ed66204628b08658369c040
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 22 21:48:32 2019 +0300

    Build libfreeciv-srv library when freeciv-manual or freeciv-ruleup enabled

    Server library was not built if both server executable and ruledit builds
    were disabled. Also freeciv-manual and freeciv-ruleup need it. When both
    server and ruledit were disabled, freeciv-ruleup build was failing and
    freeciv-manual build was implicitly disabled even if explicitly enabled.

    Reported by MÃ¡ximo CastaÃ±eda

    See hrm Bug #822914

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 46ad49a5363fed5ec2054f5c56e4234d720690f2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 22 20:44:46 2019 +0300

    Travis CI: Install python3.7 instead of python3.5

    See hrm Feature #822907

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d567a724498ec1763168009c637d8b0759c2b367
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 3 22:02:37 2019 +0300

    Add unit type flag "NeverProtects"

    Requested by Lexxie L

    Patch by S.C. L. and myself

    See hrm Feature #809471

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8d89a91194c7667675d57b5cbdd7c2e49ac2c371
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 20 03:50:18 2019 +0300

    Add initial version of README.scenarios

    See hrm Feature #822122

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d1af48588ca2b91dce5b2b0c43845deaf95cf53b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 1 22:56:40 2019 +0300

    Rename "Mine TF" action enabler as "Plant"

    See hrm Feature #821916

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 247cc047aff1c9e8a8fe7ec7fd8c4b6636114889
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 22 20:44:26 2019 +0300

    Travis CI: Build gtk3.22-client

    See hrm Feature #822905

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d70503c8a10cdb67cb97cba59f370b0adb4767b7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 18 20:43:20 2019 +0300

    Meson: Install individual nation rulesets

    See hrm Bug #822280

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 508296e673bfefa45625ee4d71e4f7ec4b7195c0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 2 17:24:22 2019 +0300

    Add output_granularity ruleset setting

    See hrm Feature #822932

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9161cc2aa2a77446f1888a994a94b58901f88148
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 29 08:48:58 2019 +0300

    entry_str_set(): Free old entry only after allocating a new one

    This supports the case where the new entry is supposed to be
    copy of the old one. This is useful when replacing only some
    entries of the string vector, i.e., keeping some unchanged.

    See hrm Bug #824076

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ee4d06a3c292ba6891a6b4c3ce4657b7a5ed6739
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 22 20:44:08 2019 +0300

    Travis CI: Update to use Bionic build environment

    See hrm Task #822903

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3a351826c86ca703d6b26daf54cf14563cbc3d2b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 18 19:20:30 2019 +0300

    Meson: Setup data paths

    See hrm Bug #821612

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 485728ee0c4a23233fe2ed41daa600ba113e8cc7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 25 16:46:04 2019 +0300

    Stub: Make styles.ruleset file header template-like

    Replace file header comment in stub ruleset styles.ruleset file
    with a similar comment and template description as in other
    stub ruleset files.

    See hrm Bug #822938

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6664a22584714a912d76f3ea65accd4b42e4b3ad
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 17 03:02:03 2019 +0300

    Introduce player_can_place_extra()

    See hrm Feature #821957

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a80a13faa344bc197454443ab89a94f68d8382f4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 15 04:03:03 2019 +0300

    gtk3: Use gtk_font_chooser_get|set_font()

    Replace gtk_font_button_get|set_font_name() calls with calls to
    gtk_font_chooser_get|set_font().

    See hrm Feature #821847

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 403d91b0a8e800286ad9b39a98311489d35f9ba5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 24 21:53:59 2019 +0300

    amplio2: Add extra_units.png|spec

    Art by XYZ, GriffonSpade, VladimirSlavik, and ngunjaca

    See hrm Feature #822790

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 081154d72a118475a3ac34a827ecfa53e0c6a03f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 18 18:58:10 2019 +0300

    INSTALL.meson: Document configure options

    See hrm Feature #822266

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8bdc68c066faca0e8c4919f5318a77ed5118c906
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 18 17:16:35 2019 +0300

    default.lua: Do not use 'type' as a variable name

    'type' is a name of standard lua function. It should be treated
    like it was reserved word.

    Reported by nef

    See hrm Bug #822189

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f456d213f304615e20750a24c5cc4bb865f1c127
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 29 17:30:23 2019 +0300

    Comment typofix: remeber -> remember

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 92ff326909b211246104f145471be0eea4d52d21
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 29 16:47:28 2019 +0300

    Comment typofix: are -> or

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 865ad341605556a56abce534e051189e98d2df20
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 26 08:07:35 2019 +0300

    rulesave: Fix erroneous newline breaking saved rulesets

    See hrm Bug #823431

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ab5fa13d8682d7ac2f05a9ad0a87bb0de130cd82
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 18 01:35:55 2019 +0300

    Add support for scenario specific luadata file

    See hrm Feature #822120

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5ea7ae00d782a457014cf4e66d40c0667d195148
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 15 04:37:44 2019 +0300

    README: State that gtk+-3.24 is ok for gtk3.22-client

    See hrm Feature #821848

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a7386df74306bb631a89d88ef2e4371920c7c11f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 27 17:00:30 2019 +0300

    Add concept of infrapoints

    In this initial version:
    - Added server setting infrapoints to control how many infrapoints
      players are granted in the beginning. Default is 0 to disable
      infrapoints feature. There's no other ways to get infrapoints.
      When they are gone, they are gone
    - gtk3.22-client is the only supported client. It has crude ui to
      place extras on tiles
    - Each player buildable extra costs 1 infrapoint to place

    See hrm Feature #821956

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6283e34c83ce6f166f090983f37193eceb8a8ac8
Author: Zeko <zeko@freecivweb.org>
Date:   Tue Jun 25 17:55:25 2019 +0300

    Correct off-by-one error in "land ahoy" achievement checker

    See hrm Bug #823174

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 646f4411a194b9bc5303b984067789e4cd3b0c04
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 16 19:48:10 2019 +0300

    Show player culture value in info label

    See hrm Feature #821946

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a150f4f51f57cd272aab5d8c12b8aa2bf49acaed
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 15 05:42:48 2019 +0300

    Document ruleset alt_dir support

    See hrm Feature #821831

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f5f8cc645c38c9e0b4294cc2e66b0e1e77df4f89
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 24 17:10:56 2019 +0300

    Add extra.units.png|spec for trident

    Art by XYZ, VladimirSlavik, ngunjaca, and danau

    See hrm Feature #823068

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 279bc26fdfd4ea5437aac8430a65b19b14e39ded
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 20 07:56:44 2019 +0300

    gtk3x: Replace gdk_window_...() calls with gdk_surface_...() calls

    See hrm Feature #822558

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c3f95ea2050fa1b4a10d97cff3cb7d2f9a58f3dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 20 07:54:43 2019 +0300

    gtk3x: Avoid gtk_style_context_add_provider_for_screen() usage

    See hrm Feature #822557

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit de4a8d65152effc1264b35327ef2952c2c20f189
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 20 07:52:31 2019 +0300

    gtk3x: Avoid gdk_window_set_cursor() usage

    See hrm Feature #822555

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 427f570d2d4e7a29901377d397a9a54b4b854542
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 20 07:46:59 2019 +0300

    gtk3x: Avoid gdk_cursor_new_from_pixbuf() usage

    See hrm Feature #822554

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f60de7974b3ea23721eca541fe9d2bdca36b71f1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 20 07:44:14 2019 +0300

    gtk3x: Avoid gtk_widget_hide_on_delete() usage

    See hrm Feature #821834

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e72632552275bd39aec100ed4d95d96bdb6b9067
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 20 07:43:38 2019 +0300

    gtk3x: Replace GDK_WINDOW_TYPE_HINT_... with GDK_SURFACE_TYPE_HINT_...

    See hrm Feature #780506

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4b6b2c08fe6ec2555050182e01e1f727bb85a38a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 20 07:42:56 2019 +0300

    gtk3x: Replace gtk_widget_get_window() calls with gtk_widget_get_surface()

    See hrm Feature #778154

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 97fdae0b084f82e023779e007e961a0915a260a1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 20 07:42:09 2019 +0300

    gtk3x: Replace GdkWindows with GdkSurfaces

    See hrm Feature #767466

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e4c33c9f5b3fe59b861315d971034a8ff414902f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 20 07:40:50 2019 +0300

    gtk3x: Pass GdkTexture to gtk_window_set_icon() calls

    See hrm Feature #780505

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 76f01c8e1a77e40dc2365d43834c883fd709c65a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 20 07:39:58 2019 +0300

    gtk3x: Drop extra parameters from gtk_button_new_from_icon_name() calls

    See hrm Feature #780503

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 750d3b9acf6a86f198ed27d9a84a6def234cea53
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 20 07:39:24 2019 +0300

    gtk3x: Avoid deprecated gdk_cursor_new_for_display() calls

    See hrm Feature #777522

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0ff468c0dc68ec572d74c80fb7aca3cf932b9c1b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 20 07:38:44 2019 +0300

    gtk3x: Drop extra parameters from gtk_image_new_from_icon_name() calls

    See hrm Feature #777529

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b588e3216ae54005c0b1c8fc873db950ade7feb9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 14 23:10:29 2019 +0300

    Set gtk3x-client to use gtk+-3.94

    See hrm Feature #767471

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0019ca2835a342ccd3b6d4761272166c1ecf166a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 15 01:50:51 2019 +0300

    Meson: Install hexemplio

    See hrm Feature #821844

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b1fa4245898c2ef5da5f7d4e12e5055583c95292
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 14 18:31:59 2019 +0300

    INSTALL.Cygwin: Document audio support building

    See hrm Feature #821798

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c4288a9d1b6de4b63f5f1135f9c38960323fef28
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 15 00:50:37 2019 +0300

    Add server settings for chance of losing inciting money

    Settings incite_gold_loss_chance and incite_gold_capt_chance added

    Patch by Gyubal Wahazar and myself

    See hrm Feature #797697

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4e481111ef32febf0e993ed894a0fc18c7a83514
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 14 23:47:19 2019 +0300

    gtk3x: Disable gtk3-style drag&drop implementation

    gtk4 drag&drop is still not present in gtk+-3.94, but gtk3 one is already
    removed. Disabling drag&drop code from gtk3x-client allows us to compile
    against gtk+-3.94 while we wait for later gtk versions to support
    drag&drop again.

    See hrm Feature #820718

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bcb7105a5621f7692e1bbe8bbf482a4443d420e4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 12 02:11:01 2019 +0300

    Add INSTALL.meson document

    See hrm Feature #821132

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit de64c4ea3c38b6ea6a883886a4491c6573191acb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 25 20:11:21 2019 +0300

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1c7887b8a42fde7152c143a38dcf4b99e2a6b9d6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 14 09:00:41 2019 +0300

    civ1: Do not claim in Barracks help that they heal units

    Units in civ1 have no HP to heal.

    Reported by nef

    See hrm Bug #821646

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5c97588fe2b62d06ea9d119c867e01d994d8b7c0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 14 07:20:29 2019 +0300

    Revert feature to allow scenario to make client show an image and play sound

    Hopefully it will be reintroduced with a better implementation in the
    future.

    See hrm Feature #771485

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 79497bc177b8c484c02403b0ea8bfd6b534bae95
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 14 08:01:40 2019 +0300

    INSTALL: Remove ancient warning against using -O3

    See hrm Feature #821642

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9bf388b6cfa264de7c29c6b69f44bb8afd35df08
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 14 04:58:11 2019 +0300

    Use place_starting_unit() to place nation specific start units

    This makes sure nation specific starting units are placed on a
    tile where they can exist, and any hut extras on the tile will
    get cleared.

    Reported by Jacob Nevins

    See hrm Bug #767129

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3b2568c0f97d64c10180dae71028b49945322f02
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 18 00:24:40 2019 +0300

    Add scenario option to inhibit loading of ruleset luadata.txt

    See hrm Feature #820980

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7daf947b8e6784ecb2fab9742ff6fe82130ebb5b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 11 04:23:55 2019 +0300

    Meson: Install helpdata.txt

    See hrm Feature #820977

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ba61db69fd88edc951c4138678e8de26c58f4379
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 13 17:18:43 2019 +0300

    Update included lua-5.4 to lua-5.4-alpha

    Upstream released lua-5.4-alpha-rc2 as lua-5.4-alpha.
    Nothing in upstream has changed. Only our own documentation
    about the version needed updating.

    See hrm Feature #821519

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e1407b3675ca92ec13b0a953287988a0a22fd114
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 12 01:34:29 2019 +0300

    Show adversary culture in intel dialog

    Requested by Dean Brown

    See hrm Feature #781139

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f2067ff76d346a19bd0d923eb25f0e3804b8a53b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 11 17:45:38 2019 +0300

    INSTALL.Cygwin: Add libsqlite3-devel to the list of packages to install

    See hrm Feature #821034

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1bca8f10203953fbf10881f412d384856871eab3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 11 05:02:54 2019 +0300

    Sandbox: Add example parser.lua and related luadata.txt

    Data contains messages to display in the beginning of the specified turn
    number.

    See hrm Feature #732561

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3f71433381f7c655cc0cfebb871d81b64d0d6d6c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 18 00:14:05 2019 +0300

    Improve ruleset documentation of extra.buildable

    Requested by nef

    See hrm Feature #821817

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit db57683956540b4c83eaf8cb1df79256c8beb23e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 11 01:09:29 2019 +0300

    Meson: Add configure option 'ack_experimental'

    User has to explicitly set the option to be able to build with meson.
    Otherwise it just prints an error message telling that autotools should
    be used for building freeciv.

    See hrm Feature #820964

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 64e6b18226369c59c6b672988c0cea822a7e39fb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 17 16:31:15 2019 +0300

    savegame3.c: Rename player.culture field as player.history

    See hrm Feature #821117

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dbd302c0892575102d4e435f2979bd1c53dbe23b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 15 03:33:31 2019 +0300

    gtk3.22/gtk3x: Avoid deprecated gtk_font_button_get|set_font_name()

    Replace gtk_font_button_get|set_font_name() calls with
    gtk_font_chooser_get|set_font() calls.

    See hrm Bug #821128

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 84cf353806a212ed800df31048d8764a883ae529
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 18 00:21:56 2019 +0300

    Add DefenseMultiplierPct & DefenseDividerPct combat bonuses

    Requested by Lexxie L

    Patch by S.C. L.

    See hrm Feature #809470

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fafae400e1c504bedf03e74d4522b287d517df23
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 17 04:18:45 2019 +0300

    Set all map-only scenarios ruleset_locked=FALSE

    Make them require "+std-terrains" ruleset capability.

    See hrm Feature #821962

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9be04e657b2d40715c2f400f419249e172cd8c8a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 11 00:11:47 2019 +0300

    INSTALL.Cygwin: Add libicu-devel to the list of packages to install

    See hrm Feature #820729

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ac0e2600084ae9e7606cd65e96d58b98a5816c3b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 10 23:31:26 2019 +0300

    Meson: Make client build configurable

    See hrm Feature #820959

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bfeddb8de921b388ded19e554757cfd436eb7d7e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 17 04:06:02 2019 +0300

    Define "std-terrains" ruleset capability

    - Drop never well-defined "minimumu-default-sets" capability from all rulesets
    - Document new "std-terrains" capability in doc/README.rulesets
    - Give "std-terrains" capability to all applicable rulesets

    See hrm Feature #821960

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b5dcb3f443f97e5c0fbc001028f1496e5e12cea5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 10 20:57:06 2019 +0300

    Experimental: Set alt_dir as "goldkeep"

    See hrm Feature #820950

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 72c08a14502fcd46b8616fb2192380cc70a89b03
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 18 22:21:55 2019 +0300

    Send player culture info to players with embassy

    Requested by Dean Brown

    See hrm Feature #820730

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e5479e860b000bda59caabd2c940482c0c949204
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 13 20:12:41 2019 +0300

    README.actions: Document "Capture Units" req that target cannot transport

    See hrm Bug #821573

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ad5769b7ffa4717596a2ebf81632b2d84819ef53
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 18 00:19:39 2019 +0300

    Make city happiness effects on civil war chance ruleset defined

    Requested by ZoltÃ¡n Å½arkov

    See hrm Feature #769075

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1f4b7e14d54e4055447080ad5ef325e7394f55f2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 10 18:53:46 2019 +0300

    Sandbox: Enable multiresearch

    See hrm Feature #820915

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9441a68cbdd72196f08a1e0e75f28d9adf504561
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 9 14:18:58 2019 +0300

    INSTALL: Drop Debian notes

    See hrm Feature #820742

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5ce13d0194d95b591de5672fd1a57c04c5b562c2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 17 03:17:18 2019 +0300

    Add ruleset alt_dir support

    The ruleset can define alt_dir for itself. That definition about
    current ruleset is saved to savegames (along the main rulesetdir definition).
    When the savegame is loaded and loading of the ruleset as defined by
    main rulesetdir definition fails, server tries to load ruleset from
    the alt_dir.

    Purpose of this is to provide a way, though slow - migration happens
    over a version boundary -, to rename ruleset directory. Older ruleset
    version, in the old path, has future path as alt_dir, so future version
    can load from that path.

    See hrm Feature #820924

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 093bd89a887f63be3af5b11952b5920b54e0ff9e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 9 09:59:19 2019 +0300

    sandbox: Demonstrate "Coast" unit type flag

    Caravel needs supplies every third turn.

    See hrm Feature #732562

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ec32381ba20ff275a08046272ac1b9dc12be1b01
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 11 22:20:53 2019 +0300

    Rename player.culture as player.history

    It contains only history, not full culture value. Confusing name has
    already produced issues. Everything remains ABI compatible.

    See hrm Bug #821112

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 50155d66f552ea215adf97c6e04c42a10da7d4f3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 9 04:31:54 2019 +0300

    README.msys2: Document default number of make jobs

    See hrm Feature #820727

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eafd85906d6d0bf77bf699f9610f3a49fda16a74
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 9 09:23:51 2019 +0300

    Alio: Drop duplicate Burrow Tube sprites

    road.burrow tags are completely dropped as this branch
    is not yet in datafile format freeze.

    See hrm Bug #740865

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a3367384d759cdf20bec0a183b034106c11e3154
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 9 04:24:22 2019 +0300

    Add meson.build to release tarball

    See hrm Feature #820726

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fd47d78b4d638dcfc1e56981c613f57150faa33e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 12 01:14:30 2019 +0300

    Editor: Remove possibility to set game start year

    In most cases it wouldn't be respected, and it breaks ruleset driven
    calendars when it is.

    Reported by Jacob Nevins

    See hrm Bug #767130

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d06e8cb537f27c9f4f6ce79bf24f037489ac9a08
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 9 02:11:44 2019 +0300

    gtk3x modpack installer: Set GLIB_VERSION_MIN_REQUIRED to 2_60

    See hrm Bug #820719

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit be09da651af47d85fd95ffbcbf366017417d6783
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 8 12:08:30 2019 +0300

    Meson: Switch to lua-5.4

    See hrm Feature #820586

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 10a427cc6b170888b2086cda910e2eb758d152ad
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 8 19:43:56 2019 +0300

    INSTALL.Cygwin: Add Qt-client build instructions

    See hrm Feature #820664

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2b022a43ee963b5610c49e6ad575cbfcfa48cbc2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 8 22:16:32 2019 +0300

    gtk3x: Disable drawing of mapview overlays

    Temporary solution to make gtk3x-client to compile with
    gtk+ development snapshot gtk+-3.94.

    See hrm Feature #820703

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8e266126ba10bb7ca3c9c3b63dbe60564c0347be
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 8 18:18:33 2019 +0300

    Support moc-command named 'moc-qt5'

    Cygwin has moc named as 'moc-qt5'

    See hrm Bug #820604

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1a44b73ae9c03c4066553cdb0e9ae748f473c7a9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 8 03:09:55 2019 +0300

    Move instances of '&&' or '||' still in the end of line to next line

    See hrm Feature #820479

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0b5e5d855369825b8db2c39d635286e9cdacdd46
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 11 04:17:40 2019 +0300

    Update help_nodes_init code comment

    - Correct variable name; helpnodes_init -> help_nodes_init
    - Correct reference to boolean value; 0 -> FALSE

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 25df840a7f94b66600ad2a19d242406ad008f6f1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 8 01:10:05 2019 +0300

    Update included lua-5.4 to version rc2

    See hrm Feature #820476

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c05768fb6db4a42cf2ba09e882e2e5212cd302af
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 5 03:31:00 2019 +0300

    Update INSTALL.Cygwin

    - Instruct build of gtk3.22-client instead of gtk3-client
    - Minor updates, corrections, and clarifications

    See hrm Feature #819966

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 85297f42b4d229bc525fa86b00938affc4bcc3a7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 3 17:39:03 2019 +0300

    Meson: Build gtk3.22-client

    See hrm Feature #819705

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 25857727a77b5a1bd2161641f7d522aec842ee60
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 4 01:01:17 2019 +0300

    README.msys2: Correct upstream snapshot version to download

    See hrm Bug #819779

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6e1a25c513dcbb0c694df371b14e786b52c610b2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 3 01:23:50 2019 +0300

    Take lua-5.4 to use

    See hrm Feature #743677

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d95a3c10eba1946db50eb83a7e429c51b979acaf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 4 00:51:44 2019 +0300

    INSTALL: Update Windows notes

    See hrm Feature #819778

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5b843139ebbe1189d7efa82447fe076aacc02db4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 4 02:22:49 2019 +0300

    sdl2: Popup full government dialog when about to start revolution

    Removed separate revolution dialog completely. Now we popup the
    government dialog that used to popup in the end of the revolution
    in the beginning of the revolution.
    With some server settings target government must be known from
    the beginning of the revolution, and so server was rejecting
    any attempts of revolution from sdl2-client that did not provide
    that information.

    Reported by Louis Moureaux

    See hrm Bug #794114

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c171b909c9b8a79dec08f927c9352a96e3a88491
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 3 00:51:48 2019 +0300

    Add copy of lua-5.4-alpha-rc1 to git

    See hrm Feature #819534

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8cb1dc301cc066b006b85ccadd405fbd77f15f22
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 9 04:36:46 2019 +0300

    gtk3x-client.m4: Correct comments about source directory

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0218534a6792ad6552230fbfb2b61f7a17c29ff4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 3 16:54:14 2019 +0300

    Improve coding style of do_map_click()

    See hrm Feature #819696

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 576d7c9684e3f9716104c6a5be9614825d95ee0d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 3 01:19:49 2019 +0300

    luascript.c: Update LUASCRIPT_SECURE_LUA_VERSION for lua-5.4

    See hrm Feature #819535

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9926449e299a868135c10803b211c3ed41f33690
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 2 23:54:59 2019 +0300

    Improve coding style of is_*_unit_tile() functions

    See hrm Feature #819532

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c10120900dd3bdf267e56a6566464a3675287e4f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 3 01:48:52 2019 +0300

    Correct lua-5.3 freeciv_lua.patch

    See hrm Bug #819537

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2e6ff67022234d4107be570630502d7538338dbb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 2 23:01:27 2019 +0300

    Improve coding style of is_*_city_tile() functions

    See hrm Feature #819530

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3504cb0c09e55325a12a7c74612a4294a7027690
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 2 03:12:07 2019 +0300

    gtk3x: Avoid gtk_icon_size_lookup() usage

    See hrm Feature #819470

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bb89a3f1d44d8cc3b85055c7b3147e46309da387
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 2 19:34:56 2019 +0300

    Add space between ")" and following "{" where ever it was missing

    See hrm Feature #819488

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1b9f4684bc9215fdec6313bbd57b0b8db89fa0aa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 1 03:12:26 2019 +0300

    Correct ruler title documentation in government.rulesets

    They were documenting nation specific ruler_titles as if those
    were part of governments.ruleset, and failed to document default
    titles that are part of governments.ruleset

    See hrm Bug #741552

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f2fa41a200d72a173a869867bbadefaeaa4dce44
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 2 10:50:13 2019 +0300

    Add space between "else" and following "{" where ever it's missing

    See hrm Bug #819487

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b2a2dc98f4a6f2c5d1877ebd65d9b4a812bb4d7a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 2 01:35:12 2019 +0300

    Ship myanmar_old flag. Use it as alt flag for burmese

    Requested by Jacob Nevins

    See hrm Bug #678456

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1c3bcb49be917abb86d8e9c304be9a33acd22325
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 2 10:40:46 2019 +0300

    Add space between "switch" and "(" in headers, generated files

    See hrm Feature #818955

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f6b597f607f6c157a4a147e6d7b4c609df545f93
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 31 00:25:56 2019 +0300

    Meson: Install documents

    See hrm Feature #819097

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dfecfb7da443eb2ad1967fa3c03008ff6d8a8b6d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 30 15:47:36 2019 +0300

    Move FC_MULTIARCH_TUPLE to new multiarch.m4

    See hrm Feature #819049

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 05d3dded2e3964074107ce1cbe492c14669668eb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 30 02:38:11 2019 +0300

    Disallow capturing occupied transports

    Reported by Gyubal Wahazar

    See hrm Bug #772516

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7df43bbbc733692b06b070575ed45b5f59da027d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 30 12:36:18 2019 +0300

    Replace remaining occurrences of "while (0)" with "while (FALSE)"

    See hrm Feature #819040

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 76fa7722613d1558869310bb209f188ec5add51e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 2 23:02:18 2019 +0300

    Comment typofix: "elsethere" -> "elsewhere"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3829d92a986ffc6b6ebf82225cf28bf6c646cc1f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 30 02:08:13 2019 +0300

    Make event cache settings SSET_META instead of SSET_RULES_FLEXIBLE

    See hrm Bug #778665

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 20b001ec5675722f0f4839d4d971dc98f4526d6c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 29 23:26:46 2019 +0300

    Add space between "switch" and "(" where ever it's still missing.

    See hrm Feature #818955

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit da6a87e9636e20a284b00ea04450b6d0cc792f1b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 31 01:23:16 2019 +0300

    Travis CI: Build in separate builddir

    See hrm Feature #819099

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cdec31270efe8ff395e2aa898f4e5a0501aff026
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 30 00:45:35 2019 +0300

    Update stdlib_h.m4 to serial 48

    See hrm Feature #818968

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e88b78328c7602c72cb3a27749e4ab0846eaf52f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 29 20:17:42 2019 +0300

    Qt-client mapview.cpp: "if(" -> "if ("

    See hrm Bug #818937

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4e84650ddfa5fb6c7769fbfa0a4f14833041f756
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 30 00:43:51 2019 +0300

    Update mkstemp.m4 to serial 26

    See hrm Feature #818967

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 83a04a31dc99e318eb57e196c8563ba16bd7838e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 29 20:02:33 2019 +0300

    Improve city_improvement_upkeep() coding style

    See hrm Feature #818935

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9a09ac5a0edf15b11013875fe3362aefe0599aa3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 24 06:13:47 2019 +0300

    Update msys2 environment to 190523 level

    See hrm Task #817963

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 53cad9b92b5efcf78ecd53f66a085e92e483e142
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 23 13:53:27 2019 +0300

    README.nations: List flags-large.spec and shields-large.spec in flag doc

    Reported by publo

    See hrm Bug #817952

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1ff2bcc71eaf5815a556ed6e79a650407e0c591f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 20 18:00:05 2019 +0300

    Update translations/*/Makefile.in.in to gettext-0.20 level

    See hrm Bug #817521

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b628e0f657ae89bb69d4af72cec2e2911139c003
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 19 01:27:32 2019 +0300

    Update gettext bootstrap files to gettext-0.20.1 level

    See hrm Feature #817414

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 525bd768fbf5a216a397c1f513e5214a4c62242b
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Fri May 17 11:13:43 2019 +0200

    Updated French translations

commit 63ebcf394b5fa048c7ebbf39ac64ff448be8c150
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 13 18:08:22 2019 +0300

    Update gtk3x modpack installer to use gtk-3.96

    See hrm Feature #816623

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0f8ef309e945f6ea672e9928af0d762ab0118832
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 11 04:23:15 2019 +0300

    Fix server crash when ruleset does not define tech_req for a unit

    Reported by Corbeau

    See hrm Bug #816374

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 35dabcd3937cf6e7f8e2989cc999cfaee14e49f0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 4 08:06:34 2019 +0300

    gtk3x: Replace 'gtk+' by 'gtk'

    gtk-4.0 will not have '+' in its name.

    See hrm Feature #811005

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9bc5b56d481db96a216e63545727c209507cffc8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 4 06:51:04 2019 +0300

    installer_cross: Improve build error detection and handling

    See hrm Feature #811004

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 42f85b9f2d566270e005861b6a3e0b8a370c8c73
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 3 16:49:12 2019 +0300

    winbuild.sh: Clear install directory before new build

    See hrm Bug #810308

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 10e66197b616ebd07488b2579583b9303b61a238
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 3 07:14:35 2019 +0300

    Tex: Fix build with clang

    See hrm Bug #810735

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ff5d3fbdeed39410aab4c4f31e2982c22930c2f8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 27 04:28:41 2019 +0200

    Update to crosser-1.7

    See hrm Feature #804423

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e4ead300889ee114d355db9bdbe8669ebc6ddddd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 9 12:06:22 2019 +0200

    Bump .spec -file capability string

    See hrm Feature #804954

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 51188a643b738332a9000620ed5ae654f4a809da
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 17 02:45:43 2019 +0200

    Europe 1900 WWI: Use tex AI for all players

    See hrm Feature #803040

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7ac88fe0325012026e8c4a118012a9d947089c20
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 28 07:24:09 2019 +0200

    Meson: Install most rulesets

    Refactor civ2civ3 installation to be more dynamic, and use that model
    to install also classic, multiplayer, sandbox, alien, civ1, civ2.

    See hrm Feature #804976

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ac1988e707b25759e674a864e08e39636e2bfa18
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 24 08:22:28 2019 +0200

    Notify player when requested multiplier value takes effect

    See hrm Feature #804352

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 04259dac034d83174393b162d008ff3ccb0ec54f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 26 00:59:07 2019 +0200

    Rename 'veteran_raise_chance' as 'veteran_base_raise_chance'

    See hrm Feature #804515

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 37e578d4330fd2eb50cbfa14ed14ca3ab5665425
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 27 04:51:00 2019 +0200

    Meson: Install libfreeciv

    See hrm Feature #804716

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a1e8de43b75e6bc2a6170a439ade3727edb2295e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 28 20:24:32 2019 +0200

    sandbox: Replace deprecated give_technology() with give_tech()

    See hrm Bug #804996

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c56fa447f8a660de53dec6c22c3a5efd2cfdacd2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 25 15:13:59 2019 +0200

    tex/threaded AI: Do not run dai_do_first_activities() on restart phase

    See hrm Bug #804448

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c356dd07c428025a55b9771e9b803c4aa0343687
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 27 07:08:13 2019 +0200

    Replace magic number of turns war mood lasts with a macro

    See hrm Feature #804721

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a5dc3dd9fe79366ea74c115c683cec3992ec8b11
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 27 04:09:48 2019 +0200

    Meson: Install civ2civ3 ruleset

    See hrm Feature #804715

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 997cd0b0fcd5503c28058caa0a8bbc52047f7b56
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 26 01:33:13 2019 +0200

    Update documentation about follow tag update

    See hrm Feature #767041

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a61672c8c41607696ace5e52be7f1ee29d396f31
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 28 05:41:20 2019 +0200

    Notify player when multiplier restored to default value

    See hrm Feature #778819

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b6cf11b204ea42c23a352aa7ba67ff4089e4ae09
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 25 13:53:01 2019 +0200

    Call city_created, city_got AI callbacks for cities loaded from savegame

    See hrm Bug #804440

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 98b43edcba7fa1a0b68d3c3881412fffe8e8e938
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 25 07:04:52 2019 +0200

    Meson: Make executables installable

    See hrm Feature #804393

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f5eb6246ee36f590e674ec9f374402e3e05afa62
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 25 11:53:41 2019 +0200

    version_gen.h: Define VERSION_LABEL, VERSION_STRING only if not already defined

    See hrm Bug #804417

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 89e3f607d54619a7d9035a460486c5e3a17a22e0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 25 07:52:39 2019 +0200

    Call unit_created, unit_got AI callbacks for units loaded from savegame

    See hrm Bug #804394

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a0128822245cca2be28e37a238685abf2515bd93
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 25 03:55:06 2019 +0200

    Meson: Rename libfc_toolutil as fc_toolutil

    See hrm Feature #804381

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 800b9ec878f7fcda99673132a7d80840841079d4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 28 02:21:27 2019 +0200

    sdl2/themespec.c: Correct comment about accepted capabilities

    Neither themespec capability string nor individual spec file capability
    string documentation had been updated from their sdl-client format
    to sdl2-client format. They had wrong format and referred to version
    2.3 instead of current 2.6.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d5756a0f0306bbdf342642648705716f6dcbe33
Author: James Wilson <jwilsoncalderdale@gmail.com>
Date:   Mon Feb 25 02:44:05 2019 +0200

    Display messages when bombarding units or being bombarded

    See hrm Feature #734377

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6ead513ad1f80c01b20ea97a46ec50192fe5d628
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 25 05:07:02 2019 +0200

    Move savegame loading code to new subdirectory server/savegame/

    Also rename savegame.[ch] as savemain.[ch]

    See hrm Feature #804383

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cc3af2dc7071da1b4e3ccf874c8ba8430438a3d6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 25 23:35:03 2019 +0200

    Tex: Ignore messages about cities that are not placed on tex map yet

    See hrm Bug #803041

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 92636f45951268b840abad1487b719f2a2963481
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 27 06:24:41 2019 +0200

    ruleset.h: Correct comment about accepted capabilities

    - Capstring for 3.0 was given instead of 3.1 one
    - For the development capstr, tilespec string was given instead
      of ruleset one

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d8e8fc7bf8db1318e8adf5cd10ad957573d35185
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 24 02:43:01 2019 +0200

    Add nuke_pop_loss and nuke_defender_survival_chance_pct ruleset settings

    Patch by 0xandr 0xandr

    See hrm Feature #801780

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 80ee832d4738b9cc035f890857c90e7661ee9949
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 25 05:28:14 2019 +0200

    Travis CI: Make dist

    See hrm Feature #778378

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c0a7d2547188f8380e9dd9bef1b4a76ba669dd43
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 25 03:52:00 2019 +0200

    Meson: Generate macros for public headers to fc_config.h

    Generate HAVE_xxx_H macros to fc_config.h for headers that
    already have FREECIV_HAVE_xxx_H macros in freeciv_config.h

    See hrm Bug #804380

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 40202dc35116837149e11765423074acddca0487
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 25 01:50:36 2019 +0200

    Update helpdata.txt

    Includes a couple bits of UI info that were lacking.

    1 zooming/scaling the map graphics with the + and - keys.
    2 in the diplomatic dialog, you can remove an item from the list by
    double-clicking on it.

    Update by Dean ddeanbrown@comcast.net

    See hrm Feature #804379

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0571b6710ded83a6d7e1c3fa3e54a6a78f95d5d9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 25 05:50:38 2019 +0200

    Add only_killing_makes_veteran ruleset setting

    Requested by Ignatus

    See hrm Feature #804292

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3c01466cd128b6d2a8671effcf07f4bc08742472
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 24 06:12:46 2019 +0200

    Improve documentation about Age requirement range

    Requested by Akechi

    See hrm Bug #769391

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 98668a77579bcff3925a29b695cd5d1a4f8465fd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 23 14:48:56 2019 +0200

    Tex: Ignore messages about units that are not placed on tex map yet

    See hrm Bug #803038

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 19bbacb84bae46daf4e45f30c87f8b8bb5807178
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 25 04:33:32 2019 +0200

    Update .gitignore files to reflect rearranged fcmp files

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 27ddbdc54d9a97db6de203e71b4ad93a011a7bbc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 25 01:46:17 2019 +0200

    Updated Spanish translation by Jordi Negrevernis i Font.

    msgmerged from S2_6 d0c3a485bc

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1b152f5b023d47021fcccade60628634bf8a4c68
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 24 18:41:24 2019 +0200

    Update Finnish translation

    By Sini Ruohomaa

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ce5fee2b3a53c2b77b7e8972d31bfd818643b391
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 24 07:27:19 2019 +0200

    Comment typofix: generate_specnum.py -> generate_specenum.py

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6a98ea17d52e400ef79a9388d0277884961add6a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 22 00:30:27 2019 +0200

    Meson: Build tex AI

    See hrm Feature #804132

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5c712106e1e2b6ee7533ea7cceeac54bb11d5093
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 21 23:50:45 2019 +0200

    Sandbox: Reduce veteran raise chances

    As number of combat rounds has been limited, and not every battle is to death,
    average number of battles unit partakes during its lifetime has increased.
    To balance that, reduce veteran raise chance from a single battle.

    See hrm Feature #804128

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 25c14374c956c83608dae7905aea610125b158dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 19 02:59:39 2019 +0200

    Meson: Rename libfc_server as fc_server

    This avoids duplicate 'lib' in the name of the produced library file.

    See hrm Feature #803577

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7eb16d48f59e8293a8fe7b602c485eec892d05c7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 17 22:49:48 2019 +0200

    civ1: Prevent Railroads on city center tiles

    Reported by nef

    See hrm Feature #803249

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 724387a9dabbd5cf8bdf990d7ab6f992e46562a0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 19 09:29:14 2019 +0200

    Travis CI: Build stub AI

    See hrm Feature #803598

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cdf4ec4c42f5c04e65640f87502ce0dd48c366c1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 17 12:52:24 2019 +0200

    Tex: Add existing cities/units to tex map when thread starts

    See hrm Bug #803217

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 73180a93b6a73b08fcf16132227e789e4de54cee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 18 20:00:48 2019 +0200

    version_gen.h: Do not redefine FOLLOWTAG if it's already defined

    It's defined in fc_config.h on autotools based builds. Meson
    based builds need it in version_gen.h.

    See hrm Bug #803544

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6f3cfa57d5d8e21dd33c8467a62bbd435af87347
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 17 17:38:50 2019 +0200

    Update msys2 environment to 190214 level

    See hrm Task #801982

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7ca66c7863a9f5847eae4d5b432d458030d721ac
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 16 19:00:11 2019 +0200

    Ruleset update: Do not add action enablers if reqs would contradict

    If generated reqs for a new action enabler contradict, consider it
    to mean that it should never be enabled, i.e., not even exist.
    Old code dropped contradicting requirement, resulting in action
    getting enabled when it should have not.

    See hrm Bug #782316

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0f11eaa3839cb8dc13b306266ddd95ca99383cb3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 17 15:51:53 2019 +0200

    Tex: Update references to 'threxpr' to read 'tex'

    See hrm Feature #803221

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6e47b87f96aabfd8de2d7d40d75eb513425d735c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 17 01:33:06 2019 +0200

    Europe 1900 WWI: Replace threaded AI savegame keys with tex AI keys

    See hrm Feature #803015

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9c1db4f635d6fe590875d65185dfd9d8de6c45f5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 16 13:50:29 2019 +0200

    Tex: Update unit type on tex map

    - Add unit_info callback to AI interface
    - Call unit_info when unit transformed to another type
    - In tex AI implementation of unit_info update unit type on
      tex AI map

    See hrm Feature #803003

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b0eb09baafc0d9a002ddd0263850f5c658f07bf3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 16 01:18:10 2019 +0200

    Enable tex AI by default instead of threaded

    See hrm Feature #802868

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1a172cb6208b7bd11b55ea6d662226bd5eb2bd71
Author: Zeko <zeko@freecivweb.org>
Date:   Sat Feb 16 02:56:17 2019 +0200

    Refactor fcdb login flow to allow better authentication methods

    See hrm #802523

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4fc005d40182c7eccfd03ea6546ab484784e671d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 15 04:24:08 2019 +0200

    Ruleset doc: Mark calendar fragment names for translation in examples

    See hrm Feature #802774

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3bb0c0bc1d732161e374cf9959961347d5529559
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 15 02:33:11 2019 +0200

    Make '-j2' the default MAKE_PARAMS for msys2 builds.

    See hrm Feature #802771

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 52426e58bbd0b7f2786f07300f994747e158d737
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 15 00:20:46 2019 +0200

    Travis CI: Enable mysql database backend

    See hrm Feature #802361

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e8f150c85688b46c4ccb0c5550add6a9ce5ab3aa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 12 18:30:11 2019 +0200

    Combine NETWORK_CAPSTRING_MANDATORY and NETWORK_CAPSTRING_OPTIONAL

    They were originally split for ggz support, but as we no longer
    support ggz there's no need to keep them separate.

    See hrm Feature #780295

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 00e92a4bc712aa7f609806005ea8525af8d8c773
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 11 23:20:24 2019 +0200

    Scripting API: Add hut_frighten signal

    Use lua callbacks to construct user visible frighten messages instead
    of having single message hardcoded to the engine.
    Also add extra name parameter to hut_enter signal.

    Patch by Alexandro Ignatiev

    See hrm Bug #780730

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 213d7d748964da18f00695dcbbc5bb625aa289f4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 13 00:10:20 2019 +0200

    Move fcmp files from tools/ to a new subdirectory tools/fcmp/

    See hrm Feature #802356

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 75aa0d24ce5e71ea94010b9636e14dc6d14dcb44
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 12 02:08:26 2019 +0200

    Show whether tech has been stolen from the city in city dialog

    Gtk- and Qt-clients supported. Information is shown both to city owner
    and diplomat investigating the city. Investigating diplomat gets overall
    information, it doesn't matter who did the stealing.

    See hrm Feature #657146

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eb291ba7345791c907de10980e0889e022c06ce6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 12 03:03:31 2019 +0200

    Do not allow execution of 'lua unsafe' from a read serv file

    Requested by Jacob Nevins

    See hrm Bug #693065

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 75d8823f53d879c4c69a41556db12d983fc7ca29
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 11 01:51:04 2019 +0200

    Tex: Update city owner on tex map

    - Add city_info callback to AI interface
    - Call city_info when city changes owner
    - In tex AI implementation of city_info update city owner on
      tex AI map

    See hrm Feature #801821

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 85b5185fd56ae75e896ba0f768653cf10238c07b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 10 22:09:18 2019 +0200

    Tell tech steal defender if tech was already stolen from the city

    See hrm Feature #801810

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0b6c001e692d052f8003bf51232686d3e1f37006
Author: Zeko <zeko@freecivweb.org>
Date:   Sun Feb 10 11:56:30 2019 +0200

    Add ODBC support to FCDB

    See hrm feature #769096

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a2d161b14d8b4c8fcce715df46d29a8f050ffeed
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 10 01:30:56 2019 +0200

    Do not reduce borders or vision on destruction of base on virtual tile

    When changes to a virtual tile cause extra on it to get destroyed,
    do not change real player vision counts or borders. Virtual tiles
    are most often used by autosettlers when they consider what to do next.
    Such calculations of just considering a change were incorrectly
    reducing player vision and borders.

    Effect on player vision was reported by Lexxie L and MÃ¡ximo CastaÃ±eda

    See hrm Bug #797698

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 75a9a77859f4fd778b27997b5ea89a67d8206c0f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 12 07:39:43 2019 +0200

    Travis CI: Replace python3.4 by python3.5

    See hrm Feature #801791

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2426f0d23777b8d91587e5eeb7d35f39faff940a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 10 15:23:58 2019 +0200

    Travis CI: Use Xenial environment

    See hrm Feature #801791

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 93f1ff023670b2dd25c9b86117ebc1ae8675b9d2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 10 00:20:15 2019 +0200

    Update md5.c to match upstream revision 1.15

    Also update comment about freeciv specific changes for a part
    for which the code change had already been implemented before.

    See hrm Feature #801777

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f12cd431e8528d399b34f25f3ab742704a034004
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 11 19:30:37 2019 +0200

    Update path to default units.ruleset in a code comment

    Replace 'default' in ruleset path with 'classic'

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4966d3db00c3842eb7251880e9a0522db6dfbbea
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 9 22:27:41 2019 +0200

    Update included luasql files to luasql-2.4.0 level.

    See hrm Feature #801775

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cc951e51fb4284b86cd5459573c4e16c904dbfe4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 9 16:20:03 2019 +0200

    Fix gcc9 compiler warnings

    See hrm Bug #801655

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 570c84ca2866bc15db7512189415f3ac5eba6be5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 9 14:27:01 2019 +0200

    Drop duplicate setting of mapimg layer indicator character in client

    See hrm Bug #801661

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 526c53323e1dec332f359126f4cd4274f96ded0f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 11 00:03:16 2019 +0200

    Fix comment typo: "endrturn" -> "endturn"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c955ac8fa21742c3f5624cff83edddf34bd4f025
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 7 19:00:56 2019 +0200

    Document [tileset], [soundset], and [musicset] preferred game.ruleset entries

    See hrm Bug #785647

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cf9216e3024e4e11d8c96a0f8253e4eda0da27e6
Author: Zeko <zeko@freecivweb.org>
Date:   Wed Feb 6 13:55:51 2019 +0200

    Add a multiplier option for spaceship travel time

    See hrm #800950

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c2315e8910f099a239ed24b4e4a7e5fc154cf6d3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 4 14:55:39 2019 +0200

    Do not try to print NULL unit state property for %s

    See hrm Bug #800852

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 05c0e76ce1dc593cd69b8815d73c1fb1c119ff2c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 4 00:11:58 2019 +0200

    Do not try to print NULL terrain property for %s

    See hrm Bug #800781

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b487f15267107f04c7fca77a6e091da2b8cafc4a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 23 10:27:22 2019 +0200

    Do not try to print NULL soundfile for %s

    See hrm Bug #799291

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2824549d00cf294810fbd44e449cb7c35481024c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Dec 29 16:02:16 2018 +0100

    Centralize char2num() in savecompat.

    See hrm Feature #797699

commit 085354a262eed035d0dc5e188927d6301da99943
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 6 09:40:43 2018 +0100

    Survives split the action "Attack".

    Stop relying on the "Missile" unit class flag to decide if performing the
    action "Attack" consumes the actor unit. Split "Attack" in "Suicide Attack"
    and "Attack". The new action will always consume the actor unit. "Attack" has
    a chance of actor survival.

    The Missile unit class flag is still hard coded: "Suicide Attack" units
    must have it, "Attack" units can't have it. The goal is to remove this
    restriction and to unhardcode the Missile unit class flag.

    See hrm Feature #783336

commit 72b852b3be7540513e69de876bb8c33c88215cc7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 10 13:30:00 2018 +0200

    INSTALL: Document building sound support

    See hrm Feature #785520

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a55f0a183f46a96dc3404678afd9bdf1ee0afad3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 13 12:45:58 2018 +0100

    ruleup: handle non existing comment headers.

    A comments.txt that is missing certain comment headers could end up getting
    loaded, for example when setting FREECIV_DATA_PATH to an older version of
    Freeciv in order to upgrade a ruleset that lives there to 3.1.

    Survive a missing comment header. This fixes a crash that happened when 3.1
    ruleup was loaded with a dataddir from 3.0.

    See hrm Bug #786092

commit 81cdb9ef1f7827abc18a608293e28746bac0bfd9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 8 10:03:29 2018 +0200

    Easy to run freeciv-ruleup from the build dir.

    Introduce a new script, fcruleup, that makes it easy to run freeciv-ruleup
    from the build directory. It works like fcser, fcgui and fcruledit.

    Doesn't add storage/datasubdir to an unset FREECIV_DATA_PATH since, as Marko
    Lindqvist pointed out, the user (almost?) never wants to upgrade a ruleset
    from there, but with it included in the path may accidentally load an already
    compatible ruleset from there instead of the ruleset that user meant to
    upgrade.

    See hrm Feature #785461

commit b098ab7bcd1354c86a585fffa2de70abcb0d12f3
Author: Chadwick McHenry <mchenryc@gmail.com>
Date:   Fri Nov 9 23:20:39 2018 -0500

    Fix divide by zero error in mapimg

    Use player_count() instead of player_slot_count() so player colors
    are sized meaningfully. Ensure no division error, or negative
    offset is used.

    See hrm Bug #707912

commit f3fad42b2d86b033b5ed0b82250732cc4829cb6e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Nov 9 20:44:27 2018 +0100

    Utility function to replace universal in req vec.

    Intrduce universal_replace_in_req_vec(), a function that replaces all
    instances of a universal in a requirement vector with another universal.

    See hrm Feature #785466

commit 3705fe0695c02942f3eac6acbeeff967e47e1d9a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 8 19:33:55 2018 +0100

    Common universal is in requirement(s) checks.

    Add universal_is_mentioned_by_requirement(), an utility to check if a
    universal is directly mentioned in a requirement and
    universal_is_mentioned_by_requirements(), an utility that does the same for
    requirement vectors. Utilities to check if a universal fulfills a requirement
    (vector) already exists.

    Replace ruledit's universal_in_req_vec().

    See hrm Feature #785450

commit c154ecffa93c2c6955d05636ae02b4fcfa6d8dda
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 10 00:02:50 2018 +0200

    Consider extras with cause "Hut" enterable

    Whether extra was considered enterable was erroneously deducted
    from its UI category.

    Reported by Alexandro Ignatiev

    See hrm Bug #782719

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8f9a03cff95adf78fcab7b0277765729e9397653
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 8 15:31:18 2018 +0100

    Auto help: document OneAttack under "Attack".

    The OneAttack unit type flag is only used for regular attacks. Document it
    under the "Attack" actionÍ„'s details.

    See hrm Bug #785262

commit 5965428f6155f6587a004ca352f342ae077acd42
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 8 14:56:59 2018 +0100

    Veterans with nukes are still stronger in combat.

    A unit capable of performing "Attack" may become a veteran through performing
    it even if the ruleset permits it to also do "Explode Nuclear". This is a
    consequence of "Explode Nuclear" and "Attack" becoming action enabler
    controlled.

    Update the test before writing the increased strength in combat help text to
    include all units capable of performing "Attack".

    See hrm Bug #785242

commit 6d18ac855f7ea6b9190a34b3c1a256ce4a436f38
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 29 20:48:49 2018 +0200

    meson: Build freeciv-manual

    See hrm Feature #782721

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ee3c012a9749f1eb26dfeefc5f10fa23d1b93a7e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 29 18:42:49 2018 +0200

    ruleup: Add support for --Fatal commandline parameter

    See hrm Feature #781129

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit de049f64abba7341c34f7305231b0b20f7346fe7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 29 19:00:04 2018 +0200

    meson: Build freeciv-ruleup

    See hrm Feature #782714

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e017c68c8cfd61ef1c5fea95ace8eae0f167364c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 26 07:34:25 2018 +0300

    meson: Build client common code to a static library

    See hrm Feature #782106

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7f5287b6661bf5c5b999f077c39e40ae39da0086
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 1 08:17:26 2018 +0100

    Replace the last Missile unit class flag check...

    ...outside of utype_is_consumed_by_action() with a check if the unit is
    consumed by the "Attack" action.

    See hrm Feature #783395

commit 8f71c53103ac45b992bffe0a85c8d405da6e286d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 29 16:40:25 2018 +0200

    autotools: Generate version_gen.h for network capstr

    - Generate version_gen.h also in autotools based builds
    - Drop network capstr from fc_config.h
    - Use capstr from version_gen.h

    See hrm Feature #780298

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d2e2bf57fc7f1afa89de342b15d596c077689254
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 29 21:44:36 2018 +0200

    meson: Fix generating of packhand_gen.h

    See hrm Bug #782738

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2c780c2cf300e74d1b3d58b94d14d972118a2815
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 29 16:32:55 2018 +0200

    Update msys2 environment to 181027 level

    Arch specific meson packages added to the environment.

    See hrm Task #767991

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit be394d4f256078a09c8c01ffc23049e56adf0c90
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 17 07:46:54 2018 +0300

    meson: Build classic AI

    Link it to the server.

    See hrm Feature #780183

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 667a31919022bb33d19db4ce0dea309cb319cf35
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Oct 29 08:41:52 2018 +0100

    AI: check consumed by "Attack".

    Replace Missile unit class flag checks in AI and advisor code with checks if
    the unit is consumed by the "Attack" action.

    See hrm Feature #782841

commit 69a753aae0025c47c8bb053e39024e9051b04629
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 28 23:36:20 2018 +0200

    Explicitly disable sys-lua in msys2 based installer builds

    See hrm Feature #782386

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit afdb1a1ce7d5fe073a00ea71451e0427e2307b9f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 27 14:15:36 2018 +0300

    meson: Detect headers configure time

    See hrm Feature #782311

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8eccf3e6df621662ceea975d2ffea6221483f371
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Oct 22 13:00:07 2018 +0200

    Some actions needs an extra sub target.

    Validate that required extra targets are there when performing an action and
    when loading a savegame containing an order that needs an extra sub target.

    See hrm Feature #782589

commit d1b3a633c25988df0ff5a843fe28fc6186eafa24
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 4 17:04:38 2017 +0200

    Path finding: check consumed by "Attack".

    The path finding code doesn't have to worry about returning a unit that
    doesn't survive an attack. It therefore checks if a unit has the Missile unit
    class flag. Check if the unit is consumed by the "Attack" action in stead.

    See hrm Feature #782581

commit c58f7e5c9f08118c25ff0853440d3e7423cb8875
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 28 11:13:46 2018 +0200

    Qt: Find themes from any data directory

    See hrm Bug #782349

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 76a231fef6f6069150c3a9afc82ecefacf5dfd71
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 20 14:18:13 2018 +0300

    meson: Build minimal server

    There's no AI included, so the produced server will just give an
    error about that and refuse to start.

    See hrm Feature #780179

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9deddf43104e2d4774e742c661477723f2d346e9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 22 16:28:16 2018 +0300

    installer_cross: Set Unicode true

    See hrm Feature #781275

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c771e5cd49cb5d288acabff8ac18891629e756d2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 19 20:18:11 2018 +0300

    meson: Call tolua_..._open() functions by the name they are generated with

    See hrm Feature #780178

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 221283300d5ec881711cb411adb964fd0f23e2c3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 25 17:53:43 2018 +0300

    Make code about ruledit specific 'disabled' properties more self documenting

    - Renamed 'disabled' fields as 'ruledit_disabled'
    - Add 're_' to names of active iterators that should only be used in ruledit
    - Unified names of active iterators to always end by '_re_active_iterate',
      this meant moving '_type' part of some of the names from the middle to
      the beginning

    See hrm Feature #781740

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e7b1c29a85a9d7a055a2d710f8140482d0177bcc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 19 20:10:57 2018 +0300

    meson: Have tolua generated common/ file generation as custom_target

    See hrm Feature #780419

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c0eb563ea6bf68aa37357baef0c661df416753be
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 24 17:20:51 2018 +0300

    Msys2: Create correct link to modpack installer in gtk3.22-client package

    See hrm Bug #781746

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9ba9077e426ee9db4a1ac1ad0dc5d2e015badb0d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 24 17:30:54 2018 +0300

    meson: Explicitly run interpreters instead of relying on shebang

    See hrm Bug #781737

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 54a150afe2674138e729c5e1af39cad6d11e1c13
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 18 19:42:40 2018 +0300

    gtk3x: Avoid gtk_true() usage

    It's dropped from gtk+-3.94

    See hrm Feature #780516

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bf52320e34d7e63bfe384581252139390a983af4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 19 20:04:16 2018 +0300

    meson: Include common/ to libfreeciv

    See hrm Feature #780151

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4f508e24cb45c7a2fc25de052a5d25a3edf3df5b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Oct 25 14:36:01 2018 +0200

    Comment fix: activity too can have a sub_target.

commit 800488852a2e12268ff3b547a24e8942134d8e8b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Oct 20 10:57:16 2018 +0200

    Merge unit action sub targets.

    Certain actions have both a main target and a sub target. Examples of action
    sub targets are what tech to steal from a city and what road extra to build
    on a tile.

    Extra sub targets were for a while split from tech and building sub targets.
    This caused bugs like unit order action extra sub targets not being stored to
    save games since the savegame code only wrote sub targets stored in
    sub_target, where tech and improvement sub targets were stored.

    Treat extra sub targets like tech and building sub targets by merging them
    back together.

    See hrm Feature #780902

commit bd2e2e1bbc2b6ee157d234ef5b1a9deb42e39059
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 19 21:33:26 2018 +0300

    configure.ac: Drop VERSION_WITHOUT_LABEL

    See hrm Feature #780300

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ab8211bc6776a393c63ba004d9bbc167c72000ec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 20 14:11:40 2018 +0300

    meson: Add tolua generator object

    See hrm Feature #780047

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a1c07286f64f1e388a5a00119c01ef583af98e46
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 18 19:53:53 2018 +0300

    gtk: Drop gtk_icon_size_lookup() call with unused results

    See hrm Feature #780526

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bc5aefa1e2c4dbe6c119fd2b4e8bd8d2363e60c2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 22 07:03:11 2018 +0300

    meson: Generate version information header version_gen.h

    See hrm Feature #780185

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cdb6e5326e2b2ab107174a63d49c01a731a37638
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 19 18:16:08 2018 +0300

    meson: Require minimum meson version

    Minimum meson version is 0.36.0

    See hrm Feature #780646

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ef32317e1c44f90110314e56a41583dcd90bc953
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Oct 20 08:12:02 2018 +0200

    savegame3: unit order sub target lookup name fix.

    Look for the unit order field "sub_tgt_vec", not the non existing fields
    "tgt_list" and "extra_list", when loading a savegame.

    See hrm Feature #780772

commit 435b5341b61c686d099bb009ba967978b9936eb2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 18 19:35:44 2018 +0300

    gtk3x: Avoid gtk_image_new_from_surface() and gtk_image_set_from_surface() calls

    They are dropped from gtk+-3.94

    See hrm Feature #780502

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7feac304270d5e8dc91c9c7f5062737c709e1a82
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 19 18:14:00 2018 +0300

    meson: Add dependencies/tolua-5.2/include to include path

    See hrm Bug #780645

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 927fd2bcff232ec2bc48f6259b7b11172d4ffc00
Author: Zeko <zeko@freecivweb.org>
Date:   Fri Oct 19 08:05:37 2018 +0300

    Add fcdb check for "take" and "observe" commands

    See hrm #778018

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a6725e9ffafcb0142fde79e1ecb3e32006b627ae
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 16 16:36:51 2018 +0300

    generate_packets.py: Support generating only subset of source files

    See hrm Feature #780035

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ceccc138e2d061dfef91900e6898f23abb62fb0b
Author: Zeko <zeko@freecivweb.org>
Date:   Thu Oct 18 19:34:16 2018 +0300

    Add fcdb check to "delegate to" subcommand

    See hrm #766520

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1f6ddac02a526211f5eceaa959f4cc682f5c522e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 16 03:44:26 2018 +0300

    meson: Add packets_gen custom target

    It generates packets_gen.h, packets_gen.c, packhand_gen.h, packhand_gen.c,
    hand_gen.h, and hand_gen.c

    See hrm Feature #779816

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8401537386e3d364bf3ccf79faa3f4717bd46da5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 17 20:02:52 2018 +0300

    configure.ac: Use version string from fc_version

    See hrm Feature #780294

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aeb3027592653341d84a00851e3aea753d57cbb5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 16 05:32:13 2018 +0300

    Revert "Server - move AI phase before player activities/orders phase"

    This reverts commit ee0070b2fa965664f08c70e5c00ea9c782804bb2.

    See hrm Bug #769791

commit f7b59c389798c85407f3202ac42cd9db61a7a53b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 15 21:23:49 2018 +0300

    meson: Build dependencies/

    See hrm Feature #779794

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3e30f1859b144197c40414dbdbbf088b1c6a7180
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 16 16:39:16 2018 +0300

    installer_cross: Make sure crosser set is "current"

    See hrm Feature #780036

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e753174f2e7f3459af4b9eca6bf2bdc491536fa6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 15 19:27:14 2018 +0300

    meson: Generate specenum_gen.h

    See hrm Feature #779773

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a45f8429c496cb2e9f30cd314a6813b82aed6176
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Oct 16 08:49:49 2018 +0200

    savegame format: merge order sub targets.

    A unit order can contain a sub target for an action (or for an activity).
    They were for a while stored in two fields: extra_vec and sub_tgt_vec. Merge
    extra_vec back into sub_tgt_vec.

    See hrm Feature #779903

commit 3884eb4e3ac6327a373088e39115e83b547d9051
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 15 05:51:19 2018 +0300

    gtk3x: Drop extra parameters from gtk_box_pack_start() calls

    See hrm Feature #663042

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5363bf6d3c7844e004411d0f4800ee60de0a3edf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 15 05:50:59 2018 +0300

    Set gtk3x-client to use gtk+-3.92

    See hrm Feature #778153

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f767fd044ae28c06601883d0e8c81a325a1d88c4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Oct 15 11:18:58 2018 +0200

    GTK clients: use action_id for action id's.

    The GTK clients, like the rest of Freeciv, used a mix of int and gen_action
    for action id's. The gen_action enum is on its way to only be about the
    result of an action rather than it's id. They are in the process of being
    separated. Using an int doesn't mark the action id as an action id rather
    than - say - a pointer to an action.

    Use action_id for action id's. Rename variables referring to the actor's id
    from act_id (typically used for action id's) to au_id.

    See hrm Feature #779547

commit 7065901425341ed65d7220e1a4663c56d9af17cc
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Oct 13 15:13:41 2018 +0200

    Clarify that action sub target are sub targets.

    Actions like "Targeted Steal Tech" have a target - the city to steal from -
    and a sub target - the tech to steal. Tech and building sub targets have been
    called "target" and "value". This has caused confusion. In the case of
    "target" it also takes up a name that could be used for specifying the main
    target. Use the term sub target in names and comments.

    See hrm Feature #779357

commit 02bb938e4b68dc6ab2a3cf528f1d7cbeb3e7cef5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 15 17:42:30 2018 +0300

    meson: Add initial files

    See hrm Feature #779742

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c25079945c7c20b9b2148a6d8713bee23000591b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 15 05:49:15 2018 +0300

    gtk3x: Get rid of obsolete gtk_event_box_new() calls

    See hrm Feature #778842

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d11769ce79ab8baa902000b5c3f7b3bffab65b75
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Oct 13 13:14:31 2018 +0200

    savegame format: clarify order sub target.

    A unit order can contain a sub target for an action. Tech and improvement sub
    targets were stored in tgt_vec. This name has already caused confusion. It
    also takes a good name to store targets, like the city to steal a specified
    tech from, to unit orders. The name has not been used in any frozen save game
    formats yet.

    Rename tgt_vec to sub_tgt_vec in savegame3.

    See hrm Feature #779339

commit 21cf31633a0439723abaf04924f03a179d96c357
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 13 10:31:38 2018 +0300

    Make server to send its version number to client

    See hrm Feature #735534

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f54c35a134d8d14779f2bf5f84760cca85350ac5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 12 01:51:20 2018 +0300

    Update europe_1900_WWI scenario to 3.0 savegame format

    See hrm Feature #699393

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0e33c67fa03e866c58e7777e4003b71d000667b3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Oct 10 14:22:35 2018 +0200

    SDL2 client: use action_id for action id's.

    The SDL 2 client, like the rest of Freeciv, used a mix of int and gen_action
    for action id's. The gen_action enum is on its way to only be about the
    result of an action rather than it's id. They are in the process of being
    separated. Using an int doesn't mark the action id as an action id rather
    than - say - a pointer to an action.

    See hrm Feature #778826

commit ba8d64326fe4d55c9fa9267924c6c26f6d6abfca
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Oct 10 12:44:35 2018 +0200

    Qt client: use action_id for action id's.

    Include the get*_targeted_action_id() parts that should have been done in the
    original commit of hrm Feature #774228.

    See hrm Feature #774228

commit 241f38eab99a2724b52bd10c02e260873900cfcd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 10 07:58:58 2018 +0300

    Make 'multiresearch' server setting SSET_RULES

    See hrm Bug #778682

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d26e02a7610eacd0c4394f34030a7db0a760f90e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 7 09:33:30 2018 +0300

    Drop buy_gold_cost from web_city_info_addition packet

    The same information is now transferred in main city_info packet.

    See hrm Feature #778078

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2246400179534734cbcf3c7a6fde1e4e410e7a7e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 8 14:16:59 2018 +0300

    Introduce MAX_NUM_BUILDINGS

    Define max number of buildings separately from MAX_NUM_ITEMS.
    No functional change as the value is kept the same.

    See hrm Feature #778280

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4f9f9e3f9dd8d9790044ace5a529224d9f7fdf97
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 10 05:06:15 2018 +0300

    Do not error in savecompat when an < 3.0 scenario has no [random] section

    See hrm Bug #778659

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 772b8b9451f5acb9670f56c452ab09c94e02e68f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 9 03:17:25 2018 +0300

    Consider City_Radius_Sq effects when showing city area for city founding units

    Player and tile wide requirements are considered. There's no city yet, and
    future city will not have unit related requirements fulfilled as founder
    gets disbanded on founding the city.

    Reported by Phil G.

    See hrm Bug #746187

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 21c6563ab1bc7599501cfd585f9771caaeb93ec0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 7 14:28:04 2018 +0300

    freeciv-manual: Make output format selection runtime parameter

    See hrm Feature #657117

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2d190d7db70d925e5c60a4686364ae1706346b48
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 7 09:10:35 2018 +0300

    Move city_production_buy_gold_cost() from common/ to server/

    See hrm Feature #778077

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit acdfcc64bc5d8a8af80b5ca55c388f2449feb84a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 7 07:36:11 2018 +0300

    Drop obsolete is_native_tile_to_base()

    See hrm Feature #778074

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ef9e60e6172ca0ffaf4597ec80d898044b124d57
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 7 05:12:28 2018 +0300

    installer_cross: Implement initial version of gtk4 environment installation

    See hrm Feature #778072

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dca458a14b17d2a75ea1b118c24e95a98802ab13
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 8 22:14:55 2018 +0300

    Alien: Correct action ui name entry names

    See hrm Bug #778327

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 60b1b3c7f9d952b44bb46fbd5e4f956a9ef222ca
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 9 06:15:15 2018 +0300

    Make linking against crosser libSDL2 > 2.0.5 to work

    See hrm Bug #743842

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f2c067da004b94f9439a82f04e4c43ade9d44aa6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 6 04:42:31 2018 +0300

    gtk3x: Avoid nonexistent gdk_get_default_root_window()

    See hrm Feature #777693

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 62305aca36b9949ed3fc3feed31cee583c90c5de
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 7 08:42:38 2018 +0300

    Let omniscient server to calculate city buy cost

    See hrm Feature #767936

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1972beecec0a50689852bfd5070b4f1ba48c9827
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 6 02:44:24 2018 +0300

    Switch multipliers back to default value if requirements are not met

    See hrm Feature #739928

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3e5a1642be470549164b9fb77f4a6a2a65de5c96
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 6 13:05:46 2018 +0300

    Remove base flags retired in 3.0

    See hrm Feature #778036

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c251ddda41d4d9cdcc546f2f1d6d281a239d24f7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 7 03:27:15 2018 +0300

    installer_cross: Add freeciv-gtk3x.cmd

    See hrm Feature #778071

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 40bb417998a415ca9cb7b6b359192dd8b6d4e0cf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 6 09:32:00 2018 +0300

    Increase max number of unit types to 250

    See hrm Feature #778026

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 61d2a70e9ec9c1fefa6cf213c81c5383cb90ed9b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 6 03:48:31 2018 +0300

    Tutorial: Use hex topology

    Reported by Alexandro Ignatiev

    See hrm Feature #778019

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a108966a47daf8987ab6593966c32d4df592b0e9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 6 04:41:32 2018 +0300

    gtk3x: Drop gtk_widget_add_events() calls

    See hrm Feature #686885

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2488e948c9076ec3b85a30111a5c341b82d21f95
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 7 07:48:39 2018 +0300

    Travis CI: Drop dependency libsdl1.2-dev

    See hrm Feature #778075

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 76e44eab84740d931d05d1a061323ff29307aa9b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 4 23:54:23 2018 +0300

    winbuild.sh: Allow user to set GUIP part of the package name

    See hrm Feature #777732

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1fc977d713067789f4790e1cd25b53fdb8c91ef2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 6 09:13:02 2018 +0300

    Drop outcommented MAX_LAST definition

    See hrm Feature #778025

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c13af1ca707a24919dcba2e8a5c1c90f31b4db3a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 6 02:26:48 2018 +0300

    Drop unused really_close_connection_dialog()

    See hrm Feature #731625

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9b8bd4d1a5a034c49a21481ee72b5c41f631b1cc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 4 05:03:19 2018 +0300

    gtk3x: Drop obsolete gtk_toolbar_set_icon_size() call

    See hrm Feature #777527

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 57607037fd23d03fd5f1ea27d32502f38d6592d5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 4 22:23:12 2018 +0300

    winbuild.sh: Add EXTRA_CONFIG support

    See hrm Feature #777731

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d5969bf872adccbd50457077671e590ca4bd4a5b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 4 13:14:08 2018 +0300

    Use B_LAST instead of MAX_NUM_ITEMS where applicable

    See hrm Feature #777624

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f8c994f6af5aad7bc6c98ce4bbfd501362d34acc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 4 08:31:33 2018 +0300

    Make sure second and later games use correct random seed

    Reported by Jacob Nevins

    See hrm Bug #761219

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8cf73f68b72640b296c8d669e33f7459f9054a29
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 4 19:08:34 2018 +0300

    installer_cross: Support building gtk3x-client

    Just building the binaries is supported. Produced installer does
    not contain gtk4 environment.

    See hrm Feature #777722

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4e80c922ca6048eb4945fee2b0f28a2a5657d6b6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 4 17:08:22 2018 +0300

    gtk3x: Replace remaining direct accesses to GdkEvent fields with accessor calls

    See hrm Feature #777701

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 316931c92660b80ebe911e48b2ae074665156657
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 5 03:20:00 2018 +0300

    Add editor support for unit 'stay' property

    See hrm Feature #662672

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ae3a617c6c1a1e665373b330c2c919ffb1fbe3d0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 4 13:36:44 2018 +0300

    Document marking of log_warn() messages for translation

    See hrm Feature #735943

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1221006fc44e5e21b9f7490ba4c6be86488a68ce
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 4 07:51:26 2018 +0300

    Do not give double culture for non-unique achievements to first gainer

    Reported by Akechi

    See hrm Bug #763885

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 82e4339af720aef646730da8b6a9df385dfa7997
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 4 05:17:10 2018 +0300

    Keep current tileset when topology changes between overhead and iso ones

    See hrm Feature #777520

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 62b9b554165ea4e403012b6bcad6596cfc03d79e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 4 05:00:23 2018 +0300

    gtk3x: Avoid deprecated gdk_pango_context_get_for_screen() calls

    See hrm Feature #777521

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f9bc276f8a63289e7c9806ddb1300ad36687913f
Author: Zeko <zeko@freecivweb.org>
Date:   Fri Oct 5 17:53:12 2018 +0300

    Change call signature for luascript funcs to allow any return values

    All fcdb functions in database.lua have been changed to raise
    exceptions rather than return FCDB_ERROR enum, and user_load now returns
    a password hash.

    See feature #769078

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9a60d180c16e0d4c07e91fce52795900d2516b11
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 4 05:11:06 2018 +0300

    Update network capstring documentation in fc_version

    - Update base format
    - Remove instructions to avoid mandatory capabilities in a new
      development branch, as we bump the capability for the version number
      anyway

    See hrm Feature #776785

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cb6c700735f466792f54b443b8df519be56a1fc4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 4 05:10:44 2018 +0300

    Increase max number of ruleset defined advances to 250

    See hrm Feature #776787

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e5e5262763f80bc22139178351a425f2b7c1e777
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 2 16:48:41 2018 +0300

    Fix gtk3x-client compile

    See hrm Bug #777144

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d59c25992e1f9cd838c2af8926ea1067988aecf3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 1 23:31:11 2018 +0300

    Sanitycheck barbarian init_buildings against B_LAST, not A_LAST

    See hrm Bug #776786

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f8e9d2c74d1a3dd242ec9331b0e7b751951cfffc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 1 23:27:31 2018 +0300

    installer_cross: Make build_all_installers.sh to work in two different modes

    Modes are 'snapshot' and 'release'.

    See hrm Feature #740208

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7aa0691cae87b8a22c987cd7b7a5f7e97c729e6d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 1 23:32:09 2018 +0300

    Combine "Overhead" and "Iso" tileset settings to single "Square" setting

    See hrm Feature #776792

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 84e5c90c8b74f21d9e2483e883a99e5bd6869aa8
Author: Zeko <zeko@freecivweb.org>
Date:   Mon Oct 1 23:30:17 2018 +0300

    Save orig_username for delegated players in savegames

    See hrm bug #772657

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7915fbcae1f9b56e69682880fc67799ddf97ed04
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 1 23:30:50 2018 +0300

    Update tech.ruleset comment about max number of advances

    Currently max number of advances in a ruleset is 199. Make documentation
    to match.

    Reported by Akechi

    See hrm Bug #769401

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c0240fc668095f685340647f860079ef312b868b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 29 20:15:47 2018 +0300

    Set hexemplio city sprite tags to point to correct sprites

    Patch by Pierre R

    See hrm Bug #774184

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c16947f15fe96cd69da9e71fdc7b332be6e2acd6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 29 04:21:18 2018 +0300

    Add 'generated' property for extras

    This makes it possible to have properties of causes Resource and Hut
    for an extra without it actually getting placed because of those causes.
    This is especially useful in combination with cause Appear.

    Sandbox ruleset Hermit's Place is fixed to have cause Hut.

    Hermit's Place problem reported by Alexandro Ignatiev

    See hrm Bug #775424

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 84c40c78fe0deff010c9765eeff662de66d217f6
Author: Zeko <zeko@freecivweb.org>
Date:   Sat Sep 29 07:51:39 2018 +0300

    Change all callbacks in update_queue to void (*cb) (void*)

    See hrm bug #775057

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6a61d00c44d1091c9ceb36a7264da777113278c7
Author: Zeko <zeko@freecivweb.org>
Date:   Sat Sep 29 02:05:53 2018 +0300

    Add percentage modifiers to global warming and nuclear winter rates

    See hrm feature #770804

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6f5d4f460bf044eb1cc914866e76f9be64db15e4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 17 10:48:32 2018 +0300

    Add "Unit_Build_Cost_Pct" effect type

    See hrm Feature #768130

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 64c2d72e60c2f4fdb98a5bde66ada1a41a437188
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Sep 24 07:21:22 2018 +0200

    effect_to_enabler() takes an action.

    The function effect_to_enabler() converts an effect to an action enabler. It
    takes an action id, not an action result. Mark it as such by changing the
    type of the action parameter from enum gen_action to action_id. This marking
    helps when an action's result becomes independent of its id.

    See hrm Feature #775500

commit d62428da94364102f6acb187f2d59661b2023d69
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Sep 20 11:07:31 2018 +0200

    ruledit: can't enable invalid action.

    Assert that there is at least one action to enable when adding a new action
    enabler. Also assert that the default action for the new enabler exists. Both
    assumptions are true as long as actions them self - unlike action enablers -
    remain hard coded.

    See hrm Feature #774865

commit 9948951e884a38d8a0a3e0cf992edebebb061f93
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Sep 20 10:51:20 2018 +0200

    Save game actions are actions, not results.

    An action in the list showing the order of action's in a save game is an
    action, not an action result. Make this clear by changing its type from
    gen_action to action_id.

    See hrm Feature #774858

commit bcd501016ad3e32f9fc7b03008821474dbade150
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 17 11:52:02 2018 +0300

    installer_cross: Support win32 crosser setup

    See hrm Feature #774284

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 38217eb9a5777b01c7c7c2e2a7dd48d49fc78222
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Aug 31 21:33:29 2018 +0200

    Qt client: use action_id for action id's.

    The Qt client, like the rest of Freeciv, used a mix of int and gen_action for
    action id's. The gen_action enum is on its way to only be about the result of
    an action rather than it's id since those are in the process of being
    separated. Using an int doesn't mark the action id as an action id rather
    than - say - a pointer to an action.

    See hrm Feature #774228

commit c327fd8c1c0313ad87a6703c54743646be8d4ee1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 17 10:31:06 2018 +0300

    installer_cross: Make build_all_installers.sh to respect CROSSER_QT

    See hrm Feature #774256

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 008564fd153ef424508a56d91ffbd74b34b32dbd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Sep 16 18:56:23 2018 +0200

    gen_action_name() -> action_id_rule_name()

    Use action_id_rule_name() rather than using gen_action_name() directly. This
    prepares the callers for when an action's id no longer predicting its result.

    See hrm Feature #774240

commit 63d3bcfa9d5be77cc34b698587eca07eeccc798a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Sep 16 16:29:27 2018 +0200

    action_target_neg_util(): mark action id param.

    Change the type of the act_id parameter from int to action_id so it shows up
    on code searches for action_id uses.

    See hrm Feature #774229

commit e7932e8ef6c230efd661c17adf62f45f2b623c8d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Sep 3 16:25:39 2018 +0200

    protocol: make gen_action fields action_id.

    The result of an action is (slowly) being separated from it's id. This is
    needed by generic actions. Change the type of packet fields that contains an
    action's id from the gen_action enum to the action_id typedef.

    See hrm Feature #774219

commit fd735f5314a880a0e0f375bfb00e5c4e587f605e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Sep 4 14:22:01 2018 +0200

    unit_perform_action(): mark action id argument...

    ...by changing its type to action_id.

    See hrm Feature #774218

commit 57d4cfd399f9259e3f23ea37dbd582ac772e1ecd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 15 12:32:24 2018 +0300

    Update to crosser-1.6

    See hrm Feature #774117

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7859a96276f52087b84ab7bcdc3b810e95a887d9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Sep 6 12:33:23 2018 +0200

    Stop assuming that action id equals result...

    ...in action not enabled explanation functions. This is needed by generic
    actions. Not done in switch statements. Making the compiler object unless all
    actions are handled is worth not porting them until fully generic actions -
    that can have more than one result - requires them.

    See hrm Feature #772834

commit b01f666b2cfcc2069debae1d64bd9fc75459c4e9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Sep 12 10:12:12 2018 +0200

    Invalid parameter safe action_has_result().

    Secure action_has_result() against bad parameters. Introduce versions that
    are safe to use with non existing actions.

    See hrm Feature #773606

commit fc82dd1a9e330e5bcf89faefb2ebe11b7c52a4f5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 7 07:43:37 2018 +0300

    gtk-clients: Avoid deprecated gtk_css_provider_get_default() call

    See hrm Bug #771103

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 723f376761de3395ea717a3ac7a71f3188fb43a0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Sep 6 10:13:57 2018 +0200

    Coding style changes from hrm Bug #772688

    Various coding style changes done while fixing hrm Bug #772688 in areas that
    turned out not to cause it. Fix indention, remove redundant lines and add
    PORTME comments.

    See hrm Feature #772697

commit 32599783df58197a2625bea5120635d95f14db9f
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Sep 7 01:58:04 2018 +0200

    Server - Fixed stopped rapture when city size changes
    Reported by ZoltÃ¡n Å½arkov

    See hrm Bug #771536

commit dd9a97eb7086afbaa3949ecb06d1f4846ff050ba
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Sep 3 16:19:24 2018 +0200

    Common client code: mark action id arguments...

    ...by changing their type to action_id.

    See hrm Feature #772137

commit b72fbc17c59d499dcfb8cbc55394b1341d60ed77
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Aug 31 21:59:17 2018 +0200

    Qt client: remove pointless argument casts.

    request_do_action() now takes the action id as an action_id, not a gen_action
    enumerator.

    See hrm Feature #772133

commit 561b523f0ba2f3574702728aa983d29b85e90b92
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Sep 6 09:19:43 2018 +0200

    Make the clients build again.

    Hrm Feature #771485 broke the compilation of most (all?) clients. Make them
    build again by dropping the gui_interface stuff.

    See hrm Bug #772688

commit 4ddab7590266dee3c49c3e2bc137b8debf1b20d5
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Sep 5 21:11:43 2018 +0200

    Fix compialtion fail for sdl2 client caused by hrm feature #771485

    See hrm Bug #772658

commit ca702c451ce17a3886f136adbd64fda8d18adead
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Sep 5 21:00:08 2018 +0200

    Added new lua signal - nuke exploded

    See hrm Feature #771917

commit 737f312afe1ef0005445902757a40c5e171909f7
Merge: 2ac75bfa80 5003b33798
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Sep 5 20:43:50 2018 +0200

    Merge branch 'master' of https://github.com/freeciv/freeciv

commit 2ac75bfa80dfbed882a7e7e4f728e15c0fbcbe70
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Sep 5 20:28:10 2018 +0200

    New server lua function to tell client to show image, text and play sound

    See hrm Feature #771485

commit 5003b33798bbb1791a1479f582a51192fa63da65
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Sep 5 20:28:10 2018 +0200

    Qt client - show technology icons in comboboxes and sidebar tech menu

    See hrm Feature #771722

commit a3874cb0468833fad580ae35231f06eab3ada32b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 18 13:39:43 2018 +0200

    Unit may act functions: mark action id arguments.

    Many functions that checks if a unit type (/ unit's type / unit list's unit's
    types) may be able to perform an action takes action id as arguments. Mark
    them by changing their type to action_id.

    See hrm Feature #771896

commit b03cc076a2e238fd991cea6cfa569b8bc85d7041
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sat Sep 1 20:46:45 2018 +0200

    Qt client - show technology icons in comboboxes and sidebar tech menu

    See hrm Feature #771722

commit c2f64cc70b96b782ab593a2cb46af287f1d4486b
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sat Sep 1 20:44:18 2018 +0200

    Qt client - dont update unit label if it not shown

    See hrm Bug #771721

commit 28aa1cdb03a001cd1ac9b2e02c3460fc0a958247
Merge: 948ab6fe3e d08a186003
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sat Sep 1 20:39:02 2018 +0200

    Merge branch 'master' of https://github.com/freeciv/freeciv

commit 948ab6fe3ef0726137c8fd8bde10b5d10610751e
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sat Sep 1 20:37:07 2018 +0200

    Server - added multiresearch option

    See hrm Feature #769897

commit d08a186003b77e17d5602c159d281d6477fe79b7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Aug 30 14:15:10 2018 +0200

    Let Action_Odds_Pct control tech theft odds.

    Allow the Action_Odds_Pct effect to modify the odds of the actions
    "Steal Tech", "Steal Tech Escape Expected", "Targeted Steal Tech" and
    "Targeted Steal Tech Escape Expected".

    Requested by wieder

    See hrm Feature #764943

commit b3dbe2459906e307fac50c76ac79ff7d566f3090
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Aug 28 19:34:58 2018 +0200

    Qt client - made governor area smaller in city dialog

    See hrm Bug #770355

commit 76280f8978b4cdc7922238bb8b75efbc5689f46f
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Aug 28 19:32:07 2018 +0200

    Qt client - Fixed isohex units size in city dialog and unit selector.

    See hrm Bug #770253

commit ee0070b2fa965664f08c70e5c00ea9c782804bb2
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Aug 20 21:57:47 2018 +0200

    Server - move AI phase before player activities/orders phase

    See hrm Bug #769791

commit cc88777d4fb96727eb638db0ec1b6317849aa092
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Aug 20 21:55:44 2018 +0200

    Qt client - dont allow observers to try changing city name or governor

    See hrm Bug #769796

commit 3e2d58d37d01574c7a9f675fe3bea9c917edc346
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Aug 20 21:53:12 2018 +0200

    Qt client - Fixed trying to cancel meetings when leaving game

    See hrm Bug #769764

commit c36311bf5679b9058a107f8d22d180fd07cd1a02
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Aug 20 21:50:27 2018 +0200

    Qt client - updated nation report
    Reported by formalhaut.

    See hrm Bug #769585

commit 98cfc3395bf3e698294156614819954fb282f786
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Aug 20 21:46:42 2018 +0200

    Fixed goto to target indicating one less turn in 2.6+ and wrong number after exhausting moves.
    Reported by Akechi.

    See hrm Bug #763893

commit a8690d3b5967bcbaa701040695252f4606898d8a
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Aug 20 21:41:50 2018 +0200

    Fixed goto path drawing bug with exhausted moves
    Reported by Marko Lindqvist and Jacob Nevins

    See hrm Bug #657396

commit 71e517a89d3179837aaf9c8094dd1294b0d90150
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Aug 17 02:43:38 2018 +0200

    Qt client - use unscaled units in city dialog, unit report, unit orders

    See hrm Feature #769214

commit 1838a03d673cfa6ecb15e251962174a5d256d0bc
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Aug 17 02:39:38 2018 +0200

    Client - draw unscaled tiles in city map dialog

    See hrm Feature #769212

commit 907bab9e4c17ab011357d32d6cfcefa47808a88d
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Aug 17 02:33:40 2018 +0200

    Qt client - added new menu option to scale/not scale fonts

    See hrm Feature #769204

commit 1ad8e134d71b5fcf835861b27d503f05a1515b41
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Aug 13 19:47:39 2018 +0200

    Qt client - use QPixmapCache also to store tileset sprites

    See hrm Feature #768847

commit 26df2cf9370b6ff520493f289acad3fb2cf3fa50
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Aug 13 19:38:34 2018 +0200

    Qt client - remove useless TODO about adding scrollbar

    See hrm Bug #768652

commit d196b8a0131637ce5947c15d04231c493bff03fb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 7 15:52:28 2018 +0300

    civ/2: Disallow "Alliance" clauses

    See hrm Feature #768396

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6fdb3333521898a661c04ede70a115f02518ae25
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 7 15:34:14 2018 +0300

    rulesave: Save clause type documentation comment

    See hrm Feature #768138

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4ce0315ea12594e93b6b4c6669a6ce0abbcc7270
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 7 15:33:02 2018 +0300

    Add "Unit_Buy_Cost_Pct" effect type

    See hrm Feature #767932

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f8ab44f8d0ed281d8229e9455d2ea4b1da1eac43
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 7 15:32:34 2018 +0300

    AI: Value embassy clause when tech leakage style is "Embassies"

    See hrm Feature #767838

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 79b5270e9404874ae0ae082187dd2b57fb5c54bc
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Aug 7 20:12:41 2018 +0200

    Client - Freed effect_list in text_happiness_wonders

    See hrm Bug #767983

commit e2c8a273a49af5d9fa456946d14b02bd0554b1af
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Aug 7 20:08:07 2018 +0200

    Qt Client - fixed some small memory leaks

    See hrm Bug #767837

commit 1ac137664edd08e3029dfe3f9d28d560af59c2bd
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Aug 7 20:04:46 2018 +0200

    Qt Client - Added possibility of bases/roads to build
    Reported by  Marko Lindqvist

    See hrm Bug #684336

commit e84f1a3541c74d0d3fe9fd99699823da8ba55d2e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 4 18:46:29 2018 +0300

    gtk3-clients: Set transient parent for happiness tooltips

    See hrm Bug #768105

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fa63c2a6b39d0d3ff63683fda2268aace248d1c3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 2 21:29:00 2018 +0300

    Introduce clause_info structure

    Initial version of the clause type specific clause_info structure
    contains information whether clause type is enabled in the game.
    This information comes from the ruleset.

    See hrm Feature #765945

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 885e365e0a8f8e132ff483e94c229769248525e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 4 10:48:39 2018 +0300

    Improve ruleset comments about unit convert_time

    Make it clear that time is in movement points, and not in turns

    Reported by frank e

    See hrm Bug #692480

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0084463b2fc660b7b7e777b904069c0f42220de0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 3 01:45:42 2018 +0300

    sandbox: Fix "Turn_Fragments" comment in game.ruleset

    See hrm Bug #767841

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 013c8ba1bcbb2247964974c9f17d26ecebf8f011
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 2 20:33:26 2018 +0300

    Add "Building_Build_Cost_Pct" effect

    See hrm Feature #767451

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5f32a120a9571e34763c2b57f93989b3e258397a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 2 23:31:25 2018 +0300

    AI: Give some value for culture effects

    See hrm Bug #767726

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3d29f94bd68d6aa5c8abec9fb4a4c8f5aae9ba86
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 2 20:33:02 2018 +0300

    Multiplayer: Double buy cost of Small Wonders except Palace

    Requested by S.C. L. (Caedo)

    See hrm Feature #767397

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8b80be74feaabb105586ef8715d32ee393c189ae
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Aug 3 22:06:35 2018 +0200

    Reverted commit "Pathfinding - added workaround for goto path drawing bug with exhausted unit"

    See hrm Bug #657396

commit 2e5aa113b88ac3661525743ce71e4d38ba4821b3
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Aug 3 21:57:41 2018 +0200

    Server - fixed square dispersion 'radius' on hex maps
    Reported by Jacob Nevins<jtn>

    See hrm Bug #767131

commit e25ec09e7e2a240dbe87f43b1333de91bf71bb28
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Aug 3 21:54:32 2018 +0200

    Qt client - dont open city when adding city to trade planning

    See hrm Bug #767095

commit fe1e8cfc102663ff64a048914b42508d5bde11f2
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Aug 3 21:49:21 2018 +0200

    Server - fixed angry citizens not taken into account in HAPPIEST Civilizations report
    Reported by Akechi

    See hrm Bug #763884

commit fc82e7dc6d3464f3b7da4c28802ee08e8372320d
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Aug 3 21:46:03 2018 +0200

    Server - fixed pollution placed 1% more than pollution value of city
    Reported by Akechi

    See hrm Bug #763881

commit 0db870aa1bc26a17c7c55633c82f2edd961ba82f
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Aug 3 21:23:12 2018 +0200

    Pathfinding - added workaround for goto path drawing bug with exhausted unit and maglev
    Reported by Marko Lindqvist and Jacob Nevins <jtn>

    See hrm Bug #657396

commit f0a9245e86b45c3643eb28739998fcd5001e6bf0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 2 20:34:49 2018 +0300

    gtk3x: Replace gdk_threads_add_idle() call with g_idle_add()

    See hrm Feature #767472

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d4190d33604a010520e2b2e294e24962f328de26
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 2 20:32:43 2018 +0300

    Add "Building_Buy_Cost_Pct" effect type

    The main motivation is to allow ruleset to define how to
    handle buy cost of Small Wonders.

    Requested by S.C. L. (Caedo)

    See hrm Bug #756718

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3cfb01dcba83629e9d402840eecd7e5c35d0c88f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 2 20:34:09 2018 +0300

    Fix appending gthread cflags to modpack cflags

    See hrm Bug #767468

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4eb0d77e7d0b23248f0728253f7656b3971e9c49
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 2 20:32:23 2018 +0300

    Add server setting to control tech leakage rate

    Requested by fomalhaut

    See hrm Feature #764944

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 217ce5d27831fcd496ef647c9660a71a93b9cfaa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 31 23:52:22 2018 +0300

    Update freeciv-mp-gtk3x to use gtk+-3.94

    See hrm Feature #767467

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c030014131bb4ad5f0138f83e37ce9e147c79cf8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 31 22:15:24 2018 +0300

    Reveal map for completely dead teams when REVEAL_MAP_DEAD set

    The old behavior was never to reveal map to dead players if they
    were part of any team.

    See hrm Feature #658081

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9e0ea63be47cd1b6aa433142c5cfd720631c0ee9
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Aug 1 21:22:16 2018 +0200

    Reverted Bug #767095: Qt client - dont open city when adding city to trade planning
    Unexpected non working select button at all.

    See hrm Bug #767095

commit 53be69c0616a3b895d03e9112d34fb515097f893
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Aug 1 21:17:35 2018 +0200

    Pathfinding - fixed path drawing for fueled units with fuel > 1
    Reported by Jacob Nevins<jtn>

    See hrm Bug #765079

commit cfe267f944c5ba4b7c3d86d0a7ee6d5f54df3a9b
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Aug 1 21:08:06 2018 +0200

    Qt client - dont open city when adding city to trade planning

    See hrm Bug #767095

commit 990a36787242bd35ec3d7bdc9cbfa0caffda8b51
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Aug 1 21:05:58 2018 +0200

    Qt - always draw virtual cities in trade planning

    See hrm Bug #767094

commit aaed61f3859fed2d71c0e67887e179532d9d7310
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Aug 1 21:03:58 2018 +0200

    Qt - improved city dialog splitters and size policies position on first run

    See hrm Bug #767092

commit 82e9c0b72ec39835c71612f3948903247a4b4549
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Aug 1 20:59:37 2018 +0200

    Qt client - fixed default huge fonts on some small displays
    Reported by Yuri Tretyakov

    See hrm Bug #766497

commit 602b863b87cce52844f4aa8d8f8614ff9ed16c57
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 29 23:15:36 2018 +0300

    Init capabilities for freeciv-manual

    This fixes assert failure because of missing capability.

    Reported by MÃ¡ximo CastaÃ±eda

    See hrm Bug #763694

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7e1f6c8d12e4dfc372187e404f15c0fc696be0cb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 29 22:29:06 2018 +0300

    Increase victory_min_points in rulesets with cultural victory chance

    Experimental: 15000
    Civ2civ3:     18000
    Sandbox:      18000

    See hrm Bug #766716

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2601cb3750184bcc5d92bd5cf205080684788c1f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 29 17:22:07 2018 +0300

    Add "building_lost" signal to lua API

    Requested by Caedo

    See hrm Feature #695007

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 468a9aa3b11c2629d177d19cf9a8de9fd4ea2733
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Jul 30 22:32:55 2018 +0100

    Updated Spanish translation by Jordi Negrevernis i Font

    msgmerged from S2_6 f78349892d. Stats on master:
    nations: 100%: 1843 translated.

commit 5025a38df8f405092ba22c36e861d89118aecb56
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 29 17:09:20 2018 +0300

    README.md: Remove link to play.freeciv.org

    See hrm Feature #767042

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b4de4569a44d1806a56f852647a8b4fcb5c1f620
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 29 17:07:17 2018 +0300

    Windows: just use getenv(APPDATA) for home dir

    Requested by Frank <dunnoob>
    Patch by simsulla <simplicissimus.sulla@gmail.com>

    See hrm Feature #693389

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7443c0be43da6ed64c866fa339309f0adabca9d2
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 28 12:22:37 2018 +0100

    Script to scrape NEWS from Freeciv wiki.

    Cloned and hacked from doc/generate_FAQ.pl by me (in 2012), originally
    for gna patch #3488.

    See hrm feature #767074.

commit 68606e2a4938eb457b00efe7512b8fc2aa26b8bd
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 28 12:06:06 2018 +0100

    Update NEWS for 2.5->2.6 changes.

    See hrm feature #767040.

commit 5128119992b60bcdbb077b399ddccd826669f5f5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 29 17:08:54 2018 +0300

    Make create_vertical_surface() state parameter enum widget_state

    See hrm Feature #735289

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1c91ed222a85701d837404e01a515a778206c52e
Author: Zeko <zeko@freecivweb.org>
Date:   Sun Jul 29 09:55:56 2018 +0300

    Port caravan bonus style and trade revenue style options from warclient

    See hrm #765978

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a7059d5a82546031f7662a7cb87076bd0eacdca2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 22 00:10:48 2018 +0300

    Try glibtoolize if libtoolize is not found

    On Mac libtoolize might be called glibtoolize.

    Reported by Daniel Markstedt

    See hrm Bug #714899

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 05186c5695f6ebd5dc94802f0fd2f99644234736
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 22 01:01:46 2018 +0300

    msys1: Build only stub AI to ruledit installer

    See hrm Feature #656443

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fd94615013604b980a29de4fe7268f4e52f090f4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 22 19:22:10 2018 +0300

    sdl2-client: Correct freetype minimum version detection

    Reported by Lars Wendler

    See hrm Bug #765927

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 410d05e71480798423505a9a5c2e1b8a29735f3a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 21 19:31:23 2018 +0300

    Fix editing research while one is researching Future Tech

    Reported by fomalhaut pa

    See hrm Bug #765089

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a5fd4617b58322f41dfd4ce491042628da70ad49
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 22 01:19:41 2018 +0300

    msys2: Build only stub AI to ruledit installer

    See hrm Feature #656441

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eaece30292990612abb79e4cd8e6341851c60915
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 21 11:43:31 2018 +0300

    Add function header for tilespec_reread_frozen_refresh()

    See hrm Bug #735284

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 145ab0907383ba328b4060f5b6f1ec631309a571
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 21 01:43:19 2018 +0300

    Respect forced_tileset_name when starting a scenario game

    Reported by javaxubuntu

    See hrm Bug #765923

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f5157e5d2cfdf1d96206a9d6e23a5951ca7a43ba
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 21 18:40:34 2018 +0300

    Mention "Turn_Fragments" effect on game.ruleset documentation about fragments

    See hrm Feature #765121

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit efb0d0a6a9781f24f4c686798f17c93a6039b63e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 21 12:26:23 2018 +0300

    Update included lua to version 5.3.5

    See hrm Feature #765936

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 36f36e8dcc1c0b46b50d386c58c2fb1781d656ef
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 21 02:38:50 2018 +0300

    Save advance root req only if it's not inherited

    Reported by Jacob Nevins

    See hrm Bug #758958

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ed849c3d2bf9c8c61477bff7b3dc163e15892701
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 21 02:03:19 2018 +0300

    Qualify extra owner format string

    See hrm Feature #765598

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit af21962e8fa5631bff82d3a30f8695a6bb4f52c4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 21 00:01:49 2018 +0300

    Fix stringop-truncation warnings on C++ code

    See hrm Bug #765910

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 32abe86c3b276d74d314ec92561c97ce5983056a
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jul 15 16:39:21 2018 +0100

    Keep pregame AI level dropdown in sync with server state.

    It's been a longstanding bug that this dropdown, in clients which have
    it, doesn't track server state, and often the initial state doesn't
    reflect the server's.

    Reported by lots of people, including Frank (dunnoob@gna) in
    gna bug #24899.

    See hrm bug #765061.

commit 8b1b89b09f57f3f186daee0e44bd8d1250234054
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jul 15 00:10:06 2018 +0100

    Suppress "wonder will be finished" notices once obsolete.

    They could be printed even if the wonder could no longer be built,
    for instance due to becoming obsolete. (And would be printed every
    turn until the city production was changed.) This was a regression
    from 2.5.

    Reported by "fomalhaut pa".

    See hrm bug #764965.

commit 382c13064dab8baa00fc04f8b6ef4f6a58a42ed4
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 14 13:56:33 2018 +0100

    More warning for unit disband due to peace treaty.

    Make the initial message clearer that units will be disbanded, and
    send a followup warnings once per turn to any player who has units
    still at risk of disband.

    After a suggestion by David Lowe (doctorjlowe@gna) in gna bug #16000.

    See hrm feature #764959.

commit b1c56df7186c843ec705b16e4a89d63d08c59d61
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 14 12:00:13 2018 +0100

    Notify of endturn/spaceship arrival next turn.

    This gives players a chance to react (for instance, by changing server
    settings to prolong the game).

    See hrm feature #764421.

commit 6cd26d623497a3db833ad2dc80fe1c558a230c7c
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 14 11:24:43 2018 +0100

    Allow game_next_year() without side effects.

    See hrm feature #764956.

commit 2ae0186feb33f4268007d3ee0afc29dae07b07fd
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jul 8 10:12:23 2018 +0100

    Fix docs for civ2civ3 Cure for Cancer.

    The description of the effect on plague risk was misleading.

    See hrm bug #763957.

commit 5aee4135af1e8eaf8f3183c79ce2744f5b88d087
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jun 30 17:33:30 2018 +0100

    Don't clear cities' worker tasks on /away.

    See hrm bug #685253.

commit f91b1f175a9fcd8523c24292eb5a823846392212
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 21 22:17:13 2018 +0100

    Update FAQ for 2.6.

    Semi-manually updated from http://www.freeciv.org/wiki/FAQ_2.6, which
    will shortly be moved to the main FAQ URL.

    2.6 FAQ started by frank e, with further updates from me.

    See hrm feature #696454.

commit 66fd19c7dedd19b50096aeb005ebf31ca5284b75
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Jul 20 19:05:33 2018 +0200

    Reverted temporarily due to Bug #765892

    See hrm Bug #765390

commit 2db92244af33102c4606e4981890624344729233
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Fri Jul 20 00:50:11 2018 +0100

    Updated Spanish translation by Jordi Negrevernis i Font

    msgmerged from S2_6 3b081427c2. Stats on master:
    core: 80%: 6014 translated, 954 fuzzy, 532 untranslated.

commit c704667054a2b7dbbc03fd0f352edd73ae228f6c
Author: mir3x <mlewczuk80@gmail.com>
Date:   Thu Jul 19 22:25:36 2018 +0200

    Qt client - fixed not null-terminated string used for showing tooltip in city dialog

    See hrm Bug #765390

commit 61def3763753c973306218f4605e62143bb9cc31
Author: mir3x <mlewczuk80@gmail.com>
Date:   Thu Jul 19 22:22:13 2018 +0200

    Qt client - button for canceling production dialog was invisible and inactive in Qt5.11

    See hrm Bug #765387

commit d8663db64044c0748fa9da336c158248e2ec797e
Author: mir3x <mlewczuk80@gmail.com>
Date:   Thu Jul 19 22:18:50 2018 +0200

    Pathfinding - show number in correct place on mapview for unit being out of fuel for given turn
    Reported by Jacob Nevins

    See hrm Bug #765079

commit d6809f4a3223d1f4127a75d9c6420d86287b90a4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 19 09:10:39 2018 +0300

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c17ceaccd9eab8fc1f5ff4de58bfef0a84d4e94a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 18 13:12:58 2018 +0200

    Comment clarification: fake action id.

commit e2def982adf9f4104d76473bff4ece116d64c8ce
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Jul 17 09:32:04 2018 +0100

    Updated Japanese translation by "fomalhaut pa"

    msgmerged from S2_6 deac9014aa. Stats on master:
    core: 77%: 5748 translated, 1025 fuzzy, 727 untranslated.
    nations: 95.8%: 1766 translated, 11 fuzzy, 66 untranslated.

    See hrm feature #765297.

commit 3e1d8a92aa426de7ca6e0a072375fc06b0f21f68
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jul 15 13:12:23 2018 +0100

    More visible Pollution sprite for Amplio2/Cimpletoon.

    By Gyubal Wahazar on the forum.

    See hrm feature #765046.

commit 18b78878ec5504f817f8d7a8f01acab80ef2c533
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jul 10 12:54:43 2018 +0200

    Assert correct input in utype can act functions.

    Inspired by hrm Bug #759773 that was reported by ZoltÃ¡n Å½arkov

    See hrm Feature #764308

commit f75aa738c20736cbb24d83b1a6a9be7dbf3c42fe
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 14 21:06:45 2018 +0100

    Fix server crash loading worker tasks.

    A savegame where a city had a terrain-conversion type worker task was
    loaded with an uninitialised pointer, potentially causing a server
    crash later.

    Crash reported by mir3x.

    See hrm bug #764223.

commit 1b39f996175f69d41b79efa8f8fd3bbf64cd12a2
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 14 00:52:26 2018 +0100

    Updated Spanish translation by Jordi Negrevernis i Font

    msgmerged from S2_6 6136abb34e. Stats on master:
    core: 76%: 5733 translated, 1165 fuzzy, 602 untranslated.

commit 56fa2d848d59e8214e8e379c7d71506c79cf4770
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Jul 13 14:51:21 2018 +0200

    Qt client - display help text in build queue & Improvement List
    Requested by Griffon Spade

    See hrm Feature #735308

commit d34cfcfbc2dd2d2fdc55f5f5bc1f401a85df04b5
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Jul 13 14:44:29 2018 +0200

    Server - Fix global warming occurring at 0 accumulated value
    Reported by Akechi.

    See hrm Bug #763882

commit e3fdeb72b121045b8b29612bda8e8c27d5a59cc0
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Jul 13 14:40:30 2018 +0200

    Client - Drawn goto turns to target is incorrect on mapview

    See hrm Bug #763943

commit fa1ff3b0decbcc7d9893768ba7c9d269021cf52f
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Jul 13 14:32:21 2018 +0200

    Qt client - fix Shift-E shortcut clash
    Reported by Jacob Nevins

    See hrm Bug #764407

commit dc3841b76ba16e45fbb0ba205bef383f53419dc3
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Jul 13 14:29:42 2018 +0200

    Qt client - use QPixmapCache for faster loading pixmaps

    See hrm Feature #764525

commit 8c4cb86580a66d61e8ba4840b9191977c8d24da0
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Jul 13 14:27:20 2018 +0200

    Qt client - show extra moves left for fueled units
    Request by Jacob Nevins somewhere on gna.

    See hrm Feature #764524

commit 61b96b9449c5b0686ee016e76c9d3f65297bf0f8
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Jul 13 14:24:04 2018 +0200

    Qt client - Save help dialog position and geometry

    See hrm Feature #764218

commit 5d22e74f9f8de2a0b8937033a25065b661c3eed5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 15 12:42:00 2018 +0200

    Support extra targeted unit action orders.

    Support actions that requires an extra sub target in ORDER_PERFORM_ACTION
    unit orders.

    No client side usage added. No automatic extra target finding is done when no
    extra sub target is found.

    See hrm Feature #761724

commit 01879cc27f8151ee6fe411890c0cb3bbbdc7e55c
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jul 8 12:19:42 2018 +0100

    Lua find.role_unit_type() considers flags too.

    Fixes a regression in 2.6 where you could never get Settler-type units
    from huts.

    Reported in various forms by frank e and Akechi.

    See hrm bug #700906, hrm bug #763890.

commit ab6e7951aeac8bd5f19a56485d770dad1c292bd2
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Jul 10 21:29:10 2018 +0200

    Qt client - Left-Align Header Text for Present Units, Supported Units, and Improvements in city dialog
    Reported by Griffon Spade

    See hrm Bug #735301

commit 7a49951cebe0f997fe94ec58254399ca61b80387
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Jul 10 21:24:38 2018 +0200

    Qt client - added option to resize battle log widget

    See hrm Feature #764025

commit 23c3ed1c6b34669b7432a509b694b64dc2ad95dd
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Jul 10 21:21:14 2018 +0200

    Qt client - fixed crash when observing player with diplomacy meetings open

    See hrm Bug #764026

commit 281305614bee3acf8b4d046f36ff914b70a85340
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Jul 10 21:18:18 2018 +0200

    Fixed incorrect "bribe cost" for damaged units.
    Reported by Akechi

    See hrm Bug #763896

commit 4b8faf2145ca0044124173350df42c45e76cb160
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Jul 10 21:14:51 2018 +0200

    Server - fixed "Largest Civilizations report" not being created
    Reported by Akechi

    See hrm Bug Bug #763883

commit 022dea17a7cdcf5b6116307f59aa70e8db65ea76
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Jul 10 21:10:13 2018 +0200

    Server - fixed resources placed 0.1% more than setting value
    Reported by Akechi

    See hrm Bug #763879

commit 31256a94f94d1eef175798785a1ae2b2c52fa5d6
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Jul 10 21:05:00 2018 +0200

    Qt client - link for terrain in buidlings help not working
    Reported by MÃ¡ximo CastaÃ±eda

    See hrm Bug #763708

commit 1290e1bae386a9a95c52a5a1e26701692950dbb8
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Jul 10 21:01:22 2018 +0200

    Fixed crash when unit goto is active and mouse is leaving bottom of unit actions widget.
    Reported by Jacob Nevins<jtn>

    See hrm Bug #761748

commit 3fd93791e8217969a21be2e3323328a4d55ec38a
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jul 8 14:38:55 2018 +0100

    Fix network protocol for rulesets with lots of units.

    There was a longstanding bug if a ruleset has 129 or more units,
    and one of the 129th-or-later units is an upgrade or convert target,
    the client wouldn't register that, so players couldn't initiate the
    affected upgrade or conversion. This was due to use of SINT8 in the
    network protocol.

    Change the network protocol definition to UINT8. It so happens that
    this doesn't actually change what the server sends on the wire, just
    how the client interprets it, so there's no need for a capability
    bump, and new clients will now do the correct thing even with old
    servers.

    Reported by Akechi.

    See hrm bug #763894.

commit 2c0fe0c02d3d7a6c0ca6275af426a3f66e157de7
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Jul 3 09:34:36 2018 +0100

    Mark 'default' command as translatable.

    Reported by MÃ¡ximo CastaÃ±eda.

    See hrm bug #763068.

commit e88332576d9f748c0e7851e98dd1247f86267a7a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 29 10:00:24 2018 +0300

    Update msys2 environment to 180624 level

    See hrm Task #724669

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8697f3a9b120b5642b35fa83dca480caeea8e1e0
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Jul 3 21:56:51 2018 +0200

    Qt client - make sidebar width dependent on screen size not application size.

    See hrm Feature #760162

commit 2a6f2fcea0c19ad1de9d85ef269716551132c2f9
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Jul 3 21:52:47 2018 +0200

    Qt Client - when scaling tileset make tile information size not changeable.

    See hrm Bug #759976

commit 002ad1304708c32f072ba537df7439053dc49a46
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Jul 3 21:49:08 2018 +0200

    Qt Client - reverted policies dialog to normal QDialog, due to crash on
                earlier versions of Qt.
    Reported by Jacob Nevins <jtn>

    See hrm Bug #759242

commit 1d3d0acb27d0c987a39d8442859f3720ed2e8df5
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Jul 3 21:43:49 2018 +0200

    Client - fixed displaying borders when using scaled tileset.
    Reported by Jacob Nevins <jtn>

    See hrm Bug #756115

commit b4640fc7e815ada6ba58d156b8370637e8676218
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jun 30 15:32:42 2018 +0100

    Activity icons and other tweaks for Isotrident/Isophex.

    Add activity icons for all extras in shipping rulesets.
    Removed piecewise nuke sprites (not used since r7322 in 2004).

    By GriffonSpade with spec tweaks by me.

    See hrm feature #762839.

commit daec00a08637c2e0bfccc205164e01d3b2d181fc
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jun 30 15:30:57 2018 +0100

    More unit activity icons for Amplio2/Cimpletoon.

    Added irrigation, farmland, mine, oil_mine, oil_rig.
    These tilesets now have specific activity icons for all extras in shipping
    rulesets.

    By GriffonSpade.

    See hrm feature #762838.

commit 4579d6b23752de1b55f235ef37e1be22e7636803
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jun 27 22:25:12 2018 +0100

    Fix spaceship score contribution.

    Don't give points on spaceship arrival for population in habitation
    modules that weren't actually attached to the spaceship when it was
    launched.

    Reported by "fomalhaut pa".

    See hrm bug #757442.

commit 7828350ae98f05d07bee694eacfa56bcb8461597
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 27 05:46:10 2018 +0300

    tinycthread.h: Don't mess timespec definition

    See hrm Bug #762124

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3a00662d26809568ec9b9ed2316ab6765cf2ceee
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Jun 26 23:47:04 2018 +0100

    Fix Future Tech messages.

    When getting Future Tech as a free tech, some of the messages
    displayed the wrong Future Tech number.

    Define separate functions for choosing a free tech and granting it.
    (This allowed some unrelated cleanup.)

    Wrong messages reported by "fomalhaut pa".

    See hrm bug #761977.

commit 7d891a9895ca4796ace14c527711721a7a2364d3
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Jun 26 22:47:31 2018 +0100

    Fix cargo teleport on transport homecity loss.

    When a gameloss/undisbandable unit such as a Leader is cargo on a
    transport that is lost with its home city, avoid teleporting the
    Leader to that city. This could cause non-allied units on the same
    tile (Leader and city's conqueror), and prevent the Leader teleporting
    to a more distant, safe city.

    Non-allied units reported by "fomalhaut pa".

    See hrm bug #761808.

commit 8eb47c130254dfceb6182b6794b9cb6e8f28d757
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 24 07:41:20 2018 +0200

    More detailed unit order logging.

    See hrm Feature #761786

commit aeafac7ff4747d3e6150b881f83d152b253ec467
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 20 13:30:33 2018 +0200

    Add a "how long will this action take" finder.

    Some actions are activities. Those aren't done until enough work (stored in
    a unit's activity_count) has been performed. The work is done at turn change.
    Other actions are instantaneous. They are performed (or fails) at once the
    unit is ordered to perform them.

    Introduce the constant ACT_TIME_INSTANTANEOUS and the function
    action_get_act_time(). The constant ACT_TIME_INSTANTANEOUS symbolizes that an
    action is instantaneous. The function action_get_act_time() returns
    ACT_TIME_INSTANTANEOUS for instantaneous actions and the amount of work (done
    at turn change) required to complete it for activities.

    Move the activity time calculations of ACTIVITY_FORTIFYING and
    ACTIVITY_CONVERT from update_unit_activity() to action_get_act_time().

    See hrm Feature #761781

commit 27a777a32ef0faa0bcca819c10f2fab4dcf15d51
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Jun 25 00:01:20 2018 +0100

    Fix Amplio2/Hexemplio industrial cities.

    The Amplio2/Cimpletoon/Hexemplio/Toolhex tilesets was using the wrong
    graphics for large unwalled cities with the "industrial" style.

    Reported and diagnosed by "fomalhaut pa".

    See hrm bug #761751.

commit 93c68466858b7ac5f6811a27d6df098b970f8390
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 20 13:33:23 2018 +0200

    Fix tech/building targeted unit order execution.

    The tech or building sub target and the extra sub target arguments to
    unit_perform_action() was in the wrong order when executing a unit order with
    a specified action. The tech or building sub target was replaced by
    EXTRA_NONE while the tech or building sub target was sent as an extra target.

    This broke the execution of the city targeted orders with a tech or building
    sub target. Example: An order for a Spy to go to a city and sabotage its City
    Walls would be interpreted as an order to go to the city and sabotage its
    current production.

    No GUI supports sending a go to and perform action order against the
    specified sub target yet.

    See hrm Bug #761527

commit 86fce03a3a92646747c7017dd316fdd3ba330218
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Jun 21 00:22:22 2018 +0100

    Shuffle players earlier in a new game.

    give_initial_techs() was using the shuffled players order before it
    was initialised. The most obvious effect was that with high
    techlevels, the first player would be told about government-enabled
    technologies 160 times, and everyone else not at all.

    Games started from a fixed random seed may not proceed the same before
    and after this change, although map generation is unaffected.

    Excessive messages reported by "fomalhaut pa".

    See hrm bug #759020.

commit 7cbb83d70a9403107e29bc7186bd8a4ac51f74e9
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jun 20 21:38:03 2018 +0100

    Tweak secfile comment output format.

    Add a few spaces, to make it clear that it's a comment.
    This is used for instance in the client rc file.

    See hrm bug #761206.

commit d5ffa0c98628e4b009a40dcab17006aae3941993
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jun 20 20:49:02 2018 +0100

    Misc terrain.ruleset comments about 2.6+ changes.

     - Describe how extra ownership works.
     - Describe integrating roads.
     - Note that pythagorean_diagonal has no effect with hex topologies.
     - After gna patch #4346, terrains are looked up by name, not section.

    See hrm feature #761202.

commit 44b9f424eac7bc7cfc7fb68983a0cd322921d1d3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 20 02:56:54 2018 +0300

    Refresh sdl2.m4 to upstream release 2.0.8 level

    See hrm Feature #750895

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 85aee6587bd076e2b69697727b75b89e60dfd699
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Jun 18 00:43:08 2018 +0100

    A couple of string tweaks.

    See hrm bug #689474.

commit 6db6d5d01ec2e362f922391f0be9f7485552fc67
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Jun 18 00:43:23 2018 +0100

    Some corrections to rules help for 2.6+.

    See hrm bug #760497.

commit e4c51cb8a0f16b5c10192da7db89806bdfe2b736
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jun 17 15:40:46 2018 +0100

    Remove font sizes from tileset format.

    The city and production font sizes clashed with client font configuration,
    and were already ignored by the Qt client.

    Clash reported by "Grendel" (gna bug #18802). Symptom also reported in
    gna bug #19327 and Launchpad #816197, and by Hans Lemurson on the
    forum.

    See hrm bug #760420.

commit d62199c707eb3e5c9eb8b481a829bfbced1090a7
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jun 17 13:59:42 2018 +0100

    (Very) minimal font configuration in SDL2.

    Allows setting the size (only) of the city name and production text (only)
    on the main map view.

    See hrm feature #760428.

commit 894bbf0aa83b3a2af8d4977711dc2dbfb84ee602
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jun 16 22:11:41 2018 +0100

    More logging for autosettlers.

    Log their target tasks and progress toward them, in a way that
    '/debug unit' can show.

    See hrm feature #760370.

commit b6eb67b7b1534b09465a5844f234ccbbf8ead956
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jun 16 22:10:48 2018 +0100

    Fix '/debug unit|units'.

    The logic in UNIT_LOG() prevented '/debug' from showing most of a unit's
    debug messages.

    See hrm bug #760368.

commit 7c78d25b54f1f8d07ab213bf9f468d7885033bbc
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jun 16 22:47:50 2018 +0100

    Client: allow cleaning as worker task.

    The Gtk/Qt clients now allow requesting Clean Pollution/Fallout via the
    worker task interface.

    Requested by vla22.

    See hrm feature #760367.

commit 5759d686bf117ead4a8488cb0da90bda588aabad
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jun 16 22:19:34 2018 +0100

    man pages: note that --log appends.

    See hrm bug #760366.

commit 10542d5d00303847bb5dbb4081e251a1f1c1a388
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 9 22:41:33 2018 +0300

    Add deprecation warning about use of numeric log levels

    Patch by simsulla <simplicissimus.sulla@gmail.com>

    See hrm Feature #735948

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eb5c0f9975513f0ff8f2bf414187e212368fc88a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 13 23:46:04 2018 +0200

    Assert that unit action orders have an action.

    Inspired by hrm Bug #759773 that was reported by ZoltÃ¡n Å½arkov

    See hrm Feature #759786

commit c92f52c83791f1d18a1d44b26be9032e445fa1bd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 12 09:08:14 2018 +0200

    actiontools: tighten incident type information.

    See hrm Feature #759298

commit 35f7f500943be3d53b2c8a5e53ef778804520082
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 12 08:50:10 2018 +0200

    api_find_action() takes an action id. Mark it.

    See hrm Feature #759295

commit b7f6adb032303320082759289f92db5f0517b35e
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jun 13 21:42:20 2018 +0100

    Prevent partisans from most city transfers.

    Partisans are only supposed to show up when a city is conquered, but
    due to a precedence issue in the Lua script, they could show up
    whenever a city changed hands for any reason.

    Reported by "fomalhaut pa".

    See hrm bug #759770.

commit ef480bd525f2672ff0912ac3ee2b92f988d53b0d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 9 18:13:50 2018 +0300

    civ1: Remove Airlift action enabler

    Patch by simsulla <simplicissimus.sulla@gmail.com>

    See Feature #741526

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0630ce3fa9e85d92df43c9da398d096737f8ebba
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Jun 11 08:36:45 2018 +0100

    Use same extra graphics and extrastyle.

    Tileset loading code now only does 'graphic'/'graphic_alt' fallback on
    the extra style, and always loads the graphics corresponding to the
    extra style it found. (Instead of supporting independent fallback of
    the extra style and each of various graphics used to draw the extra,
    which was confusing.)

    See hrm bug #758989.

commit c701de83766b9b9267669316b9fa8037aa265c81
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 8 14:30:37 2018 +0200

    Assert that ACTIVITY_LAST isn't considered.

    See hrm Feature #759099

commit 8e2801d583e1aaaee2bfaf3229e2ba233b518ff3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Jun 9 20:44:48 2018 +0200

    Fix all can_unit_do_activity_targeted_at() calls.

    A call to is_action_enabled_unit_on_*() replaced the hard coded checks in
    can_unit_do_activity_targeted_at() for each activity that became action
    enabler controlled. is_action_enabled_unit_on_*() cares about distance
    between actor an target. This caused can_unit_do_activity_targeted_at() to
    lose it's ability to speculate about the actor unit's tile for action enabler
    controlled activities.

    Actor unit tile speculation with can_unit_do_activity_targeted_at() is only
    used in the auto settler code of ai/tex, ai/threaded and
    advisors/autosettlers. Its remaining users can't be ported to use speculative
    action enabler evaluation until all the activities they may consider have
    corresponding actions.

    Introduce auto_settlers_speculate_can_act_at(). It calls the correct
    speculative evaluation function based on if the specified activity has a
    corresponding action or not: can_unit_do_activity_targeted_at() when no
    corresponding action is found. action_speculate_unit_on_*() when it is.

    Port remaining actor position speculating can_unit_do_activity_targeted_at()
    calls to auto_settlers_speculate_can_act_at(). Assert that calls to
    can_unit_do_activity_targeted_at() for action enabler controlled activities
    don't speculate about actor unit position.

    See hrm Bug #758450

commit 2091be8ce07ff88e20bc824f4fbf1a5b72827018
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Jun 12 19:59:20 2018 +0200

    Fixed tileset zoom activity fffset bug
    Reported by Griffon Spade

    See hrm Bug #731629

commit 97c12d393ba00ce5da72d56d05b27174758ed6c0
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Jun 12 19:45:05 2018 +0200

    Qt client - fix zooomed flags in nations menu.
    Reported by Griffon Spade

    See hrm Bug #738921

commit b538e4d429f8c307ed5ad21ce0fe1b159be48c37
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 9 23:15:01 2018 +0300

    Make '/list scenarios' to list scenarios only

    It was listing also regular savegames

    Patch by simsulla <simplicissimus.sulla@gmail.com>

    See hrm Bug #731199

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1e6e2145e3a0e91e7c5abb0a81f4376e0db191fc
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jun 10 13:27:07 2018 +0100

    Fill in missing extrastyles in supplied tilesets.

    Many tilesets defined sprites without defining extrastyles for them.
    The engine doesn't currently warn about this, so trouble could be hidden
    until you use a ruleset with unusual fallbacks (such as 'alien').

    Trouble with 'alien' ruleset reported by vla22.

    See hrm bug #758964.

commit 96aebb40b683b17398462abcf1fcb785a833d865
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jun 3 14:07:33 2018 +0100

    Editor: use bv_techs instead of bool array.

    See hrm feature #758952.

commit c3d9028d37473348458eb80650739a5a0836236e
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jun 9 17:40:55 2018 +0100

    Show effect of tech root_reqs in help.

    Also, tweak some wording to clarify restrictions on research versus
    acquiring tech by other means.

    Requested by Marko Lindqvist.

    See hrm feature #758951, gna patch #4428.

commit 7e1045fef8164007487148dec830e67c68acd1b6
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jun 3 16:43:51 2018 +0100

    New bitvector utility BV_CLR_ALL_FROM().

    See hrm feature #758950.

commit 78915e73d0c850e3c4bfd47a7c8911ea126362c7
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jun 9 15:54:57 2018 +0100

    New utility advance_root_req_iterate().

    Using algorithm extracted from research_get_root_reqs_known().

    See hrm feature #758949.

commit 9aa056221dc79829e7fe8fb6e9d7e672c4c2dc4d
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jun 3 12:34:35 2018 +0100

    More comments for advance_req_iterate().

commit 53a85c48f176252cb1a642fb53d3bf46afa012c3
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jun 9 20:17:06 2018 +0100

    Rework comments about tech root_reqs.

    See hrm feature #758948.

commit 05e4e6c819828eb102f308faa4ef4a6d4a4d5cad
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 8 10:38:31 2018 +0200

    Port auto settler transform code to actions.

    Port agent controlled workers (ai/autosettlers) terrain transformation
    evaluation from activities to actions. This should make its speculation about
    whether the worker can transform a tile other than the one it currently
    occupies work again.

    A call to is_action_enabled_unit_on_*() replaced the hard coded check in
    can_unit_do_activity_targeted_at() for each activity that became action
    enabler controlled. is_action_enabled_unit_on_*() cares about distance
    between actor an target. This caused can_unit_do_activity_targeted_at() to
    lose it's ability to speculate about the actor unit's tile for action enabler
    controlled activities.

    Change as_transform_activity_iterate to as_transform_action_iterate and make
    it iterate over actions rather than activities. Make its users evaluate
    terrain transformation by using action_speculate_unit_on_tile() rather than
    can_unit_do_activity_targeted_at().

    See hrm Feature #758738

commit fc74950644cb7c86f118a8fb8ac47b1f007ed0e3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 7 16:48:51 2018 +0200

    Hard coded activity to hard coded action.

    Replace two can_unit_do_activity_targeted_at() calls where the activity is
    hard coded with action_speculate_unit_on_tile() calls with the corresponding
    action.

    See hrm Feature #758536

commit 78308435f8f3d031e8eed11d5d4d510ea490625e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 9 14:16:49 2018 +0300

    Fix syntax error when Windows start scripts run without a parameter

    Reported by frank e

    See hrm Bug #700914

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f44f8a8f9e833626441bc0c481f360b248378b9e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 8 09:56:07 2018 +0200

    Remove outdated comment.

    ACTIVITY_BASE hasn't been mentioned here for a while.

    See hrm Feature #758725

commit a063d701e589fb2a50e3915f74bcc6f62c2721a3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 28 14:47:18 2018 +0200

    Make agents build mines and irrigation again.

    Workers controlled by autosettlers stopped building mines and irrigation once
    action enabler controlled mine building (hrm Feature #753716) and action
    enabler controlled irrigation building (Feature #754873) landed. Fix it.

    A call to is_action_enabled_unit_on_*() replaced the hard coded check in
    can_unit_do_activity_targeted_at() for each activity that became action
    enabler controlled. is_action_enabled_unit_on_*() cares about distance
    between actor an target. This caused can_unit_do_activity_targeted_at() to
    lose it's ability to speculate about the actor unit's tile for action enabler
    controlled activities.

    Actor unit tile speculation with can_unit_do_activity_targeted_at() is only
    used in the auto settler code of ai/tex, ai/threaded and
    advisors/autosettlers. Its users can be ported to use speculative action
    enabler evaluation once all the activities it considers are action enabler
    controlled.

    Change as_extra_activity_iterate to as_extra_action_iterate and make it
    iterate over actions rather than activities. Make its users evaluate extra
    creation by using action_speculate_unit_on_tile() rather than
    can_unit_do_activity_targeted_at().

    See hrm Bug #758450

commit 20a0951c8860eb258bd42e57b920b6e4c1511c8c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 7 12:21:59 2018 +0200

    Speculative action enabler evaluation for all.

    Implement speculative action enabler evaluation for each target type.

    See hrm Feature #757520

commit 9dc933fb7374af8ffe73f09572a216aa8f98399d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 8 14:43:47 2018 +0200

    action_speculate_unit_on_city(): use actor_tile.

    Evaluating action_speculate_unit_on_city() in non omniscient mode would cause
    it to calculate the distance to the target tile using the actor unit's real
    tile rather than the (potentially different) user provided actor_tile.

    It was not yet used in non omniscient / cheat mode.

    See hrm Bug #758807

commit c59ac31e091e33fd9ba25ddac172d33b7b6be397
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 7 13:56:07 2018 +0200

    webperimental: avoid Freeciv-web error message.

    The Freeciv-web client sets the nationset setting automatically. This
    resulted in an error message while it was locked. Unlock it.

    See hrm Bug #758445

commit 055c071e7a1b053da866fb2706d265b2c8c38983
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 7 12:31:42 2018 +0200

    Shorter unit home city look up.

    A unit's home city is stored by its city id. This makes getting a unit's home
    city as a city struct require the developer to call game_city_by_number()
    with the unit's homecity. Introduce the new macro unit_home(). It automates
    looking up a unit's home city.

    See hrm Feature #758434

commit 89e3ed8d9bbbee7fe779a078f51fa19cc819f238
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 9 14:14:04 2018 +0300

    msys2: Build and install freeciv on one pass

    See hrm Feature #656417

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dd6a418ae75b3583f06559ed1095956b47e2e9eb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 9 14:13:33 2018 +0300

    Enable effect_edit dialogs in non-experimental ruledit

    See hrm Feature #737625

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cb27bf173f08d25fcaff17ff1fb93922b0c13a8b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 4 10:04:43 2018 +0200

    protocol: causes and rmcauses are bit vectors.

    The extra fields causes and rmcauses are bit vectors but they don't use the
    bitvector type. Mark them as bit vectors in the network protocol. This makes
    the JSON protocol transfer them as Freeciv-web readable bit vectors.

    See hrm Feature #757429

commit 944944e051276c6fca37806298df66c1c8b40265
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 1 12:56:51 2018 +0200

    Speculative action enabler evaluation.

    Start by allowing speculation about actor position and home city. Use that to
    replace is_action_enabled_unit_on_city_full().

    See hrm Feature #755356

commit 31dce8c6f2a03b53c19a1f90d65c7fd1c2f7fa96
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 3 16:07:47 2018 +0200

    Validate extra target of incoming unit orders.

    Some actions that can appear in unit orders requires an extra target.

    See hrm Bug #757307

commit 2198fed29699bf92d55c49c229a7659b8987200d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 3 15:17:45 2018 +0200

    Centralize action ui ruleset variable name.

    Until actions becomes ruleset defined the ui_name must be defined via an
    action specific variable. Centralize the name of this variable for each
    action in action_ui_name_ruleset_var_name() to remove the need to add it
    twice per action.

    See hrm Feature #757304

commit 02cf897f4adbac080a2301b67ffee94e7acc7807
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 1 12:38:01 2018 +0200

    action module: mark action id variables.

    Use the action_id typedef to mark action ids. Adjust other places to keep
    ruledit and the Qt client compiling with the type change.

    See hrm Feature #757298

commit be9c21e953dd1e2b5aa9ea534b7d563654cae425
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jun 3 09:14:09 2018 +0100

    Reinstate sending policy names to client.

    This was accidentally lost in hrm feature #732522.

    See hrm bug #757296.

commit d60ca304c3d57c7b428ee3ebf9fd6445330c22ee
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jun 3 00:35:18 2018 +0100

    Rework civ2civ3/sandbox government help.

    Add some handwritten text, and use 'quiet' attributes to suppress
    autogenerated help for parts that are covered by the fixed text.

    See hrm task #657407.

commit 02ee5ca217c14166c84ea60a4304d10555b5ea17
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jun 2 18:29:47 2018 +0100

    Fix various bugs in unit orders.

    These were a consequence of hrm feature #741273 splitting target from
    extra in unit orders.

    I think the following visible bugs have been fixed:
     - Loading a pre-3.0 savegame could give network truncation errors.
     - Connecting with irrigation could give the wrong result if irrigation
       did not happen to be extra 0. (It is in all our rulesets.)

    See hrm bug #757270.

commit 7172b0ac86902642d4f8504a121371808f0e49c1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 4 10:17:02 2018 +0200

    Comment grammar fix

commit fd13f041d6c581f0c0c2009cb83f32a3aeb7d153
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jun 2 09:57:24 2018 +0100

    Fix double spaces in Airport description.

    I introduced most of these while fixing hrm bug #727051.

commit a713ecaa35967b965f3a6fc9a53c58483cbe9480
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 1 14:09:10 2018 +0200

    is_action_enabled(): parameter tabs to spaces.

    Convert the tab indention in is_action_enabled()'s parameter list to spaces.
    This gets it out of the way so it can't cause merge conflicts for work in
    that area.

    See hrm Feature #757062

commit 93c7eaf1ab544de60afa6ec21fb50d38e77fefe9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 1 13:44:41 2018 +0200

    Comment fact fix.

commit 748a914df7b2da2cd01a9ea7ba8950928aa9dcdb
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 28 13:57:19 2018 +0200

    Introduce the action_id typedef.

    Introduce a type definition for action ids. This should increase the
    readability in cases where the action id variable should have a different
    name.

    See hrm Feature #756188

commit b1dc697da52c261d87076b017d443688a5f25f4f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 1 12:20:50 2018 +0200

    client/*: avoid using the name "action_id".

    See hrm Feature #756893

commit 8b5873e3f3533d3fea14329192ada3d02d4b22ee
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 1 12:12:51 2018 +0200

    Qt client: avoid using the name "action_id".

    See hrm Feature #756892

commit 83be09b4357b4316809387a47afc8819fb990d99
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 31 16:15:52 2018 +0200

    SDL2 client: avoid using the name "action_id".

    See hrm Feature #756880

commit 9b66b16b77b7c93abcb3b727cb125f22e4f11b97
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 31 08:25:14 2018 +0200

    GTK clients: avoid using the name "action_id".

    See hrm Feature #756736

commit b482beec6fbe4d44e73f0f57abf32002edd74255
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 31 08:11:56 2018 +0200

    server/*: avoid using the name "action_id".

    See hrm Feature #756731

commit b369c5e1e7b758427fbc8e4d319da7f468d4c2b2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 30 11:41:55 2018 +0200

    ai/*: avoid using the name "action_id".

    See hrm Feature #756596

commit 94221a8b3b474616df13079c99c6d7b271789c2e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 30 11:14:18 2018 +0200

    common/*: avoid using the name "action_id".

    See hrm Feature #756589

commit 68e18d48c3b3c5d48f918b861ed747c0e48cbafd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 29 12:48:03 2018 +0200

    action module: avoid using the name "action_id".

    See hrm Feature #756330

commit 87094497b0fb5ce34ffd968447dbc6a4650cd014
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 29 12:15:50 2018 +0200

    Allow a unit to continue pillaging.

    Reported by Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>

    See hrm Bug #756325

commit e97c48ea46891180b749d1326bab123639798bfd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 29 02:35:26 2018 +0200

    GTK clients: intuitive unitsel*dlg button order.

    Make selection the rightmost button in the unit select extra / unit dialog.
    They are used for unit transport selection, pillage extra selection and for
    the action selection dialog's target unit/extra switchers.

    Requested by Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>

    See hrm Feature #756225

commit 48799cd192e80aff9fc7b7780cc8c1042caff8e3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 28 15:58:15 2018 +0200

    protocol: avoid using the name "action_id".

    See hrm Feature #756189

commit e04f210c88457a7d1357e0962372fa3211263dce
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 28 14:32:33 2018 +0200

    Non action auto performer action list iteration.

    Factor out action_auto_perf_actions_iterate's action list iteration code to
    the new action_list_iterate iterator.

    See hrm Feature #756170

commit 663c0a9d7fe66483a74fae4f9c766dbdb5874e18
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 25 13:20:21 2018 +0200

    Introduce action_get_activity()

    Introduce the new function action_get_activity(). It returns the unit
    activity an action may result in, or ACTIVITY_LAST if the action doesn't
    result in a unit activity.

    See hrm Feature #756123

commit 4ccf08b0dc39d444b4dea38cda6005592260ba63
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon May 28 17:58:39 2018 +0100

    Better forecasting of tech loss in client UI.

    Mainly, take the 'techlossforgiveness' option into account.

    See hrm bug #756203.

commit 51261a7d517eb5fc5d8e15e284c599e4c462d2ab
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon May 28 16:22:40 2018 +0100

    Send techloss_forgiveness to client.

    This is a change to the network protocol.

    See hrm feature #756202.

commit ca959cc78281caaf505b8c0f43e24e402772fe9e
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon May 28 14:32:33 2018 +0100

    Qt: fix assertion failure in science report.

    If the science report was drawn or refreshed while the player had no
    advance selected, or was researching future tech, an assertion failure
    message was printed on the console.

    Reported by Marko Lindqvist.

    See hrm bug #732483.

commit 96025231372d6f7b42891d91f9d14021f8a2a1fe
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon May 28 12:40:19 2018 +0100

    Document that Airports give veteran missiles.

    Reported by UukGoblin on IRC.

    See hrm bug #727051.

commit 3145c3050ec2709756f883356fb1a9232f5aeb03
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon May 28 12:23:53 2018 +0100

    Document the 'quiet' flag in requirements.

    Reported by GriffonSpade.

    See hrm bug #733917.

commit 3bf91db51225d78300f6bd35d097af84c613b86d
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon May 28 11:32:39 2018 +0100

    Use more focused git dirty check when building.

    This avoids invoking custom diff engines, etc.

    See hrm bug #756106.

commit 0f650574b23125a6d52ac8c70f012111faf9a859
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon May 28 11:31:35 2018 +0100

    Qt: zealous_crop_rect() was too zealous.

    It would crop off the right/bottom row of pixels. (It's mostly used
    for displaying unit sprites off the main mapview.)

    See hrm bug #756105.

commit beb299287f4447a2e8fa9078e2b44f5f6aca88c3
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun May 27 16:25:28 2018 +0100

    Qt: fix unit info bar for scale changes.

    The amount of space reserved for the unit sprite would change, even
    though the unit sprite itself remained about the same size.

    Also, ensure that it's refreshed whenever the scale changes.

    First symptom reported by GriffonSpade on the forum.

    See hrm bug #738922.

commit f398c2690fb10031f8e811cd3b396a3489e38b09
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 24 23:54:58 2018 +0200

    Simplify request_unit_pillage().

    Simplify the can_unit_do_activity_targeted_at() call to a
    can_unit_do_activity_targeted() call.

    See hrm Feature #755727

commit e83038042e70624b213f934d940f5a4f4feca3ac
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 24 23:54:40 2018 +0200

    Qt client: don't look up EXTRA_NONE.

    The patch for hrm Feature #750605 accidentally had the Qt client's action
    selection dialog look up the target extra without checking if it was there.

    See hrm Bug #755724

commit 4632934a933e6470d548ca3b2adb65e3cb603f50
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 8 11:38:10 2018 +0200

    GTK act sel dlg: extra target selection.

    Make it possible for the GTK clients to switch the action selection dialog's
    extra target like they already can switch its unit target.

    See hrm Feature #753303

commit 1706932937d58ba8784286fca16a6d60cc7060d4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 23 14:52:58 2018 +0200

    Make irrigation building enabler controlled.

    Introduce the new action "Build Irrigation". Use it to replace the
    Irrig_Possible effect.

    See hrm Feature #754873

commit 289450f6e1b350d88db2e5e58fec0c09a0f4bc90
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 22 10:34:58 2018 +0200

    GTK clients: fix radio button group issues.

    The unit select extra dialog and the unit select unit dialog in the GTK
    clients supports specifying a default target. The target selection is done by
    using radio buttons.

    The old implementation had radio button group issues (at least in some
    versions of GTK). This meant that more than one radio button could be/was
    selected at once. Change it:
     * Don't toggle any radio buttons before all radio buttons are added.
     * Specify radio button group by using the first radio button rather than by
       specifying the group manually.
     * assert that radio buttons for all target belong to the same group.

    See hrm Bug #754966

commit 96691a1166c0fda130d8bc48a6c8453ec10a96c9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 22 00:22:52 2018 +0200

    action_to_incident(): correct "Pillage" mapping.

    "Pillage" has its own incident type.

    See hrm Feature #754874

commit a6e2ebcba3bb605fbf1511afb3ac2aef3057d172
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 22 00:09:15 2018 +0200

    civ2civ3/sandbox: refactor irrigation enabler.

    Introduce two new extra flags to reduce the complexity of enabling
    irrigation extra building.

    See hrm Feature #754872

commit 2a7ce4927930051d0d504f5f19270a2724434137
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 16 08:28:01 2018 +0200

    Make mine building action enabler controlled.

    Replace the Mining_Possible effect with the new action "Build Mine".

    See hrm Feature #753716

commit 7f495a10103000ec96dc5203d70b764a6adc441a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 16 10:48:02 2018 +0200

    Comment fix

commit b458f804db5d6019de06def5b8c4d87280135a22
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 16 10:02:32 2018 +0200

    Constify can_build_extra()'s pextra parameter.

    See hrm Feature #753754

commit a50cfa9f40cbaf0c8cc4d3284ad767fc213b141d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 14 11:04:00 2018 +0200

    GTK clients: more informative pillage dialog.

    Use the unit select extra dialog to select target in the pillage dialog. This
    informs the player about the extra owner. It also shows how the target extra
    looks to help the player remember what the extra is.

    See hrm Feature #753305

commit 0c4771deabcfd592d4fd37e45f74d56e2638e091
Author: Christian Prochaska <cp.ml.freeciv.dev@googlemail.com>
Date:   Fri May 11 23:27:39 2018 +0200

    Updated msys1 environment (cairo 1.14.12, pixman 0.34.0)

    See hrm Bug #736230

commit 5e458d8040bb9c708567c7e9994936089f72de4f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 15 08:19:30 2018 +0200

    SDL client: act sel dlg buttons for all actions.

    Add action selection dialog buttons for the new actions recently added to
    Freeciv.

    See hrm Feature #753517

commit 3aad9aa262bf6cbef7e20f3c952829a82d2bf69b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 8 11:33:11 2018 +0200

    GTK clients: unit select extra dialog.

    Add a unit select extra target dialog to the GTK clients. It is based on a
    copy of the unit select unit dialog. It includes the extra's icon and tells
    if the extra is present at the tile (or is targeted to be built) and who owns
    it.

    It is intended to be used in the action selection dialog as a "Change target
    extra" dialog in Freeciv 3.1. It could also be used to replace various action
    specific target extra selection dialogs with less information both in 3.1 and
    in earlier branches.

    See hrm Feature #753268

commit 643d6b300efab022c47de4b8d6ee8de0c19ff75e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 11 21:52:29 2018 +0200

    Qt client: act sel dlg buttons for all actions.

    Add action selection dialog buttons for the new actions recently added to
    Freeciv.

    See hrm Feature #753157

commit a6dd8959e70d746f5adc95474fefe89475de5ba9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 9 11:13:59 2018 +0200

    Document "Road" in README.actions

    See hrm Bug #752361

commit 9403bee0fcb58c543cbcc986a109d9904f8bf2d8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 9 11:09:55 2018 +0200

    Interpret move as action: support extra targets.

    Note that no current tile extra targeted action can make use of it. The
    "move to tile is illegal - try to act" handling can't be done because they
    all require that the actor is at the target tile. A move to a tile the unit
    legally can move to is always interpreted as a move since they all set the
    rare_pop_up action field.

    Included for consistency to avoid confusion if someone should create a tile
    extra targeted action that can make use of it.

    See hrm Feature #752360

commit 1b25722c29bd52f8f6c1d8cc25756d1557ea6869
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 9 10:02:01 2018 +0200

    Comment grammar fix

commit 2064ab975de604525c0db342acd94f65d930c480
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 9 10:00:13 2018 +0200

    Sync header comment with Freeciv-web.

    Sync utype_can_do_action()'s header comment with Freeciv-web.

    See hrm Feature #752336

commit 85539992737affe1e7182a81ec38262fe75fae7e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 8 11:18:49 2018 +0200

    GTK clients: Share editgui's create_extra_pixbuf().

    Make editgui's create_extra_pixbuf() non static and move it to sprite so it
    can be reused.

    See hrm Feature #752141

commit 8e77d394158f4a3335e6372f8cd2d748d1b5f035
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 7 20:43:43 2018 +0200

    GTK clients: act sel dlg buttons for all actions.

    Add action selection dialog buttons for the new actions recently added to
    Freeciv.

    See hrm Feature #752063

commit 22371811ff521cb6d2e394be729ce4c227103ea3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 8 09:28:45 2018 +0200

    unit_get_actions: guess "Pillage" extra tgt too.

    See hrm Feature #752062

commit 91ed2bb04badcc674d8d188bd1b27628b0b30782
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 8 08:57:16 2018 +0200

    Introduce action has a sub target check.

    The function action_requires_details() is about mandatory client specified
    sub targets. Action's like "Pillage" has a sub target (the extra to pillage)
    but the server will pick a sub target if the client don't specify one.

    Introduce the new function action_id_has_complex_target() so it becomes
    possible to check if an action has a sub target at all.

    See hrm Feature #752058

commit 862e558224e04d0bfc7700604b97424621a9b39e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Apr 29 15:52:56 2018 +0200

    Make base building action enabler controlled.

    See hrm Feature #750400

commit 4be09698c40489b2c38cea6650ca8bf1e15bf752
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 7 14:44:12 2018 +0200

    Freeciv-web: send unit type can do action cache.

    Freeciv-web is unable to calculate what actions a unit type may be able to
    perform. This makes it hard code what ui elements to show when a unit is
    active based on its unit type name.

    Introduce the new packet web_ruleset_unit_addition. Send the unit type can do
    action cache in it.

    See hrm Feature #750505

commit 5ce491d70bb522e5cf6d0e85042e26a8eba73ed7
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat May 5 18:39:16 2018 +0100

    Use "Linear" tech_cost_style in civ2civ3/sandbox.

    This is the same formula that was previously set in the ruleset by hand,
    so there's no functional change.

    See hrm feature #731498.

commit 5b941ee273ca2e0cd2adab72c74c8d7972a70ecf
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 3 00:54:06 2018 +0200

    Freeciv-web: send expected income to the player.

    Freeciv-web is unable to calulate expected income. It therefore patched an
    extra field into the player_info packet.

    Introduce the new packet web_player_info_addition and give it an
    expected_income field.

    See hrm Feature #751250

commit 53bf515bda33d36f93c7f69a91f385dbe4b1cf91
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 3 18:07:50 2018 +0200

    GTK clients act sel dlg: add "Road" button.

    Add a button for the "Road" action to the action selection dialog of the GTK
    clients.

    See hrm Feature #751196

commit ad508e43d0fc18c5238da0ef109a932170a059c0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 3 20:56:59 2018 +0200

    unit_get_actions: guess when no extra tgt.

    The unit_get_actions packet asks the server what actions a unit may be able
    to perform against certain targets. If no target unit is specified the server
    will pick the first unit at the target tile the actor unit may be able to
    perform any action against. Do the same for target extras.

    See hrm Feature #751193

commit 3af711e2501db0044af832b2c43efcde4d27b1a0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 3 17:44:07 2018 +0200

    GTK gui act sel dlg: 0 -> IDENTITY_NUMBER_ZERO

    Replace the magic number 0 with IDENTITY_NUMBER_ZERO for city and unit ids in
    the action selection dialog of the GTK clients.

    See hrm Feature #750939

commit f0c0487e2373949a2f14d62aa54ab1024b7af8e2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 2 23:07:35 2018 +0200

    Act sel dlg: 0 is a valid tile id.

    The action selection dialog of the Qt client and of the GTK clients used
    IDENTITY_NUMBER_ZERO to represent "no tile". But IDENTITY_NUMBER_ZERO is 0, a
    valid tile id.

    Use TILE_INDEX_NONE in stead. It is set to -1, an invalid tile id.

    See hrm Bug #750777

commit 176991381ac400ee42242ce83c803fab325dcb35
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 4 15:50:21 2018 +0200

    Comment grammar fix.

commit e6882dc3ed4255da3b114ee67747021dc5a6a5a4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 4 00:23:59 2018 +0200

    Fix segfault with non road extra.

    Fix server crash when a non road extra is given as the extra target of the
    "Road" action.

    See hrm Bug #750987

commit e9e937654f4e970a03c9b9942cb996195d4a1df1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 4 00:15:07 2018 +0200

    Comment grammar fix.

commit c80aebf5bec5591e3b2d200c3d102be07ffb0a2d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 1 19:17:41 2018 +0200

    ruleup: set name to game.control.name.

    Set it to the ruleset's name field like ruledit does. It used to be set to
    the ruleset directory (game.server.rulesetdir). Changing this removes a
    source of variation in the upgraded ruleset.

    See hrm Feature #750642

commit 94240ca254b29984563c6e003a7de1518469204d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 1 19:17:28 2018 +0200

    ruleup: log failure to load comments.

    See hrm Feature #750637

commit d2b2a72fd0102993049545a315237de999574664
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 1 12:42:01 2018 +0200

    act sel dlg: keep extra target information.

    A refresh of a client's action selection dialog would throw away the extra
    target id. This could make extra targeted actions illegal or accidentally
    switch their target. A refresh could be triggered by something completely
    unrelated to the extra targeted action.

    Keep the extra target information in the action selection dialog. (No bundled
    client has an action selection dialog that supports extra targeted actions
    yet.)

    See hrm Feature #750605

commit 7f7e436ae89819448058b6cf228ed64e22f76dd6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 30 05:02:15 2018 +0200

    Consistent act sel dlg diplrel change refresh.

    Unit and city targeted actions refreshes an open action selection dialog when
    the diplomatic relationship to its owner changes. (The action selection
    dialog isn't refreshed on owner change.) Make a change in the diplomatic
    relationship to the owner of the action selection's target tile do the same.
    (An owner change may make the player's diplomatic relationship to the owner
    different. This, like many other changes that can make an action (il)legal,
    doesn't refresh the open action selection dialog. If the specific case of
    owner change is worth an action selection dialog refresh it can be added in a
    follow up patch.)

    See hrm Feature #750435

commit aa2180a1145456e3d72c0203d4e17f92e2826e91
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 3 14:40:34 2018 +0200

    Comment grammar fix.

commit a13f6fdeecbe31bef081be8bee83d8ac9002c698
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 1 00:35:46 2018 +0200

    Use extra target when performing action.

    Use the extra target parameter given to unit_perform_action() when starting
    an action that requires (or wants) an extra target.

    See hrm Bug #750547

commit 1e51b115de50d55adfb1bf75b95e6f7333ee0287
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 25 03:45:43 2018 +0200

    protocol: add target_extra_id to unit_actions.

    Return what extra the packet unit_get_actions asked about when replying in
    the unit_actions packet.

    Only the minimum required for adding it to the protocol is done. No server
    side target extra selection added even if doing so is possible. The
    information isn't used by the C clients yet.

    See hrm Feature #750401

commit 832a08803550d617a01d488f1f4a2b901ee6d38b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 30 11:37:08 2018 +0200

    Send correct "no extra" value.

    Send EXTRA_NONE, not MAX_EXTRA_TYPES, when requesting an update to the action
    selection dialog because a diplomatic relationship changed.

    See hrm Bug #750478

commit fb855bafe678c6edce5b6a9d7bf6c49fbda4f623
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 30 02:48:32 2018 +0200

    Don't do "Road" because "Pillage" is illegal.

    When an action is illegal in unit_perform_action() it won't return. Handling
    of an action in its switch statement should therefore break. Without a break
    an illegal action could continue into the handling of the next action.

    Add break after the handling of the "Pillage" action and after the handling
    of the "Road" action.

    See hrm Bug #750426

commit f792f50b657169f19cf5c01e808c23b758d3cf3c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 25 16:02:01 2018 +0200

    Make the "Fortify" action self targeted.

    The "Fortify" action has an effect on the actor unit, not the target tile. It
    can get all the requirement information it needs about the tile from actor
    requirement vector.

    See hrm Feature #750403

commit 19c03509d8912c9b6e1b13314be3e07a9c753326
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 30 10:12:42 2018 +0200

    Introduce TILE_INDEX_NONE.

    IDENTITY_NUMBER_ZERO can't be used for tiles since 0 is a valid tile index.
    There are probably remaining instances of magic numbers representing an
    invalid tile index. Introduce it anyway so new code can use it rather than
    making the problem worse.

    See hrm Feature #750470

commit 06b7c913023706d2262c3eb266ae01e1629455ac
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Apr 29 17:28:35 2018 +0200

    Prepare for more ruleset tests.

    Create a new folder rs_test_res for ruleset test resources so they won't
    appear to be independent tests. Move ruleset_is.lua, the script responsible
    for reporting if a ruleset loaded, to the new folder.

    Factor out the list of rulesets to check when no ruleset is given on the
    command line from tests/rulesets_not_broken.sh. Do the same for it's check
    that a single ruleset loads.

    See hrm Feature #750406

commit d1652fdbd722e2186de2faabf83a80b0bf5a41d2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Apr 29 14:59:13 2018 +0200

    Freeciv-web: user changeable game and map seed.

    A player connected via the web client don't have hack access. But Freeciv-web
    needs a reproducible game for its benchmark. It therefore allows its users to
    set the server settings mapseed and gameseed via a custom patch.

    Give Freeciv-web players the ability to set the server settings mapseed and
    gameseed. The new more liberal access rules only apply when FREECIV_WEB is
    defined.

    See hrm Feature #750402

commit 243bcac8dc9814f65f372cced2b7c3a052f3f9c9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 29 15:35:03 2018 +0300

    Refactor network stream uncompressing

    Retry uncompressing with bigger buffer if it first fails
    due to to small buffer. Made initial buffer size smaller than
    old one that was meant to be big enough for all cases without
    retrying.

    Patch by simsulla, with minor changes by me

    See hrm #747319

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 454a22a66ef8b7cef358b05baa5543520bb53ddd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Apr 27 14:51:45 2018 +0200

    protocol: simplify away CITY_COORD.

    Freeciv sent city relative tile coordinates in the packets
    CITY_MAKE_SPECIALIST and CITY_MAKE_WORKER. Freeciv-web sent global
    coordinates.

    Unify by sending the tile id. This simplifies away the CITY_COORD packet
    field (type alias).

    See hrm Feature #750254

commit 417f1f3a74d9c4651ebaf9061fea85385d4936f6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Apr 29 10:34:10 2018 +0200

    Comment fix: make corner case reason clearer.

    Add example solution to the corner case about how the flags "CanFortify" and
    "Cant_Fortify" interacts with the "Fortify" action to make why it is a corner
    case obvious.

commit a9b377ab5dc28544043352097d81a97b632f03f2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Apr 27 01:39:08 2018 +0200

    Action selection dialog button for "Convert Unit"

    to all bundled clients.

    See hrm Feature #750155

commit 39439bd95f74b38b0b8688cb604f3a6aa63736f0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 26 13:30:48 2018 +0200

    "Fortify" action: be consistent WRT flags.

    The unit class flag "CanFortify" and the unit type flag "Cant_Fortify" have a
    similar effect on the "Fortify" action. Handle them the same way. (Make them
    both obligatory hard requirements for now.) Document the current situation.

    See hrm Feature #750025

commit f3d4c12bbb3ef6a382ecdaa3e216abad33bb7fe7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 26 00:51:17 2018 +0200

    webperimental: introduce oceanic Leader unit.

    Make the Leader unit able to convert to the new oceanic "Leader Yacht" unit
    type (and vice versa.) This allows the Leader to move on shallow water
    without being transported.

    This can be used as a last desperate means of escape from a land only attack.
    The main reasons for introducing it is to allow the player to trade the risk
    of game loss by having his Leader killed for early game exploration before a
    Trireme can be built. (Planned future patches will extend the benefits of the
    risk beyond exploration.)

    See hrm Feature #750031

commit 431e679714ddeccf63dac3c0202d71c4f5922159
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 25 15:47:32 2018 +0200

    Call global Casus Belli "international outrage".

    Use the term "international outrage" to describe when an players action gives
    every other player a Casus Belli against him. A name and a description is
    easier to remember than just a description.

    See hrm Feature #749404

commit 4df361157639321cc98e55808436492c6e3a5330
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Apr 24 00:29:28 2018 +0200

    protocol: drop hard coded impr list field type.

    The Freeciv protocol has had building_list, a custom network protocol field
    type for transferring lists of city improvemetns (building). It had no JSON
    implementation. Freeciv-web patches out all its users. The lack of an JSON
    implementation caused a segfault in the help system in Freeciv JSON builds.

    Replace the building_list field type with arrays of IMPROVEMENT. This keeps
    the type information intact. It uses the same amount of space in the binary
    protocol. It makes Freeciv's JSON protocol transfer its fields. It becomes
    possible to view the Nation help text in JSON clients.

    See hrm Feature #748929

commit a07570b62dfceec7a286da69a560f0509cd567fd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 23 09:49:24 2018 +0200

    protocol: drop hard coded tech list field type.

    The Freeciv protocol has had tech_list, a custom network protocol field type
    for transferring lists of techs. It had no JSON implementation. Freeciv-web
    patches out all its users.

    Replace the tech_list field type with arrays of TECH. This keeps the type
    information intact. It uses the same amount of space in the binary protocol.
    It makes Freeciv's JSON protocol transfer its fields.

    See hrm Feature #748774

commit 835f665ba2239e89321bf2232d0a4ba2e44628c6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Apr 22 21:19:09 2018 +0200

    protocol: drop hard coded unit list field type.

    The Freeciv protocol has had unit_list, a custom network protocol field type
    for transferring lists of unit types. It had no JSON implementation. This
    caused a segfault in the help system in Freeciv JSON builds. Freeciv-web
    patches out all its users. The unit_list field type was only used in one
    packet.

    Replace the unit_list field type with an array of UNIT_TYPE. This keeps the
    type information intact. It uses the same amount of space in the binary
    protocol. (The elements-to-transfer field takes up the same amount of space
    as the termination code value.) This makes Freeciv's JSON protocol transfer
    its fields. It becomes possible to view the unit help text in JSON clients.
    (Nation help will still crash because of other missing information.)

    See hrm Feature #748728

commit 695b5fb68ebe2b17197f4fced99e7333b319c12e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 23 05:22:29 2018 +0200

    Assert that data->result is there.

    Add assertion that data->result is there before reading data->result->dest.

    See hrm Feature #748740

commit 476103c1946c52893280682850c80fc7ec354805
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Apr 21 20:11:25 2018 +0200

    JSON protocol: log unimplemented field types.

    Logging unimplemented field data types makes their absence more visible. This
    helps warn people experimenting with build settings when missing packet
    fields cause trouble in non web JSON builds. Logging will also help a
    Freeciv-web developer that tries to use a new part of the Freeciv protocol
    realize that the cause of his problems lies in the Freeciv server's JSON
    support rather than in a bug in his web client code.

    See hrm Feature #748545

commit f7c91b1b3fe2747f9ffe6bcf68e83bca80cbed1d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 16 07:33:08 2018 +0300

    installer_cross: Update to crosser-1.5

    See hrm Feature #739266

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 59a6267a8e17f97e3d298fced7eab09d5f451b52
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Apr 20 21:55:01 2018 +0200

    Properly break "Attack" unit help generation.

    The custom action help generated for the "Attack" action in the unit help
    would only break if tired_attack was enabled. This would cause a segfault on
    master when generating action help for a unit able to do "Attack" but not
    "Convert Unit" in rulesets (like Classic) that didn't set tired_attack.

    Break at the correct location.

    See hrm Bug #748407

commit 8e1bb904e1d2351d77f9ca5fc714b33d8b3bd225
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Apr 20 01:54:22 2018 +0200

    Continue reading 3.0 effects after upgrade.

    Continue reading effects after a 3.0 effect replaced by an action enabler is
    upgraded to the enabler.

    See hrm Bug #747770

commit ee71376e684a520812134891f99121692249cb2b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 19 02:59:36 2018 +0200

    Add compat enablers when upgrading 3.0 ruleset.

    Compatibility action enablers for actions that recently came under enabler
    control was created but not added when upgrading a 3.0 ruleset. Add them.

    See hrm Bug #747767

commit 4f88569016c17aaf7677d1504fd02207cfe8c612
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 19 02:08:46 2018 +0200

    Make utype conversion action enabler controlled.

    Control the unit type conversion activity with the new action enabler
    "Convert Unit".

    Requested by Marko Lindqvist (see gna patch #5605) and by Caedo (see
    gna patch #5953)

    See hrm Feature #747765

commit a29f03cdfb5ab358dea39d5ef9017b43aca68609
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 18 01:22:21 2018 +0200

    Let "Attack" cause a diplomatic incident.

    Allow the action Attack to cause a diplomatic incident via the effect
    Casus_Belli_Success.

    Note that the "Attack" action currently only can be performed against enemy
    unit stacks. This limits the use of the Casus_Belli_Success effect with
    "Attack" to international outrage (give all players a Casus Belli against
    the attacker) and the "DiplRel" requirement type's "Has Casus Belli" and
    "Provided Casus Belli" properties.

    See hrm Feature #747549

commit c94c2f2aef9b4bf6e4b762ac106768b667bed824
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Apr 17 14:49:21 2018 +0200

    Clean up client specific action selection state.

    The GTK clients, the Qt client and the SDL client supports only one unit at
    the time in their action selection dialog process. (More than one would,
    given their current UI design, be confusing.) To prevent a new action
    selection dialog from popping up before the player is done with answering
    follow up questions a client specific variable, currently named
    is_more_user_input_needed in all of them, is set.

    When the answer to a follow up question failed to arrive, say because it was
    illegal, the before mentioned clients wouldn't be informed. The would
    therefore keep is_more_user_input_needed set. This would trigger an assertion
    failure when the next action selection dialog popped up.

    Introduce action_selection_no_longer_in_progress_gui_specific(), a new GUI
    specific call back function that lets the client know that the specified
    unit's action selection process is over. Make the clients with this bug unset
    is_more_user_input_needed unsets it in their implementation of it. Call it
    from action_selection_no_longer_in_progress().

    See hrm Bug #747465

commit b0f65a69d798f43bc592aaae7567c21101c48454
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 16 07:31:33 2018 +0300

    installer_cross: Fix creation of ruledit link for Qt-client packet

    See hrm Bug #747102

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3b487f71db78663c7fc6c9e6a0a2b9f0b483942f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 16 10:51:13 2018 +0200

    Remove obsolete "unit can act"-checks.

    Practically all unit types from 3.0 are able to perform some action.

    See hrm Feature #747185

commit c5a8c0526aac24f6b3d459b54b1c5c6f601aae10
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 11 14:52:18 2018 +0200

    protocol: allow background action info requests.

    Add the disturb_player field to the packets used for getting information
    required for action related follow up questions. It works like the packets
    used to get information about what actions a unit may be able to perform.

    Example use case: asking about many units at once and presenting the answer
    in  a single dialog.

    See hrm Feature #747147

commit 10982d7fff9bdcc1cf27c9929cd0f363830b39ae
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Apr 15 19:32:36 2018 +0200

    Notify owner(s) of healing/healed units.

    All that the feed back given when the "Heal Unit" action happened was that
    the healing unit would run out of moves and the healed unit would display the
    added hit points. This made it easy to miss that the "Heal Unit" action
    actually happened. Add notification messages to make it clearer.

    See hrm Feature #747034

commit 620e0ee2c36d989349e04da4643daad8d5a28abc
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Apr 15 15:18:47 2018 +0200

    Inform player about illegal action punishment.

    Notify the player when the Illegal_Action_Move_Cost effect causes one of his
    units to lose movement points.

    See hrm Feature #747005

commit da9b2000e4fe48fc287a107edb0a157fe6a6113c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 11 14:01:26 2018 +0200

    SDL2 and stub: add popup_upgrade_dialog().

    The function popup_upgrade_dialog() is declared in dialogs_g.h but it was
    missing from the clients stub and sdl2.

    See hrm Feature #746988

commit 534a449ff7eab1bc8245c9e89dc5ef3e4900d2d9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 13 18:21:58 2018 +0300

    Make uncompressed buffer size 150 x compressed size

    Old uncompressed buffer size of 100 x compressed size for zlib in
    network packet uncompressing was not big enough.

    Reported by Meynaf

    See hrm Bug #746878

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3181d2067a0bf0492c9b26c63ee65fa7cd9a5ea1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 3 01:12:06 2018 +0300

    civ1: Disallow unit upgrading

    See hrm Bug #741525

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d1fb43d496ff08cd5a3eafa43f5f06d0f370fa97
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 15 17:09:14 2018 +0300

    Autodetect JSON mode on the server side

    Patch by Louis Moureaux

    See hrm Feature #745597

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9aade90203c5b0bdedf258379089eb5b978e6f18
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 12 08:54:39 2018 +0200

    SDL2 client: action dialog isn't city dialog.

    The function popup_unit_upgrade_dlg()'s city parameter is whether it is
    called from the city dialog. Stop setting it to the target city.

    See hrm Bug #746510

commit 8c327a1acac38ed157353e2cb9a3dc9a6a87f68d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 11 10:55:23 2018 +0200

    Move comment next to what it documents.

    Move documentation comment in dai_upgrade_units() about how only the player's
    own units should be upgraded right below the check that a unit is domestic.

    See hrm Bug #746481

commit d07ba8f83652f64b813a81b16969f827d8f5dfaa
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 11 10:50:59 2018 +0200

    Document non bug with assertion.

    Document and assert that tgt_utype in handle_unit_action_query()'s unit
    upgrade price sending can't be NULL.

    See hrm Feature #746479

commit 00a368386f408e01e7e27d464c2292acf3572847
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 14 13:24:24 2018 +0300

    Make Road building action enabler controlled

    See hrm Feature #742986

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 40b53efb124bf8481f453868f9d3478ff05e6b42
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 14 09:36:43 2018 +0300

    Make it possible to switch between JSON and native on a connection basis

    Patch by Louis Moureaux

    See hrm Feature #745596

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6fd886d655fe04c5b5534f0f3c491015e7269243
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 11 09:22:32 2018 +0200

    Drop action_id_consequence_caught().

    It had no users.

    See hrm Feature #746211

commit e5ed607069a735fd448f6984a1b98020b26aa5df
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Apr 10 08:36:30 2018 +0200

    Drop action_id_consequence_success()...

    ...and make its last remaining users, the action performers of "Heal Unit"
    and "Help Wonder", use action_consequence_success(). This requires them to
    take the action as a parameter rather than hard coding what action was
    performed based on the action performer. Getting the action explicitly will
    be useful if actions become generalized.

    See hrm Feature #745951

commit eb878977b3163153c71ee77a505386c3d7920f85
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Apr 13 14:37:43 2018 +0200

    Comment fix: "Lates" -> "Latest"

commit e2c88bcc93c6e921562d4c9b58e76e8c9eca20ae
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 9 00:02:42 2018 +0200

    Settling action performers: unhardcode action kind.

    Take the action as a parameter rather than hard coding what action was
    performed based on the action performer. Getting the action explicitly will
    become useful if actions become generalized.

    See hrm Feature #745647

commit 02e9317ec276fafc96e67e889fd417cb4e66fb2c
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Apr 7 19:54:44 2018 +0100

    multiplayer: Allow caravans to help small wonders.

    But not the Palace, only the ones that are analogues of great wonders in
    other rulesets.

    This ability was lost in hrm bug #705580.

    See hrm bug #745360.

commit 46757f35a372e7ec3e3d8839be8886ed0e1bae72
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 3 01:59:48 2018 +0300

    Use accessor functions for GdkEvent fields

    See hrm Feature #743786

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 539676f4b336156d4733a572434c726bbd529031
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 9 04:06:09 2018 +0200

    Comment indention fix.

commit c054703aca998076f6437b373728a9ff83cf4abd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Apr 6 10:04:41 2018 +0200

    Make Git ignore generated test script...

    ...when the build tree is in the same directory as the source tree.

    Reported by Akakij Bzdrishchenko

    See hrm Bug #738661

commit 785e5fe463e6a385f001e787c6d6fa64eb4ef631
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Apr 6 04:51:08 2018 +0200

    Attack action performers: unhardcode action kind.

    Take the action as a parameter rather than hard coding what action was
    performed based on the action performer. Getting the action explicitly will
    become useful if actions becomes generalized.

    See hrm Feature #744801

commit 6e4ddd69b708b1f9c99717220c03e2329f0eca35
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 5 14:34:10 2018 +0200

    Trade route action performer: drop est_if_able.

    The function responsible for performing the actions "Establish Trade Route"
    and "Enter Marketplace", do_unit_establish_trade(), used to find out its
    action kind based on est_if_able, a Boolean parameter.

    If the actions them self rather than just their enablers becomes generalized
    more than one marketplace entering and/or trade route establishing action
    will be able to exist at the same time. This will make it impossible to find
    out what action was taken based on est_if_able.

    Replace est_if_able by directly taking the action being performed as a
    parameter.

    See hrm Feature #744702

commit 8fc4757539acd969b86b8b43ab52fa5fde1382aa
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 5 13:20:09 2018 +0200

    Nations: "the the" -> "the" in Suebian legend.

    See hrm Bug #744672

commit ea82b428cb73f5a7bc4363531c95506694090dd6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 5 13:01:25 2018 +0200

    Developer documentation: "the the" -> "the"

    See hrm Bug #744666

commit 46d2774b34d62fac6a40fb47ed491c2336e50bb1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 5 12:16:25 2018 +0200

    License summary: "the the" -> "the"

    See hrm Bug #744655

commit 31d04fa74056bfb46fb531d98b87f4d739d2031f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 5 11:40:04 2018 +0200

    Inline key_unit_nuke().

    The function key_unit_nuke() was only used by the SDL2 client. Inline it.

    See hrm Feature #744640

commit e67071564e272e123523296458cd443d073af365
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 8 06:42:02 2018 +0300

    Replace Conquer_Techs_Min and Conquer_Techs_Max with Conquest_Tech_Pct

    See hrm Feature #743602

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2c46adba1094891ed5762a86e026980f23d18305
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 5 13:32:37 2018 +0200

    Comment fix: "the the" -> of/that/to the

commit ab6b68c887bc79cb5bdb6e6ef4dbcd891640de7f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 5 12:09:50 2018 +0200

    Comment fix: "befor" -> "before"

commit b03bf402932a020c723d9ed7807d4388431a1085
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Apr 3 12:43:00 2018 +0200

    Qt client: Deduplicate "Go to and..." menu items.

    Remove the independent "Go And..." menu entries for city founding, for
    joining a city and for detonating a nuke. They duplicate entries in the "Go
    to and..." menu.

    Add the keyboard shortcuts of the old independent menu items to the items in
    the "Go to and..." menu to keep them working.

    See hrm Feature #743992

commit 91329e6801c7ecc105bb27c7c1e08312d4ceed7f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Apr 3 11:49:27 2018 +0200

    Qt client: Configurable goto Build/Join shortcuts.

    Make the shortcuts of "Go And Build City" and "Go And Join City" user
    configurable.

    See hrm Feature #743990

commit 22347a035998f77174b0d92c40ffa3b16ac7f9c1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 5 10:45:44 2018 +0200

    Comment fix: "the the" -> "the"

commit 0e96eee2c3ba91fb62a7bb034a42fe30d9b75699
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 3 01:12:27 2018 +0300

    Make Fortifying action enabler controlled

    See hrm Feature #742419

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit faeabc176df43f16043169dd12a943e855b21765
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 31 13:13:30 2018 +0300

    Make Pillaging action enabler controlled

    See hrm Feature #741274

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c9c5d3d9c90ab9c8dcdb991ddff97866fbe59c99
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Mar 31 20:47:00 2018 +0200

    AI: Fix city targeted spy actions.

    Stop confusing the target city with the target extra.

    See hrm Bug #743594

commit fd73486598b10401fb9e4faffa718452135e2120
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 28 20:49:40 2018 +0100

    GTK clients: Deduplicate "Go to and..." menu items.

    Remove the independent menu entries for city founding, for joining a city and
    for detonating a nuke. They duplicate entries in the "Go to and..." menu.

    Add the keyboard shortcuts of the old independent menu items to the items in
    the "Go to and..." menu to keep them working.

    See hrm Feature #743592

commit f708414d599873f77de17f60c77732d892cb5863
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 2 09:51:25 2018 +0300

    dos2unix all .spec files

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e3a00e7808ba03e682387a6b03b6cccbfce72cc4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 31 13:11:28 2018 +0300

    alien: Use indexed sprites as specialists' graphic_alt

    See hrm Feature #740505

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b14ccf00c20b4d8f470b5335d89a986c2a78b5ad
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 28 18:43:44 2018 +0300

    Drop check against leftover acinclude.m4 from an ancient build

    See hrm Feature #733584

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 667d973feffe0907dc9e221435f2ab7fb59ab495
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 31 03:03:37 2018 +0300

    Fix accidental syntax-breaking change to sandbox ruleset

    See hrm Bug #743523

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 038c5746ab71e08f99bb1fa4340bb9d355c35a23
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 28 18:46:44 2018 +0300

    Unify action ui_name ruleset entry prefix to 'ui_name_'

    See hrm Bug #740114

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0e458ff09d450932523095d59117296c4ed1d668
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 28 18:07:05 2018 +0300

    Add support for actions targeting also extras

    This makes it possible to have action enablers for actions
    that affect extras.

    See hrm Feature #738333

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit de5a5b267b3116b3223515e15747f0dd38c40a86
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 25 12:25:10 2018 +0300

    installer_cross: Remove extra space from the path to freeciv-gtk3.22.exe

    See hrm Bug #742075

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 91578bac5688ccef48a755f4dbce3265708225eb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 22 00:13:41 2018 +0200

    alien: Make bombarding units stronger

    Increase attack value and bombard rate of all bombarding
    units.

    See hrm Feature #740487

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 10c56d613a1d76f0c2d83e368d677d6f75633aec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 21 00:40:49 2018 +0200

    Separate extras from action targets in unit orders structures

    See hrm Feature #741273

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d2801e2b25e9e0c0bdaa07ecc2f53793ecdb91ff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 21 06:32:08 2018 +0200

    alio: Add Force Fortress and Tower

    Art by GriffonSpade

    See hrm Feature #741300

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9bdc6eef514b0d624462dc94f53b85a9f8200f80
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Mar 4 15:55:10 2018 +0000

    Refresh open city dialogs for changes in worked tiles.

    It was possible for the city dialog not to get updated when workers
    got auto-arranged, if the worker pattern changed without any net
    change to the city output. Now PACKET_TILE_INFO has the side-effect of
    refreshing those cities that are/were working a tile.
    (There remain types of tile change that ought to cause a city dialog
    refresh but do not.)

    Reported by "Pierre R".

    See hrm bug #736822.

commit bb03374dc76e217c90a3936b13b9469e1c6585f3
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Mar 24 11:22:26 2018 +0000

    Updated Polish translation by Hubert Kowalewski
    merged from S3_0 b5e7cad812. Stats on master:
    core: 98.0%: 7318 translated, 88 fuzzy, 60 untranslated.
    nations: 99.9%: 1842 translated, 1 fuzzy.
    ruledit: 88%: 94 translated, 7 fuzzy, 6 untranslated.

commit 8611baf0a2e3beb39201aa9c6294fdea3e7760b4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 17 18:10:26 2018 +0200

    rulesave: save action ui_name only if it's different from default

    See hrm Feature #740121

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8dffcc4668368dff14683b8c2a84e4f6ff7060b9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 21 05:19:38 2018 +0200

    alio: Copy roads.png from hexemplio, use highway sprites

    See hrm Bug #740425

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4423a3719bcfc0d9cc22d878c5cf4689bf222225
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 20 19:25:52 2018 +0200

    Rename themes/gui-gtk-3.0 as themes/gtk3

    Total filepath length needs to be shortened for the tarball
    creation to work.

    See hrm Bug #740207

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9892cd586c3f0ee7655667e33c1ae4797ab533f2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 17 17:27:48 2018 +0200

    Introduce action_ui_name_default()

    Move actions' default ui_names from ruleset.c to a new function.

    See hrm Feature #740464

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e5627c3d7f76f6387dda0f5a99b01d50a185174c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 18 09:30:21 2018 +0200

    Use "specialist.entertainer" graphic tag in supplied rulesets

    See hrm Feature #739924

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ae6fc482e67a9734cab6e2ef56af7de293dd9dbf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 19 15:37:38 2018 +0200

    Update hexemplio

    GriffonSpade's Hexemplio updates as of 14-Mar-18

    - Make Lakes to correctly match lands
    - Dirty pixel cleaning on water images
    - New sprites for Lakes, Oceans, Deep Oceans
    - New River outlet sprites

    Art by GriffonSpade

    See hrm Feature #731454

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fa459b8f421953336c3839e8bd4a6b11e5bf5a3d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 18 19:46:54 2018 +0200

    README.msys2: Update list of make targets

    - Document default target "all"
    - Remove unsupported target "gtk3-installer"
    - Improve documentation of "snapshot" target

    See hrm Feature #740593

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 312be3c8cf9a4f26c85da5e4e7dda3d16d2be934
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 18 06:22:09 2018 +0200

    installer_cross: Drop svn repository support

    See hrm Feature #740489

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 016250979f0283ea525a7cf56b0c91d943864cb4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 18 04:44:52 2018 +0200

    Rename themes/gui-gtk-3.22 as themes/gtk3.22

    Total filepath length needs to be shortened for the tarball
    creation to work.

    See hrm Bug #740207

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4914307cccd249b79314d5aac2992cbf68f44090
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 17 09:59:47 2018 +0200

    Replace "Irrig_TF_Possible" and "Mining_TF_Possible" effects with enablers

    See hrm Feature #735703

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3691c6b335a7c0a24ae2bc3053cf9b1048404176
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 17 10:32:58 2018 +0200

    Recurse to gen_headers subdir first

    If freeciv_config.h or fc_config.h header needs regenerating, it should
    be done in the beginning of the build, so that no part of the build
    uses outdated versions.

    See hrm Bug #740444

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b764567ba28eb70f672a697b2f0b4afe1da52300
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 17 09:46:42 2018 +0200

    Drop effect "name" backward compatibility code

    See hrm Feature #733008

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8db5b774d173501786bbe1961de746b6bc25d19c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 17 09:48:35 2018 +0200

    ruledit: Add multipliers tab

    See hrm Feature #735247

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1a04b308a70aa95161e4f7af204b02988e5d1b53
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Sun Mar 18 03:32:11 2018 +0500

    Update of Russian translation.

    core: 7465 translated messages.
    nations: 1843 translated messages.
    ruledit: 103 translated messages.

commit b0e98630e1c6707ad56aab0a805e2ff0cac1b276
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 15 16:07:38 2018 +0200

    Add ui_name support for Transform_Terrain action

    See hrm Bug #739976

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8b4409afca9e63a96e40dffaa382c84c5599f421
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 01:14:34 2018 +0200

    Add ruleset conversion log dialog for ruledit

    See hrm Feature #733556

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d46e48aa0fabdc92a59275fe8e31a2295965df36
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:30:11 2018 +0200

    Add "All effects" effect_edit dialog

    See hrm Feature #737478

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5153fcaa3787348052d242a688a671b3b7779469
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:24:26 2018 +0200

    rscompat: Add "Settler" requirement to actions created from _Possible effects

    When _Possible effects from 3.0 format ruleset are converted to actions,
    add "Settler" unittype flag requirement for them.

    See hrm Feature #734361

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c2e6673f097c77d922f853dbabe0f055cdfc3422
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:29:25 2018 +0200

    sandbox: Set max length of combats to 15 rounds

    See hrm Feature #735849

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 831b9a5c3a4f6324a69b775ed153a8be331c5f4f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:15:53 2018 +0200

    Refresh all effect_edit dialogs when effect in one changes

    See hrm Feature #732499

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3ed4626cdb0f36ec7be6022c035d83cfb8f7b816
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:32:45 2018 +0200

    Unify behavior of primary specialist graphic tag and alt tag

    Support images indexed by citizen number in specialist alt tag
    Support plain tag in primary tag.
    Indexed images are preferred.

    See hrm Feature #738278

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 66057ceb66363187ec75afc4f84e1066b7907a1f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:19:16 2018 +0200

    tex: Use tex ai player data unit list in military_advisor_choose_build()

    See hrm Feature #732767

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b79cdd240a3df0077f2e82c028ab67e863dfa5a8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:24:07 2018 +0200

    Add ruleset conversion log callback support

    When ruleset is loaded in compatiblity mode, and automatic conversion
    can't work perfectly, pass messages from the ruleset loading module
    to the tool using it with a new logging callback.

    freeciv-ruleup is currently the only user implementing an callback.
    It push received messages to log_normal()

    See hrm Feature #733496

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b62fa1820b0e8062c0cde110c4e87bf2af952135
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:30:52 2018 +0200

    freeciv.project: Fix typo

    See hrm Bug #737996

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4ff4beff9c55b028a957af618c5e2f18b52b2009
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:17:37 2018 +0200

    Give an error if suggested tileset cannot be loaded after user accepted

    See hrm Bug #657414

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit df7f406039c5891a09a52d54ce74b119e3d72f6e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 14 15:25:02 2018 +0200

    Make combat rounds effect controlled

    See hrm Feature #732541

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4e444011773ef670208741e8719d8a5f0862fc1f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 14 00:36:03 2018 +0200

    Separate specialist rule_name and graphics tag

    Add separate graphic tag for specialists. This far they have
    been using tag derived from their rule_name.

    See hrm Feature #738265

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f0daa082df4883dc0e305c151f19c0007dcc6939
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:11:12 2018 +0200

    client/t*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5b4f9e0430dd4573a0dacb0d4efe194a63bba119
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:33:10 2018 +0200

    Use 'nullptr' instead of '0' in update_xxx_info() calls

    See hrm Feature #738301

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2f8d0965abb04e649a3782df5daf0ee446f1bef0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:14:17 2018 +0200

    client/gui-gtk-3.0/[uvw]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 667e9eff7e0cc7ebb2a51a93d27e381ebd0da244
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:18:12 2018 +0200

    Fix gcc8 warnings

    See hrm Bug #731162

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0df1fac49aa81715e8f0003878d85bbdc16fab1a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:13:54 2018 +0200

    client/gui-gtk-3.0/[st]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7969b39e6c7fcb93eab9ddc9be4afe8980119b9c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:23:31 2018 +0200

    Replace "Transform_Possible" effect with "Transform_Terrain" enabler

    See hrm Feature #732503

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fd11f5135f0f03c3023f6a021458232802d60f06
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:13:32 2018 +0200

    client/gui-gtk-3.0/[opr]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b17e4f684b729da1e384dbff7708cbc50a3c4c0f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:33:52 2018 +0200

    Fix 'unterminated character constant' warnings

    See hrm Bug #738908

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d9975bcdd052e3c18b437a79d05d1cd54aef5b86
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:13:13 2018 +0200

    client/gui-gtk-3.22/[uvw]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit df51252f5d0eb7fb06f66d0a926da82e9c485277
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:19:43 2018 +0200

    installer_cross: Run exes with path

    Make .cmd files to look up exes with dynamic path instead of assuming that
    working directory is freeciv installation root. Running from other
    directories still doesn't really work for the reason that data files
    won't be found.

    See hrm Feature #731495

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6f6f3fe9ea0d804e303d8effb51792cd73fc8d8f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:12:52 2018 +0200

    client/[uvz]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 599925eadf1e96feb1e185961bd516cc57d193ea
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:26:01 2018 +0200

    ruledit: Show multipliers count in ruleset stats

    See hrm Feature #735246

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0752c7260d4b9fdb395bcdb31a787b85bd99c53f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:12:33 2018 +0200

    client/gui-gtk-3.0/m*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5909b63aaee81dc4571822cd238caf5478d5c645
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:29:46 2018 +0200

    Rename E_UNIT_WIN as E_UNIT_WIN_DEF

    See hrm Feature #734544

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f00f9ba6e7a8dbd2f35a1f4704a0ca0b1b9dbe8c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:12:13 2018 +0200

    client/gui-gtk-3.22/[st]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e57202cc43e8c60d24856d70fb060ff7cf24c6ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:20:50 2018 +0200

    Send whether unit type is suitable for autosettler activities to client

    See hrm Feature #734637

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a0bda9cfd403a2c5182e86d7ddb3e805c9345d72
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:11:51 2018 +0200

    client/gui-sdl2/w*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b9dcefaf21160082ad7d68af1be9307b8c6a9bac
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 12 18:44:15 2018 +0200

    Increase Output_Waste_By_Distance granularity

    Make value of the effect 1/100 of a point of output / tile of distance

    See hrm Feature #733815

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fecc0d4078e47c90c7e80e1a2ad5543fc421103a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 05:07:52 2018 +0200

    client/gui-gtk-3.0/[hil]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1f562e5d8a23547f7baff14a1719dd6569ce956e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 05:21:26 2018 +0200

    Travis CI: Enable NLS

    See hrm Feature #735952

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 418325f86ef9eae15c4212c7e2ba0fb8fc63c652
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 05:07:31 2018 +0200

    client/gui-gtk-3.22/[opr]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 23b29e515b1cd9d138091258b3f95f6ec4ee92f1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 04:55:35 2018 +0200

    Add requirement vector for multipliers

    See hrm Feature #732522

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4285ffd783373e6907a2df9a99dd9a5df979bf43
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 05:07:12 2018 +0200

    client/gui-sdl2/[uv]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 015a17ce1b910553ccfcc553038d78d425831a24
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 04:52:39 2018 +0200

    Disallow opening multiple effect_edit dialogs for the same object

    See hrm Feature #732266

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a4d59017d4042247484a4d2d253decd357b4b616
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 05:06:53 2018 +0200

    client/gui-gtk-3.0/g*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b4c3fdedc7586fd7e499e84e1e5ec3d2ab5f615c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 04:51:09 2018 +0200

    tex: update world object instance by unit moves

    See hrm Feature #731235

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fb1ba210a5094616702ce8779e5e275acad3894f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 05:06:20 2018 +0200

    client/gui-gtk-3.22/m*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 28240460a15157e7b7aad4869c7694d198cd00de
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 05:02:30 2018 +0200

    Cache unit suitability for autosettler activities at ruleset loading time.

    See hrm Feature #734171

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bf4e0733a8b8d9397d83045eed78357efc3b928a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 05:06:01 2018 +0200

    client/gui-stub/[stvw]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1180060e854f20ef2c1d94975be7ee578fd44830
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 05:25:33 2018 +0200

    Replace tabulators in units.ruleset graphic_alt documentation with spaces

    See hrm Bug #738321

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f519f724038e6d6fb795843561e92bafe41a2a32
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 05:05:40 2018 +0200

    client/[rs]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8bfcd2e51fe96e4984c3ccb01e4bf6da135c9ece
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 04:50:35 2018 +0200

    tutorial: show message on any tech acquisition

    It used to show the tech acquisition messages only if tech
    was researched.

    Requested by Jacob Nevins <jtn>

    See hrm Feature #657359

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6afba6e3f62509a1dd2b98b6a348ca0e950c7083
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 05:05:22 2018 +0200

    client/gui-gtk-3.0/[ef]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9c2f164e756256e199ef6ded31cf5c341f03c0b7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 8 17:11:21 2018 +0200

    Use freeciv-gtk3.22.desktop as desktop file for freeciv-gtk3.22.appdata.xml

    See hrm Bug #738290

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7e8feefbb8bb3b734be6595a2504810c17379132
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:10:19 2018 +0200

    client/gui-gtk-3.22/[hil]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6367e335c82a9443694b659bf3192f30ed207fb4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 7 16:18:06 2018 +0200

    Show earlier movement animations even if unit died meanwhile

    See hrm Bug #737277

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5b5979bf26e6c523201a131cba7b7a1c97d91161
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:10:00 2018 +0200

    client/gui-sdl2/[st]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e49c1941c486a1e43a2a170b0a42edf8171dfd7d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 00:41:04 2018 +0200

    Make fc_strlcat() utf-8 aware

    See hrm Feature #731228

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 37e7f4f326be988646b3cab367321d68cceb7a9d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:09:39 2018 +0200

    client/gui-gtk-3.22/g*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 574c66135b5d559f20d24813227014462cc3e579
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 8 16:39:04 2018 +0200

    Add server setting combatrounds

    Requested by Dalibor Perkovic

    See hrm Feature #729194

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d8bd5f2c79b8ee409efe3f1ed7c50c8889e6baf2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:09:20 2018 +0200

    client/p*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 91f6ab0f3dbd145a5c306d7481b0561d5a67fba6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:29:46 2018 +0200

    sandbox: Convert 25% of the citizens to the nationality of the conqueror

    See hrm Feature #733781

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c0eb97cb1ddb04108c1401c71eac2d5b75e0785b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:09:02 2018 +0200

    client/gui-gtk-3.0/d*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f6a1046dd7b9fac1a36e8bebbd4672c79cdf4dd0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 00:40:05 2018 +0200

    Make freeciv-web specific topology documentation say it's about freeciv-web

    See hrm Feature #730987

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4e8522e4ee020d2af37734af25c4c30e12ca8c6a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:08:44 2018 +0200

    client/gui-gtk-3.22/[ef]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fde8b5abb4a69fe2289a115ab68dbd3596bc9e12
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 00:42:00 2018 +0200

    msys2: use snapshot.project only when building snapshot build

    See hrm Bug #656537

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1e286aef1054170274388c600d4a2b544c6eeb1e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:08:25 2018 +0200

    client/gui-gtk-4.0/[uvw]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 59e9640cd6f7497d2161ed77b70ac4d9958547e4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 00:53:23 2018 +0200

    Add univs_have_action_enabler() utility function

    See hrm Feature #732794

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d39a13df5e215432d8de49f1e978148c5883c2c4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:08:07 2018 +0200

    client/gui-sdl2/[opr]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 43ec8f6ff8188289c5bce1dd9ddb489dbb871125
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 00:41:42 2018 +0200

    tex: maintain player specific unit lists

    See hrm Feature #731242

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c9924666a6d86a2355612f20884a9435b1abf1d8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:07:46 2018 +0200

    client/gui-stub/[mopr]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1c5ab25d688b18607514ac0e1cc876cbe1f68978
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 00:40:46 2018 +0200

    Add ruledit_gui::open_effect_edit()

    Use it instead of opening effect_edit dialogs directly from various places.

    See hrm Feature #731171

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9f39b8517b62a7342a080910cc9d1d0a326a553a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:07:28 2018 +0200

    client/gui-gtk-3.0/c*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit edb78e938fed62270691e8c4de6a64b648b7f921
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:36:47 2018 +0200

    Travis CI: Build stub-client

    See hrm Feature #735951

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a4d6f821c786ea72afe8f4c75a56e87b3febfdaf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:07:05 2018 +0200

    client/gui-gtk-4.0/[st]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4661bce6beceb6bf7285aead5855ca8e9ebe4b94
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 00:40:28 2018 +0200

    README: Update log levels documentation

    - Document literal log levels, and recommend them over numeric
      values.
    - Document new "warning" log level

    See hrm Feature #656464

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 93c82a4935b8ae7c1addc89459b6225b094f9b68
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:06:47 2018 +0200

    client/o*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6c038848f27c3b82eedc12c7adeba6bfb1b3a078
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 23:38:28 2018 +0200

    Fix a bug that when steal_a_tech() gives future techs, it gives two of them

    Reported by javaxubuntu

    See hrm Bug #736836

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f4b9a569956cf59e2245e13506504e53f028fa96
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:06:29 2018 +0200

    client/gui-gtk-3.22/d*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3f8b5ae970c1f222f05df9167e276fbb93a79326
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Mar 3 20:51:39 2018 +0000

    More ruleset checking for resource/base/road sections.

    Check that an extra with cause "Resource", "Base", or "Road" has a
    corresponding [resource], [base], or [road] section.
    (Previously, failure to do so would cause an assertion failure and
    server crash.)

    Check that the extra referenced in a resource, base, or road section
    has cause "Resource", "Base", or "Road" respectively.
    (Previously, if they didn't, the resource/base/road section would be
    quietly ignored.)

    See hrm bug #736838.

commit 322b088428904c857f62c7a6ef278c7717eae475
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Mar 3 20:55:00 2018 +0000

    Document extra causes vs sections.

    Extras with "Resource"/"Base"/"Road" in 'causes' require corresponding
    [resource_*]/[base_*]/[road_*] sections.

    See hrm bug #736837.

commit b8141b7f09a0b0195c9d99cee383b9d025cfcaf2
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Mar 3 19:58:24 2018 +0000

    Extra help: state how to build them.

    Also, rearrange autogenerated extra help into a more logical order.

    See hrm feature #736833.

commit a90bcd2f0036a7085ba6b93aecbfa7b21b7c3d8f
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Mar 3 16:56:08 2018 +0000

    Help: more control over bullet points.

    Caller can decide whether insert_allows() or req_text_insert*()
    clauses have a bullet point before each line.

    Generated nation helptext has had some bullets removed.

    See hrm feature #736830.

commit 8f67c96652487a09a76075731e0b4a2443986f18
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Mar 3 15:13:59 2018 +0000

    Fix typo about oil wells in classic-derived rulesets.

    Reported by Joan Creus.

    See hrm bug #736795.

commit 8ac9fd3ec642fea65a1303979e3c0b60efd83979
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:36:00 2018 +0200

    scripts/capabilities: Update soundspec/musicspec capstring format

    Make development version soundspec and musicspec capstring formats
    capabilities-script documents to match current practices.

    See hrm Feature #735940

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 189430762eab1ca4de53620050858645ccaf8041
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:06:10 2018 +0200

    client/gui-gtk-4.0/[opr]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f87f5d6e9d2d0f5c62f9c6b1751e72a031f8ae2a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:35:23 2018 +0200

    Distribute freeciv.supp

    See hrm Feature #735850

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 979deb0815940882f8164b20f76da9c5f7ed9ebc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:05:52 2018 +0200

    client/gui-gtk-3.0/a*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cd3b8922c32894124bd8beeef5ea01a58070996d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:30:06 2018 +0200

    Improve tech cost documentation

    Patch by S.C. L. (Caedo) and myself

    See hrm Bug #699149

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d4bc6e1eb3491e40bb4038267c63087c1b5d12bd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:05:33 2018 +0200

    client/gui-gtk-4.0/m*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 93ded081ee5e60406dcecba31ba740e18de2348b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:30:25 2018 +0200

    sdl2: set width of empty string to 0 in utf8_str_size()

    See hrm Bug #684183

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b45a099a1ca95b4e2490ad52bbcc28639c7051fd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:05:15 2018 +0200

    client/gui-sdl2/m*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c30a740ca36302e554adecfba3436b821035b786
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 00:42:57 2018 +0200

    sandbox: Add Conquest_Techs_Min and Conquest_Techs_Max rules

    Getting a tech with city conquest is never guaranteed to give techs.
    In early game you randomly either get no techs, or one tech from
    the player losing the city. After University is known, no techs are
    got from the city conquest.

    See hrm Feature #732488

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9519d84e7789a08c52e2b90bf59f9dbf76eedf2f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:04:57 2018 +0200

    client/luascript: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b4f5470a40a95091fae02b913c6a7ca46ec3a675
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:01:05 2018 +0200

    Fix actiontools.c TRANS: comments syntax

    See hrm Bug #731568

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1ca8f477ccb92e225296e6519676840b7fce44ac
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:04:36 2018 +0200

    client/gui-gtk-3.22/c*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2bcbd41a335af337bd7632c5a495c289105c450f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:32:22 2018 +0200

    Free worker tasks

    See hrm Bug #735637

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cbebe0ca67af7f848205abcab4354a5bec1f69e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:04:19 2018 +0200

    client/gui-gtk-4.0/[hil]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f77923d1a2e2f290098e0488125bd184809ddcf1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 20:49:07 2018 +0200

    Double movement rates for multiplayer ruleset

    Patch by Andreas RÃ¸sdal

    See hrm Feature #654404

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8aa680f164029a1abfa6605f42e6037aaf0e0eed
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:26:33 2018 +0200

    client/gui-sdl2/[hil]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 58cf7c83a88467cb59967360d6bb75c2606dcb75
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 27 20:16:14 2018 +0200

    Correct event type for attacker victory messages

    Couple of messages referring to attacker's victory were sent
    with event type E_UNIT_WIN that means specifically defender's
    victory. Send them as E_UNIT_WIN_ATT instead.

    See hrm Bug #735934

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c472a2f99ff5513c85ba36184a984e15fe5019ec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:26:15 2018 +0200

    client/gui-qt/[vw]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a2c6af004ec68aaf3b7d2c7a58eaa5e19b84fbe7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:05:02 2018 +0200

    Make fc_strlcpy() utf-8 aware

    See hrm Feature #731220

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fe6941a825808a1f00aaef27bddc1f6e58701efb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:25:58 2018 +0200

    client/m*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit df458da2ee333313db70519490c0a8080db097a0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:04:22 2018 +0200

    Fix alien ruleset typos.

    Patch by Konstantin Vedeneev and myself

    See hrm Bug #730591

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4aacff4119b59d9046278329049d590709bec8b0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:25:40 2018 +0200

    client/gui-gtk-4.0/g*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 51db0bd8c1c89ed922bfa86e194c0fec27c8e441
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:10:52 2018 +0200

    Update appdata file format

    See hrm Bug #690231

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5be5d498f0e967e9ee350868938c8ce30fb80d73
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:25:22 2018 +0200

    client/gui-sdl2/g*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 22072da6302057edaaf2c417ea7acc76f36eb2d9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:11:12 2018 +0200

    Fix clang-6 warnings

    See hrm Task #733013

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6433274bfa1bac65214baaf92ccfa3fe75d62a2c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:25:00 2018 +0200

    client/gui-gtk-3.22/a*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 745f2aeebda01b9ce4b808ce53799069770307ce
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:09:22 2018 +0200

    civ1: correct calendar progress

    Reported by meynaf
    Correct behavior researched by Akechi

    See hrm Bug #731631

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3787516fb654055aefad32f72308f11657a23d8d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:24:39 2018 +0200

    client/gui-qt/[rst]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5f80b007237bcfd60744dae3944d480a373e5dde
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:00:43 2018 +0200

    Correct handling of action names with length of MAX_LEN_NAME

    See hrm Bug #729806

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9ae840ff2988016bafea49d47bfc2faf7ba6543f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 26 18:11:05 2018 +0200

    Revert "Updated msys1 environment (cairo)"

    This reverts commit 1fd2fc4f9b60355fa61d1195bf2076954189dce4.

    The cairo update was causing UI crashes.

    Reported by Kryon

    See hrm Bug #735238

commit 6a11c149f0a037d15e4f960a6a47908d488c65d1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:24:19 2018 +0200

    client/gui-gtk-4.0/[ef]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e47be384d531d41f570595197f171483e73cb2a7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:03:32 2018 +0200

    Convert some citizens to the nationality of the conqueror

    When city is conquered, convert ruleset defined percentage of
    its citizens to the nationality of the conqueror.

    Patch by Matthias Pfafferodt <syntron> and myself

    See hrm Feature #657145

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aae9c759836b2296101e92475b237ac33168a3ba
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:01:16 2018 +0200

    classic: Clarify summary claims about classic rules

    Don't make it look like having classic ruleset in use would automatically
    mean that all the rules are in their classic values. Make it clear that
    server settings affect that too.

    Reported by Joan Creus

    See hrm Bug #730586

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5019ad290149834b1f9f48ac10926ae69201768c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:23:59 2018 +0200

    client/gui-stub/[ghil]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 24e7df82f47023ff28ba5077a3eeec7bfe34f506
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 25 14:25:19 2018 +0000

    Fix conflict markers left in civ2 Airbase help.

    Reported by Marko Lindqvist.

    See hrm feature #733913.

commit 9058db4e259d12da3295537eb5a5e59a3a8a4b93
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:18:27 2018 +0200

    Rename fc_client::main() as fc_client::fc_main()

    This works around an problem that when SDL headers are included,
    they define 'main' as a macro that mess call to fc_client::main()

    Reported by nctrd

    See hrm Bug #734798

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit df396e84855715aa3916d88e261192fcbf583968
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:23:36 2018 +0200

    client/[hl]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 557f950dbc69dd997ab4cfb27aea7fa98bb887a7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:13:48 2018 +0200

    Refactor Farmland effects

    Instead of negating extra effect on city center,
    negate city center special bonus if also extra is present.

    See hrm Feature #733792

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6d5c4c58505086b11cb0af8ea0fc3363ec92d2da
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:23:13 2018 +0200

    client/gui-qt/[opq]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6815e85d31f40120d134bfa43ed7e36727efea60
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:08:03 2018 +0200

    Make it possible to load unit to another transport at the same tile

    Requested by Jacob Nevins

    See hrm Feature #732489

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4617b6955aa2f2b6269ccd3d87e5ea9d2d5ffea7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:22:51 2018 +0200

    client/gui-gtk-4.0/d*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0f4cee1567d63018821e0c0f21f07682174cb32a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 18:46:54 2018 +0200

    Comment fix: tech_precalc_data() -> techs_precalc_data()

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7ba7b15d7348605a616087820c8c4955503ac650
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 03:19:41 2018 +0200

    Fix remaining uses of 'F_' prefix flags to 'UTYF_' prefix

    A couple of instances found in a comment and code commented out.

    See hrm Bug #729900

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 986838fc6a53650b579fb5f69bb9394f81b7783f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 03:36:57 2018 +0200

    client/agents: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 15e801cde2bb314b530e62926d0f8f4f86daf448
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 03:26:03 2018 +0200

    Error out if tileset requested with --tiles can't be loaded

    See hrm Bug #730777

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d0684422348c46e52dd2419d00697f2e8621a302
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 03:36:38 2018 +0200

    client/gui-sdl2/[df]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8f27dec7748eea281e87b8944eb5a5c097d7b070
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 03:00:57 2018 +0200

    Remove remainders of the special handling of "unused" terrain name

    See hrm Feature #707585

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 83a713146d0f017edd5ac5ae4a40ffb8e0fd857b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 03:36:17 2018 +0200

    client/gui-qt/m*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2f726dcab7be0fda2ca8afa524d0d396be19f3ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 03:32:58 2018 +0200

    Make adv_settlers_road_bonus() to return adv_want

    See hrm Feature #733050

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2036f06397a34e638ca60e3f7655a0e501cc7990
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 03:35:59 2018 +0200

    client/gui-stub/[cdf]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 28932f158513f7a6516877809f7f5d962aed3ec3
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 17 19:28:08 2018 +0000

    Brief help for the Policies concept.

    See hrm feature #733929.

commit 4c29265d13f3f687185f3d4a9eec947454b8b0af
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 17 19:27:03 2018 +0000

    Move extra help from helpdata.txt to rulesets.

    The onus is now on rulesets to describe irrigation, mining, and pollution.

    Also, various corrections and additions about extras in supplied rulesets.

    See hrm feature #657410.

commit 3d14bf2726016d9e35c0efd547ada6cd0ec1214b
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 17 19:51:33 2018 +0000

    Reduce clutter in extra help with 'quiet' attribute.

    Apply it to CityTile requirements preventing bases in cities, and to
    civ2civ3/sandbox requirements restricting what Transports can build.

    See hrm feature #733913.

commit 2dab45ac7de007498134ded87a4dbfb4e4ba6814
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 18 11:48:08 2018 +0000

    Help: document extra removal time (simple cases).

    Terrain-dependent removal time is still not documented.

    See hrm feature #733898.

commit 9d9a19ce09513eef26b7ee2c772de43f48d3119e
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 18 10:07:14 2018 +0000

    Add pillage time to Terrain Alterations help.

    See hrm feature #733895.

commit edaed5576a61c2a7caa93b739db5c3d5dd119e6a
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 18 12:11:04 2018 +0000

    Terrain Alterations help: fix omission of cleaning activities.

    Only cross-check a terrain's cleaning time if the cleaning activity can be
    done on the terrain at all. The prevention of cleaning activities on the
    Inaccessible terrain was stopping the activities' time being listed in the
    help in some rulesets.

    See hrm bug #733902.

commit 1cf1286a181eb669e5171fd7ce7d09eb5a8237e7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 03:18:17 2018 +0200

    msys2: Run exes with path

    Make .cmd files to look up exes with dynamic path instead of assuming that
    working directory is freeciv installation root. Running from other
    directories still doesn't really work for the reason that data files
    won't be found.

    See hrm Feature #696674

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c551f63a385c4be57db94b26c4d16c3c20f39d99
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 03:35:39 2018 +0200

    client/g*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9e61e3391e268936a095eb5aec89ead691c13120
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 17 20:55:39 2018 +0000

    Extra help: prevent orphaned "Requirements to build:"

    See hrm bug #733865.

commit a5f160c5674de3081b5f60dfa176355346cf6459
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 17 19:28:18 2018 +0000

    Help: don't list extras forbidden by terrain *_time=0.

    This stops spurious extras showing up in Inaccessible terrain help.

    See hrm bug #733863.

commit 224d90ceebee99e6e634995bbfb045a335a8a310
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 03:21:00 2018 +0200

    Unload unit from current transport when it tries to move to new transport

    The unloading was erronously attempted from the new transport.

    Reported by Jacob Nevins

    See hrm Bug #693380

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 465d969ceda3a7183904018f3e8188befa325d0d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 03:35:17 2018 +0200

    ai/default/d*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b30680f01a71d796ddbad02b02ffaf7f9aff7af4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 03:19:02 2018 +0200

    alien: Fix references to civilizations to factions

    See hrm Bug #729810

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6abdda586fe20da10f75a1f6c28ea3ec516073df
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 03:34:54 2018 +0200

    client/gui-qt/[il]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f130b2883c15e005f8b00b030b3a6e46cbef14de
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 05:23:22 2018 +0200

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1dfc9edceb169ed8af2cd7b20a082410b29c4572
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 13:19:22 2018 +0200

    Clean out dirty pixels from most amplio2 files

    Patch by frank e and myself

    See hrm Feature #692596

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2435f723eb30cb979435c46ac9805ea157d59bd6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 13:25:55 2018 +0200

    client/gui-sdl2/c*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 52dfda2b413fa68d8b65b4a0971244720d230502
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 13:17:00 2018 +0200

    ai: set tech goal to A_UNSET when there's no possible goals any more

    Reported by Jacob Nevins

    See hrm Bug #695971

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5ae950bd95c95b8d728ac32e9afc3004687d3a54
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 13:25:37 2018 +0200

    client/gui-qt/[gh]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 271e4e77eb4f92f52fef5e14cfa06342ce18bc3a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 17:45:42 2018 +0200

    Add missing xgettext:no-c-format comments to rulesets

    Patch by Konstantin Vedeneev and myself

    See hrm Bug #721454

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit be7aaaee025d9e7bfbc37f528e3d43d0189a1190
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 13:25:19 2018 +0200

    ai/threaded: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ea47e8f1de7e6a9bfc794fc69ad9850feca6a31b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 13:12:59 2018 +0200

    alien: Split Space Module helptext

    See hrm Feature #730504

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f670ee24e2e5383649b13f4d19df22eb38e85f9d
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 11 16:17:41 2018 +0000

    Tweak Gtk terrain conversion help.

    Remove the fixed header of mining/irrigation/transform results in favour of
    rows added alongside the available extras, as needed (similar to the Qt
    client).
    This means that we no longer have "Mine Rslt/Time: n/a" when the result of
    mining is extra(s), and also means that the resulting terrain from
    conversions is hyperlinked.

    See hrm feature #732512.

commit 9f71d9ec220628702758527b03e3ae183788a0d6
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 11 10:33:55 2018 +0000

    Help: document per-terrain extra bonuses.

    Each terrain's help for the Gtk and Qt clients now indicates, in
    addition to which extras can be built, what production bonuses they
    can be expected to give (if the relevant effects are straightforward
    enough).

    See hrm feature #732512.

commit 072c2e6f8f674a61be41ea339b6ff58d74c1d7f7
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 11 13:55:18 2018 +0000

    Rejig Irrigation_Pct effects in rulesets.

    No functional effect, but the city centre auto-irrigation effect is now
    treated as more of a special case, making the main irrigation-like extra
    effects simpler. This will assist the autogenerated help (and perhaps
    the AI?)

    See hrm feature #732512.

commit 0b20a460ab091f7c579d96e406594992b6f0d3fd
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 11 11:31:08 2018 +0000

    New function effect_value_from_universals().

    This evaluates only effects that match a specific template of
    requirements, ignoring more complex effects with other conditions.
    It can be used to evaluate what intrinsic properties a source or
    combination of sources (such as extra+terrain) has, independent of any
    other game state; this is useful for autogenerated help.

    See hrm feature #732512.

commit fd68766e1c68ccbe3b639072e9c8f8794c6a18fe
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 10 21:16:11 2018 +0000

    More types for universal_fulfills_requirements() etc.

    These functions can now work with extras and output types.

    See hrm feature #732512.

commit 28e7513b8bdca5d81b31c8b7815fa1f193a5fe1c
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 11 14:24:45 2018 +0000

    New universal_fulfills_requirement().

    This exposes the ability to check the detailed relevance of a single
    requirement to a source.

    Note, the previous function with this name has been renamed to
    universal_fulfills_requirements() (plural). (It has a different number
    of arguments, so old users will fail to compile.)

    See hrm feature #732512.

commit 9c3e627f6a2097a4a74a66ce1fe5a91b14516c06
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 10 20:46:39 2018 +0000

    Expand comments for universal_fulfills_requirement().

commit 0845fb215e9fdccfe2365d6e7e1db6885f0ae7e6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 13:24:58 2018 +0200

    client/gui-gtk-4.0/c*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7b99b9676f6869acbc17753b2da59b084375d889
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 13 20:43:43 2018 +0200

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 04a334f989f2329e6b756218a863496d2e0b6b3d
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 11 13:53:06 2018 +0000

    Fix errors in Qt help for terrain conversion.

    See hrm bug #732507.

commit 3a925a52e5ce35de9be37c2e4f3772301889d1b1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 13:10:36 2018 +0200

    Hexemplio: Add cities graphics

    Also hexemplio derivatives (toonhex, alio) updated

    Art by GriffonSpade

    See hrm Feature #729137

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 85cf68b6b5687f838c02052414d166e782311b49
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 13:24:39 2018 +0200

    client/gui-qt/f*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 95d2f010c528ee8f5f4ca4c033341e29fb6d56a9
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 10 19:10:51 2018 +0000

    Document further sandbox ruleset liberties.

    We don't guarantee graphics availability or savegame compatibility.

    See hrm feature #732480.

commit e890e2674dc73daaa5b4dc869beac00a6b97a8d8
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 10 16:57:40 2018 +0000

    Improve ruleset docs for mining/irrigation bonuses.

    See hrm bug #732479.

commit 07df27b1767b69b34c8d46fa76498864dddeb2a7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 13:11:35 2018 +0200

    Setup drawing_data even if the terrain has empty rule_name

    See hrm Bug #729532

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9cef2d8616ab55d01db863e6c2d285f49e686b3d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 13:24:18 2018 +0200

    client/e*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b8d158e94d1ad123c3c2bf3f4b347c69b5ab364e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 11 22:57:33 2018 +0200

    Fix typo preventing loading of civ2 ruleset

    See hrm Bug #732538

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ad65d93390301a5ad6166ec219c0b0014f5036b5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 13:14:36 2018 +0200

    Add tech_cost_style "Linear"

    Requested by Jacob Nevins

    See hrm Feature #695972

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1eef7fc330705a76200bb04d277199a289de7da3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 13:11:10 2018 +0200

    Fix erronous error message about invalid research goal

    If a savegame has invalid current research, loading it gave
    an error about research goal too even if it was ok.

    Reported by Jacob Nevins

    See hrm Bug #729275

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 04a0eb22a5a26adfac9aedc19fe2ad79b808e3ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 13:23:55 2018 +0200

    ai/default/ai[tu]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6b66ed0f5c7cc0a6cf7d1d3e540c17c1c6b8ae6d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 12:58:37 2018 +0200

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 136a67380d0b15feb4cef38ce76188d1a697c1c3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 7 16:49:03 2018 +0200

    Update help about Great Wonder obsoleting rules

    Reported by Jacob Nevins <jtn>

    See hrm Bug #660409

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 37af87e73d38bf9bc7e2b6d38aeee00940d0e90d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 3 07:12:32 2018 +0200

    client/gui-sdl2/a*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 481c130b8a19191d4662c04fcc2cd03d0809e95c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 7 16:48:43 2018 +0200

    Disallow tech tree holes in civ1 ruleset

    Reported by meynaf

    See hrm Bug #729171

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 73ebb21fde8bb84735c745e6be811286351ee4ff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 3 07:12:10 2018 +0200

    client/gui-qt/d*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ccbeb5a9ea93f0433104e28dffccdf1fc04c1313
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 8 02:09:05 2018 +0200

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 214643ba0e1833f229a606d7b1e216ef4f88f132
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 3 07:00:46 2018 +0200

    Qualify alien ruleset tech "Mining" name

    See hrm Feature #729109

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bf49427d465b53c07b8fab275d71adb28cfd433c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 3 07:11:47 2018 +0200

    client/gui-gtk-4.0/a*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a9b0e350ef809bb9957b973fde100bc1fef88d4c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 3 07:08:40 2018 +0200

    fc_version: update followtag update instructions

    - Correct option name ('--follow-tag' -> '--with-followtag')
    - Update followtag value ('win32' -> 'windows')

    See hrm Feature #730564

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1707e1f30afda086e3014bedce25214105176657
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 3 11:19:46 2018 +0200

    Don't restart music from audio_finished callback in case of complete stop

    See hrm Bug #730597

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4045c1cce279c4afbc840f4cbbaa7c87eb826c64
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 3 07:02:37 2018 +0200

    Make amplio2 ruins smaller

    Art adjustments by GriffonSpade

    See hrm Bug #697692

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 898d2fbb1ebf6c2533641f3c09f5604442682c9d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 3 07:11:28 2018 +0200

    ai/tex: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ea0cadd918402de268ee549656e2c42a5d626004
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 3 07:04:18 2018 +0200

    Add Conquer_Techs_Min and Conquer_Techs_Max effects

    Requested by wieder

    See hrm Feature #699156

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 154f2466bf38ca481fc80f53f237876e5fa8c48a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 3 07:05:13 2018 +0200

    Save luadata.txt

    See hrm Bug #673655

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 138c5ec02c8064e7834f0f60a03b1206a73f6db6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 3 07:10:57 2018 +0200

    client/c*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e639a97354bdd178702f39ae74e5fea8509cca20
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 5 15:12:47 2018 +0200

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0588f14e4d3ab2ce8a4a636f8e946029c05fd036
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 29 17:30:48 2018 +0200

    convert_png: use absolute path to input files

    Works around MacOSX bug.

    Patch by Daniel Markstedt

    See hrm Bug #715161

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8772c09c2162600fb6bcdfd5cb7fb59aab70e36e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 3 07:10:38 2018 +0200

    server/[uv]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bbe5bb24124b8354fb08b754359df09e14190fda
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 28 13:35:57 2018 +0200

    helpdata.txt: fix outdated reference to 'spacerace' option

    Reported by Joan Creus

    See hrm Bug #691877

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 00ed967da8891210c095ed4afec77fcbb0535b90
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 3 07:10:09 2018 +0200

    ai/default/ai[ps]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0843f0f2116301355a5b77c7ea49bbdf1f799be1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 28 15:58:47 2018 +0200

    Correct amplio2 and Hexemplio ruins credits

    Reported by GriffonSpade

    See hrm Bug #729141

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 82c4a22ea47426bc48d7742e1018ac451d6d99c0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 28 20:37:07 2018 +0200

    client/gui-qt/c*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4251747bf3d97f4f76ef45aec22e51d59db56f8e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 2 15:40:43 2018 +0200

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c2cf538e336eef4ba93eaaf2d2ad1a7331b3f9d5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 28 20:30:54 2018 +0200

    Fix "change you mind" typo -> "change your mind"

    See hrm Bug #729103

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit be6270a29690b51193dc9aa9198f9ced32fc274d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 28 20:36:33 2018 +0200

    server/t*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e2527359eeecb20cd59a3d2a439771bfdcef7da0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 28 20:33:14 2018 +0200

    Update Hexemplio bases

    - Less obscuring ruins
    - Hex shaped outpost and fortress

    Art by GriffonSpade

    See hrm Feature #729151

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c1d368e96b4d022425ba2258b69fbf83286c7e4d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 28 20:36:14 2018 +0200

    ai/default/ai[hl]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5059016969e1bcb22066ceac712e07f0e2b3f3f7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 28 20:32:03 2018 +0200

    Disallow units from helping building of small wonders

    See hrm Bug #705580

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1e16acf621664c328dd7746b785584e065a81438
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 28 20:35:54 2018 +0200

    client/a*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f6b587b947649e1ef5d08f228061591901d3a750
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 30 20:05:26 2018 +0200

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit af1ea6308b717d2f214dde116f488a24efa1c504
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 30 15:10:59 2018 +0200

    Update comment about hut placement limitations

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 80eae85e05f8b6d2548a825e8dfe4803a57ce50b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 28 20:30:35 2018 +0200

    alien: improve Protector helptext

    Make clear that even with Protector, Basic Infrastructure is needed
    for a base to grow over size 2.

    See hrm Bug #729102

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e04c3b5e07ef6a934456e6ffbc3bc14cc8dd06b5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 28 20:34:45 2018 +0200

    tools/ruledit/[uv]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d379cb5e2e5149f43a07e804f2f18d6b571eb8ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 29 09:29:35 2018 +0200

    Update comment about UTYF_BADWALLATTACKER

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eb6961a4ded97af271c3dbe22b6ed45a28a7f9dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 28 20:34:26 2018 +0200

    ai/stub: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7699a84e4d88d79cf6d7f7568e63858a90ae5b24
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 28 12:03:06 2018 +0200

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 97ebf4aa2044da7aef904db6955bca91608232bb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 18 05:08:26 2018 +0200

    server/s[rt]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ced208cfc8af384ae6bd9c5fb8b058abaed9c140
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 18 05:08:07 2018 +0200

    ai/default/ai[dfg]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 784ef8f402a42d589eb806958ada39e660e3ac47
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 18 05:07:33 2018 +0200

    tools/ruledit/t*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a3b02be0ef5f8723b394c1e0bc5afd2cfb1e3c55
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 23 03:50:47 2018 +0200

    Document game ending to cultural or scenario specific victory

    See hrm Bug #696673

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0fe07df6a21f548435ac504ee5d93ac0049f2f49
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 18 05:07:00 2018 +0200

    utility/[st]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9e72095299fee56f99d295e50d6919165fb4dbb0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 22 03:01:48 2018 +0200

    Gtk3-client: Set frame_by_frame animation mode

    See hrm Feature #726552

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1344b952593011e61589aa43da4fff5ccd39c996
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 18 05:06:35 2018 +0200

    server/s[ep]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d9d20786349ddc3cbb3a9d8619f5982035c1c1eb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 22 04:29:05 2018 +0200

    Do not claim that ai-types are available only with loadable module support

    Consider possibility of statically built-in ai modules in the
    help of "create" command.

    See hrm Bug #699164

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7ac48c37a6fc960d52bff181c0b0080e7ffcaffa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 18 05:06:08 2018 +0200

    utility/r*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bf698843ac4f6ac8f735ae6af2fc5e0b8fb6e74d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 18 05:05:48 2018 +0200

    server/s[ac]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 09142246c7674edb844494196f5a514f674a1988
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 18 05:05:22 2018 +0200

    ai/classic: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 68e70a782cfe6f32f311c17bd70b83659aa33066
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 20 01:23:33 2018 +0000

    Revert "Update usa flag to valid SVG version from Wikimedia Commons"

    This reverts commit 8e7556d412. This reintroduces format errors but
    restores the aspect ratio to our standard 2:3.

    See hrm bug #707595.

commit bdb4dc8aec0261e196f940381de46cbfacb1f263
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 20 01:23:17 2018 +0000

    Revert "Update liberian flag to valid SVG version from Wikimedia Commons"

    This reverts commit f2fd852bc6. This reintroduces format errors but
    restores the aspect ratio to our standard 2:3.

    See hrm bug #707576.

commit 6aa3435fb487d651aa8bbc7bf8e18d6a93b42646
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 18 05:05:02 2018 +0200

    ai/default/ai[ac]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e3a8bb12f49f0377d32a06682f8d8a7e147be060
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 18 05:04:35 2018 +0200

    tools/ruledit/r*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 23573a4dff4316b49b7145ae4b549fa5e45943dd
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Jan 18 00:14:37 2018 +0000

    Updated Polish translation by Hubert Kowalewski
    merged from S3_0 6a745ae83b. Stats on master:
    core: 99.4%: 7368 translated, 33 fuzzy, 10 untranslated.
    nations: 100%: 1843 translated.
    ruledit: 91%: 90 translated, 6 fuzzy, 3 untranslated.

commit 6f5af6a375ba6a4c473474368ec64ef27549f94e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 11 22:49:04 2018 +0200

    tools/r*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7cd611164457f5a9f320e5fcbdaac8c83671292a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 17 02:02:19 2018 +0200

    Update Finnish translation

    This is S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3074c6c6f643e4478e801c87113b91b65bd9cc06
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 11 22:46:42 2018 +0200

    utility/n*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 36dbfb769de93ded029e5aa7344c3c70e827afce
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jan 14 16:11:47 2018 +0000

    Europe 1900: make all players "Unassigned" initially.

    See hrm bug #724926.

commit 3a842b3f8b3d2a174aab97048ec9ff8c6aa12737
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jan 14 15:52:47 2018 +0000

    Fix some city name typos in Europe 1900 scenario.

    See hrm bug #696031.

commit c13f4915ad7123972e209632ee726252f85ba8f0
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jan 14 15:31:55 2018 +0000

    Replace hardcoded pluralisation with PL_().

    Reported by Marko Lindqvist.

    See hrm bug #698844.

commit c49d96067e84d7b6e994098dac67df6ac3222790
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jan 14 15:18:27 2018 +0000

    Wording tweak in Qt advanced unit selection.

    A candidate unit can't be "Everywhere" but it can be "Anywhere".

    Requested by Marko Lindqvist.

    See hrm bug #699161.

commit 541cd8c53c1accb37103837bb0759735b63e51f6
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jan 14 14:21:07 2018 +0000

    Geographical correction in Cuyavian description.

    Patch by Rhue of L.

    See hrm bug #706252.

commit 0d4e8dbf22614fc4d28e5895cb9d5f6a07168603
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 12 00:03:39 2018 +0200

    Allow loading ruleset without parser.lua in compatibility mode

    See hrm Bug #706262

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2c3efb3d83294bc2a6ab96948a531b70f51585b2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 11 22:46:08 2018 +0200

    server/r*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 101c3e9a00cfba51922b8e72f2c1fb2e9b717bae
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 11 22:45:49 2018 +0200

    tools/ruledit/e*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 45f9a122132f064964d241da5a9957f4c345e32f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 11 22:45:27 2018 +0200

    ai/*.c: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f2184bbcc66084eae72d40e110c33d93910567d7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 14 02:18:01 2018 +0200

    Update Finnish translation

    This is S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2b6e349c7a5a76847fd8b76578e4f530be780d4f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 11 22:45:09 2018 +0200

    tools/shared: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 329b395a7ef9320f77704ebac0977480f0a6e41f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 12 16:29:56 2018 +0200

    Correct tab_unit constructor function header

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 398ea923fee7e9dc5d864b89c01ff03572674b07
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 12 16:24:29 2018 +0200

    Correct tab_gov constructor function header

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0da4950454b4549437a5583018af45fc8fd958a7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 11 22:44:44 2018 +0200

    tools/m*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 42bf6e9372fec094b08e69e2125e5ef211c7690a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 3 17:01:35 2018 +0200

    utility/[lm]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 047e8abeb30bd524714ca64b573552d7bcaf5d64
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jan 3 18:04:01 2018 +0000

    Speed up loading of savefiles with shared vision.

    This process was doing of the order of number-of-players times more work
    than necessary, for savegames where a lot of players share vision with
    each other.

    See hrm bug #723442.

commit a5d5da35135d75b8276aac147d0a7bc19e1554e5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 5 22:22:56 2018 +0200

    Unset capturer last_activity, update action time

    Reported by Donnie Anon

    See hrm Bug #692282

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dd6c1367e4a7b546e839ad2d1b6135a07089ca77
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 3 17:01:13 2018 +0200

    server/[np]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8dcb0d7565004402aa975483f3c29517dab87bd2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 3 17:00:46 2018 +0200

    tools/[cd]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fc4d5b3f262d21da0938c83d043230a6ac54037d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 4 17:46:49 2018 +0200

    Fix crash when passenger leaving aiferry dies

    Reported by Martin SchrÃ¶der

    See hrm Bug #714453

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 40b5bd485f418b6b5ce8432546f227b3f9b3f86d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 3 17:00:22 2018 +0200

    utility/i*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bf7c60907dd41be941ffffc7c9194e120d364c0f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 3 16:57:40 2018 +0200

    installer_cross: Add crosser component versions list to installer packages

    See hrm Feature #722495

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f03bfe46a6a694f2c8cdd7a4a0cee8716713678b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 3 17:00:02 2018 +0200

    server/m*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b616c19d9187357b82d0da06f1eba6183a3f3f6b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 3 23:30:17 2018 +0200

    Mitigate problems of overlong map label

    - Print an error when overlong (too long to be sent over network)
      label is set for a tile
    - Make sure the label sent over network is null-terminated even
      if it's truncated

    Reported by Alexandro Ignatiev

    See hrm Bug #720199

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 04bcb0dda00bd25e6b353b5aa5801f86e38c1aa9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 3 16:59:43 2018 +0200

    tools/ruleutil: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 50057205d31115fd08881cdab4b53b0bc4579a1d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 3 23:14:51 2018 +0200

    Increase max length of tile label to 64 bytes

    Requested by Alexandro Ignatiev

    See hrm Feature #722788

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4a53da2f574eac2ea795e8702d8a32ea32532ebe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 3 16:59:21 2018 +0200

    server/[gh]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 67ee8277f82979f1dd197a8357652d472b2ea003
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Jan 1 22:31:35 2018 +0000

    Don't use nonexistent event in tutorial scenario.

    After a report by Alexandro Ignatiev.

    See hrm bug #723052.

commit 9f83a6d2f70dcc22427061cfdcc556b3c9748af0
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Jan 1 23:00:10 2018 +0000

    Fix Lua object save format.

    They were being saved in a locale-dependent real-number format
    ("p=find.player(0.0)", which worked, or "p=find.player(0,0)", which didn't).
    Now the ID is saved as an integer ("p=find.player(0)").

    See hrm bug #722288.

commit e3ed1d01bf6cb5a94f4c5fe2872868c0ab32878f
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Jan 1 22:35:27 2018 +0000

    Load script data from savegame last.

    The "vars" state section may need to reference other game objects.

    See hrm bug #722287.

commit 3dd96476cb5a61e4f2a27d4941389ddb41016561
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 3 16:58:07 2018 +0200

    Fix crash when former ferry leader activates

    Reported by Alexandro Ignatiev

    See hrm Bug #721949

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1d5ea089ae0a65408f5c9ea137853e2bf49ff2fc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 3 16:58:57 2018 +0200

    utility/g*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e15ac6436668cd39786043bcec1e538cb9d3a7b3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 3 16:44:13 2018 +0200

    Fix some function header typos

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 86570f506aded04f5c41fdd5aa71cba95b785e17
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 3 16:41:58 2018 +0200

    Correct send_ruleset_trade_routes() function header

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 050393d69b678c3b729d3518d9acca7b40fcd91a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 31 13:22:17 2017 +0200

    server/[ef]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 30c166b5b519a4b6395aee56bb0fd50d05184577
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 2 19:57:00 2018 +0200

    Correct edit::utype constructor function header

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8359c9ba603893deafc5244b725ed57fb5630fb4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 27 12:47:23 2017 +0200

    installer_cross: Update to crosser-1.4

    See hrm Feature #705363

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 25f6e394b098c8509dc1187fed322e2f8d3e64e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 31 13:21:52 2017 +0200

    utility/f*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0eabc2ce523e30ec7a73a6526aa71404fd13d447
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 31 12:33:16 2017 +0200

    Bump version number to 3.0.91

    See hrm Feature #722200

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eecd9c64efa406f4e73d8135ceb7a191b70e980b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 20 16:56:59 2017 +0200

    server/d*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d42d0d9a98ca1ef435da2a59e5713e0ff3c6fe9c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 20 16:56:37 2017 +0200

    server/scripting: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 56c0e5f54f9921eec476ae574c805de12b6394cf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 20 16:56:14 2017 +0200

    server/c*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 400fb1d16f11138708c7ace30fbcf4cadd5463ed
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Tue Dec 26 21:51:01 2017 +0500

    Update for Russian translation.

    core:    7411 translated messages, 1 fuzzy translation.
    nations: 1843 translated messages.
    ruledit: 99 translated messages.

commit 577fec23e08de2a0cac761d280ec65e2337e8c74
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 20 16:48:27 2017 +0200

    Use adv_want type for autosettlers activity want

    See hrm Feature #719512

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b40596b246f98eee0c2eeeb909b550153501a7e9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 20 16:55:37 2017 +0200

    utility/[cd]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dba8270fdd9bbe0afcab3df2a88e4ea29afcf39c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 14 13:57:53 2017 +0200

    Correct autosettler logging of Frost

    See hrm Bug #718497

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5f191830edabd0f9f6094c119b9262d71a6a8181
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 14 08:21:57 2017 +0200

    Take "extra" want for autosettler activity in to account in final want

    See hrm Bug #719516

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8e7556d412cb125899a559a8dd51b56221c3f307
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 5 21:52:50 2017 +0200

    Update usa flag to valid SVG version from Wikimedia Commons

    Reported by frank e

    See hrm Bug #707595

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 34589f24e3df8264798d796263746ec4e8c45aac
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 29 23:06:11 2017 +0200

    Fix unithand.c "to far" and "to near" typos

    Reported by Lachu
    Patch by frank e

    See hrm Bug #706821

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8796504f2575028739e0355b30d9ba7812483f68
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Nov 17 19:08:44 2017 +0100

    Qt client - allowed styling titlebar of dialog.

    See hrm Feature #710896

commit 26a9af681737fd511173923e37d768e3c6639603
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 29 23:08:39 2017 +0200

    utility/[ab]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bf77399b375d99678c6659570e98d60d800eecb2
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Nov 7 10:06:07 2017 +0100

    Qt client - diplomacy dialog - added possibility to accept/reject deals with keyboard

    See hrm Feature #709337

commit 92b9d9dd44a2ce201a0f6d710cc1d92d987f1bb2
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Nov 7 10:03:52 2017 +0100

    Qt client - added city dialog shortcuts

    See hrm Feature #709335

commit a9fcf209bbd280cae9f97d3570c6ef838c18b464
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Nov 7 10:00:42 2017 +0100

    Qt client - fixed not available special improvements to build.

    See hrm Bug #709338

commit 9e5b4056948cc904e13bb6b8ff08c69e9941f5f1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 29 23:08:18 2017 +0200

    server/b*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c233fbb236c39f36fa009b24ce1208e11d2b74ce
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 29 23:07:58 2017 +0200

    server/a*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 80fc79ada564dfefdf7fbea76834d3f0fef01bac
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 30 16:42:45 2017 +0200

    Update papuan flag to valid SVG version from Wikimedia Commons

    Reported by frank e

    See hrm Bug #707576

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f2fd852bc6bb9bfcce29fb264de92c5d7db6e3f5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 30 16:34:43 2017 +0200

    Update liberian flag to valid SVG version from Wikimedia Commons

    Reported by frank e

    See hrm Bug #707576

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cbaaa3f34bd6f83cfd2a9014ffd06be0bf580a59
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sun Nov 5 13:17:43 2017 +0100

    Qt client -fixed segmentation fault when lost connection to server.

    See hrm Bug #709134

commit 987ecab5bdab03dec3d26425f651f9077457679d
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sat Nov 4 00:10:48 2017 +0100

    Qt client - make prev/next help history buttons sensitive.

    See hrm Feature #708258

commit d49d92cb2de265b604c071f91cae4b56e5b32082
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sat Nov 4 00:08:01 2017 +0100

    Client - Fixed savegame not loading for ruleset with preferred_tileset with "-f"
    Reported by Jacob Nevins

    See hrm Bug #706353

commit e33d4b21b89548c18abc164770888340605056c0
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sat Nov 4 00:02:41 2017 +0100

    Qt client - fixed closed research dialog after choosing current reserach or goal

    See hrm Bug #708554

commit 7edd7274876477f4db1d22fb1fcb2ba090f8c2bf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 29 23:07:37 2017 +0200

    server/generator: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 41464a91df74a9cdd8ad67ee6100a2dfe93ac6cf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 30 00:30:53 2017 +0200

    Add HP reduction part of frame_by_frame mode battle animation

    See hrm Feature #707623

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3a45beb1f3439a53813336b6e8711953853fb98b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 29 22:53:46 2017 +0200

    Update msys2 environment to 171027 level

    See hrm Task #701180

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4c1eaa26aff3924164f55b6c4aefff1417858a78
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Oct 30 19:56:05 2017 +0100

    Qt client - made socket notifier as blocking ( as fix of bug - can't load savegame from ruleset with preferred_tileset )
    Reported by Jacob Nevins

    See hrm Bug #706356

commit 9e22aec9cd4c34b9ba51860bf5899590d6d39fdd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 27 23:43:39 2017 +0300

    common/[vw]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e17a0910ec2e421279d1c7f7a76fa448f9a0e2ff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 27 23:41:14 2017 +0300

    Add frame_by_frame mode nuke animation

    See hrm Feature #706322

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ee51f0a00427fbbeffa19d4de3107981519e8925
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 27 23:15:07 2017 +0300

    Do not use @abs_top_srcdir@ or @abs_top_builddir@ in wrapper scripts

    See hrm Bug #705468

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 63369a0e5e9890acab60b9d91c4733ca922ad37d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 27 23:43:16 2017 +0300

    common/u*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 54de1bdf562452cb36ccf69ec761257b939a4534
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 27 23:42:36 2017 +0300

    common/t*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1ee1cef19194982509aea7d12f057cd3df958251
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 27 23:41:33 2017 +0300

    Do not double buy cost of Small Wonders

    See hrm Bug #706727

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit db6c5f4c94370ca95676466a98a3243ed513c2e7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 24 21:23:10 2017 +0300

    Fix type "Recyled" -> "Recycled"

    See hrm Bug #705991

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e2e37f1de84a760c613bfefca41edf84bd0ad157
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 24 21:19:30 2017 +0300

    Reduce autosettler want for road connectivity on hex map

    As there's a limit how low we can make the road connectivity bonus,
    especially with integer math, also increase wants for other autosettler
    activities to make them more wanted in relation to road connectivity.

    See hrm Bug #703839

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2dc87be216731cf21abce012ec793d3e44993539
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 24 21:25:14 2017 +0300

    server/advisors: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 830707ef435412bb33bd81fe1e2015a897a84c48
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 24 21:16:07 2017 +0300

    Threaded settlers: Do not count road connectivity bonus to city benefit

    See hrm Bug #706211

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 39e78f040d4628a75805b6d13509d2bd8a69b1a4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 24 21:24:27 2017 +0300

    common/s*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2af50146577f113dabd79900c1a97109ec665259
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Oct 22 12:35:21 2017 +0100

    Reword ruleset comments about rule_name.

    Spell out more explicitly what you need to do if you're renaming something.
    Reported by GriffonSpade on the forum.

    Some unrelated formatting changes to make rulesets consistent with each
    other.

    See hrm bug #705526.

commit fac0792b0137ce043eae3967fbd24fa406d4f8b3
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Oct 22 12:25:39 2017 +0100

    Add scripts/spec_propagate.sh.

    This is a development script to propagate changes across all rulesets on
    a branch.

    See hrm feature #705525.

commit 8ae2d858c1b3223f8ebd173341e970fdeb79a2b5
Merge: d4ee3243ae a8593c43d8
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Oct 24 23:26:01 2017 +0200

    Merge branch 'master' of https://github.com/freeciv/freeciv

commit d4ee3243ae0f5fcaca385488073b68b40e7e1604
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Oct 24 23:25:44 2017 +0200

    Fixed SDL audio playing only 1 sound,broken in hrm Bug #695946

    See hrm Bug #705553

commit a8593c43d8a86994e423a8452a0a2832d7c3fabd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 21 13:07:00 2017 +0300

    common/r*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ac43f31cb9c799973f7247751132ef8941f6f4ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 21 12:53:56 2017 +0300

    Add frame_by_frame mode explosion animation for battles

    Traditional hitpoints reduction part of the battle animation
    is left to later ticket.

    See hrm Feature #704182

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b21332a7e6f93e23ccead15eeeb1b710d81cc6f0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 21 13:01:22 2017 +0300

    Make Bridge requirements property of Extras

    - For extras, add 'bridged_over' list of other extras that prevent
      building it if no bridge building tech is known.
    - Remove thus obsoleted road flags "RequiresBridge" and
      "PreventsOtherRoads"

    This required rearrangements to functions used to query if
    extra, base, or road can be built as now all of them have to check
    if extra bridging requirements are fulfilled.

    See hrm Feature #704288

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bbbf498fe5976c356759b0abf7cb9994a8d9c575
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 21 12:52:17 2017 +0300

    Avoid duplication of '+' in VERSION_REV when VERSION_LABEL ends to one

    Old implementation only considered the case where VERSION_LABEL was
    exactly "+", not for example "beta1+"

    See hrm Bug #705391

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d65cd050d87f8e7fe78b175d6d1f92249737be87
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sun Oct 22 21:33:14 2017 +0200

    Qt client - fixed height of line in chat.

    See hrm Bug #704929

commit f1f36484d19ca1a889b8c8d2ff0f215cb0b30687
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sun Oct 22 21:26:29 2017 +0200

    Qt client- fixed segfault at show_tileset_error when qapp is not running.
    Reported by Christian Knoke.

    See hrm Bug #704711

commit 01d268a3813ef41d398a64fcdaa0c8845864cfb7
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sun Oct 22 21:22:01 2017 +0200

    Qt client, progressbar - draw text after icon

    See hrm Bug #704608

commit 7ec513414edc3f3f0ae34dbade45f5a9fd9be01b
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sun Oct 22 21:18:46 2017 +0200

    Qt client , city worklist - move attack/def/movement values to tooltip

    See hrm Feature #704607

commit 43a9bdd49084345dbde7b0debbe053b260e56cdb
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sun Oct 22 21:14:55 2017 +0200

    Qt client - connect on double click in network page

    See hrm Feature #704602

commit 0686396224825641c5996ce9aec143f7f8dfa973
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 21 20:36:24 2017 +0300

    Correct astr_buffer_free() header comment.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 73351ab2615adec72f6f2652657bbccd95a610bc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 16 20:22:24 2017 +0300

    common/[np]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ae1b94c99c2476e4f8ec1c39230b120409704905
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 16 19:57:18 2017 +0300

    msys2: Install gschemas.compiled as part of gtk3 environment

    Reported by Andreas RÃ¸sdal

    See hrm Bug #701889

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5c262264b6546daaa120a8a633bbd378989b1391
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 16 19:59:33 2017 +0300

    README.AI_modules: Update to the fact that threaded AI is built by default

    See hrm Bug #703843

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9dade259765dd99cf772ce6a743f8abaf8c074d2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Oct 16 07:51:05 2017 +0200

    Update "Spy" utype flag ruledit comment

    so it matches the changes done in hrm Feature #694112.

    Reported by Marko Lindqvist

    See hrm Feature #694112

commit 79d628ed50724503966f82e02e5d1a9843dcad63
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 16 20:07:11 2017 +0300

    Update large Earth scenario

    - Fix typos in startpositions
    - Enable 'startcity'
    - Adjusted Aborigines startpos
    - Added startpos for Polish

    Patch by Rhue of L

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6bf957b458ff9627fd63ded0f2100f2b3380a7c8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 16 20:22:05 2017 +0300

    common/m*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dd1466a2810505ee1b59b69dff2fdac6ca608b0c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 16 19:28:35 2017 +0300

    gtk3-clients: Set transient parent for city dialog popups

    See hrm Bug #703869

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 38bd3cb7601b7658dd00315b13c2e62e8cf765e8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 14 19:45:33 2017 +0300

    common/i*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4af6608a0502de9f3c4958b59eca45b0ea58df3d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 14 19:44:27 2017 +0300

    Gtk3.22-client: Set frame_by_frame animation mode

    See hrm Feature #700641

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9436f776839a23833f61b479707573aeaedab14d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 14 19:43:30 2017 +0300

    installer_legacy: Install gschemas.compiled as part of gtk3 environment

    Reported by Andreas RÃ¸sdal

    See hrm Bug #701751

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d2ac8fd59ce4e9bbc16b09ee09a5479872249aef
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 11 06:57:12 2017 +0300

    common/g*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6938051297f242b6000c78062d8d41c307714e5f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 11 08:05:15 2017 +0300

    installer_cross: Add GSettings schemas to gtk3 environment

    Reported by Andreas RÃ¸sdal

    See hrm Bug #701890

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1078819b08576c3540a539b2b8f6821293315505
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 11 07:32:20 2017 +0300

    winsock2.m4: Restore correct value for ac_includes_default

    See hrm Bug #702806

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3aa0711545b3f4e7f63bfcefa562df09d794c781
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 7 06:18:09 2017 +0300

    Be prepared for "city_size_change" lua script to destroy a city

    See hrm Bug #701045

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a1d7508395e557a49597f3ae10c771a233f1af83
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 7 06:20:26 2017 +0300

    common/networking: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cfd559a4ba2db94c09843c2ad9e9162b4295e07c
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Oct 10 10:21:41 2017 +0200

    Qt-client - Fixed Travis build failing for qt client.
    Reported by  Marko Lindqvist.

    See hrm Bug #702406

commit ff8e09dc31d8d4f8f826e2e79e9bd60232f795e8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 7 06:18:31 2017 +0300

    Tutorial: Listen city_size_change signal instead of deprecated city_growth

    Reported by frank e

    See hrm Bug #700909

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d86c969dfff6063c55114e8f56f7ec05da84de8e
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Oct 9 19:50:24 2017 +0200

    Qt-client - updated signal-slot syntax to Qt5 style

    See hrm Bug #701840

commit 30b1712be5d77011f8715acd40571f1d1dfd2856
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 7 06:20:04 2017 +0300

    common/f*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 06ae20f9d7a757ca47ac842ab622d8fa4d9df4f4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 7 06:19:34 2017 +0300

    common/scriptcore: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 02ccfc927f2077524c362e177e19bd7036d1690a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 7 06:17:05 2017 +0300

    Add movement animations support to frame_by_frame mode

    See hrm Feature #700642

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9dbc563882509d55ec7e78aa4013871388365d50
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 7 06:56:04 2017 +0300

    Copy trident.tilespec as baseline for 3d.tilespec

    Initially the only difference between 'trident' and '3d' is that
    latter has type="3D"

    See hrm Feature #697710

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 322224a74f34f922d1b883296c008c49b708492c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 7 06:19:03 2017 +0300

    freeciv-server man-page: Update list of rulesets

    See hrm Bug #700291

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b1fb9d41dab5a58e454ad523520f4078f9f4cdbc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 7 06:17:47 2017 +0300

    Emit "city_size_change" only after city size change has taken effect

    Reported by Jacob Nevins

    See hrm Bug #690756

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8f433b15f8a1fd26637e03a2d18978b2b4afef8f
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sat Oct 7 22:35:40 2017 +0200

    Fixed Qt-client: assertion 'action_id_exists(action_id)' failed.
    Reported by Marko Lindqvist

    See hrm Bug #696006

commit 353a515d689bc54dd1959e9601c6d22e5bf8dfe6
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sat Oct 7 22:30:09 2017 +0200

    Client - Remove dead code.

    See hrm Bug #695946

commit a7316a9e2a58d246c7a0a3cf1494dabb45a47d4a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 4 04:45:41 2017 +0300

    Disable the "Turn Done" button in fixed-length gameplay

    Requested by S.C. L. (Caedo)

    See hrm Feature #700675

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8604dcd0bcd0821a1095648ad3bf129272565af9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 3 04:16:08 2017 +0300

    common/e*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ddfbc0b3e2f12b8ac3410ab0dbd2c3880f87b5dd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 3 06:12:16 2017 +0300

    TODO: Do not refer to non-existent www.freeciv.org TODO page

    See hrm Bug #700718

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e4e2c01d438438459d7f0b7420a8cbfe15101466
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 3 04:05:17 2017 +0300

    Emit city_size_change signal only after successful size change

    Reported by frank e

    See hrm Bug #700910

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1b99a0800cfc02e545e6526519131eb996e05098
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 3 04:27:57 2017 +0300

    Tex AI: Run military advisor in worker thread

    See hrm Feature #697715

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 258202df4e22dedc23cc2ab136f5c959b0af4401
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 1 04:20:01 2017 +0300

    common/d*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1500a433a7141bd33392b0494eea832d3059b51b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 1 04:18:01 2017 +0300

    Clear full mapview with below one zoom levels

    See hrm Bug #638737

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1030d83e26ada57e624bd8f94f8213184de1da8d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 1 04:15:26 2017 +0300

    Send no-resource info of a tile as MAX_EXTRA_TYPES

    Reported by Jacob Nevins

    See hrm Bug #681864

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dfacded8d4da7df0f6e6e622794ed68d9ccddcc4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 1 04:16:52 2017 +0300

    Alien: Rename Irrigation as Greenhouses, Farmland as Protein Houses

    See hrm Feature #700626

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a9209c6d43d55477ca8dedb1bb274106eb5db646
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 2 01:27:18 2017 +0300

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 410f29902729d3e1f0035e75161b0db545b05f91
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 2 01:24:50 2017 +0300

    Sandbox: Mark Hermit's Place's helptext no-c-format

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b0ec84e8517735145428dceabe54ed6d688fdde6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 1 04:17:12 2017 +0300

    Fix pluralization of trade bonus message

    See hrm Bug #657416

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4364f730f851e10a0938378b5b390ff10f0603d5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 1 04:17:31 2017 +0300

    Fix converting pre-2.6 savegame specials to extras

    Reported by Sveinung Kvilhaugsvik

    See hrm Bug #657401

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 754f684c8f879f5b2ee54f37ccbab24ba247641d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 1 04:44:00 2017 +0300

    Add mostly dummy set_frame_by_frame_animation()

    In the future this will be needed for gtk4 drawing model.

    See hrm Feature #696457

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eef6b23c19fdbc3686d8a1b8413e373075dda127
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 1 04:16:01 2017 +0300

    Enable AI to build ocean workers

    See hrm Feature #664183

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fe14b722fbcd352071acb2caaf81963a2959acab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 1 04:16:21 2017 +0300

    Increase AI want to win the game via spacerace

    See hrm Feature #660489

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ea20305391239807a8c25814d721e962750dba0e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 1 04:18:38 2017 +0300

    Tex AI: Allocate advisor data structures for cities on tex map

    See hrm Feature #700049

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9c700cfea1188799e01a22167101b64ecd20e22a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 1 04:19:42 2017 +0300

    common/c*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cfe799d79d55e72cce524d9b7ed6b95141199609
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 30 01:54:48 2017 +0300

    Comment typofix: sucess -> success

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2dbf0d3fcb36ee2a978158b7ebdc8e73bdd47825
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 29 23:26:18 2017 +0300

    README.nations: Correct minor details

    - data/default/nations.ruleset -> data/default/nationlist.ruleset
    - data/scenario/               -> data/scenarios/
    - tranlations                  -> translations

    See hrm Feature #700290

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a855119ec34f5db7059f8ace480879b17b48f5c5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 29 00:10:24 2017 +0300

    common/aicore: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 15d62ab823a82fdb88a37231ca4433f03ae36fb8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 28 23:59:53 2017 +0300

    Alio: Add Hills

    Art from GriffonSpade's AmplioHexBig tileset

    See hrm Feature #699504

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5004c3bb6b13f6844dcc4d53f611cca766e9f7dd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 29 02:01:26 2017 +0300

    Comment typofix; exept -> except

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 16a06b27165300544440c0d7fd202a0e59cbbf1a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 29 00:06:43 2017 +0300

    Tex AI: Remove destroyed unit from tex map, not main map

    See hrm Bug #700050

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0cced005a8de44b3464936b150f90c13a18bee2d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 29 00:10:01 2017 +0300

    CodingStyle: Update for doxygen format function header

    See hrm Feature #699771

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ed44d64f00af9ba75cd2c88f2e0d03971eb0f07f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 29 00:04:27 2017 +0300

    Save list of ai types to the savegame if game already running

    Do not save them in map-only scenarios

    See hrm Feature #697656

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c5b4a3d63852fad0a21c279c6626b30cb474b3cc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 28 05:03:16 2017 +0300

    common/[ab]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit af206b9f9e19c2eadc8678887be589dde5185d56
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 28 05:00:49 2017 +0300

    Fix malformed error message format

    See hrm Bug #697541

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3f7452180bc573cfe3445463a1bcfa487d32141d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 28 05:01:40 2017 +0300

    Hexemplio: Locate patrol icon like autosettler icon

    See hrm Bug #686635

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 70018f2a77f62604b5a952ce011a05346f7e602a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 28 05:02:36 2017 +0300

    README.packaging: List gtk3x-client as new feature

    See hrm Bug #699708

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bc65c3362635f11ae1f3f992e99aa07f87b1492d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 28 06:26:31 2017 +0300

    alio/burrowtubes.spec: Correct capability string

    See hrm Bug #700055

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 749732c1f3ab4fd63bd4458379c5e141fbed752e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 26 04:14:34 2017 +0300

    Show popup for server operator messages by default

    See hrm Bug #690212

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b7197b613615b786ef910d4fe33ec5f1b4f32d27
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 28 02:38:57 2017 +0300

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f933a8b9ae5c134646a89d3ffcf66feda6bfa25d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 26 04:13:01 2017 +0300

    Sandbox: Unify Fortress and Airbase helptext with civ2civ3

    See hrm Feature #698845

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f72c08bf881c67ab352ed7e2e72e27b3ffa6e638
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 26 05:32:07 2017 +0300

    gtk3-clients: set transient parent for info popup windows

    See hrm Bug #699488

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0b333186827fa66ef03dbf80414226441fefe0a7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 26 04:15:54 2017 +0300

    dos2unix alio.tilespec

    See hrm Task #699482

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f19e36a69eb7a3b6f08f3517436046937070daf4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 26 04:15:20 2017 +0300

    Alio: Add burrow tubes gfx

    Art from GriffonSpade's AmplioHexBig

    See hrm Feature #699480

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3db9ab166d4122ef0c55c0dc72dad59e388f06a3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 26 04:08:48 2017 +0300

    Tex AI: Copy all tiles to tex map once map generated or loaded

    See hrm Feature #699485

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c660c2605ab312ac63bec1965aa574ec638957ef
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 26 04:13:23 2017 +0300

    savecompat: Fix converting of separate victory settings to victories array

    See hrm Bug #698566

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a2f707d6eace2d3b34f5dc549037de040667d63f
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Wed Sep 27 16:03:55 2017 +0300

    Add Russian translation to the desktop shortcuts.

    See hrm Feature #697576

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bc8e74a9295b85161bcee91d0693d2699609a978
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 26 04:12:20 2017 +0300

    Support extrastyles other than Single1 for resources

    See hrm Feature #698981

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f0ad99812474ae58a1e7d923180a1b989f2cf8ed
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 23 21:25:12 2017 +0300

    tarball: Include europe_1900_WWI scenario instead of europe_1901

    See hrm Feature #698841

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e1e1a576f7aeed663ef5cb12e27833bc371dc937
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 25 02:23:48 2017 +0300

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3efcc4ce6fc60d7a11f397c9b73a0d466336a3c3
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Sep 24 22:19:09 2017 +0100

    Updated Spanish translation by Jordi Negrevernis i Font

    msgmerged from S2_5 ee904817b6. Stats on master:
    core: 74%: 5480 translated, 1217 fuzzy, 716 untranslated.

commit 1a00315cd3f6a327746e33ab2489dc7bdbc7ee77
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 22 23:20:06 2017 +0300

    doxygen: Document tools/

    See hrm Feature #699017

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 065a6433f129f2e1a222c3ff2dd0bcdeab653bba
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 24 01:06:47 2017 +0300

    nations/fi.po: Replace 'trunk' with 'master'

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8733562b2ad50b7c7e2aece75a88e86765f5bccb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 24 00:18:05 2017 +0300

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit efe119c0e61818c0ba47080ae2d2b37d8c50be78
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 21 23:46:01 2017 +0300

    europe_1900_WWI: Miscellaneous string-related tweaks

    See hrm Feature #698539

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8121d872e6483fb27408a58518eddc9dcb473ed3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 21 23:44:43 2017 +0300

    europe_1900_WWI: Set last_updated_as_year to FALSE

    See hrm Feature #698539

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 531b8211f1db4d31263b4bcec3f307d02e1225c2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 21 23:43:15 2017 +0300

    europe_1900_WWI: Remove gameseed setting

    See hrm Feature #698539

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 199f996112e0b04e3cf751cf7827d7eab1b86fd6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 21 23:41:46 2017 +0300

    europe_1900_WWI: Move authors information from description to its own field

    See hrm Feature #698539

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0cb597255ab8b5466ebe556f78a97f58d9348b1b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 21 23:39:07 2017 +0300

    europe_1900_WWI: Don't use preset random

    See hrm Feature #698539

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1cbfafc6e2b547392e8c6aae1b95e0e8c59e6bd4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 21 23:36:38 2017 +0300

    europe_1900_WWI: Set cities to build Riflemen instead of Warriors

    Some cities were building obsolete Warriors

    See hrm Feature #698539

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4168b92c30d2a52271e001aef582bc4f9729dfdd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 21 23:34:45 2017 +0300

    europe_1900_WWI: Set AI level to Hard

    See hrm Feature #698539

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0237a5393ab2b7e02fb1ae6d3e0a54821a13facb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 21 23:30:30 2017 +0300

    europe_1900_WWI: remove save name setting

    Use Freeciv's default in stead.

    See hrm Feature #698539

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 06aac9b4265d82b5d1f82fe47b08f6a4aeeecf85
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 21 23:28:37 2017 +0300

    europe_1900_WWI: remove score log settings

    Use Freeciv's default in stead.

    See hrm Feature #698539

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6a6b9b4758bd997d31c21d7b4ef18bb9baaef86e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 21 23:27:01 2017 +0300

    europe_1900_WWI: remove compression settings

    Don't specify compression level or kind. Use Freeciv's default in stead.

    See hrm Feature #698539

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c1ca57f0b8b37483c5f662c58b782ce5dc5c99d0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 22 22:54:08 2017 +0300

    Update Finnish translation of ruledit domain

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 812709fd4d742a9575e214fe7bd975031dc7bcba
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 22 01:24:39 2017 +0300

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d62f1bf6bb4b9792fd08693837b71d2c2c4f1e2f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 20 00:57:19 2017 +0300

    europe_1900_WWI: Add Roads to all tiles with Railroads

    See hrm Bug #698206

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1371160efac5c6406e82ca578e907085ac46d538
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 20 01:16:56 2017 +0300

    Correct path to packets.def in documentation

    See hrm Feature #698196

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cf29f0bf91b6224411b6ebea064f8290d34d88af
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 20 01:10:53 2017 +0300

    INSTALL: Drop Solaris libXpm notes

    libxpm notes are no longer relevant as xaw-client has been dropped.

    See hrm Feature #698207

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 42a7e38059b1b940a99ccc411cb6af63b042aea9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 20 00:47:38 2017 +0300

    Add europe_1900_WWI.sav under version control

    Scenario by Ferdinand SteinkrÃ¼ger (a.k.a XYZ) and
    Jamie Troini (a.k.a. Nimrod)

    See hrm Task #698014

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit adf01b2d8ac2e099027db87e2c1332f0e0832772
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 20 00:47:03 2017 +0300

    Autosettlers: Calculate road bonus sensibly on hex map

    See hrm Bug #695738

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 202757ae461ddb5cd64cea95a6e4ff27f008d214
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 20 01:18:30 2017 +0300

    assess_danger(): Take civ_map as parameter and create reverse pf_map with it

    See hrm Feature #696910

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2afe0b92b4a9467cb4ffbdfb83b085fb16e24449
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 19 23:39:04 2017 +0300

    sdl2-client: Fix cma compilation

    See hrm Bug #695022

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 53424e56e84da0406e12eee8269a9052297d5c65
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 18 00:29:01 2017 +0300

    cm: Accept negative value in emergency situation

    See hrm Bug #695022

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c0f49b26a385ae3ab91a9f1d2752010e43e9dba7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 18 00:40:06 2017 +0300

    Allow building without tolua

    Tolua is not needed when building from tarball.

    See hrm Bug #675964

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0f58d6eb8d6b83bb9c2b8a0c0057515134f40b9d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 19 17:11:53 2017 +0300

    fc_version: Update Windows follow-tag comment

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b0ba680035ad6a0d0ecc33c679f58460aa811876
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Sep 17 14:38:41 2017 +0100

    Add another female Pirate leader.

    See hrm feature #697682.

commit 99c31262f741095e8fb7e8276e0eab9f15f36d62
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Sep 17 14:35:15 2017 +0100

    Fix Polynesian plural.

    See hrm bug #697681.

commit b12795e1d06c8290b3dc10b7320ac89b5781b1d1
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Sep 17 14:22:21 2017 +0100

    Rename culture "acts" as "points".

    See hrm feature #697680.

commit 6888c017edee7b7f94c4ea805f749d1c004b2187
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sun Sep 17 11:19:39 2017 +0100

    Fix Gtk3 minimap refresh.

    Reported by Christian Knoke.

    See hrm bug #697658, gna bug #25318.

commit 01a1d10a2ea41ffb1522cd047ae9e05891d65af0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 13 21:07:41 2017 +0300

    Make AI to value science more than gold

    See hrm Feature #662670

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 91bf9a3dcfff152649565f985b84e06bdddc07bc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 13 21:59:39 2017 +0300

    is_my_zoc(): Take civ_map as parameter

    Replace hardcoded use of wld.map.

    See hrm Feature #696874

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f9a3f4010d8f067346748c18a2fa3d17e65d86f4
Author: Benno Lang <transmogribenno@gmail.com>
Date:   Sat Sep 16 01:02:53 2017 +0100

    Merge Esperanto core strings from S2_5.

    From commit 32c31dc577. Stats on master:
    core: 29%: 2178 translated, 2416 fuzzy, 2819 untranslated.

commit 2398a8ee54e4d98231a58bca0cbe2a205d15f89e
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Sep 14 00:38:24 2017 +0100

    Merge current S2_6 core en_GB translation

    From 9c14973479. master stats:
    core: 82%: 6082 translated, 904 fuzzy, 427 untranslated.

commit 221411d7fe7a761d1a45d7f1fb18693931e4db7d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 16 03:15:12 2017 +0300

    Add langstat files to .gitignore

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 49e5ac84e18a90b7f8449eb9949ff035cd21e00a
Author: dftec <dftec.es@gmail.com>
Date:   Mon Sep 11 20:02:04 2017 +0200

    civ2civ3: Lua script to place more labels on the map.

    It generates randomly one label for each different terrain (rivers
    included), taking a bit into account the surrounding terrain (mainly
    if coastal, isolated, or surrounded by same terrain).

    See hrm feature #659517.

commit 6eb2268d436e99456d47c26a284c460a5c1b02c3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 16 02:25:30 2017 +0300

    Add missing files to POTFILES.in

    gtk3x-client files are still left out intentionally.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 03884521955d3c3dd337f6c928b1d1b8e8e6ce60
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 16 01:33:27 2017 +0300

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c84ce356f5837b1c0a55895f6d32bfde9c069281
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 13 21:16:31 2017 +0300

    Check if military_advisor has already run before running it

    Currently AI always runs military_advisor in last_activities.
    To prepare for the future where texai may run it mid-turn, check
    if it's already run before running it in last_activities.

    See hrm Feature #696479

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 27b5a6fd4553f901bc5d9ffc235017c302e7d067
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 13 21:08:16 2017 +0300

    Add --with-3d configure option

    See hrm Feature #693692

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 944142c044acde41f54d61a839ebee3afc043de0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 13 21:14:23 2017 +0300

    Drop IPv6 Support check from the missinglist

    It's an hard error if IPv6 support cannot be enabled when not
    explicitly disabled, so there's no point in having it in missinglist.

    See hrm Feature #696615

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6bbddf96c032185fd7af3cbfd24861b567cc34d1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 13 21:12:10 2017 +0300

    README: Do not list clients capable of starting server

    All the clients are able to start the server, so no need to list
    all of them individually.

    See hrm Feature #696614

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7f6c21522ec588f71d30fe8f7c478b608778b04f
Author: mir3x <mlewczuk80@gmail.com>
Date:   Thu Sep 14 23:17:19 2017 +0200

    Scaling - Fixed some offsets which were not scalled.

    See hrm Bug #696435

commit 56694daa0deda4bf93103ab967d05fd44e46dc66
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 14 17:11:09 2017 +0300

    dos2unix README.civ2civ3

    See hrm Task #695996

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0fde76e645bc62ab28ea8ecf1cb925d3618a3a29
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Sep 14 00:38:24 2017 +0100

    Merge current S2_6 en_GB translation

    From 0ef03b0634. master stats:
    core: 82%: 6032 translated, 869 fuzzy, 430 untranslated.
    nations: 100%: 1843 translated.
    ruledit: 72%: 63 translated, 10 fuzzy, 15 untranslated.

commit 43360a83c810f121400688b7f36b7691c298cf3c
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Sep 14 00:33:12 2017 +0100

    Update POTFILES.in after hrm feature #688329.

commit 55945b78d059ac12173005430ab94291c1adc433
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Sep 12 10:22:16 2017 +0100

    Miscellaneous string-related tweaks.

    Rewordings, pluralisation, correct parts of speech in substitution.

    See hrm bug #689474.

commit fe899dabede9306f33a58241e1eb23eaa326546f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 12 07:51:16 2017 +0300

    Use pf_parameter->map consistently

    Change all the hardcoded pathfinding references to &(wld.map)
    to use pf_parameter->map instead.

    See hrm Feature #696474

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7c8d193d062834afd6aa6c91fdd5e2018546d34a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 12 03:42:33 2017 +0300

    Ruledit: Add effect value editing

    See hrm Feature #696455

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aa913b9244f8b244e69649a7f5986254e77fc3c6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 12 00:03:25 2017 +0300

    README.effects: Use 'type' instead of 'name' in example

    See hrm Bug #696433

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 67df02f4d8e36e028a2814701e5a60a2eb0d6582
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 11 23:12:58 2017 +0300

    Travis CI: Build sdl2-client

    See hrm Feature #696426

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a90e4087d43fce227d266847a093c248865a1744
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 11 23:09:28 2017 +0300

    Notify clients if saving of the game fails

    Reported by Christian Knoke <chrisk>

    See hrm Feature #657139

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit db52ed80323f956d0a318c74b564fe3ad010a277
Author: dftec <dftec.es@gmail.com>
Date:   Mon Sep 11 01:43:18 2017 +0300

    civ2civ3: Tribal +1 content, Federation +2 luxury.

    Tribal gets 1 extra content per city instead of martial law.
    Federation gets 2 extra luxury per city instead of 3.
    Switch empire size of Tribal (now 12) and Monarchy (now 14).
    Set Monarchy as better than Despotism for the AI, and Republic better than Tribal.

    See hrm feature #696065.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 42d6cb1a38bf2dd8dbb8d9d778688caa401edd78
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Sep 10 16:41:15 2017 +0100

    Graphics for Ecclesiastical Palace.

    Source is public domain photo of Potala Palace in Lhasa, Tibet,
    by (WT-en) SONORAMA at English Wikivoyage (Own work), via Wikimedia Commons.

    Adapted as large building by David Fernandez (bard@hostedredmine) and
    as small building by "frank e" (aka dunnoob). Spec/Makefile changes by me.

    See hrm feature #657388.

commit 79d4dd8fc783f65e5c8593dfc44d0a7ff2ffc627
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Sep 10 13:53:45 2017 +0100

    Add oil_rig to Amplio tileset.

    This is the last tileset in git without distinct graphics for civ2civ3's
    Oil Platform.

    See hrm feature #696028.

commit 7ada6f22edafb16a5cd6694eaff6ca490582a695
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Sep 10 13:35:44 2017 +0100

    Enable client heartbeat by default.

    See hrm feature #693269.

commit fe525de0296ef6e38936905305804286a1613b48
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Sep 10 12:43:29 2017 +0100

    Fix full city bar drawing with non-default zoom.

    Also, comment that canvas_put_line() has different semantics wrt zoom
    than other canvas_put functions (I wasn't quite brave enough to fix it
    now).

    See hrm bug #685277.

commit 0cb246717ef8932db286eddeba3f1a0a37206dbb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 10 03:23:41 2017 +0300

    Limit number of gold-upkeep military units AI builds

    See hrm Bug #696007

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 96f755bd3096f6ef4e71433ff09d72fdbd41f4ef
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Sep 11 20:37:53 2017 +0200

    Qt client - crop pixmap in progressbar

    See hrm Feature #696000

commit 9fb052ece46bff049cbd9d429bb1e2dfdf2fe67d
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Sep 11 20:35:27 2017 +0200

    Qt client - city dialog - use smooth scaling for items in production widget

    See hrm Feature #696001

commit 9313035def3ed5a8e485d8e4475dcf16387f96c3
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Sep 11 20:32:34 2017 +0200

    Qt client - toggle reports visiblity with shortcuts/icons instead just showing

    See hrm Feature #695926

commit 8591c3240ebba1517d22ca14ee045a2be643e2c7
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Sep 11 20:29:20 2017 +0200

    Qt client - remove deadstores (useless intitializations)

    See hrm Bug #695732

commit 98ed7f8a2bf508b73beded5ef3c560d8942f3cae
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Sep 11 20:25:34 2017 +0200

    Qt client - city dialog - fixed 3 potential memory leaks

    See hrm Bug #695360

commit ccd63f36ae195248e0c041b59c16e9f5e31f27bd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 9 23:27:00 2017 +0300

    Travis CI: Build tex AI

    See hrm Feature #696003

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f68898d53cc6df542b3be136079002ac8914ca26
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 9 19:47:38 2017 +0300

    Add dummy "3D" tileset type

    See hrm Feature #684342

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 96eb2548b34746c2799ab06004fa3c9c93bbdc61
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 10 04:04:15 2017 +0300

    Clarify that coast for UTYF_COAST unit must be SAFE coast

    See hrm Feature #696008

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8fbb5224246d98e678b87f4f9162a68de85554ab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 9 22:15:42 2017 +0300

    installer_cross: Build default AI types

    See hrm Feature #656548

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9317705e0b6d0de4d64a22ef0f5ee2912204ae3f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 9 19:45:35 2017 +0300

    Travis CI: Build sound support

    See hrm Feature #695983

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 10340b0b9a076fab1f8131ecf5617e1d09a04c08
Author: dftec <dftec.es@gmail.com>
Date:   Sat Sep 9 23:31:18 2017 +0300

    civ2civ3: No upkeep for pop units.

    Units with cost of population (Settlers, Migrants and Fanatics) do not pay
    upkeep of Shields or Gold. But are taken into account for the upkeep of
    Food (except Fanatics under Fundamentalism).

    See hrm Feature #681977

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 47eb1af6aacb93e3886724bda02d58480d77b739
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Sep 7 14:01:01 2017 +0200

    Bad luck isn't expected tech theft.

    A tech thief can get caught because of bad luck or because the victim is
    expecting the tech theft and the action always gets the thief caught when the
    theft is expected. A tech theft is expected when the number of previous tech
    thefts is higher than the limit set by the the Stealings_Ignore effect
    allows.

    When a tech theft fails because the tech theft action can't steal if expected
    the thief's owner gets a special message that informs him that this is the
    case. This code wouldn't consider the Stealings_Ignore effect when deciding
    the reason for the failed theft. The consequence was false positives when the
    actor unit got caught because of bad luck in a city with one or more tech
    thefts even if the Stealings_Ignore effect made the tech theft unexpected.

    Correct the code responsible for informing a tech thief's owner that the
    reason why it was caught was the number of previous tech thefts.

    See hrm Bug #695662

commit 18dca0cc173386c8e8681f49693359801ee633c0
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Sep 2 15:53:06 2017 +0100

    civ2civ3: let Carriers transport Land units.

    Since Helicopters can transport Land units, and Carriers can
    transport Helicopters and their cargo at the same time. (There are
    however restrictions on embarking/disembarking land units.)

    Also, fixed the helptext of Helicopters that says "infantry units"
    because they can actually carry any unit of Land class, including
    infantry and cavalry.

    Patch by David Fernandez.

    See hrm feature #681866.

commit 03adf0b27efb5a4a8bc9cd79ee0eca71842b1677
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Sep 9 16:27:08 2017 +0100

    civ2civ3: Simplify Super Highways rules.

    City center tiles get the trade bonus (if they are generating any trade)
    regardless of whether they are also enjoying a farmland bonus.

    Suggested by David Fernandez (bard@hostedredmine).

    See hrm feature #695978.

commit 40241196a48b7c7e73dc1151f50e0b4279b51d13
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Sep 9 15:57:57 2017 +0100

    civ2civ3: fix Nile floods effect.

    Since hrm feature #681980, it was giving an irrigation bonus to Desert+River
    tiles even before irrigation was built on them. This change restores 2.5
    behavior (albeit with a different underlying implementation).

    See hrm bug #695979.

commit 064ca6f2fdecebe7ef83f26a9bc6126cdf1b93be
Author: Andreas RÃ¸sdal <andreas.rosdal@gmail.com>
Date:   Sun Sep 10 16:59:58 2017 +0200

    Speed up AI on Freeciv-web by limiting the distance it will search for threatening enemy units.

    See hrm Bug #695447

commit f93f3398c5172bdd2c8ba5e9c1496ff2a530298c
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Sep 10 14:41:20 2017 +0100

    Refresh NEWS for old versions from S2_5.

commit 20d6b9996666d440bff221021a6580f692a520ad
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 8 01:03:09 2017 +0300

    Avoid featured text control sequences in CITY_LOG() and UNIT_LOG()

    See hrm Bug #661108

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f825ccf634f0e749e9c8870771110ce474f85dcc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 8 00:52:09 2017 +0300

    ruledit: Consider conflicting and hiding extras needed

    See hrm Bug #658576

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 04fbc36cbcaadd54dcb252cf84fcb595f3df9e6f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 7 23:43:35 2017 +0300

    Update README.fcdb to the fact that sqlite3 backend is built by default

    See hrm Feature #656098

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3c16ba4ce510890416801c779b037c1d1ce43a19
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 7 16:06:06 2017 +0300

    multiplayer: Darwin's Voyage gives only one advance

    Darwin's Voyage's balancing requested by mir3x

    See hrm Feature #692110

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1fd2fc4f9b60355fa61d1195bf2076954189dce4
Author: Christian Prochaska <cp.ml.freeciv.dev@googlemail.com>
Date:   Sat Sep 2 22:49:12 2017 +0200

    Updated msys1 environment (cairo)

    See hrm Bug #693241

commit c2a4848f947715e5f85cb87fd68a83e8bf2d9656
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 7 01:29:42 2017 +0300

    Travis CI: Build modpack installers

    See hrm Feature #695497

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a22f6385b6ef8164dadc093027465f1220a98336
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 7 01:20:25 2017 +0300

    civ2civ3: Adjust Cheating AI effects

    Patch by David Fernandez (bard)

    See hrm Feature #681976

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0a414616886b1379e643a02f23e9119954e7dea0
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Sep 2 10:32:05 2017 +0100

    Gtk3.x: don't set info popup as app_paintable.

    Expected to solve a problem where the background of the popup is not drawn
    at all with some versions of Gtk3 on Windows.

    (These calls were already removed from gui-gtk-4.0 by hrm feature #647932.)

    Reported by S.C. L. (Caedo), based on a previous fix by
    Marko Lindqvist (cazfi).

    See hrm bug #694328.

commit 39f4256065532b720e39d91caea104242373e120
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Sep 5 10:18:21 2017 +0100

    Remove changes section from README.civ2civ3.

    This will be covered by the NEWS file instead.

    See hrm bug #685285.

commit f05019b33720624e6c46c2551f5682dd52ce5865
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Aug 30 13:31:20 2017 +0200

    "Spy" utype flag is dipl battle strength only.

    Document that the only remaining use of the "Spy" unit type flag is to make a
    unit stronger in diplomatic combat.

    See hrm Feature #694112

commit 2e84c5c03166753ddcfb3fffcd09706660ee4997
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Aug 28 10:09:11 2017 +0200

    Make expected steal depend on the action.

    Stop using the "Spy" utype flag to signal that a unit can try to steal a tech
    from a city even when expected. Start using the action in stead. Rename
    "Steal Tech Escape" to "Steal Tech Escape Expected" and
    "Targeted Steal Tech Escape" to "Targeted Steal Tech Escape Expected" to
    reflect this. (This isn't an action split.)

    Tech theft is expected when the number of previous tech thefts from the
    target city is above the limit set by the "Stealings_Ignore" effect. When
    tech theft is expected the difficulty of stealing a tech goes up. Certain
    units, like the classic ruleset's Diplomat unit, will always fail when this
    is the case.

    The actions "Steal Tech Escape" and "Targeted Steal Tech Escape" was
    introduced in 3.0 to cover post steal escaping, an ability that used to
    depend on the "Spy" unit type flag. By making them cover expected theft too
    in 3.0 there is no backwards compatibility need to cover variants like
    "escape after stealing a random tech but always caught when expected". Had
    this waited for 3.1 4 new actions (all combinations) would have been needed
    for backward compatibility.

    Should a combination of targeted/random, escape/non escape and "always caught
    when expected"/"sometimes not caught when expected" not covered in this patch
    be wanted for 3.0 it is possible to introduce them as new actions in follow
    up patches.

    See hrm Feature #694097

commit d714f58c78039c246e176af26b0af185e38df9cb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 5 02:49:09 2017 +0300

    civ2civ3: Replace Output_Inc_Tile by Mining_Pct and Irrigation_Pct

    Patch by David Fernandez (bard)

    See hrm Feature #681980

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 55b8aa1871e150c9b241db88bbc1e9666695bab0
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Sep 6 11:39:06 2017 +0200

    Qt client - fixed "Reset zoom to default" not restoing origianl font sizes.
    Reported by Jacob Nevins <jtn>

    See hrm Bug #691751

commit 358e04e30fa00c04cbd70671cc7f7fb42b2012ed
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 5 02:47:59 2017 +0300

    Drop version number and dimensions from names of scenario files

    See hrm Feature #688329

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 614d6f44155bbd6c543b7c5cf3a31dad9341f93a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 5 02:46:41 2017 +0300

    Travis CI: Build qt-client

    See hrm Feature #694803

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 65df080f59609cd37e098d86d39692c0c795a0f0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 5 02:47:15 2017 +0300

    Fix tutorial description to speak of civ2civ3 ruleset

    See hrm Bug #694800

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 47111fb3ac855bb18439eeb741f15ae344aee8a7
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Sep 2 18:10:06 2017 +0100

    Look at more effects in city_tile_output().

    Many effects were skipped if not called in the context of a specific
    city/player, even though they weren't inherently tied to that
    context.

    This makes the values shown in the middle-click popup more accurate
    in some cases, and also affects the selection of start positions.
    Notably, civ2civ3's Desert+River irrigation bonus and Oil Well
    bonuses are now accounted for in these places.

    The specific effects are Output_Add_Tile, Output_Inc_Tile,
    Output_Per_Tile, Output_Penalty_Tile (unlikely to happen in practice),
    and Output_Inc_Tile_Celebrate (but no callers currently check this
    hypothetical case, so this one has no effect currently).

    See hrm bug #694736.

commit b097513ea57b2783a08e6138860e7a72592311ff
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Sep 2 15:56:57 2017 +0100

    experimental ruleset: enable cultural victory.

    (Just changing a setting default, so players can change this.)

    See hrm feature #694732.

commit 7a318e8a46c3ac60dc6efaf21d107e9efc8a73c2
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Sep 2 15:33:22 2017 +0100

    civ2civ3: remove NoPollution from Forest/Jungle.

    Because (a) as currently implemented it was preventing fallout on those
    tiles too, (b) it doesn't generally do anything to reduce the overall
    chances of pollution, which was the original intent.

    Patch by David Fernandez.

    See hrm feature #681860.

commit e9e960bd9504e022faf181e477fa83dc27229e92
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Sep 2 15:24:58 2017 +0100

    civ2civ3: Disable city centre minimum food.

    The only effect this has is that city centre tiles which are Desert will
    lose 1 food if mined.

    Patch by David Fernandez.

    See hrm feature #681856.

commit cf56e9ae4dedeac0c1f7048351636bece20f1a37
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Sep 2 14:42:13 2017 +0100

    Specify unit.outpost/airstrip for all tilesets.

    The tilesets changed here don't have distinct unit activity icons, and
    civ2civ3 was already using them via fallbacks, so there's no functional
    change for civ2civ3; but this means that some other ruleset can safely
    use outpost/airstrip as a fallback for something else.

    See hrm feature #657385.

commit 83bc4f138722aada4b7dc79ecc3a05155eb1c4da
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Sep 2 14:10:37 2017 +0100

    Airstrip/outpost graphics for isotrident/hex2t.

    Since isophex uses isotrident graphics, this completes support for these
    bases in the supplied tilesets.

    Airstrip is taken from Trident (and the recoloured airbase too, for contrast);
    outpost graphics were drawn by me.

    See hrm feature #657384.

commit 16a7729276c3f448413b465e27b4022742042c7f
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Sep 2 12:21:10 2017 +0100

    oil_rig graphic for trident, isotrident, hex2t.

    Copied from isophex (whose oil_rig is in turn based on oil_mine, and was
    adapted by GriffonSpade).

    See hrm feature #694717.

commit 6bde54a51de7da40c463c154795b20a8ee48f363
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 3 23:24:00 2017 +0300

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ce4f81cc9f265d9c2126196efc0713ee28601266
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 28 22:11:31 2017 +0300

    gtk3-client: Do not use CAIRO_OPERATOR_DIFFERENCE on windows with ancient cairo

    Crash reported by Griffon Spade

    See hrm Bug #693241

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 857c4fe6af4b13f99a5381dcf37d70510398ac15
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 29 00:04:27 2017 +0300

    Add tileset_type_set()

    See hrm Feature #693687

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6618f1d2d9219f5fbaf5a48c756a8a6f4265b090
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Aug 28 14:41:31 2017 +0100

    Update combat help for some 2.6 changes.

    Also note in comments where each described combat modification comes from.

    See hrm feature #693658.

commit f08238bb542c45b276303a95be80edca250c06f6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 28 22:20:17 2017 +0300

    Achievement Literate is about literacy percent, not absolute score

    Requested by David Fernandez (bard)

    See hrm Bug #685252

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bfe299eb02e547f1a5c1f07916c7c9a0f2aa1480
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 28 22:11:52 2017 +0300

    Explicitly set size of sequences array in generate_save_name()

    See hrm Bug #693442

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bbc45fc646fa353bf448a73ccd5c692949f947b8
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Aug 27 15:46:50 2017 +0100

    Fix typo'd comment in stub ruleset.

    See hrm bug #693398.

commit c900e803ef7c7243a4c1a9e5a18ee097a8bba25f
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Aug 27 12:48:20 2017 +0100

    Hexemplio Hills/Mountains tweak by GriffonSpade.

    "Removes the protruding 'tab' that extends from the top half of the left
    and right male connectors, reducing it to the rounded hill section."

    See hrm feature #693375.

commit 014ccf72e71ebfb39068901175b614c572b42fab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 29 00:07:06 2017 +0300

    dos2unix toonhex.tilespec

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0f4d0042db97acda69cd086639cb28aed42a821a
Author: Joan Creus <joan.creusandreu@gmail.com>
Date:   Mon Aug 28 19:28:52 2017 +0200

    Update to Catalan ruleset translation

commit aa81f0b2a93de1fa41a038fa0f42006dde4755d4
Author: Joan Creus <joan.creusandreu@gmail.com>
Date:   Mon Aug 28 19:14:11 2017 +0200

    Catalan translation update

commit d4f2767284ebebc1f2eee29dafd59aebcd04d4d3
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Aug 26 19:23:10 2017 +0100

    Stop referencing "airfield" in tilesets' extrastyles.

    It should be 'airstrip'. (For the civ2civ3 ruleset at least, we were
    getting away with no ill effects.)

    Reported against Hexemplio by GriffonSpade.

    See hrm bug #693242.

commit 15720d55ef50d3f1c5d45bc705d9b9115b491474
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Aug 24 07:14:12 2017 +0200

    AI: consider the Stealings_Ignore effect.

    A city's server.steal is now modified by the Stealings_Ignore effect. Stop
    checking server.steal directly in the AI. Factor the code that modifies it
    into the new function diplomats_unignored_tech_stealings() and use it in the
    AI.

    See hrm Bug #691824

commit 8b9ca1a51850ca0ea00c9a9226595c62f1035f3e
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Aug 26 18:22:33 2017 +0100

    Fix error in comment about city radius.

    Report and patch by frank e (aka Dunnoob).

    See hrm bug #692486.

commit 71f3841e86c78f5c185e5f90f5d9607e98a5d469
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Aug 23 23:07:20 2017 +0100

    Hexemplio: fix glitches in numbers.

     - city/goto numbers: 1 and 9 one pixel too narrow
     - F/P/T: overflow "X" misaligned by one pixel

    Also remove long-unused "explode.nuke_00" etc.

    See hrm bug #692651.

commit 7f76a1c9c55d0d6d7001445dbde3dd7213aafbb3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Aug 21 13:01:37 2017 +0200

    Check rulesets as a part of Travis CI builds.

    Make Travis CI complain about rulesets to broken to load.

    See hrm Feature #692598

commit b3dc61c7a1e3e3fe0296021e2f5c8d912a35ea1c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Aug 21 15:11:52 2017 +0200

    Add the new rulesets_not_broken.sh test script.

    Manually checking that each ruleset developed with Freeciv loads is error
    prone. It is easy to forget a ruleset or to misread an error message followed
    by the loading of another ruleset as a successful load.

    Introduce the new script rulesets_not_broken.sh. It makes it easier to detect
    ruleset errors.

    Not hooked up to the build system or to Travis CI yet.

    See hrm Feature #692021

commit 96d3eec093dbb5f177300fd0cf3b11f82135bb49
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Aug 23 13:52:24 2017 +0200

    The fcdb server command needs --auth.

    Have the fcdb server command tell that it needs to be activated when the
    Freeciv server start when someone tries to use it without having activated it
    first.

    See hrm Bug #692525

commit 032c0fab7031db8dbc45c2588e1e46c41589dad2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Aug 22 18:25:31 2017 +0200

    Include <stdarg.h> to actions.c

    Found by tests/va_list.sh

    See hrm Bug #692342

commit 71d30ef4cf4bed00c5880fbbbb4cb3e32e57bb17
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Aug 21 13:32:59 2017 +0200

    Add an unsafe Lua environment example.

    Add the new ruleset_is.lua check. It checks the current ruleset directory and
    uses its exit status to signal if the ruleset is as expected.

    This serves as an example of what can be done with the lua server commands
    unsafe-* sub commands. I also intend to use it in test that checks that all
    the rulesets that lives in Freeciv's version control loads.

    See hrm Feature #692310

commit b5d03567c2dced27e0b591db9d7b6ea17e7ebb04
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Aug 21 14:34:45 2017 +0200

    Allow running unsafe Lua via server commands.

    Add the two new sub commands unsafe-cmd and unsafe-file to the lua server
    command. Limit access to it to the console and connections with cmdlevel
    'hack'.

    The new sub commands runs the script in an instance without the security
    restrictions of the instance where the ruleset, scenario and other lua sub
    command runs.

    Lua code from scenario savegames and rulesets will obviously not run in this
    context. (A user could be tricked to load an edited ruleset or savegame.)

    My main motivation for this feature is that I want the ability to write tests
    in Lua that communicates with the outside world.

    No signal support is currently included. Not sure if should be included. One
    the one hand it would make it easy to write certain tests. On the other hand
    its has security implications. Supporting the game signals allows a non hack
    player to run unsafe Lua code by triggering the signals it listens too. (The
    unsafe Lua that listens for signal must already be put there. Think social
    engineering and/or buggy unsafe Lua code.)

    See hrm Feature #692001

commit 68a3f97be1fec34f26b36d8ad1f89c0497624c2e
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Aug 21 21:27:16 2017 +0100

    Fix multiplayer ruleset Darwin's Voyage.

    An edit was missed during gna patch #6531, leading to a Lua error
    upon building Darwin's Voyage, and no free techs.

    Reported by "pungtryne" on the forum.

    See hrm bug #692096.

commit 1a5e494df91b10e2b937d51ac375c7b155b69c39
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Aug 21 16:27:33 2017 +0200

    Unit with "Spy" may not be able to escape.

    A unit type with the "Spy" utype flag may be unable to perform any actions
    where it can escape when done. Check for ability to perform escape actions
    rather than UTYF_SPY when determining if a "SuperSpy" can use it's ability
    to always escape.

    See hrm Bug #692039

commit 2eb551044cc58aeb5008524c67fc170ea23b0a8e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Aug 21 13:07:00 2017 +0200

    Fix civ2 ruleset syntax.

    Add missing comma. Already fixed in 3.0.

    See hrm Bug #691976

commit ecae69f14382e6586617a483c40c8aa792fe1dfd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Aug 20 16:11:44 2017 +0200

    AI: check for Escape actions, not "Spy" flag.

    The AI tries to determine if a unit may survive a tech theft mission by
    looking if it has the "Spy" unit type flag. But surviving tech theft is now
    determined by what action is performed. Check for the ability to perform an
    tech theft action that involves escape instead.

    See hrm Bug #691825

commit b5012f25acbb5c6eb00744a6716665c8eef1688e
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Aug 20 12:49:29 2017 +0100

    Scenarios: add authors, update descriptions.

    See hrm feature #691819.

commit 4fc4be1453892c2a5990abedef5f3587cb24052c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Aug 18 16:20:51 2017 +0200

    Escape split the action "Poison City".

    Stop relying on the "Spy" unit type flag to decide if performing the action
    "Poison City" consumes the actor unit. Split out a new action called
    "Poison City Escape" from the original action. The new action will have
    its actor try to escape. The original will always consume the actor unit.

    This is the last use of the "Spy" utype flag to determine if an action
    consumes a unit.

    See hrm Feature #691637

commit 4a3ff8dbe9c7038a835a5fe418b39c635c1024fc
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Aug 18 15:24:46 2017 +0200

    "Spy" utype flag implies "Diplomat".

    This in enforeced in sanity_check_ruleset_data(). Checking for the "Spy"
    unit type flag when the "Diplomat" unit type flag isn't found is therefore
    redundant.

    See hrm Feature #691620

commit e52d28737fd9f90e4a476ed042ef2adec4cfc3c4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Aug 18 14:37:03 2017 +0200

    civ1 and alien don't have city poisoning.

    Don't configure it.

    See hrm Bug #691609

commit a9e9227b2167087d3529b2d7bd64461ef7ead9dd
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Aug 19 23:16:43 2017 +0100

    Fix Qt format error in freeciv/fr.po.

    In consultation with "Igx The Dreaming Drummer..."

commit 1b65f10d324248f357fad214f027afe5eaaa806b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Aug 11 02:50:24 2017 +0200

    Escape split the action "Sabotage Unit".

    Stop relying on the Spy unit type flag to decide if performing the action
    "Sabotage Unit" consumes the actor unit. Split out a new action called
    "Sabotage Unit Escape" from the original action. The new action will have
    its actor try to escape. The original will always consume the actor unit.

    See hrm Feature #691360

commit 17f6cc4a6d055a51e1a85d71ba6d29fea68746dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 14 06:58:36 2017 +0300

    Drop gratuitous i18n marking around muskogee.ruleset nation groups

    Reported by Jacob Nevins

    See hrm Bug #690152

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 82657195c185763779b3c4d5c1bcd74c842364c0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 13 23:19:25 2017 +0300

    Make max scorelog line length 120 bytes

    Reported by MÃ¡ximo CastaÃ±eda (lonemadmax)

    See hrm Bug #690381

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a8c65e848d54d1324c5895497b4902b1e5cd8c1b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Aug 14 10:32:51 2017 +0200

    Explicitly set ui_name_steal_tech_escape

    so it is easy to discover how to rename the action.

    Reported by Marko Lindqvist

    See hrm Bug #690532

commit 744b109e7e359fe6382d6265ca67c05dee8394da
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Aug 13 15:27:28 2017 +0100

    Add "Performance" column to city report.

    Also, cope with incomplete client knowledge when breaking down culture
    in the city dialog.

    See hrm feature #690343.

commit cb3dec612fdc9460c0335dd48219ba7bd9681a71
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 15 06:53:37 2017 +0300

    Copy FAQ version from S2_5

    See hrm Feature #690215

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3c271ed464f7660a32269b05955b29ff5fd7dc2b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 13 23:12:28 2017 +0300

    Fix civ2/game.ruleset syntax

    See hrm Bug #690203

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 354f15fd8438e63391c98fcaf33b69a7702852bd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 14 01:50:38 2017 +0300

    Update Finnish translation of ruledit domain

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a25964c9ec88a285b574b86c025638b48e173f51
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 13 08:41:46 2017 +0300

    Add startpositions for up to 89 nations to large earth scenario

    Patch by Rhue of L

    See hrm Feature #688280

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 78a7615007ccd92b899bce090bc55aae0e6c02e6
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Aug 7 23:14:59 2017 +0100

    es.po spot fix: fix "Migrants" translation.

    A stray leading space in the translation was causing this unit to
    appear nested in the help when using the Spanish translation.

    Report and fix by David Fernandez.

    See hrm bug #662732.

commit 5b5876f5ffad75cdd1fec14d13b0095302625757
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 12 10:03:15 2017 +0300

    Update Finnish translation of nations

    Translations by Sini Ruohomaa

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d02bc3fad23d8d70cc0a6a4f346fb71c3d93299c
Author: Andreas RÃ¸sdal <andreas.rosdal@gmail.com>
Date:   Fri Aug 11 17:35:26 2017 +0200

    Test Travis CI build.

commit 5c911f6cf1052493d93a622d275038497f386a5c
Author: Andreas RÃ¸sdal <andreas.rosdal@gmail.com>
Date:   Fri Aug 11 17:32:08 2017 +0200

    Run server autogame as a test on Travis CI and add Travis CI build status to README.md.  See hrm issue #689652.

commit a3679329f965400d99e1c1639f892789f7287ca7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Aug 9 10:25:23 2017 +0200

    Escape split the tech theft actions.

    Stop relying on the Spy unit type flag to decide if performing the action
    "Steal Tech" or "Targeted Steal Tech" consumes the actor unit. Split the new
    actions "Steal Tech Escape" and "Targeted Steal Tech Escape" from the
    original actions. The new will have its actor try to escape. The original
    will always consume the actor unit.

    See hrm Feature #689526

commit c2eb422440afcb44b671c10212a55572c2a929c4
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 16 00:08:06 2016 +0100

    Miscellaneous string-related tweaks.

    Typo fixes, rewordings, TRANS comments, etc.

    See hrm bug #689474.

commit 2f24fe524fb112b9318f3a047c83b2a775b8973d
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Aug 8 23:34:19 2017 +0100

    Fix strings using Lua research_name_translation().

    See hrm bug #689470.

commit 955282da10834f5c569b1b749a2d721b7cf738da
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Aug 7 22:50:11 2017 +0100

    Add freeciv-gtk3.22 to .gitignore.

    Patch by Marcel Admiraal in hrm bug #688807.

commit edc1525206a0ad121b736a5cbe6cdc97306ba61b
Author: Christian Prochaska <cp.ml.freeciv.dev@googlemail.com>
Date:   Sun Jul 30 21:40:28 2017 +0200

    Updated msys1 environment (toolchain)

    See hrm Bug #682703, Bug #681877, Bug #681643

commit 43da82865bae8623c5d8f906ea6c25a08e34e83a
Author: Andreas RÃ¸sdal <andreas.rosdal@gmail.com>
Date:   Sun Aug 6 10:38:09 2017 +0200

    Test of Travis CI.

commit 76db9c418f7649fce890973fa55266d7e524ae14
Author: Andreas RÃ¸sdal <andreas.rosdal@gmail.com>
Date:   Sun Aug 6 10:33:36 2017 +0200

    Add support for building Freeciv on Travis CI.

    See hrm Bug #688359.

    Signed-off-by: Andreas RÃ¸sdal <andrearo@pvv.ntnu.no>

commit 33f347b05e47815f482ab8483367dc8d4573401e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 4 17:31:26 2017 +0300

    Hexemplio: Move patrol icon to unitextras.png

    Activity offset is not applied to patrol icon, so it should not
    be in activities.png

    Reported by Griffon Spade

    See hrm Bug #686635

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b1d431695ea593945a3380e3b7b2ba42e2dfd7c0
Author: Joan Creus <joan.creusandreu@gmail.com>
Date:   Sat Aug 5 18:57:24 2017 -0700

    Updated Catalan translation

commit 1c315e037d6974cdbbef244fa0de5ec222a9643d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 4 17:10:18 2017 +0300

    dos2unix hexemplio spec-files

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7ae3c00aaf8bef292ebe87670e50f3c28f4abdef
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 30 11:11:17 2017 +0300

    Document what icons are considered "Auto" for activity_offset purposes

    Reported by Griffon Spade

    See hrm Bug #686635

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e510bd76eb74054ea1d8a9215b505fb233adf1d4
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Aug 1 21:58:29 2017 +0200

    Qt client - fixed icon aspect ratio not preserved in progress bar

    See hrm Bug #683173

commit f1d026ed5ee2dc975e7789756a8fafd7ffb88a53
Merge: bb3264f29b 90868129a4
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Aug 1 21:28:22 2017 +0200

    Merge branch 'master' of https://github.com/freeciv/freeciv

commit bb3264f29bd0e41d7e45d0e3b5b8cd6ab9d7c569
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Aug 1 21:22:43 2017 +0200

    Qt client - add menu option/shortuct to reset tileset to default scale
    Suggested by 'Griffon Spade'
    See hrm Feature #683166

commit 90868129a4c63df17663adf90e379a2b21f4ecd7
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Aug 1 21:22:43 2017 +0200

    m.txt

commit 378e3d5c641481edbd3aad85f896a1eaab748280
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Aug 1 21:11:34 2017 +0200

    m.txt

commit d3425f0a38637471fb507279850e9ebb013cd229
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 29 08:03:38 2017 +0300

    Fix crash on audio tag selection

    Wrong version of the Bug #683571 has been committed, resulting in a
    segfault in audio tag selection. This fixes it.

    See hrm Bug #683571

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 786587c6d4eba4696b410dea1b7253b1b8a71909
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jul 23 13:08:35 2017 +0100

    Remove unused isotrident/ocean.{png,spec}.

    These were added in 2007 (PR#35908), but never used or shipped.

    See hrm bug #678446.

commit fdbcade407d2808977796116feeef7fb2cab67e7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 23 00:10:33 2017 +0300

    Add topology compatibility levels

    Incompatibility of the non-hex iso and non-hex overhead topologies
    is considered only soft one, and causes no warnings. All other
    incompatibilities are hard ones and cause warnings.

    Requested by David Fernandez (bard)

    See hrm Feature #653727

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 50bc1d698b588a9545edaf72b5236ec79b00057c
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 22 09:59:11 2017 +0100

    Comment that citizens_graphic/alt don't work.

    They were defined in 2003, but never implemented.

    See hrm bug #685211.

commit 9c8d453d727529008c0e57509ee327e14e66102f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 19 13:25:53 2017 +0300

    Add missing dlls to msys2 based installers

    Reported by GriffonSpade

    See hrm Bug #684472

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c581592201bc65e5dbd0e94dd169d0edca8dd08c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 19 02:27:19 2017 +0300

    Fix track selection

    - Fix reselecting the only track matching the tag
    - Return correct track number when newly selected track
      has lower number than excluded track

    See hrm Bug #683571

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ad7e36950018b13576c25ae40c71626e127797e0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 19 17:23:25 2017 +0300

    Increase max number of players to 500

    See hrm Feature #677144

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b5f94c4b83c3d71c8fdd49075a77516225e26fcf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 19 02:26:34 2017 +0300

    Reinitialize have_huts to FALSE when generating new map

    See hrm Bug #682576

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7a9d3acfc9b6fe638a09de4fc3c4ccf96ff07aab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 19 02:26:16 2017 +0300

    Occupied enemy cities always impose ZoC

    Even if there's only UTYF_NOZOC units inside.

    See hrm Bug #657406

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dd7764830e0a01be68fb6f49fb902f26d16b19fb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 18 00:08:07 2017 +0300

    Set submarines to "Subsurface" vision layer in supplied rulesets

    See hrm Feature #682506

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0d789034c2415002571376d46db3698bd4e3c42f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 18 00:07:49 2017 +0300

    Add "vision_subs_sq" property to bases

    See hrm Feature #682512

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 71e428f643d3dea7c02ae968a9a966da146c952e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 18 00:07:28 2017 +0300

    Hide units at "Subsurface" vision layer

    See hrm Feature #682511

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6bc816b3c3f38ed8b92da1b911e26ab23a00326b
Author: dftec <dftec.es@gmail.com>
Date:   Sun Jul 16 10:52:15 2017 +0200

    civ2civ3: non consuming inv. city and est. emb.

    Having to waste 30 shields to know the defenders of an ancient city
    encourages blind attacks that are more based on the knowledge of the enemy
    player (or the AI) than on the actual situation of the game.

    Fix this by making agents survive city investigation.

    If tech leakage was enabled (and linked to embassies), a game against few
    players was different compared to many players when you needed to build one
    diplomat per embassy. (This affected the value of the Marco Polo wonder too)

    There was a huge difference when players could receive the embassies for
    free from a treaty compared to players that had to waste 30 shields per
    embassy.

    Fix the tech leakage issue by making agents survive embassy establishment.
    The alternative was to change tech leakage method. This way, where you have
    to visit a city of each player in order to reduce the cost of his known
    techs, is better.

    The AI likes to create embassies with every player. Non consuming embassy
    establishment may help it.

    Patch by David Fernandez

    See hrm Feature #683542

commit a3eae6467664f6e547b59631cc7c20ea01e0e0fd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 6 12:43:41 2017 +0200

    Make it easy to check act prob certainty.

    The new function action_prob_certain() checks if an action probability is
    certain the the action is enabled.

    See hrm Feature #674443

commit b2901867697c9c1a591b48b462ac3ec6285ee4e9
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jul 16 15:36:10 2017 +0100

    Casus belli changes player mood to combat.

    This affects the music system. It is provoked by a diplomatic incident
    (unit actions) or an alliance breaking due to an ally ending up at
    war, and naturally lasts for a turn or two.

    See hrm feature #683573.

commit 8762c8af7cb3f2250f355155ceb7c826084e8362
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jul 16 01:49:44 2017 +0100

    Refresh client on entering combat mood.

    This ensures that the music changes at the right time.

    See hrm bug #683572.

commit 1129b2931ede64b73520cd4105ceced69be2d5b0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 16 23:53:00 2017 +0300

    Check that "Fusion" style has been succesfully created

    See hrm Feature #683528

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d626b611306e1d04f555570f112d3d94c08fba5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 16 23:50:22 2017 +0300

    Add missing space to AI log message

    See hrm Bug #683175

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit df2916cf993c4090f11b57f8923795c961bd8228
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 16 23:50:03 2017 +0300

    Make help_widget::add_extras_of_act_for_terrain() label parameter const

    Reported by David Fernandez (bard)

    See hrm Bug #683512

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a9d9c9a1bbe8f6de0486280c42bf7688646a186b
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 15 19:54:00 2017 +0100

    Document AI skill level handicaps etc in help.

    See hrm feature #683525.

commit 4beb5c163edc716da17b090b3352d798e557859e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 16 22:21:31 2017 +0300

    Add Subsurface vision layer

    See hrm Feature #679427

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ef6e8fabb7f7dfec35f3ee030bfdabc7aebdca80
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 15 19:54:35 2017 +0300

    Update tileset-demo scenario to S3_0 format

    See hrm Feature #677616

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f945c863f89944e3a98d340ac7d55f0cd835207d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 15 19:54:08 2017 +0300

    Update tutorial scenario to S3_0 format

    See hrm Feature #677617

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0160c227d971d4952a687ed9cd8422203eb6166d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 15 19:53:49 2017 +0300

    Update north america scenario to S3_0 format

    See hrm Feature #677615

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bbf4ec9bd96291466e3f3032994f5c2956e91f51
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 15 19:53:27 2017 +0300

    Update japan scenario to S3_0 format

    See hrm Feature #677614

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 18fa4d1123f7fb03bbd2e2f4e3d5317a80be14c6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 15 22:18:48 2017 +0300

    Add exchndl.dll to msys2 installer packages

    See hrm Feature #683174

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 813e3fc064a35d2bc8e24bb093621a135e799b8a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 15 22:18:27 2017 +0300

    Update msys2 environment to 170714 level

    See hrm Task #682538

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2418b284a66659043bb9941c94df0ebda2b9675b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 14 02:28:22 2017 +0300

    Add librsvg-2-2.dll to msys2 gtk3- and gtk3.22-client installers

    Reported by GriffonSpade

    See hrm Bug #682832

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8ef8bb0bd74825aade4603b46ba75e6fc0be77a7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 14 01:49:42 2017 +0300

    Respect 'directory' parameter at qtg_get_useable_themes_in_directory()

    See hrm Bug #682731

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit db5eb4d69ad21ee1f510b314807f9cd67e7f3994
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 14 02:27:02 2017 +0300

    Make all river outlet sprites mandatory

    See hrm Feature #657130

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fdd25820e6523c4499a98244005cbf2c47fb8d8b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 14 02:26:39 2017 +0300

    Fix qt-client get_gui_theme_directories()

    Stopgag fixes
    - Call fileinfoname() with NULL second parameter, not ""
    - Support directory names longer than 255 bytes
    - Copy correct number of chars as name of the directory

    See hrm Bug #681311

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fedf6e2698a6cb06bf34c9000a4295c7c7d069d3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 12 07:45:42 2017 +0300

    Remove compress and compresstype settings from tileset-demo scenario

    See hrm Feature #682572

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 955bf3bca4437646c666d045f31133a5ebce7a4c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 12 03:51:11 2017 +0300

    Fix fileinfoname() crash in WIN32_NATIVE

    See hrm Bug #682522

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 56beb4419576749c81a451b1604ff15ca9c0ac0b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 12 02:37:12 2017 +0300

    Use phase_seconds from the savegame

    Requested by Andreas RÃ¸sdal

    See hrm Feature #662023

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f5470150cfd038dfb6c0e20ab9f39095c849f3bf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 12 02:38:28 2017 +0300

    Rulesave: Save base "vision_invis_sq"

    See hrm Bug #682513

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 20437a1535acda505f2fb8925ea1c09f5ddf4103
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 12 00:48:56 2017 +0300

    Update italy scenario to S3_0 format

    See hrm Feature #677613

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 58db60cf3cbd5edf6d627f5f3fe1977c6ca08915
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 12 00:48:39 2017 +0300

    Update iberian peninsula scenario to S3_0 format

    See hrm Feature #677612

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1437703779b40fdddeb2a150224f371bbcea018a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 12 00:48:22 2017 +0300

    Update hagworld scenario to S3_0 format

    See hrm Feature #677611

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 84233959d20b7300549c0a300c476f1f3060e2de
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 12 00:48:04 2017 +0300

    Update france scenario to S3_0 format

    See hrm Feature #677610

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f7c27836fc1904a8241d187732785a5aaad8b0b3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jul 11 10:05:33 2017 +0200

    Split the building sabotage actions.

    Stop relying on the Spy unit type flag to decide if performing the action
    "Sabotage City" or "Targeted Sabotage City" consumes the actor unit. Split
    the new actions "Sabotage City Escape" and "Targeted Sabotage City Escape"
    from the original actions. The new will have its actor try to escape. The
    original will always consume the actor unit.

    See hrm Feature #682342

commit e65198e55b29155069de0050746a94d3e58575a7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 13 12:28:38 2017 +0300

    Update Finnish translation

    This is just S3_0 translation msgmerged to master.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8911d272fabceac5fbe7717a1b4645c952e8b1fc
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 8 23:02:40 2017 +0100

    Isophex update from GriffonSpade.

     - Added lake terrain
     - Updated floor and coast
     - Changed river mouths to new versions
     - Fixed river connectors to all properly connect
     - Added new NW and SE river mouths (fixes hrm feature #657132)
     - Add distinct tx.oil_rig
     - Add ts.aluminum, elephant, rubber, saltpeter, uranium
     - Reorganise graphics/grids

    See hrm feature #680743.

commit 79ce0d89d665cfd568bbf0a19aac8769247b0870
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 11 18:46:05 2017 +0300

    Make PLAYER UINT16 type

    See hrm Feature #673993

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 603ee5ef00037c0fcb323b53cdc8810723fb1850
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 11 18:45:38 2017 +0300

    Do not make tile info window app paintable

    Reported by S.C. L. (Caedo)

    See hrm Bug #656549

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5702ad8fcfb267bdbb1e954b1bdb7083306d6624
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 11 18:45:10 2017 +0300

    Fix msys1 ruledit installer build

    See hrm Bug #680074

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ba2073703806fcbc4a9d483f8a1d19d2732bce84
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 8 19:57:05 2017 +0100

    Remove ZOC flag from civ2civ3/sandbox Sea units.

    It was mostly ineffective (deliberately) but caused misleading help.

    Patch by David Fernandez (bard@hostedredmine).

    See hrm bug #657408.

commit 92b8ab1a3b04e1ca36807d6f301c6bdfb7decd15
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 8 19:03:13 2017 +0100

    Fix client-side accounting for Traderoute_Pct.

    Was causing city dialog trade popup to contain "(unknown)" and sums not to
    add up.

    Reported by Marko Lindqvist (cazfi@hostedredmine).

    See hrm bug #660936.

commit 294257fd7426cc3464faeb3b0ddd04b24d3b5de8
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 8 16:42:39 2017 +0100

    Fix typo 'Andew Johnson' in american.ruleset.

    See hrm bug #681847.

commit 8e68cf96023f28d48bd7533adf96422800627145
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 8 16:08:52 2017 +0100

    Fix sandbox ruleset for Partial_Invis removal.

    This was missed in hrm feature #673389.

    See hrm bug #681855.

commit 47b040a3e3bec3fefe01d5ab3919ca757040ab64
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 9 00:58:29 2017 +0300

    Update europe-200x100 scenario to S3_0 format

    See hrm Feature #677618

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6c0e5401889a6a2864ad84c859f9b565fb03608f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 9 00:58:12 2017 +0300

    Update europe_1901 scenario to S3_0 format

    See hrm Feature #677609

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 820d4bf686bb275efa57377fd3d6e0f820aae2f9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 9 00:57:51 2017 +0300

    Update earth-80x50 scenario to S3_0 format

    See hrm Feature #677608

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 50e00749e7e86409a237efdfabe73ab967466678
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 9 00:57:29 2017 +0300

    Update earth-160x90 scenario to S3_0 format

    See hrm Feature #677607

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 69a5015fd183eebe129568f965f683df2052031d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 9 00:57:12 2017 +0300

    Update british-isles scenario to S3_0 format

    See hrm Feature #664358

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 675551cf90c23c7df9921196f81550e4b5dc4c8f
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 8 20:30:22 2017 +0100

    civ2civ3/sandbox: roads are AlwaysOnCityCenter.

    This is mainly to fix a gameplay glitch that Big Land units could not
    attack cities on rough terrain whose owners did not know
    Bridge Building, because their city had no roads. The side effect is
    that cities can be built to bridge rivers once again.

    Patch by David Fernandez (bard@hostedredmine).

    See hrm feature #676162.

commit ae6ece86e77b24c30b9c446c47457d8432f00197
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 8 22:48:04 2017 +0300

    Update msys2 environment to 170707 level

    See hrm Task #678380

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 471eb9c743aa8c3f649d3620edba0da3df95c774
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 8 15:42:47 2017 +0100

    Prerequisites for civ2civ3/sandbox Oil Platform.

    Add extra requirements Miniaturization + Deep Ocean; this only
    reinforces what is already in effects.ruleset as Mining_Possible, but
    gives better online help.

    Also, conflict with Buoy, because having both in the same tile does not
    look good.

    Patch by David Fernandez (bard@hostedredmine).

    See hrm bug #650195.

commit d428d60e1e90e78cc1c8f015548e81f2f88447b7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jul 4 12:28:53 2017 +0200

    SDL client: centralize untargeted action choice.

    See hrm Feature #680862

commit 4160f5ea3e4e2fd6a7210a5ed18a7119a305c1bd
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jul 5 21:34:50 2017 +0100

    Add parent argument to some QAction constructors.

    Compile fix after hrm feature #675927, by mir3x and myself.

commit c4e2937922b536cb74e75d430406183eb0a62e6d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jul 3 14:33:31 2017 +0200

    Qt client: centralize untargeted action choice.

    See hrm Feature #680663

commit f70a58f1300ad5214c2eb9c3374b9d0d77a21f1f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jul 3 15:03:02 2017 +0200

    GTK clients: centralize untargeted action choice.

    See hrm Feature #680662

commit 4ca3c27dc125e5b07bddbaa600281f06752d1511
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Jul 5 09:41:36 2017 +0200

    Qt client - add icon to progress bar
    Suggested by 'bard'
    See hrm Feature #677588

commit 758d43ffb759b71b06961cab5099553fbef470d7
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Jul 5 09:38:13 2017 +0200

    Qt client - added button with menu to change ai mode and ai level in player dialog
    Suggested by 'bard'
    See hrm Feature #675927

commit a148b8332082be6cb7df449b40ab5189f7a330b0
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Jul 5 09:34:29 2017 +0200

    Qt client - add information to tooltip about unit/improvements obsolescence
    Suggested by 'bard'
    See hrm Feature #673358

commit 674951a45f81b71feb7d222f2622b00f47737efb
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Jul 5 09:30:41 2017 +0200

    Qt client - added apply button to tax rates dialog.
    Suggested by 'bard'
    See hrm Feature #673361

commit 64597b7bf8575932d303f2d7985fbc2ca8530370
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Jul 5 09:15:02 2017 +0200

    Qt client - allow maximizing/minimizing chat via double click
    Suggested by 'bard'
    See hrm Feature #673598

commit b05db20fb2c6a884524fc93fa507d5e8e6618a05
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Jul 5 09:03:22 2017 +0200

    Qt client - governor not updated on first double click
    Reported by 'bard'
    See hrm Bug #673597

commit 2efe6b2d5954114d6f0110083b00d07b89300ede
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Jul 5 08:58:14 2017 +0200

    Qt client - recenter map shortcut not working during keyboardless goto
    Reported by 'bard'
    See hrm Bug #673353

commit b5ce211ef1d5a7873b91c83921efb74f47b48a34
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Jul 5 08:29:35 2017 +0200

    Qt client - added all missing links to help page
    See hrm Feature #663031

commit 77a52d45f39c468024fa23b5d01077ba94c7119d
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Jul 5 08:07:13 2017 +0200

    Qt client - add buttons next and previous topic in help dialog

    See hrm Feature #662639

commit 5538707932516cf046d236cfb23fcadd50a34d9f
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Jul 5 08:02:58 2017 +0200

    Qt client - add scrollbars to unit selector

    See hrm Feature #662270

commit d834cc701e3a40c3f315ee7e007da91f82488008
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Jul 3 23:36:43 2017 +0200

    Qt client - added loading/reloading lua script

    See hrm Feature #661842

commit 31dc99d42e00c1b96d8def8eb3b7025bb2c193a9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 2 23:33:08 2017 +0300

    Place cities and units to tex map

    See hrm Feature #664482

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d404227880c2f0c43e6faf1cd15e4afe0dd878dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 2 23:32:31 2017 +0300

    Add ocean workers count to default AI stats

    See hrm Feature #664181

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 30d43a885eca3482c1c32534c59a7d7cdd345849
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 2 00:53:38 2017 +0300

    Drop svn repository support

    See hrm Feature #679223

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3f2eaae60ebffccde812de11c9a688e400eec8a4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 2 00:53:07 2017 +0300

    installer_cross: Execute gtk-update-icon-cache.exe when installing

    See hrm Feature #663289

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6a2c74f530dc6f62b2c98cd2a1664192bf1fc1cb
Author: Christian Prochaska <cp.ml.freeciv.dev@googlemail.com>
Date:   Sun Jun 25 23:25:53 2017 +0200

    Updated msys1 environment (git)

    See hrm Task #660908

commit af18a18f9338d853efe51bb912fcab25405cc029
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 28 22:07:59 2017 +0200

    Split the action "Steal Gold".

    Stop relying on the Spy unit type flag to decide if the "Steal Gold" action
    consumes the actor unit. Split the new action "Steal Gold Escape" from
    "Steal Gold". The former will have its actor try to escape. The latter will
    always consume the actor unit.

    See hrm Feature #679864

commit 5e299d90c1ea0014404bd970dbb8699b4ef9f3dd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 6 11:33:39 2017 +0200

    Clarify that try_to_save_unit() is static.

    The function try_to_save_unit() is declared to be static in its prototype.
    Declare it static in its definition too.

    See hrm Feature #674435

commit 96f9104a69288ea82e0fe66559acfe153d4a5753
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun May 28 12:55:03 2017 +0200

    diplomat_bribe(): demote unique to assertion.

    The hard requirements of the "Bribe Unit" action includes a check that the
    target unit isn't an unique unit the actor player already has. The function
    diplomat_bribe() are never called with target unit like that. The check that
    the target unit isn't a unique unit the actor player already has can
    therefore be demoted to an assertion.

    See hrm Feature #664862

commit 70e9af01ee8ae0cc1eac9cb5ee3b1b5ba6d12f8e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 30 08:16:11 2017 +0300

    Replace unit type flag "Partial_Invis" with "vision_layer" field

    See hrm Feature #673389

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 183183683327a1bfbf2514aa0465bf1d76e266b5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 30 08:14:20 2017 +0300

    Upgrade pkg.m4 to serial 12

    See hrm Feature #677621

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ab21c336f305f5533ea7a71b432cd2a1427a2e5d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 30 08:13:48 2017 +0300

    Make aifill value PLAYER type

    See hrm Feature #677122

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 748378024f2fe68bd15d143160afe1056541b4c0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 30 08:13:13 2017 +0300

    Comment typofix: non-nantive -> non-native

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0d6c5d7d92bee377e8c477b7c6a81d3d323fb910
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 29 18:22:07 2017 +0300

    Send veteran system info raise_chance and work_raise_chance to the client

    Requested by Jacob Nevins <jtn>

    See hrm Feature #657285

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d5afb27ac7e65b707c12f41145eb41ded3c86ce7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 29 18:20:52 2017 +0300

    Comment typofix: "fullfilled" -> "fulfilled"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ab540b307038f0bbb8d98811acf4c77cd21d4529
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 29 18:20:08 2017 +0300

    Refresh stub ruleset units.ruleset embarks/disembarks documentation

    See hrm Feature #673640

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9e8b5652af8c0088db664dc3cc64452e70e7117a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 29 18:19:23 2017 +0300

    Make team number PLAYER type

    See hrm Feature #677112

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3775b922336cdf9f2b9fb556e07f36a3dfe9f1fd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 29 18:18:38 2017 +0300

    Save seconds since phase begun to savegame

    Requested by Andreas RÃ¸sdal

    See hrm Feature #662023

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d2d87fa7725393e750d80de2b202b7cdad410ee6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 29 18:18:17 2017 +0300

    installer_cross: place 7zipped build package under Output/

    See hrm Feature #664747

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 83760552f47ee7591cc38a5e4cca318903de91ff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 29 18:17:28 2017 +0300

    Allocate tex map in 'map_alloc' callback

    See hrm Feature #664480

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8701427e5c1c41f8b29db1294451cbc4767bbc00
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Jun 29 00:19:16 2017 +0100

    Add some missing .gitignores.

commit 326d51a65bbaa6050421d56d7cc99a2990fb5e8d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 26 16:46:41 2017 +0200

    Non enemy city blocks "Bombard" and "Attack".

    Hard coded rules prevents any unit from doing "Bombard" or "Attack" to units
    in non enemy cities. Detect this during action probability calculation
    before returning unknown because the units in the non enemy city aren't
    seen.

    See hrm Bug #679455

commit a8ed190fa0ea96767468a331d11d66daa0610868
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 6 08:46:58 2017 +0200

    Fix GTK client unit selection dialog memory leak.

    Don't leak memory when more than one unit is selected at once in the GTK
    clients' unit selection dialog.

    Found with Valgrind.

    See hrm Bug #674321

commit 8a65724f06fee3ea09493f89bfc4a1ddd7076fd3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 28 10:18:55 2017 +0300

    Add ocean cities count to advisor stats

    See hrm Feature #662394

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0111a8b385aec3999670edfe103cfa076fa80f27
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 28 10:17:33 2017 +0300

    Do not draw to screen from map_canvas_resized()

    See hrm Bug #678972

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3327b6a8ecd6f999382d95af906212565649a59c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 28 10:17:00 2017 +0300

    Connect mapview to "size-allocate" signal instead of "configure-event"

    See hrm Feature #678973

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 54950800e1be2d755ca4949ed6d01bfce678754a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 28 10:16:27 2017 +0300

    Add "-pg" to LDFLAGS when profiling enabled

    See hrm Feature #678905

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 690415e471a784373d1e37fdaa782ec293c62224
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 28 10:16:06 2017 +0300

    Distribute tolua.pkg

    Reported by Jacob Nevins

    See hrm Bug #678447

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 912c47f779fcbbd0d09db3d7ceb7fc94f1c9f47c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 28 10:15:33 2017 +0300

    Do not list no longer existing gtk2-client

    See hrm Bug #677553

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ffbd3351b7ebde57ad3e8bddd9c7b99e195aed78
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 28 10:15:11 2017 +0300

    Increase priority of hexemplio to 30

    Reduce priority of amplio2 and cimpletoon to 25 to have highest
    priority on exemplio only, now that hex is the default.

    See hrm Feature #677149

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d40afb538c485921765c198ab458bb18fb31dfb0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 28 10:14:44 2017 +0300

    Update crosser version to 1.3

    See hrm Feature #664435

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 465b290280708093c5bd6d7d440c40f8da776ae8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 28 10:13:52 2017 +0300

    Replace documentation references to subversion with git references

    See hrm Feature #664195

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aa920684c2b3e372749d1b3b3c8c024d9a0b5cbc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 28 10:13:17 2017 +0300

    Clean out GGZDMOD flag references from freeciv-manual build

    See hrm Feature #665006

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 80cb578d401b99682d7cb99107531f69ef27bffe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 27 18:52:22 2017 +0300

    Increase plain file buffer size to 8MB

    Reported by Andreas RÃ¸sdal

    See hrm Bug #679197

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d9c7ca653c2d0a9ccbbf458a361185e03e05bc50
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 27 18:51:56 2017 +0300

    Distribute README.tilesets

    Reported by Jacob Nevins

    See hrm Bug #678449

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6a53fd740599d52a1635b32d1300534b1896df27
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 27 18:51:32 2017 +0300

    Fix "fullfilled" typo

    See hrm Bug #677799

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1692ed3615cee4e13794fcd9578251ed619f2a56
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 27 18:51:08 2017 +0300

    Comment typofix: "possiblity" -> "possibility"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0c6877c64190488d141d18dc74b655324f713423
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 27 18:50:44 2017 +0300

    Cache is_server() in is_my_zoc()

    See hrm Feature #675731

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 69a00b375de637b6577de9f33807f017e39e4728
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 27 18:50:22 2017 +0300

    Use GTK3_22 CITYDLG_MIN|MAX_X|YSIZE in gtk3.22-client

    See hrm Bug #673892

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9534ac3e2aed77a075e7354624d0db11355f998d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 27 18:49:00 2017 +0300

    Use gtk_drawing_area_set_draw_func() for map canvases

    Replace use of "draw" signal with gtk_drawing_area_set_draw_func()
    for map_canvas and overview_canvas.

    See hrm Feature #673887

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 90a7dba6dd7b5965ab1ebcb16d334e8cac7fb0dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 27 18:48:26 2017 +0300

    Add 'map_alloc' and 'map_free' to AI callback API

    See hrm Feature #664479

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5dee3a20d07cb83071dbfd5455071d134c324520
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 13 14:57:14 2017 +0200

    webperimental: allow giving units to allies.

    See hrm Feature #676403

commit ba6796750d4858d207dbd34c94e4480f31e284be
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 13 16:00:13 2017 +0200

    Inform foreign unit receiver.

    A unit can be transferred to a foreign nation by setting its home city to
    a city owned by another player. Let the receiver know about the unit he was
    given.

    See hrm Feature #676658

commit 6ebac87a1111aa00b930f93d7967147e65b199c6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 7 11:50:05 2017 +0200

    action_prob_vs_*(): detect known blocked actions.

    The probability of an action that is blocked by a known legal action being
    enabled is 0%. Detect this before potentially returning unknown for target
    specific reasons.

    See hrm Feature #674850

commit 5ba4cf3f3554dd51ef1455292ec00441f2b72170
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 6 09:43:28 2017 +0200

    More accurate unit_attack_unit_at_tile_result().

    A unit may be non civilian and have attack strength but still be unable to
    attack if it lacks the ability to perform any attack actions.

    See hrm Feature #674466

commit 7d78f65047609c3cfe189f8fca20795b685affc4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 31 02:18:03 2017 +0200

    Tiles, not unit stacks, are owned by tile owner.

    See hrm Bug #672734

commit a3c03276cc5b7c97b37ea0a378427d4024b139f9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 30 19:03:19 2017 +0200

    Remove redundant attack checks.

    Checking if a unit type can perform the "Attack" action or any (hostile)
    action is redundant after "Attack" became an action.

    See hrm Feature #672664

commit 09b3a68dd50db2f7ed23fb02837ccf6f4685d1c2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 26 13:11:03 2017 +0200

    Action not enabled explain has unique target.

    Make the action not enabled explanation system detect that a target unit
    can't be bribed because it is unique and the actor player already got one.

    See hrm Feature #664843

commit ae86993e36db2c21a6f001b14eb8dd910f0016e7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 31 17:59:09 2017 +0200

    Make can_player_attack_tile() static.

    It has no users outside the combat module.

    See hrm Feature #672917

commit 47ecb7718e8a044b019fdc5af092d3d7f0e87022
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 30 14:54:48 2017 +0200

    Make the "Attack" action unit stack targeted.

    When the "Attack" action was introduced in gna patch #7260 it was made tile
    targeted until the proper target class to evaluate its action enablers
    against could be determined. Releasing a version of Freeciv where the target
    is a tile would bind us to support DiplRel requirements against the owner of
    the tile the target unit is located at in future versions.

    The "Attack" action's current target requirements are made against three
    different target classes. Two of the target classes, "individual cities" and
    "unit stacks", are supported as action enabler target kinds. The last class,
    "any or, if the unreachableprotects server setting is enabled, all
    untransported units", has no current support in the action enabler system.

    The two candidates for the target to evaluate the "Attack" action's target
    requirement vector against are those about units. Each has a currently
    hardcoded unit requirement it alone can express. The unit stack target kind
    can express the "must be at war with all units in the stack" rule. The other
    target kind could, combined with the introduction of a new requirement type,
    have expressed the requirement that each/any non transported unit must be in
    a city, be in an extra native to it, not have the "Unreachable" unit class
    flag or belong to a unit type listed in the actor's targets.

    Choose the unit stack action target kind. Move the "must be at war with all
    units in the stack" rule to the action enabler as an obligatory hard
    requirement.

    A unit stack targeted "Attack" action makes ruleset authors able to specify
    requirements for all units in an attacked unit stack. Requirements for all
    non transported units in an attacked unit stacks can be achieved via the
    "Transported" UnitState requirement type property (and an action enabler
    that enables the action for a transported unit no matter what the non
    transported only requirements are).

    Should having "Attack" action enabler target requirements closely following
    the unreachableprotects server setting become important in the future it can
    still be implemented. One potential way to do it is by introducing a version
    of "Attack" that targets individual units. Its and Attack's action enablers
    should then be able to use the "ServerSetting" requirement type to determine
    what action should be enabled based on the unreachableprotects server
    setting value.

    See hrm Feature #672612

commit 50c2ade737d72dfcad1457a25fbbc7377d576400
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 29 10:10:23 2017 +0200

    Give freeciv-web access to unit upgrade cost.

    Make it possible to ask about unit upgrade cost in the unit_action_query
    packet and get a reply in the unit_action_answer packet. The bundled clients
    should be ported to make use of it if the upgrade cost starts relying on
    factors the player can't see.

    See hrm Feature #664985

commit 691c4796e93724ebe4fff1171bbd3bfb39320fda
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 29 09:55:34 2017 +0200

    Auto help: document action battle causing.

    Some actions can be stopped when a defender takes a risk in a battle against
    the actor to prevent the action. A regular attack gives the intended victim
    a chance to fight back. Some spy actions can be stopped by a defending
    Diplomat. Document what actions can be prevented by a battle.

    See hrm Feature #664955

commit 56566e7cb849d6861188a502e9e8d03283857146
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun May 28 12:36:03 2017 +0200

    Remove noop function do_unit_disband().

    The consequences of the action "Disband Unit" are handled by the action
    system. The function do_unit_disband() is therefore no longer needed.

    See hrm Feature #664845

commit 8b2c6fe68e30b7dea6a8aa9d7080d7c1eea63311
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 26 09:18:14 2017 +0200

    Comment spell fix: FLASE -> FALSE.

commit c68010aae97a3aacec0d1f8ec270824ae7f49f1e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 26 09:10:00 2017 +0200

    Comment spell fix: untis -> units.

commit a7fb5df36cfeee5f728341f0f53e74095dafb885
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 26 09:03:50 2017 +0200

    Number header comment like the code.

commit a3ce6b4aab512ef7529cc85ee7d73e8316efcac5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 26 08:43:41 2017 +0200

    Split the action "Steal Maps".

    Stop relying on the Spy unit type flag to decide if the "Steal Maps" action
    consumes the actor unit. Split the new action "Steal Maps Escape" from
    "Steal Maps". The former will have its actor try to escape. The latter will
    always consume the actor unit.

    This makes it possible to create a ruleset where all actor units, including
    those with the Spy utype flag, are consumed when stealing parts of a
    civilization's world map. It makes the opposite (everyone, including non Spy
    units, escapes) possible too. It also makes more complex rules possible.

    See hrm Feature #662943

commit 3022c17fe8178242242e7fb6fb46ff251eaa868f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 26 10:44:08 2017 +0300

    Comment typofix: "consiguration" -> "configuration"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fd3a02daef8342a30fde736f044b6001b518fe9c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 26 10:43:44 2017 +0300

    Alien: List requirements for the tile to irrigate in Irrigation helptext

    See hrm Feature #677205

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2170a6b60ea100498722fb0bdf25f078b0f88172
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 26 10:42:59 2017 +0300

    dos2unix hexemplio.tilespec

    See hrm Task #678454

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 76dcdf36551a5bf07aaf68505078da7a4a763da7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 26 10:42:33 2017 +0300

    Fix theoretical NULL dereference in base_fc_utf8_strlcpy_rep()

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dfd6f5c11f9a3b6c57a48a5db30faeaeb9d5b740
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 26 10:42:09 2017 +0300

    Macrofy is_extra_caused_by()

    See hrm Feature #675710

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 165ebde11b58063256abe87d519245a2a9579c25
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 26 10:40:54 2017 +0300

    Mark unit type flag Provoking for translation

    See hrm Bug #673388

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 11547e6d8f645a45432bbcb5632d064a369906f7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 26 10:40:14 2017 +0300

    Add onetime_pct property for goods.

    See hrm Feature #672710

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 528f4a1958ca64ee8c3a5aabb805cfbaa82b9386
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 26 10:38:05 2017 +0300

    Add effects button to all tabs where it's applicable

    See hrm Feature #664438

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 73d22ab2a4c5a619c0278bf0b12299b89f0fcb82
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 26 10:37:31 2017 +0300

    Add internal support for runtime raw/json protocol selection

    See hrm Feature #664002

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 533c3181e79d9ecf2ca7844f24bf54f759578369
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 23 16:29:51 2017 +0200

    Fix typo "workist" to "worklist".

    See hrm Bug #662941

commit ff20b9cab99a30fe946e5bf8c41942cdc1851785
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 23 15:45:56 2017 +0200

    webperimental: reduce Manhattan Project power.

    The Manhattan Project allows its owner's Spy units to perform the action
    "Suitcase Nuke" or, depending on veteran level, "Suitcase Nuke Escape". It
    was made slightly less powerful in hrm Feature #661962 when informants (non
    veterans) and handlers (the first veteran level) lost the ability to escape
    after hiding the nuke in a city. Make it even less powerful by reducing the
    odds of successfully hiding a nuclear device.

    See hrm Feature #662938

commit 00d321c489fea661d6249fabd8d7ca2b18dddda3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 23 16:03:45 2017 +0200

    webperimental: introduce README.webperimental.

    Move history and differences from classic to README.webperimental and
    include it as the description file. It is getting to big for game.ruleset.

    See hrm Feature #662934

commit f04c3b4c21d152affe1b23ee52594c4baf7ef4e7
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jun 25 14:57:44 2017 +0100

    Final Subversion-format ChangeLog update.

commit caf0c1a4718bf522739e0b81986ec4b61a4ed1a9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 25 13:18:20 2017 +0300

    Do not try to update plrmap before it's created

    Reported by David Fernandez (bard)

    See hrm Bug #673767

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dbcff8d16e9123cf1bbb9dc6fbba83dd6d4c21f8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 25 13:17:39 2017 +0300

    Add -no-pie to LDFLAGS when --enable-gprof given

    See hrm Feature #675699

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c7701813211c1b5173a2dafeff6e6d0fb097a7ed
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 25 13:17:15 2017 +0300

    Queue citizen icon draw when they change

    Reported by SMACX2

    See hrm Bug #664730

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5fe80cac57575407c5b3e439b8afd3d1a47d3d9f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 25 13:16:44 2017 +0300

    Transfer observer player number as UINT16

    See hrm Bug #673898

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d07c3767d701ba048e3c76da2d5ec471064917d5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 25 13:15:24 2017 +0300

    Do not sanitycheck vision sharing of dead players

    Reported by David Fernandez (bard)

    See hrm Bug #662701

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ca28ac79c7ddb73a6b7c28cf6fadb8f9bf4e0e0f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 25 13:14:58 2017 +0300

    Fix threaded AI's reverted pollution removal want

    See hrm Bug #664489

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 35e52df0db187de5f84a4b985ebfe6cd9ffd3efc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 25 13:14:27 2017 +0300

    Check that research is selected before trying to get its cost

    See hrm Bug #664286

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 57c670fc31622d750f707a43f35e5b00ed319949
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 25 13:13:51 2017 +0300

    Drop DEV_SAVE_COMPAT from version < 2.91

    See hrm Feature #664190

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9cf6365c88233e31ded8f140ad19036c798e7c81
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 25 13:13:24 2017 +0300

    Make wonder owners field 16 bits wide

    See hrm Bug #663958

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d40055fbb391da27035994ec67bb840f7971624
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 25 13:12:46 2017 +0300

    Link libsqlite3 to modpack installers

    See hrm Bug #665004

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1675a5d5ddf2065e0b8843cb0c19787fb97563c5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 24 22:50:44 2017 +0300

    Update msys2 environment to 170616 level

    See hrm Task #660286

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ce99423bee5d12ccda22535cb592465a458e13d1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 24 22:50:15 2017 +0300

    installer_cross: Fix build from 'git worktree'

    See hrm Bug #673863

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit de6c5d6de8ec9f5dc36b5f58386f8ca5bacca106
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 24 22:49:37 2017 +0300

    Fix setting of have_resources when loading savegame2.c savegame

    See hrm Bug #664343

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9c40c464603e957e6334cde8365e32c15de6a72e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 24 22:49:04 2017 +0300

    Update INSTALL to git time

    See hrm Feature #654670

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit af25d64ea1d15ca46de24ba46e8c510101dc1d33
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 24 22:48:42 2017 +0300

    Use VERSION_REVTYPE git in Windows Installer build

    See hrm Feature #654689

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

------------------------------------------------------------------------
r35704 | sveinung | 2017-05-24 10:55:55 +0100 (Wed, 24 May 2017) | 6 lines
Changed paths:
   M /trunk/data/webperimental/game.ruleset

webperimental: killstack decides stack protects.

Make the killstack server setting decide if a unit in a unit stack can be
bribed or sabotaged.

See hrm Feature #661974
------------------------------------------------------------------------
r35703 | sveinung | 2017-05-24 10:55:46 +0100 (Wed, 24 May 2017) | 25 lines
Changed paths:
   M /trunk/ai/default/daieffects.c
   M /trunk/common/fc_types.h
   M /trunk/common/metaknowledge.c
   M /trunk/common/reqtext.c
   M /trunk/common/requirements.c
   M /trunk/common/server_settings.c
   M /trunk/common/server_settings.h
   M /trunk/doc/README.effects
   M /trunk/fc_version
   M /trunk/server/cityturn.c
   M /trunk/server/rssanity.c
   M /trunk/server/rssanity.h
   M /trunk/tools/ruledit/univ_value.c

ServerSetting requirement type.

Some server settings, like killstack and unreachableprotects, are rules. A
ruleset author may wish to adapt his ruleset to work better with the server
setting rules currently in use.

Other server settings, like autosaves, are purely about the administration
of the Freeciv server. Those are administrative details. Rules shouldn't be
based on them.

Rules should also not be based on settings not visible to all players.

A Boolean server setting is enabled or disabled. It is therefore enough to
specify its name in the requirement syntax. The value is covered by the
requirement's present property.

Introduce the ServerSetting requirement type. It gives access to rule server
settings that has a binary value.

Non binary server settings aren't supported. Support for enum, bitwise and
small int valued settings may be introduced later. That would require
multiplexing the setting value with the setting id and the introduction of
a syntax like "settingname=valuename".

See hrm Feature #648804
------------------------------------------------------------------------
r35700 | cazfi | 2017-05-24 06:31:34 +0100 (Wed, 24 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/default/aicity.c

Make AI less likely to stop building wonder

See hrm Feature #662556

------------------------------------------------------------------------
r35699 | cazfi | 2017-05-23 18:11:08 +0100 (Tue, 23 May 2017) | 4 lines
Changed paths:
   M /trunk/data/alien/Makefile.am
   A /trunk/data/alien/parser.lua
   M /trunk/data/civ1/Makefile.am
   A /trunk/data/civ1/parser.lua
   M /trunk/data/civ2/Makefile.am
   A /trunk/data/civ2/parser.lua
   M /trunk/data/civ2civ3/Makefile.am
   A /trunk/data/civ2civ3/parser.lua
   M /trunk/data/classic/Makefile.am
   A /trunk/data/classic/parser.lua
   A /trunk/data/experimental/parser.lua
   M /trunk/data/multiplayer/Makefile.am
   A /trunk/data/multiplayer/parser.lua
   M /trunk/data/sandbox/Makefile.am
   A /trunk/data/sandbox/parser.lua
   A /trunk/data/stub/parser.lua
   A /trunk/data/webperimental/parser.lua
   M /trunk/server/ruleset.c
   M /trunk/server/ruleset.h
   M /trunk/tools/ruleutil/rulesave.c

Add 'parser.lua' to rulesets

See hrm Feature #661644

------------------------------------------------------------------------
r35698 | cazfi | 2017-05-23 17:43:56 +0100 (Tue, 23 May 2017) | 6 lines
Changed paths:
   M /trunk/common/fc_types.h
   M /trunk/fc_version

Increase max number of regular players to 250

Requested by Andreas RÃ¸sdal

See hrm Feature #654973

------------------------------------------------------------------------
r35696 | cazfi | 2017-05-22 23:09:08 +0100 (Mon, 22 May 2017) | 4 lines
Changed paths:
   M /trunk/server/scripting/api_server_edit.c
   M /trunk/server/scripting/api_server_edit.h
   M /trunk/server/scripting/tolua_server.pkg

Add scripting API control over unit 'stay'

See hrm Feature #661580

------------------------------------------------------------------------
r35694 | sveinung | 2017-05-22 17:27:41 +0100 (Mon, 22 May 2017) | 7 lines
Changed paths:
   M /trunk/tools/ruledit/Makefile.am

Fix srcdir != builddir builds.

Fix copy past error.

Reported by Marko Lindqvist

See hrm Bug #662564
------------------------------------------------------------------------
r35689 | sveinung | 2017-05-22 11:05:49 +0100 (Mon, 22 May 2017) | 1 line
Changed paths:
   M /trunk/common/scriptcore/luascript.c

Comment fix: OS is not excluded from permissive.
------------------------------------------------------------------------
r35688 | sveinung | 2017-05-22 11:05:42 +0100 (Mon, 22 May 2017) | 5 lines
Changed paths:
   M /trunk/tools/Makefile.am
   M /trunk/tools/ruledit/Makefile.am
   M /trunk/tools/ruledit/ruledit.cpp
   M /trunk/tools/ruleup.c

Implement fc_interface for ruledit and ruleup.

Use the tools_fc_interface module.

See hrm Feature #659409
------------------------------------------------------------------------
r35687 | sveinung | 2017-05-22 11:05:33 +0100 (Mon, 22 May 2017) | 1 line
Changed paths:
   M /trunk/tools/civmanual.c

Comment fact fix: header has moved.
------------------------------------------------------------------------
r35686 | sveinung | 2017-05-22 11:05:25 +0100 (Mon, 22 May 2017) | 6 lines
Changed paths:
   M /trunk/data/webperimental/effects.ruleset
   M /trunk/data/webperimental/game.ruleset

webperimental: spy nuke escape is for veterans.

Only let agents and spymasters try to escape after hiding a nuke in a spy
city nuking.

See hrm Feature #661962
------------------------------------------------------------------------
r35682 | cazfi | 2017-05-21 18:07:05 +0100 (Sun, 21 May 2017) | 10 lines
Changed paths:
   M /trunk/server/srv_main.c

Do not try to cancel Team membership

When a player with which we are allied and another with which we
are in the same team go to war, only cancel the alliance. Do not try
to cancel pact with the team member.

Reported by David Fernandez (bard)

See hrm Bug #662059

------------------------------------------------------------------------
r35680 | sveinung | 2017-05-21 10:32:10 +0100 (Sun, 21 May 2017) | 6 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/tools/Makefile.am
   A /trunk/tools/shared
   A /trunk/tools/shared/Makefile.am
   A /trunk/tools/shared/tools_fc_interface.c (from /trunk/tools/tools_fc_interface.c:35668)
   A /trunk/tools/shared/tools_fc_interface.h (from /trunk/tools/tools_fc_interface.h:35668)
   D /trunk/tools/tools_fc_interface.c
   D /trunk/tools/tools_fc_interface.h

Move tools_fc_interface.[c|h] to tools/shared.

Use it to form a new library, libtoolsshared, for stuff otherwise unrelated
(by task) tools may need.

See hrm Feature #661963
------------------------------------------------------------------------
r35678 | cazfi | 2017-05-20 13:28:36 +0100 (Sat, 20 May 2017) | 4 lines
Changed paths:
   M /trunk/common/scriptcore/api_game_methods.c
   M /trunk/common/scriptcore/api_game_methods.h
   M /trunk/common/scriptcore/tolua_game.pkg

Add Tile:is_enemy() to scripting API

See hrm Feature #661538

------------------------------------------------------------------------
r35677 | cazfi | 2017-05-20 12:41:36 +0100 (Sat, 20 May 2017) | 4 lines
Changed paths:
   M /trunk/common/game.c
   M /trunk/common/game.h
   M /trunk/server/ruleset.c
   M /trunk/server/scripting/Makefile.am
   A /trunk/server/scripting/api_server_luadata.c
   A /trunk/server/scripting/api_server_luadata.h
   M /trunk/server/scripting/tolua_server.pkg

Add initial support for optional luadata.txt datafile

See hrm Feature #661635

------------------------------------------------------------------------
r35674 | cazfi | 2017-05-20 12:11:29 +0100 (Sat, 20 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/default/aiunit.c
   M /trunk/server/advisors/advgoto.c

Set ACTIVITY_GOTO persistently for military units heading to target

See hrm Bug #661869

------------------------------------------------------------------------
r35672 | cazfi | 2017-05-20 09:34:06 +0100 (Sat, 20 May 2017) | 6 lines
Changed paths:
   M /trunk/windows/installer_cross/winbuild.sh

Add "-crs" to version number of installer_cross builds

Distinguish installer_cross builds from other build types

See hrm Feature #661802

------------------------------------------------------------------------
r35670 | cazfi | 2017-05-20 08:34:44 +0100 (Sat, 20 May 2017) | 4 lines
Changed paths:
   M /trunk/common/movement.c
   M /trunk/common/movement.h
   M /trunk/common/unit.c
   M /trunk/common/unit.h
   M /trunk/server/savegame3.c

Add "stay" property for individual units

See hrm Feature #661437

------------------------------------------------------------------------
r35668 | cazfi | 2017-05-20 00:35:32 +0100 (Sat, 20 May 2017) | 4 lines
Changed paths:
   M /trunk/tools/ruledit/effect_edit.cpp
   M /trunk/tools/ruledit/req_edit.cpp
   M /trunk/tools/ruledit/req_edit.h
   M /trunk/tools/ruledit/ruledit_qt.cpp
   M /trunk/tools/ruledit/ruledit_qt.h
   M /trunk/tools/ruledit/tab_building.cpp
   M /trunk/tools/ruledit/tab_enablers.cpp
   M /trunk/tools/ruledit/tab_extras.cpp
   M /trunk/tools/ruledit/tab_gov.cpp

Prevent opening multiple req_edit dialogs for the same requirement vector

See hrm Feature #660194

------------------------------------------------------------------------
r35666 | cazfi | 2017-05-20 00:05:45 +0100 (Sat, 20 May 2017) | 6 lines
Changed paths:
   M /trunk/client/luascript/script_client.c
   M /trunk/common/scriptcore/luascript.c
   M /trunk/common/scriptcore/luascript.h
   M /trunk/server/scripting/script_fcdb.c
   M /trunk/server/scripting/script_server.c

Let security restrictions of 'game' and 'fcdb' lua instances differ

Requested by Jacob Nevins <jtn>

See hrm Feature #657141

------------------------------------------------------------------------
r35664 | cazfi | 2017-05-19 23:05:49 +0100 (Fri, 19 May 2017) | 6 lines
Changed paths:
   M /trunk/server/scripting/Makefile.am
   M /trunk/server/scripting/api_server_edit.c
   M /trunk/server/scripting/api_server_edit.h
   M /trunk/server/scripting/tolua_server.pkg

Add edit.change_terrain() to scripting API

Requested by J. M. Gorbach <gorb>

See hrm Feature #657140

------------------------------------------------------------------------
r35660 | cazfi | 2017-05-19 22:27:46 +0100 (Fri, 19 May 2017) | 4 lines
Changed paths:
   M /trunk/server/scripting/api_server_edit.c

Prevent scripting API unit creation from creating stack conflicts

See hrm Bug #661533

------------------------------------------------------------------------
r35656 | sveinung | 2017-05-19 11:37:33 +0100 (Fri, 19 May 2017) | 14 lines
Changed paths:
   M /trunk/ai/default/aicity.c
   M /trunk/ai/default/aidata.c
   M /trunk/ai/default/aidiplomat.c
   M /trunk/client/gui-gtk-3.0/action_dialog.c
   M /trunk/client/gui-gtk-3.22/action_dialog.c
   M /trunk/client/gui-gtk-4.0/action_dialog.c
   M /trunk/client/gui-qt/dialogs.cpp
   M /trunk/client/gui-sdl2/action_dialog.c
   M /trunk/client/helpdata.c
   M /trunk/client/packhand.c
   M /trunk/common/actions.c
   M /trunk/common/actions.h
   M /trunk/common/aicore/pf_tools.c
   M /trunk/common/unittype.c
   M /trunk/data/civ2/effects.ruleset
   M /trunk/data/civ2/game.ruleset
   M /trunk/data/webperimental/effects.ruleset
   M /trunk/data/webperimental/game.ruleset
   M /trunk/doc/README.actions
   M /trunk/doc/README.effects
   M /trunk/fc_version
   M /trunk/server/actiontools.c
   M /trunk/server/advisors/advdata.c
   M /trunk/server/ruleset.c
   M /trunk/server/savegame3.c
   M /trunk/server/unithand.c
   M /trunk/tools/ruleutil/rulesave.c

Split the action "Suitcase Nuke".

Stop relying on the Spy unit type flag to decide if the "Suitcase Nuke"
action consumes the actor unit. Split the new action "Suitcase Nuke Escape"
from "Suitcase Nuke". The former will have its actor try to escape. The
latter will always consume the actor unit.

This makes it possible to create a ruleset where all actor units, including
those with the Spy utype flag, are consumed when suitcase nuking a city. It
makes the opposite (everyone, including non Spy units, escapes) possible
too. It also makes more complex rules, like "only veterans has a chance of
escaping after placing the suitcase", possible.

See hrm Feature #661654
------------------------------------------------------------------------
r35655 | sveinung | 2017-05-19 10:59:32 +0100 (Fri, 19 May 2017) | 6 lines
Changed paths:
   M /trunk/data/civ2/effects.ruleset
   M /trunk/data/civ2civ3/effects.ruleset
   M /trunk/data/classic/effects.ruleset
   M /trunk/data/experimental/effects.ruleset
   M /trunk/data/multiplayer/effects.ruleset
   M /trunk/data/sandbox/effects.ruleset
   M /trunk/data/webperimental/effects.ruleset

"Incite City Escape" is a reason for war.

When "Incite City" was split in hrm Feature #660927 the Casus Belli weren't
given to "Incite City Escape" too. Do it.

See hrm Bug #661539
------------------------------------------------------------------------
r35654 | sveinung | 2017-05-19 10:57:31 +0100 (Fri, 19 May 2017) | 7 lines
Changed paths:
   M /trunk/doc/README.effects

Update README.effects for "Incite City Escape".

When "Incite City" was split in hrm Feature #660927 the documentation of
Action_Odds_Pct wasn't updated to reflect that it can modify the new action
"Incite City Escape" too.

See hrm Bug #661535
------------------------------------------------------------------------
r35651 | cazfi | 2017-05-18 16:24:44 +0100 (Thu, 18 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/default/aicity.c

Multiply AI want for Great Wonders by 1.5

See hrm Feature #661176

------------------------------------------------------------------------
r35648 | cazfi | 2017-05-18 14:23:46 +0100 (Thu, 18 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/default/daidomestic.c

Fix NULL dereference when there's no suitable founder unit type

See hrm Bug #661409

------------------------------------------------------------------------
r35647 | cazfi | 2017-05-18 14:17:19 +0100 (Thu, 18 May 2017) | 4 lines
Changed paths:
   M /trunk/tools/mpdb.c

Create directory for modpack database if it doesn't exist

See hrm Bug #661353

------------------------------------------------------------------------
r35643 | cazfi | 2017-05-18 14:13:00 +0100 (Thu, 18 May 2017) | 6 lines
Changed paths:
   M /trunk/server/unittools.c

Make sure unit vision radius is not negative

Reported by David Fernandez (bard)

See hrm Bug #661313

------------------------------------------------------------------------
r35638 | sveinung | 2017-05-18 10:25:20 +0100 (Thu, 18 May 2017) | 8 lines
Changed paths:
   M /trunk/client/gui-gtk-3.0/action_dialog.c
   M /trunk/client/gui-gtk-3.22/action_dialog.c
   M /trunk/client/gui-gtk-4.0/action_dialog.c
   M /trunk/client/gui-qt/dialogs.cpp
   M /trunk/client/gui-sdl2/action_dialog.c
   M /trunk/client/gui-stub/dialogs.c
   M /trunk/client/include/dialogs_g.h
   M /trunk/client/packhand.c
   M /trunk/common/networking/packets.def
   M /trunk/fc_version
   M /trunk/server/diplomats.c

Prepare targeted sabotage for generic actions.

Return the action id with the lists of buildings that can be targeted in the
target city. Forward the action to the clients in popup_sabotage_dialog().
Have the clients use the specified action (rather than hard coding
ACTION_SPY_TARGETED_SABOTAGE_CITY) when ordering the action to take place.

See hrm Feature #661177
------------------------------------------------------------------------
r35637 | sveinung | 2017-05-18 10:25:08 +0100 (Thu, 18 May 2017) | 9 lines
Changed paths:
   M /trunk/data/civ2civ3/buildings.ruleset
   M /trunk/data/civ2civ3/cities.ruleset
   M /trunk/data/civ2civ3/effects.ruleset
   M /trunk/data/civ2civ3/game.ruleset
   M /trunk/data/civ2civ3/governments.ruleset
   M /trunk/data/civ2civ3/nations.ruleset
   M /trunk/data/civ2civ3/styles.ruleset
   M /trunk/data/civ2civ3/techs.ruleset
   M /trunk/data/civ2civ3/terrain.ruleset
   M /trunk/data/civ2civ3/units.ruleset
   M /trunk/data/multiplayer/buildings.ruleset
   M /trunk/data/multiplayer/cities.ruleset
   M /trunk/data/multiplayer/effects.ruleset
   M /trunk/data/multiplayer/game.ruleset
   M /trunk/data/multiplayer/governments.ruleset
   M /trunk/data/multiplayer/nations.ruleset
   M /trunk/data/multiplayer/styles.ruleset
   M /trunk/data/multiplayer/techs.ruleset
   M /trunk/data/multiplayer/terrain.ruleset
   M /trunk/data/multiplayer/units.ruleset

civ2civ3 and multiplayer are web compatible.

The rulesets civ2civ3 and multiplayer are currently used unmodified in
Freeciv-web. Document the current compatibility.

Thanks to Marko Lindqvist for clarifying that web-compatible isn't a
promise of future compatibility in hrm Bug #660894 comment #8.

See hrm Feature #661168
------------------------------------------------------------------------
r35633 | cazfi | 2017-05-18 10:16:05 +0100 (Thu, 18 May 2017) | 6 lines
Changed paths:
   M /trunk/server/citytools.c

Make sure veterancy of the newly built unit is not negative

Reported by David Fernandez (bard)

See hrm Bug #661193

------------------------------------------------------------------------
r35629 | cazfi | 2017-05-18 10:02:44 +0100 (Thu, 18 May 2017) | 6 lines
Changed paths:
   M /trunk/common/unit.c

Fix division by zero when unit activity rate is zero

Reported by David Fernandez (bard)

See hrm Bug #660342

------------------------------------------------------------------------
r35627 | cazfi | 2017-05-18 00:54:08 +0100 (Thu, 18 May 2017) | 6 lines
Changed paths:
   M /trunk/m4/web-client.m4

Make --enable-fcweb help clearer

Reported by Christian Knoke

See hrm Bug #660894

------------------------------------------------------------------------
r35622 | sveinung | 2017-05-17 11:45:42 +0100 (Wed, 17 May 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-gtk-3.0/action_dialog.c
   M /trunk/client/gui-gtk-3.22/action_dialog.c
   M /trunk/client/gui-gtk-4.0/action_dialog.c
   M /trunk/client/gui-qt/dialogs.cpp
   M /trunk/client/gui-sdl2/action_dialog.c
   M /trunk/client/gui-stub/dialogs.c
   M /trunk/client/include/dialogs_g.h
   M /trunk/client/packhand.c

Prepare popup_bribe_dialog() for gen actions.

Make popup_bribe_dialog() take the action it is a response to as a
parameter. This allows more than one action to use it.

See hrm Feature #660895
------------------------------------------------------------------------
r35621 | sveinung | 2017-05-17 11:45:32 +0100 (Wed, 17 May 2017) | 15 lines
Changed paths:
   M /trunk/ai/default/aicity.c
   M /trunk/ai/default/aidata.c
   M /trunk/ai/default/aidiplomat.c
   M /trunk/client/gui-gtk-3.0/action_dialog.c
   M /trunk/client/gui-gtk-3.22/action_dialog.c
   M /trunk/client/gui-gtk-4.0/action_dialog.c
   M /trunk/client/gui-qt/dialogs.cpp
   M /trunk/client/gui-qt/menu.cpp
   M /trunk/client/gui-sdl2/action_dialog.c
   M /trunk/client/helpdata.c
   M /trunk/client/packhand.c
   M /trunk/common/actions.c
   M /trunk/common/actions.h
   M /trunk/common/aicore/pf_tools.c
   M /trunk/common/unittype.c
   M /trunk/data/civ2/game.ruleset
   M /trunk/data/civ2civ3/game.ruleset
   M /trunk/data/classic/game.ruleset
   M /trunk/data/experimental/game.ruleset
   M /trunk/data/multiplayer/game.ruleset
   M /trunk/data/sandbox/game.ruleset
   M /trunk/data/webperimental/game.ruleset
   M /trunk/doc/README.actions
   M /trunk/fc_version
   M /trunk/server/advisors/advdata.c
   M /trunk/server/ruleset.c
   M /trunk/server/savegame3.c
   M /trunk/server/unithand.c
   M /trunk/tools/ruleutil/rulesave.c

Split the action "Incite City".

Stop relying on the Spy unit type flag to decide if the "Incite City" action
consumes the actor unit. Split the new action "Incite City Escape" from
"Incite City". The former will have its actor try to escape. The latter will
always consume the actor unit.

This makes it possible to create a ruleset where all actor units, including
those with the Spy utype flag, are consumed when inciting a foreign city to
revolt and join the actor's side. It makes a ruleset where no actor units,
including those without the Spy utype flag, will try to escape after
inciting a revolt. It also makes more complex rules, like "inciting a revolt
consumes the unit unless the city belongs to a democracy, possible.

See hrm Feature #660927
------------------------------------------------------------------------
r35620 | sveinung | 2017-05-17 11:45:22 +0100 (Wed, 17 May 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-gtk-3.0/action_dialog.c
   M /trunk/client/gui-gtk-3.22/action_dialog.c
   M /trunk/client/gui-gtk-4.0/action_dialog.c
   M /trunk/client/gui-qt/dialogs.cpp
   M /trunk/client/gui-sdl2/action_dialog.c
   M /trunk/client/gui-stub/dialogs.c
   M /trunk/client/include/dialogs_g.h
   M /trunk/client/packhand.c

Prepare popup_incite_dialog() for gen actions.

Make popup_incite_dialog() take the action it is a response to as a
parameter. This allows more than one action to use it.

See hrm Feature #660843
------------------------------------------------------------------------
r35619 | sveinung | 2017-05-17 11:45:09 +0100 (Wed, 17 May 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-sdl2/action_dialog.c

SDL2 client: add action to small dipl dialog.

Use it in unit bribery and in city inciting.

See hrm Feature #660837
------------------------------------------------------------------------
r35617 | cazfi | 2017-05-17 04:29:09 +0100 (Wed, 17 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/classic/classicai.c
   M /trunk/ai/tex/texai.c
   M /trunk/ai/threaded/threadedai.c
   M /trunk/common/ai.h
   M /trunk/doc/README.AI_modules
   M /trunk/server/srv_main.c

Free ai_type private data

See hrm Bug #660840

------------------------------------------------------------------------
r35613 | cazfi | 2017-05-16 14:33:32 +0100 (Tue, 16 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/default/daidiplomacy.c

Do not set out-of-range AI love towards player launching spaceship

See hrm Bug #660363

------------------------------------------------------------------------
r35610 | sveinung | 2017-05-16 12:31:48 +0100 (Tue, 16 May 2017) | 7 lines
Changed paths:
   M /trunk/client/gui-gtk-3.0/action_dialog.c
   M /trunk/client/gui-gtk-3.22/action_dialog.c
   M /trunk/client/gui-gtk-4.0/action_dialog.c

Gtk clients: add action to action data.

Use it in unit bribery, city inciting, building sabotage and targeted tech
theft. Don't use it in the action selection dialog since the action data of
all actions are shared.

See hrm Feature #660487
------------------------------------------------------------------------
r35609 | sveinung | 2017-05-16 12:31:39 +0100 (Tue, 16 May 2017) | 6 lines
Changed paths:
   M /trunk/tools/Makefile.am
   M /trunk/tools/civmanual.c
   A /trunk/tools/tools_fc_interface.c
   A /trunk/tools/tools_fc_interface.h

freeciv-manual: split out fc_interface code.

Move freeciv-manual's implementation of fc_interface to the new module
tools_fc_interface so other tools may use it too.

See hrm Feature #660443
------------------------------------------------------------------------
r35606 | cazfi | 2017-05-15 22:40:50 +0100 (Mon, 15 May 2017) | 4 lines
Changed paths:
   M /trunk/client/tilespec.c

Apply activity offsets to workertask icons

See hrm Bug #660421

------------------------------------------------------------------------
r35605 | cazfi | 2017-05-15 22:15:19 +0100 (Mon, 15 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/tex/texai.c
   M /trunk/ai/tex/texaimsg.h
   M /trunk/ai/tex/texaiplayer.c
   M /trunk/ai/tex/texaiworld.c
   M /trunk/ai/tex/texaiworld.h

Tex: Un/register units from/to the world

See hrm Feature #659527

------------------------------------------------------------------------
r35603 | cazfi | 2017-05-15 21:47:30 +0100 (Mon, 15 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/tex/texaicity.c

Fix tex compile

See hrm Bug #660664

------------------------------------------------------------------------
r35601 | cazfi | 2017-05-15 19:53:18 +0100 (Mon, 15 May 2017) | 4 lines
Changed paths:
   M /trunk/common/game.c
   M /trunk/common/game.h
   M /trunk/data/alien/game.ruleset
   M /trunk/data/civ1/game.ruleset
   M /trunk/data/civ2/game.ruleset
   M /trunk/data/civ2civ3/game.ruleset
   M /trunk/data/classic/game.ruleset
   M /trunk/data/experimental/game.ruleset
   M /trunk/data/multiplayer/game.ruleset
   M /trunk/data/sandbox/game.ruleset
   M /trunk/data/stub/game.ruleset
   M /trunk/data/webperimental/game.ruleset
   M /trunk/server/ruleset.c
   M /trunk/server/savegame3.c
   M /trunk/tools/ruleutil/rulesave.c

Add ruleset capabilities for !ruleset_locked scenarios to use

See hrm Feature #659482

------------------------------------------------------------------------
r35600 | mir3x | 2017-05-15 18:48:15 +0100 (Mon, 15 May 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/optiondlg.cpp

Qt client - don't call non-const member functions on temporaries.

See hrm Bug #658871


------------------------------------------------------------------------
r35597 | mir3x | 2017-05-15 18:46:06 +0100 (Mon, 15 May 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/chatline.cpp
   M /trunk/client/gui-qt/citydlg.cpp
   M /trunk/client/gui-qt/dialogs.cpp
   M /trunk/client/gui-qt/diplodlg.cpp
   M /trunk/client/gui-qt/gui_main.cpp
   M /trunk/client/gui-qt/pages.cpp
   M /trunk/client/gui-qt/ratesdlg.cpp
   M /trunk/client/gui-qt/repodlgs.cpp
   M /trunk/client/gui-qt/shortcuts.cpp
   M /trunk/client/gui-qt/sidebar.cpp
   M /trunk/client/gui-qt/themes.cpp

Qt client - remove unused not trivial variables.

See hrm Bug #658869


------------------------------------------------------------------------
r35593 | mir3x | 2017-05-15 18:36:32 +0100 (Mon, 15 May 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/cityrep.cpp
   M /trunk/client/gui-qt/menu.cpp

Qt client - dont pass by value in foreach macro.

See hrm Bug #658868


------------------------------------------------------------------------
r35591 | mir3x | 2017-05-15 18:28:58 +0100 (Mon, 15 May 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/shortcuts.h

Qt client - Added Q_OBJECT macro to line_edit class.

See hrm Bug #658866


------------------------------------------------------------------------
r35585 | cazfi | 2017-05-15 18:15:53 +0100 (Mon, 15 May 2017) | 4 lines
Changed paths:
   M /trunk/doc/README.fcdb
   M /trunk/lua/database.lua

Update ticket links in documentation to point to hostedredmine.

See hrm Feature #660271

------------------------------------------------------------------------
r35582 | sveinung | 2017-05-15 01:38:59 +0100 (Mon, 15 May 2017) | 3 lines
Changed paths:
   M /trunk/common/server_settings.h

Change comment style from C++ style to C style.

See doc/CodingStyle
------------------------------------------------------------------------
r35580 | cazfi | 2017-05-14 23:56:02 +0100 (Sun, 14 May 2017) | 4 lines
Changed paths:
   M /trunk/client/client_main.c
   M /trunk/common/game.c
   M /trunk/common/game.h
   M /trunk/server/savegame3.c
   M /trunk/server/srv_main.c
   M /trunk/server/srv_main.h
   M /trunk/server/stdinhand.c
   M /trunk/tools/civmanual.c
   M /trunk/tools/ruledit/ruledit.cpp
   M /trunk/tools/ruleup.c

Reload current ruleset when loading !ruleset_locked scenario

See hrm Bug #659453

------------------------------------------------------------------------
r35578 | cazfi | 2017-05-14 21:07:51 +0100 (Sun, 14 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/default/aicity.c
   M /trunk/ai/default/aicity.h
   M /trunk/ai/default/daidomestic.c

Rename settler_want as worker_want

See hrm Feature #660200

------------------------------------------------------------------------
r35577 | cazfi | 2017-05-14 20:47:15 +0100 (Sun, 14 May 2017) | 4 lines
Changed paths:
   M /trunk/tools/ruledit/effect_edit.cpp
   M /trunk/tools/ruledit/tab_misc.cpp
   M /trunk/tools/ruledit/tab_misc.h

Add editing of always active effects

See hrm Feature #659227

------------------------------------------------------------------------
r35576 | cazfi | 2017-05-14 14:54:06 +0100 (Sun, 14 May 2017) | 2 lines
Changed paths:
   M /trunk/windows/installer_cross/helpers/installer-helper-gtk3.cmd
   M /trunk/windows/installer_cross/helpers/installer-helper-qt.cmd

Set eol-style of new .cmd files to CRLF

------------------------------------------------------------------------
r35573 | cazfi | 2017-05-14 10:14:46 +0100 (Sun, 14 May 2017) | 2 lines
Changed paths:
   M /trunk/translations/core/POTFILES.in

Update POTFILES.in to tex AI rename

------------------------------------------------------------------------
r35571 | cazfi | 2017-05-14 09:59:03 +0100 (Sun, 14 May 2017) | 4 lines
Changed paths:
   M /trunk/windows/Makefile.am
   M /trunk/windows/installer_cross/create-freeciv-gtk-qt-nsi.sh
   M /trunk/windows/installer_cross/create-freeciv-sdl2-nsi.sh
   A /trunk/windows/installer_cross/helpers
   A /trunk/windows/installer_cross/helpers/installer-helper-gtk3.cmd
   A /trunk/windows/installer_cross/helpers/installer-helper-qt.cmd
   M /trunk/windows/installer_cross/installer_build.sh

installer_cross: Execute gdk-pixbuf-query-loaders.exe when installing

See hrm Feature #660105

------------------------------------------------------------------------
r35570 | cazfi | 2017-05-14 09:30:35 +0100 (Sun, 14 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/default/aiunit.c
   M /trunk/ai/default/daimilitary.c
   M /trunk/client/control.c
   M /trunk/client/goto.c
   M /trunk/client/gui-gtk-3.0/action_dialog.c
   M /trunk/client/gui-gtk-3.0/citydlg.c
   M /trunk/client/gui-gtk-3.0/editprop.c
   M /trunk/client/gui-gtk-3.22/action_dialog.c
   M /trunk/client/gui-gtk-3.22/citydlg.c
   M /trunk/client/gui-gtk-3.22/editprop.c
   M /trunk/client/gui-gtk-4.0/action_dialog.c
   M /trunk/client/gui-gtk-4.0/citydlg.c
   M /trunk/client/gui-gtk-4.0/editprop.c
   M /trunk/client/gui-qt/dialogs.cpp
   M /trunk/client/gui-qt/hudwidget.cpp
   M /trunk/client/gui-sdl2/action_dialog.c
   M /trunk/common/actions.c
   M /trunk/common/aicore/pf_tools.c
   M /trunk/common/city.c
   M /trunk/common/combat.c
   M /trunk/common/map.c
   M /trunk/common/map.h
   M /trunk/common/movement.c
   M /trunk/common/movement.h
   M /trunk/common/reqtext.c
   M /trunk/common/requirements.c
   M /trunk/common/scriptcore/api_game_methods.c
   M /trunk/common/unit.c
   M /trunk/common/unitlist.c
   M /trunk/server/advisors/advgoto.c
   M /trunk/server/advisors/advruleset.c
   M /trunk/server/advisors/autoexplorer.c
   M /trunk/server/animals.c
   M /trunk/server/barbarian.c
   M /trunk/server/citytools.c
   M /trunk/server/edithand.c
   M /trunk/server/maphand.c
   M /trunk/server/plrhand.c
   M /trunk/server/sanitycheck.c
   M /trunk/server/savegame2.c
   M /trunk/server/savegame3.c
   M /trunk/server/scripting/api_server_edit.c
   M /trunk/server/unithand.c
   M /trunk/server/unittools.c

Add map parameter to can_exist_at family of functions

See hrm Feature #660079

------------------------------------------------------------------------
r35567 | cazfi | 2017-05-14 00:18:01 +0100 (Sun, 14 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/default/daidomestic.c

Remove hard limitation that AI wonder cities never build settlers

See hrm Bug #660089

------------------------------------------------------------------------
r35563 | sveinung | 2017-05-13 22:24:02 +0100 (Sat, 13 May 2017) | 6 lines
Changed paths:
   M /trunk/client/packhand.c
   M /trunk/common/networking/packets.def
   M /trunk/fc_version
   M /trunk/server/citytools.c

PACKET_WEB_CITY_INFO_ADDITION: be more careful.

Give the packet web_city_info_addition a field with the id of the city the
additional info is for. Cancel it where PACKET_CITY_INFO is canceled.

See hrm Feature #659446
------------------------------------------------------------------------
r35562 | sveinung | 2017-05-13 22:23:55 +0100 (Sat, 13 May 2017) | 7 lines
Changed paths:
   M /trunk/server/settings.c
   M /trunk/server/settings.h

Setting visibility to access level checker.

Make it possible to check if a server setting is visible to any player with
a certain access level rather than checking if a server setting is visible
to a specific player (based on his access level).

See hrm Feature #659408
------------------------------------------------------------------------
r35561 | sveinung | 2017-05-13 22:23:47 +0100 (Sat, 13 May 2017) | 5 lines
Changed paths:
   M /trunk/client/helpdata.c

Auto help: free list of quoted action blockers.

This fixes a memory leak. Found with Valgrind.

See hrm Bug #659405
------------------------------------------------------------------------
r35557 | cazfi | 2017-05-13 19:32:05 +0100 (Sat, 13 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/default/daimilitary.c

Increase AI desire to conquer cities

See hrm Feature #659537

------------------------------------------------------------------------
r35556 | jtn | 2017-05-13 15:25:38 +0100 (Sat, 13 May 2017) | 1 line
Changed paths:
   M /trunk/translations/nations/en_GB.po
   M /trunk/translations/ruledit/en_GB.po

Update my email address in nations,ruledit/en_GB.po too.
------------------------------------------------------------------------
r35549 | cazfi | 2017-05-13 13:30:55 +0100 (Sat, 13 May 2017) | 4 lines
Changed paths:
   M /trunk/doc/README.msys2
   M /trunk/windows/installer_msys2/Makefile

Update msys2 environment to 170422 level

See hrm Task #652797

------------------------------------------------------------------------
r35548 | cazfi | 2017-05-13 13:00:50 +0100 (Sat, 13 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/tex/texaiworld.c

Tex: Free city when it's destroyed from the world.

See hrm Bug #659528

------------------------------------------------------------------------
r35538 | cazfi | 2017-05-13 11:33:35 +0100 (Sat, 13 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/tex/Makefile.am
   A /trunk/ai/tex/texai.c (from /trunk/ai/tex/threxprai.c:35537)
   D /trunk/ai/tex/threxprai.c

Rename threxprai.c as texai.c

See hrm Feature #658487

------------------------------------------------------------------------
r35531 | jtn | 2017-05-13 11:02:18 +0100 (Sat, 13 May 2017) | 10 lines
Changed paths:
   M /trunk/server/savegame2.c
   M /trunk/server/savegame3.c

Bomb out after failing to load ruleset during savegame loading.

Since first parameter of sg_failure_ret() is an assert kind of pattern
to decide if any error handling is needed, having 'TRUE' there is
certainly an error. There is one such case, when loading of ruleset has
failed.

Patch by Marko Lindqvist.

See hrm bug #659503.
------------------------------------------------------------------------
r35530 | jtn | 2017-05-13 11:02:14 +0100 (Sat, 13 May 2017) | 3 lines
Changed paths:
   M /trunk/doc/README

Update README for freeciv-announce move.

See hrm feature #637953.
------------------------------------------------------------------------
r35528 | cazfi | 2017-05-12 18:58:25 +0100 (Fri, 12 May 2017) | 4 lines
Changed paths:
   M /trunk/tools/ruledit/effect_edit.cpp
   M /trunk/tools/ruledit/effect_edit.h

Add editing of effect requirements

See hrm Feature #659223

------------------------------------------------------------------------
r35527 | cazfi | 2017-05-12 16:28:13 +0100 (Fri, 12 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/default/aidiplomat.c
   M /trunk/ai/default/aiferry.c
   M /trunk/ai/default/aiparatrooper.c
   M /trunk/ai/default/aisettler.c
   M /trunk/ai/default/aitools.c
   M /trunk/ai/default/aiunit.c
   M /trunk/ai/default/daieffects.c
   M /trunk/client/climap.c
   M /trunk/client/climisc.c
   M /trunk/client/control.c
   M /trunk/client/editor.c
   M /trunk/client/goto.c
   M /trunk/client/gui-gtk-3.0/mapctrl.c
   M /trunk/client/gui-gtk-3.22/mapctrl.c
   M /trunk/client/gui-gtk-4.0/mapctrl.c
   M /trunk/client/gui-qt/mapview.cpp
   M /trunk/client/gui-qt/menu.cpp
   M /trunk/client/gui-sdl2/dialogs.c
   M /trunk/client/gui-sdl2/finddlg.c
   M /trunk/client/gui-sdl2/mapctrl.c
   M /trunk/client/mapctrl_common.c
   M /trunk/client/mapview_common.c
   M /trunk/client/mapview_common.h
   M /trunk/client/overview_common.c
   M /trunk/client/tilespec.c
   M /trunk/common/actions.c
   M /trunk/common/aicore/path_finding.c
   M /trunk/common/aicore/pf_tools.c
   M /trunk/common/base.c
   M /trunk/common/city.c
   M /trunk/common/combat.c
   M /trunk/common/extras.c
   M /trunk/common/featured_text.c
   M /trunk/common/map.c
   M /trunk/common/map.h
   M /trunk/common/mapimg.c
   M /trunk/common/metaknowledge.c
   M /trunk/common/movement.c
   M /trunk/common/requirements.c
   M /trunk/common/road.c
   M /trunk/common/scriptcore/api_game_find.c
   M /trunk/common/scriptcore/api_game_methods.c
   M /trunk/common/terrain.c
   M /trunk/common/unit.c
   M /trunk/server/advisors/advdata.c
   M /trunk/server/advisors/advgoto.c
   M /trunk/server/advisors/autoexplorer.c
   M /trunk/server/advisors/autosettlers.c
   M /trunk/server/animals.c
   M /trunk/server/barbarian.c
   M /trunk/server/citytools.c
   M /trunk/server/cityturn.c
   M /trunk/server/diplomats.c
   M /trunk/server/edithand.c
   M /trunk/server/gamehand.c
   M /trunk/server/generator/fracture_map.c
   M /trunk/server/generator/height_map.c
   M /trunk/server/generator/mapgen.c
   M /trunk/server/generator/mapgen_utils.c
   M /trunk/server/generator/mapgen_utils.h
   M /trunk/server/generator/startpos.c
   M /trunk/server/generator/temperature_map.c
   M /trunk/server/maphand.c
   M /trunk/server/notify.c
   M /trunk/server/plrhand.c
   M /trunk/server/sanitycheck.c
   M /trunk/server/savegame2.c
   M /trunk/server/savegame3.c
   M /trunk/server/srv_main.c
   M /trunk/server/stdinhand.c
   M /trunk/server/unithand.c
   M /trunk/server/unittools.c

Give map parameter to map_pos_to_tile()

See hrm Feature #659205

------------------------------------------------------------------------
r35519 | sveinung | 2017-05-12 13:55:27 +0100 (Fri, 12 May 2017) | 3 lines
Changed paths:
   M /trunk/client/helpdata.c

Auto help: document tired attack.

See hrm Feature #659208
------------------------------------------------------------------------
r35518 | sveinung | 2017-05-12 13:55:20 +0100 (Fri, 12 May 2017) | 3 lines
Changed paths:
   M /trunk/data/webperimental/buildings.ruleset
   M /trunk/data/webperimental/effects.ruleset
   M /trunk/data/webperimental/game.ruleset

webperimental: ally share A.Smith's Trading Co.

See hrm Feature #659192
------------------------------------------------------------------------
r35517 | sveinung | 2017-05-12 13:55:09 +0100 (Fri, 12 May 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-qt/menu.cpp
   M /trunk/data/civ1/game.ruleset
   M /trunk/data/civ2/game.ruleset
   M /trunk/data/civ2civ3/game.ruleset
   M /trunk/data/classic/game.ruleset
   M /trunk/data/experimental/game.ruleset
   M /trunk/data/multiplayer/game.ruleset
   M /trunk/data/sandbox/game.ruleset
   M /trunk/data/webperimental/game.ruleset
   M /trunk/server/ruleset.c

Change "Establish Embassy Stay"'s UI name.

Change the default UI name of the action "Establish Embassy Stay" from
"Establish embassy (and stay)" to "Become Ambassador".

See hrm Feature #659189
------------------------------------------------------------------------
r35516 | sveinung | 2017-05-12 13:55:00 +0100 (Fri, 12 May 2017) | 3 lines
Changed paths:
   M /trunk/tools/civmanual.c

freeciv-manual: show what unit obsoletes a unit.

See hrm Feature #659174
------------------------------------------------------------------------
r35515 | sveinung | 2017-05-12 13:54:53 +0100 (Fri, 12 May 2017) | 6 lines
Changed paths:
   M /trunk/server/unithand.c

handle_unit_get_actions(): fix target id finding.

A typo caused target id finding to abort after processing the first legal
action if a target unit existed. Fix it.

See hrm Bug #659158
------------------------------------------------------------------------
r35514 | sveinung | 2017-05-12 13:54:18 +0100 (Fri, 12 May 2017) | 8 lines
Changed paths:
   M /trunk/server/unithand.c

Initialize kind before use in check.

Initialize action not enabled explanation kind so it has a value to check
even if a suitable target is present.

Found with Valgrind.

See hrm Bug #659109
------------------------------------------------------------------------
r35513 | cazfi | 2017-05-11 23:08:45 +0100 (Thu, 11 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/tex/texaimsg.h
   M /trunk/ai/tex/texaiplayer.c
   M /trunk/ai/tex/texaiworld.c
   M /trunk/ai/tex/texaiworld.h
   M /trunk/ai/tex/threxprai.c

Un/register cities to/from tex AI world

See hrm Feature #658468

------------------------------------------------------------------------
r35511 | cazfi | 2017-05-11 22:03:46 +0100 (Thu, 11 May 2017) | 4 lines
Changed paths:
   M /trunk/data/sandbox/README.sandbox
   M /trunk/data/sandbox/terrain.ruleset

sandbox: Make Buoys visible only to those player who know Radio

See hrm Feature #658922

------------------------------------------------------------------------
r35509 | cazfi | 2017-05-11 21:05:06 +0100 (Thu, 11 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/Makefile.am
   M /trunk/ai/tex/Makefile.am
   M /trunk/ai/tex/threxprai.c
   M /trunk/configure.ac
   M /trunk/server/Makefile.am
   M /trunk/server/aiiface.c

Rename threxpr AI module as tex

See hrm Feature #658487

------------------------------------------------------------------------
r35507 | cazfi | 2017-05-11 15:15:22 +0100 (Thu, 11 May 2017) | 6 lines
Changed paths:
   M /trunk/ai/default/aitech.c

Restore global_advance_count after AI tech speculation

Reported by wotan <wotan>

See gna bug #24992

------------------------------------------------------------------------
r35505 | sveinung | 2017-05-11 12:06:34 +0100 (Thu, 11 May 2017) | 1 line
Changed paths:
   M /trunk/tools/ruleup.c
   M /trunk/tools/ruleutil/rulesave.c

Comment fact fix
------------------------------------------------------------------------
r35501 | sveinung | 2017-05-11 07:25:46 +0100 (Thu, 11 May 2017) | 5 lines
Changed paths:
   M /trunk/data/webperimental/buildings.ruleset
   M /trunk/data/webperimental/effects.ruleset
   M /trunk/data/webperimental/game.ruleset

webperimental: ally share J.S. Bach's Cathedral.

Apply J.S. Bach's Cathedral's happiness to allies of its owner too.

See hrm Feature #658833
------------------------------------------------------------------------
r35500 | sveinung | 2017-05-11 07:25:37 +0100 (Thu, 11 May 2017) | 8 lines
Changed paths:
   M /trunk/client/helpdata.c
   M /trunk/common/unittype.c
   M /trunk/server/actiontools.c
   M /trunk/server/unithand.c

Missile consumption: use action shared system.

Have the attack action use the shared action system when consuming units
with the Missile unit class flag.

This replaces the custom auto help for the Missile unit class flag.

See hrm Feature #657680
------------------------------------------------------------------------
r35499 | sveinung | 2017-05-11 07:25:25 +0100 (Thu, 11 May 2017) | 8 lines
Changed paths:
   M /trunk/server/citytools.c
   M /trunk/server/plrhand.c

Fix trade route memory leak.

Free the memory of the trade route structs canceled by the destruction of a
city or player.

Reported by Valgrind.

See hrm Bug #658824
------------------------------------------------------------------------
r35497 | cazfi | 2017-05-10 20:14:43 +0100 (Wed, 10 May 2017) | 4 lines
Changed paths:
   M /trunk/tools/ruledit/validity.c

Consider extra, that is visibility_req of another one, needed

See hrm Bug #658575

------------------------------------------------------------------------
r35496 | cazfi | 2017-05-10 17:55:59 +0100 (Wed, 10 May 2017) | 4 lines
Changed paths:
   M /trunk/tools/ruledit/Makefile.am
   A /trunk/tools/ruledit/effect_edit.cpp
   A /trunk/tools/ruledit/effect_edit.h
   M /trunk/tools/ruledit/tab_building.cpp
   M /trunk/tools/ruledit/tab_building.h
   M /trunk/tools/ruledit/validity.c
   M /trunk/tools/ruledit/validity.h

Add initial version of effect edit dialog to ruledit

See hrm Feature #658566

------------------------------------------------------------------------
r35492 | cazfi | 2017-05-10 16:38:47 +0100 (Wed, 10 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/default/aitools.c
   M /trunk/server/advisors/advgoto.c

Avoid double map_move_cost_unit()

See hrm Feature #658612

------------------------------------------------------------------------
r35488 | cazfi | 2017-05-10 16:08:09 +0100 (Wed, 10 May 2017) | 6 lines
Changed paths:
   M /trunk/data/nation/newfoundland.ruleset

Fix typo in the name of Grand Falls-Windsor

Reported by Michael Neil

See hrm Bug #658528

------------------------------------------------------------------------
r35477 | sveinung | 2017-05-10 09:15:16 +0100 (Wed, 10 May 2017) | 6 lines
Changed paths:
   M /trunk/data/webperimental/buildings.ruleset
   M /trunk/data/webperimental/effects.ruleset
   M /trunk/data/webperimental/game.ruleset

webperimental: ally share Sun Tzu's War Academy.

Make Sun Tzu's War Academy give its veteran bonus (combat and production) to
both its owner and to all his allies.

See hrm Feature #658515
------------------------------------------------------------------------
r35476 | sveinung | 2017-05-10 09:15:08 +0100 (Wed, 10 May 2017) | 7 lines
Changed paths:
   M /trunk/server/ruleset.c

Destroy the rs section list of goods.

Destroy the section list used to load goods from the ruleset.

Reported by Valgrind.

See hrm Bug #658475
------------------------------------------------------------------------
r35475 | sveinung | 2017-05-10 09:14:56 +0100 (Wed, 10 May 2017) | 7 lines
Changed paths:
   M /trunk/server/ruleset.c

Destroy the rs section list of achievements.

Destroy the section list used to load achievements from the ruleset.

Reported by Valgrind.

See hrm Bug #658472
------------------------------------------------------------------------
r35474 | sveinung | 2017-05-10 09:14:48 +0100 (Wed, 10 May 2017) | 5 lines
Changed paths:
   M /trunk/common/networking/dataio_json.c

JSON protocol: make estring reading more careful.

The copying of extra bytes was found with Valgrind.

See hrm Feature #658458
------------------------------------------------------------------------
r35473 | sveinung | 2017-05-10 09:14:40 +0100 (Wed, 10 May 2017) | 9 lines
Changed paths:
   M /trunk/common/networking/dataio_json.c

JSON protocol: fix sub field sending memory leak.

Steal the references to values created inline when put inside an object by
using json_object_set_new() rather than json_object_set().

Found with Valgrind.
Reported by Andreas RÃ¸sdal

See hrm Bug #658386
------------------------------------------------------------------------
r35472 | sveinung | 2017-05-10 09:14:32 +0100 (Wed, 10 May 2017) | 8 lines
Changed paths:
   M /trunk/common/generate_packets.py
   M /trunk/common/networking/dataio_json.c
   M /trunk/common/networking/packets_json.h

JSON protocol: fix field_addr memory leak.

Don't leak the memory where a packet's field address is stored.

Found with Valgrind.
Reported by Andreas RÃ¸sdal

See hrm Bug #658389
------------------------------------------------------------------------
r35471 | sveinung | 2017-05-10 09:14:22 +0100 (Wed, 10 May 2017) | 3 lines
Changed paths:
   M /trunk/data/webperimental/game.ruleset

webperimental: allow allied build wonder help.

See hrm Feature #658361
------------------------------------------------------------------------
r35470 | sveinung | 2017-05-10 08:52:44 +0100 (Wed, 10 May 2017) | 3 lines
Changed paths:
   M /trunk/client/helpdata.c

Auto help: say what the unit upgrades to.

See hrm Feature #658346
------------------------------------------------------------------------
r35468 | cazfi | 2017-05-10 06:06:24 +0100 (Wed, 10 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/Makefile.am
   A /trunk/ai/tex (from /trunk/ai/threxpr:35467)
   D /trunk/ai/threxpr
   M /trunk/configure.ac
   M /trunk/server/Makefile.am

Rename 'threxpr' directory as 'tex'

See hrm Feature #658487

------------------------------------------------------------------------
r35467 | cazfi | 2017-05-10 06:02:27 +0100 (Wed, 10 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/threxpr/texaiplayer.c

Fix double threxpr world close

See hrm Bug #658473

------------------------------------------------------------------------
r35466 | jtn | 2017-05-10 01:16:38 +0100 (Wed, 10 May 2017) | 4 lines
Changed paths:
   M /trunk/translations/core/ca.po
   M /trunk/translations/core/de.po
   M /trunk/translations/core/es.po
   M /trunk/translations/core/fi.po
   M /trunk/translations/core/fr.po
   M /trunk/translations/core/gd.po
   M /trunk/translations/core/pl.po
   M /trunk/translations/core/ru.po
   M /trunk/translations/core/uk.po

Manually adjust po-files after hrm feature #637953.

Only touched those translations which already had a non-fuzzy
translation of the affected string.
------------------------------------------------------------------------
r35462 | cazfi | 2017-05-08 14:50:59 +0100 (Mon, 08 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/threxpr/texaiworld.c

threxpr: do world object idex_init() / idex_free()

See hrm Feature #658118

------------------------------------------------------------------------
r35461 | cazfi | 2017-05-08 14:35:43 +0100 (Mon, 08 May 2017) | 4 lines
Changed paths:
   M /trunk/client/climisc.c
   M /trunk/common/game.c
   M /trunk/common/game.h
   M /trunk/common/player.c
   M /trunk/server/citytools.c
   M /trunk/server/unittools.c

Make game_remove_city|unit() to take world parameter

See hrm Feature #658117

------------------------------------------------------------------------
r35459 | cazfi | 2017-05-08 14:24:15 +0100 (Mon, 08 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/classic/classicai.c
   M /trunk/common/ai.h
   M /trunk/doc/README.AI_modules
   M /trunk/server/citytools.c
   M /trunk/server/unittools.c

Add city|unit_created|destroyed() to AI module API

See hrm Feature #658069

------------------------------------------------------------------------
r35457 | cazfi | 2017-05-08 14:17:26 +0100 (Mon, 08 May 2017) | 4 lines
Changed paths:
   M /trunk/tools/ruledit/req_edit.cpp
   M /trunk/tools/ruledit/tab_building.cpp
   M /trunk/tools/ruledit/tab_enablers.cpp
   M /trunk/tools/ruledit/tab_extras.cpp
   M /trunk/tools/ruledit/tab_good.cpp
   M /trunk/tools/ruledit/tab_gov.cpp

Make requirement editing available in non-experimental builds

See hrm Feature #658046

------------------------------------------------------------------------
r35454 | cazfi | 2017-05-08 14:07:16 +0100 (Mon, 08 May 2017) | 6 lines
Changed paths:
   M /trunk/server/techtools.c

Do not access out-of-bounds index A_FUTURE from global_advances[]

Reported by Per M

See hrm Bug #658073

------------------------------------------------------------------------
r35450 | cazfi | 2017-05-08 12:02:27 +0100 (Mon, 08 May 2017) | 6 lines
Changed paths:
   M /trunk/client/client_main.c
   M /trunk/client/mapctrl_common.c
   M /trunk/client/mapctrl_common.h
   M /trunk/client/options.c
   M /trunk/client/packhand.c
   M /trunk/server/srv_main.c

Fix "Manual Turn Done in AI mode"

Reported by Jacob Nevins <jtn>

See hrm Bug #657412

------------------------------------------------------------------------
r35448 | cazfi | 2017-05-07 21:13:55 +0100 (Sun, 07 May 2017) | 4 lines
Changed paths:
   M /trunk/windows/installer_cross/installer_build.sh

installer_cross: Ship gdk-pixbuf-query-loaders.exe

See hrm Feature #657983

------------------------------------------------------------------------
r35447 | cazfi | 2017-05-07 20:06:20 +0100 (Sun, 07 May 2017) | 4 lines
Changed paths:
   M /trunk/client/agents/cma_core.c
   M /trunk/client/gui-sdl2/mapview.c
   M /trunk/server/srv_main.c
   M /trunk/translations/core/POTFILES.in
   M /trunk/utility/Makefile.am
   A /trunk/utility/bugs.c
   A /trunk/utility/bugs.h
   M /trunk/utility/netintf.c
   M /trunk/utility/registry_ini.c

Add bugs.[ch] module

See hrm Feature #657706

------------------------------------------------------------------------
r35443 | cazfi | 2017-05-07 19:53:50 +0100 (Sun, 07 May 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-gtk-3.0/gui_main.c
   M /trunk/client/gui-gtk-3.22/gui_main.c
   M /trunk/client/gui-gtk-4.0/gui_main.c

Fix asserts about top notebook size.

Patch by Bernhard <aldot> and myself

See gna patch #7163

------------------------------------------------------------------------
r35439 | sveinung | 2017-05-07 11:56:54 +0100 (Sun, 07 May 2017) | 8 lines
Changed paths:
   M /trunk/data/civ2civ3/README.civ2civ3
   M /trunk/data/civ2civ3/units.ruleset
   M /trunk/data/sandbox/units.ruleset

civ2civ3: balance naval unit cost with attack.

Reduce the costs of naval units a bit so their cost/attack ratio becomes
similar to the other units.

Patch by David Fernandez <bardo>

See gna patch #8124
------------------------------------------------------------------------
r35438 | sveinung | 2017-05-07 11:56:46 +0100 (Sun, 07 May 2017) | 3 lines
Changed paths:
   M /trunk/server/ruleset.c

Fix error message typo "unkniwn" -> "unknown".

See hrm Bug #657821
------------------------------------------------------------------------
r35425 | sveinung | 2017-05-06 21:59:02 +0100 (Sat, 06 May 2017) | 13 lines
Changed paths:
   M /trunk/data/civ2civ3/README.civ2civ3
   M /trunk/data/civ2civ3/effects.ruleset
   M /trunk/data/civ2civ3/terrain.ruleset
   M /trunk/data/sandbox/effects.ruleset
   M /trunk/data/sandbox/terrain.ruleset

civ2civ3: base defense against all unit classes.

Make units inside bases less vulnerable against one type of attack,
especially at the final stages of the game, by giving fortresses a 50%
defense bonus against air unit and by giving Airbase a 50% defense bonus
against land and sea units.

Increase the vision radius inside airbases to the same value as fortresses
with astronomy.

Patch by David Fernandez <bardo>

See gna patch #8123
------------------------------------------------------------------------
r35424 | sveinung | 2017-05-06 21:58:54 +0100 (Sat, 06 May 2017) | 14 lines
Changed paths:
   M /trunk/common/unittype.c
   M /trunk/server/diplomats.c

Non Spy consumption: use action shared system.

Have the actions where units without the Spy unit type flag always are
consumed and units with the Spy utype flag has a chance to escape use the
shared action system when consuming non spies.

Using the system common to actions makes the auto help system aware that non
Spy units will be consumed.

By using the general action consumes actor system it becomes possible to
split those actions in a unit consuming and a unit escaping version in the
future.

See hrm Feature #657674
------------------------------------------------------------------------
r35423 | sveinung | 2017-05-06 21:58:47 +0100 (Sat, 06 May 2017) | 9 lines
Changed paths:
   M /trunk/client/helpdata.c

Auto help: only show Spy escape when relevant.

Spy actions are action enabler controlled from Freeciv 2.6. There is no
longer a guarantee that a unit with the Spy unit type flag can perform any
of the spy actions where a unit with the Spy utype flag is able to escape.
Since a unit type like that can't perform any of those actions its veterans
aren't more likely to survive missions.

See hrm Bug #657644
------------------------------------------------------------------------
r35422 | sveinung | 2017-05-06 21:58:39 +0100 (Sat, 06 May 2017) | 7 lines
Changed paths:
   M /trunk/server/diplomats.c
   M /trunk/server/diplomats.h
   M /trunk/server/unithand.c

Spy action performers: take action struct.

Have the functions that performs the spy actions take the action struct of
the action they are about to perform as a parameter rather than taking it as
an action id.

See hrm Feature #657611
------------------------------------------------------------------------
r35421 | sveinung | 2017-05-06 21:58:32 +0100 (Sat, 06 May 2017) | 5 lines
Changed paths:
   M /trunk/common/actions.c
   M /trunk/common/actions.h

action_has_result() doesn't modify its action.

Declare action_has_result()'s paction argument const.

See Feature #657600
------------------------------------------------------------------------
r35420 | sveinung | 2017-05-06 21:58:24 +0100 (Sat, 06 May 2017) | 10 lines
Changed paths:
   M /trunk/data/civ2civ3/terrain.ruleset
   M /trunk/data/sandbox/terrain.ruleset

civ2civ3: fix can't build on River typo.

It was supposed to be illegal to build Airbase, not Airstrip, on a tile with
a River.

(I applied the civ2civ3 fix to Sandbox too.)

Patch by David Fernandez <bardo>

See hrm Bug #657572
------------------------------------------------------------------------
r35419 | sveinung | 2017-05-06 21:58:16 +0100 (Sat, 06 May 2017) | 9 lines
Changed paths:
   M /trunk/data/civ2civ3/README.civ2civ3

civ2civ3: improve README.civ2civ3 text.

Happy borders aren't disabled after gna patch #7080. Don't claim it is.
Improve the English by removing capitalization from some words. Expand pop
to population.

Patch by David Fernandez <bardo>

See hrm Feature #657562
------------------------------------------------------------------------
r35418 | sveinung | 2017-05-06 21:58:06 +0100 (Sat, 06 May 2017) | 3 lines
Changed paths:
   M /trunk/server/actiontools.c
   M /trunk/server/actiontools.h
   M /trunk/server/diplomats.c
   M /trunk/server/unithand.c

Use actor_consuming_always to wipe the actor.

See hrm Feature #657310
------------------------------------------------------------------------
r35416 | cazfi | 2017-05-06 07:10:26 +0100 (Sat, 06 May 2017) | 6 lines
Changed paths:
   M /trunk/common/scriptcore/api_game_methods.c
   M /trunk/common/scriptcore/api_game_methods.h
   M /trunk/common/scriptcore/tolua_game.pkg

Add player.controlling_gui() to scripting API

Requested by Jacob Nevins <jtn>

See gna patch #7500

------------------------------------------------------------------------
r35414 | cazfi | 2017-05-06 05:02:30 +0100 (Sat, 06 May 2017) | 4 lines
Changed paths:
   M /trunk/tools/ruledit/Makefile.am
   M /trunk/tools/ruledit/ruledit_qt.cpp
   M /trunk/tools/ruledit/ruledit_qt.h
   A /trunk/tools/ruledit/tab_terrains.cpp
   A /trunk/tools/ruledit/tab_terrains.h
   M /trunk/tools/ruledit/validity.c
   M /trunk/tools/ruledit/validity.h

Add Terrains tab to ruledit

See hrm Feature #657637

------------------------------------------------------------------------
r35412 | cazfi | 2017-05-05 19:32:49 +0100 (Fri, 05 May 2017) | 4 lines
Changed paths:
   M /trunk/server/generator/fracture_map.c

Use '&&' instead of '*' in boolean context.

See hrm Bug #657355

------------------------------------------------------------------------
r35405 | sveinung | 2017-05-05 11:30:17 +0100 (Fri, 05 May 2017) | 9 lines
Changed paths:
   M /trunk/client/helpdata.c

Auto help for action actor consumption.

The help texts of unit types auto documents what actions the utype can
perform. It also lists some additional auto generated information about each
action. Add a warning to the help text of an action when
utype_is_consumed_by_action() detects that it always will consume the actor
unit.

See hrm Feature #657372
------------------------------------------------------------------------
r35404 | sveinung | 2017-05-05 11:30:07 +0100 (Fri, 05 May 2017) | 8 lines
Changed paths:
   M /trunk/common/actions.c
   M /trunk/common/actions.h
   M /trunk/common/unittype.c
   M /trunk/common/unittype.h
   M /trunk/server/diplomats.c
   M /trunk/server/diplomats.h
   M /trunk/server/unithand.c

Add action property actor_consuming_always.

Introduce the new action property actor_consuming_always. It is true if
successfully performing the action always consumes the actor. Have it
replace the spends_unit parameter of diplomat_embassy() and
diplomat_investigate().

See hrm Feature #657303
------------------------------------------------------------------------
r35403 | sveinung | 2017-05-05 11:29:53 +0100 (Fri, 05 May 2017) | 3 lines
Changed paths:
   M /trunk/server/diplomats.c

A non Spy is spent, not caught. It can't escape.

See hrm Feature #657298
------------------------------------------------------------------------
r35402 | sveinung | 2017-05-05 11:29:43 +0100 (Fri, 05 May 2017) | 1 line
Changed paths:
   M /trunk/common/actions.c

Comment typo fix.
------------------------------------------------------------------------
r35395 | cazfi | 2017-05-05 06:51:12 +0100 (Fri, 05 May 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-sdl2/gui_string.c

Fix comparison between pointer and zero character

See hrm Bug #657309

------------------------------------------------------------------------
r35393 | cazfi | 2017-05-05 06:24:13 +0100 (Fri, 05 May 2017) | 6 lines
Changed paths:
   M /trunk/client/helpdata.c
   M /trunk/client/packhand.c
   M /trunk/common/extras.c
   M /trunk/common/extras.h
   M /trunk/common/networking/packets.def
   M /trunk/common/tech.c
   M /trunk/data/alien/terrain.ruleset
   M /trunk/data/civ1/terrain.ruleset
   M /trunk/data/civ2/terrain.ruleset
   M /trunk/data/civ2civ3/terrain.ruleset
   M /trunk/data/classic/terrain.ruleset
   M /trunk/data/experimental/terrain.ruleset
   M /trunk/data/multiplayer/terrain.ruleset
   M /trunk/data/ruledit/comments.txt
   M /trunk/data/sandbox/terrain.ruleset
   M /trunk/data/stub/terrain.ruleset
   M /trunk/data/webperimental/terrain.ruleset
   M /trunk/fc_version
   M /trunk/server/maphand.c
   M /trunk/server/ruleset.c
   M /trunk/server/techtools.c

Add extra property visibility_req

Requested by Jacob Nevins <jtn>

See gna patch #4392

------------------------------------------------------------------------
r35390 | sveinung | 2017-05-04 23:26:49 +0100 (Thu, 04 May 2017) | 7 lines
Changed paths:
   M /trunk/common/actions.c

Explain why the probability is an interval.

Explain that the action probability is a wide interval because the player
don't have access to needed information in the action selection dialog
button tool tip.

See hrm Feature #657217
------------------------------------------------------------------------
r35387 | cazfi | 2017-05-04 16:26:44 +0100 (Thu, 04 May 2017) | 4 lines
Changed paths:
   M /trunk/common/scriptcore/api_game_methods.c
   M /trunk/common/scriptcore/api_game_methods.h
   M /trunk/common/scriptcore/tolua_game.pkg

Add calendar access functions to scripting API

See hrm Feature #656845

------------------------------------------------------------------------
r35385 | cazfi | 2017-05-04 15:59:08 +0100 (Thu, 04 May 2017) | 4 lines
Changed paths:
   M /trunk/windows/installer_cross/winbuild.sh

installer_cross: Store crosser.txt to installer packet

See hrm Feature #656589

------------------------------------------------------------------------
r35382 | sveinung | 2017-05-04 11:22:09 +0100 (Thu, 04 May 2017) | 13 lines
Changed paths:
   M /trunk/client/gui-gtk-3.0/unitselect.c
   M /trunk/client/gui-gtk-3.22/unitselect.c
   M /trunk/client/gui-gtk-4.0/unitselect.c

unitselect: don't create pix twice.

Delete the pre "Gtk3-client drawing code uses cairo" (gna patch #2715)
initialization of the variable pix in usdlg_tab_append_utype(). The original
patch had already deleted it from usdlg_tab_append_units(). No change is
therefore needed in usdlg_get_unit_image(), the current location of
usdlg_tab_append_units()'s unit drawing code.

This fixes a memory leak. (Detectable with Valgrind.)

Reported by Marko Lindqvist <cazfi>

See gna bug #25246
------------------------------------------------------------------------
r35380 | cazfi | 2017-05-03 20:24:55 +0100 (Wed, 03 May 2017) | 4 lines
Changed paths:
   M /trunk/tools/ruleup.c

Add --output DIRECTORY commandline parameter support to freeciv-ruleup

See hrm Feature #656672

------------------------------------------------------------------------
r35378 | cazfi | 2017-05-03 20:19:33 +0100 (Wed, 03 May 2017) | 4 lines
Changed paths:
   M /trunk/tools/ruledit/Makefile.am
   M /trunk/tools/ruledit/ruledit_qt.cpp
   M /trunk/tools/ruledit/ruledit_qt.h
   A /trunk/tools/ruledit/tab_extras.cpp
   A /trunk/tools/ruledit/tab_extras.h
   M /trunk/tools/ruledit/validity.c
   M /trunk/tools/ruledit/validity.h

Add extras tab to ruledit

See hrm Feature #656692

------------------------------------------------------------------------
r35375 | cazfi | 2017-05-03 15:55:12 +0100 (Wed, 03 May 2017) | 4 lines
Changed paths:
   M /trunk/INSTALL
   M /trunk/doc/README

Update documentation to state gtk3.22-client is the default

See hrm Feature #656463

------------------------------------------------------------------------
r35372 | sveinung | 2017-05-03 08:14:35 +0100 (Wed, 03 May 2017) | 10 lines
Changed paths:
   M /trunk/data/webperimental/terrain.ruleset

webperimental: restrict railroads, not roads.

Hrm Feature #653510 enabled the restrictinfra server setting by default. In
return it was supposed to make Road unrestricted by restrictinfra so it only
would apply to Railroad. But the UnrestrictedInfra flag was added to
Railroad rather than Road by accident. Move it where it was supposed to be.

Reported by Jacob Nevins

See hrm Bug #656627
------------------------------------------------------------------------
r35371 | sveinung | 2017-05-03 08:14:27 +0100 (Wed, 03 May 2017) | 5 lines
Changed paths:
   M /trunk/client/client_main.c

Make enum type conversion explicit.

Reported by Marko Lindqvist

See hrm Bug #655955
------------------------------------------------------------------------
r35369 | sveinung | 2017-05-02 13:47:39 +0100 (Tue, 02 May 2017) | 14 lines
Changed paths:
   M /trunk/ai/default/aicity.c
   M /trunk/ai/default/aidata.c
   M /trunk/ai/default/aidiplomat.c
   M /trunk/client/gui-gtk-3.0/action_dialog.c
   M /trunk/client/gui-gtk-3.22/action_dialog.c
   M /trunk/client/gui-gtk-4.0/action_dialog.c
   M /trunk/client/gui-qt/dialogs.cpp
   M /trunk/client/gui-qt/menu.cpp
   M /trunk/client/gui-sdl2/action_dialog.c
   M /trunk/client/packhand.c
   M /trunk/common/actions.c
   M /trunk/common/actions.h
   M /trunk/common/aicore/pf_tools.c
   M /trunk/data/civ1/game.ruleset
   M /trunk/data/civ2/game.ruleset
   M /trunk/data/civ2civ3/game.ruleset
   M /trunk/data/classic/game.ruleset
   M /trunk/data/experimental/game.ruleset
   M /trunk/data/multiplayer/game.ruleset
   M /trunk/data/sandbox/game.ruleset
   M /trunk/data/webperimental/game.ruleset
   M /trunk/doc/README.actions
   M /trunk/fc_version
   M /trunk/server/advisors/advdata.c
   M /trunk/server/diplomats.c
   M /trunk/server/diplomats.h
   M /trunk/server/ruleset.c
   M /trunk/server/savegame3.c
   M /trunk/server/unithand.c
   M /trunk/tools/ruleutil/rulesave.c

Split "Establish Embassy".

Stop relying on the Spy unit type flag to decide if "Establish Embassy"
consumes the actor unit. Split "Establish Embassy" in an actor unit
consuming and in a non actor unit consuming version.

This makes it possible to create a ruleset where all actor units, including
those with the Spy utype flag, are consumed during embassy establishing. It
makes a ruleset where no actor units, including those without the Spy utype
flag, are consumed during embassy establishing possible. It also makes more
complex rules, like "establishing an embassy during war consumes the actor
unit", possible.

See hrm Feature #656188
------------------------------------------------------------------------
r35366 | cazfi | 2017-05-02 13:33:49 +0100 (Tue, 02 May 2017) | 4 lines
Changed paths:
   M /trunk/data/themes/gui-gtk-3.22/Freeciv/gtk-3.0/gtk.css

Drop deprecated GtkMenuBar-internal-padding from the gtk3.22-client theme

See hrm Feature #656560

------------------------------------------------------------------------
r35364 | cazfi | 2017-05-02 13:30:45 +0100 (Tue, 02 May 2017) | 4 lines
Changed paths:
   M /trunk/common/networking/connection.h
   M /trunk/server/sernet.c
   M /trunk/server/srv_main.c

Store client gui_type

See hrm Feature #656558

------------------------------------------------------------------------
r35363 | cazfi | 2017-05-02 13:11:04 +0100 (Tue, 02 May 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/menu.c
   M /trunk/data/Makefile.am
   A /trunk/data/gtk4_menus.xml (from /trunk/data/gtk3.22_menus.xml:35362)

Add separate gtk4_menus.xml for gtk3x-client

See hrm Feature #656561

------------------------------------------------------------------------
r35362 | cazfi | 2017-05-02 07:08:41 +0100 (Tue, 02 May 2017) | 4 lines
Changed paths:
   M /trunk/client/packhand.c
   M /trunk/common/game.c
   M /trunk/common/idex.c
   M /trunk/common/idex.h
   M /trunk/common/player.c
   M /trunk/common/scriptcore/api_game_find.c
   M /trunk/common/world_object.h
   M /trunk/server/citytools.c
   M /trunk/server/savegame2.c
   M /trunk/server/savegame3.c
   M /trunk/server/unittools.c

Add idex hashes to world object

See hrm Feature #656546

------------------------------------------------------------------------
r35358 | cazfi | 2017-05-01 18:45:55 +0100 (Mon, 01 May 2017) | 6 lines
Changed paths:
   M /trunk/ai/default/daimilitary.c

Fix AI crash when there's no suitable ferryboat type

Reported by Eric <koqebwix>

See gna bug #25628

------------------------------------------------------------------------
r35356 | cazfi | 2017-05-01 18:27:34 +0100 (Mon, 01 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/stub/Makefile.am

Fix build when both tinycthread and stub AI enabled

See hrm Bug #656445

------------------------------------------------------------------------
r35355 | jtn | 2017-05-01 17:34:57 +0100 (Mon, 01 May 2017) | 3 lines
Changed paths:
   M /trunk/translations/core/en_GB.po

Update my email address in en_GB.po.

"0jacobnk.gna" is about to look dated (but will still reach me).
------------------------------------------------------------------------
r35349 | sveinung | 2017-05-01 15:30:28 +0100 (Mon, 01 May 2017) | 9 lines
Changed paths:
   M /trunk/ai/default/aicity.c
   M /trunk/ai/default/aidata.c
   M /trunk/ai/default/aidiplomat.c
   M /trunk/client/gui-gtk-3.0/action_dialog.c
   M /trunk/client/gui-gtk-3.22/action_dialog.c
   M /trunk/client/gui-gtk-4.0/action_dialog.c
   M /trunk/client/gui-qt/dialogs.cpp
   M /trunk/client/gui-qt/menu.cpp
   M /trunk/client/gui-sdl2/action_dialog.c
   M /trunk/client/packhand.c
   M /trunk/common/actions.c
   M /trunk/common/actions.h
   M /trunk/common/aicore/pf_tools.c
   M /trunk/data/alien/game.ruleset
   M /trunk/data/civ1/game.ruleset
   M /trunk/data/civ2/game.ruleset
   M /trunk/data/civ2civ3/game.ruleset
   M /trunk/data/classic/game.ruleset
   M /trunk/data/experimental/game.ruleset
   M /trunk/data/multiplayer/game.ruleset
   M /trunk/data/sandbox/game.ruleset
   M /trunk/data/webperimental/game.ruleset
   M /trunk/doc/README.actions
   M /trunk/fc_version
   M /trunk/server/advisors/advdata.c
   M /trunk/server/diplomats.c
   M /trunk/server/diplomats.h
   M /trunk/server/ruleset.c
   M /trunk/server/savegame3.c
   M /trunk/server/unithand.c
   M /trunk/tools/ruleutil/rulesave.c

Split "Investigate City".

Stop relying on the Spy unit type flag to decide if "Investigate City"
consumes the actor unit. Split "Investigate City" in an actor unit consuming
and in a non actor unit consuming version.

Requested by David Fernandez

See hrm Feature #655676
------------------------------------------------------------------------
r35348 | sveinung | 2017-05-01 15:30:13 +0100 (Mon, 01 May 2017) | 6 lines
Changed paths:
   M /trunk/server/savecompat.h
   M /trunk/server/savegame3.c

Use the savegame's action order.

This makes it possible to change the order of the actions without breaking
savegames where a unit has an order to go to a tile and perform some action.

See hrm Feature #655693
------------------------------------------------------------------------
r35346 | cazfi | 2017-05-01 15:00:06 +0100 (Mon, 01 May 2017) | 4 lines
Changed paths:
   M /trunk/windows/installer_cross/winbuild.sh

installer_cross: Build only stub ai to ruledit installer

See hrm Feature #656442

------------------------------------------------------------------------
r35345 | jtn | 2017-05-01 12:53:58 +0100 (Mon, 01 May 2017) | 3 lines
Changed paths:
   M /trunk/translations/core/en_GB.po

Merge current S2_5 en_GB translation for core strings (r35342). trunk stats:
76%: 5514 translated, 1088 fuzzy, 648 untranslated.

------------------------------------------------------------------------
r35338 | jtn | 2017-05-01 12:22:01 +0100 (Mon, 01 May 2017) | 6 lines
Changed paths:
   M /trunk/data/helpdata.txt

Fix truncated help string in freeciv.pot.

An edit made to data/helpdata.txt for hrm feature #637953 for mailing
list changes was malformed.

See hrm bug #656595.
------------------------------------------------------------------------
r35334 | cazfi | 2017-05-01 11:35:40 +0100 (Mon, 01 May 2017) | 4 lines
Changed paths:
   M /trunk/INSTALL

Update links to SDL/2 requirement packages in INSTALL

See hrm Feature #656476

------------------------------------------------------------------------
r35328 | jtn | 2017-05-01 10:26:25 +0100 (Mon, 01 May 2017) | 8 lines
Changed paths:
   M /trunk/bootstrap/freeciv-gtk3.22.appdata.xml.in
   M /trunk/bootstrap/freeciv-gtk3.appdata.xml.in
   M /trunk/bootstrap/freeciv-mp-gtk3.appdata.xml.in
   M /trunk/bootstrap/freeciv-mp-qt.appdata.xml.in
   M /trunk/bootstrap/freeciv-qt.appdata.xml.in
   M /trunk/bootstrap/freeciv-ruledit.appdata.xml.in
   M /trunk/bootstrap/freeciv-sdl2.appdata.xml.in
   M /trunk/bootstrap/freeciv-server.appdata.xml.in
   M /trunk/configure.ac
   M /trunk/data/helpdata.txt
   M /trunk/doc/FAQ
   M /trunk/doc/README
   M /trunk/doc/README.AI

Update mailing list details.

freeciv-dev and freeciv-i18n are confirmed to be moving to
freelists.org.
freeciv-announce and freeciv-commits are not sorted out yet.
Committing early, to get string change in place.

See hrm feature #637953.
------------------------------------------------------------------------
r35326 | cazfi | 2017-05-01 09:04:21 +0100 (Mon, 01 May 2017) | 4 lines
Changed paths:
   M /trunk/windows/installer_cross/winbuild.sh

installer_cross: Support MAKE_PARAMS

See hrm Feature #656458

------------------------------------------------------------------------
r35319 | sveinung | 2017-04-28 11:03:18 +0100 (Fri, 28 Apr 2017) | 9 lines
Changed paths:
   M /trunk/client/gui-qt/dialogs.cpp

Qt client: complete act sel dlg update code.

The code responsible for updating the action selection dialog when actions
change legality (added in gna patch #5365) was unfinished. This resulted in
the "Keep moving" button staying above new actions that becomes legal.

Complete the Qt client's act sel dlg update code.

See hrm Bug #655656
------------------------------------------------------------------------
r35318 | sveinung | 2017-04-28 11:03:11 +0100 (Fri, 28 Apr 2017) | 3 lines
Changed paths:
   M /trunk/server/srv_main.c
   M /trunk/server/srv_main.h
   M /trunk/tools/civmanual.c

Implement fc_interface for freeciv-manual.

See hrm Bug #655527
------------------------------------------------------------------------
r35317 | sveinung | 2017-04-28 11:03:03 +0100 (Fri, 28 Apr 2017) | 6 lines
Changed paths:
   M /trunk/client/helpdata.c

Rewrite building action auto help texts.

Drop act_tgt_city_range_building(). Inline the target city range description
texts where they are used. Rewrite the descriptions that sounds unnatural.

See hrm Feature #655512
------------------------------------------------------------------------
r35316 | sveinung | 2017-04-28 11:02:56 +0100 (Fri, 28 Apr 2017) | 6 lines
Changed paths:
   M /trunk/common/server_settings.c

server_settings: assert that fc_funcs exists.

The common server settings module makes use of functions from fc_interface.
Make sure they are there before trying to use them.

See hrm Feature #655515
------------------------------------------------------------------------
r35312 | jtn | 2017-04-28 00:26:24 +0100 (Fri, 28 Apr 2017) | 3 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/data/helpdata.txt
   M /trunk/doc/BUGS
   M /trunk/doc/FAQ
   M /trunk/doc/TODO
   M /trunk/doc/ca/BUGS.ca
   M /trunk/doc/de/BUGS.de
   M /trunk/doc/fr/BUGS.fr
   M /trunk/doc/ja/BUGS.ja
   M /trunk/doc/nl/BUGS.nl
   M /trunk/doc/sv/BUGS.sv

Update bug tracker URL to hostedredmine.

See hrm feature #655380.
------------------------------------------------------------------------
r35308 | cazfi | 2017-04-27 18:19:55 +0100 (Thu, 27 Apr 2017) | 4 lines
Changed paths:
   M /trunk/bootstrap/generate_gitrev.sh
   M /trunk/fc_version

Use short git revision identifier in version numbers

See hrm Feature #655305

------------------------------------------------------------------------
r35303 | sveinung | 2017-04-27 14:18:49 +0100 (Thu, 27 Apr 2017) | 1 line
Changed paths:
   M /trunk/server/srv_main.c

Comment fact fix
------------------------------------------------------------------------
r35302 | sveinung | 2017-04-27 14:18:40 +0100 (Thu, 27 Apr 2017) | 13 lines
Changed paths:
   M /trunk/client/client_main.c
   M /trunk/common/fc_interface.h
   M /trunk/common/fc_types.h
   M /trunk/common/server_settings.h

Don't include server_settings.h in fc_interface.h

The fc_interface module needs the sset_type enum and the server_setting_id
type to provide its server setting access abstractions. But fc_interface is
supposed to be used where the client and the server does things differently
yet still needs a common interface. It is already used in many non server
setting related places.

Stop pulling in server_settings.h everywhere fc_interface.h is included.
Move the sset_type enum and the server_setting_id type to fc_types.h and
include them to fc_interface.h from there.

See hrm Feature #655355
------------------------------------------------------------------------
r35300 | cazfi | 2017-04-26 19:14:40 +0100 (Wed, 26 Apr 2017) | 4 lines
Changed paths:
   M /trunk/windows/installer_cross/installer_build.sh
   M /trunk/windows/installer_cross/winbuild.sh

Support building installer_cross from a git repository

See hrm Feature #655148

------------------------------------------------------------------------
r35297 | cazfi | 2017-04-26 17:24:05 +0100 (Wed, 26 Apr 2017) | 4 lines
Changed paths:
   M /trunk/m4/no-client.m4

Fail --enable-client=gtk3.22 at configure time when gtk3 not present

See hrm Bug #654979

------------------------------------------------------------------------
r35295 | sveinung | 2017-04-26 12:58:29 +0100 (Wed, 26 Apr 2017) | 8 lines
Changed paths:
   M /trunk/client/helpdata.c

Auto help for the "Provoking" utype flag.

Auto document the "Provoking" unit type flag. The current text may confuse
users unaware that autoattack must be turned on. Explaining what autoattack
is would make the text even longer. Use hrm Feature #654853 to check if
autoattack is enabled. Only show the help text if it is.

See hrm Feature #655118
------------------------------------------------------------------------
r35293 | sveinung | 2017-04-25 22:13:00 +0100 (Tue, 25 Apr 2017) | 7 lines
Changed paths:
   M /trunk/common/server_settings.c
   M /trunk/common/server_settings.h

Server setting module bool value checker.

Make it easy to check the value of Boolean server settings that aren't sent
in PACKET_GAME_INFO by adding a boolean server setting value checker to the
server_settings module.

See hrm Feature #654853
------------------------------------------------------------------------
r35290 | cazfi | 2017-04-25 17:40:09 +0100 (Tue, 25 Apr 2017) | 4 lines
Changed paths:
   M /trunk/windows/installer_legacy/cleanup_checkout.sh
   M /trunk/windows/installer_msys2/cleanup_checkout.sh

Support VERSION_REVTYPE git builds on cleanup_checkout.sh

See hrm Feature #654688

------------------------------------------------------------------------
r35289 | igx31 | 2017-04-24 19:55:46 +0100 (Mon, 24 Apr 2017) | 3 lines
Changed paths:
   M /branches/S2_5/translations/freeciv/fr.po
   M /branches/S2_5/translations/nations/fr.po
   M /branches/S2_6/translations/freeciv/fr.po
   M /branches/S2_6/translations/nations/fr.po
   M /branches/S2_6/translations/ruledit/fr.po
   M /branches/S3_0/translations/core/fr.po
   M /branches/S3_0/translations/nations/fr.po
   M /branches/S3_0/translations/ruledit/fr.po
   M /trunk/translations/core/fr.po
   M /trunk/translations/nations/fr.po
   M /trunk/translations/ruledit/fr.po

Updated French translations


------------------------------------------------------------------------
r35287 | sveinung | 2017-04-24 03:47:27 +0100 (Mon, 24 Apr 2017) | 8 lines
Changed paths:
   M /trunk/client/client_main.c
   M /trunk/common/fc_interface.c
   M /trunk/common/fc_interface.h
   M /trunk/server/srv_main.c

Boolean server setting value access.

Add a function that gives access to the value of bool server settings to
fc_interface. This can be used to implement a ServerSetting requirement
type. It can also be used to check the value of Boolean server settings that
aren't sent in PACKET_GAME_INFO.

See hrm Feature #654153
------------------------------------------------------------------------
r35284 | cazfi | 2017-04-23 21:22:22 +0100 (Sun, 23 Apr 2017) | 2 lines
Changed paths:
   M /trunk/Makefile.am

Remove comment indicating that root Makefile.am would handle config.rpath

------------------------------------------------------------------------
r35281 | cazfi | 2017-04-23 20:12:58 +0100 (Sun, 23 Apr 2017) | 4 lines
Changed paths:
   M /trunk/doc/README.msys2
   M /trunk/windows/installer_msys2/Makefile

Support multiple make jobs in msys2 installer build

See hrm Feature #653645

------------------------------------------------------------------------
r35279 | sveinung | 2017-04-23 14:05:00 +0100 (Sun, 23 Apr 2017) | 6 lines
Changed paths:
   M /trunk/common/Makefile.am
   A /trunk/common/server_settings.c
   M /trunk/common/server_settings.h

Populate the server setting module.

Build server setting access functions on top of the functions exported in
the interface.

See hrm Feature #653904
------------------------------------------------------------------------
r35276 | cazfi | 2017-04-22 21:53:44 +0100 (Sat, 22 Apr 2017) | 2 lines
Changed paths:
   M /trunk/utility/ioz.h

Update comment to speak of freeciv_config.h instead of fc_config.h

------------------------------------------------------------------------
r35275 | cazfi | 2017-04-21 22:57:12 +0100 (Fri, 21 Apr 2017) | 6 lines
Changed paths:
   M /trunk/configure.ac

Fix build when --enable-sys-tolua-cmd=test does not find tolua

Reported by Sveinung Kvilhaugsvik

See hrm bug #653989

------------------------------------------------------------------------
r35270 | sveinung | 2017-04-21 01:56:09 +0100 (Fri, 21 Apr 2017) | 11 lines
Changed paths:
   M /trunk/client/client_main.c
   M /trunk/common/fc_interface.c
   M /trunk/common/fc_interface.h
   M /trunk/common/server_settings.h
   M /trunk/server/srv_main.c

Shared server setting access.

Server settings are stored and accessed differently in the client and in the
server. Introduce primitives for server setting access that works both in
client code and in server code. The plan is to build more complex access on
top of them.

Only access to the common (non value type specific) part of a setting is
included here.

See hrm Feature #653552
------------------------------------------------------------------------
r35269 | sveinung | 2017-04-20 22:40:10 +0100 (Thu, 20 Apr 2017) | 5 lines
Changed paths:
   M /trunk/data/webperimental/game.ruleset
   M /trunk/data/webperimental/terrain.ruleset

webperimental: enable restrictinfra by default...

...but limit it to railroads.

See hrm Feature #653510
------------------------------------------------------------------------
r35268 | sveinung | 2017-04-20 22:18:34 +0100 (Thu, 20 Apr 2017) | 27 lines
Changed paths:
   M /trunk/data/civ2civ3/README.civ2civ3
   M /trunk/data/civ2civ3/effects.ruleset
   M /trunk/data/civ2civ3/game.ruleset
   M /trunk/data/civ2civ3/units.ruleset
   M /trunk/data/sandbox/README.sandbox
   M /trunk/data/sandbox/effects.ruleset
   M /trunk/data/sandbox/game.ruleset
   M /trunk/data/sandbox/units.ruleset

civ2civ3: import some game options from sandbox.

- Avoid overpowered diplomats at the start of the game. Remove reduced bribe
  cost of settlers.
- Remove Illegal_Action_Move_Cost.
- Allow explorers to establish embassies like in sandbox. Allow explorers to
  investigate cities. Restore explorer cost from 20 to 30, so they cost the
  same as diplomats who can also perform those actions. Update the help text
  of Explorer. The ability to perform those actions means that the Partisan
  no longer obsoletes the Explorer.
- Allow the harmless actions "Establish Embassy" and "Investigate City"
  while the actor unit is inside a ship.
- Allow using a caravan to help a team mate build a wonder (like sandbox).
- Make caravan actions coherent by having them require some movement left
  like actions as suggested by Sveinung.
- Sync sandbox with the new changes. (Includes making "Enter Marketplace"
  coherent even if it doesn't appear in civ2civ3)
- sandbox: remove the Writing requirement for the Explorer to establish an
  embassy. The rule permitting explorers to establish embassies was imported
  to the civ2civ3 based sandbox from the classic based experimental. In
  classic (and therefore experimental) Writing is required to build a
  Diplomat. But in civ2civ3 (and therefore sandbox) a Diplomat can be built
  once Alphabet is known.

Patch by David Fernandez <bardo@gna>

See hrm Feature #650794
------------------------------------------------------------------------
r35265 | sveinung | 2017-04-20 12:27:23 +0100 (Thu, 20 Apr 2017) | 5 lines
Changed paths:
   M /trunk/data/civ2civ3/README.civ2civ3

"same than" -> "same as".

Patch by David Fernandez <bardo@gna>

See hrm Feature #653364
------------------------------------------------------------------------
r35264 | cazfi | 2017-04-19 19:15:07 +0100 (Wed, 19 Apr 2017) | 4 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/dependencies/tolua-5.2/src/Makefile.am

Build tolua cmd only if sys tolua not used

See hrm Feature #652961

------------------------------------------------------------------------
r35258 | sveinung | 2017-04-18 06:17:18 +0100 (Tue, 18 Apr 2017) | 3 lines
Changed paths:
   M /trunk/client/helpdata.c

Auto help for building action city protection.

See gna patch #7043
------------------------------------------------------------------------
r35257 | sveinung | 2017-04-18 06:17:10 +0100 (Tue, 18 Apr 2017) | 3 lines
Changed paths:
   M /trunk/client/helpdata.c

Auto help for action city target building need.

See gna patch #7042
------------------------------------------------------------------------
r35256 | sveinung | 2017-04-18 06:17:01 +0100 (Tue, 18 Apr 2017) | 3 lines
Changed paths:
   M /trunk/common/unit.c
   M /trunk/common/unit.h

Remove the unused function is_diplomat_unit().

See hrm Feature #651952
------------------------------------------------------------------------
r35255 | sveinung | 2017-04-18 06:16:51 +0100 (Tue, 18 Apr 2017) | 7 lines
Changed paths:
   M /trunk/common/requirements.c
   M /trunk/common/requirements.h

Universal is relevant to a requirement checker.

Introduce universal_is_relevant_to_requirement(). It uses the requirements
module's universal_found functions to see if a universal is relevant to a
requirement.

See hrm Feature #651673
------------------------------------------------------------------------
r35254 | cazfi | 2017-04-16 17:23:59 +0100 (Sun, 16 Apr 2017) | 4 lines
Changed paths:
   M /trunk/m4/gtk3x-client.m4

Require gtk+-3.90 for gtk3x-client

See hrm Feature #649666

------------------------------------------------------------------------
r35253 | cazfi | 2017-04-16 17:04:51 +0100 (Sun, 16 Apr 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/gui_main.c

Drop parameters from gtk_init() call

See hrm Feature #649543

------------------------------------------------------------------------
r35252 | cazfi | 2017-04-16 16:59:58 +0100 (Sun, 16 Apr 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/editgui.c

Replace gtk_toggle_button_set_mode() calls with modern constructs

See hrm Feature #649542

------------------------------------------------------------------------
r35251 | cazfi | 2017-04-16 16:54:58 +0100 (Sun, 16 Apr 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/action_dialog.c
   M /trunk/client/gui-gtk-4.0/chatline.c
   M /trunk/client/gui-gtk-4.0/choice_dialog.c
   M /trunk/client/gui-gtk-4.0/citizensinfo.c
   M /trunk/client/gui-gtk-4.0/citydlg.c
   M /trunk/client/gui-gtk-4.0/cityrep.c
   M /trunk/client/gui-gtk-4.0/cma_fe.c
   M /trunk/client/gui-gtk-4.0/dialogs.c
   M /trunk/client/gui-gtk-4.0/diplodlg.c
   M /trunk/client/gui-gtk-4.0/editgui.c
   M /trunk/client/gui-gtk-4.0/editprop.c
   M /trunk/client/gui-gtk-4.0/gamedlgs.c
   M /trunk/client/gui-gtk-4.0/gotodlg.c
   M /trunk/client/gui-gtk-4.0/gui_main.c
   M /trunk/client/gui-gtk-4.0/gui_stuff.c
   M /trunk/client/gui-gtk-4.0/happiness.c
   M /trunk/client/gui-gtk-4.0/helpdlg.c
   M /trunk/client/gui-gtk-4.0/inputdlg.c
   M /trunk/client/gui-gtk-4.0/inteldlg.c
   M /trunk/client/gui-gtk-4.0/mapctrl.c
   M /trunk/client/gui-gtk-4.0/menu.c
   M /trunk/client/gui-gtk-4.0/optiondlg.c
   M /trunk/client/gui-gtk-4.0/pages.c
   M /trunk/client/gui-gtk-4.0/plrdlg.c
   M /trunk/client/gui-gtk-4.0/unitselect.c
   M /trunk/client/gui-gtk-4.0/unitselunitdlg.c
   M /trunk/client/gui-gtk-4.0/voteinfo_bar.c
   M /trunk/client/gui-gtk-4.0/wldlg.c

Replace gtk_widget_show_all() calls with modern constructs

See hrm Feature #649541

------------------------------------------------------------------------
r35249 | cazfi | 2017-04-16 16:29:30 +0100 (Sun, 16 Apr 2017) | 4 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/tools/mpgui_gtk4.c

Make freeciv-mp-gtk3x compatible with gtk+-3.90

See hrm Feature #649665

------------------------------------------------------------------------
r35247 | cazfi | 2017-04-16 16:12:27 +0100 (Sun, 16 Apr 2017) | 4 lines
Changed paths:
   M /trunk/tools/Makefile.am
   M /trunk/tools/mpgui_gtk3.c
   M /trunk/tools/mpgui_gtk4.c

Build freeciv-mp-gtk3x out of mpgui_gtk4.c

See hrm Feature #649606

------------------------------------------------------------------------
r35243 | cazfi | 2017-04-16 11:02:06 +0100 (Sun, 16 Apr 2017) | 7 lines
Changed paths:
   M /trunk/configure.ac

Do not consider lack of gtk3 hard error when only testing

When testing which modpack installer gui to build, do not consider
lack of libgtk3 an hard error but move forward to testing next candidate.

See hrm bug #651009

------------------------------------------------------------------------
r35242 | jtn | 2017-04-16 10:17:18 +0100 (Sun, 16 Apr 2017) | 3 lines
Changed paths:
   M /trunk/doc/README.sound
   M /trunk/doc/de/BUGS.de
   M /trunk/doc/de/HOWTOPLAY.de
   M /trunk/doc/de/INSTALL.de
   M /trunk/doc/fr/BUGS.fr
   M /trunk/doc/fr/HOWTOPLAY.fr
   M /trunk/doc/it/HOWTOPLAY.it
   M /trunk/doc/it/INSTALL.it
   M /trunk/doc/ja/BUGS.ja
   M /trunk/doc/ja/HOWTOPLAY.ja
   M /trunk/doc/nl/BUGS.nl
   M /trunk/doc/nl/HOWTOPLAY.nl
   M /trunk/doc/sv/HOWTOPLAY.sv
   M /trunk/tools/modinst.h

Replace download.gna.org with files.freeciv.org.

See hrm bug #652494.
------------------------------------------------------------------------
r35235 | sveinung | 2017-04-12 14:54:12 +0100 (Wed, 12 Apr 2017) | 3 lines
Changed paths:
   M /trunk/common/server_settings.h
   M /trunk/server/settings.c
   M /trunk/server/stdinhand.c
   M /trunk/tools/civmanual.c
   M /trunk/tools/ruleutil/rulesave.c

Count the number of server setting types.

See hrm Feature #651514
------------------------------------------------------------------------
r35234 | sveinung | 2017-04-12 14:53:59 +0100 (Wed, 12 Apr 2017) | 8 lines
Changed paths:
   M /trunk/common/Makefile.am
   A /trunk/common/server_settings.h
   M /trunk/server/settings.c
   M /trunk/server/settings.h
   M /trunk/server/stdinhand.c
   M /trunk/tools/civmanual.c
   M /trunk/tools/ruleutil/rulesave.c

Move server setting kind enum to common.

Move the enum sset_type to common. This makes common code (like a
requirement type) that deals with server settings possible. Host it in the
new module server_settings. Rename sset_type's members so they get a unique
prefix.

See hrm Feature #651397
------------------------------------------------------------------------
r35224 | sveinung | 2017-04-12 10:55:46 +0100 (Wed, 12 Apr 2017) | 17 lines
Changed paths:
   M /trunk/data/civ2civ3/game.ruleset
   M /trunk/data/civ2civ3/terrain.ruleset

civ2civ3: adapt game starting options to v2.6.

- Add one diplomat as starting unit, so you have an alternative if your
  explorer dies, or the option to create an early embassy.
- Set 6 AIs by default (was 12). This halves the map size (set to tiles per
  player).
- Halve razechance by setting it to 10 (default is 20). (Like in some
  longturn games)
- Set revolentype to "Random, max always quicker". (Like in variant2)
- Reduce the size of glacier poles by setting temperature. Set flatpoles to
  0 so they do not always look the same.
- Adjust property_ocean_depth of oceanic terrain so there are less coastal
  oceans (values copied from variant2).

Patch by David Fernandez <bardo@gna>

See hrm Feature #650801
------------------------------------------------------------------------
r35223 | sveinung | 2017-04-12 10:55:24 +0100 (Wed, 12 Apr 2017) | 8 lines
Changed paths:
   M /trunk/data/civ2civ3/README.civ2civ3
   M /trunk/data/civ2civ3/game.ruleset
   M /trunk/data/sandbox/README.sandbox

civ2civ3: make outer workable tiles stealable.

Import sandbox's rule that a city's outer workable tiles can be stolen, but
not its inner tiles.

Patch by David Fernandez <bardo@gna> (README file messing by me)

See hrm Feature #651450
------------------------------------------------------------------------
r35222 | sveinung | 2017-04-12 10:55:03 +0100 (Wed, 12 Apr 2017) | 9 lines
Changed paths:
   M /trunk/data/civ2civ3/game.ruleset
   M /trunk/data/sandbox/game.ruleset

Improve some achievement related texts.

Hrm Feature #650794's improvements of civ2civ3 achievement texts applied to
both sandbox and civ2civ3. Texts copied from Experimental.

Reported by wotan <wotan@gna>
Patch by David Fernandez <bardo@gna>

See gna bug #25589
------------------------------------------------------------------------
r35221 | sveinung | 2017-04-12 10:54:41 +0100 (Wed, 12 Apr 2017) | 7 lines
Changed paths:
   M /trunk/common/actions.c

A visible unit may forbid a stack tgt action.

A unit the player is able to see may make a unit stack targeted action
illegal. Make action_prob_vs_units() use this fact to eliminate false
positives.

See hrm Feature #651396
------------------------------------------------------------------------
r35220 | sveinung | 2017-04-12 10:53:58 +0100 (Wed, 12 Apr 2017) | 6 lines
Changed paths:
   M /trunk/server/savecompat.c

Use 3.0 devel sg compatibility while it is there.

Freeciv 3.1 still has 3.0 development version save game compatibility code.
Use it.

See hrm Feature #651394
------------------------------------------------------------------------
r35219 | sveinung | 2017-04-12 10:53:44 +0100 (Wed, 12 Apr 2017) | 3 lines
Changed paths:
   M /trunk/server/settings.h

settings.h: add header group label comments.

See hrm Feature #651392
------------------------------------------------------------------------
r35217 | sveinung | 2017-04-10 13:13:50 +0100 (Mon, 10 Apr 2017) | 7 lines
Changed paths:
   M /trunk/common/unittype.c

Homogenize ustate unit action cache creator.

Make the unit state unit action cache creator function more like the other
unit action cache creators by moving the setting of ACTION_ANY below the
setting of ACTION_HOSTILE.

See hrm Feature #650568
------------------------------------------------------------------------
r35212 | sveinung | 2017-04-06 09:19:57 +0100 (Thu, 06 Apr 2017) | 6 lines
Changed paths:
   M /trunk/common/unittype.c

Homogenize diplrel unit action cache creator.

Make the diplrel unit action cache creator function more like the other unit
action cache creators by renaming its unit index variable.

See hrm Feature #650078
------------------------------------------------------------------------
r35211 | sveinung | 2017-04-06 09:19:49 +0100 (Thu, 06 Apr 2017) | 5 lines
Changed paths:
   M /trunk/data/webperimental/effects.ruleset
   M /trunk/data/webperimental/game.ruleset

webperimental: Mountain vision bonus.

Give land units a vision bonus on top of Mountains like civ2civ3 does.

See hrm Feature #650075
------------------------------------------------------------------------
r35210 | sveinung | 2017-04-06 09:19:12 +0100 (Thu, 06 Apr 2017) | 6 lines
Changed paths:
   M /trunk/common/actions.c

Detect city blocks unit stack tgt action.

Don't offer to do a unit stack targeted action against the units that may be
hidden in a city when the action can't be done to unit stacks inside a city.

See hrm Feature #650074
------------------------------------------------------------------------
r35203 | sveinung | 2017-04-05 15:22:30 +0100 (Wed, 05 Apr 2017) | 3 lines
Changed paths:
   M /trunk/common/unittype.c
   M /trunk/common/unittype.h

Cache target CityTile state action legality.

See hrm Feature #649824
------------------------------------------------------------------------
r35202 | sveinung | 2017-04-05 15:22:23 +0100 (Wed, 05 Apr 2017) | 7 lines
Changed paths:
   M /trunk/common/player.c
   M /trunk/common/player.h

Make it possible to check if 0 units is certain.

Allow checking if a player can reason that a tile without any reported units
really has no units on it. The presence of units is reported by the units
them self or by an occupied city.

See hrm Feature #649819
------------------------------------------------------------------------
r35201 | sveinung | 2017-04-05 15:22:14 +0100 (Wed, 05 Apr 2017) | 5 lines
Changed paths:
   M /trunk/common/requirements.h
   M /trunk/common/unittype.c

Stop sharing requirement_unit_state_ereq().

Have it live in common/unittype.c where it is used.

See hrm Feature #649817
------------------------------------------------------------------------
r35200 | sveinung | 2017-04-05 15:22:01 +0100 (Wed, 05 Apr 2017) | 6 lines
Changed paths:
   M /trunk/common/unittype.c

Diplrel action cache: non hostile isn't hostile.

Stop the diplrel utype action cache from saying that a diplrel allows a
hostile action when it allows a non hostile action.

See hrm Bug #649816
------------------------------------------------------------------------
r35198 | sveinung | 2017-04-04 13:44:46 +0100 (Tue, 04 Apr 2017) | 1 line
Changed paths:
   M /trunk/common/actions.c

Comment grammer fix
------------------------------------------------------------------------
r35196 | sveinung | 2017-04-03 15:47:34 +0100 (Mon, 03 Apr 2017) | 1 line
Changed paths:
   M /trunk/common/player.c

Comment grammar fix
------------------------------------------------------------------------
r35195 | cazfi | 2017-04-02 17:24:54 +0100 (Sun, 02 Apr 2017) | 7 lines
Changed paths:
   M /trunk/client/Makefile.am
   M /trunk/configure.ac
   M /trunk/m4/gtk3x-client.m4

Plug gtk3x-client to build

It builds against gtk+-3.89.2.
It only builds. It doesn't work yet.

See hrm Feature #647936

------------------------------------------------------------------------
r35193 | cazfi | 2017-04-02 09:53:40 +0100 (Sun, 02 Apr 2017) | 4 lines
Changed paths:
   A /trunk/tools/mpgui_gtk4.c (from /trunk/tools/mpgui_gtk3.c:35192)

Copy mpgui_gtk3.c as baseline of mpgui_gtk4.c development

See hrm Task #649536

------------------------------------------------------------------------
r35192 | cazfi | 2017-04-02 09:41:40 +0100 (Sun, 02 Apr 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/mapview.c

Drop gdk_window_process_updates() call

See hrm Feature #647935

------------------------------------------------------------------------
r35191 | cazfi | 2017-04-01 21:40:00 +0100 (Sat, 01 Apr 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/themes.c

Drop third parameter from gtk_css_provider_load_from_file() call

See hrm Feature #647928

------------------------------------------------------------------------
r35186 | sveinung | 2017-04-01 21:14:14 +0100 (Sat, 01 Apr 2017) | 5 lines
Changed paths:
   M /trunk/doc/README.actions

README.actions: server option spelling fix.

The server setting is called unreachableprotects, not unreachable_protects.

See hrm Bug #648798
------------------------------------------------------------------------
r35185 | sveinung | 2017-04-01 21:13:25 +0100 (Sat, 01 Apr 2017) | 3 lines
Changed paths:
   M /trunk/server/rscompat.c

rscompat: the "Provoking" uflag was added in 3.0.

See hrm Bug #648789
------------------------------------------------------------------------
r35184 | sveinung | 2017-04-01 21:13:16 +0100 (Sat, 01 Apr 2017) | 12 lines
Changed paths:
   M /trunk/client/client_main.c
   M /trunk/common/actions.c
   M /trunk/common/fc_interface.c
   M /trunk/common/fc_interface.h
   M /trunk/server/srv_main.c

Make target-city-must-be-known precise.

The rule that a city must be known to a player before he can perform an
action to it used to be content when the player knew the city's tile. It was
therefore possible to act against an unknown city founded at a tile observed
before the city was founded.

Add player_tile_city_id_get() to the Freeciv interface. This makes it
possible to check if the city it self is known. Use it to make the rule
precise.

See Feature #648787
------------------------------------------------------------------------
r35183 | sveinung | 2017-04-01 21:13:05 +0100 (Sat, 01 Apr 2017) | 1 line
Changed paths:
   M /trunk/server/savegame3.c

Comment improvement
------------------------------------------------------------------------
r35182 | cazfi | 2017-04-01 21:00:05 +0100 (Sat, 01 Apr 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/mapview.c

Add third parameter to gdk_window_begin_draw_frame() calls

See hrm Feature #647934

------------------------------------------------------------------------
r35181 | cazfi | 2017-04-01 19:10:54 +0100 (Sat, 01 Apr 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/gui_main.c
   M /trunk/client/gui-gtk-4.0/mapctrl.c

Drop deprecated gtk_widget_set_app_paintable() calls

See hrm Feature #647932

------------------------------------------------------------------------
r35180 | cazfi | 2017-04-01 18:23:21 +0100 (Sat, 01 Apr 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/colors.c

Remove use of GdkVisual

See hrm Feature #647933

------------------------------------------------------------------------
r35179 | cazfi | 2017-04-01 13:33:13 +0100 (Sat, 01 Apr 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/cma_fe.c

Drop gtk_button_set_image_position() call

See hrm Feature #647931

------------------------------------------------------------------------
r35178 | cazfi | 2017-04-01 11:50:22 +0100 (Sat, 01 Apr 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/citydlg.c
   M /trunk/client/gui-gtk-4.0/gui_stuff.c
   M /trunk/client/gui-gtk-4.0/mapview.c

Drop fourth parameter from gtk_css_provider_load_from_data() calls

See hrm Feature #647927

------------------------------------------------------------------------
r35177 | cazfi | 2017-04-01 10:58:52 +0100 (Sat, 01 Apr 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/choice_dialog.c
   M /trunk/client/gui-gtk-4.0/citydlg.c
   M /trunk/client/gui-gtk-4.0/cma_fe.c
   M /trunk/client/gui-gtk-4.0/dialogs.c
   M /trunk/client/gui-gtk-4.0/diplodlg.c
   M /trunk/client/gui-gtk-4.0/editgui.c
   M /trunk/client/gui-gtk-4.0/editprop.c
   M /trunk/client/gui-gtk-4.0/gui_main.c
   M /trunk/client/gui-gtk-4.0/gui_stuff.c
   M /trunk/client/gui-gtk-4.0/happiness.c
   M /trunk/client/gui-gtk-4.0/helpdlg.c
   M /trunk/client/gui-gtk-4.0/inteldlg.c
   M /trunk/client/gui-gtk-4.0/mapctrl.c
   M /trunk/client/gui-gtk-4.0/pages.c
   M /trunk/client/gui-gtk-4.0/unitselect.c

Replace gtk_container_set_border_width() with modern constructs

See hrm Feature #647929

------------------------------------------------------------------------
r35176 | cazfi | 2017-04-01 10:20:07 +0100 (Sat, 01 Apr 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/chatline.c
   M /trunk/client/gui-gtk-4.0/editprop.c
   M /trunk/client/gui-gtk-4.0/gui_stuff.c
   M /trunk/client/gui-gtk-4.0/voteinfo_bar.c

Replace gtk_button_set_image() with modern constructs

See hrm Feature #647930

------------------------------------------------------------------------
r35175 | cazfi | 2017-04-01 09:17:50 +0100 (Sat, 01 Apr 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/chatline.c
   M /trunk/client/gui-gtk-4.0/editgui.c
   M /trunk/client/gui-gtk-4.0/gamedlgs.c
   M /trunk/client/gui-gtk-4.0/gotodlg.c
   M /trunk/client/gui-gtk-4.0/inputdlg.c
   M /trunk/client/gui-gtk-4.0/optiondlg.c
   M /trunk/client/gui-gtk-4.0/unitselect.c

Drop fifth parameter from gtk_box_pack_start() calls

See hrm Feature #647926

------------------------------------------------------------------------
r35172 | cazfi | 2017-03-31 16:53:21 +0100 (Fri, 31 Mar 2017) | 4 lines
Changed paths:
   M /trunk/dependencies/luasql/README
   M /trunk/dependencies/luasql/Version
   M /trunk/dependencies/luasql/src/ls_mysql.c
   M /trunk/dependencies/luasql/src/ls_postgres.c
   M /trunk/dependencies/luasql/src/ls_sqlite3.c
   M /trunk/dependencies/luasql/src/luasql.c

Updated included luasql files to luasql-2.3.5 level.

See hrm Feature #648391

------------------------------------------------------------------------
r35171 | cazfi | 2017-03-31 14:21:32 +0100 (Fri, 31 Mar 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/gui_main.c
   M /trunk/client/gui-gtk-4.0/gui_main.h

Gtk3x-client identifies itself as one

See hrm Feature #637962

------------------------------------------------------------------------
r35168 | sveinung | 2017-03-28 21:00:40 +0100 (Tue, 28 Mar 2017) | 6 lines
Changed paths:
   M /trunk/data/webperimental/game.ruleset

webperimental: allow airlift to and from allies.

Set the default value for the airliftingstyle setting so it allows
airlifting to and from allied cities by default.

See hrm Feature #647963
------------------------------------------------------------------------
r35167 | sveinung | 2017-03-28 21:00:30 +0100 (Tue, 28 Mar 2017) | 6 lines
Changed paths:
   M /trunk/common/actions.c
   M /trunk/server/unithand.c

unit_get_actions: stop city existence leakage.

Stop leaking if a previously observed city still exists when responding to
a request for action probabilities in handle_unit_get_actions().

See gna bug #25282
------------------------------------------------------------------------
r35165 | cazfi | 2017-03-28 16:57:29 +0100 (Tue, 28 Mar 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/action_dialog.c
   M /trunk/client/gui-gtk-4.0/canvas.c
   M /trunk/client/gui-gtk-4.0/chatline.c
   M /trunk/client/gui-gtk-4.0/choice_dialog.c
   M /trunk/client/gui-gtk-4.0/citizensinfo.c
   M /trunk/client/gui-gtk-4.0/citydlg.c
   M /trunk/client/gui-gtk-4.0/cityrep.c
   M /trunk/client/gui-gtk-4.0/cma_fe.c
   M /trunk/client/gui-gtk-4.0/colors.c
   M /trunk/client/gui-gtk-4.0/connectdlg.c
   M /trunk/client/gui-gtk-4.0/dialogs.c
   M /trunk/client/gui-gtk-4.0/diplodlg.c
   M /trunk/client/gui-gtk-4.0/editgui.c
   M /trunk/client/gui-gtk-4.0/editprop.c
   M /trunk/client/gui-gtk-4.0/finddlg.c
   M /trunk/client/gui-gtk-4.0/gamedlgs.c
   M /trunk/client/gui-gtk-4.0/gotodlg.c
   M /trunk/client/gui-gtk-4.0/graphics.c
   M /trunk/client/gui-gtk-4.0/graphics.h
   M /trunk/client/gui-gtk-4.0/gui_main.c
   M /trunk/client/gui-gtk-4.0/gui_stuff.c
   M /trunk/client/gui-gtk-4.0/happiness.c
   M /trunk/client/gui-gtk-4.0/happiness.h
   M /trunk/client/gui-gtk-4.0/helpdlg.c
   M /trunk/client/gui-gtk-4.0/inputdlg.c
   M /trunk/client/gui-gtk-4.0/inteldlg.c
   M /trunk/client/gui-gtk-4.0/luaconsole.c
   M /trunk/client/gui-gtk-4.0/mapctrl.c
   M /trunk/client/gui-gtk-4.0/mapview.c
   M /trunk/client/gui-gtk-4.0/mapview.h
   M /trunk/client/gui-gtk-4.0/menu.c
   M /trunk/client/gui-gtk-4.0/messagedlg.c
   M /trunk/client/gui-gtk-4.0/messagewin.c
   M /trunk/client/gui-gtk-4.0/optiondlg.c
   M /trunk/client/gui-gtk-4.0/pages.c
   M /trunk/client/gui-gtk-4.0/plrdlg.c
   M /trunk/client/gui-gtk-4.0/repodlgs.c
   M /trunk/client/gui-gtk-4.0/soundset_dlg.c
   M /trunk/client/gui-gtk-4.0/spaceshipdlg.c
   M /trunk/client/gui-gtk-4.0/sprite.c
   M /trunk/client/gui-gtk-4.0/theme_dlg.c
   M /trunk/client/gui-gtk-4.0/themes.c
   M /trunk/client/gui-gtk-4.0/tileset_dlg.c
   M /trunk/client/gui-gtk-4.0/transportdlg.c
   M /trunk/client/gui-gtk-4.0/unitselect.c
   M /trunk/client/gui-gtk-4.0/unitselunitdlg.c
   M /trunk/client/gui-gtk-4.0/voteinfo_bar.c
   M /trunk/client/gui-gtk-4.0/wldlg.c

Set gui-gtk-4.0 include dir comments correctly

See hrm Feature #647950

------------------------------------------------------------------------
r35164 | cazfi | 2017-03-28 16:35:31 +0100 (Tue, 28 Mar 2017) | 4 lines
Changed paths:
   M /trunk/client/Makefile.am
   M /trunk/client/gui-gtk-3.22/Makefile.am
   M /trunk/configure.ac
   M /trunk/m4/gtk3.22-client.m4

Clean up gtk3.22-client bootstrap variables

See hrm Feature #647949

------------------------------------------------------------------------
r35163 | cazfi | 2017-03-26 18:43:36 +0100 (Sun, 26 Mar 2017) | 4 lines
Changed paths:
   A /trunk/client/gui-gtk-4.0 (from /trunk/client/gui-gtk-3.22:35162)

Copied gui-gtk-3.22 as baseline of gui-gtk-4.0

See hrm Feature #637945

------------------------------------------------------------------------
r35160 | sveinung | 2017-03-26 15:33:14 +0100 (Sun, 26 Mar 2017) | 6 lines
Changed paths:
   M /trunk/client/control.c
   M /trunk/client/gui-gtk-3.0/action_dialog.c
   M /trunk/client/gui-gtk-3.22/action_dialog.c
   M /trunk/client/gui-qt/dialogs.cpp
   M /trunk/client/packhand.c
   M /trunk/common/networking/packets.def
   M /trunk/fc_version
   M /trunk/server/unithand.c

packet_unit_get_actions: don't specify tgt city.

Drop the unit_get_actions packet's ability to specify city id. There is
never more than one city at a tile. Take the city from the tile.

See hrm Feature #647692
------------------------------------------------------------------------
r35159 | sveinung | 2017-03-26 15:33:04 +0100 (Sun, 26 Mar 2017) | 7 lines
Changed paths:
   M /trunk/server/unithand.c

Check that target is at target tile.

Have handle_unit_get_actions() check that target unit and target city is
located at the target tile. Assuming this makes it safe to just check the
tile.

See hrm Feature #647175
------------------------------------------------------------------------
r35156 | sveinung | 2017-03-24 11:44:49 +0000 (Fri, 24 Mar 2017) | 6 lines
Changed paths:
   M /trunk/server/unithand.c

Always initialize probabilities to ACTPROB_NA.

Simplify handle_unit_get_actions() by always initializing the unit_actions
packet's probabilities field to ACTPROB_NA.

See hrm Feature #647145
------------------------------------------------------------------------
r35155 | sveinung | 2017-03-24 11:44:40 +0000 (Fri, 24 Mar 2017) | 8 lines
Changed paths:
   M /trunk/server/settings.c

Allow non hack users to disable timeout.

A non hack user may enable timeout by setting it to a value above 30
seconds. Let him disable it too.

Requested by drdogbot7 at the Freeciv forum.

See hrm Feature #647101
------------------------------------------------------------------------
r35151 | sveinung | 2017-03-22 15:31:32 +0000 (Wed, 22 Mar 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-sdl2/action_dialog.c

SDL2 client: add "Upgrade Unit" to act sel dlg.

Add a button for the "Upgrade Unit" action to the action selection dialog.
This makes the SDL2 client's action selection dialog cover all actions.

See hrm Feature #646483
------------------------------------------------------------------------
r35150 | sveinung | 2017-03-22 15:31:23 +0000 (Wed, 22 Mar 2017) | 6 lines
Changed paths:
   M /trunk/server/savegame3.c

"Able to save all actions" checks actions.

Make the assertion that all actions can be saved in a unit order check the
max number of actions. This prepares it for generic actions.

See hrm Feature #646480
------------------------------------------------------------------------
r35149 | sveinung | 2017-03-22 15:31:14 +0000 (Wed, 22 Mar 2017) | 5 lines
Changed paths:
   M /trunk/client/helpdata.c

helpdata: generate block help for all actions.

Prepare help text generation for action blocked_by for generic actions.

See hrm Feature #646479
------------------------------------------------------------------------
r35144 | sveinung | 2017-03-22 11:02:10 +0000 (Wed, 22 Mar 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-qt/dialogs.cpp

Qt client: add "Upgrade Unit" to act sel dlg.

Add a button for the "Upgrade Unit" action to the action selection dialog.
This makes the Qt client's action selection dialog cover all actions.

See hrm Feature #646168
------------------------------------------------------------------------
r35143 | sveinung | 2017-03-22 11:02:02 +0000 (Wed, 22 Mar 2017) | 8 lines
Changed paths:
   M /trunk/client/climisc.c

act_prob_cache size is ruleset number of actions.

The action probabilities are copied into it using action_iterate. It will
therefore never have to hold more than NUM_ACTIONS actions. This change can
therefore go in before Freeciv stops transferring action probabilities for
non existing actions after actions have been made generic.

See hrm Feature #646167
------------------------------------------------------------------------
r35142 | sveinung | 2017-03-22 11:01:52 +0000 (Wed, 22 Mar 2017) | 6 lines
Changed paths:
   M /trunk/server/unithand.c

Simplify "interpret move as action" handling.

Get the explanation why no action is possible when the client asks what
actions the unit can perform against the target tile.

See hrm Feature #645941
------------------------------------------------------------------------
r35141 | sveinung | 2017-03-22 11:01:41 +0000 (Wed, 22 Mar 2017) | 6 lines
Changed paths:
   M /trunk/server/savegame3.c

Document "able to save all actions" assertion.

Document the absence of an off by one error in the assertion that all
actions can be saved in a unit order.

See hrm Bug #645817
------------------------------------------------------------------------
r35134 | sveinung | 2017-03-20 10:34:27 +0000 (Mon, 20 Mar 2017) | 1 line
Changed paths:
   M /trunk/common/actions.c

Comment fact fix
------------------------------------------------------------------------
r35133 | sveinung | 2017-03-20 10:34:19 +0000 (Mon, 20 Mar 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-gtk-3.0/action_dialog.c
   M /trunk/client/gui-gtk-3.22/action_dialog.c

Gtk clients: add "Upgrade Unit" to act sel dlg.

Add a button for the "Upgrade Unit" action to the action selection dialog.
This makes the GTK clients' action selection dialog cover all actions.

See hrm Feature #645832
------------------------------------------------------------------------
r35132 | sveinung | 2017-03-20 10:34:10 +0000 (Mon, 20 Mar 2017) | 5 lines
Changed paths:
   M /trunk/server/advisors/advdata.c
   M /trunk/server/unithand.c

Assert that value isn't ACTION_COUNT.

Add assertions to switch cases that shouldn't end up handling ACTION_COUNT.

See hrm Feature #645814
------------------------------------------------------------------------
r35131 | sveinung | 2017-03-20 10:34:01 +0000 (Mon, 20 Mar 2017) | 3 lines
Changed paths:
   M /trunk/common/actions.c

Assert what failed rather than FALSE.

See hrm Feature #645804
------------------------------------------------------------------------
r35130 | sveinung | 2017-03-20 10:33:52 +0000 (Mon, 20 Mar 2017) | 3 lines
Changed paths:
   M /trunk/common/actions.c

Prepare action storage for generic actions.

See hrm Feature #645783
------------------------------------------------------------------------
r35127 | sveinung | 2017-03-19 10:07:26 +0000 (Sun, 19 Mar 2017) | 11 lines
Changed paths:
   M /trunk/data/alien/game.ruleset
   M /trunk/data/civ1/game.ruleset
   M /trunk/data/civ2/game.ruleset
   M /trunk/data/civ2civ3/game.ruleset
   M /trunk/data/classic/game.ruleset
   M /trunk/data/experimental/game.ruleset
   M /trunk/data/multiplayer/game.ruleset
   M /trunk/data/sandbox/game.ruleset
   M /trunk/data/webperimental/game.ruleset

Restore "Recycle Unit"'s DiplRel rules.

Hrm Feature #644449 made it legal to do "Recycle Unit" to an adjacent city.
It is possible to be adjacent to non allied cities. This accidentally
removed the old implicit rules that only an allied city could have its
production helped with "Recycle Unit". Restore the old rules by making them
explicit.

Reported by Christian Knoke <chrisk>

See gna bug #25597
------------------------------------------------------------------------
r35126 | sveinung | 2017-03-19 10:06:58 +0000 (Sun, 19 Mar 2017) | 8 lines
Changed paths:
   M /trunk/common/actions.c

action_prob_vs_X(): quick check target distance.

Make all the action_prob_vs_X() functions fail fast if the target is to far
away. This makes the behavior of action_prob_vs_units() (action probability
against unit stack) standard so the remaining action_prob_vs_X() functions
becomes ready for target specific unknowns.

See hrm Feature #644053
------------------------------------------------------------------------
r35124 | sveinung | 2017-03-17 12:02:25 +0000 (Fri, 17 Mar 2017) | 6 lines
Changed paths:
   M /trunk/server/ruleset.c

Load action enabler action by action rule name.

Use the action's rule name. Stop assuming that action rule names will remain
hard coded.

See hrm Feature #645313
------------------------------------------------------------------------
r35120 | sveinung | 2017-03-16 16:57:42 +0000 (Thu, 16 Mar 2017) | 3 lines
Changed paths:
   M /trunk/server/savegame3.c

Prepare action order saving for generic actions.

See hrm Feature #644963
------------------------------------------------------------------------
r35119 | sveinung | 2017-03-16 16:56:26 +0000 (Thu, 16 Mar 2017) | 3 lines
Changed paths:
   M /trunk/client/packhand.c
   M /trunk/server/unithand.c

Clarify "no action" in action details requests.

See hrm Feature #644959
------------------------------------------------------------------------
r35118 | sveinung | 2017-03-16 16:56:18 +0000 (Thu, 16 Mar 2017) | 3 lines
Changed paths:
   M /trunk/tools/ruledit/tab_enablers.cpp
   M /trunk/tools/ruleutil/rulesave.c

ruledit: clarify action counting.

See hrm Feature #644930
------------------------------------------------------------------------
r35115 | sveinung | 2017-03-15 11:30:24 +0000 (Wed, 15 Mar 2017) | 3 lines
Changed paths:
   M /trunk/client/packhand.c

Clarify "no action" in client side auto act.

See hrm Feature #644616
------------------------------------------------------------------------
r35114 | sveinung | 2017-03-15 11:30:16 +0000 (Wed, 15 Mar 2017) | 3 lines
Changed paths:
   M /trunk/common/networking/packets.def
   M /trunk/server/unithand.c

Prepare PACKET_UNIT_ACTIONS for generic actions.

See hrm Feature #644615
------------------------------------------------------------------------
r35109 | sveinung | 2017-03-14 09:39:20 +0000 (Tue, 14 Mar 2017) | 6 lines
Changed paths:
   M /trunk/client/control.c
   M /trunk/client/goto.c
   M /trunk/client/gui-qt/mapctrl.cpp
   M /trunk/client/gui-qt/menu.cpp
   M /trunk/client/mapctrl_common.c
   M /trunk/client/packhand.c
   M /trunk/server/savecompat.c
   M /trunk/server/savegame2.c
   M /trunk/server/savegame3.c
   M /trunk/server/unithand.c

Clarify "no action" in unit order.

Use ACTION_NONE inn all cases that specifies that a unit order has no
action. This is clearer than ACTION_COUNT.

See hrm Feature #644455
------------------------------------------------------------------------
r35108 | sveinung | 2017-03-14 09:39:12 +0000 (Tue, 14 Mar 2017) | 6 lines
Changed paths:
   M /trunk/common/actions.c
   M /trunk/doc/README.actions

Rule change: "Recycle Unit" to adjacent city.

Make the action "Recycle Unit" consistent with "Help Wonder" by permitting
it to be done to an adjacent city.

See hrm Feature #644449
------------------------------------------------------------------------
r35107 | sveinung | 2017-03-14 09:39:03 +0000 (Tue, 14 Mar 2017) | 11 lines
Changed paths:
   M /trunk/common/actions.c
   M /trunk/common/actions.h
   M /trunk/common/networking/packets.def
   M /trunk/server/ruleset.c
   M /trunk/tools/ruleutil/rulesave.c

Prepare action counting for generic actions.

Make it possible to distinguish the number of actions in the current
ruleset from the maximum number of actions. This will be needed when actions
becomes generic.

Introduce the distinction in action auto performers. Introduce the
distinction in action_iterate. Other areas should be clarified in follow up
patches.

See hrm Feature #644446
------------------------------------------------------------------------
r35106 | sveinung | 2017-03-14 09:38:50 +0000 (Tue, 14 Mar 2017) | 7 lines
Changed paths:
   M /trunk/ai/default/aicity.c
   M /trunk/client/control.c
   M /trunk/client/packhand.c
   M /trunk/common/actions.c
   M /trunk/common/actions.h
   M /trunk/common/unittype.c
   M /trunk/server/ruleset.c
   M /trunk/server/savegame3.c
   M /trunk/server/unithand.c

Prepare action ID validation for generic actions.

Rename the function action_id_is_valid() to action_id_exists(). Make it
about the action with the given id, not about the action result. Use
gen_action_is_valid() for action results.

See hrm Feature #644444
------------------------------------------------------------------------
r35104 | sveinung | 2017-03-13 14:19:41 +0000 (Mon, 13 Mar 2017) | 10 lines
Changed paths:
   M /trunk/common/actions.c
   M /trunk/doc/README.actions

Rule change: close "Recycle Unit" loop hole.

The action "Help Wonder" prevents the player from doing it in a city that
has enough shields to finish its current production. This protects against
a cheating player avoiding rules about what items can receive help from it
by receiving the help for a (finished) legal item and then build an item
that can't receive help from "Help Wonder". Give the action "Recycle Unit"
the same protection. This makes it consistent with "Help Wonder".

See hrm Feature #644056
------------------------------------------------------------------------
r35099 | sveinung | 2017-03-12 12:27:09 +0000 (Sun, 12 Mar 2017) | 7 lines
Changed paths:
   M /trunk/common/actions.c
   M /trunk/common/actions.h
   M /trunk/server/ruleset.c
   M /trunk/tools/ruleutil/rulesave.c

Clarify action_auto_perf action list terminator.

Specify that the value that terminates action auto performers' action lists
is ACTION_NONE (no action). ACTION_COUNT, while currently the same value,
can be understood in other ways too.

See hrm Feature #644169
------------------------------------------------------------------------
r35098 | sveinung | 2017-03-12 12:27:00 +0000 (Sun, 12 Mar 2017) | 6 lines
Changed paths:
   M /trunk/common/actions.c
   M /trunk/common/metaknowledge.c
   M /trunk/common/metaknowledge.h
   M /trunk/utility/shared.c
   M /trunk/utility/shared.h

Define tristate "and" near tristate.

Rename the function tri_and() to fc_tristate_and() and define it where the
enum fc_tristate is defined.

See hrm Feature #644166
------------------------------------------------------------------------
r35097 | sveinung | 2017-03-12 12:26:51 +0000 (Sun, 12 Mar 2017) | 8 lines
Changed paths:
   M /trunk/tools/ruledit/tab_enablers.cpp

ruledit: new action enablers go last.

The action enabler list is sorted by action. A user doesn't expect the new
action enabler he just added to end up in the middle of the action enabler
list. Set the default action of a new action enabler to the last action so
it shows up at the end of the action enabler list.

See hrm Feature #644055
------------------------------------------------------------------------
r35094 | cazfi | 2017-03-12 08:46:24 +0000 (Sun, 12 Mar 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-gtk-3.22/mapview.c

Pass valid region to gdk_window_begin_draw_frame() calls.

Reported by Jochen Trumpf <jochent>

See gna bug #25529

------------------------------------------------------------------------
r35088 | sveinung | 2017-03-10 10:36:27 +0000 (Fri, 10 Mar 2017) | 8 lines
Changed paths:
   M /trunk/server/unithand.c

Remove redundant needs war explanation code.

It is impossible to do "Conquer City" to a city that contains any units.
This means that the target city can't contain a unit from a nation the actor
isn't at war with. Remove action specific action not enabled explanation
code that is supposed to detect this.

See hrm Feature #643526
------------------------------------------------------------------------
r35087 | sveinung | 2017-03-10 10:36:18 +0000 (Fri, 10 Mar 2017) | 3 lines
Changed paths:
   M /trunk/data/webperimental/game.ruleset

webperimental: turn off slow invasion.

See hrm Feature #643525
------------------------------------------------------------------------
r35086 | sveinung | 2017-03-09 20:41:32 +0000 (Thu, 09 Mar 2017) | 3 lines
Changed paths:
   M /trunk/server/unithand.c

Give the AI action decision want information.

See hrm Feature #643268
------------------------------------------------------------------------
r35085 | sveinung | 2017-03-09 20:41:20 +0000 (Thu, 09 Mar 2017) | 3 lines
Changed paths:
   M /trunk/server/unithand.c

Inline variables used only once.

See hrm Feature #643198
------------------------------------------------------------------------
r35084 | sveinung | 2017-03-09 20:41:13 +0000 (Thu, 09 Mar 2017) | 5 lines
Changed paths:
   M /trunk/server/unithand.c

Remove obsolete optimization.

Almost all units are actors in 3.0 and later.

See hrm Feature #643196
------------------------------------------------------------------------
r35080 | cazfi | 2017-03-08 16:40:21 +0000 (Wed, 08 Mar 2017) | 4 lines
Changed paths:
   M /trunk/configure.ac

Updated BUG_URL to point to hostedredmine.com

See hrm Feature #637952

------------------------------------------------------------------------
r35077 | sveinung | 2017-03-08 16:10:08 +0000 (Wed, 08 Mar 2017) | 1 line
Changed paths:
   M /trunk/server/unithand.c

Comment spell fix: suiting -> suitable
------------------------------------------------------------------------
r35076 | sveinung | 2017-03-08 16:09:44 +0000 (Wed, 08 Mar 2017) | 17 lines
Changed paths:
   M /trunk/server/unithand.c

Don't advice a player to declare war on himself.

The player can ask what actions a unit can perform to targets located at a
specific tile in two ways. He can ask directly via the unit_get_actions
packet. Ordering the unit to move to the tile is sometimes interpreted as an
indirect question. When no action is possible the server will notify the
player. If able to it will try to explain why no action was possible.

An action may be impossible because the actor isn't at war with the target.
The server will consider this when trying to find an explanation why no
action could be performed. If declaring war may make an action legal it will
let the player know.

A player can't declare war on himself or on a team mate. Informing the
player that a war may make some action legal is therefore pointless.

See gna bug #25551
------------------------------------------------------------------------
r35072 | sveinung | 2017-03-01 10:19:34 +0000 (Wed, 01 Mar 2017) | 8 lines
Changed paths:
   M /trunk/server/unithand.c

Improve explanation for tile targeted actions.

A tile targeted action may be illegal because of the diplomatic relationship
the actor unit's owner has to the tile's owner. Have the processing of an
unit_do_action packet forward target tile owner information to the illegal
action handling.

See gna patch #8122
------------------------------------------------------------------------
r35071 | sveinung | 2017-03-01 10:19:27 +0000 (Wed, 01 Mar 2017) | 10 lines
Changed paths:
   M /trunk/server/unithand.c

Explain unexpected missing target.

Stop failing silently when an unit_do_action packet or an unit_action_query
packet with a missing target arrives.

A target could disappear at the same time the player presses a button in the
action selection dialog. A modified client may specify the target in a bad
way.

See gna patch #8121
------------------------------------------------------------------------
r35070 | sveinung | 2017-03-01 10:19:18 +0000 (Wed, 01 Mar 2017) | 7 lines
Changed paths:
   M /trunk/ai/default/aicity.c
   M /trunk/ai/default/aisettler.c
   M /trunk/ai/default/daidomestic.c
   M /trunk/client/control.c
   M /trunk/client/helpdata.c
   M /trunk/common/actions.c
   M /trunk/common/actions.h
   M /trunk/common/aicore/aisupport.c
   M /trunk/server/advisors/advbuilding.c
   M /trunk/server/advisors/advdata.c
   M /trunk/server/unithand.c

action_get_role(): take action struct.

The function action_get_role() took an action id rather than an action. Make
it take an action structure. Introduce action_id_get_role() for getting role
by ID.

See gna patch #8120
------------------------------------------------------------------------
r35069 | mir3x | 2017-02-28 06:34:11 +0000 (Tue, 28 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/menu.cpp

Qt client - fixed quickairlift unit type not shown after menu update

See gna bug #25533


------------------------------------------------------------------------
r35065 | mir3x | 2017-02-28 06:31:50 +0000 (Tue, 28 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/pages.cpp

Qt client - added connect to server on enter pressed in linedit in pregame

See gna patch #8118


------------------------------------------------------------------------
r35060 | cazfi | 2017-02-23 05:00:12 +0000 (Thu, 23 Feb 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-gtk-3.0/gui_main.c
   M /trunk/client/gui-gtk-3.22/gui_main.c

Fixed zoom out and in to work when '+' or '-' require 'shift'

Reported by Jochen Trumpf <jochent>

See gna bug #25237

------------------------------------------------------------------------
r35057 | cazfi | 2017-02-22 04:11:31 +0000 (Wed, 22 Feb 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-qt/repodlgs.cpp

Fixed 'might be used uninitialized' error from qt-client update_units().

See hrm bug #639513

------------------------------------------------------------------------
r35056 | mir3x | 2017-02-21 14:13:09 +0000 (Tue, 21 Feb 2017) | 6 lines
Changed paths:
   M /trunk/server/report.c

Fixed dead player scores not revealed on game over
Reported by Daniel Markstedt <dmarks>

See gna bug #17248


------------------------------------------------------------------------
r35053 | mir3x | 2017-02-21 14:09:14 +0000 (Tue, 21 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/menu.cpp
   M /trunk/client/gui-qt/pages.cpp
   M /trunk/client/gui-qt/repodlgs.cpp
   M /trunk/client/gui-qt/repodlgs.h
   M /trunk/data/themes/gui-qt/Classic/resource.qss
   M /trunk/data/themes/gui-qt/Necrophos/resource.qss
   M /trunk/data/themes/gui-qt/NightStalker/resource.qss

Qt client - new units report

See gna patch #8117


------------------------------------------------------------------------
r35050 | mir3x | 2017-02-16 20:03:59 +0000 (Thu, 16 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/pages.cpp

Qt client - rearranged page scenario

See gna patch #8116


------------------------------------------------------------------------
r35046 | mir3x | 2017-02-16 20:01:41 +0000 (Thu, 16 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/plrdlg.cpp

Qt client - fixed player dialog not showing new nations

See gna bug #25506


------------------------------------------------------------------------
r35040 | cazfi | 2017-02-16 04:57:55 +0000 (Thu, 16 Feb 2017) | 4 lines
Changed paths:
   M /trunk/bootstrap/generate_gitrev.sh

Replaced typo that caused unnecessary regeneration of fc_gitrev_gen.h

See gna bug #25508

------------------------------------------------------------------------
r35037 | cazfi | 2017-02-16 04:48:18 +0000 (Thu, 16 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/mapview_common.c

Set production text color correctly when city production display is
enabled without city name display being enabled.

See gna bug #25477

------------------------------------------------------------------------
r35035 | cazfi | 2017-02-15 16:17:28 +0000 (Wed, 15 Feb 2017) | 4 lines
Changed paths:
   M /trunk/windows/installer_cross/installer_build.sh

Add dlls needed by Qt based programs to relevant cross-built windows installers.

See gna patch #8106

------------------------------------------------------------------------
r35032 | mir3x | 2017-02-14 08:14:45 +0000 (Tue, 14 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/gui_main.cpp

Qt client - focus might be set incorrectly to map in some cases

See gna bug #25505


------------------------------------------------------------------------
r35029 | mir3x | 2017-02-14 08:11:38 +0000 (Tue, 14 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/gui_main.cpp

Qt client - Changed manual switching to PAGE_START only from PAGE_NETWORK.

See gna bug #25486


------------------------------------------------------------------------
r35023 | cazfi | 2017-02-13 20:16:42 +0000 (Mon, 13 Feb 2017) | 4 lines
Changed paths:
   M /trunk/doc/README.msys2
   M /trunk/windows/installer_legacy/Makefile

Updated gnuwin/msys download URL.

See gna patch #8109

------------------------------------------------------------------------
r35020 | mir3x | 2017-02-12 19:11:06 +0000 (Sun, 12 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/chatline.cpp

Qt client - Fixed 'glued' links in chat.

See gna bug #25499


------------------------------------------------------------------------
r35017 | mir3x | 2017-02-12 19:08:22 +0000 (Sun, 12 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/diplodlg.cpp

Qt client - contrast colors in diplomacy dialog overriden by theme

See gna bug #25495


------------------------------------------------------------------------
r35014 | mir3x | 2017-02-12 19:05:46 +0000 (Sun, 12 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/helpdlg.cpp

Qt client - show nations flags in help tree

See gna patch #8113


------------------------------------------------------------------------
r35011 | mir3x | 2017-02-12 19:03:36 +0000 (Sun, 12 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/diplodlg.cpp

Qt client - added tooltip to diplomacy dialog about state beween civilizations

See gna patch #8114


------------------------------------------------------------------------
r35007 | mir3x | 2017-02-12 19:00:47 +0000 (Sun, 12 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/plrdlg.cpp

Qt client - added information about sharing vision to player dialog

See gna patch #8115


------------------------------------------------------------------------
r35003 | cazfi | 2017-02-11 07:32:01 +0000 (Sat, 11 Feb 2017) | 4 lines
Changed paths:
   M /trunk/windows/installer_cross/installer_build.sh

Add dlls needed by gtk3.22-client and sdl2-client to cross-built windows installers.

See gna patch #8106

------------------------------------------------------------------------
r35001 | cazfi | 2017-02-11 07:24:19 +0000 (Sat, 11 Feb 2017) | 4 lines
Changed paths:
   M /trunk/m4/gtk3.22-client.m4

Prevent things deprecated in glib 2.50 from gtk3.22-client

See gna patch #7705

------------------------------------------------------------------------
r34999 | sveinung | 2017-02-10 08:15:56 +0000 (Fri, 10 Feb 2017) | 3 lines
Changed paths:
   M /trunk/server/unittools.c

Drop custom target missing strings for orders.

See gna patch #8112
------------------------------------------------------------------------
r34997 | cazfi | 2017-02-10 04:58:35 +0000 (Fri, 10 Feb 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-3.22/mapview.c

Replaced deprecated gdk_cairo_create() calls with modern constructs in gtk3.22-client.

See gna patch #7964

------------------------------------------------------------------------
r34995 | cazfi | 2017-02-09 05:33:24 +0000 (Thu, 09 Feb 2017) | 4 lines
Changed paths:
   M /trunk/INSTALL
   M /trunk/client/gui-gtk-3.22/citydlg.c
   M /trunk/client/gui-gtk-3.22/optiondlg.c
   M /trunk/client/gui-gtk-3.22/pages.c
   M /trunk/m4/gtk3.22-client.m4

Replaced deprecated gtk_menu_popup() calls with modern constructs in gtk3.22-client

See gna patch #7876

------------------------------------------------------------------------
r34992 | cazfi | 2017-02-08 04:52:49 +0000 (Wed, 08 Feb 2017) | 4 lines
Changed paths:
   M /trunk/windows/installer_cross/installer_build.sh
   M /trunk/windows/installer_cross/winbuild.sh

Added gui type specific part to the filenames created by winbuild.sh

See gna patch #8105

------------------------------------------------------------------------
r34991 | mir3x | 2017-02-07 15:59:34 +0000 (Tue, 07 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/sprite.cpp

Qt client - crop scaled hex sprites bigger by 1 pixel for scaled tileset.

See gna patch #8110


------------------------------------------------------------------------
r34988 | mir3x | 2017-02-07 15:55:06 +0000 (Tue, 07 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/dialogs.cpp

Qt client - find best transport from correct tile for transport dialog.

See gna bug #25492


------------------------------------------------------------------------
r34983 | cazfi | 2017-02-07 04:43:52 +0000 (Tue, 07 Feb 2017) | 4 lines
Changed paths:
   M /trunk/windows/Makefile.am
   A /trunk/windows/installer_cross/build_all_installers.sh

Added script to cross-build all installers.

See gna patch #8104

------------------------------------------------------------------------
r34980 | cazfi | 2017-02-06 05:10:26 +0000 (Mon, 06 Feb 2017) | 4 lines
Changed paths:
   M /trunk/windows/Makefile.am
   A /trunk/windows/installer_cross/create-freeciv-ruledit-nsi.sh
   A /trunk/windows/installer_cross/freeciv-ruledit.cmd
   M /trunk/windows/installer_cross/installer_build.sh

Added cross-building of Windows Installer for ruledit.

See gna patch #8098

------------------------------------------------------------------------
r34979 | mir3x | 2017-02-05 16:16:43 +0000 (Sun, 05 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-gtk-3.0/sprite.c
   M /trunk/client/gui-gtk-3.22/sprite.c
   M /trunk/client/gui-qt/qtg_cxxside.h
   M /trunk/client/gui-qt/sprite.cpp
   M /trunk/client/gui-sdl2/sprite.c
   M /trunk/client/gui-sdl2/themespec.c
   M /trunk/client/gui-stub/sprite.c
   M /trunk/client/gui_interface.c
   M /trunk/client/gui_interface.h
   M /trunk/client/include/sprite_g.h
   M /trunk/client/tilespec.c

Added option to scale tileset with bilinear algorithm

See gna patch #8108


------------------------------------------------------------------------
r34976 | mir3x | 2017-02-05 15:47:44 +0000 (Sun, 05 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/hudwidget.cpp

Qt client - fixed clang warning - 'has road' - Wsometimes-uninitialized

See gna bug #25487


------------------------------------------------------------------------
r34973 | mir3x | 2017-02-05 15:45:21 +0000 (Sun, 05 Feb 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-qt/gui_main.cpp
   M /trunk/client/gui-qt/pages.cpp

Qt client - Fixed user not able connect to network server
            after failed connection to local server.

See gna bug #25486


------------------------------------------------------------------------
r34970 | mir3x | 2017-02-05 15:42:49 +0000 (Sun, 05 Feb 2017) | 6 lines
Changed paths:
   M /trunk/client/tilespec.c

Fixed some tileset variables which could be scaled 2 times.
Fixed wrong comparision.

See gna bug #25474


------------------------------------------------------------------------
r34967 | mir3x | 2017-02-05 15:38:18 +0000 (Sun, 05 Feb 2017) | 5 lines
Changed paths:
   M /trunk/common/aicore/path_finding.c

Fixed hidden int promotion in pf_pos_hash_val(...)

See gna bug #25449


------------------------------------------------------------------------
r34964 | mir3x | 2017-02-05 15:34:20 +0000 (Sun, 05 Feb 2017) | 7 lines
Changed paths:
   M /trunk/common/combat.c

Fixed rounded down terrain bonus in get_defense_power(const struct unit *punit)

Reported by 'unknown' and Marko Lindqvist <cazfi>

See gna bug #25432


------------------------------------------------------------------------
r34960 | cazfi | 2017-02-05 08:26:42 +0000 (Sun, 05 Feb 2017) | 4 lines
Changed paths:
   M /trunk/windows/Makefile.am
   A /trunk/windows/installer_cross/create-freeciv-sdl2-nsi.sh
   A /trunk/windows/installer_cross/freeciv-sdl2.cmd
   M /trunk/windows/installer_cross/installer_build.sh

Added cross-building of Windows Installer for sdl2-client.

See gna patch #8097

------------------------------------------------------------------------
r34959 | cazfi | 2017-02-04 20:28:47 +0000 (Sat, 04 Feb 2017) | 5 lines
Changed paths:
   M /trunk/data/experimental/effects.ruleset
   M /trunk/data/sandbox/game.ruleset

Corrected some occurrences of "Is foreign" as Diplomatic relation type to read
just "Foreign".

See gna bug #25489

------------------------------------------------------------------------
r34957 | cazfi | 2017-02-04 20:09:21 +0000 (Sat, 04 Feb 2017) | 4 lines
Changed paths:
   M /trunk/configure.ac

Corrected setting initial value for gtk3x modpack variable.

See gna bug #25488

------------------------------------------------------------------------
r34954 | jtn | 2017-02-04 11:17:03 +0000 (Sat, 04 Feb 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-qt/fonts.h

Add declaration of QStringList to fonts.h, which uses it, to fix
compilation failure on some systems.

See gna bug #25491.
------------------------------------------------------------------------
r34951 | cazfi | 2017-02-04 08:33:49 +0000 (Sat, 04 Feb 2017) | 4 lines
Changed paths:
   M /trunk/tools/modinst.c

Respect DIR_SEPARATOR in path to modpack database file.

See bug #25485

------------------------------------------------------------------------
r34949 | cazfi | 2017-02-04 08:23:14 +0000 (Sat, 04 Feb 2017) | 4 lines
Changed paths:
   M /trunk/windows/Makefile.am
   A /trunk/windows/installer_cross/freeciv-mp-qt.cmd
   A /trunk/windows/installer_cross/freeciv-qt.cmd
   M /trunk/windows/installer_cross/installer_build.sh

Added cross-building of Windows Installer for Qt-client.

See patch #8096

------------------------------------------------------------------------
r34946 | sveinung | 2017-02-03 13:56:07 +0000 (Fri, 03 Feb 2017) | 9 lines
Changed paths:
   M /trunk/client/goto.c

Demote walk-through-enemy assertion to a warning.

A player can now give a "Go to and..." order while assuming that the enemy
at the tile the last regular move targets will be gone or converted by the
time the unit reaches it.

Reported by Christian Knoke <chrisk>

See patch #8101
------------------------------------------------------------------------
r34945 | sveinung | 2017-02-03 13:55:56 +0000 (Fri, 03 Feb 2017) | 17 lines
Changed paths:
   M /trunk/client/packhand.c

Fix automatic attack for "Conquer City".

The "Conquer City" action is an attack action. It is city targeted.

A potentially legal attack action should pop up the action selection dialog
if the popup_attack_actions client option is set or if another interesting
action is possible. If the "Pop up attack questions" is unset and no other
interesting action is possible the client should order the conquest without
asking the user.

Make the client able to order city targeted actions (like "Conquer City")
without asking the user.

Reported by wotan <wotan>
Debugged by Christian Knoke <chrisk>

See bug #25336
------------------------------------------------------------------------
r34943 | cazfi | 2017-02-03 05:00:48 +0000 (Fri, 03 Feb 2017) | 4 lines
Changed paths:
   M /trunk/windows/Makefile.am
   A /trunk/windows/installer_cross/freeciv-mp-gtk3.cmd
   M /trunk/windows/installer_cross/installer_build.sh

Added freeciv-mp-gtk3.cmd to cross-built gtk3.22-client Windows Installer.

See patch #8095

------------------------------------------------------------------------
r34940 | mir3x | 2017-02-02 19:56:59 +0000 (Thu, 02 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/tilespec.c

Fixed some tileset variables scaled 2 times

See bug #25474


------------------------------------------------------------------------
r34937 | mir3x | 2017-02-02 19:50:38 +0000 (Thu, 02 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/tilespec.c

Fixed memory leaks when rereading tileset.

See patch #8102


------------------------------------------------------------------------
r34931 | mir3x | 2017-02-02 19:44:22 +0000 (Thu, 02 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/tilespec.c
   M /trunk/client/tilespec.h

Added function to retrieve scale of current tileset

See patch #8093


------------------------------------------------------------------------
r34929 | mir3x | 2017-02-02 19:34:32 +0000 (Thu, 02 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/hudwidget.cpp
   M /trunk/client/gui-qt/mapview.cpp

Qt client - add movement cost to terrain tooltip

See patch #8099


------------------------------------------------------------------------
r34925 | cazfi | 2017-02-02 05:43:42 +0000 (Thu, 02 Feb 2017) | 4 lines
Changed paths:
   M /trunk/dependencies/lua-5.3/README
   M /trunk/dependencies/lua-5.3/Version
   M /trunk/dependencies/lua-5.3/doc/readme.html
   M /trunk/dependencies/lua-5.3/src/lauxlib.c
   M /trunk/dependencies/lua-5.3/src/lauxlib.h
   M /trunk/dependencies/lua-5.3/src/lbaselib.c
   M /trunk/dependencies/lua-5.3/src/lcode.c
   M /trunk/dependencies/lua-5.3/src/ldebug.c
   M /trunk/dependencies/lua-5.3/src/ldo.c
   M /trunk/dependencies/lua-5.3/src/lgc.c
   M /trunk/dependencies/lua-5.3/src/linit.c
   M /trunk/dependencies/lua-5.3/src/liolib.c
   M /trunk/dependencies/lua-5.3/src/lmathlib.c
   M /trunk/dependencies/lua-5.3/src/loadlib.c
   M /trunk/dependencies/lua-5.3/src/lobject.c
   M /trunk/dependencies/lua-5.3/src/lobject.h
   M /trunk/dependencies/lua-5.3/src/lopcodes.h
   M /trunk/dependencies/lua-5.3/src/loslib.c
   M /trunk/dependencies/lua-5.3/src/lparser.c
   M /trunk/dependencies/lua-5.3/src/lstate.h
   M /trunk/dependencies/lua-5.3/src/lstrlib.c
   M /trunk/dependencies/lua-5.3/src/ltable.c
   M /trunk/dependencies/lua-5.3/src/ltable.h
   M /trunk/dependencies/lua-5.3/src/ltm.c
   M /trunk/dependencies/lua-5.3/src/lua.h
   M /trunk/dependencies/lua-5.3/src/luaconf.h
   M /trunk/dependencies/lua-5.3/src/lualib.h
   M /trunk/dependencies/lua-5.3/src/lutf8lib.c
   M /trunk/dependencies/lua-5.3/src/lvm.h

Updated included lua to version 5.3.4

See patch #8100

------------------------------------------------------------------------
r34923 | cazfi | 2017-02-02 05:24:28 +0000 (Thu, 02 Feb 2017) | 4 lines
Changed paths:
   M /trunk/windows/Makefile.am
   A /trunk/windows/installer_cross/Freeciv.url
   A /trunk/windows/installer_cross/create-freeciv-gtk-qt-nsi.sh
   A /trunk/windows/installer_cross/freeciv-gtk3.22.cmd
   A /trunk/windows/installer_cross/freeciv-server.cmd
   A /trunk/windows/installer_cross/installer_build.sh
   A /trunk/windows/installer_cross/licenses
   A /trunk/windows/installer_cross/licenses/COPYING.installer

Added cross-building of gtk3.22-client Windows Installer based on crosser.

See patch #8089

------------------------------------------------------------------------
r34920 | cazfi | 2017-02-01 09:22:11 +0000 (Wed, 01 Feb 2017) | 6 lines
Changed paths:
   M /trunk/server/savegame2.c
   M /trunk/server/savegame3.c

Fixed loading score.specialists from the savegame.

Originally reported by Christian Knoke <chrisk>

See bug #25475

------------------------------------------------------------------------
r34916 | cazfi | 2017-02-01 08:38:22 +0000 (Wed, 01 Feb 2017) | 4 lines
Changed paths:
   M /trunk/doc/README.msys2
   M /trunk/windows/installer_msys2/Makefile

Updated msys2 environment to 170126 level.

See patch #8085

------------------------------------------------------------------------
r34915 | mir3x | 2017-01-31 21:07:53 +0000 (Tue, 31 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/canvas.cpp
   M /trunk/client/gui-qt/citydlg.cpp
   M /trunk/client/gui-qt/fonts.cpp
   M /trunk/client/gui-qt/fonts.h
   M /trunk/client/gui-qt/gui_main.cpp
   M /trunk/client/gui-qt/menu.cpp
   M /trunk/client/gui-qt/menu.h
   M /trunk/client/gui-qt/shortcuts.cpp
   M /trunk/client/gui-qt/shortcuts.h
   M /trunk/client/gui-qt/sprite.cpp

Qt client - added scaling tileset

See patch #8087


------------------------------------------------------------------------
r34910 | cazfi | 2017-01-30 10:10:53 +0000 (Mon, 30 Jan 2017) | 6 lines
Changed paths:
   M /trunk/server/savegame2.c
   M /trunk/server/savegame3.c

Always lookup unit orders related keys when loading a savegame.

Reported by Christian Knoke <chrisk>

See bug #25405

------------------------------------------------------------------------
r34909 | cazfi | 2017-01-30 04:41:08 +0000 (Mon, 30 Jan 2017) | 4 lines
Changed paths:
   M /trunk/server/settings.c

Fixed compile with bzip2 compression support disabled.

See bug #25470

------------------------------------------------------------------------
r34908 | cazfi | 2017-01-29 20:55:36 +0000 (Sun, 29 Jan 2017) | 4 lines
Changed paths:
   M /trunk/windows/installer_cross/winbuild.sh

Added separate 'ruledit' gui type to winbuild.sh

See patch #8090

------------------------------------------------------------------------
r34907 | mir3x | 2017-01-29 20:36:38 +0000 (Sun, 29 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-gtk-3.0/menu.c
   M /trunk/client/gui-gtk-3.0/sprite.c
   M /trunk/client/gui-gtk-3.0/tileset_dlg.c
   M /trunk/client/gui-gtk-3.22/menu.c
   M /trunk/client/gui-gtk-3.22/sprite.c
   M /trunk/client/gui-gtk-3.22/tileset_dlg.c
   M /trunk/client/gui-qt/dialogs.cpp
   M /trunk/client/gui-qt/fc_client.cpp
   M /trunk/client/gui-qt/fc_client.h
   M /trunk/client/gui-qt/mapctrl.cpp
   M /trunk/client/gui-qt/menu.cpp
   M /trunk/client/gui-qt/qtg_cxxside.h
   M /trunk/client/gui-qt/sprite.cpp
   M /trunk/client/gui-sdl2/sprite.c
   M /trunk/client/gui-sdl2/themespec.c
   M /trunk/client/gui-stub/sprite.c
   M /trunk/client/gui_interface.c
   M /trunk/client/gui_interface.h
   M /trunk/client/include/sprite_g.h
   M /trunk/client/packhand.c
   M /trunk/client/tilespec.c
   M /trunk/client/tilespec.h

Added scaling tileset

See patch #8086


------------------------------------------------------------------------
r34904 | mir3x | 2017-01-29 20:22:37 +0000 (Sun, 29 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/repodlgs.cpp
   M /trunk/client/gui-qt/repodlgs.h

Qt client - show tooltip in research diagram with 500msecs delay

See patch #8092


------------------------------------------------------------------------
r34901 | mir3x | 2017-01-29 20:18:09 +0000 (Sun, 29 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/repodlgs.cpp
   M /trunk/client/gui-qt/sidebar.cpp

Qt client - replace deprecated qSort with std::sort

See patch #8091


------------------------------------------------------------------------
r34895 | cazfi | 2017-01-29 19:50:49 +0000 (Sun, 29 Jan 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-gtk-3.0/transportdlg.c
   M /trunk/client/gui-gtk-3.22/transportdlg.c

Find "best" transport from correct tile for transport dialog.

Reported by Christian Knoke <chrisk>

See bug #25406

------------------------------------------------------------------------
r34894 | cazfi | 2017-01-26 05:19:07 +0000 (Thu, 26 Jan 2017) | 4 lines
Changed paths:
   M /trunk/windows/installer_cross/winbuild.sh

Made it possible to build just one client with winbuild.sh

See patch #8088

------------------------------------------------------------------------
r34893 | mir3x | 2017-01-25 21:35:32 +0000 (Wed, 25 Jan 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-qt/mapctrl.cpp
   M /trunk/client/gui-qt/mapview.h

Qt client - Fixed unit autocentering when left clicking something outside
active unit visible screen.

See bug #25466


------------------------------------------------------------------------
r34888 | sveinung | 2017-01-25 12:05:45 +0000 (Wed, 25 Jan 2017) | 7 lines
Changed paths:
   M /trunk/server/citytools.c

Control city externals sending centrally.

The function player_can_see_city_externals() is used to reason about what a
player can see. Use it to control when a city's externally visible details
is sent too.

See patch #8082
------------------------------------------------------------------------
r34885 | sveinung | 2017-01-24 15:15:40 +0000 (Tue, 24 Jan 2017) | 6 lines
Changed paths:
   M /trunk/common/actions.c
   M /trunk/common/metaknowledge.c
   M /trunk/common/metaknowledge.h
   M /trunk/common/player.c
   M /trunk/common/player.h

Move city is seen check to player module.

Rename mke_can_see_city_externals() to player_can_see_city_externals() and
move it to the player module.

See patch #8081
------------------------------------------------------------------------
r34883 | cazfi | 2017-01-24 07:24:27 +0000 (Tue, 24 Jan 2017) | 4 lines
Changed paths:
   M /trunk/dependencies/tinycthread/Version
   M /trunk/dependencies/tinycthread/tinycthread.c
   M /trunk/dependencies/tinycthread/tinycthread.h

Updated included tinycthread to latest upstream commit.

See patch #8084

------------------------------------------------------------------------
r34881 | cazfi | 2017-01-21 20:34:18 +0000 (Sat, 21 Jan 2017) | 4 lines
Changed paths:
   M /trunk/windows/installer_cross/winbuild.sh

Require crosser-1.2 for crosser based builds.

See patch #8078

------------------------------------------------------------------------
r34880 | mir3x | 2017-01-21 11:45:36 +0000 (Sat, 21 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/chatline.cpp
   M /trunk/client/gui-qt/chatline.h
   M /trunk/client/gui-qt/citydlg.cpp
   M /trunk/client/gui-qt/dialogs.cpp
   M /trunk/client/gui-qt/diplodlg.cpp
   M /trunk/client/gui-qt/diplodlg.h
   M /trunk/client/gui-qt/fc_client.cpp
   M /trunk/client/gui-qt/fc_client.h
   M /trunk/client/gui-qt/fonts.h
   M /trunk/client/gui-qt/hudwidget.cpp
   M /trunk/client/gui-qt/mapview.h
   M /trunk/client/gui-qt/menu.cpp
   M /trunk/client/gui-qt/messagewin.cpp
   M /trunk/client/gui-qt/messagewin.h
   M /trunk/client/gui-qt/optiondlg.cpp
   M /trunk/client/gui-qt/pages.cpp
   M /trunk/client/gui-qt/plrdlg.cpp
   M /trunk/client/gui-qt/ratesdlg.cpp
   M /trunk/client/gui-qt/ratesdlg.h
   M /trunk/client/gui-qt/shortcuts.h
   M /trunk/client/gui-qt/spaceshipdlg.cpp
   M /trunk/client/gui-qt/voteinfo_bar.cpp

Qt client - Added forward declarations in headers, added/removed includes

See patch #8083


------------------------------------------------------------------------
r34877 | mir3x | 2017-01-21 11:37:46 +0000 (Sat, 21 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/fonts.cpp

Qt client - Changed default font size to 14*(PPI/DPI)

See bug #25454


------------------------------------------------------------------------
r34874 | mir3x | 2017-01-21 11:35:12 +0000 (Sat, 21 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/listener.h

Qt client - fixed downcast of XXX which does not point to an object of type chat_listener

See bug #25451


------------------------------------------------------------------------
r34871 | cazfi | 2017-01-20 10:37:50 +0000 (Fri, 20 Jan 2017) | 4 lines
Changed paths:
   M /trunk/ai/classic/classicai.c
   M /trunk/ai/threxpr/texaimsg.h
   M /trunk/ai/threxpr/texaiplayer.c
   M /trunk/ai/threxpr/texaiworld.c
   M /trunk/ai/threxpr/texaiworld.h
   M /trunk/ai/threxpr/threxprai.c
   M /trunk/common/ai.h
   M /trunk/doc/README.AI_modules
   M /trunk/server/maphand.c

Sync main map tile terrain info to threxpr map.

See patch #8071

------------------------------------------------------------------------
r34867 | sveinung | 2017-01-18 21:48:14 +0000 (Wed, 18 Jan 2017) | 6 lines
Changed paths:
   M /trunk/common/metaknowledge.c
   M /trunk/common/tile.c
   M /trunk/common/tile.h

Move tile seen checker to the tile module.

Rename the function is_tile_seen() to tile_is_seen() and move it from the
metaknowledge module to the tile module.

See patch #8080
------------------------------------------------------------------------
r34866 | sveinung | 2017-01-18 21:48:05 +0000 (Wed, 18 Jan 2017) | 8 lines
Changed paths:
   M /trunk/common/scriptcore/tolua_game.pkg

Improve parameter name.

Patch #7973 should have renamed building_type_id to action_type_id after
copy/past. Do it now.

Reported by Jacob Nevins <jtn>

See bug #25450
------------------------------------------------------------------------
r34865 | cazfi | 2017-01-17 14:55:23 +0000 (Tue, 17 Jan 2017) | 4 lines
Changed paths:
   M /trunk/common/aicore/path_finding.c
   M /trunk/common/aicore/path_finding.h
   M /trunk/common/aicore/pf_tools.c

Added map to do path finding on to path finding parameters.

See patch #8079

------------------------------------------------------------------------
r34862 | sveinung | 2017-01-17 05:31:39 +0000 (Tue, 17 Jan 2017) | 3 lines
Changed paths:
   M /trunk/common/metaknowledge.c

Improve the comment header clarity...

...of the mke_can_see_city_externals() function.
------------------------------------------------------------------------
r34861 | mir3x | 2017-01-16 13:26:06 +0000 (Mon, 16 Jan 2017) | 6 lines
Changed paths:
   M /trunk/client/cityrepdata.c

Added city report columns for culture and history
Submitted by Jacob Nevins <jtn>

See patch #7669


------------------------------------------------------------------------
r34858 | mir3x | 2017-01-16 13:23:10 +0000 (Mon, 16 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/menu.cpp
   M /trunk/client/gui-qt/shortcuts.cpp
   M /trunk/client/gui-qt/shortcuts.h

Qt client - add configurable shortcut to toggle city full bar

See patch #8069


------------------------------------------------------------------------
r34855 | mir3x | 2017-01-16 13:17:36 +0000 (Mon, 16 Jan 2017) | 6 lines
Changed paths:
   M /trunk/m4/qt5.m4

Decide minimum version of Qt supported
Reported by Jacob Nevins <jtn>

See bug #25343


------------------------------------------------------------------------
r34852 | mir3x | 2017-01-16 13:03:42 +0000 (Mon, 16 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/themes.cpp

Qt client - fixed mismatched free/delete

See bug #25431


------------------------------------------------------------------------
r34849 | mir3x | 2017-01-16 13:01:16 +0000 (Mon, 16 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/menu.cpp

Qt client - fix build road/rail menu entry

See bug #25428


------------------------------------------------------------------------
r34846 | mir3x | 2017-01-16 12:57:46 +0000 (Mon, 16 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/ratesdlg.cpp

Qt client - fix position of tax rates dialog

See bug #25427


------------------------------------------------------------------------
r34842 | mir3x | 2017-01-16 12:54:28 +0000 (Mon, 16 Jan 2017) | 5 lines
Changed paths:
   M /trunk/utility/fciconv.c

Fix building without iconv

See bug #25430


------------------------------------------------------------------------
r34839 | mir3x | 2017-01-16 12:46:02 +0000 (Mon, 16 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/control.c
   M /trunk/client/gui-qt/mapctrl.cpp

quickselect - return focused unit before unit count check for SELECT_FOCUS

See bug #25425


------------------------------------------------------------------------
r34836 | mir3x | 2017-01-16 12:42:36 +0000 (Mon, 16 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/optiondlg.cpp
   M /trunk/client/gui-qt/optiondlg.h

Qt client - fixed heap-use-after-free in optiondlg

See bug #25440


------------------------------------------------------------------------
r34832 | cazfi | 2017-01-15 10:07:18 +0000 (Sun, 15 Jan 2017) | 4 lines
Changed paths:
   M /trunk/windows/installer_msys2/create-freeciv-gtk3.22-nsi.sh

Gtk3.22-client Windows installer uses correct name of the client.

See bug #25441

------------------------------------------------------------------------
r34831 | cazfi | 2017-01-15 00:07:08 +0000 (Sun, 15 Jan 2017) | 4 lines
Changed paths:
   M /trunk/client/agents/agents.c
   M /trunk/client/gui-gtk-3.0/action_dialog.c
   M /trunk/client/gui-gtk-3.0/chatline.c
   M /trunk/client/gui-gtk-3.0/editprop.c
   M /trunk/client/gui-gtk-3.0/mapctrl.c
   M /trunk/client/gui-gtk-3.22/action_dialog.c
   M /trunk/client/gui-gtk-3.22/chatline.c
   M /trunk/client/gui-gtk-3.22/editprop.c
   M /trunk/client/gui-gtk-3.22/mapctrl.c
   M /trunk/client/gui-qt/chatline.cpp
   M /trunk/client/gui-qt/dialogs.cpp
   M /trunk/client/gui-qt/mapctrl.cpp
   M /trunk/client/mapview_common.c
   M /trunk/client/packhand.c
   M /trunk/common/aicore/path_finding.c
   M /trunk/common/featured_text.c
   M /trunk/common/map.c
   M /trunk/common/map.h
   M /trunk/common/scriptcore/api_game_find.c
   M /trunk/server/edithand.c
   M /trunk/server/generator/mapgen.c
   M /trunk/server/notify.c
   M /trunk/server/savegame2.c
   M /trunk/server/savegame3.c
   M /trunk/server/unithand.c

Added map parameter for index_to_tile()

See patch #8070

------------------------------------------------------------------------
r34830 | cazfi | 2017-01-15 00:03:56 +0000 (Sun, 15 Jan 2017) | 5 lines
Changed paths:
   M /trunk/tools/download.c
   M /trunk/tools/modinst.c
   M /trunk/tools/modinst.h
   M /trunk/tools/mpcli.c
   M /trunk/tools/mpdb.c
   M /trunk/tools/mpdb.h
   M /trunk/tools/mpgui_gtk3.c
   M /trunk/tools/mpgui_qt.cpp

Store information about installed modpacks to sqlite database instead
of registry file.

See patch #7956

------------------------------------------------------------------------
r34828 | cazfi | 2017-01-14 13:06:42 +0000 (Sat, 14 Jan 2017) | 4 lines
Changed paths:
   M /trunk/data/alio.tilespec
   M /trunk/data/amplio.tilespec
   M /trunk/data/amplio2.tilespec
   M /trunk/data/cimpletoon.tilespec
   M /trunk/data/hex2t.tilespec
   M /trunk/data/hexemplio.tilespec
   M /trunk/data/isophex.tilespec
   M /trunk/data/isotrident.tilespec
   M /trunk/data/toonhex.tilespec
   M /trunk/data/trident.tilespec

Made tileset comments about single intro gfx singular.

See patch #7360

------------------------------------------------------------------------
r34826 | cazfi | 2017-01-14 05:38:13 +0000 (Sat, 14 Jan 2017) | 4 lines
Changed paths:
   M /trunk/windows/installer_msys2/create-freeciv-gtk-qt-nsi.sh
   M /trunk/windows/installer_msys2/create-freeciv-ruledit-nsi.sh
   M /trunk/windows/installer_msys2/create-freeciv-sdl2-nsi.sh

Set unicode directive to nsi files.

See patch #7632

------------------------------------------------------------------------
r34825 | cazfi | 2017-01-13 06:44:05 +0000 (Fri, 13 Jan 2017) | 4 lines
Changed paths:
   M /trunk/ai/threxpr/Makefile.am
   M /trunk/ai/threxpr/texaiplayer.c
   M /trunk/ai/threxpr/texaiplayer.h
   A /trunk/ai/threxpr/texaiworld.c
   A /trunk/ai/threxpr/texaiworld.h
   M /trunk/ai/threxpr/threxprai.c
   M /trunk/common/map_types.h

Allocate map of its own to threxpr AI type.

See patch #8067

------------------------------------------------------------------------
r34824 | mir3x | 2017-01-12 10:25:27 +0000 (Thu, 12 Jan 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-qt/dialogs.cpp
   M /trunk/data/themes/gui-qt/NightStalker/resource.qss

Qt client - fix default button in disband dialog
Reported by Gogo Gugelhupf <gogo>

See bug #25421


------------------------------------------------------------------------
r34821 | cazfi | 2017-01-12 10:15:33 +0000 (Thu, 12 Jan 2017) | 4 lines
Changed paths:
   M /trunk/common/map.c

Made map_allocate() to respect map parameter.

See bug #25418

------------------------------------------------------------------------
r34820 | mir3x | 2017-01-12 10:12:57 +0000 (Thu, 12 Jan 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-qt/citydlg.cpp
   M /trunk/client/gui-qt/citydlg.h
   M /trunk/client/gui-qt/repodlgs.cpp

Qt client - use city_improvement_upkeep to calculate upkeep in city dialog
Reported by Gogo Gugelhupf <gogo>

See bug #25422


------------------------------------------------------------------------
r34817 | cazfi | 2017-01-12 10:11:19 +0000 (Thu, 12 Jan 2017) | 6 lines
Changed paths:
   M /trunk/configure.ac

Fixed typo in helptext of --enable-fcmp

Reported by Jacob Nevins <jtn>

See patch #7019

------------------------------------------------------------------------
r34816 | mir3x | 2017-01-12 09:31:18 +0000 (Thu, 12 Jan 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-qt/pages.cpp

Qt client - remove right click menu from end turn sidebar
Reported by Gogo Gugelhupf <gogo>

See bug #25420


------------------------------------------------------------------------
r34813 | mir3x | 2017-01-11 18:16:52 +0000 (Wed, 11 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/mapctrl.cpp
   M /trunk/client/gui-qt/mapview.cpp
   M /trunk/client/gui-qt/mapview.h
   M /trunk/client/gui-qt/menu.cpp

Qt client - fix keyboard goto

See bug #25419


------------------------------------------------------------------------
r34810 | mir3x | 2017-01-09 10:16:42 +0000 (Mon, 09 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/mapctrl.cpp

Qt client - allow keyboardless goto for units in stack

See patch #8064


------------------------------------------------------------------------
r34806 | mir3x | 2017-01-09 10:06:19 +0000 (Mon, 09 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/control.c
   M /trunk/client/control.h

Added SELECT_FOCUS to quickselect_type

See patch #8063


------------------------------------------------------------------------
r34801 | cazfi | 2017-01-09 09:40:42 +0000 (Mon, 09 Jan 2017) | 4 lines
Changed paths:
   M /trunk/server/savegame2.c
   M /trunk/server/savegame3.c

Fixed check that techonology vector has been loaded correctly from the savegame.

See bug #25416

------------------------------------------------------------------------
r34799 | cazfi | 2017-01-08 07:25:03 +0000 (Sun, 08 Jan 2017) | 4 lines
Changed paths:
   M /trunk/Makefile.am
   D /trunk/m4/freetype2.m4

Dropped obsolete freetype2.m4

See patch #8068

------------------------------------------------------------------------
r34798 | cazfi | 2017-01-08 07:21:02 +0000 (Sun, 08 Jan 2017) | 4 lines
Changed paths:
   M /trunk/server/savecompat.h
   M /trunk/server/savegame2.c
   M /trunk/server/savegame3.c

Use activities order from the savegame when loading it.

See patch #8066

------------------------------------------------------------------------
r34797 | cazfi | 2017-01-07 21:11:28 +0000 (Sat, 07 Jan 2017) | 5 lines
Changed paths:
   M /trunk/server/savecompat.c
   M /trunk/server/savecompat.h
   M /trunk/server/savegame2.c
   M /trunk/server/savegame3.c

Added parameter telling if savegame is savegame2 or savegame3 to
compat conversion functions.

See patch #8065

------------------------------------------------------------------------
r34796 | mir3x | 2017-01-05 23:35:05 +0000 (Thu, 05 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/ratesdlg.cpp

Qt client - Fixed science rate not checked it's over available maximum rate.

See bug #25412


------------------------------------------------------------------------
r34793 | cazfi | 2017-01-05 19:58:05 +0000 (Thu, 05 Jan 2017) | 4 lines
Changed paths:
   M /trunk/client/packhand.c
   M /trunk/common/game.c
   M /trunk/common/map.c
   M /trunk/common/map.h
   M /trunk/server/generator/mapgen.c
   M /trunk/server/savegame2.c
   M /trunk/server/savegame3.c
   M /trunk/server/srv_main.c

Give map as parameter to map_init(), map_free(), and map_allocate()

See patch #8055

------------------------------------------------------------------------
r34792 | cazfi | 2017-01-05 17:56:18 +0000 (Thu, 05 Jan 2017) | 4 lines
Changed paths:
   M /trunk/server/Makefile.am
   D /trunk/server/legacysave.c
   D /trunk/server/legacysave.h
   M /trunk/server/savegame.c
   M /trunk/translations/core/POTFILES.in

Dropped legacysave support.

See patch #5591

------------------------------------------------------------------------
r34789 | cazfi | 2017-01-05 15:57:19 +0000 (Thu, 05 Jan 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-3.0/sprite.c
   M /trunk/client/gui-gtk-3.22/sprite.c

Consider '.png' supported even if there's no mime-type called 'png'

See patch #8062

------------------------------------------------------------------------
r34786 | cazfi | 2017-01-05 06:49:21 +0000 (Thu, 05 Jan 2017) | 6 lines
Changed paths:
   M /trunk/server/savegame2.c
   M /trunk/server/savegame3.c

When loading saved game, always lookup action decision tiles.

Reported by Christian Knoke <chrisk>

See bug #25405

------------------------------------------------------------------------
r34785 | cazfi | 2017-01-05 06:32:01 +0000 (Thu, 05 Jan 2017) | 4 lines
Changed paths:
   D /trunk/windows/installer_legacy/create-freeciv-gtk2-nsi.sh
   D /trunk/windows/installer_msys2/create-freeciv-gtk2-nsi.sh

Dropped obsolete create-freeciv-gtk2-nsi.sh from svn.

See patch #8061

------------------------------------------------------------------------
r34784 | cazfi | 2017-01-05 06:28:17 +0000 (Thu, 05 Jan 2017) | 4 lines
Changed paths:
   M /trunk/client/options.c

Do not save gtk2-client options when they are no longer needed.

See patch #8060

------------------------------------------------------------------------
r34781 | cazfi | 2017-01-05 06:17:17 +0000 (Thu, 05 Jan 2017) | 4 lines
Changed paths:
   M /trunk/m4/debug.m4

Define QT_NO_DEBUG in fc_config.h, not compiler command line, when needed.

See patch #8054

------------------------------------------------------------------------
r34780 | cazfi | 2017-01-04 17:29:59 +0000 (Wed, 04 Jan 2017) | 4 lines
Changed paths:
   M /trunk/m4/gtk3.22-client.m4

Prevent things deprecated in gtk+ 3.20 from gtk3.22-client

See patch #7125

------------------------------------------------------------------------
r34779 | cazfi | 2017-01-02 21:51:00 +0000 (Mon, 02 Jan 2017) | 4 lines
Changed paths:
   M /trunk/common/player.h
   M /trunk/data/alien/game.ruleset
   M /trunk/data/civ1/effects.ruleset
   M /trunk/data/civ1/game.ruleset
   M /trunk/data/civ2/effects.ruleset
   M /trunk/data/civ2/game.ruleset
   M /trunk/data/civ2civ3/effects.ruleset
   M /trunk/data/civ2civ3/game.ruleset
   M /trunk/data/classic/effects.ruleset
   M /trunk/data/classic/game.ruleset
   M /trunk/data/experimental/game.ruleset
   M /trunk/data/multiplayer/effects.ruleset
   M /trunk/data/multiplayer/game.ruleset
   M /trunk/data/sandbox/effects.ruleset
   M /trunk/data/sandbox/game.ruleset
   M /trunk/data/webperimental/effects.ruleset
   M /trunk/data/webperimental/game.ruleset
   M /trunk/server/cityturn.c
   M /trunk/server/rscompat.c
   M /trunk/server/rscompat.h
   M /trunk/server/ruleset.c

Renamed Diplomatic Relation type "Is Foreign" as just "Foreign"

See patch #7280

------------------------------------------------------------------------
r34778 | cazfi | 2017-01-02 19:25:28 +0000 (Mon, 02 Jan 2017) | 4 lines
Changed paths:
   M /trunk/client/climap.c
   M /trunk/client/overview_common.c
   M /trunk/client/packhand.c
   M /trunk/common/achievements.c
   M /trunk/common/map.c
   M /trunk/common/map.h
   M /trunk/common/mapimg.c
   M /trunk/server/advisors/advdata.c
   M /trunk/server/advisors/autosettlers.c
   M /trunk/server/barbarian.c
   M /trunk/server/citytools.c
   M /trunk/server/generator/fracture_map.c
   M /trunk/server/generator/height_map.c
   M /trunk/server/generator/mapgen.c
   M /trunk/server/generator/mapgen_utils.c
   M /trunk/server/generator/mapgen_utils.h
   M /trunk/server/generator/startpos.c
   M /trunk/server/generator/temperature_map.c
   M /trunk/server/legacysave.c
   M /trunk/server/maphand.c
   M /trunk/server/plrhand.c
   M /trunk/server/sanitycheck.c
   M /trunk/server/savegame2.c
   M /trunk/server/savegame3.c
   M /trunk/server/score.c
   M /trunk/server/srv_main.c

Give map as parameter to whole_map_iterate()

See patch #8052

------------------------------------------------------------------------
r34777 | cazfi | 2017-01-02 19:20:52 +0000 (Mon, 02 Jan 2017) | 4 lines
Changed paths:
   M /trunk/server/settings.c

Deprecated compresstype bzip2.

See patch #7112

------------------------------------------------------------------------
r34776 | cazfi | 2017-01-02 19:15:10 +0000 (Mon, 02 Jan 2017) | 4 lines
Changed paths:
   M /trunk/m4/debug.m4

Dropped obsolete DEBUG macro

See patch #7555

------------------------------------------------------------------------
r34775 | cazfi | 2017-01-02 19:10:47 +0000 (Mon, 02 Jan 2017) | 4 lines
Changed paths:
   M /trunk/client/options.c

Removed unused descriptions for gtk2-client options.

See patch #7624

------------------------------------------------------------------------
r34774 | cazfi | 2017-01-02 19:08:10 +0000 (Mon, 02 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-gtk-3.22/editgui.c
   M /trunk/client/gui-gtk-3.22/gui_main.c
   M /trunk/client/gui-gtk-3.22/voteinfo_bar.c

Use gtk_widget_set_focus_on_click() instead of deprecated gtk_button_set_focus_on_click()
in gtk3.22-client.

See patch #7222

------------------------------------------------------------------------
r34772 | cazfi | 2017-01-02 15:26:46 +0000 (Mon, 02 Jan 2017) | 4 lines
Changed paths:
   M /trunk/windows/Makefile.am
   M /trunk/windows/installer_msys2/Makefile
   D /trunk/windows/installer_msys2/create-freeciv-gtk3-nsi.sh
   D /trunk/windows/installer_msys2/freeciv-gtk3.cmd

Dropped Windows installer for gtk3-client, superceded by gtk3.22-client installer.

See patch #8056

------------------------------------------------------------------------
r34771 | cazfi | 2017-01-02 10:39:29 +0000 (Mon, 02 Jan 2017) | 4 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/data/Makefile.am
   D /trunk/data/experimental/Makefile.am
   M /trunk/translations/core/POTFILES.in

Dropped experimental ruleset from the tarball.

See patch #7625

------------------------------------------------------------------------
r34770 | cazfi | 2017-01-01 23:24:53 +0000 (Sun, 01 Jan 2017) | 5 lines
Changed paths:
   M /trunk/INSTALL
   M /trunk/configure.ac
   M /trunk/doc/README.packaging

Made sqlite3 hard requirement.
Sqlite3 based player authentication is enabled by default.

See patch #7379

------------------------------------------------------------------------
r34769 | cazfi | 2017-01-01 23:20:46 +0000 (Sun, 01 Jan 2017) | 4 lines
Changed paths:
   M /trunk/ai/threaded/taicity.c
   M /trunk/ai/threaded/taicity.h
   M /trunk/ai/threaded/taiplayer.c

Refactor threaded AI to make it more similar to threxpr.

See patch #7559

------------------------------------------------------------------------
r34768 | cazfi | 2017-01-01 23:18:44 +0000 (Sun, 01 Jan 2017) | 5 lines
Changed paths:
   M /trunk/INSTALL
   M /trunk/autogen.sh
   M /trunk/common/Makefile.am
   M /trunk/doc/README.packaging

Set EXTRA_foo_DEPENDENCIES instead of foo_DEPENDENCIES.
Bumped minimum automake requirement to 1.11.3

See patch #7871

------------------------------------------------------------------------
r34767 | cazfi | 2017-01-01 23:14:45 +0000 (Sun, 01 Jan 2017) | 4 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/client/audio_sdl.c
   M /trunk/client/gui-gtk-3.0/gui_main.c
   M /trunk/client/gui-gtk-3.22/gui_main.c
   M /trunk/client/gui-qt/gui_main.cpp
   M /trunk/doc/README.packaging
   D /trunk/m4/sdl.m4
   M /trunk/m4/sound.m4

Dropped sdl1.2-mixer support.

See patch #6246

------------------------------------------------------------------------
r34766 | cazfi | 2017-01-01 23:12:28 +0000 (Sun, 01 Jan 2017) | 4 lines
Changed paths:
   M /trunk/configure.ac

Remove attempt to create Makefile to some gtk2 related directories.

See patch #7019

------------------------------------------------------------------------
r34765 | cazfi | 2017-01-01 23:05:22 +0000 (Sun, 01 Jan 2017) | 4 lines
Changed paths:
   M /trunk/INSTALL
   M /trunk/Makefile.am
   M /trunk/bootstrap/Makefile.am
   D /trunk/bootstrap/freeciv-gtk2.appdata.xml.in
   D /trunk/bootstrap/freeciv-gtk2.desktop.in
   D /trunk/bootstrap/freeciv-mp-gtk2.appdata.xml.in
   D /trunk/bootstrap/freeciv-mp-gtk2.desktop.in
   M /trunk/client/Makefile.am
   D /trunk/client/gui-gtk-2.0
   M /trunk/common/fc_types.h
   M /trunk/configure.ac
   M /trunk/data/Makefile.am
   D /trunk/data/freeciv.rc-2.0
   D /trunk/data/gtk2_menus.xml
   M /trunk/data/themes/Makefile.am
   D /trunk/data/themes/gui-gtk-2.0
   M /trunk/doc/BUGS
   M /trunk/doc/HACKING
   M /trunk/doc/INSTALL.Cygwin
   M /trunk/doc/README
   M /trunk/doc/README.packaging
   M /trunk/doc/man/Makefile.am
   M /trunk/doc/man/freeciv-client.6.in
   D /trunk/doc/man/freeciv-gtk2.6
   M /trunk/doc/man/freeciv-modpack.6.in
   D /trunk/doc/man/freeciv-mp-gtk2.6
   M /trunk/m4/debug.m4
   D /trunk/m4/gtk-2.0.m4
   D /trunk/m4/gtk2-client.m4
   M /trunk/scripts/diff_ignore
   M /trunk/tools/Makefile.am
   D /trunk/tools/mpgui_gtk2.c
   M /trunk/translations/core/POTFILES.in
   M /trunk/utility/fciconv.h
   M /trunk/windows/Makefile.am
   M /trunk/windows/installer_cross/winbuild.sh
   M /trunk/windows/installer_legacy/Makefile
   D /trunk/windows/installer_legacy/freeciv-gtk2.cmd
   D /trunk/windows/installer_legacy/freeciv-mp-gtk2.cmd
   M /trunk/windows/installer_msys2/Makefile
   D /trunk/windows/installer_msys2/freeciv-gtk2.cmd
   D /trunk/windows/installer_msys2/freeciv-mp-gtk2.cmd

Dropped gtk2 guis.

See patch #7019

------------------------------------------------------------------------
r34764 | cazfi | 2017-01-01 22:57:16 +0000 (Sun, 01 Jan 2017) | 4 lines
Changed paths:
   M /trunk/client/luascript/script_client.c
   M /trunk/client/luascript/script_client.h
   M /trunk/common/featured_text.c
   M /trunk/common/featured_text.h
   M /trunk/common/scriptcore/tolua_common_a.pkg
   M /trunk/doc/man/freeciv-client.6.in
   M /trunk/doc/man/freeciv-manual.6.in
   M /trunk/doc/man/freeciv-modpack.6.in
   M /trunk/doc/man/freeciv-server.6.in
   M /trunk/server/scripting/script_fcdb.c
   M /trunk/server/scripting/script_server.c
   M /trunk/utility/deprecations.c
   M /trunk/utility/deprecations.h
   M /trunk/utility/log.c
   M /trunk/utility/log.h

Added log level LOG_WARN

See patch #7373

------------------------------------------------------------------------
r34763 | cazfi | 2017-01-01 22:47:54 +0000 (Sun, 01 Jan 2017) | 4 lines
Changed paths:
   M /trunk/configure.ac

Dropped obsolete WIN32_NATIVE macro

See patch #7499

------------------------------------------------------------------------
r34762 | cazfi | 2017-01-01 22:38:48 +0000 (Sun, 01 Jan 2017) | 4 lines
Changed paths:
   M /trunk/INSTALL
   M /trunk/client/gui-gtk-3.22/citydlg.c
   M /trunk/client/gui-gtk-3.22/cityrep.c
   M /trunk/client/gui-gtk-3.22/gui_main.c
   M /trunk/client/gui-gtk-3.22/happiness.c
   M /trunk/client/gui-gtk-3.22/mapctrl.c
   M /trunk/m4/gtk3.22-client.m4

Replaced deprecated uses of GdkDeviceManager with GdkSeat in gtk3.22-client

See patch #7221

------------------------------------------------------------------------
r34759 | cazfi | 2017-01-01 22:23:56 +0000 (Sun, 01 Jan 2017) | 4 lines
Changed paths:
   M /trunk/common/unittype.h
   M /trunk/data/alien/buildings.ruleset
   M /trunk/data/alien/cities.ruleset
   M /trunk/data/alien/effects.ruleset
   M /trunk/data/alien/game.ruleset
   M /trunk/data/alien/governments.ruleset
   M /trunk/data/alien/nations.ruleset
   M /trunk/data/alien/styles.ruleset
   M /trunk/data/alien/techs.ruleset
   M /trunk/data/alien/terrain.ruleset
   M /trunk/data/alien/units.ruleset
   M /trunk/data/civ1/buildings.ruleset
   M /trunk/data/civ1/cities.ruleset
   M /trunk/data/civ1/effects.ruleset
   M /trunk/data/civ1/game.ruleset
   M /trunk/data/civ1/governments.ruleset
   M /trunk/data/civ1/nations.ruleset
   M /trunk/data/civ1/styles.ruleset
   M /trunk/data/civ1/techs.ruleset
   M /trunk/data/civ1/terrain.ruleset
   M /trunk/data/civ1/units.ruleset
   M /trunk/data/civ2/buildings.ruleset
   M /trunk/data/civ2/cities.ruleset
   M /trunk/data/civ2/effects.ruleset
   M /trunk/data/civ2/game.ruleset
   M /trunk/data/civ2/governments.ruleset
   M /trunk/data/civ2/nations.ruleset
   M /trunk/data/civ2/styles.ruleset
   M /trunk/data/civ2/techs.ruleset
   M /trunk/data/civ2/terrain.ruleset
   M /trunk/data/civ2/units.ruleset
   M /trunk/data/civ2civ3/buildings.ruleset
   M /trunk/data/civ2civ3/cities.ruleset
   M /trunk/data/civ2civ3/effects.ruleset
   M /trunk/data/civ2civ3/game.ruleset
   M /trunk/data/civ2civ3/governments.ruleset
   M /trunk/data/civ2civ3/nations.ruleset
   M /trunk/data/civ2civ3/styles.ruleset
   M /trunk/data/civ2civ3/techs.ruleset
   M /trunk/data/civ2civ3/terrain.ruleset
   M /trunk/data/civ2civ3/units.ruleset
   M /trunk/data/classic/buildings.ruleset
   M /trunk/data/classic/cities.ruleset
   M /trunk/data/classic/effects.ruleset
   M /trunk/data/classic/game.ruleset
   M /trunk/data/classic/governments.ruleset
   M /trunk/data/classic/nations.ruleset
   M /trunk/data/classic/styles.ruleset
   M /trunk/data/classic/techs.ruleset
   M /trunk/data/classic/terrain.ruleset
   M /trunk/data/classic/units.ruleset
   M /trunk/data/experimental/buildings.ruleset
   M /trunk/data/experimental/cities.ruleset
   M /trunk/data/experimental/effects.ruleset
   M /trunk/data/experimental/game.ruleset
   M /trunk/data/experimental/governments.ruleset
   M /trunk/data/experimental/nations.ruleset
   M /trunk/data/experimental/styles.ruleset
   M /trunk/data/experimental/techs.ruleset
   M /trunk/data/experimental/terrain.ruleset
   M /trunk/data/experimental/units.ruleset
   M /trunk/data/multiplayer/buildings.ruleset
   M /trunk/data/multiplayer/cities.ruleset
   M /trunk/data/multiplayer/effects.ruleset
   M /trunk/data/multiplayer/game.ruleset
   M /trunk/data/multiplayer/governments.ruleset
   M /trunk/data/multiplayer/nations.ruleset
   M /trunk/data/multiplayer/styles.ruleset
   M /trunk/data/multiplayer/techs.ruleset
   M /trunk/data/multiplayer/terrain.ruleset
   M /trunk/data/multiplayer/units.ruleset
   M /trunk/data/sandbox/buildings.ruleset
   M /trunk/data/sandbox/cities.ruleset
   M /trunk/data/sandbox/effects.ruleset
   M /trunk/data/sandbox/game.ruleset
   M /trunk/data/sandbox/governments.ruleset
   M /trunk/data/sandbox/nations.ruleset
   M /trunk/data/sandbox/styles.ruleset
   M /trunk/data/sandbox/techs.ruleset
   M /trunk/data/sandbox/terrain.ruleset
   M /trunk/data/sandbox/units.ruleset
   M /trunk/data/stub/buildings.ruleset
   M /trunk/data/stub/cities.ruleset
   M /trunk/data/stub/effects.ruleset
   M /trunk/data/stub/game.ruleset
   M /trunk/data/stub/governments.ruleset
   M /trunk/data/stub/nations.ruleset
   M /trunk/data/stub/styles.ruleset
   M /trunk/data/stub/techs.ruleset
   M /trunk/data/stub/terrain.ruleset
   M /trunk/data/stub/units.ruleset
   M /trunk/data/webperimental/buildings.ruleset
   M /trunk/data/webperimental/cities.ruleset
   M /trunk/data/webperimental/effects.ruleset
   M /trunk/data/webperimental/game.ruleset
   M /trunk/data/webperimental/governments.ruleset
   M /trunk/data/webperimental/nations.ruleset
   M /trunk/data/webperimental/styles.ruleset
   M /trunk/data/webperimental/techs.ruleset
   M /trunk/data/webperimental/terrain.ruleset
   M /trunk/data/webperimental/units.ruleset
   M /trunk/server/rscompat.c
   M /trunk/server/rscompat.h
   M /trunk/server/ruleset.c
   M /trunk/server/ruleset.h
   M /trunk/tools/ruleutil/rulesave.c

Bumped ruleset format for 3.1 development.

See patch #7776

------------------------------------------------------------------------
r34758 | cazfi | 2017-01-01 22:19:04 +0000 (Sun, 01 Jan 2017) | 5 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/server/savecompat.c

Added macro FREECIV_DEV_SAVE_COMPAT_3_1 to be used where the compatibility code
is specific to 3.1 development.

See patch #7372

------------------------------------------------------------------------
r34757 | cazfi | 2017-01-01 22:16:43 +0000 (Sun, 01 Jan 2017) | 4 lines
Changed paths:
   M /trunk/data/civ2civ3/README.civ2civ3
   M /trunk/doc/BUGS
   M /trunk/doc/README
   M /trunk/doc/README.packaging
   M /trunk/doc/README.rulesets
   M /trunk/doc/README.tilesets
   M /trunk/fc_version
   M /trunk/server/rscompat.h
   M /trunk/server/savecompat.c
   M /trunk/translations/Strings.txt
   M /trunk/windows/installer_legacy/Makefile
   M /trunk/windows/installer_msys2/Makefile

Prepared trunk for 3.1 development.

See patch #7760
