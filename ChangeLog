commit 2f31f84427bb4446f1a0d1bf825e8400cbf7d9bb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 3 01:36:53 2025 +0200

    'make update-po' before 3.1.4 release

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b8a639a6ef8fb9c6fdb30b4523532683193059e4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 3 01:25:27 2025 +0200

    FAQ: Update latest stable version number to 3.1.4

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 749603bbbf2ded2b0de632177506cc054db49eb3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 3 00:22:33 2025 +0200

    NEWS-3.1: Add 3.1.4 section

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 77b0273b1c5443d1d934f7d5a1cdacbe610b3aa0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 2 22:28:48 2025 +0200

    Update Polish translation by Hubert Kowalewski.

    Pulled from https://sourceforge.net/projects/freeciv-l10n-pl/files/
    (zip timestamp 2024-12-27)

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f01658f3d06483837fbf72419365fd0c9e57ad93
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Thu Jan 2 00:04:13 2025 +0500

    Update for Russian translation

commit 54143d938364a9db464e8bffe82d2b9c81766b84
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 29 21:34:11 2024 +0200

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5fa5640f8108ca58e3faf120f8fe5131d28e9447
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 29 19:25:43 2024 +0200

    Update Slovak translation by Pavol Gono

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 610043ef334c6d208f411d494a73e803c0c8726c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 20 16:25:45 2024 +0200

    Meson: Set FREECIV_SAVE_PATH on run.sh

    See RM #1194

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2452902fed2d117519cfa8d192eac68889f1c05c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 19 06:21:40 2024 +0200

    Ruledit tab_enabler::delete_now(): Remove enabler completely

    See RM #1192

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6346d1e45feebe3555344265b4655c7521f2da72
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 26 16:11:50 2024 +0200

    Update Finnish translation of ruledit domain

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c18ab6ca0eeea28fa834e2e821c2eb7e7dd5e432
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 12 03:52:50 2024 +0200

    Fix generator/ comment typos

    found by codespell

    See RM #1185

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 26cce7d9db413631fda1ce2fc087d54489feed98
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 26 00:28:07 2024 +0200

    Comment typofix: "ploted" -> "plotted"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d5fa9e557f47686a79fec013ac83f440bb7010bd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 11 07:27:02 2024 +0200

    AI: Pass civ_map to dai_manage_military()

    See RM #1181

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 534ed471cb825e04b6ea989335e671548de4502b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 10 00:54:04 2024 +0200

    Makevars: Update from gettext-0.23 upstream

    See RM #1179

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0b640ecd089396c53d58ac0029a66f3b020a1544
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 30 06:35:44 2024 +0200

    AI: Pass civ_map to look_for_charge()

    See RM #1171

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3388ab0d1729531dd180b3031cdb061a456c1e9c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 30 04:12:29 2024 +0200

    savegame: Fix unused entry warning about game.save_known

    Reported by Molo_Parko

    See RM #1170

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a3fbed70a020297ccb024c59558784497ae1e5e1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 30 01:55:19 2024 +0200

    Unhardcode wld.map from city_support()

    See RM #1169

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 30a0e0e31ae41259ce1d0c7c4bea22926c635b5e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 22 19:17:52 2024 +0200

    Comment typofix: "suggetion" -> "suggestion"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 27a36e9cb74c40de92843c179fb766235e564695
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 23 08:58:24 2024 +0200

    AI: Pass civ_map to dai_choose_bodyguard()

    See RM #1155

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a7c094a3e01364e12013447b3311d67662f2b030
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 7 08:41:13 2024 +0200

    Qt: Fix Qt5-mode compile with gcc-15

    See RM #1176

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f41de853e550b3ada71468c94910dc10e19fb8d9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 30 03:32:34 2024 +0200

    savegame: Load game.random_seed

    Reported by Molo_Parko

    See RM #1167

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d20a2ddceb12a601513d59fe93e4cf076b0ab601
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 17 02:47:40 2024 +0200

    Unhardcode wld.map from city_unit_unhappiness()

    See RM #1130

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f3ba15b27ce348e548cc1ffdb323d0720ba709e1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 15 21:07:18 2024 +0200

    Fix advisors/ comment typos

    found by codespell

    See RM #1119

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d1f08a03962d531b30989d227cc9ef15f88f9a0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 11 06:20:21 2024 +0200

    Silence deprecated declarations warnings from C++ builds

    See RM #1180

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6a2cddc78c263115f90dac727e54399625aeea9d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 29 22:44:35 2024 +0200

    savegame2.c: Load map.random_seed

    Reported by Molo_Parko

    See RM #1166

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ec6ceb91ab0c02a6bd292fb67d356b8b86271091
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 15 20:23:00 2024 +0200

    AI: Pass civ_map to dai_process_defender_want()

    See RM #1117

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cbcdd276f73a0c334207c6c29f6462324b36addc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 13 05:30:54 2024 +0200

    installer_msys2/.gitignore: Add build and install directories

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e79b5ccb5376e3be36014fe12318df33ac442a1c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 13 05:24:15 2024 +0200

    Comment typofix: "selectes" -> "selects"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6f8b00e3f5de68e1479627211636aabe6a8435c6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 7 05:20:59 2024 +0200

    Makefile.in.in: Refresh from gettext-0.23

    See RM #1175

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 546a42290e27e0654f132a739b884a07792fb407
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 4 21:25:49 2024 +0200

    Update po.m4 to serial 33

    See RM #1173

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a73de7d3bdeed4c111c77e69c21b73fa5bc41835
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 3 22:14:17 2024 +0200

    Update gettext.m4 to serial 81

    See RM #1172

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f4c0395df5caae6f6f11e005c234c352ca05dc5d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 13 05:44:21 2024 +0200

    Unhardcode wld.map from city_refresh_from_main_map()

    See RM #1106

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b433f4e9d5209c12de4c0ed7b6bf1be26b1bf1d9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 7 22:55:24 2024 +0200

    Autotools: Check if var arg can be const

    See RM #1178

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 15eb74799b734c31c2ac692965c1a092348bcded
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 27 18:50:38 2024 +0200

    Silence unused entry warnings about savegame2 scenario.game_version

    Reported by Molo_Parko

    See RM #1160

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 26842fb69b69c92fafa171e0f55fd06a89310a93
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 9 13:59:44 2024 +0200

    AI: Pass civ_map to dai_wants_defender_against()

    See RM #1089

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ad848fb2efe03186a18e75d2a045cad80b6471e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 9 02:51:24 2024 +0200

    Make ftc_changed const

    See osdn #46353

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9ae128528c8f83e6f7e43da3c7bb4e881b49f869
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 9 14:30:31 2024 +0200

    Fix savegame/ comment typos

    found by codespell

    See RM #1090

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9947d4b097a2e8bfc370806c89e0324ec016075a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 9 01:34:47 2024 +0200

    Unhardcode wld.map from city_exists_within_max_city_map()

    See RM #1078

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 89693a4498007168132059bc32f6525f24144ae8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 9 01:03:30 2024 +0200

    Ruledit: Disallow multiple req_edits for the same good

    See RM #1076

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6777f0cc42f9e13515fa0582dae8529086122eec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 8 21:43:44 2024 +0200

    Correct client knowledge about original city owner

    See RM #1067

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dccc82666d9f75790128c459e7f2c8e0fefb1e47
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 20 21:47:34 2024 +0200

    CodingStyle: List fc_strlcat() in support.c functions

    Also fc_strcasecmp()

    See RM #1147

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f7da21db6c675cb7a43a6922a45b9ad81e607107
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 29 04:54:50 2024 +0200

    Add Slovak translation by Pavol Gono

    See RM #1165

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d647286ff608cca5f02673c013833f8b6fb57ee0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 9 01:24:38 2024 +0200

    AI: Pass civ_map to assess_danger_unit()

    See RM #1077

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 644c55e413da352a420b3307ecabec45ee4c0bfc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 8 17:48:20 2024 +0200

    Fix "typpe" typo

    See RM #1068

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a4c64f89e2e4ab61a4a0dbe9a06817ad02d6dda2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 9 02:59:25 2024 +0200

    Manual: Load Windows post-crash debugger

    See osdn #42915

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4f3369a510d8d07caff23d4fc9c65d78b684ddd3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 9 00:29:50 2024 +0200

    Ruledit: Add achievement type and value editing

    See RM #1074

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 086614a3a7143ecda6553f72afb2a0748b99ced3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 13 17:34:46 2024 +0200

    gtk4: Work around issue that icons are not refreshed

    See RM #998

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2817390238bb292fbd3a03ce86fbe84dd0b50169
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 5 17:29:59 2024 +0200

    Fix aicore/ comment typos

    found by codespell

    See RM #1062

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4b53af36f984ff19c90d719bb1c0354f84efdd90
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 4 19:38:13 2024 +0200

    Fix typo "irrevelant"

    See RM #1061

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 17b3145b51195b7a0c33afda0e2b463150b3033b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 4 18:01:26 2024 +0200

    pf_reverse_map_new(): Take map as first parameter

    See RM #1060

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1629cf39f6ded3b9be30b766395cb70dfcb9e67c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 3 11:19:21 2024 +0200

    greenlander.ruleset: Fix legend typo "Scaninavian"

    See RM #1042

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3745247a8ac58344642b1c93192b473c102e7926
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 11 05:09:02 2024 +0200

    unit_server_side_agent_set(): Send unit info only if ssa_agent really changed

    Saves some CPU cycles. More importantly for now mitigates
    a problem that when a unit with an activity is selected on
    the client side, it won't stay on focus if server sends
    this unit info packet before the activity has been cleared
    to be ACTIVITY_IDLE.

    Focus problems reported by bard and Helge

    See RM #1104

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4f9537c3e12039b1e4732ddc7d8baea9c45f8117
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 3 11:00:19 2024 +0200

    rssanity: Clarify initial tech insanity message

    See RM #1056

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 801a3c9df04fc84eb10f509e074bface52cc8d05
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 23 09:46:35 2024 +0200

    CI: Don't install pkg-config for mac jobs

    See RM #1156

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 70f68e8f9296f265faa2070d1877f535e3960e63
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 2 08:37:57 2024 +0200

    Unhardcode wld.map from city_choose_build_default()

    See RM #1052

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 69ddde04486519528b3683dbc001f140f04bcec4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 9 03:58:03 2024 +0200

    meson-winbuild.sh: Strip binaries

    See osdn #48559

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6d246be9714db2102609aad8bffcd691b19c957f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 12 00:09:47 2024 +0200

    cma_get_parameter(): Fix assert with parameter format version 2 savegames

    See RM #1105

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 97d532e90248af1d84f8ebbf3a1e1f9e89530134
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 31 19:58:48 2024 +0200

    Clear action_decision_want icon from observer clients

    See osdn #48044

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0eb2a26b42677aae7c77869b0ad306339b32bc16
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 9 02:09:48 2024 +0200

    CI: Update github actions to use actions/checkout v4.2.2

    See RM #1079

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 18b98a44c02b34f08670fcfd3d7edef411f36098
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 11 03:54:01 2024 +0200

    Free unit act_prob_cache if the action turned out to be illegal

    Reporte by Alain BKR

    See RM #939

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 23b100192792f4d7058586e9e6af3e03c7dbd6dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 31 07:58:12 2024 +0200

    sdl2: Add observer mode indicator

    See osdn #48133

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4d390f3b503689a8f683a8308dd10ca49c94ce22
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 10 02:35:48 2024 +0200

    Meson: Fix metainfo generation

    See RM #1098

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 76c2ef6ee04cb6cc47d7836fed306d24e5a72168
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 30 04:01:02 2024 +0200

    unit.rulesets: Update CollectRansom documentation

    Barbarian Leader does not need to be 'lone', just 'undefended'

    See RM #1039

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 74842cb0628778c514fd7053455e016ef25a53e8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 15 20:57:45 2024 +0200

    Comment typofix: "unambigous" -> "unambiguous"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 33767467370c6ca91af596846c413b5efc40b6d9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 29 05:02:33 2024 +0200

    action_prob(): Change 'known' type to 'enum fc_tristate'

    See RM #1029

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 199d29423ce20bd4ef6145814d65262e37e8f5d3
Author: Benno Lang <transmogribenno@gmail.com>
Date:   Fri Nov 15 23:47:39 2024 +1030

    Update Esperanto translation

commit 4d0c568cc35dbabae4aa05dc4f15ffe5afb1668d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 30 01:19:47 2024 +0200

    gnulib-common.m4: Update to serial 106

    See RM #1038

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 24d300a6b67ba88336d5202542b05d792af01ac5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 26 06:07:30 2024 +0300

    civ2civ3 & sandbox effects.ruleset: Fix comment typo "movemement"

    See RM #1023

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 977418c3a9842baca246217a3850c194ffc236b5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 13 04:54:11 2024 +0200

    Comment typofix: "Absolete" -> "Absolute"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7086cab4bea261118489195c405f15953448c28d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 26 05:24:17 2024 +0300

    Unhardcode wld.map from can_city_build_later()

    See RM #1022

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c3044e70534469228a190afd6840c0c2adf11e2b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 9 02:24:01 2024 +0200

    AppImages: Update linuxdeploy to version 2.0.0-alpha-1-20241106

    See RM #1080

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fa54692e8f10de0b0da795b86b001a7d36289195
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 2 06:43:31 2024 +0200

    Flatpak: Update Qt Sdk & Platform to 6.8

    See RM #1048

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 761456a0ddebe6fde6b1f41799f599b7b36d5d7b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 29 04:36:01 2024 +0200

    Make action selection dialog to appear on airlift

    Reported by Helge

    See RM #1028

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8d7643efb4171fe4d575df0e46a7cbb9ba9431a8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 22 21:53:40 2024 +0300

    Optimize maybe_become_veteran_real()

    See RM #1001

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5ac77cf2ddd0bf4339acbddb50bc0dd9f9e22d87
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 31 07:39:19 2024 +0200

    gtk: Make spaceship menu entry insensitive when no spaceship

    This is consistent with how the spaceship entry is
    insensitive in the nations dialog.

    See osdn #48231

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0fee114cac76f985830bc4f592d2db4b88713c43
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 2 06:34:26 2024 +0200

    Autotools: Search moc from /usr/lib/libexec/

    See RM #1050

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b895faa0e32fc0b30049989b771c00280a1c159a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 22 04:44:56 2024 +0300

    Fix utility/ comment typos

    found by codespell

    See RM #1005

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bfcf20ef9b1f43daa3aeb8830058e7ebe1f303be
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 8 22:24:16 2024 +0200

    Comment typofix: "miniscule" -> "minuscule"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8d514c20d299a40e07a46567df949f766ba1a123
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 8 17:51:51 2024 +0200

    FAQ: Refresh from the wiki

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 11727e09e4f360efbf1c87ddc22e97edb378f3db
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 24 05:40:40 2024 +0300

    Add main page for doxygen

    See RM #1015

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cdb5dc54f77c626aff9b827e81bd942687829684
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 29 07:15:46 2024 +0200

    Update stdlib_h.m4 to serial 82

    See RM #1030

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0e56176baf56cbc5338ef7f884dcd898313ca88f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 26 04:59:27 2024 +0300

    Update action_prob_unit_vs_tgt() doxygen documentation

    See RM #1021

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5c6038eaa7247166edd751df6378a988b95870f7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 4 19:19:24 2024 +0200

    Comment typofix: "attachs" -> "attaches"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 17ddf144ed74f585b71860f064ce349f8c442a25
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 20 03:29:49 2024 +0300

    Unhardcode wld.map from can_city_build_now()

    See RM #993

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3aaf1afe71af25cba9d72590e7869e756cc115e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 30 07:58:53 2024 +0200

    Autotools: Fix linking tolua against static sys lua

    Reported by keykeypi

    See RM #1040

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4964a4bc8833cf6fea3ea397ed1f50b05e7a8e13
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 19 17:14:46 2024 +0300

    Mark ruleset comments data loading error messages for translation

    See RM #918

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d2a890725219e6db63d51d941ed3079d4cea299e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 22 04:16:44 2024 +0300

    configure.ac: Correct AC_SYS_YEAR2038 comment

    See RM #1004

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cb5eaa04b0a36fe0cd61aef46b546637b4524cbd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 18 20:47:57 2024 +0300

    Refresh gnulib .m4 files

    Upstream has added an "offered as-is" -comment to them.

    See RM #979

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b4804138713345cc09312367f0c8c7f09081531b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 29 22:42:47 2024 +0200

    Comment typofix: "symetri..." -> "symmetri..."

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ec604fe39ed0117aaae06db08443dfdbd3560b1e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 19 02:33:02 2024 +0300

    Fix combat veterancy chance

    It was always zero (integer math for 0.00 - 0.99) when
    it was supposed to be scaled to how challenging the combat was.

    Reported by Moke

    See RM #983

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 985098a8fce7a89e0134a0b86ad699cabee7f2e6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 15 21:40:26 2024 +0300

    Unhardcode wld.map from can_city_build_direct()

    See RM #967

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c3324559f99479d94f0d5c89e44c4fc4408581ae
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 19 16:13:08 2024 +0300

    Include version number to the AppImage filename

    See RM #955

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6f5b23132a499b5f4ef2b5330131c9e0a4187c3b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 15 00:03:39 2024 +0300

    Update handle_diplomacy_cancel_pact() function header

    See RM #963

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bf355518f5654085f1fafbd70fff6a7aacad9abd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 27 06:55:24 2024 +0200

    Comment typofix: "heigh" -> "high"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8919f4f5a42f8dda49eccba1ef5eec11a064b14a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 12 11:07:34 2024 +0300

    Meson: Compress scenarios on crosser builds

    See RM #956

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 264309a0a064ffc3f78f57126be9099948703f0b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 13 23:18:22 2024 +0300

    Update build-to-host.m4 to serial 5

    See RM #960

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 47b77a66cc5e2766be3717a68d30570997e25468
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 7 06:09:43 2024 +0300

    CI: Use macos-15 runner for mac-meson build

    See RM #936

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3657517bb6cfeda3a9f23d42694dea2df857e272
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 10 20:16:32 2024 +0300

    Remove executable bit from fcser.in & fcgui.in

    See RM #950

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a338e435c0da3f2d432a26defda587fbaf3fe323
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 17 18:19:19 2024 +0300

    CI: Install icu4c for mac-meson job

    See RM #974

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ea85e12ab6aa10f3c9ba233d7ec0945cd0ea2667
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 17 17:41:44 2024 +0300

    CI: Update os_x runner to macos-15

    See RM #957

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bd8d1a6da5c80c7163ae6e64777c5591d2a94c0f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 8 19:29:35 2024 +0300

    Unhardcode wld.map from action_speculate_unit_on_self()

    See RM #940

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5e35b4a4d5507f492ea91a62bd0eec624b20c81b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 19 00:17:51 2024 +0300

    Comment typofix: "ommiting" -> "omitting"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d61dc92ffcf633319cab1058124b7980703f58b8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 7 17:51:08 2024 +0300

    Autotools: Fix duplicate -lcharset on LIBS

    See RM #937

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c7c11fa51d95f00ab2cea05b0149da683b743b6b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 28 00:26:15 2024 +0300

    build_appimages.sh: Build ruledit appimage

    See RM #919

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 190fba5ce6b536f465c6767c8dc6bf574d3d1f34
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 27 05:43:01 2024 +0300

    Unhardcode wld.map from action_speculate_unit_on_extras()

    See RM #916

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c4de51d15e92112c41902b759c53ee32c6b20117
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 15 22:03:16 2024 +0300

    Comment typofix: "manditory" -> "mandatory"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a8d167a417001cc5e4dfd839e158336f3b7aeaa1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 3 07:14:23 2024 +0300

    gnulib-common.m4: Update to serial 105

    See RM #914

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 05cd6c70c7069f42ec1105556ccb68a5ab310103
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 15 00:59:16 2024 +0300

    Comment typofix: "desct..." -> "destructor"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 74915bc1d063a6f0c78ca8c1c54d1b4da46467b3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 10 20:38:26 2024 +0300

    flatpak: Build sdl2-client with meson

    See RM #949

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2394995e37ea1ab48c3fc63cf31b377eadf0dd56
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 1 01:23:36 2024 +0300

    Update gettext.m4 to serial 80

    See RM #913

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 28e6eda24f479cd9fd398ade1ce17be019072353
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 13 09:56:25 2024 +0300

    Comment typofix: "SELLECT" -> "SELECT"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6e5f655a257ec4558b58ab6cc09bb24acc1e7415
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 6 13:10:02 2024 +0300

    ci-build.sh: Set qtver=qt6 for meson job

    See RM #934

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9cf1d56eb5592ba25485048e71106931a301d7e1
Author: Michael Ortmann <41313082+michaelortmann@users.noreply.github.com>
Date:   Fri Oct 4 03:41:55 2024 +0200

    gtk: Fix leak in cityrep.c:cityrep_sort_func()

    Ported to S3_1 by Marko Lindqvist

    See RM #941

commit 0b40ff9db67bbc40f583a8df188e0a21a8d96e54
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 21 07:56:40 2024 +0300

    Meson: Add check for Qt version

    See RM #881

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1be785d3a7cdf98d3c7197672db44bf1929492bd
Author: Michael Ortmann <41313082+michaelortmann@users.noreply.github.com>
Date:   Tue Oct 8 20:13:54 2024 +0300

    gtk: Fix memory leaks

    Leak fix 1: themes.c:gui_load_theme()

    Leak fix 2: pages.c:intro_expose()

    Ported to S3_1 by Marko Lindqvist

    See RM #931

commit 02703d642c05aa9d0516dd201569d6b807f61120
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 27 06:48:09 2024 +0300

    Update build-to-host.m4 to serial 4

    See RM #912

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b81b25f9036f2e0e457f7a21d29475272f4fb279
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 7 15:52:33 2024 +0300

    CI: Update os_x runner to macos-14

    See RM #938

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7856eeaa77e77c50820119926bb49d955a13c0f1
Author: ninjum <138787523+ninjum@users.noreply.github.com>
Date:   Tue Oct 8 20:56:04 2024 +0300

    Add Galician translation

    Some adjustments to the build system parts by Marko Lindqvist

    See RM #929

commit f1dde3ce9783fd037d0f2891930bdf2ccc843a53
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 11 00:10:36 2024 +0300

    Mark as development code

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 40e08b956de1d1310d3c736ee6a3fd708099e1f0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 11 00:07:43 2024 +0300

    ChangeLog: Refresh for 3.1.3 release

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7e579718036498ffb5f9b4c8d7f763b766a3c88b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 11 00:07:13 2024 +0300

    Set version number to 3.1.3

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d8fce3339fdaaa05a072308aa7ba1507987a39b1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 11 00:05:59 2024 +0300

    'make update-po' before 3.1.3 release

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ed2afeddc86bcb67884ac0c266ffca3d668cb436
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 11 00:03:13 2024 +0300

    FAQ: Update latest stable version number to 3.1.3

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5846200dcebe2bd0d79f895e45708b443cc92a82
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 10 23:52:00 2024 +0300

    NEWS-3.1: Refresh 3.1.3 section

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a9f370b5831de57ce419a6f6da38932b6e125f36
Author: Benno Lang <transmogribenno@gmail.com>
Date:   Thu Oct 10 15:08:08 2024 +1030

    Update Esperanto translation

    Main changes:
    * Return all nations to uppercase first letter (for consistency, and
      because it looks nicer in menus and tables)
    * Match unit pluralisation (previously most/all units were
      translated as plurals, possibly in an attempt to avoid
      adjective/noun plural mismatch, although that's not possible.
      Instead, sentences should be restructured to avoid such issues)
    * Add some missing nations (there are still plenty to go)
    * Fix various errors

commit 8ddd5f5f9f9be2e5fc143028475b322fd2503b3b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 9 05:53:17 2024 +0300

    Comment typofix: "missplace" -> "misplace"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b8d02fb3398363402d3f186da62871132e711869
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 7 05:33:18 2024 +0300

    Fix client crash when Leaving the game to main menu

    See RM #935

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 25d93829ccf8a473b4ec34b369f8c0425c8d2786
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 8 18:26:31 2024 +0300

    Update Polish translation by Hubert Kowalewski.

    Pulled from https://sourceforge.net/projects/freeciv-l10n-pl/files/
    (zip timestamp 2024-10-06)

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 11cb8691ed5e56b16bd4c1ba8557cb4448c2c95b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 8 18:12:08 2024 +0300

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 14bf941f60a02000b16ae0139163971e05b4a287
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 5 18:59:04 2024 +0300

    Update Finnish translation of ruledit domain

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bf34ae77fcf7d06d3ce458a8860ffdc4f6dff727
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 5 10:49:38 2024 +0300

    NEWS-3.1: Add 3.1.3 section

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e5a2a7561f0df2571cba049c354d5ddd9edac548
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Fri Oct 4 09:13:29 2024 +0500

    Update for Russian translation

commit 5a0387cebb6d9d3414810b6b29b64ac5a055beb2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 27 06:32:54 2024 +0300

    comments_load(): Log errors as such

    See RM #917

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 67fc44cb7888a9d332277e4c4e6a6a77b228251d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 3 17:37:46 2024 +0300

    Comment typofix: "unknow" -> "unknown"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0b6765c85fdd8d0d26979db338150e170f53ac17
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 21 13:20:15 2024 +0300

    gtk: Fix editor assert failures when player government not known

    See RM #860

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 035974c1bd64ab93dd5a4d631179384a7f656dcf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 20 20:51:57 2024 +0300

    Unhardcode wld.map from action_speculate_unit_on_tile()

    See RM #893

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 92288a795d0e8e08c08eb0b1ca173da8970616f1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 2 03:35:58 2024 +0300

    Comment typofix: "enought" -> "enough"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c8fcc245d170ec6ef30ab138d129dad1b5ca7268
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 20 17:37:06 2024 +0300

    Apply patch 3 for lua-5.4.7

    See RM #883

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 078d700fb60dd5c06c20cfa3271b7267e1033d2b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 18 06:23:57 2024 +0300

    Check get_discounted_reward() return value

    If the function has failed, do not use the result structure from it.

    See RM #872

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b4b47d699938fa3b14bf4a545abfe12b2645471f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 30 00:09:41 2024 +0300

    Comment typofix: "reproducable" -> "reproducible"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4c27317b94beba36d0417fd217f881e7fcc00eb7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 19 00:52:24 2024 +0300

    Flatpak: Update gnome Sdk & Platform to 47

    See RM #877

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f6c9de3ad4c1a6800154ca26eb05948adc90d0c1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 20 17:16:33 2024 +0300

    Move cargo sanity check to rssanity

    So it's part of ruledit's sanity checks too

    See RM #878

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1a1a13d5e5d31ec015d21abe0d6423700466cf2e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 28 03:47:51 2024 +0300

    Comment typofix: "inbetween" -> "in between"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3581e195e2cf649248c42125fbf2ed715a7b4a99
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 18 20:31:03 2024 +0300

    fc-sdl2.m4: Port upstream serial 3 changes

    See RM #873

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 309679a35c44102643124cc6036b62b279be7109
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 18 02:55:24 2024 +0300

    Unhardcode wld.map from action_speculate_unit_on_units()

    See RM #871

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bf5e640b424c2b066c082f70ff1e38a91730f13b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 25 04:05:56 2024 +0300

    Comment typofix: "catch throught" -> "caught through"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f8baa8e90a58d9f369088a15af080ba4f8c72f36
Author: SÅ‚awomir Lach <slawek@lach.art.pl>
Date:   Wed Sep 18 21:48:41 2024 +0200

    Qt: Put governor settings to a scrollarea

    This makes it possible to squeeze city dialog to
    smaller size, so it fits e.g to Steam Deck display.

    See osdn #117756

commit 3ec5c7fe661e38f58926b05956ff2cd07010a2d7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 14 10:04:30 2024 +0300

    Unhardcode wld.map from action_speculate_unit_on_unit()

    See RM #853

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 19129bf22e3c5c3e2930ecc42cb57a26f07218ce
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 20 23:02:38 2024 +0300

    Meson: Make modpack installer build to depend on verhdr

    See RM #896

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a6fee2f1f9db1f1b36c0a7a513a1e976f6d4e05f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 17 18:44:29 2024 +0300

    CI: Make github actions to use actions/checkout version 4.1.7

    See RM #868

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 07ff823f1d57559fb8a30fada7d63e88be6b951a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 14 09:55:24 2024 +0300

    specvec.h: Add function headers for inline functions

    See RM #536

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6934b9d8ff116bc305859f0de29c00725c7dd032
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 13 18:10:21 2024 +0300

    fc_querysocket(): Handle fdopen() errors

    See RM #851

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 851c25b4f7cad5e70be540f1036453c5790a4371
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 11 07:12:01 2024 +0300

    HACKING: Correct debug log level name

    It was documenting numeric value that was also outdated,
    and now wrong.

    See RM #847

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c4d8aee3b09b2a096bbcf6594760dcc1235690af
Author: Michael Ortmann <41313082+michaelortmann@users.noreply.github.com>
Date:   Fri Aug 30 00:56:48 2024 +0200

    Do not reread tilespec, if it is the current one

    See RM #879

commit 9bdc838fbb9a3fa97e5ff9908c09a35e5066ff7d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 21 00:01:59 2024 +0300

    Comment typofix: "brefore" -> "before"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 99bfc751c4d00590450862d518ccf81a957c15b1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 13 19:03:03 2024 +0300

    Flatpak: Update freedesktop Sdk & Platform to 24.08

    See RM #850

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 21010adb2dcd87f176cecb346ef251eabd348bf5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 12 07:29:59 2024 +0300

    Ruledit: Add unit cargo properties editing

    Edit cargo types and capacity.

    See RM #849

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ea8a7a2acb3567f86a3b5e049b81199baf85cd51
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 8 12:58:44 2024 +0300

    Unhardcode wld.map from action_speculate_unit_on_city()

    See RM #839

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 98810920eb610c318be36d0cc5e5222c279711e2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 7 01:09:46 2024 +0300

    Qt races_dialog::set_index() header: Drop duplicate "current"

    See RM #832

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 08edc04c9b7591bcb414f292f12fb24023eb5fd4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 7 02:53:54 2024 +0300

    Update lua command helptext

    See osdn #45636

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2298bf6d1f1ab931bb87728275388d8fde024978
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 8 12:31:46 2024 +0300

    gnulib-common.m4: Update to serial 103

    See RM #838

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 29f5b1c195b700cbf84a2a0419481843325afed4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 7 00:46:10 2024 +0300

    Correct "Inresponsive" to "Unresponsive"

    See RM #830

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 42deb9eef65278335b9d0b3cdb8ee3a389a5b918
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 15 10:56:36 2024 +0300

    Comment typofix: "doesnt" -> "doesn't"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 84dfafd7be6e96ade6e8229d85880949996f419c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 7 00:29:36 2024 +0300

    speclist.h: Mark inline function headers for doxygen

    See RM #760

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fbd03b0f509b4471f99fe1618a49ec02465c117e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 6 23:44:35 2024 +0300

    Correct unit escape message

    - Correct word order
    - Display attacking unit's owner's nationality, not unit's

    See RM #100

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4e16e9aa85898949b8523a0c1952b59dba3c8882
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 6 22:59:13 2024 +0300

    stdlib_h.m4: Update to serial 81

    Add locale-en.m4 as a new dependency

    See RM #823

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 393fa2accdc85f9238ff22a150e568260cee0f54
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 6 22:46:39 2024 +0300

    Fix diplomacy crash when partner government unknown

    Reported by Michael Ortmann

    See RM #814

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cf4e30a47d9d198f84d35344b8cb90f23c1954db
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 6 08:23:48 2024 +0300

    Meson: Make common_lib to depend on verhdr

    See RM #826

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0c3fc69e9fe74815b1a3826c240ece210bdcbf0d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 10 04:39:19 2024 +0300

    Comment typofix: "splitted" -> "split"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6cfdd66dd3541889620a8c3475b02f1c8d99b691
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 6 17:53:48 2024 +0300

    Apply patch 2 for lua-5.4.7

    See RM #761

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 57a8b3d1b99a9416f430061cf12e708ae0092a72
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 6 18:13:50 2024 +0300

    Update unit_versus_unit() header

    See RM #827

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 923aecd5e0d8241c14a8a3cd90a7dc65ff034b67
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 6 06:35:19 2024 +0300

    Meson: Install small flag sprites

    Reported by ivar

    See RM #824

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 86af5d17419cba0254b077f4eaf7073613b938bd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 1 01:03:18 2024 +0300

    Unhardcode wld.map from action_prob_unit_vs_tgt()

    See RM #819

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 41567aa96a80ffcca632ee4db407a4f060d7a79b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 8 13:20:42 2024 +0300

    Comment typofix: "Processess" -> "Processes"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1220e2288dcaeb1c61337046cbd4b208b4bc1f66
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 6 05:49:43 2024 +0300

    locale-fr.m4: Update to serial 24

    See RM #822

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c024927e84b15730635869d224dbf89d050439d2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 5 08:52:39 2024 +0300

    Qt: Use QMenu::clear() instead of our own implementation

    Remove reset_menu_and_sub_menues()

    See RM #820

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 12ecd55b0acca023587a46bd4ec97b931045eca5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 31 15:25:05 2024 +0300

    Give log level deprecation warnings regardless of parameter order

    Make deprecation warning about numeric log level pending.
    Log it if later parameter enables deprecation warnings.

    See osdn #45954

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bdb60d3a30e7b0e383b571d2e3f555c8eae8a824
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 7 05:09:33 2024 +0300

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1b20424320a822c4a921c34315e8a0dac1d3ca70
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 31 07:36:08 2024 +0300

    Correct "hight" to "height"

    See RM #816

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 17fe2ea8cfa1b96f4569b3a8d1918810a59e1aac
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 4 01:27:24 2024 +0300

    Update to crosser-2.9

    See RM #722

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit db9871ea3062b341361b8c866e0576d33f6ffa6a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 6 21:16:11 2024 +0300

    Comment typofix: "higlight" -> "highlight"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 618bfc6631879ddfda1546c0197a1ea8a416f437
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 25 23:38:00 2024 +0300

    AI: Make amount of Veteran_Combat effect to count in evaluation

    See RM #794

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 647895abe930c0c2689d1d7c060fb02e1e3f791c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 25 23:08:21 2024 +0300

    granularity: Correct "pecularities" to "peculiarities"

    See RM #810

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 412ec668dbff679d165f9ee1a56325b2719325f5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 3 07:45:33 2024 +0300

    Comment typofix: "accidently" -> "accidentally"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 272ea5e916d910f41dbcf3f256fbea2ac66ab6db
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 25 23:03:01 2024 +0300

    Unhardcode wld.map from can_unit_change_homecity_to()

    See RM #809

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d1f08ecc588e1a736f19d6241b3125d0098059d2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 31 21:42:17 2024 +0300

    Comment typofix: "miliseconds" -> "milliseconds"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b3613323df66594423b2f32b73beda86941cb59c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 31 21:02:34 2024 +0300

    SDL2_gfx: Clear executable bit from source files

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e877a8b70db81f68775449cdc26509c26131c5a9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 25 22:31:23 2024 +0300

    gnulib-common.m4: Update to serial 101

    See RM #808

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5c0c46c46097bbb5a6340f0932ec4dcc5802b963
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 23 23:11:21 2024 +0300

    Correct "cancelation" to "cancellation"

    See RM #800

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8e0b48af8e87b150df4c4544ea70dce81fefa494
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 23 23:35:25 2024 +0300

    Update host-cpu-abi.m4 to serial 18

    See RM #801

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bdd26e03a9d0e6657a92b7a721002deba5e4579b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 22 21:51:50 2024 +0300

    Unhardcode wld.map from unit_can_add_or_build_city()

    See RM #799

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 90cd98bfbfd46962f9d2de68f3f983d10772a155
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 18 13:36:09 2024 +0300

    Correct "existant" to "existent"

    See RM #796

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 45d9c57988cc321a4acf8986e230a6f959ae70e1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 19 19:07:30 2024 +0300

    installer_cross: Clean out remainders of qt5 support

    See RM #798

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a756d79514b6b94f2c19e02ec4a743e85469614e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 23 23:00:23 2024 +0300

    Comment typofix: "compability" -> "compatibility"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8bddfb7012c86c6ebb03bba0c0cf2d841f933cd2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 12 19:23:22 2024 +0300

    AI: Refuse receiving techs when can't afford upkeep

    See RM #788

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7e5ff6d8f2231b4f4caf02ea5e59e8848060f448
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 16 20:52:49 2024 +0300

    Unhardcode wld.map from can_unit_alight_or_be_unloaded()

    See RM #792

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 93f170329fc604a3af93a62dd1bf85d2da23750a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 16 20:11:27 2024 +0300

    notify.c: Convert parameter documentation to doxygen format

    See RM #791

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 699780044755c1eac1ed992d22f9174ce5b23613
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 20 18:50:44 2024 +0300

    Comment typofix: "reset(t)ed" -> "reset"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 79258aecc669afacaed8f17ae5631e9ecd922dad
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 15 17:19:14 2024 +0300

    Sandbox: Correct MinVeteran requirements' format

    The value was given as an integer, though it should
    be a string.

    See RM #784

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 11bc91a9f8bc2360870bd85a0bbdc9c643c6dbe4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 11 05:30:02 2024 +0300

    Unhardcode wld.map from unit_can_help_build_wonder_here()

    See RM #785

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7b4a0c1c8901564d3df8ee2561f22dff41a32509
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 12 06:36:40 2024 +0300

    Correct "symetry" to "symmetry"

    See RM #787

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 624a9cbf2d74a2c48a58eb94495bb98ec1471eec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 10 11:15:04 2024 +0300

    Fix "dublicate" typo

    See RM #783

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f023e8b12a3b08965749b357d260b83d038491e1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 10 06:51:45 2024 +0300

    Unhardcode wld.map from action_is_blocked_by()

    See RM #758

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7fd070fca585e0e8ea8227e673bcaa8706695960
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 10 09:50:47 2024 +0300

    Comment typofix: "insensitve" -> "insensitive"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 96d6654a7fd8a0b090054c972b1a2a78245ee2ec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 6 00:45:21 2024 +0300

    gnulib-common.m4: Update to serial 100

    See RM #775

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 19b4c38d315b2fd9f585dd247359fa2ea9101e93
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 5 07:52:46 2024 +0300

    Fix clang-20 compiler warnings

    See RM #773

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f84a48fdb1a9c600dadf57f655c7585b84dd3c83
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 2 00:06:25 2024 +0300

    gnulib-common.m4: Update to serial 99

    See RM #769

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b0108f3b7a6a1ad7909f5ded05ebfc82bf09d40e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 31 23:37:20 2024 +0300

    Merge German translation from main branch

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3c94b5112b1bcc2fb45c2352b5eee0c5b9d99e33
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 27 22:21:59 2024 +0300

    Comment typofix: "inidicator" -> "indicator"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 426b067a21513a2825dbd47f23391ac4d21e50a6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 16 14:28:04 2024 +0300

    alien: Correct units.ruleset typo "spesific"

    See RM #762

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 92c776442aba4b9adc1ae4836c3bc87411d1b8be
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 11 17:20:13 2024 +0300

    Comment typofix: "catched" -> "caught"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4cafe10fcfc076574ad38806de0a87d849a6425d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 9 01:09:46 2024 +0300

    Update included lua to version 5.4.7

    See RM #683

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 905d442d5434139f3adc6cef4cced7cb775a59a5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 29 07:58:57 2024 +0300

    Unhardcode wld.map from action_prob_self()

    See RM #739

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eb06979a225a92581ba32b9a8ca1b0b31169cff5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 7 22:01:23 2024 +0300

    Autotools: Improve missing sqlite3 error message

    Reported by drgerg

    See RM #753

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fc8ee7b95c477d0f96b934da8763a4f6e1f38495
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 6 11:35:39 2024 +0300

    gtk: Fix crash when closing last diplomacy tab

    See RM #750

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fe12f5e296e3af205dfdd7e6c0c1cf55ccb013b2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 9 00:01:27 2024 +0300

    Comment typofix: "everytime" -> "every time"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6aa1c4bdea1b40a3e13cf6b2195c62208dad1ade
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 2 07:24:09 2024 +0300

    Set QT_DISABLE_DEPRECATED_BEFORE to 6.0 in Qt6-mode

    See RM #734

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 22772fe6c44a50a9a65cc83edda8c3ffd7fd5681
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 6 02:31:27 2024 +0300

    Comment typofix: "diolag" -> "dialog"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 03c281713422e90aa073243ad51fa31c7f759175
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 1 21:27:05 2024 +0300

    Makefile.in.in: Refresh from gettext-0.22.5

    See RM #745

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 95510ad3b8e35b632204273987cc8da1c3d293f8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 5 20:37:26 2024 +0300

    Mark as development code

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e98d6f2f45505587455d597926aa0d78dc1ee6f9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 5 20:35:14 2024 +0300

    ChangeLog: Refresh for 3.1.2 release

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9fec55a49a588f47cc1e74767c365caa34ae2a98
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 5 20:34:35 2024 +0300

    Set version number to 3.1.2

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 15dce16b2fb30afbda9ea8dff6a2df8d86dae5d6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 5 20:28:56 2024 +0300

    'make update-po' before 3.1.2 release

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 30312e643d6499ecdbd808dfd267005a0faf47b4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 5 20:23:48 2024 +0300

    FAQ: Update latest stable version number to 3.1.2

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6318b36a922335207dd0295d31d3cf793bdb152d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 5 16:38:36 2024 +0300

    NEWS-3.1: Add 3.1.2 section

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4911d4341bfb54bcb1653c8d0a2ec7bd5f660975
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 5 14:13:59 2024 +0300

    Update Polish translation by Hubert Kowalewski.

    Pulled from https://sourceforge.net/projects/freeciv-l10n-pl/files/
    (zip timestamp 2024-07-02)

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 39f10f338c003cecef731c70a85fa16895a19d0f
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Thu Jul 4 07:54:15 2024 +0500

    Update for Russian translation.

commit e7111642b8a04fb32699e0808ad663ea338b5d25
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 1 21:23:48 2024 +0300

    Fix doc/ typos found by codespell

    See RM #746

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 198f24e5595f9cd8f10714097ff87a87aa35fa44
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 28 18:04:36 2024 +0300

    Qt: Avoid deprecated QMouseEvent::globalY() in Qt6-mode

    See RM #738

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d67f87c8a449b4bd2b9aba36ac0526ce5ac33f3d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 28 17:27:33 2024 +0300

    Qt: Avoid deprecated QFontDatabase constructor in Qt6-mode

    See RM #737

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3bae44b99fd24991dfee8a679073a7e31c9ff400
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 28 14:36:06 2024 +0300

    Qt: Use QVariant::typeId() instead of ::type() in Qt6-mode

    See RM #736

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ab130b73a8166226ef9262f648e488d479394f97
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 30 13:52:18 2024 +0300

    Comment typofix: "to initailly" -> "initially to"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 26573ae372048c6b94e3aa83f3c270998cb1ca0b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 28 14:16:20 2024 +0300

    Qt: Avoid deprecated QMouseEvent::globalPos() in Qt6-mode

    See RM #735

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b322a4caeb9fca0762d351528dd97484bb440561
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 28 12:54:23 2024 +0300

    Qt6: Avoid deprecated QMouseEvent::localPos() call

    See RM #733

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d8ed1183b80082a033a0d5c42ca841b60878d2e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 25 04:22:53 2024 +0300

    Fix rscompat_postprocess() stringop-overflow warning

    See RM #729

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0756f0bf62e17375be046b230cfde7cf61e06028
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 19 00:53:50 2024 +0300

    game.ruleset: Improve tech_upkeep_style documentation

    Do not refer to tech_upkeep_free as if it was
    a game.ruleset field.

    Reported by 3plus4i

    See RM #727

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1c0e05c6cd534a4c0e6ec409ecc08e2603fb98f6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 27 08:23:47 2024 +0300

    Threaded AI: Correct dai_assess_danger_player() call parameter order

    See RM #730

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c21514f4eb1384ec1ac2ec873d81faac72b285b1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 17 00:08:53 2024 +0300

    AI: Improve military_advisor_choose_build() parameter order

    Make consistent with other functions:
    1) If there's an AI type parameter, it must be first
    2) civ_map parameter is second, or first if there's no AI type

    See RM #724

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 57a73c140f7ea86999c0503c462a0c9e8462c6a6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 24 00:19:23 2024 +0300

    Correct actor id in action query response from server to client

    Reported by StefanJ

    See RM #728

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 01f603759ac885fa3e9885a9a1edd4186d88de68
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 25 04:13:20 2024 +0300

    Update Finnish translation of ruledit domain

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3728a9484274a64340edd736553098267866cce0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 4 00:22:20 2024 +0300

    Unhardcode wld.map from can_city_build_unit_later()

    See RM #699

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ff6f04d8e1de8491f659ee28cabd01b454dc7328
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 24 05:30:48 2024 +0300

    Update Finnist translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 67beee52665abc89aab66b4524782e5054d0186d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 15 15:52:29 2024 +0300

    installer_cross: Fix deprecation warning about 'pkgconfig'

    See RM #704

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c57dd930c699389d1f8cbd5539b9db74af7c3810
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 15 14:53:21 2024 +0300

    Refresh config.rpath from gnulib upstream

    See RM #717

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 90dc04530e1e712aa92d3f52884df63df1a13793
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 29 19:59:05 2024 +0300

    Unhardcode wld.map from action_prob_vs_extras()

    See RM #684

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5022663c3ba5bd95ad4d3e87a3c2ccf6dcf21b1b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 23 01:40:07 2024 +0300

    build_appimages.sh: Build gtk3.22-client AppImage

    See RM #668

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7a7388ce68ff252f095cd47cbfa6bbe1eec5e00f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 9 20:50:08 2024 +0300

    Meson: Regenerate metainfo files after fc_version change

    See RM #705

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2db90a2b09ac791b158ec3e51c0afe1ffa0f8c60
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 16 02:09:45 2024 +0300

    Tex: Initialize map topology

    See RM #663

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d4fcf670fb3b65c506ec8654dcb7bcc53efb859d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 9 05:29:04 2024 +0300

    stdsounds: Add sound for tech gaining events

    Sound was Public Domain (CC0) sample by StumpyStrust
    https://opengameart.org/content/ui-sounds

    See RM #712

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 230802e3b4be89e979e9131843c1102eb02282cc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 22 22:12:03 2024 +0300

    Correct "preceed..." to "preced..."

    See RM #667

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b6f040084706b7f566d58661bf5972d770f4830a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 14 12:07:11 2024 +0300

    Manual: Show impossible activity time as "-"

    See RM #637

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 59ff1b6572393c5db8150c5dbbadc1e4be06a643
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 24 03:57:14 2024 +0300

    Unhardcode wld.map from unit_being_aggressive()

    See RM #677

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f50fa4a305b77c760f17fc17cd33f7ca2368fdd4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 16 22:16:21 2024 +0300

    Comment typofix: "sting" -> "string"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7f4ee78b9a3569e8489bb41d2e01fbd572d3dbf2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 18 03:29:26 2024 +0300

    Drop double spaces from civ/2 nation legends

    See RM #645

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9e0474c6885aac5f5f4c036b00172ed3e5236367
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 8 22:57:32 2024 +0300

    Meson: Add check for FREECIV_STATIC_STRLEN

    See RM #708

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c594d06913d5ef622558587634bd585c5d8cdac7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 15 02:23:33 2024 +0300

    Comment typofix: "thats" -> "that's"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 670ecec595f043b42e4c5430c1d34c7c50653dab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 22 01:07:19 2024 +0300

    Fix init_nls() 'grouping' leak

    See RM #443

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6a9b5f1c8d53e6e163e8e57429344cff84cf55d2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 18 03:49:36 2024 +0300

    Unhardcode wld.map from can_city_build_unit_now()

    See RM #646

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4044c8072766a1255f090bea634deff656b8201b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 16 03:35:08 2024 +0300

    Correct "contructor" to "constructor"

    See RM #626

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8c74741c30f1f22d8e8763d0f569d17ab43500f3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 16 02:55:21 2024 +0300

    build_appimages.sh: Build qt-client AppImage

    See RM #623

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 658689232ce62b989e50eeac97c146a2e61e82e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 8 20:14:33 2024 +0300

    map_init_topology(): Operate on any map

    Take map as parameter, instead of assuming main map.

    Requested by Alina Lenk

    See RM #707

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fdc2775eb51a305d351451e2db7df2b7d11a7a5c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 11 06:09:37 2024 +0300

    Comment typofix: "Initilialize" -> "Initialize"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 52c6b9520cda66db7ca86042e0b828c90ebe949f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 31 01:06:12 2024 +0300

    Meson: Add configure checks for static asserts

    See RM #691

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 912b2b09cbf6237eb1351a83d29788b16b7d0889
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 16 02:35:20 2024 +0300

    Unhardcode wld.map from action_prob_vs_tile()

    See RM #622

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 50c89d4bd121903986b74d3a7b6763b49fe50651
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 10 00:18:06 2024 +0300

    POTFILES.in: Add edit_gov.cpp

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 18b46d004c327cdcd78e9bfaff73b44e2c45a939
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 15 14:16:26 2024 +0300

    Ruledit: Add edit_gov dialog

    See RM #618

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cbc47a16c77d726ea280e23e0815f76387049bf2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 27 20:38:40 2024 +0300

    gnulib-common.m4: Update to serial 95

    See RM #681

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 53d79478b0c478e89d0870785e85481bc25e0df6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 12 03:30:16 2024 +0300

    build_appimages.sh: Build sdl2-client AppImage

    See RM #593

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d0664ba80091a852a1a14fc3ed62bdfc081e34c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 2 03:55:45 2024 +0300

    CI: Update ubuntu runners to ubuntu-24.04

    See RM #695

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 20eec6b4cbfc297fc797e4e7e5d69ec3def913dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 23 03:13:25 2024 +0300

    iconv.m4: Update to serial 28

    See RM #671

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 01beca15186c5e2735f7e290d3bda84bf2704c29
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 12 02:23:11 2024 +0300

    Correct governments.ruleset comment typo "specifing"

    See RM #592

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cd6bae6568c1bc2633a44b3b123480f95592f15d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 6 01:27:11 2024 +0300

    Comment typofix: "theorically" -> "theoretically"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c779d3193c3f1d3a1d2994a625bffe8c3b789626
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 28 00:11:05 2024 +0300

    Meson: Make fc_server to depend on verhdr

    See RM #682

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d842c1c71d2393b7526c74af7b1a3a153e07a2ec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 11 21:16:48 2024 +0300

    Drop double space from Coinage helptext

    See RM #587

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit de8987879c84aae16ca9c4e1232d087b3edadd40
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 22 15:12:31 2024 +0300

    city_freeze_workers_queue(): Set needs_arrange for cities already in queue

    See RM #661

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b5ff25f0f24deecbf105a1cdf90a9dd1dd70f7ae
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 22 00:51:40 2024 +0300

    stdsounds: Add w_generic sound effect

    Sound is Public Domain (CC0) sample by Trex0n
    https://opengameart.org/content/happy-and-sad-tuba-fanfare

    See RM #658

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 37affe2c506cbb3eed03e1a27fc00502d36a8bc0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 18 11:21:22 2024 +0300

    Meson: Drop duplicate unistd.h check

    See RM #649

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5ebb9baa2ef56bb35f0c69d5306a620d7b53ca6d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 12 05:16:21 2024 +0300

    Unhardcode wld.map from can_city_build_unit_direct()

    See RM #594

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 308d5a6d5f81bbedc01090f97ebadf7375d4905e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 2 04:43:41 2024 +0300

    Comment typofix: "Seperates" -> "Separates"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit defa1cf790fabaacf5175b3dda5b3381ef5e8d9c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 18 00:52:07 2024 +0300

    Updated stdlib_h.m4 to serial 78

    See RM #638

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 15e66dcea60b61f180546eee99bba52fd3c0ba54
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 12 18:56:38 2024 +0300

    unit_focus_advance(): Use safe unit list iterate

    Crashes caused by non-safe iteration reported by bard

    See osdn #78170

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3b69bf5f5e31908a81231f6a27d22eb8b789d050
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 9 15:58:20 2024 +0300

    build_appimages.sh: Functionalize client AppImage build

    See RM #575

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3e105c13a5d82c094644f27ebcd90ec117f5ee1c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 9 17:42:10 2024 +0300

    Savegame: Load map random seed

    Though it's not really used, we want to remember it
    for resaving purposes.

    Reported by alain_bkr

    See osdn #47981

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3063b61f981abdc1f8bbf44e02d8d2f376ec41b5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 9 22:49:53 2024 +0300

    Unhardcode wld.map from action_prob_vs_units()

    See RM #579

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b76a508336e46f5bd5a897823c532c0e0e8775e4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 9 19:02:46 2024 +0300

    Fix TRANS comment "choosen" typo

    See RM #578

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c1ea95807ee4a34a5149140fbaf67a97a63dfc19
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 11 19:15:26 2024 +0300

    Make dying unit to correctly trigger auto turn done

    See RM #586

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6f7c54e9d048d7719101c58db2d45dd845cb3ea7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 21 09:50:07 2024 +0300

    Meson: Make fc_client_common to depend on verhdr

    See RM #596

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 47487f2a92233f7cd524a950deb88f74738da571
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 22 02:08:54 2024 +0300

    Alio: Add Grassland

    See RM #660

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 62c753e99b56ec1cef7576713f6e8e52605adb75
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 9 04:18:31 2024 +0300

    Correct rand_map_pos_characteristic() header

    It was claiming that function may return FALSE, but
    in reality it might return NULL.

    See RM #380

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d54044a68cf254918781330d45c601b8419931ca
Author: Jakob Ilves <illvilja@gmail.com>
Date:   Fri May 17 06:05:17 2024 +0200

    Always make create_plr_sprite call to create_sprite use full tile size

    If scale is unchanged, that is 1.0f, create_plr_sprite is called with
    the hardcoded 128 width and 64 height and the actual full width and
    height of the tile are completely ignored.  This causes problems for
    tilesets which have large sized hiresolution tiles as one gets border
    graphics and solid background cut off after the top 64 pixels high
    portion of the tile.

    If scale is not 1.0f, the routine create_plr_sprite does the right thing
    and considers the values of full_tile_width and full_tile_height.

    My fix in this commit is to simply skip testing the value of scale and
    always use the values for full_tile_width and full_tile_height. The code
    that hardcodes tile width to 128 and height to 64 is simply removed.

    See osdn #86449

commit 8f57be686483e63cba8f643467b0ef8e28d5d2ca
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 7 00:20:39 2024 +0300

    Ruledit: Make edit_extra to inherit values_dlg

    See RM #561

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0dcd5f473fc3646a997ccb75bc8378379e8538a2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 6 18:56:16 2024 +0300

    Qt: Add tooltips for main menu buttons

    See RM #559

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0c1d1bf8f7f3971356a8ccc2e5e969fb1e66c440
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 8 01:34:43 2024 +0300

    Unhardcode wld.map from unit_can_airlift_to()

    See RM #568

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 385f102b387008322d9ea273b9df5f7ef287de60
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 9 02:55:55 2024 +0300

    AI: Cache 'worker' by unit's possible actions

    Previously unit's workerness was determined by Settlers
    flag alone. Now consider also actions that it can do.
    Notably units that can't do other worker actions than
    Build Base are not considered (auto)workers.

    Requested by bard

    See osdn #57666

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 825f6d203c4c327406bbe61ec1f4558426925be1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 6 02:41:31 2024 +0300

    Correct "goverment" to "government"

    See RM #556

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ac81820afe561f53117eea84ee3ba985c8348752
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 7 00:33:26 2024 +0300

    CI: Don't install external SDL2_gfx for mac-meson

    See RM #562

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a2a932b1dc7ea2f46dadfc2be2938ca368dca3ac
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Mon May 20 23:30:11 2024 +0200

    [cardinal_]adjc_*_iterate: use given map's dirlists

    See RM #655

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 589a22c639ea4d1444176e994fb17f6481331473
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 4 15:42:55 2024 +0300

    Manual: Force terrain name under its image

    See RM #551

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 28f24afa9330eb4bc3d998ae6d37a196273619aa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 4 14:17:13 2024 +0300

    Ruledit: Clear helptext of newly initialized objects

    See RM #550

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit efce4744173a29ae0c09ee1f63a86586ba1e0011
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 12 07:01:13 2024 +0300

    Meson: Make libfreeciv to depend on gitrev

    See RM #597

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5660b57d831dd696c2b006f7163aca9b4e7d5e58
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 6 23:31:33 2024 +0300

    Autotools: Detect qt6 moc as /usr/libexec/qt6/moc

    See RM #560

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit edf31a5eec9475e4c2680c8ceb859b0c35c3c875
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 4 21:53:16 2024 +0300

    AI: Use ptype->adv.worker in dai_manage_unit()

    Replace direct check of UTYF_SETTLERS flag.

    See RM #553

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 01b2c8a4072a51bb572f64d9c3d7230b8c505ddb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 4 13:52:02 2024 +0300

    Unhardcode wld.map from action_prob_vs_unit()

    See RM #549

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4727b35f5ae5eac6533d5b3f6912583d1bcfdf81
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 5 16:32:37 2024 +0300

    Meson: Drop duplicate bzlib.h check

    See RM #555

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e885fef84c78da58caed8b2aea0d50b869072d98
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 3 23:34:48 2024 +0300

    savegame: Correct loading last turn change time

    The value was erroneously rounded down to full seconds,
    while it's stored with 1/100 second accuracy in the savegame.

    Reported by alain_bkr

    See RM #545

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3879dacdeeca4d1140e0f410778f05bd10181cac
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 3 20:37:55 2024 +0300

    Correct "futher" to "further"

    In conn_compression_freeze() header
    correct also path to packets.[ch]

    See RM #538

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4edced15c507cc91ee23b09e97440ad93179b11b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 4 12:54:37 2024 +0300

    AppImage: Rename gtk4-client AppImage

    Make it clear that it's gtk4-client.

    See RM #547

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5438ce65b3fb72a4ab64fcafea17877007f97a3d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 4 02:20:45 2024 +0300

    gtk: Add tooltip for pane detach buttons

    Requested by lilmike

    See osdn #48954

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 794eda47d294e13422cdf6d8dcf7a8edbe14115c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 4 01:18:05 2024 +0300

    CI: Use macos-14 runner for mac-meson build

    See RM #216

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ac9b061b2a665450bd5f24d6608097a4f844d3f7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 3 20:04:23 2024 +0300

    Unhardcode wld.map from city_can_be_built_here()

    See RM #537

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4d51ea1870042fd3d0a6cce4114d9db5b9f79b28
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 3 15:03:31 2024 +0300

    Correct log message about unit disbanded due to terrain change

    See RM #524

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 94d351aff6173f359fb145bad523ae518a9cb007
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 3 19:29:38 2024 +0300

    Fix dependencies/SDL2_gfx compiler warnings

    See RM #481

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e9229bd489e4b55b5d0d8c85361d056cf7d4362b
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sat May 11 23:52:34 2024 +0200

    Check whether border should be cleared when reclaiming land from ocean

    See RM #590

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 729ab3f462c938f04151426e115ece2299a22c40
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 2 20:38:05 2024 +0300

    Ruledit: Make edit_terrain to inherit values_dlg

    See RM #529

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3f4ebc7950d9c3197f516b4e5bc4c0b3b6dc322e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 3 14:48:14 2024 +0300

    savegame: Fix loading history.turn

    It was forgotten if current turn was not the report turn.

    Reported by alain_bkr

    See RM #530

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 54f1a6ffd1cefad27bbfc91c670efe131435476d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 12 19:38:47 2024 +0300

    Comment typofix: "traling" -> "trailing"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 22191069a8e4deacdecbc67457bd798b2a00b456
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 2 19:46:44 2024 +0300

    Handle CoastStrict units correctly on city removal

    See RM #525

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ebb0ef729ffc0ecabe8898a697e77a0a44185382
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Fri May 10 17:31:43 2024 +0200

    Fix oceanic border sources claiming some bays or lakes even without Claim_Ocean[_Limited]

    See RM #584

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 0ba0fe02c86f2756d3e3c03dece1f6170b57df29
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 30 06:30:32 2024 +0300

    alien: Fix typo in Low-Level Orbit helptext

    "surronding" -> "surrounding"

    See RM #521

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e29727672a474b38ce06aba7f4404305b3cbf6b5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 11 01:18:55 2024 +0300

    Comment typofix: "gurantee" -> "guarantee"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 79e9cd1ab9071875a811f3a2dfc7269211aaf9eb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 30 04:49:58 2024 +0300

    Ruledit: Make sure there's editable entry in helptext

    When opening helptext editor, and there's zero entries
    in the help strvec, add one.

    See RM #519

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 406f46f56d8a1780972b684a8c24706350601aa9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 28 18:40:38 2024 +0300

    Unhardcode wld.map from action_prob_vs_city()

    See RM #513

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a2e0c8110a362287515e55e5ec3e0a0f68ae78ec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 9 18:51:08 2024 +0300

    Comment typofix: "responsiblity" -> "responsibility"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3cb950bebbd3ce1af5b52c48165d9403fe687075
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 25 20:40:09 2024 +0300

    Correct "erronously" to "erroneously"

    See RM #503

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eac02dc64a807b61205d2614f5deb81f3c6f515c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 25 20:18:56 2024 +0300

    gtk: Add tooltips for main menu buttons

    See RM #502

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c398e63eb0c32c319e8b4de28d513e08ff6ca122
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 25 07:20:25 2024 +0300

    get_locale_dir(): Work around constant operand warning

    See RM #444

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8a60ad73a6f66dd899a7c54a93fa9876aef11441
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 22 00:14:52 2024 +0300

    Correct "pathes" to "paths"

    See RM #498

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c5ad79de44596cce30e2cdc94fdfb9ef7f326fde
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 5 18:31:36 2024 +0300

    Comment typofix: "convertors" / "convertos" -> "converters"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1093a6c1ecb257a751f52c3361b098fd42fe3217
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 20 06:24:55 2024 +0300

    Ruledit: Make helptexts editable

    Number of strings in the helptext string vector
    is not changeable yet, but one can edit text within
    those strings.

    See RM #487

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b120a58ee78f1e8b270b4d9db8f81496cd155970
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 16 00:15:14 2024 +0300

    Trigger action system when client requests activity change

    Lacking action handling for some activities reported by bard

    See osdn #57670

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a33b257089c45233e02190fc16ac4ce366afb436
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 19 21:32:24 2024 +0300

    Unhardcode wld.map from is_friendly_city_near()

    See RM #480

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ecd561a7812100f4c38220719856c5f2b80067ca
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 19 21:08:47 2024 +0300

    Ruledit: Make edit_utype to inherit values_dlg

    See RM #479

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d0bc8a879212303b37f8a7d93d77cdaba5ebdb34
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 17 20:51:26 2024 +0300

    savegame: Fix loading invalid resources on FoW map

    See RM #463

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9eee644aeacdc3006bdcbb4e3831a8c55fa88d5e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 18 16:58:43 2024 +0300

    build_appimages.sh: Build gtk4-client AppImage

    See RM #471

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 87a731c970b59ae8bed5f743be8a2fd1e445cfc3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 17 06:49:51 2024 +0300

    Unhardcode wld.map from is_action_enabled_unit_on_self()

    See RM #461

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e0bea9975e33b79ead4a6b6f280aca8781aff4e7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 29 03:45:08 2024 +0300

    Comment typofix: "substract" -> "subtract"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e1a3ce1656092805993c01c772ed022b29d37276
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 18 19:01:25 2024 +0300

    Fix inconsistent city workers after vision loss

    See RM #472

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b2fb9fd920167b1c9ba78165b8cdc52ad1d1ade1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 18 02:10:08 2024 +0300

    Correct "reenable" to "re-enable"

    See RM #467

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 006c87db1736a51aa75a713a067aa11c3d227083
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 14 01:15:39 2024 +0300

    update_bulbs(): Fix researching_saved = A_UNSET handling

    See RM #449

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 93e6c897e0eb1bbffd62a333ea6b5361ee88442a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 14 23:29:59 2024 +0300

    Ruledit: Add unit class editing

    See RM #457

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 174d5fc0d25d26801d9ec71fe230fe8a09f791ae
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 14 10:45:12 2024 +0300

    AppImage: Set server path

    See RM #452

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f824c7ce0864c79217de7189332f9a55d4afe290
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 9 23:06:28 2024 +0300

    Unhardcode wld.map from city_tile_cache_update()

    See RM #433

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 776084bd581ccf709b5b414210f4ec4205cff72a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 26 16:04:35 2024 +0300

    Comment typofix: "Noone" -> "No one"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4af26e6a96f5a4620d3f68ac11e600ab91957e89
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 14 03:27:18 2024 +0300

    Meson: Avoid duplicate 'localtime_r' check

    See RM #450

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6acc400c60745b629871daca86c1dad5508c9d85
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 17 00:38:32 2024 +0300

    Initialize extra before calling unit_assign_specific_activity_target()

    If the extra going in is not NULL, it's assumed to be ok to begin with,
    and no real extra gets assigned.

    See RM #460

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5986a70efadbc35836e3bd3205f746ac1217ca16
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 26 05:46:30 2024 +0300

    Mark as development code

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 758207c935cc25aaa2865b763f7c5558c1c90d73
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 26 05:43:25 2024 +0300

    ChangeLog: Refresh for 3.1.1 release

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 753e9125964a14bc606b9229b5cb6d97125f4929
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 26 05:42:57 2024 +0300

    Set version number to 3.1.1

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3c8fdcb058c34da676d63796f1e992309ef93e01
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 26 05:40:48 2024 +0300

    'make update-po' before 3.1.1 release

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e96c2734f424727d8f31c93ec66d5d41caa524d5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 26 05:36:02 2024 +0300

    FAQ: Update latest stable version number to 3.1.1

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dabef3c1ca059891604643c3da89b02b48ef254e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 26 05:33:23 2024 +0300

    NEWS-3.1: Set 3.1.1 translation stats

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dbef524d21afb7a2339e9bfdb01877c97a623ee3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 24 21:04:21 2024 +0300

    NEWS-3.1: Correct NEWS-3.1 wiki link

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 46ca63dc835606d279b5cf47aaa5b633ccb0cc73
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 24 20:45:13 2024 +0300

    NEWS-3.1: Add 3.1.1 section

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 549713cb7b213f57c8a1a19cf68604867d5646de
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 21 05:05:18 2024 +0300

    Set AI module interface capstr to stable form

    See RM #495

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c7f276319d0fdbd3cd93c1b9570bf8783f2b4220
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 20 17:51:09 2024 +0300

    handle_investigate_started(): Fix dead assignment of unit_id32

    See RM #489

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eac8f4ce5165b29147cb35f8377a46f0b399634c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 17 07:02:20 2024 +0300

    Qt: Add Q_OBJECT for fc_shortcut_popup

    See RM #462

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a091a894c4138482ab04265992455dbab4053e29
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 21 04:02:52 2024 +0300

    Comment typofix: "wether" -> "whether"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eca095186ac6b84e3cb4029e81d62e7d5f03b3d4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 20 22:21:34 2024 +0300

    Update Finnish translation of ruledit domain

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 96db4eb4af3dad32765a8ca0349b8dff83fb3430
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 11 16:10:57 2024 +0300

    Flatpak: Update Qt Sdk & Platform to 6.7

    See RM #438

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4874305ccf4346dd58c4b6aa4cabc94455e054e9
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Fri Apr 19 13:25:00 2024 +0500

    Update for Russian translation.

commit 3cae3e2865ee1a3763f9bec404409a7db2d5f5c8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 8 17:53:52 2024 +0300

    Ruledit: Fix tech tab Add/Remove tech button layout

    Affects experimental mode builds only.

    See RM #430

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3891bcabc42c5d60c4f0bdebec5a7cfe57e97365
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 8 18:39:17 2024 +0300

    Correct "useable" to "usable"

    See RM #431

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7e66caf9144eef44eac5aa7ec84bb9c4ccf0e4b2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 7 02:28:06 2024 +0300

    AI: Make tile_data_cache output fields shorts

    Former 8bit values were too narrow to hold outputs
    on high granularity rulesets.

    See RM #407

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b1106421ea520bd72ea3ff9f7c53def68e02e137
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 7 02:37:12 2024 +0300

    Unhardcode wld.map from is_action_enabled_unit_on_extras()

    See RM #410

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e851c396c444105b9e59c2564c66f1fe52d3ef9f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 17 02:26:35 2024 +0300

    Comment typofix: "Unregisted" -> "Unregister"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a02a465fc642df9acd5529f8bb24c7f714db03d5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 2 22:07:24 2024 +0300

    AppImage: Add build_appimages.sh

    See RM #396

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9dbf3a89d8cca8d49cd420ea52b6fbd2e6c650bb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 6 20:16:27 2024 +0300

    Update gnulib m4-files headers

    See RM #405

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 21e6aa9c90e4c30e3b3d09e011bcc67ae920590e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 5 20:33:12 2024 +0300

    Unhardcode wld.map from cowt_callback()

    See RM #403

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9eeb896ac438c92a8ddad3f706cb37bab5cc3652
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 7 00:35:33 2024 +0300

    AI: Fix bad city spot value calculation with unknown tiles

    Unknown and already worked tiles counted as negative output value.
    Now they count as 0, as they cannot produce anything for the city.

    See RM #408

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bb937e7cebb54857e90785ec34a02f68c43d2bba
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 14 14:58:07 2024 +0300

    POTFILES: Add edit_tech.cpp

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a6ca815a794dd44fb8a9d6ae9db65552285df802
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 6 19:12:14 2024 +0300

    Update progtest.m4 to serial 10

    See RM #404

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6b844f5ce07334ba63c7b4615d8c67606b4953b8
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Thu Apr 11 15:47:37 2024 +0200

    generate_packets.py: Mark regexes as raw strings to fix invalid escape sequences

    Reported by Marko Lindqvist

    See RM #365

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 8383742163bfddc1467b2fcfc0df0d019a3e44e0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 1 15:26:07 2024 +0300

    Meson: Add 'appimage' option

    See RM #393

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 41b87addc0b5c1038a11ca6363b66d84dccdec2a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 1 01:58:30 2024 +0300

    Unhardcode wld.map from is_action_enabled_unit_on_tile()

    See RM #390

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6bdb58987be9af838c07479d6b744e15859e44e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 12 07:42:57 2024 +0300

    Comment typofix: "formated" -> "formatted"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4fe55406145f169a6a5c5a6fc9618c9ade32fd4d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 31 22:55:39 2024 +0300

    Correct "abbrevation" to "abbreviation"

    See RM #386

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f703f171564aa4286610cff18ca9c84d21cd0a5f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 8 04:21:58 2024 +0300

    gtk4: Fix saving options migration status

    See RM #427

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8622c910a4c8e0052f42aec1d3a5d8877f751f38
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 31 18:34:19 2024 +0300

    Adjust nationality of remaining units after player removal

    Nationality of the units owned by other players could
    previously be that of removed player, leading to a crash.
    Now switch nationality of such units to that of their
    current owner when player of their nationality is removed.

    See RM #383

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d4b710113bf293785c5ef547f5ad714471e6c12c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 10 01:28:35 2024 +0300

    AI: Fix threaded AI build

    See RM #434

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a40bc1228edb2995c5c34c849e9c339c76f7be55
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 29 17:33:20 2024 +0200

    Unhardcode wld.map from city_map_to_tile()

    See RM #374

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 21010be7da54cef60ce67ded6a9295e431cb683c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 31 08:14:03 2024 +0300

    gnulib-common.m4: Update to serial 93

    See RM #378

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9c6a9cd2c8a62a2e963e40a1ce5150770d3dc8cb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 29 11:57:44 2024 +0200

    Correct "fullfilled" to "fulfilled"

    See RM #371

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e0be42d8f80b90ff2af2a054c0b61fd54d342a4a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 24 23:30:46 2024 +0200

    Ruledit: Add techs' value editor

    See RM #358

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3f963a45539798f90e6554b4c97b3f7593a50a87
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 30 12:20:25 2024 +0200

    cityresult_fill(): Check city center result existence always

    Also in non-debug builds. It was just an assert.

    See RM #377

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c8243edb8f6d2d6da302666b0bb44855ad227fcf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 7 21:04:52 2024 +0300

    ruledit/POTFILES: Add helpeditor.cpp

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a8313c219f362453794478fc583e64fa90bf6119
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 26 00:04:11 2024 +0200

    Unhardcode wld.map from is_action_enabled_unit_on_units()

    See RM #362

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ba22d1d5cdf4b19d3bce8efee3f61ed331dc1213
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 7 01:28:18 2024 +0300

    Comment typofix: "memeber" -> "member"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0757949901104d5f5bb2e8006661681056e277a3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 29 06:29:17 2024 +0200

    Update lib-prefix.m4 to serial 23

    See RM #367

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f5f376b6e6735748e8c4df15e1b1423de443d911
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 25 05:24:38 2024 +0200

    Update bug tracker URL to point to redmine.freeciv.org

    See RM #2

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ded028938b93cd612c6e74ec88bcf2361ec07cce
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 24 22:44:21 2024 +0200

    Correct "re-use" to "reuse"

    See RM #357

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cccfa8869f0b43c40bb783eed67817068733a1ff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 24 08:50:30 2024 +0200

    Stop sending hidden resources to the client

    Hidden extras were not sent in the extras array,
    but if they happened to be also a tile resource,
    the resource information was still sent.

    See RM #350

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 72e78850308b563b94356018c31318313a8bf8ba
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 25 06:11:42 2024 +0200

    Unhardcode wld.map from caravan_find_best_destination()

    See RM #361

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2856a554282043bb0426fa5cc0dbedca3e978b4c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 23 11:24:55 2024 +0200

    Ruledit: Unify buildings flag editing with other flag editors

    See RM #349

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6f8c32d32d5126d46d24522589854eb4a4996ced
Author: Matt Jolly <Kangie@gentoo.org>
Date:   Sat Feb 10 17:57:38 2024 +1000

    Meson: Install man pages to correct subdir

    See osdn #57664

commit 1aeff2c2a184b9ba15c210ace36dad43db562a8f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 23 07:59:02 2024 +0200

    Ruledit: Add values_dlg

    This is a parent class for individual ruleset object
    editor dialogs, handling helpeditor bookkeeping.
    Currently set for building editor only.

    See RM #327

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 813080cace3e852fbf9a62168775ee2555062550
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 22 23:36:47 2024 +0200

    Unhardcode wld.map from is_action_enabled_unit_on_unit()

    See RM #340

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 283b3cd90593e322a8ca8ed995e869dd5d929988
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 22 21:39:55 2024 +0200

    Ruledit: Add terrain flag editing

    See RM #339

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 154e5cd36610a930960da67064fc6d7acf22d1ea
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 22 02:58:34 2024 +0200

    Avoid announce_trade_route_removal() call with a NULL city

    See RM #335

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 749f32cb0e9bac60ab0b8e6a80c04aa7c44455b8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 22 01:32:56 2024 +0200

    Correct "hashs" to "hashes"

    See RM #330

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 472beb42fe48ce6c31f58ab75e60d5829adb7095
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 29 11:34:52 2024 +0200

    Comment typofix: "prefering" -> "preferring"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 53b9b03a73689510c2cdb6bd91399c0a6277b19f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 29 06:58:30 2024 +0200

    Add helpeditor.h to the tarball

    See RM #368

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 030c6c961bc9495b3204ff708c902d1ea5c25299
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 21 20:08:50 2024 +0200

    Ruledit: Add initial version of helpeditor

    - Only shows the current helptext, no editing possible yet
    - Only available for buildings

    See RM #326

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4c547593a6e137988e6cf8c41433dbe92d8831de
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 20 03:59:29 2024 +0200

    Manual: Add horizontal line between terrain types

    See RM #325

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8013d4ed26e7ba5b7a799f153d5115414a9d7546
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 20 15:02:32 2024 +0200

    Fix C++20 capture this semantics configure check

    It was failing due to "unused 'this'" even when it should
    have succeeded.

    See RM #328

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 402a887f57fd5252d32c5b961de9bd2b86db30a7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 23 00:37:07 2024 +0200

    Fix FREECIV_WEB build

    See RM #342

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b8917a71e39742a54858fd0309576f35d9f9d28a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 24 18:37:33 2024 +0200

    CI: Workaround github mac build failure

    Remove old python symlinks that the update process
    would otherwise fail to overwrite.

    See RM #352

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cc84ec5677f4346d6cf56ddcfc2c2e838ab4a719
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 20 02:25:09 2024 +0200

    Ruledit: Add extra flag editing

    See RM #323

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9c9e49c7eab5dc9695f9c37b2d8037eb7a5247b7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 17 23:52:00 2024 +0200

    Improvements manual: Unhardcode "<hr>"

    Use proper tag for the output type

    See RM #321

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 643b7ee34b61ae75f6db6ff6fc6059fc22859115
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 17 23:05:46 2024 +0200

    Unhardcode wld.map from is_action_enabled_unit_on_city()

    See RM #320

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 808ac79b8daf97deb9f93e0744b706fdfb14d3b8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 21 20:20:24 2024 +0200

    Fix allied victory of all players

    Allied victory was not occurring if nobody had been defeated
    beforehand, i.e., if all the players just got in to the same alliance.

    See RM #324

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1dbe8497b79aa5a031bb8462535dca956a1f02da
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 20 04:32:20 2024 +0200

    gtk4: Remove use of "format-value" signal

    It does not exist in gtk4.

    See RM #312

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f5c93c4bbdb352f4df18e87b5c075163a82653b5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 24 22:06:53 2024 +0200

    Comment typofix: "soruce" -> "source"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fe0215a33081bbcab599def48b673170ff92d214
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 20 01:15:14 2024 +0200

    Flatpak: Update gnome Sdk & Platform to 46

    See RM #322

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a54c3dbda4d0e10d6d65dc8d431dbe5c07ef6875
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 17 22:30:55 2024 +0200

    freeciv.doxygen: Update to doxygen 1.9.8 format

    See RM #319

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9878d5480d339e2f928c086c1be0c85b57267761
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 13 19:36:06 2024 +0200

    Purge worklist items with unfulfilled local range impr reqs

    See osdn #48773

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3299b2c0ae718843a228836419c258bf493bd02a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 17 21:29:25 2024 +0200

    Ruledit: Add extra native_to editing

    See RM #316

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 25b2db9421d34a66f87544f44bd96087484f771f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 17 21:40:36 2024 +0200

    Fix blocked_find_target_tile() clang analyzer warning

    See RM #317

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit baafbbaf81170dbee3a926813e83dc0b71a8815b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 13 02:01:35 2024 +0200

    Make city and unit ids uint32 in network protocol

    Issues caused by id overflows reported by Giacomo Mulas

    See RM #304

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d9db8d127be91b53045c6aee741f9ce017bfe7bf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 13 22:48:19 2024 +0200

    Meson: Drop duplicate vsnprintf() check

    See RM #307

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7306b138ad3cd2d537a861f1ab9aa68346bdaa62
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 21 21:15:30 2024 +0200

    Comment typofix: "intervall" -> "interval"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cb7a881a47a4dfe23c25d719f0608ae395269200
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 8 08:20:29 2024 +0200

    Ruledit: Add terrain native_to editing

    See RM #298

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 20909b5deaee74d855a39a56db58a1f3060267ec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 19 23:21:38 2024 +0200

    Comment typofix: "hided" -> "hidden" or "hid"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 85fdbaec05d63dbb4bcda7e0fa23fc179429d493
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 3 10:34:27 2024 +0200

    Metainfo: Add gtk3.22-client screenshot from 3.1.0

    See RM #290

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1039adc3cc12e95ae7d3aae8ff84890032ec63da
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 8 06:32:35 2024 +0200

    Unhardcode wld.map from actions.c static functions

    See RM #296

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 02d57fd0771bc80c4c0b3bd7a21f2ab718684c5a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 17 10:25:32 2024 +0200

    Comment typofix: "unsufficient" -> "insufficient"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3c2eda49108addb3f5b369acbe34ea09f6e44c12
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 8 07:26:10 2024 +0200

    HACKING: Correct networking headers location

    See RM #297

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5994bbc2c42180070338492f87cb58411f0641f6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 2 05:55:12 2024 +0200

    Unhardcode wld.map from caravan_search_from()

    See RM #281

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ec65f0b5e9abf2a8299c5c59a88541764e324c7a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 7 19:35:34 2024 +0200

    locale-fr.m4: Refresh from gnulib upstream

    See RM #291

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ca3bf1c78dd3709db1bef2c28141a49f75110c66
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 2 10:26:13 2024 +0200

    show_small_citybar(): Fix dead 'canvas_y' increment

    See RM #286

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 342386d28b019f510d60bcd289b3aa6fb3b463fa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 10 23:39:06 2024 +0200

    Comment typofix: "commmon" -> "common"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4c46d02df1923ed185a9898b057593925e56a8a4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 2 06:58:35 2024 +0200

    Ruledit: Add unit type flag editing

    See RM #284

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fcc47815b9523b4dd176a8997a3bea86c6ada070
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 2 06:04:53 2024 +0200

    Fix "seperate" typos

    See RM #282

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 27ce44d27b9115ea96367e75d8ecc0a16481d191
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 2 05:13:01 2024 +0200

    Metainfo: Add developer name information

    See RM #280

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 26664f6407f4f36a03c65d474b3e0e00da6729c4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 7 19:45:44 2024 +0200

    Comment typofix: "Ouput" -> "Output"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dddacb1492f71c374bb1cae556d273f678e25773
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 07:31:52 2024 +0200

    Unhardcode wld.map from is_action_possible()

    See RM #273

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 162897ecd5d354f4f5b50da00a3eb63e24513c3e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 2 18:09:37 2024 +0200

    Comment typofix: "lenght" -> "length"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 42dcd54d6f992955bce57b4f5500626a6151a11e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 12:00:28 2024 +0200

    Granularity: Drop extraneous Size_Adj base effect

    There was two base effects. Together they made the base size
    one point too big.

    See RM #147

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6bffc06f9830f0af9bdbc81abcb86c689d93c613
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 30 19:26:02 2024 +0200

    AI: Stop attempts to recover Helicopter HP in the open

    They would be losing HP instead.

    See RM #207

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a593768979dab0211f4351bde998de583de1adff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 22 21:03:22 2024 +0200

    Update stdlib_h.m4 to serial 77

    See RM #272

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ddb0d71fbf4eb703c0a9c077a7cc3d9b18e3a846
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 1 12:56:58 2024 +0200

    Comment typofix: "classess" -> "classes'"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 21e1ec731d195f69ae5b3954d33c1bee3e324aba
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 16 23:57:49 2024 +0200

    Unhardcode wld.map from unit_order_list_is_sane()

    See RM #265

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6e1d333950ca9d031c3a0755c354ec5682ac9ff6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 15 22:19:41 2024 +0200

    Add doxygen marking for genlist.h inline functions

    See RM #260

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 66140d96a33260d0f2cf02b298a81e53411adac3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 1 02:35:45 2024 +0200

    Mark as development code

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fb42aab19c905043535a2724530b1663296d1094
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 1 02:31:38 2024 +0200

    ChangeLog: Refresh for 3.1.0 release

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 36a1269608d0e09927b6d3d9c5e38b80a3bf7b8c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 1 02:31:11 2024 +0200

    Set version number to 3.1.0

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1a4daa47fea51b42426bd0d6e542e1ced2c27716
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 1 02:29:35 2024 +0200

    'make update-po' before 3.1.0 release

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 10e11cfa749c6b424bb8c3d8cc894f06d6a7e972
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 1 02:26:14 2024 +0200

    FAQ: Update latest stable version number to 3.1.0

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5932ae3aa95955c416ed3ea2e83f6871efac87c0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 1 02:22:25 2024 +0200

    Set default followtag to "stable"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4e0d85d87e9301edbc3ae93910dafab73d205457
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 28 12:25:34 2024 +0200

    Comment typofix: "additionnal" -> "additional"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit af69450ca983189f0def8c96c60f42d91c5e954b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 28 10:24:46 2024 +0200

    NEWS-3.1: Add 3.1.0 section

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4005b1b880d33c4349e7f270d0d11b252546cda3
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Wed Feb 28 04:57:04 2024 +0500

    Update for Russian translation.

commit 1d6911bf49240ed85d3cb8b6525747d5401c4ffc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 25 01:01:57 2024 +0200

    FAQ: Refer to stable version FAQ URL

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a02396fe71f702993b3fe9008adeb68f6cd1a404
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 09:17:27 2024 +0200

    Comment typofix: "Selete" -> "Delete"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4e9c93dbaa3f8bbf1b1fa30e178a718b9e010786
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 23 00:09:50 2024 +0200

    Mark as development code

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cfc62494570290fb8be554da2dee20d930cdda27
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 23 00:06:29 2024 +0200

    ChangeLog: Refresh for 3.1.0-RC1 release

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit af31347e21d5840090624de0a5262604d2f59b40
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 23 00:05:27 2024 +0200

    Set version number to 3.1.0-RC1

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 08acbe6e9ee9b1e0a570d2718ee7cd38f3c2d59a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 23 00:04:16 2024 +0200

    'make update-po' before 3.1.0-RC1 release

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 299c9534753a33c47a91f3441752226b42c9f3d3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 23 00:02:21 2024 +0200

    NEWS-3.1: Add RC1 translation stats

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9214138a4563af163860a8d87acdfe062f81070e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 20 23:20:07 2024 +0200

    NEWS-3.1: Add 3.1.0-RC1 section

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 277fcfdd5c87f2ad53e3f5750bbbc79aca298552
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 15 23:31:30 2024 +0200

    Exit beta mode

    See RM #261

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5cedb6d574c62154cd47b15b9854e039cb382187
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 18 20:32:30 2024 +0200

    Update Polish translation by Hubert Kowalewski.

    Pulled from https://sourceforge.net/projects/freeciv-l10n-pl/files/
    (zip timestamp 2024-02-16)

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8a73780d304e38aaf769f534606260c38baf2f36
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 11 19:23:27 2024 +0200

    Qt: Fix fc_client::slot_selection_changed() inconsistent loop direction

    See RM #256

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0a298bc310e3cf5ace0292e2c737f40ead6f2147
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 18 00:56:02 2024 +0200

    NEWS: Refresh 3.1 section

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 12dd52fb59674b747ecdb3fe6ec868aa8da25ee2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 15:41:42 2024 +0200

    Unhardcode wld.map from tri_req_present()

    See RM #247

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c5778e5da7a6609b9c27b94effbfb0fbae29ec0f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 20:38:14 2024 +0200

    Update gnulib-common.m4 to serial 92

    See RM #249

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6f212c2f5836384ba728a03fd14b8d967b3b7c81
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 8 21:53:31 2024 +0200

    Fix auto_arrange_workers() garbage cmp.minimal_surplus value

    See RM #245

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 868372cbccbee31ca2c215f3102a1672832abbcb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 16 00:29:44 2024 +0200

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d53ccf1b8b2986fb81be3da344b52a34349b81d1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 8 06:32:40 2024 +0200

    Autotools: Fix MagickWand detection failures due to compression libraries

    Detect compression libraries before trying to detect MagickWand
    that depends on them on some platforms.

    See RM #244

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 09c7695335018eaa0e90e688ccd2d1f524e988fe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 8 04:38:13 2024 +0200

    mapgenerator4(): Fix CodeQL bad oddness check warning

    See RM #239

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bd49ea33a0d2103a2f0b1502d26aa090041ee916
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 15 19:56:16 2024 +0200

    Update Finnish translation of ruledit domain

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2caaea594297e5a3f9d9872e488faf92a4522042
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 16:03:31 2024 +0200

    Update lib-prefix.m4 to serial 22

    See RM #248

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b4f26b6752a83ca44df1f97cf737f8a447166801
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 8 04:45:14 2024 +0200

    Apply lua-5.4.6 upstream patch 7

    See RM #240

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c958c2c91c4626733aa7927a24d4433642e8e82a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 13 23:01:24 2024 +0200

    Comment typofix: "mo" -> "no"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b9e353730135f2682a7e495b5a6ab9bb2c759f8d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 7 21:35:39 2024 +0200

    sdl2: Fix NULL dereference in popup_tech_info()

    See osdn #48687

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 48cc6c09f502bf3c40c07f910ebbb33afae30174
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 5 00:27:52 2024 +0200

    Update to crosser-2.8

    See RM #233

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 16a8f6031de42eda6a7d1009d605bab7919194dd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 4 17:59:26 2024 +0200

    Unhardcode wld.map from terrain_surroundings_allow_change()

    See RM #227

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3b7ce80ae22eb49abf5650dba4325d8c9371c3ec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 4 10:20:39 2024 +0200

    Tutorial: Correct timing of final city size message

    Now it's shown only once city reach size 17, as that's
    the size one needs Sewer System for in civ2civ3 ruleset.

    See RM #154

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 045bf1c789da7f54bc9bf7d22d006c09705fc41c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 11 19:06:51 2024 +0200

    Comment typofix: "keybaord" -> "keyboard"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f02bcccf08806e443ecedd72e38d2312faa703c6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 11 16:56:37 2024 +0200

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 85239fdf4fc30741aa849d221912695c38f39d70
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 4 19:00:21 2024 +0200

    Apply lua-5.4.6 upstream patch 6

    See RM #85

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b00039b3817d239de7a2684475bf612a425a500d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 12:32:51 2024 +0200

    FAQ: Update latest stable version number to 3.0.10

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f03321240cfa8bf9e58174eb3e1a6c96a6b4a429
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 1 05:24:02 2024 +0200

    Unhardcode wld.map from pft_fill_reverse_parameter()

    See RM #220

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6df2b4a7f98667d0f005ef09c3bf1a9236f485e4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 31 05:10:36 2024 +0200

    gtk4: Fix GTK_IS_TREE_MODEL() assert failure on help dialog close

    See RM #217

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 38b269f9ced281fbf7ef33c85263111e1c787250
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 7 18:44:20 2024 +0200

    Comment typofix: "imposible" -> "impossible"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 848ae8654cfd1cb6f687b5ed933315b27679fdcb
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Wed Feb 7 21:03:29 2024 +0500

    Update for Russian translation.

commit 8003c435cded2217715e413f39570c2600526a0e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 31 05:59:13 2024 +0200

    INSTALL: Update download links

    See osdn #46674

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 001dc7fb5cf8d7f3d9136b7a8cf0ec45d67f6947
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 4 17:06:39 2024 +0200

    Comment typofix: "a this time" -> "at this time"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c17aa6295cb7512354d8c98710fbd524a1411944
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 30 20:21:29 2024 +0200

    Unhardcode wld.map from can_unit_paradrop()

    See RM #209

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 88995e24ef12001ea2feac450c1fd4159becabfa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 30 19:46:47 2024 +0200

    gnulib-common.m4: Update to serial 91

    See RM #208

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e7821cc0baa9adda1d2d068fd4408b9c97eb0727
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 26 00:10:01 2024 +0200

    gtk4: Fix science dialog help checkbox

    See RM #200

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 060f7e7cac59d71304f16ac77fae7479bb470351
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 28 23:26:58 2024 +0200

    Update host-cpu-abi.m4 to serial 17

    See RM #202

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 624c02b4f55f772d59f6766a4ed15a9992d422cc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 14 17:31:52 2024 +0200

    Unhardcode wld.map from citymindist_prevents_city_on_tile()

    See RM #181

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bbeece5270cb8cb3e13e8b0262060829efed822e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 13 08:35:11 2024 +0200

    Add enabled goods to help "allows" lists

    See RM #175

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fe14b0adb0b93378a580ffcf532a5de3154a6428
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Mon Jan 29 11:05:22 2024 +0500

    Update for Russian translation.

commit 332a03e1e90ea387478300db7c72740823445166
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 18 20:26:59 2024 +0200

    Make output effects to respect output_granularity

    Effects updated:
    - Output_Inc_Tile
    - Output_Inc_Tile_Celebrate
    - Output_Penalty_Tile

    See RM #184

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 13933a8e9fd4604f5f2f12e9327eb8668b444f13
Author: Benno Lang <transmogribenno@gmail.com>
Date:   Sat Jan 27 21:52:03 2024 +1030

    Update Esperanto translation

commit e6f01dbb41d7e802f3e3fbfb4252a9ea9a4529ae
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 22 02:40:51 2024 +0200

    startpos_raw_nations(): Return NULL instead of FALSE

    Return type is a pointer.

    See RM #197

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a11ef145f12343dc1dfc87ffcbb5ee7d657001d2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 12 07:25:32 2024 +0200

    Unhardcode wld.map from action_hard_reqs_actor()

    See RM #173

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 38b9c3c00877e622d8b2e405f5c3fcb04b824b15
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 22 00:44:34 2024 +0200

    gtk: Fix unannotated fallthrough from inputline_handler()

    See RM #196

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7406095179a770fdd30cc7561fcb8e230b2aa5d7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 14 20:10:01 2024 +0200

    Flatpak: Fix sdl2-gfx build on aarch64

    See RM #182

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5ae715fbd97c5d2675256090b07edd293b5aea71
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 25 04:38:11 2024 +0200

    Comment typofix: "depedence" -> "dependence"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fa21983bdcc3188ace0435449895a975756ba6f1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 21 21:18:44 2024 +0200

    Fix unannotated fallthrough warning from options_init()

    See RM #192

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit acf7ad44414b47e1997978a030d0c7287826c094
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 21 21:21:57 2024 +0200

    gnulib-common.m4: Update to serial 90

    See RM #187

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e3941e6092e84719ae673d333063a6eede5b2f0f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 9 02:18:36 2024 +0200

    Ruledit: Add unit type hitpoints and firepower editing

    See RM #157

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c7a3deb62b760f0478e80918872cca606517ebb9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 19 21:51:12 2024 +0200

    Fix unannotated fallthrough warning from base_set_mapview_origin()

    See RM #190

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7197578748dbc04e070dae50b541bd7f6efe34ff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 24 02:04:21 2024 +0200

    Comment typofix: "arround" -> "around"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 146e1f76d62db14459736ef655e0dd1d7bf1546d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 20 22:04:19 2024 +0200

    iconv.m4: Update to serial 27

    See RM #27

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b168d6f97e62a2d7fa61c1f4a779d5839132b24b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 14 14:25:46 2024 +0200

    Metainfo: Add recommended resolution for clients

    See RM #180

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d70baf4331f6c269b4952baf527d508541a8b845
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 14 10:23:31 2024 +0200

    Annotate do_explore() fallthrough

    See RM #178

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cd15a674379538e128110f004f43753cd4549762
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 9 00:59:28 2024 +0200

    Lua: Fix Tile:link_text()

    See RM #155

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a97fdb957c93759583ed4c82582376150ecbaadf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 19 22:16:19 2024 +0200

    Update lib-*.m4

    Serials
    - lib-ld.m4: 13
    - lib-link.m4: 34
    - lib-prefix.m4: 21

    See RM #186

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b01ef627588e26d0224890807d49cd47bfeec2fe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 21 21:46:28 2024 +0200

    Comment typofix: "there" -> "these"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dfe18f13c785a1e6f704b68c6156093b43520719
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 14 11:48:42 2024 +0200

    sdl2: Fix citydlg.c dead 'count' assignment

    See osdn #48626

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e68ade3bc03e741b941808ecd33d6ecb27d2be01
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 18 21:40:23 2024 +0200

    Update .m4 -files from gettext-0.23

    gettext.m4: Serial 79
    intlmacosx.m4: Serial 10

    See RM #185

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 819beba562a1741985a7a36f98e3fd7e5c118f56
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 13 11:52:14 2024 +0200

    objbind_get_modified_value(): Return NULL, and not FALSE

    See RM #177

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3a2abc017653f39eda8e6269445ce6d74a45bad4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 11 07:05:58 2024 +0200

    Implement fc__fallthrough for clang

    See RM #171

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f0858e7ae6ca5ad910d958fa90fbfce28ef94455
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 8 22:15:47 2024 +0200

    README: Unlist freeciv-tickets mailing list

    Most tickets are not going through it any more.

    See RM #150

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6c3fc7a2def507ae8d85a0f6fe4f17d6f28ab40c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 9 01:50:11 2024 +0200

    Ruledit: Add building flags editing

    See RM #156

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c35a821185c896ac441e61a7a84e80f72bd72399
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 9 05:11:49 2024 +0200

    gtk4: Make map canvas focusable

    See RM #159

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7c6faddcf080562f6407e6fc4293f4f5357084fe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 11 06:35:36 2024 +0200

    Annotate map_fractal_generate() fallthroughs

    See RM #172

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1f058ac0e336779cff9e9bf09c9eeb5bf796216f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 8 21:58:24 2024 +0200

    Add enabled extras to help "allows" lists

    See RM #149

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e857b52c65af30daaab2378dd5d96f7b82ea4a67
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 7 09:01:05 2024 +0200

    Unhardcode wld.map from unit_transform_result()

    See RM #139

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0b619d9a187babdd2345507e848b06070806f36e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 9 00:55:33 2024 +0200

    Tutorial: Turn lua script unit/city references to links

    See osdn #48585

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2c474b578828a98138ef759b49c3963d5f541498
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 7 09:25:22 2024 +0200

    Qt: Remove qtg_get_gui_specific_themes_directories() use of VLA

    It's not standard C++

    See RM #140

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a6ed9d9c9ea88b5fc06fd9b2f257492dcdb129bc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 8 05:34:55 2024 +0200

    Granularity: Add "In Development" warning to summary

    See RM #142

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a56ba5b3d96b6883ab520af6db4432554d1349d9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 7 11:08:16 2024 +0200

    Document building sound tags

    See RM #64

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4779e2f5bafa14b460f70ddddd1b2650ee8551ec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 6 11:02:24 2024 +0200

    Qt: Remove units_reports::update_units() use of VLA

    It's not standard C++

    See RM #133

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 59b8113d06cbd4e79d7695c5abb4cd40202a6e19
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 4 03:53:03 2024 +0200

    Let server decide if the other party meets clause requirements

    Client was blocking clauses when it didn't really know
    if the other party meets the requirements.

    See RM #123

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f6ac0c2d424d3a1d947e3ef5fcd104e16da1d9ec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 7 07:12:10 2024 +0200

    Annotate make_escapes() fallthrough

    See RM #138

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c06de031d444118c0cef8a9fef6472585d19fefd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 5 10:55:30 2024 +0200

    action_ui_name_default(): Support compile time check of handling all values

    Cast switch -parameter to correct enum type, so compiler
    can check if all possible values are being handled.

    See RM #121

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bf3fe4eb0f63f78a6605f30fbf0d9c8cb2448d54
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 5 06:10:16 2024 +0200

    Qt: Remove trade_generator::calculate() use of VLA

    It's not standard C++

    See RM #128

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 41e395b6ee3b6319afbe848562c176e136c09340
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 5 05:26:36 2024 +0200

    Correct do_attack() TRANS comments

    See RM #101

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d027dbe88a12ebae5d5ae12858b7385407a3079c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 9 00:13:44 2024 +0200

    Comment typofix: "regulary" -> "regularly"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 940238303da0dd1feecb5b4d112e51d66a5864dd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 4 00:02:29 2024 +0200

    Avoid VLA use in generic_iterate() in C++ code

    See RM #118

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cf16bcad39da85597f60211c61bf98712cc8f811
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 3 22:08:00 2024 +0200

    sandbox/script.lua: Fix message about Disrupt Supply Lines

    See RM #119

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9bab1d1638d05bc09eb05b69af8c3e2ed292115e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 5 22:33:32 2024 +0200

    Update Finnish translation of ruledit domain

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b2df6c39c13f1e06809aa8c334fa78610e8b3a4c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 1 20:34:22 2024 +0200

    Replace convert_string() asserts with nonnull attributes

    See RM #103

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0e8b7fb8fee65ea06ca508822bdef199c9832bbc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 5 12:58:34 2024 +0200

    Comment typofix: "progres" -> "progress"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bdcf9a8d7bc528b6ebe84e97a0788f107683af8a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 30 15:16:32 2023 +0200

    Qt: Remove city_widget::gen_production_labels() use of VLA

    It's not standard C++

    See RM #99

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7c2814ebc608b4b31e60e7269d2775e1fa053fae
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 2 03:27:47 2024 +0200

    gtk4: Fix animations

    See RM #109

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b58b66d183e31a708a45bacb8ab136b4f91fc5e5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 4 01:23:43 2024 +0200

    Comment typofix: "insider" -> "inside"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fbde51dea4e8e98589960ec4d8f9802273135381
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 29 17:26:30 2023 +0200

    Fix bombard rate always being 1

    Ruleset defined value had no effect, as unit_bombard_rate()
    erroneously sanitised scaling result with MIN(), and not MAX()

    See RM #93

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 97094a02b2e4e4f98baadab82055dbbf06b4facf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 29 04:08:12 2023 +0200

    civ2civ3/sandbox: Don't apply mountain movement penalty on River

    But do apply it to Big Land units which cannot move via River

    See osdn #48713

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b6e162ab91e824a4ef8023b8e6634d343c5e76de
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 30 12:33:30 2023 +0200

    gnulib-common.m4: Refresh

    Serial still 89

    See RM #96

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit df78f11e0a29449f41efb9622aa923e1e07b4233
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 1 20:58:44 2024 +0200

    Comment typofix: "adjcacent" -> "adjacent"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f8f4f7fa788666877ef852fa7caaa6bd23022718
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 28 23:45:09 2023 +0200

    Fix clang analyzer "divide by zero" warning

    See RM #86

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4e084d45f8686fda157c57634a62719667ed5524
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 25 16:27:55 2023 +0200

    Replace #!/bin/bash with posix shebang

    See RM #44

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a98237bd3e9c73fdef29b0cd079bab81d41dcd5e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 16 14:36:45 2023 +0200

    Make terrain.c functions to take map as parameter

    Replace hardcoded wld.map uses

    See RM #71

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5a111a31b0fc2028d3f33f0f2c00a78575bba544
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 29 07:07:14 2023 +0200

    Qt: Remove zealous_crop_rect() use of VLA in C++ code

    See RM #90

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4f6d43f77f00aeac3fbf8a8db9a1422680dc0617
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 26 00:03:25 2023 +0200

    meson-winbuild.sh: Add [native]/bin to PATH

    See RM #80

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 69c9f37f9b935c1222bba1fb89d47b2313107175
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 14 00:10:25 2023 +0200

    Add 'map' parameter for is_req_active_cb

    See RM #61

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8762b53015351b77d60b8ee90365599d45d8bb48
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 30 23:09:35 2023 +0200

    Mark as development code

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 18d164526a635728c24e7cf5a784b62b8c97b218
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 30 23:00:26 2023 +0200

    ChangeLog: Refresh for 3.1.0-beta4 release

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f105f2b23a2819223a8d9f1ef0487f34e9214441
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 30 22:59:33 2023 +0200

    Set version number to 3.1.0-beta4

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 385a3c3f4ac339ff6d12d08b04f9a0e9e13f03c9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 30 22:29:50 2023 +0200

    'make update-po' before 3.1.0-beta4 release

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d58dffbf7b2dfc21100bfb67817782174068b48
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 30 21:46:49 2023 +0200

    NEWS: Update as of 3.1.0-beta4

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 85b4b64464695817352d0d4e4957b5644fef0f1d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 30 21:31:39 2023 +0200

    NEWS-3.1: Correct heading of beta4 section

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1a18d9e3e531ff97c35a07b46a1b23e4b5604ce7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 30 21:16:35 2023 +0200

    NEWS-3.1: Update beta4 section

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 710779811fd18aeb2d66863c070e430904c0950f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 29 08:32:52 2023 +0200

    flatpak: Download SDL2_gfx from sourceforge

    See RM #92

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 774145ab77af9a4aa2d104f66e18269e0f944be8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 27 15:05:55 2023 +0200

    Fix city removal server crashes

    When city removal wipes a unit that's not homed to the city,
    but on the same tile, recursive city refresh was crashing
    due to city vision and advisor data being already deleted.

    See RM #81

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 11e1214d2116ca3916da0dd249150dd1881a6e5f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 29 02:58:28 2023 +0200

    NEWS-3.1: Add 3.1.0-beta4 section

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a0cc0d695c34dbe7917d545c35eb86c82d888346
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 29 02:00:31 2023 +0200

    Update Polish translation by Hubert Kowalewski.

    Pulled from https://sourceforge.net/projects/freeciv-l10n-pl/files/
    (zip timestamp 2023-12-26)

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6b85b2762e953d76a0c599e6e6b78554f2901319
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 28 16:27:13 2023 +0200

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 584f7c4acd93635ae861de530e93a7de462f5939
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Tue Dec 26 10:13:16 2023 +0500

    Update for Russian translation.

commit 25e212bd0522834233e673f3e853613d9bce464d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 16 11:33:00 2023 +0200

    Remove double spaces from Temple description

    See RM #66

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 10157f8ef036d49b22e0df95201ded2d21e5cfe4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 13 05:54:48 2023 +0200

    Give nonnull attribute to update_city_activities() pplayer parameter

    See RM #56

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cf1d606e5b6c0332c43411467f90bc3b34127786
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 10 22:47:55 2023 +0200

    Meson: Gzip ChangeLog-1.0-S3_0

    See RM #52

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2a6dbadf86cdbef6492b3a816b0f5cbe900bd945
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 10 05:35:16 2023 +0200

    get_effect_expected_value(): Drop assert of parameter with nonnull attribute

    See RM #50

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7403c043e984fcee6fbc5335d2f82086308236b3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 14 02:27:51 2023 +0200

    fc_vsnprintf(): Correct return value on Windows

    It was returning size of the buffer it was given, at max.
    Now it correctly returns the size that would be needed for
    the generated string.
    Astring buffer was not grown because of this, as it seemed like
    the partial write that fit the old small buffer was succesful.

    See RM #58

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b1c0ece0c0014b2825a7f145661a40577a2a00b2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 16 09:14:14 2023 +0200

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f743570b332190fd26e0bdf33084c977b1a77592
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 9 09:03:51 2023 +0200

    Drop unused count_terrain_near_tile()

    See RM #47

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1b6d895a2fcb55c7dafe706111825f5302b82f6c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 4 01:38:12 2023 +0200

    Meson: Stop looking for sys lua when it's disabled

    See RM #20

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 776ff13a8d3358da7521ea7844207a197ca689f3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 9 03:40:02 2023 +0200

    support.c: Drop asserts of parameters with nonnull attribute

    See RM #42

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b5a0ae0d1d0a166e11099349a976f37736b2531a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 7 23:14:35 2023 +0200

    Autotools: Search mwand by MagickWand-6.Q16HDRI.pc

    See RM #36

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3922816ff81f64144f5d359bdd20c9cbad627292
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 8 00:36:53 2023 +0200

    Fix zero-size VLA error in genlist_shuffle()

    See RM #37

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6bb99731d431c1a0e27c293f284d4c47236f8ac3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 9 05:06:51 2023 +0200

    Comment typofix: "obiligatory" -> "obligatory"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9ceb73f4588d5f3107365c9f9a37446634e50d4a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 6 03:52:15 2023 +0200

    Meson: Search mwand by MagickWand-6.Q16HDRI.pc

    See RM #32

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 732f56ab7d32a948fb2759f0dd59abe80f4ebc8d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 5 07:37:56 2023 +0200

    fc_utf8.c: Drop asserts of parameters with nonnull attribute

    See RM #28

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d2692b12b2d2df7cbd21b433222a3ec59cd7e767
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 5 06:24:30 2023 +0200

    installer_cross: Drop Qt5 support

    See RM #27

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dde5a2e6c38cb9e60e6c2e08541e8e9371248f66
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 27 21:53:41 2023 +0200

    Alien: Fix Scientist description typo

    "reseach" -> "research"

    See RM #11

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e81778edd30a818db10626444afc311d6d69795f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 30 02:13:14 2023 +0200

    installer_cross: Enable installer translations

    See RM #9

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4a89bc39f54d4cad2cebd616e17121ba7d5855d7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 6 01:02:45 2023 +0200

    Comment typofix: "randoms" -> "random"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 66a0563601b7b36d244c52474898078be7c805a8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 2 00:58:47 2023 +0200

    astr_reserve(): Drop assert of parameter with nonnull attribute

    See RM #14

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ea4286e7c268d0ce7d2d39d86e147f792c40f106
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 2 07:36:13 2023 +0200

    Apply lua-5.4.6 upstream patch 4

    See RM #15

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2021c5feb0fa283b04cb20774d0bdae49e6d6b2f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 4 17:46:22 2023 +0200

    Comment typofix: "alocation" -> "allocation"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d04992e148e1a17bc818cb5c87a02cca39421560
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 30 01:22:03 2023 +0200

    Meson: Fix cross-compilation

    See RM #10

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 91b8885c2ef41c2ee7492be2131f39c6a4104046
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 27 21:56:35 2023 +0200

    gettext.m4: Update to serial 78

    See RM #5

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ac9cbb844c94e76c47448b1c5d56e2e7499ee1b6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 28 12:03:27 2023 +0200

    Meson: Define SIZEOF_INT

    See RM #7

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 110ef50311a36ccd80bf834fb9cd9fb184901e36
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 27 01:29:52 2023 +0200

    Reserve space for terminating NULL on astr_buffer

    Growing the buffer was always considered a failure,
    as it was one byte too small even after giving out
    the requested size.

    Reported by Giacomo Mulas

    See RM #3

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com><

commit 7af0fe230e655d6961af4a642733dea8a498aee3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 12 23:56:28 2023 +0200

    Msys2: Enable installer translations

    See RM #6

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit efa0c4b841a15f6f53d542da190f4faa337eef6f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 27 21:55:40 2023 +0200

    stdlib_h.m4: Updade to serial 76

    See RM #4

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2fdc43237766450c31998dd0e204efde2ff19ffb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 15 07:55:06 2023 +0200

    Pick random nations before setting turn number to 1

    The consequences of having nations unassigned at turn 1
    included failed asserts.

    Reported by gatorized

    See RM #1

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 245533ef24a8a6f4629fc7187fd838985c7bd31d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 27 19:37:44 2023 +0200

    Comment typofix: "reseach" -> "research"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7fd3855e976deff9f6b8fec791a2ccdfd885c5ca
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 11 06:15:26 2023 +0200

    host-cpu-c-abi.m4: Update to gnulib upstream serial 16

    See osdn #48956

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 99504d61395663c4356c7b7aa33519e6f5e69843
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 9 01:19:50 2023 +0200

    README.msys2: Fix typo "buildind" -> "building"

    See osdn #48955

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 91be1611d043f18930a226114b3bfdadcde520a7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 5 21:33:45 2023 +0200

    Apply lua-5.4.6 upstream patch 3

    See osdn #48946

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 766de7e50adf90d64301c462ff29661b191e9ed7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 10 08:47:28 2023 +0200

    FAQ: Update latest stable version number to 3.0.9

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a848d35ab42567e38917be2918dd4f394982fee1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 9 21:47:39 2023 +0200

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f0e45893cef8e28d84b020d2bd24ab4c26d68ae7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 5 18:32:45 2023 +0200

    Unhardcode extras.[ch] wld.map references

    See osdn #48943

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4dea56b096f6cff6e9b55f52555b014a85eb6caa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 9 01:14:41 2023 +0200

    Comment typofix: "buidling" -> "building"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5a4b769222d8a56af72c86c2658aca2c68491f2c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 5 12:23:02 2023 +0200

    Add word "diplomatic" to incident messages

    Requested by omero

    See osdn #48941

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 65b5ce938dfaf94a4b1c76aabfba62f49ef428ac
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 4 08:56:08 2023 +0200

    Meson: Add "zero-byte malloc()" check

    See osdn #48936

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0ef202c4e654d0c9e797ebf73806b8fc019e2b47
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 4 03:14:16 2023 +0200

    Unhardcode road.[ch] wld.map references

    See osdn #48933

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fc0209158c562e49f3373398aa67ffbd69e4315f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 4 18:33:30 2023 +0200

    Comment typofix: "fiels" -> "fields"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 95aa0b02819f6c559aad901a1c585ffa444e17d4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 1 20:32:58 2023 +0200

    Make can_unit_continue_current_activity() to take map as parameter

    Unhardcode use of wld.map.

    See osdn #48929

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 23404ee4344300017d4624d0130546407ffb1e1f
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Fri Nov 3 15:32:08 2023 +0500

    Update for Russian translation.

commit 8c32896f08acb78de2aa0f998a74bbfe8478df1b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 29 23:18:39 2023 +0200

    AI: Get advance_count() only once in suggest_tech_exchange()

    See osdn #48678

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 896ce1a79c03a61a0236fa848aba6fc1a2ca9d70
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 28 00:06:16 2023 +0300

    Flatpak: Update Qt Sdk & Platform to 6.6

    See osdn #48909

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e274f76ede70d1805da28f78e899218dfdcbddbf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 23 01:10:33 2023 +0300

    Apply lua-5.4.6 upstream patch 2

    See osdn #48895

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bfc89eb6c5cbf1333c0d732d659d496ff83b2426
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 31 00:44:34 2023 +0200

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0b9f6ee26c5033fc0235f569967849b2c7cd1057
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 25 07:01:10 2023 +0300

    Fix reqtree.c:improve() clang analyzer warning

    Clang analyzer was warning that crossings[layer] could be garbage.
    Refactored the code a bit, so analyzer sees that value is never garbage.

    See osdn #48904

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7308c067f272ba8985df468cca4108768d26f090
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 22 22:25:30 2023 +0300

    Update intl.m4 to serial 53

    See osdn #48889

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 344073e36ccc82d8c442ceab94b9b49ce7b5df93
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 21 07:30:55 2023 +0300

    Update SDL2_mixer download URL

    See osdn #48877

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2333927e68e693b0c3ab053acbdffdf7ceb14961
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 27 22:14:59 2023 +0300

    Comment typofix: "passanger" -> "passenger"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d6cf213d03d04c393a0cde781cb59c5f2a0c81b6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 23 21:42:50 2023 +0300

    Meson: Install hexemplio savannah files

    See osdn #48898

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 910a8caf0354b18fa9c795235e9cf35aab32ff77
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 21 06:56:03 2023 +0300

    AI: Make hunter to launch only its own cargo

    They were considering all missiles on the same tile,
    regardless of their carrier.

    See osdn #48627

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a20629fba188dd94f0bbe2dae186b36a87f4d3d0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 22 19:17:36 2023 +0300

    lib-ld.m4: Update to serial 12

    See osdn #48890

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b803f2d5f430d9ab9464a84ddedece481c531622
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 21 04:35:59 2023 +0300

    goto_unit_killed(): Fix use-after-free warning

    See osdn #48875

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2b13d4b505f82b1b6eeb6fa38944b1714b14df51
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 12 22:05:17 2023 +0300

    Player removal: Clear city border claims

    See osdn #48837

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 89bc0466a5b8ac963e6e0015bde5119940ef8c5b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 18 07:56:25 2023 +0300

    CI: Update actions/checkout to v4.1.1

    See osdn #48868

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0d8f7a5b8ee79c3d3665a4e1678cbc575dd88d00
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 16 03:37:31 2023 +0300

    Fix dai_manage_cities() garbage "sellers[i]" warning

    Clang analyzer was giving false positive.

    See osdn #48677

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ebd08f3c63c75211d5f6ac79a629603547ad818c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 13 01:56:36 2023 +0300

    Autoworkers: Use ADV_WANTS_EQ() for comparing tile values

    See osdn #48842

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9f315f2227eca592540b14bf021cf9911252eb96
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 18 08:25:13 2023 +0300

    Fix dbv_copy()

    It was overwriting the pointer, not pointed memory.

    See osdn #48869

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1e67780c4c089a7f6d8fc8d1770e0f55a89e098e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 17 00:31:14 2023 +0300

    Qt: Rename "Append to Battle Group x" menu entries

    Unify menu entry names with those of gtk clients.

    See osdn #48860

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e643f4da2df2e0326079e3d7bc631fc061aac243
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 11 00:52:21 2023 +0300

    Fix player_new() NULL dereference

    See osdn #48624

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3aeff72f248b037863a930577a801d8afab4e123
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 15 22:02:59 2023 +0300

    mapimg_help(): Fix format-overflow warning

    See osdn #48850

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a4546c0a6eeb038b13426abbe372d41cd6801c44
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 11 04:38:05 2023 +0300

    gtk4: Add mnemonic for Battle Groups menu

    See osdn #48818

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b8f97f880484cfaf4a99336f2e8627d890eb9020
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 10 02:12:32 2023 +0300

    Hexemplio: Add savannah terrain

    Art by Omero

    See osdn #48644

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cd46029f1ff934103a496b384d22c34cc201b168
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 15 21:54:24 2023 +0300

    city_from_wonder(): Fix illegal array subscript warning

    See osdn #48849

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d1f3dc801d0aee1adead8db5c9c9e3976e28323
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 10 01:10:22 2023 +0300

    Manual: Change settings page heading to "server settings"

    It was talking about "server options" which contradicts
    our usual terminology ("server settings" & "client options")

    See osdn #48743

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f71465bf9326cb89310d6fced2d17f3056fb8546
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 11 00:29:19 2023 +0300

    Fix revolution_length() dead "turns" assignment

    See osdn #48834

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8ebf082a1d1a1ec2fb74416831d4cd6f57849629
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 10 00:51:05 2023 +0300

    Simplify city_total_unit_gold_upkeep()

    Remove check against empty supported units list
    before iterating it as the iteration of empty list
    will not do anything anyway.

    See osdn #48433

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 790f1bcec37b3fc63943b970ed27586be96c1fc8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 5 22:58:55 2023 +0300

    gtk: Avoid double diplodlg free

    Reported by mortmann

    See osdn #48807

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8bf431372db3a8f6f7d4925785de1cf5e2a746b3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 14 19:58:31 2023 +0300

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d6ac73443be893727cb9c7241294bcdd3544fc0a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 5 17:17:48 2023 +0300

    Optimize settler_map_iterate()

    Move some function calls from inside the iteration
    outside it, to get called just once.

    See osdn #48369

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5c4c83e3083072da40de341c09ad2b061eb826c0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 7 23:14:16 2023 +0300

    gtk4: Disable unit commands while inputline in focus

    This prevents units from taking attempts to write chat messages
    as commands to themselves.

    See osdn #48815

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 930b6792649331a2043a589518101fc1106f1e81
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 13 00:20:33 2023 +0300

    Update Finnish translation of ruledit domain

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 90ad334d0f58af97d99963c3c849187712a43bfa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 12 22:25:38 2023 +0300

    Correct filling of territory claiming extras cache

    See osdn #48838

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d0d8bdbc0cf7a7d9085eee6c5880bc43e6a13c36
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 3 00:33:47 2023 +0300

    Cache territory claiming base types

    See osdn #47345

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 23e14d51e0c813298cabf59d2e5af4ed897ce2f5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 8 12:54:52 2023 +0300

    Remove virtual unit refcount handling from movement animation

    We use separate virtual units for each animation now,
    and the refcount was used completely wrong.

    See osdn #48821

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e473a07c19e2467ca864693ead357de4746330c7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 2 03:28:59 2023 +0300

    italy.sav: Replace Glaciers with Inaccessible

    See osdn #42869

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9768f595a15eaba9a82a5043e3c0c2fe4d6c5e31
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 7 05:05:40 2023 +0300

    sdl2: Drop graphics.c code for unsupported bit depths

    See osdn #48673

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aace69d5c7e92abd192a472c203eff6414ffde15
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 7 16:40:34 2023 +0300

    Correct tab_building::initialize_new_bldg() header

    It claimed that the method is about tech, while in reality
    it's about building.

    See osdn #48768

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a5a98381ff76cf1a8c7d23fd7ede5091f01eb04c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 1 23:17:57 2023 +0300

    Fix bitvector copy functions

    So far unused functions were copying either from or to wrong address

    See osdn #48772

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 058201f8a0780da9629355fd99b1e37bff355da7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 5 17:54:21 2023 +0300

    Amplio2 extra units: Add Feluca

    Art by Omero

    See osdn #48643

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4bda17d96b9d3881ce1d7b69624e9a6ea742a754
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 2 21:11:50 2023 +0300

    Ruledit: Add unit sound tag editing

    See osdn #48791

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 350f8eefb97d3abfca49e4cfe1eb79d2fc8f53c1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 3 22:06:25 2023 +0300

    Update intlmacosx.m4 to serial 9

    See osdn #48799

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5c76ca128f11d2afb88ca5b92efbeaa920d0c694
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 7 04:28:14 2023 +0300

    gtk4: Drop "Recalculate Borders" completely

    That menu entry was already commented out.

    See osdn #48811

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 03a234747c38303486a63c798accd424bdc08cbe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 1 21:10:58 2023 +0300

    Qualify remaining "Pollution" strings

    See osdn #48761

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 05cc809e2a67fc286d7411a9f79b8ddfcfff803b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 3 23:56:08 2023 +0300

    gtk4: Make detachable panes to work

    See osdn #47440

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit db36f54ba568ebce4885a1ed357fba03be0d2bc0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 1 09:57:40 2023 +0300

    Fix wipe_unit_full() dead "conqsize" initialization

    See osdn #48776

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bac96aefae3cfb4899b569e2121f310bff5b425b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 4 22:48:03 2023 +0300

    rssanity.c: Use _re_active_ iterators where needed

    Sanity checks are also run from the ruledit, which needs
    to make sure that only active items are considered.

    See osdn #48766

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3befa030cbfdaf008d9a540f41f12883128b20a4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 2 00:37:28 2023 +0300

    Meson: Add "localeprefix" configure option

    See osdn #44814

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3acc3f1def46cb8fac96ddbb021344a2ab53f103
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 8 02:26:41 2023 +0300

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 75e46146b31bca25ebc2e8102f36f108f7ed90e7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 3 01:23:30 2023 +0300

    Qt: Fix UTF8 handling

    See osdn #48795

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3fa0ca9c404fbd6800a0607ca541522320935c34
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 1 05:03:55 2023 +0300

    Make can_unit_do_activity...() to take map as parameter

    Replaces hardcoded use of the main map.

    See osdn #48423

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e952fc14e989db7ca25f5823f3d807b2042536e4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 3 01:35:56 2023 +0300

    Correctly destroy movement animation's virtual unit

    See osdn #48788

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 84562c78672d044505a469369014054a962f0eb9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 1 10:08:46 2023 +0300

    Update Qt modpack installer screenshot

    See osdn #48775

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bb0111177eff0ba11208b46914aae83a69909992
Author: rvid19 <53793291+rvid19@users.noreply.github.com>
Date:   Wed Aug 2 17:12:14 2023 +0100

    Update mongol.ruleset

    Made so that Mongolia has China as a civil war nation,
    as they conquered China in real life.

    See osdn #48715

commit 1fa0566a7787bb3f333200ae412f2d68aff2a4a5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 30 22:29:34 2023 +0300

    Check "Tile_Workable" effect value at turn change

    Make cities to stop working tiles they no longer can.

    Reported by ihnatus

    See osdn #46423

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bc41df2c80ddcbdcdda7d4f12cd36cf63981c534
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 28 13:26:22 2023 +0300

    gtk4: Add full view zoom support

    With bigger number of zoom levels

    See osdn #48740

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit be0b7608d6f03826879eec788f01f7e2c70cdb27
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 3 20:06:29 2023 +0300

    Create moving animation virtual unit

    What's supposed to be virtual unit was actually
    direct pointer to the real unit. Among other problems
    that meant that after the real unit gets wiped
    (dies, moves out of sight), animations were doing
    illegal memory accesses. This resulted also in double
    frees as we freed what was supposed to be the virtual unit.

    Reported by mortmann

    See osdn #48797

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cafcd4dc3bb719103e30f80d65ff58c90efdebb9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 1 00:59:07 2023 +0300

    Ruledit: Clear flags of newly initialized objects

    See osdn #48767

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c0a606faab621a9177e0b406bf1822f74b1e08e6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 30 21:29:21 2023 +0300

    Manual: Fix settings manual format

    See osdn #48762

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b44c4f4127b1c7d1b1175c2e7f48435b758e733c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 26 18:44:59 2023 +0300

    Qt: Add Battle Groups menu

    See osdn #48732

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c9acbd77ba22a50673791bae6e9f5570b2c830d0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 30 01:46:03 2023 +0300

    Limit extra iteration on get_tile_infrastructure_set()

    For better performance, do not iterate over all extras
    but only over those with correct rmcause.

    See osdn #48525

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4243459a76ea960003e6d4a1436fc9adad8a6c83
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 1 21:31:38 2023 +0300

    mongol.ruleset: Backport style corrections from S3_2

    See osdn #48780

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 299b71673ea3609358edb72d40d3f6b5bdb181c9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 2 01:43:42 2023 +0300

    animations_free(): Nullify the animations pointer

    See osdn #48787

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a8b1cea93aee916c67c29a2dd5b411579dc53147
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 23 20:35:56 2023 +0300

    Change gtk4-client status to "supported"

    See osdn #48671

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d0a5d8461377ef3af1656d438f2b2f1d571cd48d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 30 08:43:05 2023 +0300

    gtk4: Implement menu item renaming

    See osdn #47444

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0895f90e3e09266b96e16bb8929f63a84b347b1b
Author: rvid19 <53793291+rvid19@users.noreply.github.com>
Date:   Wed Aug 2 13:57:29 2023 +0100

    Update han.ruleset

    The han dynasty fell around 220 AD, so it never made it to
    the early modern era, and hardly the middle ages.

    See osdn #48714

commit fc953c78b138c187c2dfef9273124c2004c7c2ff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 1 03:53:26 2023 +0300

    Add bv_match_dbv() utility function

    See osdn #48771

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3b52b3d68fca60e3606866ca7ce8813f71f32592
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 29 05:08:45 2023 +0300

    Ruledit: Add building sound tag editing

    See osdn #48750

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 274ffeaa0af685cdf6f6005f5c7e9f69f895e9a7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 3 19:19:53 2023 +0300

    Comment typofix: "as" -> "has"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9339627761a5b7a318d1c6543d1ba1c481f391e9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 1 05:52:19 2023 +0300

    gtk3: Revert applying theme to all dialogs

    This is partial revert of #48580 - for gtk3-client part.
    gtk3.22-client part is NOT reverted.

    See osdn #48770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dea12a8f3e3417aafa24ff8877ef6efe2be2eb9e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 29 01:47:27 2023 +0300

    caravan_parameter_log_real(): Fix dead 'foreign' initialization

    See osdn #48623

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 50ab0e3062c18469c8e65149ac27ee783bf85e00
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 24 02:42:11 2023 +0300

    gtk4: Avoid deprecated gtk_widget_get_style_context()

    See osdn #47924

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f04d56ffb96c618b233b48262ae87a1b48493631
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 28 06:46:01 2023 +0300

    winbuild.sh: Add crosser native bin to PATH

    See osdn #48432

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 96025d221acc1c0b1516b13def87f8ca7d054551
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 30 23:30:18 2023 +0300

    han.ruleset: Backport style corrections from S3_2

    See osdn #48764

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7803ef3e17e3e24f53dd1397f9f8cbec6d9e200c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 25 02:01:51 2023 +0300

    Meson: Respect "localedir" option

    See osdn #48726

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 29c86d827fd6765a4fe8c632cfee6f8f47838c92
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 27 20:49:27 2023 +0300

    civ2civ3/sandbox: Add "Aerial" unit class flag

    Simplifies effect requirement lists.

    See osdn #47737

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 119b12dee7aa116b0078d8e7590c292a99a806c2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 26 19:25:39 2023 +0300

    gtk3.22: Use single theme provider

    There really isn't "default provider" concept, but we just
    drop the provider completely when we want no theming.

    Reported by l29ah

    See osdn #45601

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 40255e474c13a906927aacd164c2c3e81c086e36
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 27 10:34:10 2023 +0300

    Qualify Pollution extra name

    See osdn #48709

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0dbc766ece43ca0da87fd4ecd2b2cde15367a713
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 29 22:53:38 2023 +0300

    Meson: Mark branch to be in beta mode

    See osdn #48752

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7ad36a2b259fa1ee1eb5a6b2390c5e34e1afccdb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 29 23:40:33 2023 +0300

    Fix typos in word "successful"

    See osdn #45713

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b8ca2bebe259fa582bce6546607a93072a60aa17
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 26 22:11:10 2023 +0300

    Autosettlers: Turn tile action values to adv_want

    See osdn #48421

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 44dbe756bba72e6d58e1623a25fb3467a84fc13e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 28 23:32:03 2023 +0300

    gtk4 fcmp: Replace deprecated gtk_widget_show() call

    See osdn #48744

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d683b7a0862c7c686aa5624f2a750fe3cc402d08
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 26 12:32:50 2023 +0300

    Add new bitvector utility functions

    - dbv_copy()
    - dbv_to_bv()
    - bv_to_dbv()

    See osdn #48731

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2eda3f308c910343425c85f7366ac2149ee4ca2f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 29 05:53:29 2023 +0300

    Set 3.1.0 release month to March

    See osdn #48751

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 201cd255ef280718f880a523c8445f3e7159a1e6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 25 00:22:23 2023 +0300

    Avoid tripled map_get_player_tile() calls on shared vision changes

    Both give_shared_vision() and remove_shared_vision() were constructing
    v_radius_t by calling map_get_own_seen() for each of the three
    vision layers, and thus causing three identical
    map_get_player_tile() calls.

    See osdn #48211

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 974634740d4a62bc93089df5b34371f1d87e0776
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 24 11:34:23 2023 +0300

    gtk3(.22): Make toplevel window title to tell gui type

    See osdn #48600

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1855add89c1c300d4bd89cf6d8f8d67d32865142
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 30 18:04:44 2023 +0300

    POTFILES.in: Add gui-qt/fonts.cpp

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 036780e0dabcca91e0afed9b9c557b5ab1e5e2dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 30 17:58:03 2023 +0300

    Comment typofix: "depedent" -> "dependent"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b5a0c11fa4847d2fb8b72151ed40c2948c8ed663
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 23 20:00:15 2023 +0300

    civ2civ3/sandbox: Add "Ground" unit class flag

    Simplifies effect requirement lists.

    See osdn #48711

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 56712d9ed0c8ad700c0a41f5d09df26d2a323852
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Sat Sep 30 14:55:36 2023 +0500

    Update for Russian translation.

commit ff2a997afbc42b9eae042993ccb00df2025797fa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 24 16:41:33 2023 +0300

    Meson: Set user data paths in run.sh

    See osdn #48697

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 30e59fa982453156a2ee532513264cf674cf2bcc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 23 12:07:00 2023 +0300

    gtk4: Use single theme provider

    There really isn't "default provider" concept, but we just
    drop the provider completely when we want no theming.

    See osdn #48679

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 453e0b31894d7c192e02329ab6e913cea3126436
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 24 18:54:33 2023 +0300

    Lua: Always pass lua_Integer to API_TYPE_INT

    See osdn #48722

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c3a48a57f57e70b7548cea792108a7900cb0e2fe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 3 16:34:54 2023 +0300

    city_change_size(): Refresh city only once it's in final size

    We still need to increase city size step by step to handle cases
    where it can grow some steps, but not all.
    Move functionality, that's not necessary to do for each step,
    out from city_increase_size() called within the loop,
    to new city_refresh_after_city_size_increase() that's
    called in the end only.

    Performance problems reported anonymously

    See #43379

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e4ab0774ada0170b43861c6f85ad4e5b495b9eaa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 18 05:00:07 2023 +0300

    load_action_range_max(): Avoid duplicate var name detection

    See osdn #47809

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e884e2ede80c2e603e3bda1cc8f37e6e8941dcba
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 23 19:07:06 2023 +0300

    Qualify "Pollution" event name

    See osdn #48710

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b39f050c4aa38f16975da06034d4a3488cb15d49
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 24 20:46:59 2023 +0300

    Meson: Add bz2 compression support

    See osdn #48724

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5f4667aedf180d05028e7f21af6b7d5b81d89ba0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 23 11:14:35 2023 +0300

    Clients: Shut down cleanly after "-- --help"

    See osdn #47186

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bce76c942813773a7b78c6b50e612519cfbf60f1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 16 17:27:09 2023 +0300

    gtk3(.22): Apply theme to all dialogs

    See osdn #48580

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0228d29bf1d5d6fa3e477e3af5a9a22d1b2f7655
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 29 16:42:34 2023 +0300

    Fix make dist

    See osdn #48754

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 139ca7d794db5cfb4b4c8183fae22e953594cd8b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 26 08:39:32 2023 +0300

    Rename org.freeciv.mp.<gui> as org.freeciv.<gui>.mp

    See osdn #48729

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ca4e8b537495552034ff69e01808441571af9716
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 7 14:08:39 2023 +0300

    Combine bv_special, bv_roads, bv_bases to bv_max_extras

    See osdn #48587

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0aa32d11943bf4470d51f79607bf4a988972e9bc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 29 13:37:32 2023 +0300

    Mark as development code

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b1dc919f22d8002af0b11ea4eaf62279e00b8190
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 29 13:33:53 2023 +0300

    ChangeLog: Refresh for 3.1.0-beta3 release

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 463ad8d16e929d598f9e13a93d5941ca930f7fa3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 29 13:33:23 2023 +0300

    Set version number to 3.1.0-beta3

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 00c9a828c7646018a2d4ddcbfe4b2f40cf095283
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 29 13:32:04 2023 +0300

    'make update-po' before 3.1.0-beta3 release

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e328d2312daec217be2a72458c96e4ddd8f03083
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 29 12:10:11 2023 +0300

    NEWS-3.1: Update beta3 section

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f279ce653cd959bb39e1dd05679ebcaf4b190126
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 27 23:13:36 2023 +0300

    tile_move_cost_ptrs(): Make cardinal_move signed

    It can contain value -1 in it.

    See osdn #48737

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5588bb994a00b440e26b754248859e0b982e4a18
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 28 21:20:57 2023 +0300

    Update Polish translation by Hubert Kowalewski.

    Pulled from https://sourceforge.net/projects/freeciv-l10n-pl/files/
    (zip timestamp 2023-09-28).

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c8e87aab750bd90fea8ec9665360f03ec18c7a24
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 24 23:11:37 2023 +0300

    Improve fit_nationset_to_players() comments

    See osdn #48266

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 681b6ed52360a3c2b8900277ee18ac06b56a2a8d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 26 16:58:05 2023 +0300

    NEWS-3.1: Refresh beta3 section

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 533d9587414bfcdf9b95157a1a088b62492f0b37
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 23 15:11:30 2023 +0300

    Correct "nearest_real_pos" in comment to "nearest_real_tile()"

    See osdn #48526

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 64ab59521ea7878fbd3b02155568d02b414af6f5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 26 16:17:14 2023 +0300

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1e8e65dd9a71fbbafd5cfc6fc7ee207e28e4aa89
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 23 03:30:06 2023 +0300

    gtk3(.22) theme: Correct setting tooltip color

    See osdn #48670

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5aed008489cda54679bf7713fa6c3cb9eaba42f8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 23 09:31:30 2023 +0300

    gnulib-common.m4: Update to serial 89

    See osdn #48706

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 51dc8406b5784ecee9579873a5b3fba17440bdf9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 25 08:25:20 2023 +0300

    Update Polish translation by Hubert Kowalewski.

    Pulled from https://sourceforge.net/projects/freeciv-l10n-pl/files/
    (zip timestamp 2023-09-22).

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6db2ec77affd8e37c8b6d18adbebe1e1fa2e9bf0
Author: Michael Ortmann <keine email>
Date:   Wed Sep 20 03:54:04 2023 +0200

    Alien: Fix typo "phenomenom" -> "phenomenon"

    See osdn #48693

commit d2bd777d2fc3804f898d8c66a57b993cce80558a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 25 07:42:41 2023 +0300

    NEWS: Refresh to match 3.1.0-beta3

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d542e2e5279778777228be78c4fdb39578b9bdc1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 25 07:36:12 2023 +0300

    NEWS-3.1: Refresh corrections to 3.1.0-beta3 section

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f7376e3abfe4fbd12cd2931daad894baa3ffcf95
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 25 01:26:04 2023 +0300

    NEWS-3.1: Refresh 3.1.0-beta3 section

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bb1b0a98e6943cc452d927396e61756e9e197b64
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 23 09:56:29 2023 +0300

    Reword bitvector.c comments

    See osdn #48707

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2c7184c6b6b81a9977266d2c8f7a9dd9ae43436d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 22 11:48:59 2023 +0300

    gtk3(.22) theme: Disable global padding

    See osdn #48669

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1da432374c36635204cdb7c0b4ad250131d8d707
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 22 14:47:49 2023 +0300

    sdl2: Fix add_global_worklist() dead 'buf' assignment

    See osdn #48688

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 80ff6d7f257ebab35ace873bbf0b2525a894201a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 16 16:31:33 2023 +0300

    gtk4: Apply theme to all dialogs

    See osdn #48634

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c754c1d699cca654823cd0c478fc962412c70e2e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 22 11:19:17 2023 +0300

    Flatpak: Update gnome Sdk & Platform to 45

    See osdn #48689

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 95da1e146a1ad83e480d0df56676a8c0b995a881
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 22 11:13:07 2023 +0300

    emscripten: Provide netfile_free() prototype

    See osdn #48683

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d033883268da97b581c67c113b3fe2cd2d2b9be6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 18 16:25:00 2023 +0300

    gtk4 theme: Correct setting tooltip color

    See osdn #48660

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aa9033e7b003b9f9c1842961e24f4308a9c0fe2d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 22 16:31:44 2023 +0300

    Merge German translation from main branch

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 720a23741f240d7cc1dc39f3d9d5e402a2b32364
Author: Benno Lang <transmogribenno@gmail.com>
Date:   Fri Sep 22 21:27:02 2023 +0930

    Update Esperanto translation

commit 0684994127a1336b62772db1a7dfdeabdf74cb1a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 18 05:56:46 2023 +0300

    sdl2: Make size 13 fonts to adjust to theme font size

    Some clean up made, as this replaces the last direct
    use of adj_font()

    See osdn #48641

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0c5a6f492b22d09df9fb74873602b760b60a66a2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 21 18:48:32 2023 +0300

    Comment typofix: "Usefull" -> "Useful"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6f02d8fa2067a427420541d757cbd566284c45d7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 21 10:37:51 2023 +0300

    Comment typofix: "usefull" -> "useful"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1ac6ec41bbac797541e775d9af3b8cfb010f0845
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 21 09:47:43 2023 +0300

    Comment typofix: "meaningfull" -> "meaningful"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 93de2a4cb7147ea860a1c21e1516373e9a886f75
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 18 04:36:26 2023 +0300

    Drop FC_..._TO_...() cast macros involving unsigned values

    See osdn #46414

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 92512f8c0c8fcbc5d1d20c8598d78064cfe47100
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 18 15:54:11 2023 +0300

    gtk4 theme: Disable global padding

    See osdn #48659

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 587fe3357245120945bf780f261ef00855005f14
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 17 18:16:12 2023 +0300

    Update city_map_update_[empty|worker]() headers

    See osdn #48652

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b9d66aaaf669195c9057dfc94f95174dfd10d4d2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 17 09:00:50 2023 +0300

    unpackage_short_unit(): Use 0, not FALSE, veteran level

    See osdn #48645

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6474da4cc4b45fb6fa89ac94fa8d0bb79c3334b4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 17 05:42:23 2023 +0300

    sdl2: Make size 24 fonts to adjust to theme font size

    See osdn #48629

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4a9d7f384c4e726bf28fe2fac7416e5a58b4b410
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 18 10:24:33 2023 +0300

    NEWS-3.1: Add 3.1.0-beta3 section

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 31ba50c73d14e9324e28bd887e7e56b609ff4691
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 16 19:32:23 2023 +0300

    sdl2: Fix dead assignment in popup_intel_dialog()

    See osdn #48636

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 579197fc37a25b83243d285b0ee8f0d82b560b40
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 16 18:49:05 2023 +0300

    dai_select_tech(): Get advance_count() just once

    Use advance_index_iterate_max() with a max value that compiler
    knows to be the same, instead of advance_index_iterate()

    See osdn #48635

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cd03c19f13f657ba9281551797ff78b98c490f14
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 16 13:10:12 2023 +0300

    Meson: Fix build with meson-0.59

    See osdn #48633

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 29ef2c6a2b45f0b31a90f12863c2d0d0ab12ca0d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 15 14:54:20 2023 +0300

    Correct name of 'gui_to_map_pos()' in comments

    Was referred as 'canvas_pos_to_map_pos()'

    See osdn #48594

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 96660a8d0368b9c1125f0dfcfd6794dff3b3568b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 15 15:10:01 2023 +0300

    Qt: Tell Qt5/Qt6 -mode in window title

    See osdn #48603

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c014c70ee6a5c3bc935f96414f41e4a3e41e9d09
Author: Benno Lang <transmogribenno@gmail.com>
Date:   Sun Sep 17 17:33:53 2023 +0930

    Update Esperanto translation

commit f6f417a29d1f82241138e972ef413b85bae7931e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 15 12:00:05 2023 +0300

    gnulib-common.m4: Update to serial 88

    See osdn #48611

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 20d7dce34aff9d31da4072c892f6c1583a11caf7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 15 13:35:23 2023 +0300

    AI: Make missile carriers able to launch multiple missiles

    See osdn #45927

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c86be7ad992f605ec34680dc856b1257cff06e2f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 17 06:50:12 2023 +0300

    Comment typofix: "determin" -> "determine"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8496760f809011086a9b299abc981194748aa91c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 15 12:20:30 2023 +0300

    sdl2: Make size 11 fonts to adjust to theme font size

    See osdn #48574

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 53680bf41e828452c0a108d21ab8012f0eb630bc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 15 11:28:45 2023 +0300

    BUGS: Instruct reporter to tell Qt5/Qt6 mode

    See osdn #48615

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 89e2e1e431563d795a38cca92185d51802d8e02c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 15 11:10:33 2023 +0300

    Flatpak: Update freedesktop Sdk & Platform to 23.08

    See osdn #48599

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 75a1c85a807956d10d242b22c761f656da604fb9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 16 04:04:53 2023 +0300

    Comment typofix: "schields" -> "shields"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cf86289fc087638ca5a43740a3c73bb983166323
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Wed Sep 13 21:12:32 2023 +0500

    Update for Russian translation.

commit c7e19d75778596f1ac4bec197b266d102d4753a9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 11 17:00:12 2023 +0300

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cdb5f2ef3db54d257f63ce01447755a6c11659b9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 7 12:39:48 2023 +0300

    INSTALL: Document pkgconf by default

    Replace pkg-config in documentation.

    See osdn #48586

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ee6888615450d775e7bc9f8e276b5bddddf708f0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 9 15:21:40 2023 +0300

    gtk3: Fix build

    See osdn #48612

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f33231d269bce6af7f032c5cbb2a3a4048957eb4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 7 13:34:11 2023 +0300

    Meson: Generate man-pages

    See osdn #46208

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8d2da15235b2ba887cafcd09d2ccf8eae040a293
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 3 08:37:00 2023 +0300

    AI: Set countdown correctly if senate blocks war completely

    Reported by alain_bkr

    See osdn #47786

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e0fbd50bc928326eedc37f0e5da22d299653592d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 7 15:12:00 2023 +0300

    id.po: Fix syntax

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 35c87bcb435b8ecbd61c029af64a97532a687d7b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 4 12:22:28 2023 +0300

    Lua: Fix Unit:is_on_possible_city_tile()

    See osdn #48582

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bd1be3e2d8504ddfcbd3ff7becee2c1063d897a0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 2 23:29:39 2023 +0300

    gtk4: Make toplevel window title to tell gui type

    See osdn #48569

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 58b11b6db3a788e0c9dc2c555e26c021aa55ecb5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 2 15:14:17 2023 +0300

    Update to crosser-2.7

    See osdn #48552

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d20228a32f6036a00fcb1c97023b13be67068461
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 2 23:01:43 2023 +0300

    Stop units hidden by extras imposing ZoC

    Requested by bard

    See osdn #47700

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1a7d0a4e4c6f3d5d000c3f9a631e30e5443b1649
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 3 07:24:22 2023 +0300

    sdl2: Make size 16 fonts to adjust to theme font size

    See osdn #48573

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5bf88a37a8d26e1c8abc4937395f27d7ad861559
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 3 05:47:36 2023 +0300

    Fix zero-size VLA error in barycentric_sort()

    See osdn #48570

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d5c34368830a7ce8ead72822e62d13948d5f9013
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 2 20:49:14 2023 +0300

    AI: Make wants in struct cityresult adv_want

    See osdn #48370

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aa924d588a5b9dd947fc70154071bff74c18f6e8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 2 14:02:43 2023 +0300

    Unify occurrences of "neighbour" to "neighbor"

    Drop obsolete rand_neighbour() completely.

    See osdn #48549

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 75f4ee0ea85b184cfd8bbd4bfa8bbd95fa5e6ea5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 4 04:01:59 2023 +0300

    Comment typofix: "alllied" -> "allied"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d8f6a8059d73d43a9816b4575b4918775540a686
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 2 12:27:55 2023 +0300

    Fix handling of invalid player flag on savegame load

    See osdn #48563

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e164484572667aa4d0403257562fe77193e57e21
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 3 13:15:42 2023 +0300

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 64a9110b82a5d28ca0879acfa5970146c5e1f01f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Aug 30 06:21:41 2023 +0300

    AI: Use A_ARRAY_SIZE in dai_select_tech()

    A_LAST was wrongly used

    See osdn #47961

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ca4707292c1d78ae9394fecbb7f810b4f2be892c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Aug 30 07:05:49 2023 +0300

    Qt: Fix science dialog crash with a Future Tech

    Reported by alain_bkr

    See osdn #47787

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit afc158b457c282a34ff20228fae4b5089e88f2be
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Aug 30 05:35:36 2023 +0300

    server_sniff_all_input(): Use SIZE_T_PRINTF for didget value

    See osdn #48560

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b7913197137ae746e6620e7d40c1f3dd279cdf6b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 29 16:03:07 2023 +0300

    Qt6: Fix chatline UTF8 handling

    See osdn #48557

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8d5993c6cd91643e3c6bfa9b213ce98cbb82d248
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 29 16:30:24 2023 +0300

    Make path finding map agnostic

    Take map as parameter, unhardcoding old assumption of
    the main map being used.

    See osdn #48556

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b609bfa4e1c7197015b10f0c8a2611b46669b190
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 31 20:18:31 2023 +0300

    Comment typofix: "Producrion" -> "Production"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 67d34ca95ec973f2d1d6fcadf35e45e4a0ef98a3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 29 14:19:51 2023 +0300

    cityturn.c: Fix dead assignments on non-assert builds

    See osdn #48555

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2c5c44718c4593edb56179b5ea273c89dab6deb9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 27 06:57:00 2023 +0300

    Rulesets: Drop deprecated NoVeteran requirements

    Rulesets with no unit with NoVeteran flag never
    need to check against it.

    Requested by Sveinung Kvilhaugsvik

    See osdn #41796

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5deafb88d84afdab0666c413b3afff4be8cd6918
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 27 10:45:39 2023 +0300

    gtk4: Add reverse taxrates adjustment

    Make it possible to adjust taxrates to reverse direction
    by right click.

    See osdn #48547

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a9a54ae8ea009a2952b5d28026368fec161b8193
Author: rvid19 <53793291+rvid19@users.noreply.github.com>
Date:   Sat Aug 26 16:20:02 2023 +0300

    Update portuguese.ruleset

    Some updates to the Portuguese:
    - New monarchs. (Some of the most important ones.)
    - Extended legend.

    Ported to S3_1 by Marko Lindqvist

    See osdn #48528

commit 8fef7f9f1ec6577fa95eb4696c7cefd7c2012b66
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 27 06:18:48 2023 +0300

    animations_free(): Free all animations data

    Previously only the main animations list was freed,
    not individual animations.

    See osdn #48446

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9972985fae1ca278da534f667f62d1d284662629
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 29 15:36:02 2023 +0300

    Comment typofix: "regarless" -> "regardless"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9a0885eac7c5300cca562cbd2f466bb0c8eb3c95
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 27 05:42:54 2023 +0300

    README.crosser: List 'nsis' as a requirement

    See osdn #48543

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f1fee323f0d8524a099a3116d2a6fd677c98d075
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 27 06:00:01 2023 +0300

    tile_move_cost_ptrs(): Rework to avoid BAD_HEURISTIC_INIT()

    See osdn #48544

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a620a0a23458a7cde3ce0433e0c80a90ed3b85af
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 26 17:23:47 2023 +0300

    sdl2: Fix cityrep.c unused 'w' clang analyzer warning

    See osdn #48541

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3e7b46f92d62bcc00530d06384c14742ceb515f8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 26 15:39:25 2023 +0300

    locale-fr.m4: Update to serial 23

    See osdn #48540

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 34b82fc497aa015f285f337a57d13140da0369ec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 24 14:03:03 2023 +0300

    README.effects: Clarify that effect values are cumulative

    Generally rewrite the chapter about effect ruleset entry fields.

    Reported by omero

    See osdn #48374

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e4a914d6c38bc05283a0bffb8c7dda2ce7576d1d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 24 13:22:07 2023 +0300

    mkstemp.m4: Update to serial 30

    See osdn #48537

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 874f3071d522ad327f44b5b805c1297d2ca2b40d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 26 17:18:52 2023 +0300

    Comment typofix: "unkeep" -> "upkeep"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9a5eb84744d5909460cee746758e0d1c5c56c785
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 24 12:22:33 2023 +0300

    Savegame: Fix shuffled players order loading warning

    Clang analyzer warned about garbage value being used.

    See osdn #48536

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2bd3f139d7fcb3887f35717023df25495a45ddf8
Author: rvid19 <53793291+rvid19@users.noreply.github.com>
Date:   Fri Aug 4 11:43:18 2023 +0100

    Change Despotism title in portuguese.ruleset

    The Portucalense county was a county and not a viscounty.

    See osdn #48531

commit 79f25d5def7c6028b096fe654df96696a473634d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 20 15:54:54 2023 +0300

    Create unit/city/tile links for messages from supplied lua scripts

    See osdn #43389

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 348c80d35facf6ee2f577c4e8a420d353759b3b7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 20 12:40:53 2023 +0300

    Tex: Maintain player specific cities lists

    See osdn #48523

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b397620eecb988421e8d7751db81b71e0f35cdce
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 20 11:09:42 2023 +0300

    Fix compiler warning on non-readline builds

    See osdn #48454

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 380f2a28778930a3b7fd5c283db7862586d2f185
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 25 23:22:42 2023 +0300

    Replace action_get_activity() by actres_get_activity()

    As a side-effect, fixes an use of uninitialized action actor kind.

    See osdn #48443

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 011ec37884bf2cf5c3a870abff661680b7032f5e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 1 00:54:21 2023 +0300

    default.lua: Improve Partisan comments

    See osdn #48438

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d130afb40e67caed8f73378b7fc28087445f467b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 1 18:27:51 2023 +0300

    fill_terrain_sprite_array(): Fix garbage value use

    See osdn #48456

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 50202b5b86219568dee2617932ae2919062a0b4d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 23 21:36:13 2023 +0300

    Manual: Separate Buildings by a ruler

    See osdn #48440

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7236ed0c164aafe1d3cd0d264928fadbeb2f3366
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 1 11:34:14 2023 +0300

    Comment typofix: "immediatly" -> "immediately"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 43924ff4961f816f277c54734aa42f05de8e7854
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 26 10:23:26 2023 +0300

    Free encoding buffers on non-readline builds

    See osdn #48445

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3fb66da1ed097a5619e50ea7ac36a07429319f95
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 26 00:07:15 2023 +0300

    Meson: Add "-Wmissing-declarations"

    See osdn #48444

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 66dfc9fb7067e15d440e55c0360b54bf1f8ee3e1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 22 02:16:57 2023 +0300

    sdl2 tech tree: Fix crash when reqs not in order

    Help was assuming that if tech has any reqs,
    those are in first slots.

    See osdn #48436

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7ac87e2ff765f7f0861a7afa7cecb5f00548d017
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 22 00:09:34 2023 +0300

    Increase treasury by precalculated city gold surplus value

    The value was recalculated at the time of treasury adjustment.
    The calculation did not always match already performed
    correct calcuation, and there's no point in trying to maintain
    such recalculation.

    See osdn #48391

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d8e0a2c1fb8e30d31f39f6d43c4a7a9b3fee6046
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 21 19:11:32 2023 +0300

    Flatpak: Switch to autotools buildsystem

    Stop defining individual build commands for
    buildsystem: simple, by switching to buildsystem: autotools

    See osdn #48430

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f6029dfcdf5b9fdf047eebc3bd57fb21b1e5bfdf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 21 07:03:25 2023 +0300

    sdl2: Unhardcode info label font size

    Respect changes to base font size.

    See osdn #48427

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2d72c5c52ea3a0fad99bac1d8a96646a36a5506f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 19 22:33:49 2023 +0300

    bounce_unit(): Fix unit list corruption on iteration

    Transported units were bounced away from transported list,
    within normal unit list iteration.
    Turn that to a safe-iterator.

    See osdn #48392

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4ce96b05786ba7c7c4c3a9d69c288e21494a4f02
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 21 16:38:15 2023 +0300

    installer_cross: Add ruledit gui type to registry key name

    Also to default install directory name

    See osdn #48431

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b5aba4d455436f4c4b8fe9053651fa2f5f613631
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 19 21:16:55 2023 +0300

    Qt: Fix non-fatal tileset error messages on startup

    All tileset errors, both fatal and non-fatal, were
    just crashing the client on startup.

    Fixed, so that:
    - Fatal errors show an error dialog before
      client closes.
    - Non-fatal won't crash, and error dialogs
      will be shown when client runs

    See osdn #47915

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1bf0247ab8acfb9742ba868c5c8a8528596a32d9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 19 12:35:29 2023 +0300

    AI: Make _WEIGHTING values adv_want

    To make sure calculations made with them have necessary accuracy.

    See osdn #47736

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 04fc8a0b92880d345c8131e629cc6cded9044329
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 22 07:20:43 2023 +0300

    Comment typofix: "imediatly" -> "immediately"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5548ac616206cdec67f6bbde6e0f9374dafde1f8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 18 21:03:45 2023 +0300

    gtk4: Do not refresh menus after disconnecting

    See osdn #48419

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 50770d6ffff858f600678c28d86f28da9d95ce54
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 18 17:13:37 2023 +0300

    occupying move: Fix crash if unit died on autoperformers

    See osdn #48300

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 61d4209bc82e861f5657fd3f5f5065bb30bc4ccc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 21 18:05:57 2023 +0300

    Comment typofix: "airlifed" -> "airlifted"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 09272f4e9316e080ce0ddee5c8ebc06309006daa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 19 05:56:31 2023 +0300

    Meson: Require C++ compiler only when really needed

    See osdn #47471

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c149e7575613420ed3f763fed2b0a0733b412efb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 17 22:27:07 2023 +0300

    Qt: Log failures to find a font during initial setup

    See osdn #48385

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e2c221af410662a034ccc0f67ecc44f549112342
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 18 06:39:10 2023 +0300

    Make action_by_activity_iterate() to go over cached list

    No point in iterating over all the actions, and then to
    pick just one or two that match the result.

    See osdn #48411

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b9586d4dd5e031d0e26eb410fc0b8d4526294550
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 17 23:56:43 2023 +0300

    build_all_installers.sh: Improve env var quotation

    See osdn #48409

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit de7422c33e8e68c00ab13c3f246340699ec7e63e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 16 08:14:47 2023 +0300

    sdl2: Move reusable SDL_Events from ui_main() to module level

    To make sure they stay in scope.

    See osdn #48399

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 13605ee07a5e4ababecbe68c5e3ad168a4fbfca6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 17 03:51:12 2023 +0300

    goto.c: Fix clang analyzer warnings about NULL 'path' dereference

    See osdn #48406

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit daa37efd09313bf4606f9c687219e07e0efb32bd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 13 03:18:25 2023 +0300

    Replace dai_choice_rule_name() with adv_choice_rule_name()

    - Introduce adv_choice_rule_name()
    - Make adv_choice_log_info() to use adv_choice_rule_name()
    - Change dai_choice_rule_name() users to use adv_choice_rule_name()
    - Drop dai_choice_rule_name()

    See osdn #47808

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9abcdc083c114a25ff01b3a26c09c54956f70edc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 12 00:33:46 2023 +0300

    Flatpak: Move configure regeneration out from .yml

    Run autogen.sh on ./build_flatpak.sh, on host.

    See osdn #48394

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e6188a33687e6ff6bdec3eab4dbfa4fb28aebbb1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 18 07:20:39 2023 +0300

    AI: Fix threaded AI build

    See osdn #48413

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fb8d6fdf770d7dd28d719ec39dec491bffa98821
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 11 23:17:09 2023 +0300

    Make is_square_threatened() to take map as parameter

    Pass map as a parameter around in the autosettlers code.

    See osdn #48396

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 97332890a75fca6e1d727f65d6d341d60f8b6725
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 17 21:43:24 2023 +0300

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 064f34e1d4b2fde6b997b4e36d9cd4357fe23af6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 10 23:18:56 2023 +0300

    gtk4: Drop obsolete gtk3 code from menu.c

    See osdn #48383

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bfa3b3a43eb43e1ef434e5733cbaa1dba1ceb268
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 11 05:15:02 2023 +0300

    Bounce cargo when transport lost due to terrain change

    If neither transport nor cargo can remain on the changed terraain,
    and transport itself cannot even bounce, try to bounce cargo itself.

    Reported by Alexandro Ignatiev

    See osdn #46277

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6833a88eb6db227fcc9b1d2d5bb1bd7f4a70a40b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 17 06:48:41 2023 +0300

    Comment typofix: "deision" -> "decision"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dea4a368f5cbe592d7ec283f3e0998d5d7823a2a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 10 07:02:36 2023 +0300

    sdl2: Fix units report update crash with no units

    See osdn #48379

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9fde187769d26d8daad0944ffe80692b6d54e2d1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 10 01:28:37 2023 +0300

    Check that team_new() has found a free team slot

    See osdn #48290

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3331a9093cadf0f529900597f41a17016898c219
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 10 22:38:02 2023 +0300

    Meson: Drop global -Werror from debug builds

    User is expected to explicitly control werror with
    meson's -Dwerror

    See osdn #48382

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 60883251b3634e408ebf27ef1bda525f68159ce0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 10 04:45:43 2023 +0300

    Qt help_widget::uclass_max_values(): Initialize convert_time

    If whatever value was in memory is bigger than any convert_time
    to compare to, that random value was considered as
    the highest actually existing value.

    See osdn #48377

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 560d0c5f42ea8cc0ce40aa297172f2646bfff75e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 8 22:18:04 2023 +0300

    Unify "Traderoute" to "Trade Route"

    The only things not changed:
    - Ruleset format (i.e. requirement and effect names)
    - Savegame format
    - File names

    See osdn #45913

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c4cb9b408fe5eb76eac22e7454cfb1d2408a338b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 10 05:44:09 2023 +0300

    locale-fr.m4: Update to serial 22

    See osdn #48378

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0e4465a18c75faa638f96645833d985374efe827
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 8 20:56:21 2023 +0300

    gtk: Drop unused display_color_type

    See osdn #48297

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e09c5ddc78984d2b0b3dbc6173420b40678e9648
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 9 08:15:43 2023 +0300

    Correct ruleset comments about transport_cap

    It was claiming that suitable cargo types would still
    be defined by flags.

    See osdn #48182

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ca060e9423804eb426329042230e19dd45a32302
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 8 18:12:56 2023 +0300

    Refactor map_claim_base() to tolerate changes in unit list

    map_claim_base() iterates over supported units list several
    times, and assumes that same unit is at the same index each time.
    Make that more robust by storing list of unit ids locally.

    See osdn #48363

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a9d4890c59a58b80ec522451e3ee36fd8e6a2e90
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 8 18:28:22 2023 +0300

    Qt: Tell if player is observer in hud

    See osdn #48132

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0c32f68212f95fdc580ed26a720c164b1f85acf6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 12 02:16:18 2023 +0300

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5b7861ddd84e82bb682461ce5633f9587da9eccd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 8 10:07:28 2023 +0300

    Split is_my_zoc() to server and client versions

    See osdn #47794

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 71eae54000b69ce5f15901d9665a94ee6f941988
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 9 07:32:59 2023 +0300

    CI: Use new mysql-client on mac build again

    See osdn #48372

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c8b578835cd14c664cb43a67efa0f28dbbbe13e2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 8 12:26:21 2023 +0300

    Meson: Fix configure on FORTIFY_SOURCE envs

    See osdn #48362

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 09819b3587884264b943db18243ede407083ab13
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 9 02:19:13 2023 +0300

    AI: Correct contemplate_new_city() header

    It referred to long-gone ai_settler_init()
    Replaced by citymap_turn_init()

    See osdn #48368

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 58822b07a4f4c5771460fb9bbdfb8009f6b7acb2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 8 20:22:17 2023 +0300

    test_unit_can_airlift_to(): Take map as parameter

    See osdn #48365

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cb7835db837eb574ab343982898f24b1011fe37b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 11 00:17:52 2023 +0300

    Update Finnish translation of ruledit domain

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f4a2ba38c8c417365145171d89f28177d81c9cba
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 8 12:38:12 2023 +0300

    gtk3(.22): Make Battle Groups menu insensitive for observers

    See osdn #48298

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1b605fadfd4f775aea62165901d3eb4f7053fab8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 10 15:15:08 2023 +0300

    Comment typofix: "for for" -> "font for"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b966f1f80195306c6519114c9118fcc40b4f84a3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 8 05:44:58 2023 +0300

    Ruledit: Add Achievements tab

    See osdn #48134

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 290b131d36a7ce64c0564a19f3eacf1d30ca265b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 8 08:47:58 2023 +0300

    Apply lua-5.4.6 upsteam patch 1

    See osdn #48303

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 126b42f9e085eaee80b0be2a52cf08e9dc1b6540
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 2 02:13:50 2023 +0300

    sammarinese.ruleset: Correct name of "Borgo Maggiore"

    Reported by omero

    See osdn #48316

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 07ba0e4b9b5b3c37d5bea2e6be5065e0e9ca1259
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 28 00:40:46 2023 +0300

    Correct city size asserts

    Both city_size_add() and citizens_nation_add() had off-by-one
    error causing assert to fail when adding final citizen for
    maximal city size

    See osdn #48296

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c3bc268c1267b07350a9c101c2b316aa12324234
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 1 10:20:59 2023 +0300

    Respect automake silent mode when running tolua

    See osdn #47468

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4228ee2bf852e9da0964a71512a51d77743ebccc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 8 18:33:58 2023 +0300

    Comment typofix: "prevoius" -> "previous"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c44b65536d51f65b42cff3efd6ae27f7a215ae4e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 1 10:45:01 2023 +0300

    Update update_dumb_city() header

    - Correct name of refresh_dumb_city()
    - Minor style fixes

    See osdn #48315

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5b01ca21615ab4ac0301490035eadadee91409e1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 28 06:56:32 2023 +0300

    sdl2: Add commandline parameter -- --Font SIZE

    See osdn #48305

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c163a47bdf50b78da5e13e73c01fc8c381242dee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 1 04:48:04 2023 +0300

    Fix warning about player not providing shared vision to themselves

    See osdn #48311

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3fa14acc0409dff5317d829844fb1797a49dd60c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 29 07:29:22 2023 +0300

    Msys2: Refresh ChangeLog before snapshot build creation

    See osdn #44497

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b9cb7a5fd17b4a71d68a808bdecd78b9d467ddde
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 26 17:11:07 2023 +0300

    Set diplstate max_state correctly for teamed players

    See osdn #48295

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0ca7644a3664a5c4214d20853e47e45d078f287f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 26 22:51:43 2023 +0300

    installer_cross: Add "crs" as arch part for registry/install dir

    Unify installer_cross Registry Key paths and default
    installation directory with msys2 by adding "crs" as
    equivalent to the arch part of the msys2 paths.

    See osdn #47343

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 50f570c3dee292d08efe33efc92da16a25d7eaa4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 26 20:15:14 2023 +0300

    Use extra_buildings.spec|png with alio/alien

    - Hospital sprite comes directly from extra_buildings
    - For Headquerters, alternative tag is added for genetic_lab
    - Also changed alien Information Distillery to fallback
      to Research Lab sprite instead of that of Isaac Newton's College

    See osdn #48189

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2bb280223244bd158c3a2e146303f5901b3056d1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 25 14:07:45 2023 +0300

    gtk: Make it possible to offer techs even without embassy

    Tech trading was not possible unless there was an embassy,
    as the player didn't know if the other can receive offered tech.
    It should be possible to offer tech unless one is sure that
    the other cannot receive it.

    See osdn #45552

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b2cfd21065af30ef275370e6ad522225977169a0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 26 01:42:06 2023 +0300

    Make diplstate struct smaller

    Turn fields with small maximum values from int to char.

    See osdn #48293

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7cb295ee9204369451adf1761ecba2340fa0885c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 26 17:47:38 2023 +0300

    gtk4: Correct options_extra_init() header

    It was claiming function to be part of gtk3.22-client.

    See osdn #48280

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 986f07c68935ac2426d6961acda8c380d2134300
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 28 07:42:50 2023 +0300

    Meson: Give names to all compile tests

    See osdn #47851

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f5ffeebf0de24378133545a423d46094ec84fd9c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 30 15:34:09 2023 +0300

    FAQ: Update latest stable version number to 3.0.8

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 25f07e1cdfdaa7c1edda19913fd85277022dcc96
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 27 04:31:54 2023 +0300

    gtk4: Replace setup_widgets() hgrid with a GtkBox

    See osdn #43226

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9f7405680eb4cc40b81b7c5cd89e503a47d1779b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 25 01:28:11 2023 +0300

    AI: Use DAI_WANT_MILITARY_EMERGENCY in dai_choose_attacker_air()

    It was mistakenly using old magic value of 100.

    See osdn #48197

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 99f45c6b47772ee02438c94786453578b10a3328
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 29 08:08:14 2023 +0300

    Comment typofix: "elewhere" -> "elsewhere"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e95b0e3e7425ac7c3db048db262b068cf65be248
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 24 10:33:21 2023 +0300

    Amplio2: Add Operative sprite to extra_units

    Art by omero

    See osdn #48282

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2e4dfd6eb5c702a4d8ba8b660f89d6041dd06151
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 26 16:43:58 2023 +0300

    sdl2: Make size 14 fonts to adjust to theme font size

    See osdn #48271

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7b6049fab6dbf40dd75c41db3db7ef4883cadc36
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 25 12:52:12 2023 +0300

    Ruledit: Use _re_active_iterate() at tab_???::refresh()

    See osdn #48288

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 276592c3d8af490b1cd2fe1464d9adab52b481a6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 24 08:56:29 2023 +0300

    INSTALL: Update libcurl description to mention https protocol

    See osdn #48276

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b751b5e33c49c82419398bc1fbdb84bcec399741
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 23 18:52:09 2023 +0300

    create_dummy_reqtree(): Avoid redundant advance_count() calls

    See osdn #48274

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 52f6eb076c492d4a0a60f6ddcc009c172703bbc1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 24 00:13:37 2023 +0300

    Update setup-msys2 CHANGELOG.md URL

    See osdn #48278

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 28367c3d7b77b5213ac96437baca6081792ec8c8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 23 09:22:20 2023 +0300

    README.AI: Update want values documentation

    See osdn #47796

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7aa0d964baa46ff9c504a706be38f2b6e86e9266
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 23 19:43:21 2023 +0300

    Qt: Fix hud_message_box leak

    See osdn #48275

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 069439d1e19c9434045d1d8b3ae88d41ec06c8c7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 22 17:47:36 2023 +0300

    AI: Stop cancelling shared vision to team members

    There are other side effects on the fixed checks
    of team and/or alliance.

    - AI no longer tries to declare war on a team member.
      While it couldn't do that before, it suffered some
      side-effects of preparing to war.

    See osdn #48152

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aea6e0a36eae4cf6e7c9a47a54e57eaafd923980
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 23 22:28:57 2023 +0300

    Meson: Find system-lua in multiple places

    Lua doesn't have a default pkg-config (etc) and distros are fragmented.
    Look for it in any of its multitude of hiding places.

    Reported, and original patch, by Matt Jolly

    See osdn #48234

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d615c61318164a40b8583c12a4cca9ca6ea0ce5e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 20 23:46:45 2023 +0300

    Update gettext.m4 to serial 77

    Add its new dependency build-to-host.m4

    See osdn #48263

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 935555c96eadb1f01045fa691c3fd0d097bc32b3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 23 05:34:13 2023 +0300

    Replace tile_virtual_check() with tile_map_check()

    - Rename tile_virtual_check() as tile_map_check()
    - Add map -parameter for it

    It's (never was) if the tile is virtual, but only if the tile
    exist on a specific map. The old implementation hardcoded
    the check to be against the main map.

    See osdn #48269

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3b0b11b1879099d92fc4dded2cce84e53e24ba2d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 25 09:21:12 2023 +0300

    Comment typofix: "Responces" -> "Responses"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3ade29660b2a70050ad47e49f92fdcd5877d3712
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 22 06:55:17 2023 +0300

    Fix fit_nationset_to_players() clang analyzer garbage value warning

    Clang considered least_misfits[i] to potentially have
    a garbage value when it's used.

    See osdn #48265

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 91f164d7d527c9e21b1f6cdb6b6cad7262404db7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 19 18:24:50 2023 +0300

    Meson: Make failure to find SIZE_T_PRINTF fatal

    See osdn #48259

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 49a0481b9de0aa202378ea9afc5848a57b1f4c2d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 23 20:33:47 2023 +0300

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b1d32f4ff4f33d56b8133681c1319efb3c170f58
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 14 11:16:30 2023 +0300

    Make action_by_result_iterate() to go over cached list

    No point in iterating over all the actions, and then to
    pick just one or two that match the result.

    See osdn #47904

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 471e3704a6013af424011de6dfab94b15bb74101
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 15 06:17:28 2023 +0300

    Refresh locale-fr.m4 from gnulib upstream

    Serial still 21

    See osdn #48242

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3f4e623438a5a1cd15542f2a21c49806c05c0fb4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 23 09:05:16 2023 +0300

    Comment typofix: "dialogues" -> "dialogs"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 92a1d1eed351974b2605e70995f3b0f93e3f32f9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 22 21:41:52 2023 +0300

    Update Polish translation by Hubert Kowalewski.

    Pulled from https://sourceforge.net/projects/freeciv-l10n-pl/files/
    (zip timestamp 2023-06-17).

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e896007f6ce6b248fa6df8d52658888ad9e4aab6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 13 16:08:02 2023 +0300

    Qt: Clean out page_menu from fc_client.h

    See osdn #48235

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c7b687e2adf6795f3f48e641834e25462fb92332
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 13 20:05:24 2023 +0300

    Meson: Include just stub AI when server not built

    See osdn #48193

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2fcbb8a31c5c2ea98982b028eb8418dd15db5ac5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 21 07:49:53 2023 +0300

    Comment typofix: "EDIAN" -> "ENDIAN"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9f0e598a8d352382c984c2ca228de18ff4986752
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 13 07:08:57 2023 +0300

    gtk: Set font size unit correctly

    Reported by skywind3000

    See osdn #48185

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 64a284b53295cc64be7c225f7d8a4cc5ba9b7e83
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 11 09:52:19 2023 +0300

    show_unit_orders(): Check initial tile

    Loop to go through unit order steps checked target tile
    only when orders caused it to update, but not the tile
    unit starts from.

    See osdn #48139

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 86332e61e30d96233ecf9641381d05f33f385486
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 12 01:51:01 2023 +0300

    Qt: Apply changes to 'fullscreen' option changes immediately

    When 'fullscreen' option was changed via options dialog,
    it was taken to use only after a client restart.
    Add an option changed callback to Qt-client that apply
    the change immediately.

    Reported by onluntuva

    See osdn #48180

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 627e55cd046619b028f0e1450079e86569dc47ec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 11 05:38:05 2023 +0300

    Correct version numbers in sg_regr() uses to decimal

    Format "030?0?00" was being used, where the leading zero
    made compiler to consider them octals.

    See osdn #48212

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b214d165c8bd91c2ed746809069392531a618853
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 10 17:53:48 2023 +0300

    gtk4: Drop unused image_..._from_surface()

    See osdn #48213

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5755eaf0db01a647ce73f18546c1062cdcffc732
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 10 02:28:59 2023 +0300

    lib-link.m4: Refresh from gnulib upstream

    Comment-only update. Serial still 33.

    See osdn #48207

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dc35de733b3757fb069654a3f49aa7feaef3b94c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 10 04:04:15 2023 +0300

    Add macros to mark secfile entries ignored

    These macros
    (secfile_entry_ignore() and secfile_entry_ignore_by_path() )
    silence "unused entry" warnings from secfile loading.
    They wrap secfile_entry_lookup() and secfile_entry_by_path()
    calls traditionally used for the task, but names of these
    new macros should indicate more clearly why the entry lookup
    is done, and also makes it possible to search for these
    specific cases.

    Some cases in tilespec code have been converted to use
    the new macros as an example, but mostly this patch just
    provides the macros. They are not taken to use everywhere yet.

    See osdn #48208

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f3b00e52a425d1bdedd040f06cda50dbf7bd770b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 9 21:07:11 2023 +0300

    gtk: Destroy widgets in correct order in shutdown

    If editor mode was active at the time client closes,
    some widgets got destroyed too early, other parts of
    the code still relying on them.

    See osdn #45570

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fd8530a24b7d1852c8bce617fe37f8ccdae1c432
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 10 00:04:09 2023 +0300

    Editor: Set created player's infra_points to zero

    For consistency with how gold is handled.

    See osdn #48204

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c5e8bf10dbf3515c2f6fa0d54a4376d36be9d9c9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 10 19:44:34 2023 +0300

    README.effects: Tell that [Defend|Attack]_Bonus reqs have unit type resolution

    Replace also mention of hardcoded firepower '1' with correct
    game.ruleset reference.

    Reported by bard

    See osdn #47859

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 486afdefc93b857dd9eadb72e28c5b03062354b0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 9 05:06:26 2023 +0300

    sdl2: Make 'fullscreen' option change to take effect runtime

    No need to restart the client.

    See osdn #48198

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 91fd3718fee22557fb65ef2f7eaf9556562a010b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 9 03:55:20 2023 +0300

    utype_pays_mp_for_action_estimate(): Take map as parameter

    The function was hardcoded to use wld.map

    See osdn #48196

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 858c6db0c5a46196100de224578f0dee5b4f4bd5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 8 17:35:10 2023 +0300

    gtk: Make Small Font setting to take effect

    See osdn #48186

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 336881ccdc313cdd64f3e7ee55b535c993381a15
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 9 03:08:15 2023 +0300

    AI: Fix dead 'vulnerability' assignment in kill_something_with()

    See osdn #48194

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ba7921d55769138f316a5a0bf0290574d7f8cb8c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 8 04:13:47 2023 +0300

    Qt: Refactor fc_client::start_page_menu()

    - Do not allocate memory when it's not needed
    - Removed useless players iteration as we need to act on
      selected player only
    - Cleaned out some other redundant checks

    See osdn #48143

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 13abf7c6d58b08056e912e04af15180674f8d87f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 8 16:51:31 2023 +0300

    Flatpak: Update org.kde.Sdk to version 6.5

    See osdn #48188

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 68431738edf1077d617d5f6b8b81ae3891ae60b4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 8 06:08:05 2023 +0300

    Update included lua to version 5.4.6

    See osdn #47798

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ee2485fa4f45ee02ed6b4d58e909a985e031bf85
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 8 02:33:23 2023 +0300

    gtk4 theme: Fix warnings

    See osdn: #47441

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5d1563f1637604255a18278b7786df27df9994e0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 24 03:03:37 2023 +0300

    Meson: Compress scenario files installed

    Due to failure of msys2 gzip on CI system, this is currently
    not used on windows builds.

    See osdn #47826

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2cb5062c550a1f3b32b806b01942009c2d2cca06
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 9 01:27:31 2023 +0300

    Give city_create_unit() parameters nonnull attribute

    To make it easier detect if someone adds a call
    potentially with NULL.

    Reported by Lexxie

    See osdn #45893

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e1320a06a880450f3cc05653f3a4eea5edf6f3b8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 7 07:06:21 2023 +0300

    gtk: Apply changes to 'fullscreen' option changes immediately

    When 'fullscreen' option was changed via options dialog,
    it was taken to use only after a client restart.
    Add an option changed callback to gtk-clients that apply
    the change immediately.

    Reported by onluntuva

    See osdn #47531

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d0619d0faa8c3e9f6b98653e742ea7e86f84f5d8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 4 16:30:45 2023 +0300

    mapview_common.h: Drop declaration of undraw_segment()

    It doesn't exist.

    See osdn #48104

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d328a825e426352309d236ef97d0b0d18601f5bc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 8 00:16:00 2023 +0300

    civ/2: Add unit type flags documentation

    Update formatting in all rulesets

    See osdn #48027

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 46e9f2a89b17f2ce885c3fea32eb1ff158a9c1c7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 10 21:36:09 2023 +0300

    Comment typofix: "ingore" -> "ignore"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1bbfd971a7c3d66381d59f2e01c1eba406caf625
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 7 22:56:23 2023 +0300

    sdl2 theme: Fix "unused entry" warnings about CJK fonts

    See osdn #45866

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 02c824f7a7c2b97d2e65874b9c99183f08c9348a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 7 06:10:00 2023 +0300

    gnulib-common.m4: Update to serial 87

    See osdn #48077

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit af1286f1370a604f782594be97546c6e55a3956e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 10 01:54:38 2023 +0300

    Comment typofix: "intelligenze" -> "intelligence"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c73adc1d10956b54f1876c3facb5b9820a2996f8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 3 11:00:40 2023 +0300

    Improve unit_..._iterate()

    Call unit_..._array_last() just once, and not on every iteration.

    See osdn #47729

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8bb6c369178e528e35db11b208ca111124d63104
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 2 05:36:57 2023 +0300

    Qt: Avoid deprecated QLabel::pixmap(Qt::ReturnByValue)

    See osdn #48126

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 78a3073d567ff144a36e46f979c82029f695314b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 9 02:07:26 2023 +0300

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1a2f64b525faa5ed073b43e00d6703be3832346d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 4 15:50:47 2023 +0300

    Fix "inefective" typo

    See osdn #48163

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e7e05c9eb7225423ee1cff4da6284236d8fb27fc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 2 04:29:58 2023 +0300

    locale-fr.m4: Update to serial 21

    See osdn #48076

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 27af251e09772a93fac6e9d83be4abb569383b1e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 8 03:59:36 2023 +0300

    Comment typofix: "allready" -> "already"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 74132bbe986eeeb9a60ea9f3329b082e53c98cef
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 2 01:44:02 2023 +0300

    AI: Adjust max want domestic advisor might assign

    To match changed military emergency indicator value

    See osdn #47823

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c30364ab0e267c59e68c5d42504b8c6adfb1dcd6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 1 16:26:20 2023 +0300

    Client: Do not assert against bad behavior from pre-obsinv server

    Servers without "obsinv" capability are known to be buggy.
    Handle such servers best we can, assert only when connected
    to a newer server.

    See osdn #48046

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fddf83b880d668cc1c0cda2dd15df86e72ff56dd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 31 20:33:39 2023 +0300

    README.crosser: Update

    - Add missing 'on' ("run their" -> "run on their")

    See osdn #48113

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1f442e3ad437091feb836dedbbd066b6ec5edde3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 1 03:46:38 2023 +0300

    Savegame: Fix loading acceptance of zero-clause treaties

    See osdn #48127

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 18236873a5763ec5601ca16c2d1399410324f651
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 31 03:27:50 2023 +0300

    gtk4: Fix chat area autoscrolling on resize

    See osdn #48117

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 07461268c3ba92ba23d2d3a36eb44fc34a27934f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 1 04:49:52 2023 +0300

    Update server screenshot

    See osdn #48128

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b6626e297a78ff3e9e99d26d1fc2873aeafd042d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 31 17:01:09 2023 +0300

    Close save system on midgame server quit

    Closing was taking place when game finished.

    See osdn #48120

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0e257c8c527d128d6a8cf98ee752837a265caf92
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 28 13:22:29 2023 +0300

    Meson: Make it possible to disable server build

    Turn former boolean 'freeciv-web' option to
    a three-value 'server' option.

    See osdn #48098

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9eebf6540e3c0817b6f472aa603bc28ad1967f03
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 4 11:20:48 2023 +0300

    Comment typofix: "unistall" -> "uninstall"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a4e8fedf50fddcb6f2c6b8244ae304125aad56a6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 30 17:53:16 2023 +0300

    Fix typo "doesn't has"

    See osdn #48112

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 603e238ecd8fddad4c6f4bb7c81b2dbaa10f0368
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 28 19:55:39 2023 +0300

    sdl2: Make size 12 fonts to adjust to theme font size

    See osdn #48100

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit be7108b1acad5c4d6460bae9e0622a0d15190bf7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 30 02:10:16 2023 +0300

    Meson: Fix gzipped saves support

    See osdn #48101

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c4021ec7c5e6274a3cc43e765ac502b2c19b5ff6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 27 01:56:26 2023 +0300

    Purge worklist items with unreachable terrain class requirements

    Assume that terrain class requirements not fulfilled currently
    are never going to be fulfilled, so purge worklist items instead
    of postponing

    Requested by alain_bkr

    See osdn #47493

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 386813fceb2c9319b5cdc54c870081b0ecb08e68
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 28 07:08:10 2023 +0300

    gtk4: Fix editor hang when editing text labels

    See osdn #48095

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a02c345c5f3152912857eba07430722131f233d0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 29 19:26:28 2023 +0300

    lib-ld.m4: Update to serial 11

    See osdn #48078

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7af2aaf58e82bcb660e04a560e98eb129b3220d8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 28 11:46:41 2023 +0300

    AI: Make dai_unit_..._desirability() return adv_want

    See osdn #48097

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 25305c4b94026a3e2244eccf00002acbab506a80
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 27 09:45:34 2023 +0300

    gtk: Tell if player is observer in left panel

    See osdn #48045

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 458374d7bc7a1ca7414792a4a358007aa5951c95
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 28 22:51:59 2023 +0300

    experimental: Add graphic_tag for all buildings

    Hospital and Genetic Lab were missing one.

    See osdn #48086

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3975613abdba3a23126e7f18ab029e47d59254a4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 28 04:32:42 2023 +0300

    gtk4: Fix science dialog ScrolledWindow / Viewport confusion

    See osdn #47445

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9dd6ea4faf94002f633f01918bb1ee34464c744a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 27 16:32:18 2023 +0300

    extra_buildings.png: Add Hospital and Genetic Lab

    Art by omero

    See osdn #48085

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d1e2a0178190e3a7d1ba5a550d3fc42fb8f13727
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 30 15:41:14 2023 +0300

    NEWS: Refresh freeciv-3.1 section

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 666cd1e2e6c83f387e8e8ec058ddf1ac47e70984
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 30 15:33:54 2023 +0300

    NEWS-3.1: Typofixes to 3.1.0-beta2 section

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e73436ecc05f5d7c9ed668dfc933e58ad61dd41a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 27 03:52:23 2023 +0300

    Update gtk4-client screenshot

    See osdn #47621

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 728c00f3233b7c598c1e42319dd472ceebea3fd7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 30 10:45:29 2023 +0300

    Fix -Wtautological-pointer-compare in show_full_citybar()

    See osdn #48109

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 88c51ab9887bc7911487de8363920c5ee15b4234
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 27 07:00:22 2023 +0300

    Set nonnull attribute to some show_full_citybar() parameters

    See osdn #48081

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5bf1bb2d417ffbf3d14368915b92bfa73f5f1c3b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 27 00:18:20 2023 +0300

    gtk4: Fix updating current production image on citydlg

    See osdn #47439

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c123f696fd100c545ffd108dc8099a0c0df4c3c0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 26 23:16:30 2023 +0300

    Add nonnull attribute to ap_diplomat_battle() tgt_tile

    See osdn #48069

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7f170764e790ab5cfbb0a571dbc13257dcd85756
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 26 19:38:45 2023 +0300

    sdl2: Fix text surface transparent color issues

    Sometimes areas that are supposed to be transparent were
    shown filled with random color.

    See osdn #47564

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c374076001568703383caed4b59af5357b580bcd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 26 20:22:37 2023 +0300

    Update stdlib_h.m4 to serial 75

    See osdn #47890

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f35c6065df10ddcba0bb82d16f4770ed05e414c6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 24 01:07:42 2023 +0300

    Make combat.c functions to take map as parameter

    They were hardcoded to use the main map.

    See osdn #47949

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fb822706d6dbc7ccc82e12ae1e9a20e23257ef63
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 27 17:30:19 2023 +0300

    Comment typofix: "where determinated" -> "were determined"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 175b5c0875148ae7f11d5d12233a48321068e180
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 24 00:20:58 2023 +0300

    gtk4: Correct citydlg governor tab layout

    See osdn #47446

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a48af661bffe6697d5f82a499e0ceecb64e87de3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 24 00:26:53 2023 +0300

    flatpak: Add ruledit flatpak

    See osdn #47634

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 61e910a36b76bc033cb7a23ddc9430ffa8e4830c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 23 21:44:44 2023 +0300

    Refactor transfer_city() to tolerate changes in unit list

    transfer_city() iterates over supported units list several
    times, and assumes that same unit is at the same index each time.
    Make that more robust by storing list of unit ids locally.

    See osdn #47994

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ee20ae035749bb9bc6c173faf6473d6df2687288
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 27 00:58:45 2023 +0300

    Comment typofix: "considerung" -> "considering"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 66d0f46a5e12ed209135feb1634d312c67136d79
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 23 20:46:30 2023 +0300

    Avoid just the prefix "?vertag:" getting collected for translation

    See osdn #48056

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a831836d02c09a698ff69dd4f089bae238ff986c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 24 05:33:34 2023 +0300

    Comment typofix: "Memmory" -> "Memory"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 44105891dcd6e5f23dcd5b9a54f3a95535c3037e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 23 22:23:23 2023 +0300

    Comment typofix: "dialg" -> "dialog"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cc249753d67df234276f631d477023ccb703e866
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 23 19:28:26 2023 +0300

    NEWS: Fix a typo in 3.1.0 section

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bcb9485fadbb37b970853782bf4a5b37d1e17ef3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 23 17:52:26 2023 +0300

    Mark as development code

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 90a032892fba885c16a4e9b9cfbadfd0a88cf526
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 23 17:29:10 2023 +0300

    ChangeLog: Refresh for 3.1.0-beta2 release

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f40a2c7d6bf5ca116013090b977765f48c85cbd5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 23 17:28:27 2023 +0300

    Set version number to 3.1.0-beta2

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3bd9477560dba53e73344cbc91331bc6cd432499
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 23 16:36:45 2023 +0300

    'make update-po' before 3.1.0-beta2 release

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f483538081aace0a1b7ce3360c6437e2921ae22a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 23 16:32:22 2023 +0300

    NEWS-3.1: Update 3.1.0-beta2 section

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4366bf7ee46bc7884cb4bb16ba3b39321aab402d
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Tue May 23 15:42:58 2023 +0500

    Update for Russian translation.

commit 62ae40a90fb4714ab7b886e8b8eda363b14db7e5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 21 09:13:00 2023 +0300

    NEWS-3.1: Add 3.1.0-beta2 section

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e6d2d057fc50f8a83887653ac749c34ca1f26800
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 20 07:51:17 2023 +0300

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 00fd16de7fd5baaa6b03111a71d285db3c76c40c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 13 23:15:43 2023 +0300

    installer_cross: Rearrange Registry keys hierarchy

    Move also Freeciv-ruledit keys under Freeciv/

    Key paths now:
    Freeciv/<version>/<arch>/<app>
    where <app> either "client-<gui>" or "ruledit"

    See osdn #48040

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 23929fa88981a2dfc48fe96aa61e698251f172e0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 12 05:00:51 2023 +0300

    Fix init_new_game() state.startpos leak

    See osdn #46191

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3a74fcd737a4d4c826a3b2e3c560e1a5e9b7a0d7
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Fri May 19 00:15:42 2023 +0200

    Updated French translations

commit 1fd59dd4cc30ed1fc7b558d629d73172f44f7e44
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 12 22:53:43 2023 +0300

    sdl2: Fix changing font size to the default one

    See osdn #48037

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2f57619b7126a5b5882cf3a4580e6a4975f2270d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 12 06:03:17 2023 +0300

    configure: Correct warning message about lack of va_copy()

    See osdn #48026

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c8e8b8e70d18705fdb300bd7da4f75479c17e688
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 12 20:48:42 2023 +0300

    Delay city size change when restoring protected unit upkeep

    Actually updating the city while calculating what needs to
    be done caused the data to get inconsistent. Some of the
    used values were from the city before it had shrunk, and others
    (reduced production) from the smaller city.

    See osdn #48023

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2c6734413d452d30e22cb87017bb3daaa2061a2d
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Tue May 16 13:49:31 2023 +0500

    Update for Russian translation.

commit 2d83ba020743208a5ed6cd445549c593926525bc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 30 00:45:38 2023 +0300

    alio.tilespec: Fix msgmerge warning

    See osdn #47965

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 346feb17ee62b145c160e8faeb530b51fb9f7df8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 12 16:53:47 2023 +0300

    gtk4: Make cursor to change over chat area links

    See osdn #48031

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 41eb4cfd5dbea8087ccc47e443169de84fa3b3f7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 10 06:37:05 2023 +0300

    Keep observers in sync with city investigation

    See osdn #46186

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cbce54ea7cc4c075d411cde392e15e1083edc25c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 11 08:07:23 2023 +0300

    README.fcdb: Fix typo "use" -> "user"

    See osdn #48015

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 58c2af1b719bd40036b47b3f899d808e5c2b7b87
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 12 03:57:22 2023 +0300

    sdl2: Refactor 'id' handling in widget_pressed_action()

    See osdn #48025

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 70206303abc558e19193fe985c78fb49d551381d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 9 22:05:06 2023 +0300

    Savegame: Correct loading governor settings

    - Factor was never read
    - Padding added to tables was giving "unused entry" warnings

    See osdn #48002

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ea3427e463e6176a262595aa0b2aa755f231a51a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 13 11:10:13 2023 +0300

    Update Finnish translation of ruledit domain

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 218be18174158ce01e76f2db0d4e3fcf0c220103
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 10 05:00:10 2023 +0300

    gtk4: Use GtkControllerFocus instead of "focus" signal

    Signal does not exist in gtk4

    See osdn #47442

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 521de2c66181e5d57a6201882ee65c3905bb94d8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 12 17:31:14 2023 +0300

    CI: Install mysql-client version 5.7 for os_x job

    Current version has issues
    ( https://github.com/Homebrew/homebrew-core/issues/130258 )

    Also adjust openssl paths as older version (1.1) of that
    is the dependency for the 5.7 mysql-client

    See osdn #48016

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6f6498739d57eace151fd5882b8ec63472cfd71a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 9 21:45:28 2023 +0300

    Autotools: Add year 2038 support

    See osdn #47710

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d62517d5fdb10a56c1550aadaba453d522158bcd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 9 18:59:51 2023 +0300

    Autoworkers: Fix assert failure because of recursive displacement

    Reported by alain_bkr

    See osdn #47992

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bee483ea282d7fc4f650fc54b8e7f92e4cd7cfde
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 8 22:10:43 2023 +0300

    Qt: Fix fc_client::start_page_menu() clang analyzer warnings

    See osdn #47995

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 65fd3f63c0812c8b58f1cfab186963f6d6356fa5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 11 21:49:02 2023 +0300

    FAQ: Correct instructions for overhead rectangular topology

    Example setting had 'hex' mode in it.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9f8f9461348a2c1091d4e744e0ff234b13bc852b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 11 21:32:36 2023 +0300

    FAQ: Refresh from wiki

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dcca1022c989fb0b24ed2c8298a6556841417b26
Author: Alain BKR <alain.baeckeroot@laposte.net>
Date:   Fri May 5 09:05:19 2023 +0200

    Fix out of bounds on cargo iter

    See osdn #47982

commit a0a8a28605cbb58990aa59811a9fa303240e28dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 8 01:06:24 2023 +0300

    generate_specenum.py: Correct 'fc_strcasecmp' in a comment

    Outdated function name 'mystrcasecmp' was used.

    See osdn #47909

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 66363de04a8cd1d1a97d3fdfc9604eb511e8f82e
Author: Alain BKR <31039036+alain-bkr@users.noreply.github.com>
Date:   Sat May 6 17:14:22 2023 +0200

    nation.c: Fix applying zero offset to null pointer

    See osdn #47660

commit 5f042c573cd005692f4b50b272cd23cb2caa1d4e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 7 12:20:52 2023 +0300

    gtk3.22: Support setting persistent rally points

    See osdn #47954

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fd243ab065b18f0b5434fde9385d93f29a7def41
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 9 21:58:54 2023 +0300

    Comment typofix: "desribes" -> "describes"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 97ff18c5988418c57b1056aa975f55ed7ede9198
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 7 09:51:03 2023 +0300

    ChangeLogs: Remove trailing spaces

    See osdn #47985

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2586e1f5d5878e8e4f938c7116b1d8339891bf4c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 7 17:02:01 2023 +0300

    AI: Fix dai_select_tech() clang analyzer garbage value warning

    See osdn #47959

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 506b0782b7d0687e91f3f8db356dce7220fcc52c
Author: Alain BKR <alain.baeckeroot@laposte.net>
Date:   Mon May 1 14:49:11 2023 +0200

    Relax ADV_WANTS_EQ

    Relative comparison

    See osdn #47973

commit e0d4458c4913330577ecbd31a7d06393f43a589e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 8 19:48:39 2023 +0300

    Comment typofix: "transfering" -> "transferring"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 456aef73f044b342160faec776167a61a99008a5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 2 03:10:38 2023 +0300

    Add fc_gitrev_gen.h to distclean targets

    Reported by alain_bkr

    See osdn #47976

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 924a55b5d96ab1e408d26d6790b9d17ada163492
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 29 05:15:19 2023 +0300

    Ruledit: Make stats refreshing available on non-experimental build

    See osdn #47950

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 26e1d3ee329d2fa84c707a6010991f8ba3c05cf2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 8 01:23:37 2023 +0300

    gtk3: Fix canvas.c build

    See osdn #47991

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 33e36042f783df2b68b4fa5b1190b75bd19ff407
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 29 09:19:03 2023 +0300

    gtk4: Implement selection rectangle drawing

    See osdn #47814

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f40c4d9dc159ac3d7f9875f5d0b3a005a52b3e63
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 1 13:20:48 2023 +0300

    Msys2: Rearrange Registry keys hierarchy

    Move also Freeciv-ruledit keys under Freeciv/

    Key paths now:
    Freeciv/<version>/<arch>/<app>
    where <app> either "client-<gui>" or "ruledit"

    See osdn #47972

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f4c532e89adb02f52cff5ed62c3a8ba5e8990808
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 29 04:19:36 2023 +0300

    Client: Tell if there's no version information in metaserver reply

    Previously client silently ignored the case where metaserver
    had no version information matching client's followtag.

    See osdn #47943

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 67ca7fd047237533fdd21bce095efe8c9bcf2a61
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 28 16:45:46 2023 +0300

    gtk4: Support setting persistent rally points

    See osdn #47936

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a37fd14dd558df8f0d5b68167cfb4187fab766da
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 27 22:15:20 2023 +0300

    Fix client crash on evaluating Traderoute range requirements

    Some bad evaluations of such requirements get corrected
    in the process, affecting also server side.

    Reported by bard

    See osdn #47653

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a039d81d397417ced1dfc25c81f6fa01144e185d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 24 22:11:13 2023 +0300

    Qt: Fix popup_upgrade_dialog() hud_message_box leak

    See osdn #47930

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 19de4b214699525f61d1403be866194a580d4ea1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 24 21:46:45 2023 +0300

    Rearrange sg_failure_ret[_val]()

    To make it clear to compiler/analyzer that sg_success is FALSE
    after this, and not potentially restored to TRUE by
    the logging call.

    See osdn #45822

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fe34afe128687b711135cf0194eaad82adee473e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 24 02:08:41 2023 +0300

    sdl2: Fix dead 'i' assignments in popup_races_dialog()

    See osdn #47926

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dcbc42a6c2fec5b640090b79c3a088ba3f45f296
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 25 03:14:05 2023 +0300

    refresh_changelog.sh: Trim trailing spaces

    See osdn #47932

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4ef4c605af4f0ff7433842d31221b58229632cf0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 23 23:30:08 2023 +0300

    Editor: Call tile_change_side_effects() after tile changes

    Reported by ihnatus

    See osdn #46424

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d997d8ebf86ef5d990bec208b2e6c2e19afa4da7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 23 19:47:42 2023 +0300

    gtk4: Add Select by governor cityreport submenu

    See osdn #47922

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9c68c08432c2f624f210592777c77ad67b68e9f0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 23 21:29:24 2023 +0300

    Make astr_vadd_at() thread safe

    See osdn #45906

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3730492746d5d3d247522700031e8a27e87f595c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 24 00:03:34 2023 +0300

    installer_cross: Use 64bit side of the Registry

    See osdn #47724

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 32d35f80a1e4dff0041bac682f331ceceb1f7a2c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 27 04:46:12 2023 +0300

    CI: Use macos-13 runner for macOS build

    See osdn #46440

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5c2966a74cff3baf14b602f23fc5733c2c90a40a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 29 06:27:00 2023 +0300

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b85df2f67f542147c991217318ee2296484724f4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 23 04:20:38 2023 +0300

    civ/2: Stop Great Wall from preventing Fortify bonus outside cities

    Great Wall affects cities only.

    Reported by ihnatus

    See osdn #47907

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1b6be33d4c1dba9192ff4d7f29fccc2a2e704e1d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 23 03:32:46 2023 +0300

    calc_activity(): Tolerate inconsistent unit act / tgt

    Qt-client was crashing when it had inconsistent state in
    the middle of updates coming from the server.

    Reported by bard

    See osdn #47882

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7b1a8a0babca460b350bec897ec84b44c7673758
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 23 15:28:11 2023 +0300

    Flatpak: Do not include ruledit to Qt-client flatpak

    See osdn #47910

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b5b17585f22e8948aa47c8773caf4f81c5a09dc4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 26 01:30:27 2023 +0300

    CI: Install postgreqsl to os-x

    See osdn #47939

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 504b4e63fed652a7e7462c73e960311da93da002
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 25 19:49:12 2023 +0300

    Fix overzealous 'pcity->surplus[O_SHIELD] >= 0' assert

    The surplus can be negative as long as there's enough
    shields left from the previous turn to pay.

    See osdn #47938

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit af1b25bca968785545fa2e32893b791ad7dcd8a2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 23 03:06:31 2023 +0300

    Ruledit: Add effects count to stats

    See osdn #47906

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 582012282e9875ffd68d80b647f431fd494067ca
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 27 19:32:05 2023 +0300

    Comment typofix: "frees" -> "free"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c47b4773c53b91bd56781aff5a8c30b76f4c0f67
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 23 02:15:31 2023 +0300

    gtk4: Correct size of images on property editor

    See osdn #47834

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5a099fdba2ced359baa7fe1e0fbab42db0c28ed2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 22 14:30:17 2023 +0300

    AI: Correct equality tests between float adv_want values

    See osdn #47901

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2970ff61c5a8fedaf298cbedcce30aba09d1cca1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 24 19:36:28 2023 +0300

    CI: Use 'checkout' version 3.5.2

    See osdn #47929

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 195c6e6ce2818e6cb0195406f5638c486e7e5180
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 26 20:46:59 2023 +0300

    Comment typofix: "neccesarily" -> "necessarily"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit df8b98ba7b247dcf59d9003f4e32700564486212
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 22 15:30:39 2023 +0300

    gtk4: Refresh view menu sensitivity for dependent changes

    See osdn #47314

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit af94b85a7baa7013b7834bad9874e8048ca6271b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 22 22:28:24 2023 +0300

    Meson: Stop using deprecated get_cross_property()

    Use get_external_property() instead.
    This has also the benefit of adding support for
    default values. One no longer need to give all
    freeciv's properties, including ones completely unrelated
    to the build in progress, in custon cross files.

    See osdn #44913

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f9729eb0d23d14a207329fcbf1aaaf5541c063d2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 22 13:36:29 2023 +0300

    Fix cargo_iter_next() out-of-bounds read

    If cargo_iter_next() was called when iterator had already
    reached the topmost transport in the end, it tried to look
    for upper level transport.

    Reported by alain_bkr

    See osdn #47900

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2c418ed73072b6f53a39716d71c7b119ca0dd5f3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 22 16:25:46 2023 +0300

    Savegame: Silence "unused entry" warnings about gamestart values

    See osdn #47670

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f81c359cf9d8efaa49369c72d72b3094b03c0a20
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 22 05:11:08 2023 +0300

    homebrew-appbundle.sh: Make libfreeciv static

    This hopefully resolves freeciv loading problems on mac,
    caused by the dynamic library not being where some kind
    of installations expect it to be.

    Reporte by dmitrii

    See osdn #47640

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 91aead554b1a07fb6dfc9861226a5322918d9851
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 21 20:51:30 2023 +0300

    Give tile_to_canvas_pos() parameters nonnull attribute

    Some other minor adjustments
    (constifying parameters, comment cleanup)

    See osdn #47894

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 80c999528640f4da00a31223ce85ad17e6fb956f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 25 00:33:14 2023 +0300

    Comment typofix: "beetween"/"beetwen" -> "between"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e6c5253972b2e4978597be6a82aa53b8d5a3dd1d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 21 21:13:25 2023 +0300

    gtk: Show extra icon in help browser

    See osdn #47624

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 129d040d9751954ec247c27e2221124d6a91c11b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 21 16:57:23 2023 +0300

    Fix server_option_next_valid() before server has sent settings

    It was referring to NULL server_settings

    Reported by alain_bkr

    See osdn #47663

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eb10e7bdb8dc56100fa54fd983a2bb7629fbc9ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 21 19:04:43 2023 +0300

    sdl2: Fix dead 'buf' assignments in diplodlg.c

    See osdn #47891

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 959a53cfd50dbc57abcfd7b77e68bac06c32d222
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 21 20:07:33 2023 +0300

    Improve adv_choice debugging tools

    Add following functions and macros to help in logging
    advisor/AI choice related information:
    - adv_choice_log_int()
    - ADV_CHOICE_LOG()
    - adv_choice_mark()

    See osdn #47821

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0ee1c3d0278cd0dcd2bd09dbc02b5139447195ff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 21 17:23:51 2023 +0300

    gtk4: Add Select by available items cityreport menu entries

    See osdn #47889

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 50afb47165a9bc51310e7008be843223f680da65
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 21 17:42:45 2023 +0300

    Update gnulib-common to serial 85 from gnulib upstream

    See osdn #47855

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 348ba4c4b713e9c38e2287a5afc8c0ac91d0fdec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 21 07:42:04 2023 +0300

    Cimpletoon: Add alt tags for extra units for alien ruleset

    Set second tag for several cimpletoon extra units, inherited also
    by alio tileset, matching primary tags in alien ruleset.

    See osdn #47853

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cbf52f3de9eaaced12133d21653a280718ec391b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 13 16:38:22 2023 +0300

    Qt: Properly convert client common sort result to Qt sort result

    Reported by bard

    See osdn #47856

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 73e43fff07cbfdc0cad57c17275fe490d82b2530
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 10 15:41:55 2023 +0300

    Set followtag for macos builds

    See osdn #47604

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d010fa955f6af2cd9a9f1c48e22b2673abfa2e4e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 14 02:45:18 2023 +0300

    AI: Be prepared for building providing multiple requirements for effect

    adjust_improvement_wants_by_effects() assumed that building
    under consideration would provide exactly one of the requirements
    for the effect it was checking.

    This minor code rework also gets rid of one clang analyzer warning,
    as clang wasn't able to rule out the possibility of building
    providing none of the requirements.

    See osdn #47831

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 051b35ceda15434897b874304b04ada1e1bae594
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 13 05:05:01 2023 +0300

    sdl2: Fix dead 'buf' assignment in popup_hurry_production_dialog()

    Rearrange code a bit while touching the function.

    See osdn #47850

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3f287ae842124e51ed38957963051e9e8f23b271
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 15 05:44:26 2023 +0300

    Update stdlib_h.m4 to serial 73

    locale-fr.m4 added as dependency of the new version.

    See osdn #47769

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9c56312421e7a0da982b3f9985a4ac3b52868de7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 12 00:13:08 2023 +0300

    Add unit_class cache of hiding extras

    See osdn #47838

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ca892f511073fe8ffdf11ef7e8d534dd0f1ffa1e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 13 03:25:51 2023 +0300

    Rulesets: Make more of failing diplomatic actions to give casus belli

    These actions were already giving casus belli when they succeeded.

    alien: "Bribe Unit" and "Incite City"
    civ2civ3 and sandbox: "Bribe Unit", "Spy Attack", and "Incite City"

    See osdn #46239

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2e1fefe92b590cab12acb94df5734de4b090578e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 13 04:00:47 2023 +0300

    gtk4: Add "Reload Tileset" menu entry

    See osdn #47849

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4f1301e5420380938d4f318654da489dee018749
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 9 11:51:39 2023 +0300

    freeciv-manual: Improve terrains page layout

    See osdn #47819

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 37e2813ed444c2c9ae9e65f3a8d07be52ebfde00
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 12 17:48:55 2023 +0300

    gtk4: Fix help browser widget size allocations

    See osdn #47443

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b179107e1b87dddaf7efdea247ba571aed859140
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 12 23:17:56 2023 +0300

    Update to crosser-2.6

    See osdn #47665

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f534a58cd31a5e1056e2ad17ca0423b605767bde
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 9 20:23:46 2023 +0300

    Building Advisor: Handle wants as adv_want

    Reported by bard

    See osdn #47776

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 221b47e8474db5415215824b90ad0a6e9f429939
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 10 17:03:59 2023 +0300

    gtk4: Add Select by present items cityreport menu entries

    See osdn #47833

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 68cc7b85e2dab262bbd8db700ed3515d420b7c26
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 10 22:15:47 2023 +0300

    README.AI: Update DIPLOMACY chapter

    - Correct claim that all AI levels propose cease-fire
      on first contact
    - Strip trailing spaces
    - Remove duplicate spaces
    - Fix a typo

    See osdn #47840

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cb0878ab411a8065f6c3c3002bdfa0a8a6c73695
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 9 20:44:07 2023 +0300

    flatpak .yml: Move finish-args before modules

    Requested by hfiguiere

    See osdn #47760

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3b5f6da19412af0db362c0955372b0bc57c75ed0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 9 10:45:04 2023 +0300

    Ruledit: Add extra editing dialog

    See osdn #47818

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ed38c589268d5ee19dd3788acdf973903c89f019
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 8 21:50:30 2023 +0300

    Zoom: Add support for gui-specific zoom steps

    See osdn #47813

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1b4f6728a9d8de50ae66bb0de91293cbcde9d78b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 15 08:05:22 2023 +0300

    Comment typofix: "onece" -> "once"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e493f827dc892f812cc3483040e97e15e606ad99
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 8 16:47:06 2023 +0300

    AI: Make cost values in dai_log_path() unsigned

    Overflow reported by alain_bkr

    See osdn #47746

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 22efaff756bf180fe7a97389ef6829436bb2aeb6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 13 00:19:51 2021 +0300

    Log game ending reason

    Show game ending reason (victory type) also in server console,
    so that one running server-only autogame get to know it.

    See osdn #42618

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a8900960e30f3154fe98debc91224ee981f27cd9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 9 21:08:55 2023 +0300

    gtk: Show nation flag in help browser

    See osdn #47824

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 46d4327920e99be966da1e16066065268aec43bc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 8 19:34:53 2023 +0300

    sdl2: Fix dead popup_tech_info() 'area' assignments

    See osdn #47811

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4ca0e9faf06cec8f259a362f835668f897bd921c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 10 06:20:35 2023 +0300

    Autotools: Add large files support

    See osdn #47830

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 818c8bfb6311219b2eac52ec6b67f322d63fd79f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 8 15:28:22 2023 +0300

    Notify looting player what they get

    See osdn #45152

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 01a5c7e47995b3105b8010365fe162539db2f4a9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 8 14:02:58 2023 +0300

    Alio: Include extra units from cimpletoon

    See osdn #47741

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 45465a988da40b9f4cce16c6515e8e3c499e0349
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 8 00:20:17 2023 +0300

    generate_specenum.py: Always close opened file

    See osdn #47797

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a83aa83cd8d9a8750ddb0aa8bd8a54e7cd8e7ae1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 7 22:19:22 2023 +0300

    Stop transported units from causing ZoC

    Reported by bard

    See osdn #47656

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 017175a7194f5b8987ebf794b7d431295598e1ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 7 10:35:18 2023 +0300

    gtk4: Add "Toggle Fog of War" edit menu entry

    See osdn #47783

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 21e31790523ef387569d3a1f9198db2fec5f64e1
Author: Alain BKR <alain.baeckeroot@laposte.net>
Date:   Sun Apr 9 19:56:04 2023 +0200

    Mapgenerator: Check if lake exist before regenerate

    See osdn #47825

commit 578d93fc0f2651fa61cc3ec51732315b925ae202
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 7 18:49:21 2023 +0300

    Fix clipping in update_map_canvas()

    On gtk-clients bad clipping eventually showed up as
    a warning from pixman.

    Reported by jdlh

    See osdn #42262

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cb03d0e23ea52b54e362e604f874b4e45ca5110e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 7 19:57:09 2023 +0300

    Savegame: Do not save invalid gamestart values

    See osdn #47793

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d5a35c6b7d2ae652fe6d90d6bf33254e2e5b7bd0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 8 00:02:35 2023 +0300

    Document ADV_CHOICE_TRACK usage

    Reported by bard

    See osdn #47785

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a837d3295b8defaa55d529e0015e106696217d8c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 7 08:53:12 2023 +0300

    gtk4: Add Select Coastal/Same City to cityreport

    See osdn #47781

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 096a55ee7d04a571d4334ef7da93b465e40c1ebf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 5 06:43:35 2023 +0300

    Fix dead assignment of 'pcity' from unit_move()

    See osdn #47765

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 94157b5493bf45054f1d85b3ea88bf8ce70b3d18
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Sat Apr 8 10:33:05 2023 +0300

    Add utility function get_effect_expected_value()

    See osdn #47671

commit b036f7f5c89d2eaba8562cfa647a785724b8b46e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 8 10:19:28 2023 +0300

    CI: Set custom followtag to mac builds

    See osdn #47767

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 597f8b47722a7f6ea39310adda22744fa94d0b2c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 3 19:13:06 2023 +0300

    sdl2: Use theme provided default font size

    It was previously completely unused.

    - Turn every place that formerly used font size 10
      to use theme provided size instead
    - Change font size in the human theme to 10

    Net effect is that nothing changes for users who
    are just using the provided theme, but it's now
    possible to change font size on that theme so that
    it does have an effect.

    The chaneg is done by introducing a new font_origin
    concept to use. Initially there's just one possible value
    FONTO_DEFAULT, but this can be extended in the future
    to support adjusting also also those font sizes
    not touched by this patch (anything that was not
    size 10)

    Lack of font size control reported by tigertoes

    See osdn #47703

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 15c79a11c108ad41f5b577d704f7615dfd51b474
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 6 06:22:39 2023 +0300

    Respect automake silent mode in scenario file gzipping

    See osdn #47761

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3830e50c016a24fbf2547a428b990e21096518a4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 1 14:57:06 2023 +0300

    AI: Fix check if new building enables/disables actions

    Check if an action is possible now, and the check if
    action will be possible with a new building, were
    not equivalent, causing their results to differ when
    they should have not.

    Changes made to the with-building check:
    - Stop passing the improvement to be built as parameter
      to every requirement check. The requirement is likely
      about some other building
    - Stop making also real check for any requirements
      that the building in question is present

    Originally reported by alain_bkr

    See osdn #42169

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1f8cdd469cae2d5b9d7386038ae4fcd65a6f4ed1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 6 05:19:12 2023 +0300

    gtk4: Make edit mode indicator to show correct value

    See osdn #47597

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a1216b0c7c78001526849ea187c8f9d364cbf041
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 2 00:09:05 2023 +0300

    Update stdlib_h.m4 to serial 72

    See osdn #47725

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bca028d4f9bc473e3d5137a149578d421db0b889
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 1 17:57:25 2023 +0300

    civ2civ3/sandbox: Make Barracks to affect Small Land units

    Now Barracks and Sun Tzu affect all military land units.

    Requested by chippo

    Designed by bard

    See osdn #47636

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fe1d499e7100632b41e856ed1af7886791262a33
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 1 21:03:37 2023 +0300

    castile.svg: Update to current inkscape format

    See osdn #47742

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 283d28759f21edb7ff158ab7e876bec807ac1a48
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 1 06:05:24 2023 +0300

    sdl2: Adjust theme font size relative to other elements

    See osdn #47681

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c76e3dd561779fe3682dfbb63fb9fad5561581d1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 8 00:14:57 2023 +0300

    FAQ: Update latest stable version number to 3.0.7

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8cd1587815dd86f205e8c5cf84d1a6c1e121bee3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 1 09:50:08 2023 +0300

    Path Finding: Make MC and EC unsigned everywhere

    See osdn #47731

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d7b47462748ff2e3c0d909d1aa501d07865b7542
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 1 21:33:43 2023 +0300

    gtk4: Add Transport Unloading menu entry

    See osdn #47743

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7b424cca885ec7ac418e11cbec283d6971696a8a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 5 16:22:48 2023 +0300

    Flatpak: Update gnome platform to version 44

    See osdn #47770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7bc2065d64e1c5f46b32f6a8807bdcf620dd2da6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 4 16:05:44 2023 +0300

    Fix Out of Bounds write to bv_techs bitvector

    There was no space reserved for A_FUTURE

    See osdn #47762

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 12ed12777b418a6cf726ce83b2535227491e1aa7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 1 11:10:55 2023 +0300

    gtk4: Add Select by Production cityreport menu entries

    See osdn #47732

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 26bf8e8c5702ea01c2c6e3a28be7d9350e9d82aa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 3 07:17:35 2023 +0300

    Never accept 'veteran_raise_chance' from 3.1 ruleset

    Even if loading ruleset in a compatibility mode,
    refuse 'veteran_raise_chance' when the ruleset loaded
    isn't 3.0 one to provide compatibility with.

    Also fixes clang analyzer warning.

    See osdn #47751

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e60a3752eeef20eda8fa610b13864d034bf0945d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 26 12:24:12 2023 +0300

    AI: Make kill_desire() to handle want as adv_want

    That's what callers are expecting, and it both
    - Adds sub-integer accuracy with low values
    - Avoids overflows with high values

    Overflows reported by mortmann
    Debugging and testing by alain_bkr

    See osdn #46286

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ef957870ac76a4881537aac2e22597b19ee6ed2c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 31 19:11:14 2023 +0300

    gtk4: Add key press handling for governor presets

    See osdn #47447

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b810f5916fd3e23e400bd096a1b1bb06f457348d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 1 15:20:25 2023 +0300

    Msys2: Fix clang64 build

    See osdn #47371

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6474ea23b733425c8b519308f6de73554e7ee517
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 1 05:28:40 2023 +0300

    gtk research dialog: Set Future Tech to menu immediately

    When last regular tech got researched, the old code listed only
    current research, which at that point was "None" in the
    research target menus. Make it Future Tech instead.

    See osdn #45434

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e7ceec65974e1702d2dc52c41327ea6425ca044e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 31 05:21:17 2023 +0300

    doc/README: Replace "DEBUG" with "FREECIV_DEBUG"

    See osdn #47720

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5f92bc0813ab2acdb7cef56f4071d202fefe0f92
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 28 01:31:04 2023 +0300

    gtk4: Set image sizes correctly on target selection dialogs

    See osdn #47438

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b9349f84987d4f642a2398fc9e61b745452a6408
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 31 06:22:01 2023 +0300

    installer_cross uninstaller: Delete Registry Values

    We only tried to delete Registry Keys on the condition that
    they are empty. They never were as we had removed the values.

    See osdn #47713

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d6e71b2c53857b19ec9f7eb3a0f726113488cf44
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 1 04:50:45 2023 +0300

    generate_specenum.py: Drop unused 'import os'

    See osdn #47460

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bd9dbd41d244f3e78aefb849545586e6d358c915
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 1 08:09:14 2023 +0300

    AI / assess_danger(): Iterate over existing unit types only

    An iteration in assess_danger() was going over unit types
    up to U_LAST.
    This was also triggering clang analyzer warning as for
    the non-existent unit types uninitialized data was used.

    See osdn #47608

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e7526caeec632b533ba62390d9afe072a1f08dd5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 26 02:46:52 2023 +0200

    Qt: Fix C++20 build

    Do not try to convert from char8_t pointer to char pointer.

    See osdn #47596

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3763e76d76a6897f19ec1172a9ad795120ae5a2c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 27 16:57:21 2023 +0300

    Metainfo: Fix syntax of the generated metainfo

    - Do not pass NEWS URL as the DATE when latter is missing
    - Correct syntax when DATE given, but no NEWS URL

    See osdn #47706

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0290eafda15c1bf47d9a5675d1e5aae04b97f64b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 26 14:25:04 2023 +0300

    README.crosser: Tell about crosser docker image

    See osdn #47698

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7e3e237138e2248a52c69f012fdf8dc99887a481
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 2 07:54:55 2023 +0300

    Comment typofix: "allock" -> "alloc"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit af78f0f0d8eae2ca19cf502744147e43d8d22295
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 21 18:36:58 2023 +0200

    lua_command(): Use fc_stat() instead of opening the file

    Fixes file descriptor leak in the process

    See osdn #47609

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit af522b03a860edc53aa93680de0cb4489db6d629
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 25 10:49:10 2023 +0200

    gtk4: Add "Unsentry All On Tile" menu entry

    See osdn #47688

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d6ba6981d84479733ad5cf12b41074fc5438b698
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 23 22:30:04 2023 +0200

    Msys2 autotools: Add initial clang32 support

    See osdn #47370

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3c886c10b59f1f5c841bf5e892e80b831a6acd9e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 1 17:00:28 2023 +0300

    Comment typofix: "occurrs" -> "occurs"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 04a27031598e86b70a52277dcb36680e283c0912
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 25 05:34:08 2023 +0200

    Improve handling of fc_rand(1)

    Clean separation of the special case might improve
    typical calls too, unless compilers have been able
    to optimize those quirks away anyway.

    See osdn #45917

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 947d78fd1358722fce6266222d8177b4ed80c282
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 1 05:02:23 2023 +0300

    Fix typo in Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d427ae282bd6babe8601fb9a512c8253860f2326
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 25 04:04:07 2023 +0200

    sdl2: Improve __FillRect...() functions coding style

    See osdn #47678

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8524880a3031248ec9bc69b91ec68a7663df7767
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 23 02:17:19 2023 +0200

    mysql.m4: Set up file header from upstream sources

    - Update freeciv related note to document correct upstream location
    - Include the upstream header

    See osdn #45725

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d74ef3d2eca59e11c86f9e526d5589a4120f7974
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 26 02:00:07 2023 +0200

    helpdata.txt: List ddeanbrown at maintainers

    Use "_at_" at his email, and change all the previously
    existing email addresses to follow that practice.

    See osdn #47606

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6a2376639bd656333a3575deba8028caff77609a
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Fri Mar 31 10:15:49 2023 +0500

    Update for Russian translation.

commit c34f7933be851855ea74c676134b3a40ebc592ac
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 23 03:34:26 2023 +0200

    Make extra's unit hiding ability to depend unit, not extra owner

    Unit is visible within hiding extra if its owner is allied with
    the player watching it.

    See osdn #47655

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 13a33d3a69c11304d3611868c2d6c18174b33354
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 31 03:51:23 2023 +0300

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8c8a7c2f927dcc22791ecb2a2dd1a2114297c7c2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 24 19:33:54 2023 +0200

    gtk4: Fix locking rates dialog sliders

    See osdn #47625

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 09ad54de0ce2c4f50bb18fc361ac62987afebb84
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 21 17:35:39 2023 +0200

    Flatpak: Explicitly set gui for gtk3.22 flatpak

    See osdn #47620

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 90a9aca2b7de4b7127b0360b2ceb8c87b84d2c12
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 25 07:46:15 2023 +0200

    Optimize V_RADIUS() usage

    Avoid doing the same expensive effect value lookup thrice.

    See osdn #45627

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b46f6985e5ef8d361b87605cd7e3ba8c0e49fe94
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 27 17:22:19 2023 +0300

    Set battle animation area correctly

    This affects gtk-clients

    See osdn #47705

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f0f7aac572923717b83d14642b8911f96c4904ce
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 23 20:57:28 2023 +0200

    gtk4: Add Append Worklist submenu to cityreport

    See osdn #47664

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7595ee4a19769b22a63281b6b547c567c2c69863
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 26 00:05:14 2023 +0200

    Msys2 uninstaller: Delete Registry Values

    We only tried to delete Registry Keys on the condition that
    they are empty. They never were as we had removed the values.

    Also fixed case where sdl2-client installer wrote key
    by the wrong name.

    See osdn #47690

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 83c5b9c6ae3af3742a6c73f3f05fa9c5fcd6ed30
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 26 15:24:36 2023 +0300

    rscompat.c: Fix inserting Animal Barbarian requirement

    Illegal range was breaking ruleup of rulesets with
    Animal Barbarians defined.

    See osdn #47657

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4a2443d9d5ebb4d45714036ee427fba31bfc555f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 25 02:50:13 2023 +0200

    Protocol: Make ruleset description length UINT32

    See osdn #47658

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 53c913ad5d0b48d23550d0fcf943f1fa01230247
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 21 22:00:33 2023 +0200

    Qt: Add "About Current Tileset" help menu entry

    See osdn #47638

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 878a979d17c17340d8e2df4227d2aef99bfad80d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 24 19:48:20 2023 +0200

    Correct options.[ch] gtk-3.x comments to gtk-4.0 ones

    See osdn #47677

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 50b7618eb7b583f481bf2779fbbec78d1d6d70dd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 20 04:27:14 2023 +0200

    Fix freeciv-manual failure with native_bases cache

    See osdn #47607

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 751611147a98210ee19320a32e6005c9e304cd72
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 25 06:27:47 2023 +0200

    installer_cross: Install binaries to 64bit directory

    See osdn #47648

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2d101201301068de2f312a046e5f26a3cd2e8b2e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 25 10:23:11 2023 +0200

    CI: Update setup-msys2 to version 2.17.0

    See osdn #47643

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9b238f959f8e32048ef89c04391ba69ac6f8cfe0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 21 20:39:46 2023 +0200

    Fix threaded saving of the game on signal

    Wait for the saving thread to finish before quitting the program.

    Reported by alain_bkr

    See osdn #47540

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b8eb9a5ae73ca03dac6295c33353218be7efbe02
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 20 20:10:38 2023 +0200

    sdl2: Fix tech help NULL dereference

    See osdn #47615

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7e57684044556d5bcbc4fef1b765163f7c593ea9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 22 00:49:53 2023 +0200

    Metainfo: Include NEWS URL to release tag

    See osdn #47641

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a8da77ced887b9b263dfc56785dcfb9c78c9134d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 25 04:24:57 2023 +0200

    Silence "Did not find a cm solution..." logging

    Patch by alain_bkr

    See osdn #47570

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 384f29740537d0cfbb76ce70582d6093bb5a0896
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 21 02:25:06 2023 +0200

    Mark setup_langname() return value 'const'

    See osdn #47619

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0b869f4caea804043028190653eabdf4425b2a21
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 25 23:10:43 2023 +0200

    Comment typofix: "suprise" -> "surprise"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 416dcb5464703469b4a6c6f1c13b6fd9b83cd6e2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 19 15:32:41 2023 +0200

    is_action_possible(): Fix NULL dereference on ACTION_HEAL_UNIT check

    See osdn #47603

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 74ea87b6c09907ddb048b1b3bbd414b7e8a7b85f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 20 16:33:43 2023 +0200

    gtk4: Add Scenario Properties menu entry

    See osdn #47612

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 960c56def698ba8b88a711722d819fcbd51a528f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 23 00:29:35 2023 +0200

    Revert "CI: Reinstall qt6 for mac builds before the builds"

    It was ever only meant as temporary workaround.

    See osdn #47646

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bcffcbe2a9b4931d12aa9d31970680771fff98fb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 20 01:59:41 2023 +0200

    Meson: Add followtag support

    See osdn #46493

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0fdfd7760b1d4338839a7685a1c412e3a58deded
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 19 20:38:59 2023 +0200

    Make research invention array big enough for A_FUTURE

    Reported by alain_bkr

    See osdn #47574

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d2bc03d37a4e18a2d7eae881f1a8a90daa0e0159
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 19 23:02:06 2023 +0200

    Savegame: Fix unused entry warnings about unit orders vectors

    See osdn #47498

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c511110c2e5af32a2c72322aa2064236dbbeaf9c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 18 18:07:05 2023 +0200

    load_sprite(): Fix crash after failed gfx file load

    Reported by ddeanbrown

    See osdn #47318

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 66eb36d5bcd5ca5f728970acd698ff5530588383
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 18 01:55:53 2023 +0200

    gtk4: Add Set Worklist submenu to cityreport

    See osdn #47590

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 107efd91d996049bae2c9b8ae9c29292ea80a882
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 22 22:12:02 2023 +0200

    Meson: Use -Werror on 'capture this' configure check

    So if it's causing warnings, it won't end up breaking
    build time with -Werror

    This was causing build failure at least on Haiku

    See osdn #47644

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c3a443338961c1101448b6bd635f8f5a3b0b9860
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 20 16:53:57 2023 +0200

    Add Latin American Spanish translation

    Translation by Hugo Morales, bootstrap changes by me

    See osdn #47482

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8ec3bff1c51e337bbd6a50fe6789855ca4414095
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 22 18:44:44 2023 +0200

    Comment typofix: "clima" -> "climate"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6a0b0f796fb7d97655f43c1011fe109babaf7c55
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 19 08:09:26 2023 +0200

    Add tooltip for Turn Done button when fixedlength enabled

    Affects gtk- and Qt-clients.

    Requested by Alina Lenk

    See osdn #45887

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e6484d51fb6673348428c81a9e479da28c2032c3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 21 01:04:57 2023 +0200

    CI: Use UCRT64 msys2

    See osdn #47618

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f2f13b76a19713e8fa81615bca4cd220b2b41613
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 18 04:07:22 2023 +0200

    Fix implicit capture errors in C++20 mode

    See osdn #47555

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 13d59a3b08acafbe1b54eeb8eb0f0e99a184ec33
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 18 06:34:12 2023 +0200

    Flatpak: Turn Qt-client to Qt6 one

    See osdn #47558

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 436ece681288d7e7f16abfa5bc5df5f99260fa34
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 18 21:28:41 2023 +0200

    Refresh supplied scenarios with freeciv-3.1.0-beta1

    See osdn #46502

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1a7c76da071b0620a3de7bb39ea84098abe1a3db
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 18 16:12:20 2023 +0200

    sdl2: Fix opening unit orders menu from city dialog

    See osdn #47455

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 76334bc8c69a5dc419993d2c4cc3bb7a3273932b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 18 02:36:25 2023 +0200

    installer_build.sh: Add error handling for failed mkdir

    See osdn #46611

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6f038642e20760b6d761d4996880a5619e2d6de3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 21 04:08:01 2023 +0200

    FAQ: Refresh from wiki

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 356ab00d15ac03fd5196294d08731e4cc903ddd0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 18 17:08:14 2023 +0200

    Add template NEWS-3.1

    See osdn #47595

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 966f7ebba28ee20eaec9cfc06f76db2dbd493993
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 18 04:55:47 2023 +0200

    lua-5.4.4: Apply upstream bug fix patch 10

    See osdn #47593

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f9c6f41ba9654ebc61a0eab069ad4c48fdc9d5d4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 18 08:01:37 2023 +0200

    gtk4: Add Tax Rates menu entry

    See osdn #47594

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0c7b7202cbce1a1715c93f342e7b6b2375c7d311
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 18 01:04:19 2023 +0200

    configure: Drop duplicate AC_MSG_RESULT([C11])

    See osdn #47500

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 29d2ab7f9bb04729cbc3a4e042a6deed626bdc4a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 18 02:18:57 2023 +0200

    sdl2: Return error from redraw_ibutton() if last blit fails

    See osdn #47591

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8de600bfb0143901787bdfe1c535aab11c216211
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 19 04:29:18 2023 +0200

    Comment typofix: "on map image" -> "a map image"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2367135006d35fd50b8213debd50f5d1d74c6b2f
Author: Joan Creus <joan.creusandreu@gmail.com>
Date:   Sun Mar 19 01:08:16 2023 +0100

    Catalan translation update

commit 1850f30e48cdca3dcb08da48e6376c7730c1a51b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 11 19:12:00 2023 +0200

    gtk4: Add Edit Mode toggle menu entry

    See osdn #47387

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 90d555af7bb0f550abcb332afa8339900a6dfabf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 11 06:56:46 2023 +0200

    configure: Look for Qt6 moc as "/usr/libexec/moc"

    See osdn #47557

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a53a4b686e4308902b968dd5ba8ba0283d3497ab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 11 04:01:36 2023 +0200

    Qt: Avoid deprecated zero parameter QString:count()

    See osdn #47547

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2e8d871652cb02cc25773ef1da05370628acc69d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 17 20:50:04 2023 +0200

    Mark as development code

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 56a268bd45485c700d854030dd611cf9e187ad6b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 17 20:41:55 2023 +0200

    ChangeLog: Refresh for 3.1.0-beta1 release

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b7a8c07e8cbd9d95ce4bbfdc281901b6d57f0a6d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 17 20:40:58 2023 +0200

    Set version number to 3.1.0-beta1

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 383acf6e66e2177ff0e65f558aa32bc5d98425b0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 17 20:37:08 2023 +0200

    'make update-po' before 3.1.0-beta1 release

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6c620d48e22ba525d078aaf3968915033ab493cb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 17 00:56:19 2023 +0200

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f2175c6fba92da9b81596cbe4919995bf7325307
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 11 07:47:33 2023 +0200

    sdl2: Fix help NULL dereference for improvements with just negated reqs

    See osdn #47559

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 79ee5e457ca5c69cb0046c7e6c3868d0da6eed12
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 11 16:18:29 2023 +0200

    gtk: Fix trading cities between high id players

    See osdn #45678

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2b08f8c61a0110d8eaae2c5c31a86ad058e01a08
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 11 20:00:21 2023 +0200

    Stop civil war from adding player above max_players

    Respect server operator set limit.

    See osdn #45587

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3071cfd5f021e5538567094b76ab1f39f1658336
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 11 03:43:40 2023 +0200

    send_server_info_to_metaserver(): Read timer just once

    See osdn #46445

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2f318bfa5228d8445b25a88b59f31d310114145b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 11 03:05:05 2023 +0200

    Stub: Move actions related entries to correct section

    See osdn #46519

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a43d5f437d30dda65d5b7a9e9a5b15058ba53079
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 10 18:09:16 2023 +0200

    gtk4: Add positional Production menus to cityreport

    See osdn #47546

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3017a334b95197b1a05fe05e4275939f3fdea271
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 10 05:06:20 2023 +0200

    rulesets_autohelp.sh: Make work regardless of working directory

    See osdn #46477

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 75200a454aa794327f8f2f55ddfb45dcfdf0e658
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 10 16:58:20 2023 +0200

    img_save(): Avoid make_dir() failure with empty path

    See osdn #47550

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4363db7ef06d5d768bf2236c057f0c5322cbd701
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 10 05:13:43 2023 +0200

    AI: Create virtualunit in dai_unit_consider_bodyguard() only when needed

    See osdn #46436

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c7261ec5d99893b8a127b27404786eb607e5c873
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 6 20:55:54 2023 +0200

    gtk4: Add Select menu

    See osdn #47532

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cda5c2a5f6b54ffcae622c4b5b11528e19e79120
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 11 23:59:14 2023 +0200

    NEWS: Add 3.1 news

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7f71684bcee5458d77a998eb3470150c262c378c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 11 19:34:53 2023 +0200

    Comment typofix: "Chaning ... compatiblity" -> "Changing ... compatibility"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f1afcd6e5a3f5d2c7275b4013925b65746d90576
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 4 16:17:15 2023 +0200

    Lua: Send updated info to client after Player:change_gold()

    See osdn #47386

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 23e6865ae082ea2348ff7aab04255132cc8df37a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 4 15:35:13 2023 +0200

    gtk4: Combine identical citydlg right button release callbacks

    Right mouse button release callbacks for present and supported
    units were identical.

    See osdn #46240

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5f693a01ec0d7596fe4bc6645b2745016b4887f7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 3 23:56:18 2023 +0200

    ax_cxx_compile_stdcxx.m4: Update to upstream serial 18

    See osdn #47514

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 88cce9ec0cf6c60519fba0b854dd7951daf060ec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 11 05:52:29 2023 +0200

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit feef17d70b3352578b544990bd454649d35160bb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 4 13:55:39 2023 +0200

    Refactor tile_type_better() and its use

    So that there's no need to call it twice, but both results
    are determined at once.

    See osdn #45677

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9e91dac4d33b7f708efe25940ecca5c5b84bc483
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 4 12:54:48 2023 +0200

    Resolve key binding conflicts with "Connect..." actions

    - Worklist dialog :   "<ctrl>l" -> "<ctrl><shift>l"
    - Infrapoints dialog: "<ctrl>i" -> "<ctrl><shift>f"
      (gtk4 has "<ctrl><shift>i" reserved)
    - Revolution:         "<ctrl><shift>r" -> "<ctrl><shift>g"
      (to free old binding for Rally Dialog)
    - Rally dialog:       "<ctrl>r" -> "<ctrl><shift>r"

    See osdn #47491

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 21eef9834fa1c40cdb361a66697a68cfc922de78
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 10 16:15:09 2023 +0200

    POTFILES.in: Add florida.ruleset

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3faaccb1d7a9220f5b21e18644cae792ac70de88
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 10 16:11:58 2023 +0200

    Comment typofix: "creationcall" -> "creation call"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7c74b51ffd6a08c3bafdc40c027ba41e6cea2f21
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 4 10:32:29 2023 +0200

    gtk4: Add "Production" -> "Add First" menu to cityreport

    See osdn #47520

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c5f52bc54aee21efb9c6174fa5134a15ae4ae589
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 4 18:24:13 2023 +0200

    Update gtk4 modpack installer screenshot

    See osdn #47372

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f751ea65e88b758dc106aa22aa090ff962567973
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 4 11:08:01 2023 +0200

    Allow ai type fallback when loading regular savegame

    See osdn #47521

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ed15cbbd438ea3f48bd90bb813ee2194448e317e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 4 07:51:01 2023 +0200

    sdl2: Support all graphics formats provided by SDL2_image

    See osdn #46413

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b6192c42a95aee0a018d74201e0e1bc7ffacd933
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 3 06:20:05 2023 +0200

    configure: Fix nonnull compiler warnings from pthreads test

    Under some circumstances they may have caused the test
    to fail when it should have succeeded.

    See osdn #47474

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4c892cf33d02b3a608f29a2a422345c612e241e7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 17 21:37:57 2023 +0200

    Fix errors because of Never reachable techs

    Reported by dark-ether

    See osdn #45115

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e4f2e72c03691986055d06fc6fdfbd946fa05f0c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 4 05:37:06 2023 +0200

    gtk4: Add last goto menu entries

    - "Go to/Airlift to City..."
    - "Return to Nearest City"

    See osdn #47516

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ecc3c3d0265e90c48ae5a63c98d8962f51cafa70
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 4 05:05:13 2023 +0200

    qt6.m4: Set "-fPIC" by default

    Switch compile tests around so that "-fPIC" gets set if possible,
    not only when required for the build to success.
    On some environments build was succeeding without "-fPIC", but
    produced binaries did not work.

    See osdn #47334

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b3fd32fe69c1b7f0204af96f81a9435debb52104
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 2 21:37:23 2023 +0200

    Refactor trade_routes_iterate_safe()

    Fix clang analyzer warnings

    See osdn #47449

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1d253aa4f8fe2cefe82e848cc960f7d748ce0240
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 28 09:19:39 2023 +0200

    Update msys2 environment to 230220 level

    - Update to upstream snapshot 230127

    See osdn #46673

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 951eb339e3f5abb7e67162c9c6456b4d711cebdb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 28 14:24:18 2023 +0200

    Make Chadian and Kanem-Bornu to conflict

    Seemed like a syntactic mistake that they didn't already.

    See osdn #42135

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d8d8336d9aec1f0fb33ae9918c6d8399c341fda6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 27 03:00:17 2023 +0200

    gtk4: Add "Connect..." menu entries

    See osdn #47492

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 68b25b12ea1f09cf14f4eb18815d6175e40746f8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 1 03:27:51 2023 +0200

    Set city names correctly when loading a saved game

    Reported anonymously

    See osdn #47496

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c09b817493eca4130d569bf4affd915ca2f006b3
Author: Dino <macwiz23@comcast.net>
Date:   Mon Feb 27 22:21:46 2023 -0500

    homebrew-appbundle.sh: Set version number dynamically

    Also build gtk4-client instead of gtk3.22 one.

    See osdn #47392

commit cb689f8b23e99eec5a3933db787bc37fddb63971
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 26 18:57:20 2023 +0200

    sdl2: Avoid extraneous SDL_Rect copy in redraw_[horiz|vert]()

    See osdn #45744

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b6655c9faf5014dd72175a495ce4867650fd1de5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 26 18:52:33 2023 +0200

    Update mkstemp.m4 to serial 29

    See osdn #47432

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2f3d9f0d02731c4c7af6ac5edcfe82c24d2f36e9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 27 01:57:10 2023 +0200

    Fix clang analyzer div by zero warn

    From api_methods_city_inspire_partisans()

    See osdn #47465

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4e5c0828ad8cdc6bc75bc336a805df0202bf8461
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 25 15:18:20 2023 +0200

    gtk4: Turn helpdlg Help Box as GtkBox

    It was a GtkGrid, which was just an unnecessary complication.

    See osdn #47473

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c2a564e64b68a11417680011f7bd00fe7eeca0dd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 22 00:45:57 2023 +0200

    Meson: Allow build without iconv implementation also when header found

    Iconv is not a hard requirement, but build success when it's
    not present. Inconsistently the build failed when it had already
    found iconv header, but the implementation was not found.

    See osdn #47469

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5af8eef7cd8b3b5b4a2cb94836be7cfcd44b7109
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 20 00:51:27 2023 +0200

    florida.ruleset: Remove trailing spaces

    See osdn #47437

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 32f1c22d45d2d898471a3d723ee3711ca0489a3c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 25 15:26:53 2023 +0200

    civ1: Set starting gold to zero

    Reported by nef

    See osdn #47454

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0f454aa6a2d9c93f839d75c7378a7f6d551c4916
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 19 21:40:47 2023 +0200

    gtk4: Add cityreport Production/Change menu

    See osdn #47450

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7b8af2267700db836b9a89acd24a012aa6421557
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 20 00:08:54 2023 +0200

    sdl2: Fix dead 'pwindow' initialization

    From units_orders_city_dlg_callback()

    See osdn #47453

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0fdd11dd8ffed18c9c4204ad394e0315bbc5968a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 20 22:42:47 2023 +0200

    set_default_city_manager(): Reduce repetitive calls

    See osdn #45728

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 06135ab98a20e87054cf6a2df90b5c0f71c3fb80
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 18 21:24:42 2023 +0200

    CI: Update setup-msys2 to version 2.16.0

    See osdn #47383

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3df861988994e47a9d830a41d52b4ac6db8b252c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 25 16:10:28 2023 +0200

    CI: Reinstall qt6 for mac builds before the builds

    Currently the initial install of ends as .reinstall directory
    Remove that, and install again, before actual build

    See osdn #47487

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ed5f2d92ee8e82ac3ad417b71076a7c241f06ca8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 19 19:47:54 2023 +0200

    Pass log level by name to the spawned server

    Using numeric levels is deprecated.

    See osdn #45583

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e5ce35823b1458c74bafdc91fec3600a4bcd11a0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 25 07:59:34 2023 +0200

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 063874018fde3e9f30923789196670ed5f6ab11e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 19 02:37:56 2023 +0200

    Meson: Never set -Wno-c99-extensions if compiler does not support it

    See osdn #47400

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5977ba7069e39de901a20aaba3ace56a95e41705
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 18 06:34:35 2023 +0200

    gtk4: Add "Do..." menu entry

    See osdn #47395

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 92c144ad3c4426e12c26bca8e90caf6bbfc9177a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 18 00:27:58 2023 +0200

    Ruledit: Skip ruleset selection if one given from commandline

    See osdn #46007

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7b95bbf260d813c2d4898adc7306a6f9b8e77138
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 17 22:48:40 2023 +0200

    gtk: Hide Production tab from diplomat investigate city dialog

    It was empty, but still present.

    See osdn #45318

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0b83c658e6f7993004bb3c33cc3f0728b1c0caf3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 23 05:55:50 2023 +0200

    Update Polish translation by Hubert Kowalewski.

    Pulled from https://sourceforge.net/projects/freeciv-l10n-pl/files/
    (zip timestamp 2023-02-23).

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a97569734590772ebf30862e2c5e374be46ca9cc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 17 18:20:24 2023 +0200

    Respect automake silent mode on common/ build

    Have silent mode build configuration for
    - generate_packets.py
    - generate_gitrev.sh

    See osdn #46458

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4c5dd74dcbb6da96a8bfc73a5dbff637f5585f47
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 22 06:58:35 2023 +0200

    Comment typofix: "destory" -> "destroy"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8a9342616436038f2f95b3fc276f5194390e6d45
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 17 20:53:25 2023 +0200

    Client: Fix float/integer handling trouble with the timeout

    - Add 0.1 second marginal to the float passed to ceil(), not
      to the integer that it returns
    - Treat get_seconds_to_new_turn() return value as an int
      which it is

    Reported anonymously

    See osdn #44902

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dde2d52f8a4fe67ef9a5974889b173a57d994962
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 18 00:41:51 2023 +0200

    gtk4: Correct "S_all" to "S_ell"

    See osdn #47381

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cd20133a649eb13b5ad3b9aba0b3d678cf0a4757
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 17 21:43:22 2023 +0200

    gtk4: Improve helpdlg.c coding style

    See osdn #47389

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4dd077996408dc5edb12a68749802e5077f6c682
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 16 22:14:37 2023 +0200

    Prefer _gen.h files from the build directory

    Include _gen.h files from the build directory, when available.
    Thus meson based build gets the files it has generated to the
    build directory, instead of possibly outdated ones from the
    source directory.

    See osdn #46495

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 84139a710ee533f6d4412b01735ae223dddd91ab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 19 05:35:03 2023 +0200

    chadian.ruleset: Backport cleanup

    See osdn #47436

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6980459a5295f81e62b3e9e89a1289fb403ee99c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 16 23:49:01 2023 +0200

    Refactor city_list_iterate_safe()

    Fix clang analyzer warnings

    See osdn #47289

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6f16af3811e28ad579c0b2a7ec54a00e17d87096
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 16 21:16:42 2023 +0200

    gtk4: Add gui dialog key press gesture handling

    See osdn #47379

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fcb90c026520bd4445be7689304cf68f2c586eb3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 18 02:49:23 2023 +0200

    sdl2 theme: Document S3_1 as the branch of freeciv-3.1

    Provided URL for the fonts was for master branch.

    See osdn #47355

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b33dd2e21fb548f2ad8e80aa405249f556a35455
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 13 05:26:35 2023 +0200

    Lua: Call tile_change_side_effects() after tile changes

    See osdn #46425

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3f53e8f5647cfc9fe86c806144e9921c10b1d57f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 16 00:46:03 2023 +0200

    gtk4: Add mapimg saving menu entries

    See osdn #47369

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 48b2e75334bed33c8426b7390f60a0939ad8ef3b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 18 02:08:44 2023 +0200

    README.packaging: Document change in default tolua used for native builds

    See osdn #47390

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 46f572ab9da64ab2409167b3a20cc3389c121f02
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 15 17:46:04 2023 +0200

    city_rally_point_receive(): Fix reversed city legality check

    See osdn #47361

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 016edba7ff214c5fb954ec5bff11933b6a709e3d
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Sun Feb 19 03:35:41 2023 +0100

    Updated french translations

commit 3d44328d107bd0d21dcca9f3caea7e40392380e7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 16 00:14:55 2023 +0200

    Fix "City Production Levels" misnomer

    It has nothing to do with Level, but it controls if
    name of the current production is shown.

    See osdn #46670

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4910f3c5c17f87c2296d499ee680ca27e92658e7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 13 02:29:47 2023 +0200

    sdl2: Fix 'area' dead assignment from popup_connection_dialog()

    See osdn #47346

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 546fa9dfe2fe61a44800caea2b93fb9c0e0277a3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 13 00:15:11 2023 +0200

    flatpak: Add gtk4 modpack installer flatpak

    See osdn #47286

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7b2d89504c247361d5e1b13883aa805bc6e20db2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 13 02:18:43 2023 +0200

    Add unit class native_bases cache

    See osdn #46417

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 012668668dcf90d830648b9e5e146387a34d16c2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 13 18:55:23 2023 +0200

    unit_teleport_to_tile_test(): Drop unused 'igzoc' parameter

    See osdn #47352

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b45f35e7a5bd97706ef00eec34740bb423fff264
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 14 18:06:44 2023 +0200

    rs_common_units(): Return FALSE on all errors

    See osdn #44613

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 12ef9b9126a410c966bac653a13ddfc40c158661
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 18 03:32:26 2023 +0200

    CI: Install pkg-config for mac-meson job

    See osdn #47391

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e02428ffd270412aa6c3a3f514673d11f72e2a7e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 18 00:53:41 2023 +0200

    Comment typofix: "scroolbar" -> "scrollbar"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 76a776a3e091fe74034cea7b97c4517ec831e4b8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 14 19:41:16 2023 +0200

    gtk4: Add Governor submenu to city report

    See osdn #47359

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e77f04d7e385e0d63ca3494a769aed41f529fe14
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 13 17:27:56 2023 +0200

    Meson: Fix build without lzma

    Reported by lachu

    See osdn #47338

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ee35c6caeee6ac2e8b21e5f958c19a9841203395
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 17 17:03:27 2023 +0200

    Comment typofix: "Unreachbale" -> "Unreachable"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3a9233cc9068c0b98abada0fa220d0cb6330ee96
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 14 06:37:08 2023 +0200

    valid_advance(): Consider Future techs valid ones

    See osdn #46544

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a1da7af9d7ca3f733cf51cd1b4075aed180bbc35
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 13 04:43:21 2023 +0200

    Correct comment in start_new_game_callback()

    Every gui had comment talking about load_settable_options()
    where resend_desired_settable_options() should be mentioned.

    Minor refactoring of the code while touching the function(s)

    See osdn #46343

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e6689a16355b7cf5ca4cdc54b9f03ed8809d261c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 13 03:45:10 2023 +0200

    gtk4: Add last missing Help menu entries

    See osdn #47347

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 534ec02d06d8eef0e7b78a7cc82fb35486d3e386
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 16 19:16:15 2023 +0200

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d6755d1b5cbe808e24a143fd72faf42942d9405e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 12 16:18:02 2023 +0200

    gtk3: Add missing space to 'Tileset "%s" problem ...'

    See osdn #47341

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dd5df68ee1779e0bcdedc19fc543c3047093d34e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 21 19:26:25 2023 +0200

    AI / process_..._want(): Set type of wants adv_want

    See osdn #46530

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f61657eaf7c5a905592b038b14f3454d21fb94b4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 13 00:36:58 2023 +0200

    Make error message about missing tilespec sections more accurate

    See osdn #47340

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ba95c3dedda76fbc163d3efd768169888a64ef3e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 11 21:38:37 2023 +0200

    gtk4: Add rest of View menu toggles

    See osdn #47337

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 52d41371375581a95239d577ce9980aa288c0442
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 15 19:03:06 2023 +0200

    CI: Do not install unixodbc-dev on Ubuntu runners

    See osdn #47363

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 708e7115e6607b625a44a103127fb98cf4e6fd17
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 12 16:22:42 2023 +0200

    Update gnulib-common to serial 82 from gnulib upstream

    See osdn #47336

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bfd4a91d53233c0a8cc770dceb5b91e6f23563fc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 13 00:56:14 2023 +0200

    lua-5.4: Apply upstream bug fix patches

    See osdn #46492

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b140788ef81e7e8fbc547efdb34ae2fb2d585151
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 11 14:44:26 2023 +0200

    Change occurrences of "dependant" as adjective to "dependent"

    Some nouns are left as "dependant"

    See osdn #46501

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 83921581bebc0dd619762850482deb377fe685d4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 11 12:15:12 2023 +0200

    Use fopen_s() instead of fopen() when possible

    See osdn #46420

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 841dbb46e37436f759fa9e7f6514b727e005ef80
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 14 22:21:28 2023 +0200

    Update Spanish translation by Jordi Negrevernis i Font.

    msgmerged from S3_0

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 94cd2c8425dfb1c763f31f86087b3834dab5c129
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 14 22:07:54 2023 +0200

    Update Finnish translation of ruledit domain

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3764be58bc35c7ec69f6471c2f91890ce3227a4d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 11 14:32:13 2023 +0200

    gtk4: Add Sell submenu to city report

    See osdn #47335

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cb121871bda36f9f5678652eca9006cb2bd9a8b0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 14 17:06:35 2023 +0200

    Comment typofix: "undesireable" -> "undesirable"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3dcde702dcd682e2cb3a2e004cd15a2c3d98c7e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 11 12:59:48 2023 +0200

    winbuild: Set default MIN_WINVER to match Windows 8.1

    See osdn #47312

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 16083466ba608dfebdd187d2bfb99f415e19d331
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 11 02:21:04 2023 +0200

    sdl2: Make Alliance clause available in diplomacy dialog

    See osdn #46604

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b49949e5980546473c7ddc1b0aa20142cd89f429
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 11 00:08:50 2023 +0200

    effects.c: Update list of convenience functions in a comment

    See osdn #46464

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bda0f26bcf212c3064566ac1a16980d565db8c82
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 9 18:52:56 2023 +0200

    Meson: Fix build when SDL2 is not present

    Reported by lachu

    See osdn #47328

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 60685ea95c916af6f25644fb22dc992bade22512
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 11 04:06:51 2023 +0200

    Ruledit: Add gfx tag editing to edit dialogs

    See osdn #47303

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f2a6c31165d13a93cc765b313b16799bf16ebaad
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 13 17:23:15 2023 +0200

    Comment typofix: "pardrop" -> "paradrop"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c0dd8612686b85d71ff36c49ff54b827ada8ed01
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 10 23:36:01 2023 +0200

    Fix "Show Irrigation" toggle

    Irrigation was being drawn regardless of the setting

    See osdn #47316

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit da9b93b9b20be56da30426cd5fc06c2b0eb22cda
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 13 04:13:16 2023 +0200

    Comment typofix: "specic" -> "specific"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fd9fa73fc67248c1f9315f9f6dfdd55256cff343
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 9 17:17:31 2023 +0200

    gtk4: Add set of Help menu entries

    See osdn #47333

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 517e17fbfef0a1c37a4e0bd8569f13485eb262b4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 10 05:41:02 2023 +0200

    text.c: Correct function headers

    - Correct "playerdlg.c" to "plrdlg.c"
    - Mention if a function is not re-entrant
    - Other minor adjustments
    - Some coding style improvements to the file

    See osdn #47305

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a90ed8da37493a4d0b5906a5a371441ccaa9a7cc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 9 07:09:24 2023 +0200

    Msys2: Distinguish registry keys and directories per MSYSTEM

    Namespace registry keys and install directories so they
    don't get overwritten by parallel installations.

    See osdn #46663

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ac9996b4df15ded8c0bacc30a6a52a9f29ece19c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 12 15:13:05 2023 +0200

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 83e34dbac9c6529ec19ae3d1bbe855e245f8650c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 5 09:26:08 2023 +0200

    player_limit_to_max_rates(): Adjust rates directly to player

    Stop passing entire economy structure as value.

    All callers were setting it to the same player structure anyway.
    If that's to change in the future, it will be easy to add
    economy pointer parameter.

    See osdn #45420

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f4d61b2e141dd8cd120f43def0b34449d2cf5e42
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 5 22:13:14 2023 +0200

    gtk4: Improve View Menu

    - Add some entries
    - Refactor the code to reduce duplication

    See osdn #47317

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 785fab5afe31f11bcd37eb169a7d3fa98b12b359
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 4 14:40:00 2023 +0200

    configure: Use AC_PROG_AR() when available

    autoconf-2.72 will introduce AC_PROG_AC(). Prefer that over
    existing AM_PROG_AR()

    See osdn #46511

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0839d7040983eed5c89a9433b481ce4199c07275
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 4 20:46:13 2023 +0200

    Qualify core domain "none" and "custom"

    Qualify "none" and "None" strings, also adjusting case as needed.
    For consistency with "none" cma settings, qualify also "custom" one.

    Ruledit strings not touched.

    See osdn #46001

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f1b95b367cd3c44c17dadb6613ee1f670b59cae1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 3 22:06:54 2023 +0200

    gtk4: Add citydlg keyboard event handling

    See osdn #47302

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7123418e950c36008e1f5c58d6ca1763c5331bdf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 4 18:12:10 2023 +0200

    Multiplayer: Fix typo in the name of [effect_environmentalism] section

    See osdn #47308

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0aac3f65255542b171588e29407f68b3d56d73bf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 4 07:25:01 2023 +0200

    Add tileset name to Tileset Error dialog

    Reported by VulcanScout

    See osdn #46558

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ed2d5cf1de56c70d646cd267b3deb2de76a6cdd4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 3 22:18:47 2023 +0200

    sdl2: Unify "Chance to Win" TRANS comments

    So that not two different TRANS comments end to .po file
    for the same string (used in multiple places)

    See osdn #46668

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2b9a0c0016c35f3069e43480a9c652a2bea9c8c0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 3 21:40:01 2023 +0200

    gtk4: Add Select by production class menu entries to city report

    See osdn #47301

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 45daed6f3bdb4a569b1d26fbaaf63eaf6c1279fc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 5 15:46:33 2023 +0200

    scorelog: Provide documentation URL to the correct branch

    The URL was about latest development version, not stable S3_1.

    See osdn #46594

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 24b30050b2a6852974015083620b7ed93a1b3e6a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 4 19:29:57 2023 +0200

    Add Floridian nation

    Patch submitted anonymously. Minor adjustments by me.

    See osdn #46657

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 093ae5d9d037a2dacdd47346d8ebd75e0a9e1c9d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 4 06:18:24 2023 +0200

    secfile_lookup_str_default(): SECFILE_LOG() in error

    See osdn #46466

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bb275d80b408bf0d0401fa7b4b53c7b130a061f5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 3 20:11:56 2023 +0200

    sdl2: Add command line option -- --swrenderer

    See osdn #47300

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 55e565419fc5031508f72108cb95b19735afc150
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 1 19:06:36 2023 +0200

    Meson: Check libintl.h availability for nls

    Reported by ddeanbrown

    See osdn #46669

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a0241a77ad0055ae55c1c017eae7db319b968dee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 4 05:15:21 2023 +0200

    freeciv-manual: Improve listing of buildings' build/obsoleting reqs

    - Show "None" for an empty build requirement list
    - Have a separator between build and obsoletion requirements
    - List all obsoletion requirements, not just single tech

    See osdn #47297

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3b0491a6a50eef27738be03524b0b5c1ea743f32
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 30 00:11:59 2023 +0200

    Correct unit_list_sort_ord_...() header

    See osdn #46313

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 141df72fe70beb016d71ba150cf8e0766f3a66dd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 2 23:13:42 2023 +0200

    gtk4: Add set of Help menu entries

    See osdn #47288

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fb3a58ca89a8e0ca481c4337f7242ed2a851732b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 2 05:45:43 2023 +0200

    city_tile_iterate(): Evaluate _city_tile just once

    See osdn #46534

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e8e13ffc14155204612252da0d5cdac5b8d61fa5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 1 20:25:44 2023 +0200

    gtk4: Add set of View menu entries

    See osdn #46671

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dc5594caa58ebfd769e4d4b53e058e518115a20b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 30 02:25:24 2023 +0200

    Meson: Disable shadow warnings on Windows C++ compilations

    See osdn #46658

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b7c956dfda282a9a7f42c302b695097b2d3c3e77
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 29 01:37:30 2023 +0200

    Introduce make_dir_for_file()

    See osdn #46317

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 605169fc32c6e1a5d477acb9bc1993c4407f7112
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 4 22:20:22 2023 +0200

    Comment typofix: "givent" -> "given"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c3f05c09fcb7445c9318a6961312227c423b5ef4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 29 23:51:26 2023 +0200

    Qt: Correct irrigate/mine menu entry rename

    Detection if all focus units are on the same tile didn't work.
    Thus the menu entry was always set based on what is possible
    in a specific tile, one where the first focus unit is.

    See osdn #45805

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7cc43920f1166a37a7356d71edaebc5f249b2a26
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 4 15:20:11 2023 +0200

    Comment typofix: "disaplyed" -> "displayed"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 352150435fa5c0ed00da68deddf19d56c5913d0e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 29 23:18:53 2023 +0200

    Update gnulib-common to serial 80 from gnulib upstream

    See osdn #46592

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1f686a45ff19cd32c7fc73273ee327ec1c05115c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 4 05:49:58 2023 +0200

    Update Finnish translation of ruledit domain

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b2e095ed89bae0f94426a7478e2fc02ea27613aa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 29 04:28:09 2023 +0200

    packets_json.c: Fix tautological-unsigned-enum-zero-compare warning

    See osdn #46556

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 052db7a2aacda337e62f584ba89bd30f3791267b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 28 03:06:03 2023 +0200

    Correct get_req_source_effects() header

    See osdn #46441

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0bb93609fe2a9e0517e8c9aa58e8fd383034df7c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 29 10:47:17 2023 +0200

    gtk4: Add initial Select menu setup to cityreport.

    See osdn #46620

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6c3dd58dad019981d52843d17a94809c551f67d8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 3 17:45:57 2023 +0200

    Comment typofix: "it's" -> "its"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d5c1be97c4ff0ed54e49ec8dd72dba36313981f8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 3 06:15:21 2023 +0200

    FAQ: Update latest stable version number to 3.0.6

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 57b51bc8d339d25edfdef07c42976a7b2418cb5c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 31 18:46:35 2023 +0200

    README.nations: Update to support meson based builds

    How to add new nations and flags to meson based build.

    See osdn #46659

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 25769ff55339dc85bc0e6178ffdb6075e440df24
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 29 23:30:06 2023 +0200

    mem.c: Use SIZE_T_PRINTF where appropriate

    See osdn #46219

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7674cf6c03f4a503337a0ad80fa55603decb9c86
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 28 21:45:22 2023 +0200

    gtk4: Add some Help menu entries

    Do preparations also for the rest

    See osdn #46616

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2574fa87d0c0a89675373ef25437b5526c761082
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 28 03:17:28 2023 +0200

    Meson: Set FREECIV_SCENARIO_PATH on run.sh

    See osdn #46582

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0675eeefd2db382631c31d3846156e418fd47d7b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 31 04:07:42 2023 +0200

    Fix Qt-client crash after handling "-- --help" command line

    See osdn #46660

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3cb281c2751a17eacbe962bd3104bf76d03e1cbe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 28 17:29:23 2023 +0200

    gtk4: Add volume control key bindings

    See osdn #46610

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ab63810d550effe745e0818486215b2ccb0893f0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 26 04:52:21 2023 +0200

    Meson: Check lzma.h availability for FREECIV_HAVE_LIBLZMA

    Reported by ddeanbrown

    See osdn #46599

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 020ad76cda3a13e061f1b85e89ce0be47a8eb679
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 28 20:50:23 2023 +0200

    Separate unit moving from unit_move_data() to new unit_move_by_data()

    See osdn #46614

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9bc1f80cb19edcdc4bc033ed3e29c7b56cddaeaf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 31 22:00:19 2023 +0200

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 912192fd9bac678a1cf07d23cf9a7267997a6863
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 28 06:40:32 2023 +0200

    sdl2: Adjust diplomacy dialog based on what clauses ruleset enables

    See osdn #46284

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7e6b1a7875a5a72080f80540a99b51f7a9a7b395
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 22 21:03:07 2023 +0200

    stdlib_h.m4: Update to serial 71 from gnulib upstream

    See osdn #46585

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ea03dcf6bf3b4739b882a5c84067fc7856654097
Author: mattmadeofpasta <mattmadeofpasta@mattmadeofpasta.me>
Date:   Fri Jan 27 10:49:43 2023 +0000

    Add CI build logs and test temporary files to .gitignore

    See osdn #46603

commit 0fa4ed7a38c948c0aa4bf19afc014bf3b8ba9b1b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 28 08:20:55 2023 +0200

    astring.h: Mark inline functions for doxygen

    See osdn #46560

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8bcf446813b438a20756306480db549dc23d4570
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 27 02:18:22 2023 +0200

    Switch to beta mode

    See osdn #46376

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 938a1912e27d7d26256e256408e29f51a6b68740
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 27 18:00:17 2023 +0200

    gtk: Add Show Stack Size toggle to View menu

    See osdn #43377

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1ff0e3b4309be63a5e372e16200ca48cc82a6fa9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 28 21:03:42 2023 +0200

    Meson: Install luik flag

    See osdn #46615

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0dfc7afc9520c9a7ef3adf844946f29eca473541
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 27 18:30:15 2023 +0200

    AI: Return value from tactical_req_cb() in NDEBUG build too

    See osdn #46528

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ceb740d7a7c223a8741cbc19b17cc77716872e44
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 23 05:01:26 2023 +0200

    iterator.h: Mark inline functions for doxygen

    See osdn #46102

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 47221b83933a2de9c4c31caee9a45a9c0b917667
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 22 17:27:38 2023 +0200

    gtk3(.22): Add volume control key bindings

    See osdn #46589

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b91af31d73e90ed50878f34b3e3b9f2224794e10
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 29 14:09:16 2023 +0200

    ruledit/POTFILES.in: Add edit_terrain.cpp

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ae41a12c745bcf3cc46300c3a8c57ca076da0055
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 22 06:17:59 2023 +0200

    Ruledit: Add terrain details editing dialog

    Thre only values that one can edit in the initial version
    are movement cost and defense bonus.

    See osdn #46587

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 30f46e2bc68c4b7c2c2d74133f2c92367a5daf88
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 22 02:03:02 2023 +0200

    gtk: Fix memory leak on failing sprite loading

    See osdn #46584

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 05389c31cfab047dbaa03c7b3ae17ed98ab0b4db
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 21 19:33:27 2023 +0200

    Meson: Silence c99-extensions warnings from Qt on Msys2 / clang64

    See osdn #46576

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3e425319cc3080f3c432d5bc5c2b7ef864d7b184
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 22 00:21:15 2023 +0200

    INSTALL.Cygwin: Add note about meson based build

    See osdn #46415

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a1baf0aee9975d1fd55b43fd03bf4f54e57a6730
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 22 08:21:21 2023 +0200

    gtk3(.22): Correct battle groups key bindings

    See osdn #46588

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 309b835c8525e1eec51b279ff408cd3ebf53516d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 21 09:44:57 2023 +0200

    gtk4: Add first view menu toggles

    See osdn #46564

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b7b6f31ed77dd7f5f3e626d1bb016860ad3f2d7c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 21 10:40:38 2023 +0200

    Flatpak: Allow ipc with the host

    Need pointed out by Hubert FiguiÃ¨re

    See osdn #46565

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 524c856983dc98a693d53df85456a34339dd53f6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 22 07:56:18 2023 +0200

    Correct notifications sent about surgical strike

    - Victim's message contained their own name as the attacker
    - City references were not always sent as links

    See osdn #46473

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 44b6cc1fc536d754faeb0424733a831766ce6d6f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 21 04:01:19 2023 +0200

    gtk4: Add menu entry for targetless revolution only when allowed

    See osdn #45937

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 061478259d64fdf79f34e650151a9764b1e28141
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Wed Jan 25 15:31:42 2023 +0100

    Updated French translations

commit 68f4ca2efa34434243e094dc4d4618fc30bb2cac
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 21 06:16:43 2023 +0200

    Update bootstrap file to at least gettext-0.21.1 level

    Update things for which there's a newer version in gettext-0.21.1
    than in old freeciv tree.

    See osdn #46483

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ca0bf3e80275db8a0f66f0a94bd83d86bb757ba7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 20 17:55:48 2023 +0200

    gtk: Fix testmatic build

    See osdn #46551

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0fd6b3e6da5869b80152f7bd81f7cc83e394bf01
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 21 01:41:29 2023 +0200

    auth.h: Remove declarations of non-existent functions

    See osdn #46410

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 542b5652942d817fc3d690815376518a7ddcf911
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 18 19:16:57 2023 +0200

    sdl2: Fix unused 'scroll' assignment from remove_clause_widget_from_list()

    See osdn #46545

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 089105b342a0556fc43268e6ebaee15428256777
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Tue Jan 24 12:41:59 2023 +0500

    Update for Russian translation.

commit 69342c1c91a2e19850b60c55012897b12b89c911
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 21 05:12:57 2023 +0200

    Retire unit_activity_text()

    As not re-entrant, it caused client crashes.

    - Convert all callers to use re-entrant unit_activity_astr()
    - Remove the function

    See osdn #46559

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f9b5b636fe0229c3dca65903fa01773fe9271ed4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 21 16:50:07 2023 +0200

    Qt: Don't try to refer to qapp outside gui_main.cpp

    It's local (static) to the module. Attempt to use it by
    declaring it 'extern' in other modules caused linking to
    fail with msys2 clang64 toolchain.

    See osdn #46575

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9bbca850e4790fdf7b182bcf3f4dad674f6b977c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 19 02:44:45 2023 +0200

    Metainfo: Add provided binary tag to server metainfo

    See osdn #46500

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3b3943f19bab62d7a7d52b5681415f41a172163f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 21 20:01:19 2023 +0200

    Drop dev-save-compat code from S3_1

    The branch is transitioning to beta soon, and is
    expected to be about stable save formats at that point.

    See osdn #45449

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1e52a520c929d0b85751d58d5691d9fbac1cec43
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 20 01:03:42 2023 +0200

    Alien: Refactor "Tile_Workable" effects

    Have just one effect covering all always workable terrains.

    See osdn #46421

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d4c9e4a4c6f3c7f1ef2b3d3c410809d74cfecc2d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 18 04:44:03 2023 +0200

    gtk4: Add centering to chat links on click

    See osdn #46540

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3174709868c6f8f3fc29d32fb9d338f207a980c3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 20 00:23:21 2023 +0200

    Log iconv inability to convert between encodings just once

    See osdn #46497

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b5b0cfabaed2dd0852b4b50610966ab805b23e68
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 22 09:06:36 2023 +0200

    Comment typofix: "aggresive" -> "aggressive"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 91cf5142cfcf3f54ae8960a648001aded0c448ef
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 18 17:50:48 2023 +0200

    expl_act_not_enabl(): Remove unnecessary unit_owner(punit) calls

    Use the local variable containing the owner when we already
    have that.

    See osdn #46543

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9df638a96c97cd23bc4366a4244adfd41a48116a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 18 18:52:17 2023 +0200

    README.effects: Document maximum length of requirement vector

    See osdn #46451

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 87c846219fa2d1f944a624bf2a0edae7237386a0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 17 17:30:53 2023 +0200

    gtk4: Add goto and patrol menu entries

    See osdn #46531

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5ada1f71ac73e0e7f8eae91b40b02d8de35d4eee
Author: Jean-Marc Leroy <info@studio16.be>
Date:   Mon Feb 3 14:19:20 2020 +0100

    Create liege.ruleset

    Additions by Marko Lindqvist:
    - Update the style
    - Include nation from default/nationlist.ruleset
    - Collect translatable strings from the ruleset
    - Install the nation (both autotools and meson builds)
    - Add flag from Wikimedia Commons

    See osdn #46553

commit 3628862e982d8123cd9d73e6d112029d0eb0275d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 17 20:56:22 2023 +0200

    Meson: Enable -Wshadow for debug builds

    See osdn #46537

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cd0b6f4d6807a8c6c0f01cb9d362345582997bb2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 21 18:50:23 2023 +0200

    Comment typofix: "cahce" -> "cache"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a4c69ca7407fd0b98b7c3ef9d8116144a791a4b0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 18 01:39:54 2023 +0200

    kill_unit(): Fix pointer assignment to a boolean

    See osdn #46472

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b63daea248725f225af8b43674c2074d33752c0c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 17 02:53:02 2023 +0200

    Refresh gnulib-common.m4 from gnulib upstream

    Serial has not been bumped.

    See osdn #46516

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d6cde1169ca1fab35ac62b8a747e607176646ac1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 14 07:56:39 2023 +0200

    validity.c: Check more ways extras need universals

    is_universal_needed() to check if universal is in:
    - apprarance_reqs of some extra
    - disappearance_reqs of some extra
    - first_reqs of some road

    See osdn #46443

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 93ed643ec7a7f5779c4b4255c5982877d11b8290
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 14 08:40:22 2023 +0200

    shared.h: Mark inline functions for doxygen

    See osdn #46389

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 447baca23aa79dd04a577b59e79ceb54c76eee6a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 14 10:41:30 2023 +0200

    gtk4: Fix submenu leaks

    See osdn #46491

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 97300da7606d122c8d3530904e7a66472fd612ba
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 18 03:30:37 2023 +0200

    Fix NDEBUG build

    See osdn #46539

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4a6e7fa6bc5cd5ad1058716c18007f4cfef06420
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 14 14:22:58 2023 +0200

    CI: Update setup-msys2 to version 2.15.1

    See osdn #46517

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6acb1749749f7cd9d58432bdae4820520af24da4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 6 22:15:59 2023 +0200

    Send city original owner information to client

    This information is available in the full city package only.
    We don't have that information stored for vision sites,
    to send to players other than current owner.
    Even with the full package, only the original owner
    get the full knowledge.

    See osdn #46402

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dc39268dd525cd6861f9716822c1a7f0e468ea0d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 8 11:58:27 2023 +0200

    gtk4: Support dynamic help link types

    For buildings' and wonders' requirements, make the link
    to go to the page that matches the requirement type.

    Reported by MÃ¡ximo CastaÃ±eda

    See osdn #46435

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8d0b8b5b4a0b3525c1c77c2b164e4e38e324a03a
Author: Michael Ortmann <41313082+michaelortmann@users.noreply.github.com>
Date:   Fri Jan 13 00:37:18 2023 +0100

    AI: Mitigate overflow

    See osdn #46513

commit 1e1bea7681c5e422a0fce3c4dd97a0611f7fa303
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 14 08:13:05 2023 +0200

    winbuild.sh: Set win10 as MIN_WINVER for Qt6-ruledit build

    See osdn #46463

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a8ddfeceba1f00f78d6a86a9a92ce74505ba9b16
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 8 09:15:38 2023 +0200

    city_sum_add_real(): Fix strcmp(?, NULL) call

    See osdn #46488

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8a488d1ef157f517ea64530dc3aa7e86c89ff3fe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 8 05:47:51 2023 +0200

    gtk4: Add menu entry for opening Policies dialog

    See osdn #46486

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3279ddb032cbeec71d3c3ac1dd3dbf210589ca47
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 10 23:25:33 2023 +0200

    flatpak: Add gtk4-client flatpak

    See osdn #46509

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 043560ba3f3359c3bf0c5e7a9757e00166b2aea8
Author: Familie Engel <engel@Acer-Aspire5>
Date:   Sun Jan 15 11:45:11 2023 +0100

    Update German translation

commit 76d55cc4a2867697112c8981a37faa1e9afddd17
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 11 02:15:29 2023 +0200

    is_action_possible(): Avoid repetative action_(id_)get_target_kind()

    See osdn #46487

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0982823c9e76dbc46f809680f424acfb6dbfba9f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 10 18:48:50 2023 +0200

    Update founder information of cities when a player removed

    Do not leave illegal reference to the removed player
    to any city in the game as the founder

    See osdn #46503

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3692ef9605fb1494075af253915056a01fbaeb2c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 17 05:57:22 2023 +0200

    Comment typofix: "appropriatelly" -> "appropriately"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1877f5610dc5128128cb2ce3a56cf65ef5ec36fc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 7 11:27:39 2023 +0200

    sdl2: Make controlled disconnect from server on quit

    See osdn #46478

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 52abd5bf88405deb93ec3f25f8c615194f3ec51b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 9 05:08:36 2023 +0200

    listener.h: Mark methods for doxygen

    See osdn #46494

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c997a8a19541341126945d912c728cdd2d3cf344
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 7 09:24:24 2023 +0200

    Split list of rulesets to test

    Rename ruleset_list.txt as ruleset_list_dist.txt, and list
    only rulesets shipped in the tarball there.
    Create new ruleset_list_opt.txt listing rulesets that
    might not be present, and which are tested only when they are.

    See osdn #45546

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d4e56c2f16c6c0d211b3d9edc6533df016456fe6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 10 02:03:51 2023 +0200

    Avoid extra work in calc_activity()

    For each activity it was calculating:
    - Untargeted time
    - Extra build time for each extra
    - Extra removal time for each extra

    So it calculated '1 + 2 * number of extras' different times for each activity

    Now it calculates:
    - Only untargeted time, if the activity is untargeted (1 time)
    - Only extra build times, if the activity is extra building one (num extras)
    - Only extra removal times, if the activity is extra removal one (num extras)

    This also means that it won't make tile_activity_time() calls with
    NULL target for any activities that need a target.

    See osdn #46447

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f93cc7ea96ac5091a403e9f8a45a38b6917f9c64
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 8 07:50:05 2023 +0200

    Drop unused 'space' field from city_report_spec

    See osdn #43049

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 301ca3d2753e1a90e769201bd124e8dbc17b9794
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 7 18:34:48 2023 +0200

    AI: Increase military emergency want indicator to 1000

    This makes more space for non-emergency wants, so they
    aren't so often clipped and thus making it impossible
    to compare which one of such high wants is actually higher.

    See osdn #45277

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 027a20f24b8991ab68d976b5d1502217b485cb95
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 7 01:44:47 2023 +0200

    gtk4: Use "insert-link" icon on "Chat tools" button

    See osdn #46470

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 54e75591a8e2ce0a02a9266589658a196d1f0e6f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 6 20:13:27 2023 +0200

    Make secfile_insert_filereference() parameters const

    Both 'filename' and 'path' can and should be const.

    See osdn #46301

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5d5cbbec79ee2e37ed19c0ebeb665f00fc3eb7f8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 7 01:50:49 2023 +0200

    Update gnulib-common to serial 76 from gnulib upstream

    See osdn #46462

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9cba599d6e074e9c0f512e253c229e474640b482
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 7 16:11:14 2023 +0200

    spechash: Convert void pointer to specific types by proper macros

    Old code assumed that you can always do a simple cast
    to any type.

    See osdn #46372

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c412fbf3e054fcc7d9f67afc12331aaeafbe9ba4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 6 23:54:30 2023 +0200

    gtk4: Add Homecity and Upgrade to citydlg unit context menu

    See osdn #46438

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fc6cee1b62d7a21c624d9c5591b8faade368c5cf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 6 15:46:37 2023 +0200

    installer_cross: Ignore 'attributes' errors in C++ builds

    Qt headers cause such warnings with newer g++

    See osdn #46428

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 766c8f9f29d31919bb4b8b12d7feda7929f1fd80
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 6 10:56:23 2023 +0200

    tile_has_refuel_extra(): Use unit class refuel_extras cache

    - Cache renamed from 'refuel_bases' as 'refuel_extras'

    See osdn #46416

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a2c7d7f35a46d0b5b5e3f6daeb6c5a058b90d7db
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 6 07:14:50 2023 +0200

    sdl2: Fix crash when there's no government to switch to

    See osdn #46450

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cc0d5669681ae30afad778b8da1a87fc1be990b3
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Thu Jan 12 00:23:17 2023 +0100

    Updated French translations

commit 87fef6fa06beaeb5da0892fd28ac5b7319371f67
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 6 07:48:29 2023 +0200

    Correct memory handling on rename of transfered city

    When unique names are required at player level, but not
    globally, city transfer may rename the city if the new
    owner already has that name in use. That code had not
    been updated to use dynamic city name allocations.

    Reported by chippo

    See osdn #46272

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e1f165c2afc562482083fde8dcaaeb7fd6bfb5ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 5 03:26:29 2023 +0200

    Close editor gui immediately when leaving edit mode

    See osdn #46439

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 406e66ddf10a328caa3924419ede779d63fbfb1d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 5 04:05:40 2023 +0200

    installer_cross: Rename meson/ as setups/

    See osdn #46457

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 526ffde6fba57281409d9faa6398507fdb97d8eb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 4 21:27:11 2023 +0200

    Make is_..._unit_tile() to return bool

    That's what their name suggest, and what most of the callers expect.
    Returning a pointer to those callers was causing an error when compiler
    is following c2x standard.

    Added tile_..._unit() family of members that those former
    is_..._unit_tile() callers that actually expect a pointer call instead.

    See osdn #46367

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a0466ee3384bd3be2be94ec65a1cdf232e1044e6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 3 22:20:23 2023 +0200

    .gitgnore: Do not ignore *.rej

    See osdn #46227

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 76d658bde572fd5e1432a755af2e26aa74c9cff0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 2 21:34:35 2023 +0200

    gtk3(.22): Support dynamic help link types

    For buildings' and wonders' requirements, make the link
    to go to the page that matches the requirement type.

    Reported by MÃ¡ximo CastaÃ±eda

    See osdn #46433

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cd4c7bc295a7c70e9043c687d109bb2d999101ca
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 4 18:51:09 2023 +0200

    configure: Fix mysql version check

    See osdn #46449

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a4e1db1bca9defb68b69f41c8b5bf9ff4fc7790f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 4 17:42:24 2023 +0200

    Drop unused tile parameter from is_build_activity()

    See osdn #46446

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 515dc4a69d8adf1a00a64a71357f10c0b93965cc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 4 18:05:06 2023 +0200

    Check "Tile_Workable" effect after tile changes

    Make cities to stop working tiles that they no longer
    can work after terrain or extra change.

    Reported by ihnatus

    See osdn #44706

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3e17aa6819aa0916417c4b4003a158eccae30137
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 1 21:32:08 2023 +0200

    Update luasql upstream URL

    See osdn #46100

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 02ed5d85f3c82648c42513233516ec8ebe99b1b2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 1 05:23:04 2023 +0200

    gtk4: Fix menu item leaks

    See osdn #46295

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1ac453652068674778435fa5854e183694868e86
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 1 08:46:10 2023 +0200

    Meson: Ignore 'attributes' errors in C++ Windows/debug builds

    Qt headers cause such warnings with newer g++

    See osdn #46408

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit afb04b3523a94a2495665fc0b2703326331a3202
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 8 07:20:59 2023 +0200

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 535c1db4093fda43c6b3f11fddb0f4a93bb481bf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 31 16:00:56 2022 +0200

    mapimg: Replace fopen() call with fc_fopen()

    See osdn #45507

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 53af4bd47dc89beb6d0141e85354e192698c99b5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 31 18:22:29 2022 +0200

    Qt: Fix next/prev city buttons

    They could even crash.

    See osdn #46404

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 928485c7463130eaf99ad83e81825d56dc74030e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 7 13:22:41 2023 +0200

    FAQ: Refresh from wiki

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8d4ff3647c284eab9e445f1d3a384a903d4a9495
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 7 10:35:31 2023 +0200

    Comment typofix: "attatched" -> "attached"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cf37fc27dbe4351165b03b5e2a0e411ed4dbbcb5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 31 12:42:08 2022 +0200

    worklist_item_postpone_req_vec(): Handle CityStatus requirements

    It assumed them to always be bogus requirements for a building.

    See osdn #46394

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 28eeba8e35b7f456b480a31b94b4ebd9bcc78e7e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 31 10:20:21 2022 +0200

    gtk4: Make citydlg production bar an drag&drop target

    See osdn #46401

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a51d9c913c0aa89ae8898004a5d1b96bf3c0f646
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 31 11:48:29 2022 +0200

    Meson: Use cross-compile include paths in compilation tests

    See osdn #46357

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit efb45e5d09cf3dcf14743a431400445dfce23e3d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 31 07:22:33 2022 +0200

    Fix ruleset comment typo; "loose" instead of "lose"

    See osdn #46281

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 125e16b4dc9f4bfa5e1888ca75d5b2b445e3c786
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 31 03:57:49 2022 +0200

    Refactor unit_list_iterate_safe()

    Fix clang analyzer warnings

    See osdn #46336

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c17a10bc5807933bfb14470458d40ae96d36deb5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 31 03:19:26 2022 +0200

    sdl2: Fix redraw_ibutton() return value mess

    Different return value spaces overlapped, making the value
    returned ambigious. This affected also callers; what they
    returned to their own callers.

    See osdn #45689

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b2e1a9380f2e20af25c41fcbb6955c5e4d548fd4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 31 02:43:13 2022 +0200

    Update gnulib-common to serial 75 from gnulib upstream

    See osdn #46374

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 873624cee4b63e4b8c66f2089ca950516e820ef9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 2 17:27:35 2023 +0200

    Client: Play quit sound while we still can

    On normal shutdown, play the quit sound before closing
    support for construcing its tag.
    Atexit handler still used in case of other kind of shutdown.

    See osdn #46426

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fc4359e900408a65a76da16fe413b879f98cd664
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 31 02:28:02 2022 +0200

    spechash.h: Mark inline functions for doxygen

    See osdn #46390

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3989e42cc14a3f589ac539bcc76809132cda63d3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 31 02:33:52 2022 +0200

    gtk4: Fix options adjusted in combo boxes

    See osdn #46386

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 88f388c1eb563a5911af47fd105541cc7b88d49d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 30 03:55:30 2022 +0200

    featured_text.h: Mark inline functions for doxygen

    See osdn #46285

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aa9482c3da93592738d2f851d7e35819128c5275
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 13 03:06:50 2022 +0200

    Resend desired server settings after a new ruleset has been loaded

    Reported by Dino the Dinosore

    See osdn #43747

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fe90d5ae2a0b7deaa99327cbce365fdb49a748d8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 30 17:31:16 2022 +0200

    gtk4: Add unit board/deboard menu entries

    See osdn #46383

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 559bffc6a15e58b18e500f1fa4a0d16ff76e39c4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 30 04:21:26 2022 +0200

    Metainfo: Add content_rating

    See osdn #46375

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0dc3f605be377fac89e57d088e24863524847f11
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 30 02:52:58 2022 +0200

    savegame: Fix unit action_vec "unused entry" warning

    See osdn #46352

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6b8c5efd4a4cb6e3b52972ba1972073f337c856f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 29 04:55:09 2022 +0200

    rusyn.ruleset: Reinstate 'â€“'

    We support non-ASCII characters in the nation legends nowadays.

    See osdn #45943

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ca2957943428aaf5485c68221650a45a7c687eac
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 30 02:43:29 2022 +0200

    freeciv-manual: Remove ruleset name from server options page

    That page is ruleset-agnostic, and we don't want to upload
    it separately for each ruleset.

    See osdn #46381

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 65c08ee326f1a4a61587cd743c964901a585f6b9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 27 23:45:14 2022 +0200

    gtk: Fix dead 'bg' assignment in create_tech_tree()

    See osdn #45687

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d1e0bfe407ad40a810b7757ac1b060be0167a2dd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 29 21:53:06 2022 +0200

    installer_cross / Meson: Explicitly set min-win-ver

    See osdn #46379

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ffea0429229548581b1923915f1e204424852862
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 1 23:12:17 2023 +0200

    Initialize mutexes of the low level fallback functions earlier

    Make sure fallback fc_vsnprintf() mutex is initialized
    before it's needed, and not freed as long as it's needed.

    - fc_interface_init() renamed as libfreeciv_init()
    - free_libfreeciv() renamed as libfreeciv_free()
    - libfreeciv_init() takes a parameter telling if
      fc_interface check should be done, so programs without
      fc_interface can use it
    - libfreciv_init() call added to modpack installer
    - In other programs libfreeciv_init() call moved earlier,
      as needed
    - init_nls() / free_nls() calls moved inside
      libfreeciv_init() / libfreeciv_free() to have them
      exactly right time

    See osdn #46418

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b9ece46de49f421545da2bb27e6531933dfbaf6e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 29 03:23:44 2022 +0200

    Make is_..._city_tile() to return bool

    That's what their name suggest, and what most of the callers expect.
    Returning a point to those callers was causing an error when compiler
    is following c2x standard.

    Added tile_..._city() family of members that those former
    is_..._city_tile() callers that actually expect a pointer call instead.

    See osdn #46306

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6c66afb5de801be8ee9e988243a4a58445066301
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 27 03:29:13 2022 +0200

    gtk4: Add Disband to citydlg unit context menu

    See osdn #46368

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 978d66330f9be9bcb6fda4d52b67bea88beadd08
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 27 03:56:58 2022 +0200

    Update msys2 environment to 221223 level

    - Update to upstream snapshot 221216
    - Drop Qt6 from x86_64 (it's in preferred ucrt64)

    See osdn #46338

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ed9a622426790d02212f3bb492cac060f364b281
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 29 17:34:06 2022 +0200

    Make units always to have their builder's nationality again

    This reverts the rule change (relative to 3.0) that units with
    pop_cost get their nationality from the citizens that were used
    to build them. Without configurability, it broke compatibility
    with old rulesets that rely on old hardcoded behavior.
    The feature is expected to come back in a better form in 3.2.

    Anonymously reported

    See osdn #45932

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 108ac19512093946e01763312e972cc28376ea2e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 25 16:30:19 2022 +0200

    Replace localtime() calls with new thread safe fc_localtime()

    See osdn #46228

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cb2d5c53a663297e26e038f908940bc5afbc26be
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 25 14:38:02 2022 +0200

    gtk4: Add Drag&Drop to worklist editor

    See osdn #46361

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7dd310573be1ad33355c84179594d7651133800a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 25 20:18:54 2022 +0200

    Add SDL2_rotozoom from SDL2_gfx under dependencies/

    See osdn #46320

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fa2c33ea051aab4e4a0a565e66714521c528e07b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 27 23:14:02 2022 +0200

    Fix dead assignment on rscompat_postprocess()

    See osdn #46373

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7c0d610bf8664cfd42f8c5874c030055be227761
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 31 08:20:13 2022 +0200

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1c9c854ac3e1a49252bc011930c20cd338d14677
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 24 22:05:28 2022 +0200

    Fix unused assignment in assign_continent_flood() with FREECIV_NDEBUG

    See osdn #46349

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e95c2ddac1fd10dca000bde051119867e0706a00
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 26 03:02:23 2022 +0200

    Clarify Helicopter and Airbase helptexts when Air units unreachable

    Rulesets that have Air unreachable Air units, had a bit misleading
    helptext about the way Helicopter is not such an Air unit.
    The exception to Air units' unreachability provided by Airbases
    has similar wording.

    Reported by MikeDuk

    See osdn #46045

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7ca051e3f73b98261780e0721591b9532238527a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 24 16:30:04 2022 +0200

    sdl2: Drop unused 'pcity' from upgrade_callback()

    See osdn #46348

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d951fe8b958e7e6654a3b767b9d6017dbf20d602
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 24 14:24:05 2022 +0200

    Meson: Add support for min-win-ver option

    See osdn #46347

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6a7d8d39d6f7007125ed4bcacbf54179e9d36e37
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 30 16:27:22 2022 +0200

    Comment typofix: "reprentation" -> "representation"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c226183a39c497ec216880cc5890a5d91e7d13ed
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 24 09:01:06 2022 +0200

    Do not count dead players towards ready/unready players in pregame

    Server and clients:
    - Dead players do not affect whether game can start or not

    Gtk- and Qt-clients:
    - "Start" button is never sensitive for dead players

    See osdn #44621

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8265a68d47ea957ba0b670d6a348f4c5a89293b3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 30 03:19:49 2022 +0200

    Comment typofix: "UNIT_BORAD" -> "UNIT_BOARD"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d8a3f0e14cccff6163378ce023e3cfc282fcbf9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 24 09:22:24 2022 +0200

    gtk4: Add game saving menu entries

    See osdn #46341

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 64f107d8e19f958b19527511397f80ee32eef30a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 23 19:29:21 2022 +0200

    Refresh gnulib-common.m4 from gnulib upstream

    Serial has not been bumped.

    See osdn #46337

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d075b3740551a4ff9462ff16e9dc094e5a9d5e89
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 25 10:38:11 2022 +0200

    Stub: Do not set nuke action ranges

    See osdn #46360

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2c3b4fd2cddca3a702fdc9fa5601ac03c2058a7f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 18 22:40:04 2022 +0200

    rulesave: Fix clang analyzer warning about strcmp(NULL, ...)

    See osdn #46292

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5b712aa9c9c178bfa7f8da04df07aea5cb40c117
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 23 18:26:27 2022 +0200

    Tell user's relation to other player in score tooltip

    List if the nation in question is the player themselves,
    their ally (relevant especially when alliedvictory enabled),
    or someone they are at war with.

    See osdn #45792

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 843e04c91badce61f0cd87661959ce0abbbeddd2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 23 02:02:49 2022 +0200

    Tutorial: Don't indicate that cities could be built on Montains

    Current default ruleset, civ2civ3, does not allow cities on Mountains.

    Reported by ihnatus

    See osdn #46229

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ed682bee0cd66def0ce28433da123db4c48c1049
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 29 02:45:21 2022 +0200

    Bump version number to 3.1.0-alpha5+

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8d7cdf503164f296990c68e27a4fe3e2a87eb909
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 29 02:44:19 2022 +0200

    Set version number to 3.1.0-alpha5

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5e184b716020df3522d4e8894424ba97f7b67610
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 24 17:34:42 2022 +0200

    Use libcurl mime API when available

    See osdn #46345

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f66e7b76790e5c838954b9efba0d8bbfe67bfec0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 18 19:58:00 2022 +0200

    gtk4: Add "Dead Players" entry to plrdlg Display menu

    See osdn #46311

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f7d1f9201070852d6343f0c101abf4b6787da69b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 24 08:27:50 2022 +0200

    Emscripten: Fix threads setup

    See osdn #46334

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1cabbc401cdd720d7cecd4faa4dee0dfcf4eb29a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 27 17:38:19 2022 +0200

    Update Finnish translation of nations domain

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3411bc9e4f5544e9ee3b9ac41f83b838caecbbc1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 18 17:18:34 2022 +0200

    Return FALSE instead of NULL from player_has_color()

    Also drop unused tilespec parameter from the function.

    See osdn #46310

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d66c486ea44e7a8e169c39940ba3c1da7f947439
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 25 04:28:09 2022 +0200

    texan.ruleset: Fix broken msgmerge

    See osdn #46358

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0b117fc6d2fa413a65e72ec735b6c4b5c0bb6dc0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 17 21:49:27 2022 +0200

    gtk4: Add sentry/fortify to citydlg unit context menu

    See osdn #46238

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c7c719a550236aa5b1be2ed0137db64402a6a094
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 20 05:35:06 2022 +0200

    Clarify pf_fuel_pos_replace() header

    See osdn #46149

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3e4d489b28f4f0cfaba99cb11cc1d69b89db6b61
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 24 09:38:08 2022 +0200

    Stop using C99 for() scope

    See osdn #46344

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3588ae50492223a97617e50b311123e9bd76d611
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 17 15:17:38 2022 +0200

    sdl2: Fix widget_scrollbar.c clang analyzer warnings

    Make some function parameters nonnull, so clang analyzer isn't
    worried about NULL dereferences with them.

    See osdn #46293

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eb7ab142a874c099515adf25a5b51b3f494ea346
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 23 04:02:09 2022 +0200

    CI: Correct documented date of the msys2 snapshot

    See osdn #46339

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d47a34c6cc81c3ee5d09927e2ca081c6e5a2d7a0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 22 23:15:16 2022 +0200

    Always use system tolua in emscripten builds

    See osdn #46333

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 822766798f1d1232138a26437e258e3eb8534cff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 18 12:49:00 2022 +0200

    Savegame: Fix "unused entry" warnings about random seeds

    See osdn #46144

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2583401c4608b20d3e77b2c9d810bccdcf62af02
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 25 01:49:08 2022 +0200

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 62babba61b93ffbb49e132e4f534e17bece4599c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 16 20:08:11 2022 +0200

    gtk4: Add Fullscreen toggle

    See osdn #46294

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fd4b54cf5801144335f1b0fc6fe679d979e3548c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 25 00:15:35 2022 +0200

    Comment typofix: "bellow" -> "below"

    Also changed one "does" -> "do"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 05cf2ccc0363552541c2b1c1aa9d0e5f9f332fa7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 17 20:32:36 2022 +0200

    Msys2 autotools: Set default MIN_WIN_VER by MSYSTEM

    See osdn #46303

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f27658e3b1a7f3a10a3323b43edfa3ebc47be76a
Author: Dino <macwiz23@comcast.net>
Date:   Tue Dec 20 16:03:24 2022 -0500

    Meson: Add 'data/default.serv', to install_data()

    See osdn #46314

commit 859fae0b668d82d572c0d594edadcc28432ea7de
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 17 17:10:28 2022 +0200

    Change occurrences of "defence" to "defense"

    See osdn #45309

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2d31d6b7a22ef6dfd3ca1a25639f4fd44bce7bf6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 16 05:49:18 2022 +0200

    Qt: Sort nations dialog using type specific logic

    That's available from client-common code. Qt-client used
    to sort everything as strings.

    Requested by Chippo Elder

    See osdn #46289

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f8bd8812bea6ac258b3bf8d98e2b5ba94fd4c57b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 17 15:00:10 2022 +0200

    gtk4: Fix "Nuicanse" typo

    See osdn #46211

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 773011f6d0d5af7a36ea716d6fd23a3c8935e596
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 17 15:32:37 2022 +0200

    Remove redundant checks for cleaning actions

    When we've selected target extra from the list of cleanable
    extras on the tile, we don't need to check if it's cleanable and
    on the tile.

    See osdn #46120

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c0bb22421386b40d35b9b3afac574c66ef9413e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 17 16:42:12 2022 +0200

    Refresh unit vision at turn change

    Requested by Louis Moureaux

    See osdn #46182

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 225226dddc9f2c561b28de51f603641ae055c5ca
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 17 13:41:42 2022 +0200

    Fix gcc-13 compiler warning

    See osdn #46300

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d35a30e4e5f3c58731ec52b89f684dd484836008
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 16 00:47:31 2022 +0200

    gtk4: Add Team entries to connectdlg context menu

    See osdn #46237

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d72841786afaa3a5ed1651bb76fb0759355e9435
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 16 22:18:11 2022 +0200

    installer_cross: Always print build errors to stderr

    Some errors were being printed to stdout

    See osdn #46127

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 25fe2f9106aa9bb7084a5f456a4358a42267cb31
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 16 19:50:41 2022 +0200

    Add req_range based checks for purging worklist items

    In some cases whether a requirement can ever be fulfilled
    depends on its range. Add checking for some cases to
    worklist item postpone or purge decision making.

    - Improvement or its genus can't change at local range
    - Nations can change on certain ranges only

    See osdn #45563

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e20ffc26e87db7f8c1bee3b9d0b5a4fdf03b61bd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 17 14:01:05 2022 +0200

    AI: Don't consider negative EFT_GROWTH_FOOD effective

    Several places were checking if the EFT_GROWTH_VALUE is exactly 0.
    Turned those to consider negative values similar way (actual effect
    is clipped between 0 ... 100)

    See osdn #46290

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ce415e91bb5ce8ea39ca5687b808a4942e5c8205
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Thu Dec 15 19:59:12 2022 +0300

    AI: Improve unit danger calculation

    Look at "Attack_Bonus" effect. Look at action enablers that may fire.
    If a unit may occupy city or bring occupiers, never consider it
    completely harmless.

    See OSDN#46046

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit 029c3c050f6b8e71753bee1fc70b5cd97ac938bc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 19 00:55:50 2022 +0200

    Qt: Add max_growth CMA setting support

    See osdn #46315

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 55204b266a2f967c4191e6205fabbff8bdacfcd6
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Wed Dec 21 07:35:23 2022 +0100

    Updated French translations

commit 04c7b126702f982b664560c030691b40d6f8e25e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 10 07:35:30 2022 +0200

    Check Casus_Belli_Caught after failed paradrop

    Seee osdn #46174

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fa2c85771c12afb4fac428ea8fa1fe3931987193
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 14 00:47:12 2022 +0200

    gtk3(.22): Add max_growth CMA setting support

    See osdn #46268

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 977c68425c4d8189ba479f0c3d6816598bf96f69
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 14 03:56:43 2022 +0200

    generate_specenum.py: Mark generated function headers for doxygen

    See osdn #46004

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5663fe0aac4ddd4393f43349f0d903f888478c8f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 14 03:47:07 2022 +0200

    aicore/Makefile.am: List sources in alphabetical order

    See osdn #46108

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2430924a3cef156bb943f518af467e1eec047e42
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 16 19:09:32 2022 +0200

    cityturn.c: Fix NULL dereference clang analyzer warning

    From check_city_migrations_player()

    See osdn #46204

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8fbe9340981950fad8597a756d83b05b344cc039
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 10 16:54:08 2022 +0200

    AI: Update comments referring to old ai_unit_new_role()

    See osdn #46177

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6e379f4becfa50e1c6b59405492a81627a0cdd9a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 10 11:01:48 2022 +0200

    CI: Add build with tcc

    See osdn #46236

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 924a03634335d2de123872396952a86a3dd4bb3f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 15 23:35:53 2022 +0200

    Client: Use setdef to decide whether store server setting

    Replace old check if the settings current value matches
    internal default with check if it's supposed to be some
    kind of default.

    This means:
     - Ruleset defaults are no longer saved as "non-default"
     - Value explicitly set to same as the default gets saved

    See osdn #43748

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1f0aea16fe4d6f862be1d6617a32724518a5736a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 18 03:15:18 2022 +0200

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 441defb54f370f9f5e45218001735f189b5d5b45
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 15 19:02:49 2022 +0200

    hessian.ruleset: Fix duplicated " a "

    See osdn #45936

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d499a0d79b2403ff98b80d310b1ad787134705d4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 10 05:46:10 2022 +0200

    Meson: Add langstat_nations.txt target

    See osdn #46197

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3380d49e09f5e0545bf666edbaac5b15d9d6e2f5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 14 01:37:34 2022 +0200

    ruleset.c: Stop processing after failure in actions loading

    When ruleset loading encountered an error on processing action enablers,
    it often still tried to do some further actions.

    See osdn #46196

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 55a5c56c3f11f2c1040e0c124212aff74aa5d2b8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 14 02:26:13 2022 +0200

    research_invention_state(): Return tech_state_invalid() on failure

    It was returning '-1'

    See osdn #45831

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fc9b27913bf897b268b0f90eee8dd29a75229e4d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 17 07:28:36 2022 +0200

    Drop unused variable 'sz' causing os_x build failure

    See osdn #46299

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5a1fe427ba481b0d346323c3f89909f4c5945213
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Tue Dec 13 23:28:55 2022 +0300

    Evaluate requirements in a vector with an arbitrary callback

    Provides the evaluator tri_reqs_cb_active() that
    takes the requirement vector, the callback, the context
    and some side data and tells fc_tristate for the vector,
    in process it may collect the uncertain requirements
    in another vector.

    Also, provides an example callback default_tester_cb()
    that consults a table of requirements that are
    considered true disregarding the context, and if neither
    of those requirements gives a definite value for
    given one from the vector, evaluates it usual way.

    All this is a base for upcoming patches.

    See OSDN#46266.

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit 57d8975e23b4c891830864a2cdde289fe8f2f932
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 17 04:55:55 2022 +0200

    Update Finnish translation of nations domain

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 545ec1d607693fec223c01e9904bee9a8e985496
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 10 16:45:46 2022 +0200

    texan.ruleset: Fix "independance" typo

    See osdn #46181

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 907eb05a9f454ef2a13edb24e1cf9645d8396df4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 10 10:54:18 2022 +0200

    gtk4: Fix citydlg right_..._unit_release() dead 'pdialog' store

    Remove also 'pcity' consequently made obsolete.

    See osdn #46201

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1ecc1a5e02685b3f0d0ec091fdbc345392f951a1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 10 14:59:13 2022 +0200

    Freeze freeciv-3.1 network protocol

    See osdn #45965

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 57b9c55c710721aba2739656126c2bbf01a35590
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 10 14:42:29 2022 +0200

    Make metainfo rule to respect automake's silent mode

    See osdn #46185

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a42fc3699c018f69b49b485483c668b6e4bd9b79
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 10 06:24:45 2022 +0200

    Add Spy elimination effect to most rulesets

    Add to:
    - classic
    - civ2civ3
    - multiplayer
    - experimental
    - webperimental

    Already in sandbox

    See osdn #46173

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7d35b24481687ad3c84f5b354afe633673f14e6a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 10 03:57:22 2022 +0200

    gtk4: Add max_growth CMA setting support

    See osdn #46234

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5198d86180296faf50d9e2b26d20b76746706364
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 10 05:56:17 2022 +0200

    stdinhand.c: Remove double spaces

    See osdn #46212

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aa29126b06a6fd538670c2b4c1864b0a90ed459c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 16 02:22:14 2022 +0200

    FAQ: Update latest stable version number to 3.0.5

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 80d34e035ca140778a0c19bc0dc4b555db243c8b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 14 03:08:51 2022 +0200

    Introduce req_copy() and universal_copy()

    See osdn #45020

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3a896dea722cd44b8bcd098b6628f4bf32683225
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 15 18:54:05 2022 +0200

    Trick 'make dist' to build tolua it needs later

    See osdn #46275

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 96da7391fa452ce166236c0a5d07bc1c61666590
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 15 18:03:45 2022 +0200

    city_rally_point_receive(): Remove nonnull attribute from 'pcity'

    Only 'packet' should have it.

    See osdn #46278

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 906acd3ef66301544f923ce212d1f0655bc60bb7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 5 18:01:43 2022 +0200

    city_rally_point_receive(): Give parameters nonnull attribute

    See osdn #46200

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4a4be48058da037caca7fd044fb127ba3ccbcdbb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 8 19:40:23 2022 +0200

    INSTALL: Document gtk4-client

    See osdn #45607

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e543c4d279682e57c7b857887b61f8c22f6f5ec3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 5 19:51:12 2022 +0200

    gtk4: Implement worklist keyboard handling

    See osdn #46198

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6ae4dd3a7c7bfdac477fc04e2b63eb24e87b132d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 5 17:17:38 2022 +0200

    Prefer freeciv tolua for native build

    See osdn #46199

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 58acd5e95974afbbc0045013a9927930175d0df0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 6 18:58:58 2022 +0200

    README.msys2: Update with info about "win64-10"

    See osdn #46223

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 140a036583bd9d45a07fd56e9cb7d52f38c2bc75
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 4 15:37:27 2022 +0200

    Make movement.[ch] functions to respect their nmap parameter

    They had main map usage hardcoded for some subroutine calls.

    See osdn #46122

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 95be6795c7a93774f7df84fd315c4fa747bfa94d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 5 20:51:05 2022 +0200

    Documentation: Add gtk4-client to the client lists

    Also create a man page link for it.

    See osdn #46006

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bd1636eaa319c7d513353fe83c3fc09a1d99b1dd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 4 10:21:12 2022 +0200

    Update ruledit screenshot

    See osdn #46184

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c28223854a5a05b008f7b2696a63046295c6649b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 4 09:52:26 2022 +0200

    gtk4: Fix accidental double accelerator

    See osdn #46183

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 15b76c62553109fdb1cc8920d16ff93f23e7bce7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 3 23:23:47 2022 +0200

    gtk4: Add extra build menu entries

    See osdn #46179

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f3874febfb08b52c31d96fd99dcb20f45d62739d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 6 13:52:40 2022 +0200

    configure: Check if C11 threads work also with C++

    Do not select C11 as threads implementation when
    it doesn't work with C++, and some C++ components
    are to be built

    See osdn #46216

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fab0bb3ab34643105da7577a5b4d39da0dc5bc38
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 4 16:51:01 2022 +0200

    Drop MAX_NUM_CLAUSES

    It was already unused.

    See osdn #46193

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e03119453dd7dd3da2187cc9e5b7c76c01b7320c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 3 22:42:08 2022 +0200

    gtk4: Draw spaceship dialog

    See osdn #46178

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c0bd0f3266cfb20b7b2216d495004b07a24f9c63
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 3 13:55:52 2022 +0200

    Metainfo: Fix release tag format

    - Place <release> with <releases> ... </releases>
    - Never create release tag with no date set

    See osdn #46168

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 288892216eefa357480ea1c6431148d67df06cdb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 4 06:56:06 2022 +0200

    Rulesets: Clear extraneous StartUnit roles

    Mainly from classic/multiplayer/goldkeep/webperimental

    Additional changes to civ2civ3/sandbox touched
    earlier already.

    Requested by Alexandro Ignatiev

    See osdn #45984

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1f0dbf3d68545674d0024b578a0491db707c416d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 4 20:43:46 2022 +0200

    Correct diplomat_embassy() header

    - Don't claim that barbarians eliminate ambassadors
    - Fix copy&paste action name error

    Reported by ihnatus

    See osdn #44872

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 16d581a0f493da0721e945deb324ac4ace1d00e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 3 14:34:45 2022 +0200

    gtk4: Add (un)load entries to citydlg unit context menu

    See osdn #46169

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3e1f0d86032efecb008c3e8781373868a41b2217
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 6 22:16:25 2022 +0200

    fc_prehdrs.h: Make sure zlib.h is included before readline

    Fixes a problem seen with tcc.
    When readline was being included first, it sometimes defined
    macros that system headers tried to define again.

    See osdn #46225

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8b388c919ebe2c2340c54e997cdc9a5b1538aee1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 4 13:50:15 2022 +0200

    CMA: Make SAVED_PARAMETER_SIZE big enough to hold max_growth

    See osdn #46189

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 21546f4cd4ea24d614636f379cc41821f8e801f4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 3 20:25:53 2022 +0200

    README.effects: List actions supported by casus belli effects

    See osdn #44197

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6d46feada49dd52aead3c9206b890c6fd9390ccb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 6 11:23:11 2022 +0200

    gtk4: Add AI level entries to connectdlg context menu

    See osdn #46215

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 97ad53eefc48a4efccbc37a9b324b79946dc1b93
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 4 10:41:37 2022 +0200

    macos: Add homebrew-appbundle.sh build script

    Based on patch by ddeanbrown

    See osdn #44549

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6c5f6743780b5d789bd28cf3fb95d5f683a6de44
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 3 10:17:45 2022 +0200

    helpdata.txt: Stop saying that irrigate or mine can convert terrain

    See osdn #45810

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 008ddb3f34fcac40b365781453b82284a815ad73
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 8 01:41:01 2022 +0200

    .gitignores: Remove .a entries as *.a is ignored in root .gitignore

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d66e7309e7791ca9de076daa932ee79f00732db9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 3 07:34:52 2022 +0200

    Meson: Add langstat_ruledit.txt target

    See osdn #46141

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 272e4a48bc70a8e833680b7132f359a9b953d23c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 3 22:03:41 2022 +0200

    AI: Check that hunt target is targetable

    Fixes segfault when there's nobody to attack at target's tile

    Reported by Lexxie

    See osdn #46176

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fd488836ef9621b91ca5a0e95cd7b07dd2da3192
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 29 01:51:18 2022 +0200

    gtk4: Add cmdlevel entries to connectdlg context menu

    See osdn #46140

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 21efbf14e691a9928de8c7321e14f61d07a76fd8
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Tue Dec 6 11:28:16 2022 +0100

    Updated French translations

commit 033b5486f23a1c5567a4b9e2203a0153dadba4f0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 1 20:16:18 2022 +0200

    installer_cross: Check that crosser setup is supported

    See osdn #46126

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 76ec8a1736ab1bdca3c16542273f7b698fff972a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 3 08:25:20 2022 +0200

    Fix conn_pattern_from_string() dead initialization of 'type'

    See osdn #46162

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 312619d0ea1eef5154d271a2a6f7a93bd3731959
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 3 10:03:25 2022 +0200

    AI: Assert continent number sanity in dai_data_phase_begin()

    See osdn #45867

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5630802253f5fcdd5e461747fb2eee23a012ed2f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 5 22:48:49 2022 +0200

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 58414ff595531e0b00ba7f09936ac17d663c7c46
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 28 23:05:24 2022 +0200

    gtk4: Add "Clean" menu entry

    See osdn #46138

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 28ee36eeb4f0cb243c1015a06a14db8f7d337973
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 30 03:40:17 2022 +0200

    flatpak: Give OpenGL rendering permissions to sdl2-client

    See osdn #46145

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d264904ac9645a7ec0281e3ce760ac9d2742735b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 29 18:00:57 2022 +0200

    README.effects: Improve Visible_Walls documentation

    - Correct effect name.
    - Tell maximum value supported by the tileset format
    - Tell how higher values are handled.

    Requested by Lexxie

    See osdn #46146

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1059ca0957a21c754cb6534270ea8e41afb062c6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 2 05:49:52 2022 +0200

    Path finding: Make pf_fuel_pos cost an int

    Node cost, which is an int, gets assigned to it.

    See osdn #46136

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit adfd949ec37a109874cb3a26a4eb2965aabe2e1e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 27 23:52:55 2022 +0200

    sdl2: Fix Tile menu "Paradrop Here"

    See osdn #45981

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5b6c7f6acc452013b495e37adc01c015aacecb8b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 4 13:55:00 2022 +0200

    Comment typofix: "uptodate" -> "up to date"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 984f8d9e6aaeab27ae6efc783dfe10437b825b93
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 28 22:07:13 2022 +0200

    Meson: Substitute @FREECIV_STORAGE_DIR@ in fc_config.h

    Reported by ddeanbrown

    See osdn #46134

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4eaae694fd13a68ed425790f91af3eeeca4976b8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 4 08:35:44 2022 +0200

    POTFILES.in: Add rulesave.c

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c4780059dbff877cf2314eafa7b54456d20dd22f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 28 16:46:36 2022 +0200

    Correct pf_fuel_pos_ref() header

    See osdn #46135

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6fc5107b7d1149e9fc1cd0d36bb4c4bc42eb9cf2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 4 07:31:06 2022 +0200

    Update Finnish translation of nations domain

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 887a9db9a06884527ad92468e3cf2809d0dc2a77
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 26 15:40:52 2022 +0200

    lua: Check legality of unit_move() and unit_teleport()

    Reported by ihnatus

    See osdn #44769

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aafe72989363975a10bcc422faafb42743f0b802
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 27 00:09:29 2022 +0200

    gtk4: Add unit activation entries to citydlg unit context menus

    See osdn #46123

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 22823d1297fc2c26319690beb546ec68f706e2da
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 3 15:22:23 2022 +0200

    Comment typofix: "Auotexplore" -> "Autoexplore"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 709f484f4c5fba8d89423c474c10c0790db526bc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 27 21:52:29 2022 +0200

    Update sdl2-client screenshot

    See osdn #46130

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2a3d63f80802b1591319941d6f11c8b8bc25c93d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 3 08:11:27 2022 +0200

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 055e3c9473287106935d8b59131ad49bd1b27fd5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 27 13:52:04 2022 +0200

    specpq.h: Mark inline functions for doxygen

    See osdn #45738

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 047ae843d29dd02b2a727fe61ca5e60bda159798
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 27 22:06:24 2022 +0200

    Client: Clip wall value from PACKET_SHORT_CITY to NUM_WALL_TYPES

    Based on report by Lexxie

    See osdn #46092

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 42addaa17a59287018a0362df001ca9f5228e331
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 26 14:46:23 2022 +0200

    gtk4: Make icon_label_button to prefer label over icon

    See osdn #46116

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b099265bcedafbd2b919cf9438c411671cae1a17
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 27 13:29:48 2022 +0200

    Meson: Use explicit 'setup' subcommand

    See osdn #46103

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 485d85d44696d59d4d9daf6e2498676c87105886
Author: uruiamme <uruiamme@users.noreply.github.com>
Date:   Fri Nov 25 21:57:47 2022 +0000

    texan.ruleset: Update and cleanup

    I added more historical cities after Waco, the last of the
    major cities in the list. At least 14 towns are now on
    the list for historical reasons ... some are either
    tiny towns or nonexistent in the 21st century. I didn't
    change San Antonio to its original (de Bexar) Mexican name,
    though. Towns of historical significance make up the bulk
    of the additions. There is nothing I know about either
    a "Boston" or a "Tuna" (gone), but there is a "New Boston"
    in the updated list. Dallas and Fort Worth arenow sequential,
    as are Bryan and its sister city. A few Houston/Dallas
    suburbs made the list. I reordered some minor towns.
    And fixed the legend to include the dates of the Republic,
    mentioning the Alamo, and San Jacinto.

    For the updated suggested locations, I found a couple of
    mountain towns very useful, plus extended the avoidance of
    having coastal/forest/wet locations be located in
    the mountains, etc., etc. I think a lot of people will
    appreciate the mention of Mexican heritage with cowboy culture.

    This is my second edit to this ruleset. I tried hard to
    be fair to each region of the state. The only Easter Egg
    that I can admit to is "Hico," which while is big enough
    to add on its own perhaps, has a pronunciation only known
    to locals and I can't get out of my head.

    See osdn #46114

commit 7bc797c87b412f3b66367fd1834ae169c052126b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 27 01:44:45 2022 +0200

    sdl2: Fix dock assignments from helpdlg.c

    See osdn #46124

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1a8fda2e6809fe3f16b4de3ed1c39c97b7e07e37
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 27 12:50:17 2022 +0200

    Fix zero size callocs when registering lua signals and functions

    See osdn #45547

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4f9e805a47bb8683c4f524de54714d4525510239
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 26 11:40:31 2022 +0200

    Qt: Show extra's sprites on help browser

    See osdn #44859

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e6fa2f93024802088f3a1fa3e13bf84c922bc668
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 26 05:43:59 2022 +0200

    Meson: Generate and install metainfo files

    See osdn #44095

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aa6f10f04e4acf0455d53aee05578dbe1fb60122
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 26 06:23:09 2022 +0200

    Savegame: Fix "unused entry" warnings about traderoute padding

    See osdn #45856

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7b9419660a2300e10d8a0ec3d10a5b1a14575926
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 28 06:08:45 2022 +0200

    texan.ruleset: Backport cleanup

    See osdn #46132

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit af762af6dbeb859120fffcf4c9de6c6093587309
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 26 01:04:39 2022 +0200

    gtk4: Add spaceship and achievements report menu entries

    See osdn #46112

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 376e470a7229cff78b6058eaeb3dd390b6322edf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 26 13:25:30 2022 +0200

    flatpak: Add sdl2-client flatpak

    See osdn #46111

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6cd80a617534a81b028290019eea41edcb1bc535
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 26 07:27:51 2022 +0200

    Send rally point separately from PACKET_CITY_INFO

    Use existing PACKET_CITY_RALLY_POINT

    See osdn #46080

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 44d9fe3dd061cc440db5a1674a82bd012307a901
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 26 00:11:05 2022 +0200

    Fix zero size VLA warning from top_sort_lattice()

    See osdn #46107

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 05a0d37eb8e8a33851feb2ca843ddfd85a87eab5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 24 22:10:52 2022 +0200

    gtk4: Add connection related items to connectdlg menu

    See osdn #46109

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1a33c6546042692865a2e76b6f784799c2550138
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 22 20:13:30 2022 +0200

    Granularity: Increase number of move fragments

    Number of fragments multiplied by 10. Most related costs
    also multiplied by 10, but in some cases things are
    adjusted slighly to take advantage of the increased granularity.

    Based on report by Lexxie

    See osdn #45859

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8f66bb93fe7a099d7669b6714a0450e1e380d1ba
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 24 02:50:24 2022 +0200

    Correct name of daicity.c in comments

    Several comments referred to it as 'aicity.c'

    See osdn #46105

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fb5be9336831356a30c46924a703e9b725e45c1f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 23 22:24:36 2022 +0200

    Correct "in stead" as "instead"

    See osdn #44787

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f8fb1aa27c084bda57c7d5aa9c0588755bf26444
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 22 22:48:40 2022 +0200

    sdl2: Fix clang analyzer NULL dereference warning

    From unit_select_dialog_popup()

    See osdn #46099

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9f10668e349b0063a4e931c3b1b97a956c37a869
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 24 20:06:35 2022 +0200

    Update screenshots for flatpaks

    See osdn #46106

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f147a8b5cfacc2da15323ae90f39c54cd1620e88
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 23 21:37:07 2022 +0200

    Move PACKET_CITY_RALLY_POINT unpacking to common/

    See osdn #46101

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 444ba38052d582601ef1ee5e004f460acaaf991a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 23 21:17:30 2022 +0200

    handle_city_short_info(): Fix dead 'ptile' assignment

    See osdn #46104

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 467336781ceb542c7c60328261c3e75761437527
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 23 03:28:28 2022 +0200

    AI: Turn magic military emergency want values to macros

    Also fixes dai_unit_consider_bodyguard() bug that very high
    want is considered military emergency even when it's not.

    See osdn #46091

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 34183d3469290be2dd3af8371c47c7f39ca81585
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 22 22:17:24 2022 +0200

    gtk4: Add context menu for units in citydlg

    See osdn #46098

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 358ac2a0f7f501de2b1c57566175daa701451941
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 22 19:52:22 2022 +0200

    installer_cross: Build all of Qt6-client assuming Win10+

    See osdn #46090

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0a499f0c8df188197358b9db766d0d44c4235ef6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 23 01:30:27 2022 +0200

    Client: Add "Connect Maglev"

    Implemented for gtk3(.22)- and qt-clients

    Requested by alain_bkr

    See osdn #41990

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a50fd1d4aeaaa4f3984ef7c6f5ccb0959093b6e7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 26 08:37:46 2022 +0200

    Comment typofix: "builings" -> "buildings"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 030c927ed6932a23bbaeaa489c84a14f0289bb9c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 21 04:59:20 2022 +0200

    Make UTYF_COAST units to save themselves to coast

    Reported by Lexxie

    See osdn #45948

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c189474891ff303a1aa80642b655f69d42952275
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 21 06:14:11 2022 +0200

    gtk4: Add Transform Terrain entry to menus

    See osdn #46083

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d842e1559df9faa4bb1258dea742a2fd66003f36
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 22 05:53:40 2022 +0200

    CI: Update setup-msys2 to version 2.14.0

    See osdn #46037

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 50a2f56938fbc8311600d124fe69dd2771f2236f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 21 04:23:05 2022 +0200

    Split nationalities list from PACKET_CITY_INFO to a separate packet

    See osdn #46079

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d2b2cc0334aa8c03227e654929d5b1e5804ebd6b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 22 20:29:15 2022 +0200

    gtk: Correct check_player_or_user_name() header

    Drop documentation of nonexistent match_len parameter.
    Document parameters in doxygen style.

    See osdn #45973

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cdf0127c69982488704ef5824b4616461ee1ef97
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 22 20:01:44 2022 +0200

    make_dir(): Don't try to create a Windows Drive

    See osdn #46036

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a6ec73cbefc718349669b17180c31abb99055265
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 24 23:16:07 2022 +0200

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c30fed29fa3831a5f1de99bd2bf224c9c1c090eb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 21 07:00:40 2022 +0200

    Qt: Make "Toggle Minimap" to use "<shift>h"

    See osdn #46084

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d3f5f6bcb7433297a1ff10fd7e984758c37c76fc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 20 07:37:06 2022 +0200

    Update msys2 environment to 221105 level

    See osdn #45966

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1f467e9a2c5d6d12e333d3ad4ebe3ead1b5f5a86
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 21 21:32:57 2022 +0200

    Fix dead 'i' assignment in save_action_auto_actions()

    See osdn #46087

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ef050db541a52cddada61a20fb2eab1d4f97f5c7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 22 06:20:18 2022 +0200

    Use "https" protocol for gnu.org URLs

    See osdn #46089

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b51228fd2d336475ddbc8f5f8b258aebab5b3c02
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Mon Nov 21 22:38:47 2022 +0200

    AI: consider logarithmic trade revenue bonus

    See OSDN#46049

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit 7a4ce8d0836429ea9c57d39ad087cadd164133b7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 21 05:40:53 2022 +0200

    gtk4: Add non-global-observer entries to the connection menu

    See osdn #46081

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dd157a331cd4a776efc5aafab6388bea848ec357
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 21 03:25:33 2022 +0200

    Meson: Install .desktop files

    See osdn #45870

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e0cf4292ef1a565b6c50905cecb8a0ba1aae5ac4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 23 04:41:33 2022 +0200

    Comment typofix: "carefull" -> "careful"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5372527f9c7e92120b4945fc12e374302e06ee17
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 21 06:18:27 2022 +0200

    fc_utf8.c: Do not cast 'const' away

    See osdn #45259

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 27fccea71af615b9e31bc64f6f2d689ea7198383
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 21 02:34:24 2022 +0200

    palau.ruleset: Remove setting "President" as special title

    It's a standard title. Having it as a special one in
    a non-core nation caused core translation domain translation
    not to work.

    See osdn #46012

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c8d3dfefb60f06a4b68def5f42b446cf5c5be18a
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Thu Oct 27 00:44:59 2022 +0300

    Fix "can't build X now" ignoring city tile

    See OSDN#45982

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit 792372289d73d0130bc653f1a2b71b19e7ad0ba6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 22 05:30:50 2022 +0200

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c891d52d813a35ac609279a57573780d8d322fa5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 13 11:17:30 2022 +0200

    gtk4: Implement context menu for options in options dialog

    See osdn #46063

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a58fee4e060574841474168fd7f14b898b8fb7b7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 13 02:03:44 2022 +0200

    CI: Build Qt-components on mac-meson

    See osdn #45996

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2c37f45ac3dbca374833f8093ec8c76b0205a3f7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 13 03:14:19 2022 +0200

    sdl2: Rename ensure_big_sprite() as theme_ensure_big_sprite()

    More namespace to distinguish the function from client-common one.

    See osdn #45851

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a6366cc50adc29f1586362816768e5a01f1ab2b9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 13 02:36:22 2022 +0200

    assign_continent_flood(): Avoid modifying tile list when iterating it

    See osdn #45825

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f32a17d516eb141954667544475426d72ea9d998
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 12 19:32:13 2022 +0200

    gtk4: Add non-edit-mode edit-menu dialogs

    See osdn #46062

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cceae4c97adb9a5ccbf0632bf508d72a3c0b061d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 12 23:08:11 2022 +0200

    generate_specenum.py: Correct documentation comment in specenum_gen.h

    See osdn #46003

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3f05ad860bf0164f1db9dae7cf3046ad962caaa9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 12 20:23:24 2022 +0200

    Have plain .desktop files in git and tarball

    Replace .desktop.in with .desktop

    See osdn #45869

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f74053f0bb1232879606b793320244cf33a91ed7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 13 01:58:35 2022 +0200

    packets.def: Make PACKET_EDIT_CITY history UINT32

    See osdn #46013

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f752d5fd09a1f64807c46152cabcb3f74ce2b93d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 12 23:17:36 2022 +0200

    Savegame loading: Detect workers outside current city radius

    See osdn #45343

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 694101d1963e9311b753df54aeb61e5340d92956
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Thu Nov 10 15:10:56 2022 +0300

    Update, improve and split is_req_unchanging()

    Certain source kinds treatment was changed because of previous
    changes or just strange behaviour, mainly to postpone city worklists
    instead of purging when building a thing ever
    seems theoretically possible.

    AI gets some source kings as unchanging by legacy.

    See OSDN#46029

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit b1deef1f1773e01f675418143600ce8f1ae03dd8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 12 12:07:42 2022 +0200

    Fix req_vec_get_first_missing_univ() req_vec_problem leak

    See osdn #46058

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5d2e68a70452d794930f4213aab4e1e5c792eba4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 12 15:25:05 2022 +0200

    map_claim_base(): Allocate could_see_unit only when needed

    See osdn #45961

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4c470696be0c9afb762ea04842dfe52f8b68b149
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 5 04:22:15 2022 +0200

    Qt: Fix classic theme syntax

    See osdn #44857

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d294b9e3b5d8e40a509908661276601040a570d0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 29 20:04:41 2022 +0300

    meson-winbuild.sh: Add ruledit build support

    See osdn #45511

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 45a973a426decd40302bb24d99934b37451368c4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 12 19:03:58 2022 +0200

    gtk3: Mark mapimg creation error dialog for translation

    See osdn #45989

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5f9f4b397d6a28424df5f260a155f04351ee96a9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 5 10:21:36 2022 +0200

    Fix "all units ... die" grammar

    See osdn #46038

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aad5463f31a08848c50d71b7d164affacbe974e0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 5 05:55:02 2022 +0200

    Rulesave: Add Trade settings section comment

    See osdn #45386

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 70d93a956467de1272dcd2fd1e7051fb3b85b1c2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 6 08:15:03 2022 +0200

    gtk4: Implement pregame players list menu

    Initially with just the player info entry.

    See osdn #45922

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ec28b0f571a113d30c2415090196011897cc1fd6
Author: dark-ether <henrique.hsa2002@gmail.com>
Date:   Wed Jul 20 16:41:09 2022 -0300

    Change all occurences of strcasecmp() to fc_strcasecomp()

    Modified by Marko Lindqvist

    See osdn #45034

commit b1d5c01376f34e3a4594a4038fb4f8be18bd9886
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 13 02:28:24 2022 +0200

    Comment typofix: "assing" -> "assign"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5d518ec416056a480a56667193e7ffe860288b43
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 5 09:45:10 2022 +0200

    Path finding: Make node cost an int

    Short was overflowing there when terrain move cost in fragments
    is high.

    Reported by Lexxie

    See osdn #46039

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a0b25851b2353bfa59eab84b69ecaac844d20a0d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 5 02:49:40 2022 +0200

    gtk: Mark mapimg creation error dialog for translation

    See osdn #45989

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e1a8acef01684b48e325fe091dda2fc7db61664a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 5 01:47:56 2022 +0200

    Correct player_limit_to_max_rates() header

    See osdn #45990

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 46e91eb28fbfad77f3eba3c10cd213493c2b7487
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 5 02:22:01 2022 +0200

    Metainfo: Generate release tag

    See osdn #45837

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9b74d6a3fac51851105413d34ffe120296a2cd52
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 4 01:33:26 2022 +0200

    Send nation groups and sets counts in PACKET_RULESET_CONTROL

    See osdn #45195

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 54f63dffe7a9ea9b1854748160954d497a5d2b59
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 3 04:52:55 2022 +0200

    luasql/Version.txt: Fix typo: "fron" -> "from"

    See osdn #45849

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 24c3477919ebb9f1ee360cf2963f600618809328
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 5 00:58:20 2022 +0200

    make_dir(): Return FALSE on failure

    It was returning TRUE even on failure.
    Adjust also the callers to check the returned value.

    See osdn #44940

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 728ba71391ebb9398aee9186703dfe3bd81e6855
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 2 02:45:22 2022 +0200

    sdl2: Fix city rename to take effect

    See osdn #45986

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4df0593e71c83caa70a82b5326dd68f9cfa4840c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 2 02:17:16 2022 +0200

    Bitvector: Fix clang++ -Wtautological-constant-out-of-range-compare warning

    See osdn #45998

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f6e32204dedf73bd31f7ffea8364ae0e285acce7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 31 02:05:02 2022 +0200

    gtk4: Add rest of options menu items

    See osdn #46017

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 722a47cd5615d5abc6adb3c07717683550be5d9f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 31 00:21:28 2022 +0200

    configure: Search mariadb configuration by name mariadb_config

    See osdn #46015

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 469b66cb033f7924a3e5f0566969d7bc806fda8c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 30 09:25:49 2022 +0200

    gtk4: Apply translation to "Help" menu name

    See osdn #46002

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2e3ae53a6da2491e6461b85732accc275063f3da
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 6 18:04:43 2022 +0200

    Add .gitignore for new cimpletoon subdirs

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bdb179b94a5a4ee92e1f7f979caf8f7e24321164
Author: Elefant <noreply@null.void>
Date:   Wed Jul 20 10:04:57 2022 -0600

    Add units to cimpletoon

    Add some units by XYZ and Elefant to cimpletoon and toonhex.

    Some syntax fixes by Marko Lindqvist

    See osdn #44853

commit c4244b4e2cbae3a4b53d3553b9ab32894e74e0c2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 29 04:47:44 2022 +0300

    Add README.crosser

    See hrm #734372

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8fa25813245bc280d395b4215bd054483b1a61d8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 29 22:00:48 2022 +0300

    sdl2: Make some popup_diplomatic_objects() vars unsigned

    There can't be negative count, nor size (width or height)

    Helps compilers' (and other tools) heuristics

    See osdn #45985

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 76e368f78de6a4f13bb93b8cd61583d43968dd08
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 30 06:35:23 2022 +0200

    CI: Do autogame test on mac

    See osdn #45997

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3dd16e7f68fd733fec1ebf6ac2dfb7a2482ad103
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 5 09:04:36 2022 +0200

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9f3126779707f1366441b60423f3b3d6cfa79c02
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 29 10:30:45 2022 +0300

    gtk: Correct conn_list_select_conn() function header

    See osdn #45921

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b29e64248e61a75c02100ba81f83d89ccded937b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 23 06:41:07 2022 +0300

    Make vision site name allocation dynamic

    See osdn #45844

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 66c36876646bdf1e5de646b44371eeef27985783
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 2 03:23:46 2022 +0200

    pf_attack_possible(): Consider UTYF_NEVER_PROTECTS

    Also, no unit is unreachable in a city

    Patch by lexxie9952

    See osdn #46024

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7a9e71640490f0619ebf77271a14a3a91c9ec750
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Sat Nov 5 00:02:21 2022 +0100

    Updated French translations :
    - Palaos nation
    - Battle groups
    - Latitude ranges
    - Top cities report
    - Keyboard shortcuts alignment in documentation
    - Smaller stuff :D

commit cef0fadaacc2f05c8f5cd0eec5978192beea6644
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 30 06:18:23 2022 +0200

    AI: Do not count defense value for a police when there's no danger

    Danger was considered to be high when there was none, but
    defensive unit was considered just for Martial Law effect.

    See osdn #45595

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 448b3ce5f4f8373f0f52d09d1d31ff8a3a232196
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 29 00:26:33 2022 +0300

    gtk3(.22): Implement Battle Groups menu

    To make functionality more discoverable.

    See osdn #45924

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7f61780b074718bc899f66394070352129c97074
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 29 07:46:10 2022 +0300

    Update freeciv-ruledit man page

    Mainly adding all the commandline options

    See osdn #45534

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7d2b830d7b487285b390c926d395fa920ef6a9c5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 4 01:08:42 2022 +0200

    .gitignores: Update after .desktop move

    .desktop files removed from the .gitignores of the
    directories where they used to get generated to.
    They are NOT added to bootstrap/.gitignore as soon
    they should not be ignored there.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 82b6d9978f7c7310382b604685855305a5424383
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 29 04:00:42 2022 +0300

    Qt: Replace magic '0' with A_NONE

    See osdn #45530

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 47a8ce0bbeb70129c47c6dc25e2a33aacaa1a67b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 29 22:41:43 2022 +0300

    Protocol: Make MOVEFRAGS UINT32

    Requested by Lexxie

    See osdn #45950

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 63ac60058f4e23780bf8609bcb1522890c3d85b0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 28 23:30:15 2022 +0300

    Make fallback version of fc_vsnprintf() thread safe

    See osdn #45905

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a3cc9ade101eb2d8c746c419a2f418e272f5edae
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 28 21:20:40 2022 +0300

    sdl2: Do error checking in set_video_mode()

    See osdn #46000

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a2aeb560778fd4bdcca25736a5501174d5414b94
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 28 22:50:42 2022 +0300

    Msys2: Make Qt6-client builds for "win64-10" only

    CI, building on "win64", still tests Qt6-client and -ruledit builds.

    See osdn #45908

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2751bedadbb9b86dfbf8c5288c201638344162e1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 28 20:15:05 2022 +0300

    Specenum: Fix clang++ -Wtautological-constant-out-of-range-compare warning

    See osdn #45941

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8bb3cdec449796a56cd43812d34f6591c8f19dcc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 28 19:58:53 2022 +0300

    Give paradrop a key distinct from cleaning pollution

    Qt-client not changed.
    Other clients now use 'j' (Jump) for paradrop.
    In case of gtk4-client this is first time paradrop functionality
    gets enabled.

    See osdn #45958

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 34da128041f376d7303ecfaf3b6f31c331e3ad4b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 28 19:43:49 2022 +0300

    Generate .desktop under bootstrap/

    See osdn #45983

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 18441c4c2985d1b60644b7b0cdbab3824a621e33
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 27 22:41:12 2022 +0300

    README.msys2: Put official snapshot version info on top

    See osdn #45829

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d88d7500c0bdc91b057321bbc5a56ed0906b8436
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 28 04:40:27 2022 +0300

    Limit players to max rates after loading savegame

    The rules may have changed since the time game was saved.

    See osdn #44186

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0439d656e2317f432c7961989e55ccae1f3dc0bf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 26 22:37:18 2022 +0300

    Qt: Use QLibraryInfo::version() instead of qVersion()

    Latter caused compile failure with Qt-6.5 development version

    See osdn #45959

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 46c2b2d6ef199d6a5f3598b3608eecc6f8b28ad6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 28 20:44:49 2022 +0300

    Send unknown score as -1

    See osdn #45793

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 61c96be53495ab0bab6832db8ae18b719654aba8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 26 04:36:43 2022 +0300

    Remove mention of F10 from meswin_dialog_popup() header

    See osdn #45964

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f6ad10fbb4a0261fe9f1ad05bc410dfad34f04cd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 25 04:28:26 2022 +0300

    Improve controls help formatting

    See osdn #45969

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 65a7ce9b544285a1b5d4e3dfe3955cbfa4a83f39
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 29 23:28:24 2022 +0300

    Meson: Install Palau nation files

    See osdn #46010

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 74fd2f38843699667dee2e47b25f745626b2be4f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 25 19:57:59 2022 +0300

    gtk4: Add Clean menu

    See osdn #45968

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 203e8623d852fa083ab8508c2dd0c99e0f45c89d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 26 02:59:06 2022 +0300

    Msys2 Makefile: Add initial clang64 support

    See osdn #45960

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e650907812799656f63ed87888bf82a6d4deb081
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 30 14:24:43 2022 +0200

    Update Finnish translation of nations domain

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 696ee7bdc1996eeb223a8f331aadf57fb3c6e786
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Fri Oct 28 22:35:02 2022 +0200

    is_req_active(): dispatch instead of switch-case

    Requested by Marko Lindqvist

    See osdn#45602

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 586dd262d4b932f0b2cb04a6c26bd81acbfb70eb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 27 22:54:46 2022 +0300

    Fix updating city name on client side

    See osdn #45987

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 38ef2440f7ad1eaac04fbfed8ecc2e7643add286
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 22 12:02:14 2022 +0300

    Don't try to create current directory for savegames

    Game saving was trying to create the directory for the savegames
    even when they are saved to the current directory, i.e., when
    the directory name is empty.

    See osdn #45841

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c6681d01f1e6516d17f195f2922b022ca8e3cd62
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 30 00:06:11 2022 +0300

    nations/POTFILES.in: Add palauan.ruleset

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 51d54ab78c5227170dc19a95c4dfa5c4de338c2a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 23 18:56:58 2022 +0300

    Qt: Popdown old tile info before popping up new one

    The old code resulted in such old popups staying up forever
    after the new popup overwrote the only pointer we have
    towards them.

    Reported by ddeanbrown

    See osdn #44177

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5e52086e3d7e7b4a8c8c6b4fec128a2ba09e71bf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 25 02:22:33 2022 +0300

    Update to crosser-2.5

    See osdn #45701

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1cb423aa625db490b0bdc16e3eff5e215d71b188
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 29 06:38:58 2022 +0300

    Comment typofix: "tranport" -> "transport"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b4f9fd2a3a6e5ef57b42aa6d8fb005e816d77445
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 20 05:17:42 2022 +0300

    Add Palau nation

    Original submission anonymous.
    Since modified by frank e and myself

    See hrm #697041

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 470b6aad7c170a82408353bc9e2c7dc887ad9f0f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 29 04:27:44 2022 +0300

    Comment typofix: "undersireable" -> "undesirable"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d0894b1218d4a3975c6277ff0131003daa33ab5c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 22 13:26:45 2022 +0300

    cm.c: Clean out repetitive city_size_get() calls

    See osdn #45676

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 60b71bce34720dfaa2ce3984e69a19444cdc0c88
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 23 02:57:49 2022 +0300

    Reimplement astr_vadd_at()

    - Make it to use va_copy() instead of trying to reuse
      same list when it needs to call fc_vsnprintf() multiple times
    - astr_buffer_grow() interface changed so that we get the
      required size at once, no need to grow buffer in a loop
    - Buffer size is no longer power of two. I don't think
      that property really gave anything in the case of
      a single global buffer living over entire lifetime
      of the process
    - Now that buffer growing actully works, made the initial
      buffer a bit smaller

    Problems originally reported by louis94 and Daavko

    See osdn #45903

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 27c87c0af6030df76e4b96e1f536ecae00c0a30a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 22 06:53:23 2022 +0300

    Qt: Allow toggling own Away mode from AI menu

    See osdn #44858

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f92602dc2fc2541a8616394b526cb0fdfb59fbcf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 22 03:39:32 2022 +0300

    Move metainfo.xml creation from configure to a script

    See osdn #45616

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 18f34731321e5259928c09fa176af9f956235bbe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 22 02:23:09 2022 +0300

    CI: Add components to mac-meson build

    See osdn #45929

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0b310a74d21023c893f6e08d396344b37d485bd2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 22 04:57:40 2022 +0300

    civ2civ3/sandbox: Disallow unhomed units from bribing

    Units gained that way are unhomed too, making it possible
    to get armies of units without upkeep.

    Give homeless diplomats ability to home themselves to
    gain the ability to bribe.

    Reported anonymously

    See osdn #45070

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b9340b7142cf192423661c80afca58618ae57fe0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 28 00:20:50 2022 +0300

    Comment typofix: "requireing" -> "requiring"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 50d9118288fb56974c29894372b03941dbcf2930
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 22 04:01:19 2022 +0300

    sdl2: Fix Tile menu "Patrol Here"

    See osdn #45925

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d1b96a93b9654621d327264ddb9c320beaffe73e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 18 03:45:51 2022 +0300

    Shorten names of tolua patches

    To make sure they fit within tarball path length limits.

    See osdn #45915

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f13a007157052232f50df2a97eab929f74b0deee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 16 01:42:20 2022 +0300

    civ2civ3/sandbox: Clear extraneous StartUnit roles

    Requested by Alexandro Ignatiev

    See osdn #45878

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 575eced4394a71672267afa491aceae990c9764b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 22 02:13:56 2022 +0300

    Remove dead assignment of 'method' from fz_from_file()

    See osdn #45848

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3ae0e7e681b7fee6352ec30414a8905ce6e9679d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 22 01:42:14 2022 +0300

    savegame: Have as little trade routes padding as needed

    See osdn #45855

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 354285261074b87d7f82d61cbc18e6d9844a9e07
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 26 21:28:18 2022 +0300

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 59a2138002cd2e2386218f5d87e3ac106c828e5e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 22 02:07:50 2022 +0300

    Remove unused gtk4_menus.xml

    See osdn #45817

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 49b08fb3b96854a3d93ef7998bee8abc80180fd5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 23 21:48:08 2022 +0300

    Msys2: Stop using snapshot.project

    As S3_1 has the datafile formats frozen already, any
    files it writes are of the stable format. It's better
    to have them under stable's "~/.freeciv/" than in
    more testing oriented location.

    See osdn #45934

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5aa2807fa99f9c6167f65eaae84e7344cd9af965
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 21 05:07:17 2022 +0300

    Replace - with â€“ in diplchance helptext

    See osdn #45834

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1c0a148627fd524a17a5cf25035ed6e9d7c322e8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 21 04:48:27 2022 +0300

    AI: Make dai_hunter_juiciness() 'threat' and 'cost' unsigned

    See osdn #45920

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6ffc0f31d54fe873e7536ca3712b10dcb56c4a3c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 25 20:50:15 2022 +0300

    Comment typofix: "to returns" -> "to return"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2fd1c1be423108f81fe28ad879028be39522fe12
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 21 23:55:27 2022 +0300

    gtk4: Implement Battle Groups menu

    To make functionality more discoverable.

    See osdn #45923

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f0994f6c393ec06cff2442254f3811fe26cd7335
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 21 03:26:08 2022 +0300

    Meson: Require at least Windows 10 on builds using Qt6

    See osdn #45860

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e3163e0706f882cee8281e1beec7c252bfd9e507
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 16 09:20:43 2022 +0300

    Fix techs.ruleset documentation typo: "Requireing" -> "Requiring"

    See osdn #45880

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cbe916c95473acdaee3ba21a117cc0f99588203d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 17 00:51:31 2022 +0300

    Improve inifile parse error messages

    See osdn #45573

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eda2fac0fd9ce44c5c3a1f115098c01af9196a35
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 16 08:34:05 2022 +0300

    sdl2 gui_string.c: Refactor sizeof_font_tab out

    See osdn #45850

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 402d38d1fda81962b9508d754509795eeeb9ca0a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 24 18:18:31 2022 +0300

    .gitignores: Update after metainfo move

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c46559e1b8685ae6cac451cf4df86eb5b3d8acfa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 15 19:40:26 2022 +0300

    CodingStyle: Tell about support.[ch] functions

    See osdn #44918

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a910372fc914cdaa262787ab775e6ebc257389f1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 16 09:48:42 2022 +0300

    Qt: Add Relations and Techs display toggles to plrdlg

    See osdn #45048

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b7472fbf44a5b74657c7c717e499cf46e5b6c39a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 15 21:22:38 2022 +0300

    gtk: Make property_page_change_value() to refresh widget only for changes

    It was already documented to refresh widget when there was something
    to change. Not doing that failed to abort a loop where
    widget refresh triggered "changed" signal again, in gtk4-client

    See osdn #45874

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eb41f372ceefd244f3f7e71194f9e2bffe83937a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 15 14:06:58 2022 +0300

    winbuild.sh: Clear out old build directory

    See osdn #45865

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 22429057310c96426382c894b297347e00b18aa9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 15 12:37:20 2022 +0300

    Correct is_valid_start_pos() function header

    See osdn #45791

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3deafeaa951a1a28cded04ca17a6ffd4638ce4a9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 15 03:14:25 2022 +0300

    Make fc_vsnprintf() return value to conform to C99

    It was already documented that way, but implemented as C89

    See osdn #45629

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3988ec4548a35c0c928380043ed44f7db7bb4ba9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 22 19:02:37 2022 +0300

    Comment typofix: "calulating" -> "calculating"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7e45bc083e423a6c83b05622344fe4495cf7b90a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 15 18:24:57 2022 +0300

    gtk4: Add Display menu to plrdlg

    See osdn #45873

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 72663a0a975a9a3833a0d479567782f3d0fbb530
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 15 05:20:37 2022 +0300

    Metainfo: Specify type -property

    See osdn #45868

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a984473254d7e7dbb855f54699b2cd6d7aed282a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 15 15:28:19 2022 +0300

    Free "<ctrl>m" for "Connect with Maglev"

    Keys rearranged to be:
    - Show City Output:  <ctrl>v        (All clients)
    - Show Fog of War:   <ctrl>w        (sdl2)
    - Toggle Fog of War: <ctrl><shift>w (gtk)

    See osdn #45800

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 73d14fec18d06a34fa7435b0526bb0c3ad7aef40
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 15 18:57:06 2022 +0300

    Prevent barbarians from building multiple units of unique type

    See osdn #44863

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e5fe22128063e61d8ced06a9f356f05050c470a3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 15 05:53:56 2022 +0300

    sdl2: Fix "unused entry: file.gfx" warnings from theme

    See osdn #45031

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 217beecbc411b188158e80ccadb6be7f51547da3
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Fri Oct 21 10:47:07 2022 +0200

    Updated French translations

commit fcb8898603da41925999c2c4e201d3fbaf708764
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 14 19:06:43 2022 +0300

    Fix build on stable release mode

    See osdn #45836

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f52e7423e947dff06edbb70eb1be3d3bba81e9eb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 15 02:43:55 2022 +0300

    README.effects: Reword 'Effects and Lua' a bit

    See osdn #45833

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2f9e11c2a5a896d6411041e15388adbbfe837289
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 21 01:27:09 2022 +0300

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b966257b7469309f4532267616234bc4ba8e7ea4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 12 17:37:58 2022 +0300

    make_dir(): Don't consider root directory as directory separator

    When given an absolute path, make_dir() tried to create
    whats-left-side-of-root, i.e., nothing, as the first component.

    See osdn #45830

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e83ac43e65c508394d4943e28d343ff63049b028
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 14 23:09:10 2022 +0300

    Qt: Make targetless revolution insensitive when impossible

    See osdn #45782

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 857836495aa1cc7bdaca1519a6ea1e5e4ddf5232
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 20 17:11:32 2022 +0300

    Remove duplicated " a " from a comment

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f325df518c2cc9bb70d508bce51970890196a06d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 12 20:30:15 2022 +0300

    Turn "Trans:" comments to "TRANS:"

    So the tooling actually recognize them

    See osdn #45835

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1bb194e621125cd0bb2d4190ac9d3c2588587521
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 14 23:04:09 2022 +0300

    fc-sdl2.m4: Refresh from SDL2-2.24.1

    See osdn #45847

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a7db0f5b6dafcc60aad325950d4edf892df31329
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 15 12:11:09 2022 +0300

    Make city name allocation dynamic

    See osdn #45786

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e3bdbc0a9e05c2180f7fa5c3e83c24ce8afa6c8d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 11 20:07:04 2022 +0300

    Refresh advisor data phase when continent numbers change

    See osdn #45767

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1fcab399d63d56b03c853eac93e5382f0a1d1bb5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 14 21:03:37 2022 +0300

    gtk4: Enable infra dialog

    See osdn #45838

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f36a3f0d4e01be8639e0fef365976ec76742e918
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 9 19:29:19 2022 +0300

    Fix dead assignment of 'drawposx' in show_small_citybar()

    See osdn #45813

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f4fa9ff2e99c24fef01bbbccdd47f0e55438f903
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 14 18:55:52 2022 +0300

    helpdata.txt: Document Battle Groups controls

    See osdn #45796

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e9bec4bbc2cfdb64c5546bbd5c38bdd2bfb48df6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 9 19:08:17 2022 +0300

    gtk4: Drop right_notebook_button_release()

    See osdn #45816

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e3ba346715cd8250ee5f73a6e328aa46b6d8868b
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Tue Sep 27 23:27:27 2022 +0300

    Add caravan bulbs to saved tech too if another one is researched

    Thus, a player can invest bonus bulbs freely (but switching back
    from a saved tech will penalize them)

    See OSDN#45685

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit c274dc348dd711f437d4b520f0fde6c3d6bbdfd0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 10 21:16:13 2022 +0300

    savegame?.c: Use SIZE_T_PRINTF when printing strlen() result

    See osdn #45823

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e550bf4afad90884a420e00628dc4cc50a3de1cc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 10 18:24:09 2022 +0300

    Add function header for Windows console reading thread entrypoint

    - Rename thread_proc() as windows_console_thread()
    - Document it

    See osdn #45509

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8cb2ae712a2cbe39812a143c1a37417634d14b92
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 8 15:22:57 2022 +0300

    Qt: Fix mr_menu::menus_sensitive() unused assignments

    See osdn #45770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 450aedaf70e36d1640c8d73aa322fb5593615282
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 9 18:10:21 2022 +0300

    gtk4: Add Display menu to cities report

    See osdn #45815

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a989f7e54bdfcaae9e7d0d045be7e8cf715e2426
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 14 05:23:09 2022 +0300

    Drop 'trade[MAX_TRADE_ROUTES]' from PACKET_EDIT_CITY

    See osdn #45854

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 44577c0bb0bae9006c4c0031a3359897a800ea5a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 8 20:17:49 2022 +0300

    gtk4: Change "_Fortify" menu entry to "Fortify"

    See osdn #45809

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ddefd5282420f550565755de76522f024e0696de
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 8 01:30:57 2022 +0300

    Set civil war player diplstate max_states

    See osdn #45598

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c81ef93e24a50efbd54f9fd2e234706d3ab0f104
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 8 08:25:16 2022 +0300

    gtk4: Correct widget types handling in option_dialog_option_str_set()

    See osdn #45795

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 85c68fd1c4da75acc2a53247fa0f5feddf5d774c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 16 16:26:47 2022 +0300

    Comment typofix: "sucessfully" -> "successfully"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit beebac385b69568d3012321a803ea42f49e27157
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 12 17:10:53 2022 +0300

    Generate .metainfo.xml under bootstrap/

    See osdn #45840

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f6ceaa8720c0d2ee95828b15b5a9cd354958f8bb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 8 04:40:16 2022 +0300

    AI: Make military_amortize() to handle want as adv_want

    Made type changes recursively to callers too

    See osdn #45700

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b87ded5b412a6697b7c5bc6833b3f77a06aaa0b0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 8 07:46:34 2022 +0300

    Macrofy city_owner()

    See osdn #45634

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cca4ec03af28e14d67db9210e0de798471ad5c09
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 8 13:06:32 2022 +0300

    gtk: Don't gobble <ctrl> + <shift> modified keys in edit mode

    See osdn #45802

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4cdb468a9a84a8707b8e6d455b6105660df04923
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 9 12:31:15 2022 +0300

    flatpak: Add Qt-client flatpak

    See osdn #45814

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d88b6e5285c337ea449e711ab323a33d2341e91a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 8 04:56:37 2022 +0300

    citizens_update(): Remove redundant and broken check

    Reported by ihnatus

    See osdn #44852

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fec52eb2f27aa6f37779040b355ca3a3415a09a4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 8 03:47:55 2022 +0300

    auto_arrange_workers(): Avoid cm_parameter copy

    See osdn #45487

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 86aa91e8974975566684c47526b3f4a5a494d52b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 8 03:10:30 2022 +0300

    Free internal fc_vsnprintf() buffer

    See osdn #45771

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 98e72b0d5789fb7afcd162b020b70fbb2decf989
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 8 04:26:25 2022 +0300

    gtk4: Detect option dialog mouse press as gesture

    See osdn #45794

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 32778239326dd3d042b83302213f757973508e1e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 8 11:40:15 2022 +0300

    Qt: Correct key bindings of some unit activities

    Make the following default key bindings to match documentation
    and gtk-clients:

    - Unload All From Transport: "shift+u" -> "shift+t"
    - Upgrade Unit:              "ctrl+u"  -> "shift+u"
    - Convert Unit:              "ctrl+o"  -> "shift+o"

    See osdn #45798

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 61394de812d0c7484dac1756fb1a9cc7546ec773
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 9 15:42:28 2022 +0300

    Fix translating names of nations from the core set

    Reported by carbsrule and Alexandro Ignatiev

    See osdn #45761

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cc50b044c6c8cfb6546743fd1db7f4293a3a05bf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 8 02:10:59 2022 +0300

    gtk: Add tooltip to nationdlg columns

    See osdn #45512

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f69ee99708685f847aa2246d9006ede5e9946a70
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 8 03:55:17 2022 +0300

    configure: Add cache variable for readline runtime detection

    See osdn #45460

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a80cc679606eae534816d701f73ecf425901b071
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 8 02:50:16 2022 +0300

    Fix "unused entry" warnings about worklist padding on savegame

    See osdn #45671

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ac77d14817801d26138dd93efec27f74a0683938
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 13 05:10:28 2022 +0300

    Comment typofix: "fron" -> "front"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1db11483734a1427df9626ff6d6f82ec250bc589
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 7 18:31:29 2022 +0300

    goto_tile_state(): Fix clang analyzer NULL dereference warnings

    See osdn #45417

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b5fce87007270e9bc7a9fce13caaae17c63e842f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 12 21:56:55 2022 +0300

    Update Finnish translation of ruledit domain

    Translate "extra" as "ruutulisÃ¤" like in the core domain

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e6b074e5b26d0195fc4dd5680aa3a6335aa303d3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 8 01:14:10 2022 +0300

    gtk4: Add client info menu entries

    See osdn #45790

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b03b72ba09ab574d27a1bbb2a8aa890e86047836
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 8 01:41:12 2022 +0300

    luasql Version.txt: Mention local modifications

    See osdn #44955

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0bf766d8e40240f15279c643783c76dfe134e902
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 7 18:20:32 2022 +0300

    Make vision site able to hold maximum city name length

    See osdn #45787

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 85f5b1695d8ad77cb07b985048c176223730a98a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 4 05:56:19 2022 +0300

    AI: Correct which players one considers to be Tech Parasite of

    - Consider team members when pooled research off
    - Do not consider dead players

    See osdn #45588

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c38ac7b0691ff177da1b6f82fcdc641fc57a3e0e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 11 21:30:43 2022 +0300

    Comment typofix: "Noting" -> "Nothing"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 006df980722aaa260fb6f7bedad06526863f780b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 11 21:08:17 2022 +0300

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5df1965f4ec5ca080bc57d8ecc1597df799d1c43
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 7 03:50:02 2022 +0300

    gtk4: Add AI menu to plrdlg

    See osdn #45785

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 312d94f5d2b098b2d22dc3cc67f04154bb87c41b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 5 17:51:44 2022 +0300

    Bump minimum gettext requirement to 0.16

    See osdn #45783

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b9e5f4984b373cae3fb6fc89715128229ac3285e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 6 03:20:15 2022 +0300

    Send "unknown research" notifications to client

    Even when the client does not know research details,
    it needs to be informed about that fact to initialize
    values, or to clear old ones.

    Reported by ihnatus

    See osdn #45076

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 29bbae6d36995ea3d3f2242caab39a0e7047e2ff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 11 03:47:32 2022 +0300

    Comment typofix: "then" -> "than"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5331c586cbe97544a381c07b99c5b5dc99df5155
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 5 03:22:37 2022 +0300

    Improve illegal activities logging on savegame load

    See osdn #45341

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 48b192ed2c4d896a8f5fdc0ab1d254e4a3595cbc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 6 02:30:04 2022 +0300

    gtk: popup_theme_suggestion_dialog() fallback to correct default

    Both gtk3.22- and gtk4-client were using gtk3-client's default theme
    instead of their own.

    See osdn #45780

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7f5c8a7d58467dfa449d16b8794ed4af4e670fbd
Author: Benno Lang <transmogribenno@gmail.com>
Date:   Sat Oct 8 19:55:26 2022 +0300

    Update city list for the Esperant nation

    Includes cities important in Esperanto history, Esperanto cultural
    references, as well as some cities from the original list

    See osdn #45762

commit 2a36cf124f05373a4bd36d739221edac29d6fcc5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 5 16:26:50 2022 +0300

    Doxygen: Add freeciv version information

    See osdn #45581

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ce06cbcdc23c4609f27a01ba7db6e37b23506886
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 5 06:00:16 2022 +0300

    sandbox: Correct Space Elevator helptext

    - Remove repetitive 'city' from the radius and vision radius text
    - Remove trailing spaces

    See osdn #45751

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0164c7f6eee3a25725de8ce033449d6c2d1037f9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 3 19:38:43 2022 +0300

    Queue draws from blink_active_unit()

    It's called from a timer, so the UI can be in such a state
    that one should not draw to it.

    On gtk-client this sometimes showed up as:
    "Gtk-WARNING gadget with negative dimensions"

    Reported by jdlh and Jacob Nevins

    See osdn #42263

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dd7ab5c0e4cbefa382c620d71f49a4e17dd875bf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 5 20:36:50 2022 +0300

    gtk4: Add pact clauses to the treaty menu

    See osdn #45774

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c7d8d4b2d6b45b301656a2db74fc19056c27e77c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 26 18:36:55 2022 +0300

    Split freeciv_tolua.patch to logical patches

    See osdn #45733

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a187484837f10951db7cc6dec279f982b18786e1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 1 01:01:12 2022 +0300

    rand.h: Correct comment about boolean value "0"

    It's FALSE.

    See osdn #45756

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8f9e530ec19e649f54367cba98763e8a69832b9c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 9 05:47:07 2022 +0300

    Add .gitignore for flatpak directory

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d4c65c1910c12e18fd91d5fba5ff258a5263fe7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 9 05:01:43 2022 +0300

    FAQ: Update latest stable version number to 3.0.4

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c24426cbc5b80a00779a11accfeaa1c59a119554
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 9 03:13:32 2022 +0300

    Merge Esperanto translation from S3_0

    Translation updates to S3_0 by Benno Lang

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a04f77ca5d536594b982a76dfa8778635add6a20
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 5 02:34:32 2022 +0300

    gtk4: Fix move_toolkit() double assignment of 'iter'

    See osdn #45769

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5206eb115012b85cc160b04a211d93ad0232e800
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 2 09:51:14 2022 +0300

    gtk4: Fix filling actions to horizontal gui_dialog

    Turn entire actions area from GtkGrid to a GtkBox

    See osdn #45748

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0ccf3a3d94ef1bf08715b2ed5a5286ecad86b309
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 5 15:36:17 2022 +0300

    Update is_hiding_unit() function header

    See osdn #45777

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b271c2ba4f86288232e6872c5e7c50d5bc8722e5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 1 13:14:51 2022 +0300

    Fix dead assignment in upgrade_unit_order_targets()

    See osdn #45735

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 05c0d879b9d4e267bea82f152f790527500ea109
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 1 05:52:58 2022 +0300

    gtk4: Add set of unit actions

    - Set Homecity
    - Upgrade
    - Convert
    - Disband
    - Pillage

    Also fixes setting sensitivity of Explore, Build City, and Autosettler

    See osdn #45746

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 529485012db6d15e998de6e54a7e84409419efa1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 30 03:52:39 2022 +0300

    Reword VUT_DIPLREL_UNITANY(_O) requirement texts

    See osdn #45516

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit de5208c26f5bbc3681de565116ecae45344d716c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 5 01:36:26 2022 +0300

    Stop memory corruption on dai_data_phase_begin()

    It can get called when the tile continent numbers are in
    inconsistent state. Check that ids used are within the
    boundaries of the worker statistics arrays.

    This just stops crashes seen because of the broken design.
    It doesn't address the issues of data being inconsistent
    in the first place.

    See osdn #45768

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 39bcef0898a3e56f7ec300c3bea0da2cee6d3a3c
Author: Dino <macwiz23@comcast.net>
Date:   Mon Jul 25 15:05:38 2022 -0400

    README.effects: Tell that Output_Penalty_Tile does not apply when celebrating

    Modifications to the patch by Marko Lindqvist

    See osdn #45084

commit c352d2ca1cc650a92539e0c7bd1e9bcde0d86e16
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 7 01:41:19 2022 +0300

    Update German translation of the nations domain

    From Andreas Engel

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bd7ca85fc5b2e2101e6cc0ff54bef46edb3db450
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 30 17:10:46 2022 +0300

    gtk: Drop worklist_response()

    See osdn #43309

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7aa45fd77c1953f62cf28496b8f83e86863f6c9f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 3 19:20:05 2022 +0300

    README.AI_modules: Speak of 'tex' instead of 'threaded'

    See osdn #45758

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9becde679de5480032696d32bf54883b008039e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 30 03:17:56 2022 +0300

    Add doxygen marking for apply_cmresult_to_city() header

    See osdn #45726

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4701bd42afe4cd772c373188b63265cb8423292d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 1 13:08:49 2022 +0300

    guis: Use 'board' / 'deboard' namespaces

    Make it a bit clearer what of the transport actions each
    function is about.

    See osdn #45750

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 26a8007329a343839ef81a86b5c677b8d353c639
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 30 18:02:13 2022 +0300

    Qt: Fix targetless revolution

    See osdn #45721

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 936c429dbd0bbbb98e7c465969f02ab2db30008a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 30 02:41:29 2022 +0300

    gtk4: Add misc clauses to the treaty menu

    See osdn #45731

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aed59121ccf4c00b6e3b0bd82db7311f31d482ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 5 16:47:13 2022 +0300

    FAQ: Refresh from wiki

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8be5d6fe5b5b6a3c4cab4dcf530938835ff7d4de
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 1 18:11:30 2022 +0300

    Meson: Define HAVE_VSNPRINTF and HAVE_WORKING_VSNPRINTF

    Have a dynamic existence of vsnprintf(), and assume it to be
    working one except on Windows.

    See osdn #45706

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 947ad85919cfd076e758b54f2fa799018e8b08cb
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Wed Oct 5 06:29:20 2022 +0200

    Updated French translations for Freeciv 3.0.4 - and others !

commit 73bb32f51c1455897331845ffaf1a51b789bc962
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 26 02:31:48 2022 +0300

    Server CMA: Try with default parameters after cancelling user's

    It used to go directly to fallback where it adjusted
    current parameter - which was still user provided one
    at that point.

    With this change, after user's parameter fails
    - First it tries with the default parameter
    - If that too fails, then it tries with parameters
      adjusted from the default one

    See osdn #45727

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2cb5cde86d058d0f48c01fa8dbba842083a2eb1e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 30 03:11:14 2022 +0300

    Fix action_decision_maybe_auto() NULL dereferences

    See osdn #45729

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5846d23a780ef4674791eb1c6c2c42e9e0e6a81e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 4 20:42:52 2022 +0300

    Update German translation by Christian Mauderer

    This is just S3_0 de.po msgmerged against S3_1 strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 925527b2f50beb33f2d9b1d61bd6d6c9f7f6dce4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 26 05:33:35 2022 +0300

    gtk4: Add chatline color buttons

    See osdn #45712

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6f1156907d33e582cb20b530e9cdb6dd77e07571
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 30 17:03:18 2022 +0300

    Drop obsolete ALL_LINGUAS from configure.ac

    See osdn #44098

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 46eff30a336c23027cd5ce36da015c19cc71f75a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 30 03:36:04 2022 +0300

    fc_strrep_resize(): Use SIZE_T_PRINTF when logging size_t

    See osdn #45529

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 91153ddef10dd86bf2b56c711a69c65e7e68434e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 29 23:58:08 2022 +0300

    Improve fc_vsnprintf() boundary checks

    See osdn #45719

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0e2878659510326bb971fd5f6be8548702c9f50f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 25 23:06:18 2022 +0300

    gtk4: Create toggle button for editor boolean widgets

    objprop_setup_widget() created check buttons for booleans.
    Later they are assumed to be a toggle buttons.

    See osdn #45710

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 02db50e77290eff118cec159400a074a71fa085a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 30 02:04:10 2022 +0300

    Doxygen: Place output on multiple subdirectories

    We hope this to reduce cases where files with their name
    differing only by case end to the same directory, and thus
    causing problems with case-insensitive file systems.

    Requested by elefant

    See osdn #45736

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5a3e4641c286d251e2d317843794852f9c0e2463
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 30 02:26:57 2022 +0300

    sdl2: Rename create_vertical_surface() 'High' as 'height'

    See osdn #45674

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 40d7da1897bde3e8e8397457f0709e019cdce706
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 2 08:55:26 2022 +0300

    Merge Esperanto translation of core domain from S3_0

    Translation updates to S3_0 by Benno Lang

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c3eb1d8529b93b3be3b5cd5480fdb1db7755814b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 2 07:49:54 2022 +0300

    Update German translation by Christian Mauderer

    This is just S3_0 de.po msgmerged against S3_1 strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 82149faf5aa55c1d42020ae96b63108bcf7b5ba9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 25 14:20:19 2022 +0300

    load_ruleset_nations(): Fix section_list_destroy() call with garbage

    In certain error situations 'sec' was garbage when it was passed
    to section_list_destroy()

    See osdn #45537

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2acb2620bdfa500779819d7774a82471ff5aea6c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 25 04:44:29 2022 +0300

    gtk: Drop editbar.player_properties_button

    See osdn #45711

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0f3b1ae53c3c2b65d37703c1136ea0c7495c9678
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 25 13:44:28 2022 +0300

    CI: Run freeciv executables with '-F'

    See osdn #45582

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 87e57578c024764cdd8387388852cb64a69fb021
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 27 05:39:08 2022 +0300

    Qt: Correct order of helpdlg.h includes

    Also, helpdlg_g.h was being included as extern "C" though
    it lists gui's own function prototypes, i.e., it's about
    Qt's C++ functions in this case.

    See osdn #45694

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a2e4d3299a25cf4e65ad352dda79598b91432c1f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 24 13:20:45 2022 +0300

    Correct "existance" to "existence"

    See osdn #45599

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c9f6055bcd2b2c86e039b114096ff05fb5fe8ae8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 24 12:43:48 2022 +0300

    gtk4: Implement mouse press handling for messagewin

    See osdn #45690

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4b79fde6bb136938df93665c3b02c736a4c4df25
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 24 00:39:35 2022 +0300

    sdl2: Fix chat sending

    See osdn #45702

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ae6f2c4307f39678f67daf10c21a80b5184f62a8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 30 18:27:52 2022 +0300

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 04f68f4c9fc8323ad4edb7ecf2f1a11348eb4283
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 23 20:16:58 2022 +0300

    download_modpack_recursive(): Fix dead 'filenbr' assignment

    See osdn #45688

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5b1ee54e3e5aa7898cf0f1ab464dbfdb345370ef
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 24 17:34:09 2022 +0300

    AI: Fix diplomats acting against cities with id > 64k

    See osdn #45116

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4ccd5fd2019c4f725c3e6bfabb82ee1499b9d18e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 23 23:40:08 2022 +0300

    gtk4: Add initial city report menu

    See osdn #45681

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b2a1f3d8472a0da1a5662d8912aac44f8479dda8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 20 21:36:49 2022 +0300

    CI: Update setup-msys2 to version 2.13.0

    See osdn #45608

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7715f90d145223d1823ccf84877a671443ddcf70
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 26 01:16:48 2022 +0300

    Make untargeted_revolution_allowed() callable from C++

    See osdn #45722

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e711813846af7688e5237d2251b602140a7512c1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 23 21:59:26 2022 +0300

    get_ping_time_text(): Skip any negative time

    Never show a negative time as a real ping time.

    See osdn #45500

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 78a310ed5f765ba1471d82cbda3d8a04081d9f07
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 23 05:28:02 2022 +0300

    cm_state_init(): Fix passing NULL list to qsort()

    See osdn #45536

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c8edad0cf8f469c935df56891dbe70d1909ffe80
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 23 17:20:17 2022 +0300

    gtk4: Set correct size for citydlg citizen bar

    See osdn #45672

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5140bf06da99d9bd624243c986af656b62e8d5e5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 23 23:12:34 2022 +0300

    sandbox: Correct Space Elevator Tether helptext

    - Remove repetitive 'city' from the radius and vision radius text
    - Remove trailing spaces

    See osdn #45517

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1ad01c6bfacd2f749aa1c2d92964709290464cca
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 24 01:55:07 2022 +0300

    alio hills.spec: Define artists in correct section

    Client expects entry 'info.artists', alio hills.spec
    had no [info] section but had 'spec.artists',
    leading to unused entry warning from the client.
    Add [info] section where 'artists' entry goes.

    See osdn #45574

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2d1a5fc141a201d9905c40249e2451c9447115e4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 20 21:58:02 2022 +0300

    List p)ersistent parameter in metaconnection synopsis

    See osdn #45334

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b8ac55a47acd26df14a775afd49b9111261f882f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 21 19:43:06 2022 +0300

    gtk4: Add misc set of menu entries

    See osdn #45670

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit df420c3799f446d0ced7efec3a1277b399ca4523
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 27 19:18:05 2022 +0300

    Comment typofix: "numer" -> "number"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 14905351163211450869ad6d08e3efc617af846e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 23 16:38:09 2022 +0300

    ai/default/Makefile.am: Correct alphabetic module order

    See osdn #45662

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2f7feb6750d9ef967defa403b01bbd147bb45a1b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 21 19:56:58 2022 +0300

    Fix dead assignment of 'i' in saving multipliers order

    See osdn #45679

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3cd5427947467a9d9be6e2bc871c34bfa4de2f0d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 18 14:14:32 2022 +0300

    sdl2: Locate luxury icon correctly on happiness dialog

    See osdn #45578

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 86d448fd92783b5ce18b5f7ba99b8cd32722ca29
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 20 20:07:26 2022 +0300

    gtk4: Add city trading clauses to the treaty menu

    See osdn #45639

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c11a44ef4143d1b334c9f06d64baad6018c958b1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 24 03:11:43 2022 +0300

    configure: Search mariadb configuration by name mariadb-config

    See osdn #45703

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b5e2a0f39451c613bd50c2fe6dbfb2db09d949e2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 20 20:14:04 2022 +0300

    sdl2: Fix widget_scrollbar.c 'count' dead assignment

    In add_widget_to_vertical_scroll_widget_list()

    See osdn #45673

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e31eec59ebde6509b7c088f5d9b220a4f23d0805
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 19 21:47:31 2022 +0300

    AI: Use correct UTYF_BADCITYDEFENDER firepower

    Replace hardcoded '1' with game.info.low_firepower_pearl_harbour
    at max.
    Similar fix also for CBONUS_LOW_FIREPOWER unit in one place,
    to use game.info.low_firepower_combat_bonus

    See osdn #45593

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bb0231dbecbb387c265ec33fa07823b412918598
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Mon Sep 26 01:32:45 2022 +0500

    Update for Russian translation.

commit 6064337a8042b7b940fa07bd229f709b55ad55d2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 11 09:28:09 2022 +0300

    Fix memory leaks from req_to_fstring() usage

    See osdn #45544

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 35f83eef8b40c01ac3fd2d8ff9caba96a640befb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 19 21:01:35 2022 +0300

    gtk4: Implement gui_dialog mouse click handling

    See osdn #45624

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1e23e9611b195969da4e370ad0274df188b8b94c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 20 05:39:06 2022 +0300

    Add function header for is_bigendian()

    See osdn #45510

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 24f36b0e13d468badbfa8ff64578cad90104ea07
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 19 21:55:09 2022 +0300

    flatpak: Update freedesktop runtime to 22.08

    See osdn #45615

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dd0f660355188347d0c2b2f31eec6635bd688562
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 20 00:51:18 2022 +0300

    Add missing space to 'huts' setting description

    See osdn #45669

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 075172488ffceaeaa141e41d9126e7314e6c6c33
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 21 19:27:10 2022 +0300

    Increase size of the buffer of fc_vsnprintf() fallback implementation

    The old internal buffer was 8k. Preparing secfile for saving may request
    handling of buffers of 8096k.

    See osdn #45682

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b0034bdc8ceccde136063f7cad7ce42936d238a9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 24 23:57:50 2022 +0300

    Update Finnish translation of the nations domain

    Mainly unfuzzyfying entries.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c02403cdecfb04c73869f6a734cce25a9dd56414
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 18 07:23:33 2022 +0300

    gtk4: Fix bad setup_widgets() cast of GtkBox to GtkGrid

    See osdn #45623

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0ce697e6541272f048f9f089c84e24adafd4b4d6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 24 14:44:38 2022 +0300

    Comment typofix: "ac_func_vsnprintf" -> "ac_cv_func_working_vsnprintf"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 624fd8d37f069c9c2e3dfe50618b02b34d3433ab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 19 22:25:13 2022 +0300

    Qt: Fix fc_shortcuts_dialog::refresh() dead assignment

    See osdn #45668

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a1e062a05a575c7d535f5ad91b21f3567708bd5b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 17 17:37:15 2022 +0300

    Man pages: Document log levels by names

    See osdn #45589

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 46de2285a4807ee64740ec05de46dd385db5f352
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 11 08:12:07 2022 +0300

    gtk4: Implement editbar mouse click handling

    See osdn #45622

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2127033d7213605363bd1b8363ded297f577bb25
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 17 18:35:51 2022 +0300

    Update gnulib-common to serial 74 from gnulib upstream

    See osdn #45657

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8e6ebf53fbae29f231778e46df84383239ba7116
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 10 02:05:39 2022 +0300

    city_units_upkeep(): Remove pointless memset()

    While touching the funcion, move also variables to
    the inner block where they belong.

    See osdn #45614

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b805090520d3fb7e6e5325c58ba776868e4ecc38
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 18 12:45:08 2022 +0300

    Correct city_map_radius_sq_set() function header

    See osdn #45342

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2283e5abe40b3cc766f1437230fafb54d69907bb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 10 02:58:57 2022 +0300

    AI: Refactor defender unit selection

    To make future fixes easier.

    See osdn #45597

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4d2862491d6d244802f5ffaba71bccc19966a845
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 23 07:04:29 2022 +0300

    Comment typofix: "deterninate" -> "determinate"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7efe5050f507a5c77b84af63cfffa11ad78f73ec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 10 06:42:05 2022 +0300

    gtk4: Activate unitsel*dlg default option as GtkCheckButton

    Old code tried to activate it as a GtkToggleButton.

    See osdn #45620

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cf61a511f273cac67137fdec77243f7d4767fb0d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 10 03:24:41 2022 +0300

    Meson: Add sys-tolua-cmd option

    See osdn #45612

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 27e95db5ac9a7f25fb6ea4f593b0fe519f021c06
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 18 06:59:36 2022 +0300

    dai_manage_diplomat(): Fix dead pcity assignment

    See osdn #45663

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2a4bb7e75089bdb6e7a8fe8665d4d8f5ee9d1505
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 9 22:02:16 2022 +0300

    Set diplstate max_states on barbarian creation

    See osdn #45579

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 48dd2b8daf34efcf805b492c1c4b523e307b8a28
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Thu Sep 22 11:45:21 2022 +0200

    Updated French translations

commit dc97520c1a4126676a9c15f685a3a5306dc119a8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 10 08:32:33 2022 +0300

    Qt: Drop dot from the end of "Wonders of ... Empire" heading

    See osdn #45635

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7a1e6abc4125783e1c2642939dd7bcb1c77c055c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 10 02:02:08 2022 +0300

    gtk4: Add menu for inserting Global Worklists

    See osdn #45619

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 18419948d1bede5a0b002b39e9df3c49f2d50081
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 10 05:53:38 2022 +0300

    city_choose_build_default(): Fix dead assignment on NDEBUG build

    See osdn #45633

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c0997528d11649479b20fff4a74cc00501c2134e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 10 01:39:48 2022 +0300

    configure: Require vsnprintf() to have C99 return value

    We're not going to support C89 vsnprintf() any more.

    See osdn #45630

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c9bc48eac024c171c636c47a3080eeccd3467d7e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 9 23:02:16 2022 +0300

    Count units lost due to shield upkeep to score.units_lost

    Reported by ihnatus

    See osdn #44887

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 65f8edf5df8ff2348a492977119684a1cd1dd3f8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 9 22:32:02 2022 +0300

    Correct unit_refresh_vision() function header

    It spoke of city vision range, instead of unit one.

    See osdn #45060

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3b456495bbb1e1d85c428baa9a772d0e6fdccb84
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 9 21:27:03 2022 +0300

    gtk4: Don't try to treat GtkBox as GtkGrid

    See osdn #4558

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 058b395d49a3bc95907016d1b5addb3a1e6e0a1a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 9 02:07:26 2022 +0300

    configure: Enable automatic gtk4-client selection

    See osdn #45606

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4cfd142017b0482bb637753b6df455ec439b5053
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 20 05:29:42 2022 +0300

    Comment grammar fix: "be not synchron" -> "not be in sync"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 96b52c69cd412479e25eeb173fef0e7bdb5ba16f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 18 07:32:26 2022 +0300

    savegame3.c: Silence "unused entry" warnings about diplstate_type order

    See osdn #45527

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 46847d0fd4a5e239ebee7998be9eb60d0c9bab1e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 19 23:56:42 2022 +0300

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit effeccdbb7f79bd164dedfec2147892b964c3465
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 9 01:34:22 2022 +0300

    Use textual log levels in --help output

    See osdn #45469

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5bddceff522e1e043700c095dd6ff4c00172cf9e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 9 03:03:08 2022 +0300

    Doxygen: Fix error in make_escapes() header

    See osdn #45505

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ddc7ffddc41f8a03719c4eceed5e48cffb3af502
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 9 01:23:01 2022 +0300

    gtk4: Add menu entries for Sentry and Fortify, with sensitivity

    See osdn #45575

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 04b2336da486d42faf87582408918a836bfff8d0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 6 05:09:21 2022 +0300

    Update msys2 environment to 220903 level

    - Include ucrt64 environment

    See osdn #44789

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 297c11208240600a131bd68582fa745620cfb05b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 4 14:04:56 2022 +0300

    control.c: Drop unused 'old' variable

    From action_decision_clear_want()

    See osdn #45569

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 57ecbc1dd570ce1f0b583a4a257ee84336c69f80
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 5 17:44:17 2022 +0300

    sdl2: Fix happiness dialog building surfaces selection

    See osdn #45577

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ca4fb3b7b79893f5d152f3959c98b66720f854d5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 5 06:02:24 2022 +0300

    gtk4: Open help dialog from worklist right-click

    See osdn #45576

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 66cde7e9800cf7993b97fd839bfe9330c5a3032a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 9 21:36:23 2022 +0300

    *.metainfo.xml.in: Add various URL tags

    See osdn #45617

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 67dc4b653cd6799784fbfeb203d7670d401c04e2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 4 12:39:44 2022 +0300

    Qt: Drop unused 'sbool' variable

    From fc_client::slot_selection_changed()

    See osdn #45539

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c921872ddac639f8c289af826654e137212fe428
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 5 00:13:00 2022 +0300

    Always free unit build reqs vector in unit_type_free()

    It was being skipped for units that do not have
    handwritten helptext part.

    See osdn #45572

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0220a5ff6107a4387e7e9ba2bbdc1e66717c7d2e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 4 20:32:29 2022 +0300

    Fix filling player "scenario reserved" property to editor packet

    See osdn #45491

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 28d0fefb7fe7abbffc0db5507a6366e601ec34dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 4 08:25:08 2022 +0300

    gtk4: Turn left panel indicator icons to GtkPictures

    See osdn #45568

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8454fd6c0be121e49daaf51de6801d815df44ebf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 4 06:06:58 2022 +0300

    AI: Switch from future tech research to real tech when possible

    Start researching real tech, if one becomes available during
    future tech research. Typically would happen when one loses
    previously known tech.

    Reported anonymously

    See osdn #44419

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit de22d5301a5d2a34f9a7ad63aaa2c43a803d1f7c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 4 04:18:36 2022 +0300

    gtk4: Replace citydlg info popup window with GtkPopover

    See osdn #45555

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8ed2065728e5d91762f8bec7e8ae839e6b160296
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 3 07:35:41 2022 +0300

    *_iterate_safe(): Evaluate list parameter just once

    See osdn #45480

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 82f5f952f8be4ebc57d7804236b8d0adb9c0eae3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 3 18:51:05 2022 +0300

    gtk4: Add tech trading clauses to the treaty menu

    See osdn #45551

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 13dab067de49601002a970b6f6820cf9b9f8d331
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 3 07:06:57 2022 +0300

    Enable -Warray-bounds for --enable-debug builds

    See osdn #45543

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 721464c31b7e6acf3ce95853508b660ba8696e76
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 3 05:35:39 2022 +0300

    Correct reqtext of negated VUT_DIPLREL_UNITANY and VUT_DIPLREL_UNITANY

    See osdn #45514

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9b09b576b982541d2f5540c22579cea1923af58d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 4 04:22:39 2022 +0300

    Fix map_claim_base() memory leak

    See osdn #45545

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f20e0091f5e1e7c69b2576536953ac3c5ec9a759
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 3 06:24:06 2022 +0300

    gtk4: Fix making inputline button box visible again

    See osdn #45532

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ad17cdb3f3bf10f3523c369d0e8d57c22d380029
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Aug 31 22:06:17 2022 +0300

    Man: Correct section of freeciv-ruledit page

    Unify entire header field with other freeciv man pages

    Reported by coldtobi / Debian

    See osdn #45533
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ab08522618cfb89b03ba03d5f5f35b89e9914ea9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 4 07:39:31 2022 +0300

    Protocol: Make connection count UINT16 in PACKET_CONN_PING_INFO

    See osdn #45501

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ae820cc61a8d7bb670a17542f920ba1247fbf7a7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 10 08:04:07 2022 +0300

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fd653f12ef820829302aa9f0c7c9579d0bcc6539
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 3 05:24:54 2022 +0300

    Stop inf file recursing to already closed including file

    See osdn #45418

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3336f3ffdce91455726f9b7a2d62048c0b450b18
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 10 02:53:01 2022 +0300

    FAQ: Refresh from wiki

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d0248d8a7f059dcd5c6e9de3da2c71a1d144ce99
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 3 05:20:27 2022 +0300

    gtk4: Replace GtkImages with GtkPictures in editor mode

    See osdn #45531

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 06552f89e7404b78da6e212d658247cc62a4fba9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 28 16:47:27 2022 +0300

    Limit new player from civil war to max rates more accurately

    See osdn #44187

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e67b33a61ea78eb7ab052a805a776ce7de5d5f10
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 30 02:37:41 2022 +0300

    gtk4: Fix optiondlg check buttons

    See osdn #45520

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7274ec2012d9024cd94c7ddbb1dc96aa75b8c9ec
Author: Tobias Frost <tobi@debian.org>
Date:   Tue Sep 6 00:29:14 2022 +0300

    Fix spelling errors "Uknown" and "transfered"

    Minor modifications by Marko Lindqvist

    See osdn #45535

commit 0cdf4d99cc88679b85f76e8d8b4fec13812b18bf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Aug 31 04:56:26 2022 +0300

    README.actions: Add Targeted Steal requirement

    For Targeted Steal actions actor must know target's
    list of techs.

    See osdn #45462

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 515d4109ff17626eaf071c68c9ee5a48724cbe6b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Aug 31 03:23:25 2022 +0300

    Qt: Mark "Wonders of ... Empire" for translation

    See osdn #45525

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2741b3db5827e408dbd39f42adf9836a80e5a7a3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 3 07:47:42 2022 +0300

    Avoid following illegal orders paths when loading savegame

    See osdn #45346

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 164c6dbcee739508eae98afb6712c9e5751a4ea8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 29 01:56:14 2022 +0300

    gtk4: Fix leader sex selection buttons

    See osdn #45495

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8c0868941878e1fff0b3a6f43a152aeb659c7091
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 4 08:46:43 2022 +0300

    README.msys2: Fix typo in package name

    See osdn #45566

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9bfb0879cde8171f546cc192f06104a6ce48b523
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 1 04:50:17 2022 +0300

    Add inline advance_count() wrapper proving that it returns <= A_LAST

    Compiler was not happy with what it consider potential
    bigger than A_LAST return value from advance_count()

    See osdn #45541

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 790e99979567f7c1c778bd253573f0aa2d6df272
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 3 02:24:39 2022 +0300

    Call log callback from ruleset_error()

    This provides information to ruledit "Sanity Check" window.

    See osdn #45395

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3104d0f3d656ed3b4c510d44688c1067a5dc7724
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 6 20:36:25 2022 +0300

    Update German translation by Christian Mauderer

    This is just S3_0 de.po msgmerged against S3_1 strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 69991b2e2694656f8007b99caf30f2d4b67af140
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 28 08:23:11 2022 +0300

    gtk4: Make tech tree window in helpdlg bigger

    See osdn #45494

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ac2e5887c388fe0aed3b72eb5fadc7ecacf9d709
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 6 17:29:27 2022 +0300

    Comment typofix: "Actived" -> "Activated"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 342fc275e0a98cbbb8ab6c05ed37b93964a520f5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 28 16:33:38 2022 +0300

    Meson: Do extra check that found readline library is suitable

    This protects against macOS libedit library that's not
    suitable readline replacement for freeciv use.

    See osdn #45161

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit afc8f854dfd347e255a784593cbba0daa896253e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Aug 31 02:11:18 2022 +0300

    Savegame: Silence "unused entry" warnings about city_options

    See osdn #45526

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 868cffd01d202524927d7251b4274406dfdef060
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 6 05:48:04 2022 +0300

    Comment typofix: "a option" -> "an option"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ca09924f84ea705af2350ca9e0924e7e9daf945b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 28 02:56:54 2022 +0300

    gtk: Add tooltip for endgame score display rows

    See osdn #45461

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ad811f8cd12f738a8516a11af3e37d7f301439cb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 28 02:43:53 2022 +0300

    gtk4: Add Irrigation build menu

    See osdn #45463

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7a8097c05a1d5f08417b737f16ee3b10b90eedee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 28 03:17:22 2022 +0300

    winbuild.sh: Scale default number of jobs to number of cores

    See osdn #43949

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0698fca09e9faa9eb95e925a781613a6d7a84983
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 27 14:32:34 2022 +0300

    savegame2.c: Rename 'string' variables as 'str'

    See osdn #45481

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 37ed2c9739a7444e9b3b24d9883c5a2f13d5f04b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 27 10:10:13 2022 +0300

    Open editor gui immediately when entering edit mode

    See osdn #45456

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2d76842074ba2d55a2a3835cc858529185f7aa6d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 27 10:45:59 2022 +0300

    Move AC_ARG_VAR(MOCCMD) to main configure.ac

    autoupdate can't handle AC_ARG_VAR() outside configure.ac,
    but crashed.

    See osdn #43027

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4cc27af0bb32a77f6adbf4fe020721daf99a0e27
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 28 18:55:33 2022 +0300

    Reduce ping time accuracy

    Support bigger values instead.

    See osdn #45499

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2a2ac2447cd9bb21e62bfd405fefa0c987f4e524
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 27 10:04:00 2022 +0300

    AI: Drop unused max_move_cost from find_something_to_kill()

    See osdn #45307

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e43490b53e15c2ef41d35c15781378d0c92218e2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 27 03:34:16 2022 +0300

    gtk4: Fix options area size in optiondlg

    See osdn #45455

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 130701643435d048842a485c6538007784b85812
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 26 17:40:21 2022 +0300

    Refresh gnulib-common.m4 from gnulib upstream

    This is an comment-only update. Serial has not been bumped.

    See osdn #45444

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 50b38ce665f67cd6d2d35cfbe139cbc681bcdb57
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 26 17:34:19 2022 +0300

    Qt: Correct spy_steal behavior when the target city has gone

    Correct spy_steal_shared() behavior when the unit's target
    city doesn't exist any more for some reason.

    See osdn #45411

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9df9895c6350bc61510c0fe435e63d9943c539c9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 26 01:47:29 2022 +0300

    gtk4: Add initial clauses menu to diplodlg

    Has entries just for trading maps

    See osdn #45443

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9e96c45700501ab8e8b63022e116aec3e8732734
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 22 21:17:51 2022 +0300

    Add gtk4-client desktop and metainfo files

    See osdn #43449

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e533b13999c2baec61744b67e3af0f63c54e6a0c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 28 02:22:36 2022 +0300

    Make pf_path.length unsigned

    See osdn #45416

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 470bdcee07bb5908279b740d4240cadd65ceaadd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 25 05:49:44 2022 +0300

    gtk: Fix setup_widgets() dead assignment of 'hpaned'

    See osdn #45445

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5e84a915cc278621cc67bb000a062980de41c8b7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 1 22:21:29 2022 +0300

    Bump version number to 3.0.94.7-alpha4+

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cb3e87d4cd5592bf3a0501ca218deee79d7d54d2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 1 22:20:59 2022 +0300

    Set version number to 3.0.94.6-alpha4

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit deedad5665ba5ac91030617404c062b8a3f18ae3
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Tue Aug 30 19:43:37 2022 +0200

    civ2civ3: Fix which naval units are military and cause unhappiness

    See osdn#45225

    Original patch by ddeanbrown

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit f08853386e8c714cd5ed5afdea7ba345d58020e7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 29 17:58:30 2022 +0300

    fc_strrep_resize(): Fix on NDEBUG builds

    See osdn #45508

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ce4f4a3737ca76682effeb36273679756869a034
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 1 01:12:51 2022 +0300

    FAQ: Update from wiki

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 599e287ea828779075130b58efd95f04cdbbad75
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Aug 24 21:40:07 2022 +0300

    gtk4: Implement science dialog button gestures

    See osdn #45437

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 29e2e9c366b4f50c1a133d3122001a063b3404dd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 30 01:38:21 2022 +0300

    Rulesets: Mark "CanFortify" helptext as xgettext:no-c-format

    See osdn #45518

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 76bdbe9ccf665b4b725c213dfdb20885f8c5d590
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 21 14:26:14 2022 +0300

    ax_cxx_compile_stdcxx.m4: Update to serial 15

    See osdn #45412

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c56b3a16d23008ec8b84a937c5aa544f15dd8df3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 23 20:14:34 2022 +0300

    Disallow selecting more Future techs after losing a real tech

    One has to research the real tech again to regain ability to
    continue researching more future techs

    Reported anonymously

    See osdn #44592

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8db2cef33307f4b433694de420cf94adda69f46a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 22 23:24:12 2022 +0300

    gtk4: Implement happiness dialog popups

    See osdn #45424

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit acc03811f2b63ce2a5947bf5061bc13b0d51ca03
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 27 03:39:04 2022 +0300

    Qt theme: Add NightStalker/cities.png to tarball

    See osdn #45451

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 37650e21cb24851a708593a700ed85dcabec2649
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 22 05:39:42 2022 +0300

    rssanity: Use ruleset_error() instead of log_error()

    See osdn #44372

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cf8ead6f752f09f8fb3b43c8d2500419786d7b59
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 22 06:03:59 2022 +0300

    sdl2: Fix science_report_dialog_popup() theme leak

    See osdn #45422

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d14577370001844f093eedf3700a93a24c495e3f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 30 01:10:39 2022 +0300

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 14aabc0c4356976625cbb44d31cc5439dd45b4bc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 22 04:27:25 2022 +0300

    gtk4: Implement connection list button gestures

    See osdn #45415

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 73e258f9fff1ebc1826fe6fff59738f400d84df3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 21 09:00:12 2022 +0300

    freeciv.doxygen: Update to doxygen 1.9.4 format

    See osdn #45406

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0b98a4186b2cb406f85dc52f5723e804a02e9305
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 29 16:37:37 2022 +0300

    Comment typofix: "allocated" -> "allocate"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b2053af3e2def2a7c31e2ce85e3a13fc37b13e8f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 21 11:49:35 2022 +0300

    Make max_trade_routes() return type unsigned

    See osdn #45316

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3f82df3197ac994436423e5ec8c14594c7fc0413
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 21 21:10:05 2022 +0300

    dai_auto_settler_run(): Fix clang analyze warning

    See osdn #45315

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f26e38c4a16f906d25da5839528fbc76dd837341
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 21 20:58:45 2022 +0300

    gtk4: Use GtkPicture in diplodlg

    See osdn #45414

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 73e156fff834ca4d98b6bc63554e87279bf1cd5e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 28 18:23:53 2022 +0300

    Comment typofix: "used used" -> "used"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit df49434c3887f4d331db1ac9be6293939e44d86f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Aug 24 22:16:30 2022 +0300

    sdl2 theme: Install fonts

    See osdn #45433

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit abe673c54bf9696aa7e159a8013eaeccdb796803
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 21 11:14:58 2022 +0300

    Cancel illegal activities on adjacent tiles when city removed

    In alien ruleset, city might have been providing water source
    for the irrigation activity in adjacent tile.

    See osdn #45408

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c7b969d0e0fde5c06a2f6d7c230425adf1416998
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 21 10:19:35 2022 +0300

    gtk4: Add Path/Mine/Base menus

    See osdn #45407

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 62e9ce942427443d4ba81248b8e42eef2c0d4c4a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Aug 24 16:55:24 2022 +0300

    Meson: Do not build ruledit by default

    See osdn #45446

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 30a2989cece554628fc548ced23f8a06fe96c992
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 23 04:44:51 2022 +0300

    Fix doubled space in requirement description text

    See osdn #45430

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1cca7b1a890436d63985a78ce7c8b28393a0e10e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 21 08:07:21 2022 +0300

    vampire.svg: Shrink page size to image size

    See osdn #45405

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8c33d7bc88e78cac51f2791bfe49fd51753b5c1b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 20 12:32:26 2022 +0300

    Qt: Fix city_production_model::populate() renegade leak

    See osdn #45308

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e41d00ca63fe8f3229dca297532ab9407746e98d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 20 03:55:37 2022 +0300

    gtk4: Make tile popup an GtkPopup

    See osdn #45398

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a8bda2537bd2ed089384f837364479b90bfbd23a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 21 21:31:46 2022 +0300

    CI: Enable debug on mac-meson build

    See osdn #45399

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fc24bab48b0a5da17fc20ec62616bd80cefa0ea5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 23 16:31:30 2022 +0300

    Add installer_cross/freeciv-gtk4.cmd to tarball

    See osdn #45432

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 89108888b0ef07b017a783c608facbd76a27c887
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 19 16:26:42 2022 +0300

    AI: Actively select tech on team with no pooled research

    AI was assuming that human team mate will choose the tech
    even when they don't share the research.

    See osdn #45397

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 552e89cbc61dd4265eb7d90e59b9566fe5a26511
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 19 06:32:02 2022 +0300

    gtk4: Don't try to listen to nonexistent "scroll_event" signal

    See osdn #45392

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a0c7324c4874a71f9fa88fcedb7d57146a824d58
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 25 16:59:53 2022 +0300

    Comment typofix: "a option" -> "an option"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aed0bb759544c947d99a1c7a31e6d06d7fb733ec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 19 05:25:03 2022 +0300

    Be less spammy about fixing research count errors from old savegames

    See osdn #45344

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 477345d6fcdd86260b5a56d0c4000377c3242b7c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 19 05:36:56 2022 +0300

    Fix editor crash when no resource is available for a tile

    If a tile somehow had resource assigned to it, despite
    the terrain having no natural resources, client in editor mode
    could crash.

    See osdn #45390

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 12358cced29f596cc0c1ba603c5bb80e69211ecb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 18 17:46:00 2022 +0300

    gtk4: Use "move-focus" signal instead of nonexistent "focus"

    gtk4 has no "focus" signal.

    See osdn #45391

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c01225c0956f7aae9251e3b8b2ea78cae2c28860
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 20 03:33:04 2022 +0300

    Meson: Check if compiler supports '-Wno-nonnull-compare'

    Do not use the parameter, if the compiler does not support it.

    See osdn #45158

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 89e797bc4660587bb2d6f784d95b034f798e3046
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 18 02:17:47 2022 +0300

    Stop removing hiding units twice from the client

    Server was sending removal once for each "hiding" layer;
    subsurface and stealth, for units in either.

    Also rename unit_is_visible_on_layer() as unit_is_on_layer()
    as it does not really reflect unit visibility in layer V_MAIN.

    See osdn #45347

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a6a698468657dfe4b99fea1b13f6ca401c4d718f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 16 03:33:48 2022 +0300

    sdl2: Fix diplomacy dialog gold widgets

    See osdn #45032

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b6dd71a310132bf62f98280158ce55f026e0cf77
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 18 02:06:30 2022 +0300

    gtk4: Set up science dialog scrolling

    See osdn #45379

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8f24dea1b7bfc5bdce231d7d1c85b6c1f649384b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Aug 17 18:03:17 2022 +0300

    Fix NULL dereference in entry_bool_get()

    See osdn #45008

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b0ed99b9b6fc4c6df148ba4fa223fc433fe3c03a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 23 04:03:54 2022 +0300

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7056f989513c6dec4b4edb7ce1d4cd99f158cc80
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Aug 17 17:07:10 2022 +0300

    Qt: Drop unused 'raise' parameter from science_report::init()

    See osdn #45113

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7a7ef6b124ca7a954f582685d8dbadf9f64af6d0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Aug 17 16:51:10 2022 +0300

    gtk4: Use GtkPicture for helpdlg icons

    See osdn #45378

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 033702e2a32b8bf4245fb3da741c44a0faa91417
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 22 19:26:23 2022 +0300

    Update Finnish translation of the ruledit domain

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9128a9d970be3e879d0d29366e870f3f4806c257
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 14 17:47:19 2022 +0300

    Update to crosser-2.4

    See osdn #44724

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 959846fb1e7f970208bdee8d9ec0156db891e343
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Aug 17 16:59:18 2022 +0300

    unknown.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #45382

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0e6efc8d30f03ee5d8a2ba22fd833de63d2a34e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 9 17:44:43 2022 +0300

    Make single-step goto to behave like normal move

    See osdn #44496

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 53de9c093ba4688c5a0bd6cb7e7c24375c99d4a0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Aug 10 03:15:12 2022 +0300

    Savecompat: Convert E_UNIT_WIN to E_UNIT_WIN_DEF

    Event has been renamed in freeciv-3.0.

    See osdn #44809

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bc06270544ce78cbb8e3d0b0eb23f993986295f8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 14 04:36:11 2022 +0300

    gtk4: Add players dialog menu

    See osdn #45337

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7fb356f503cc0d3207d55883ddd78a9b6365c40e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Aug 10 03:45:10 2022 +0300

    Refresh .po files from gnulib upstream

    See osdn #43022

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c286814ff47d14d64153cf23c6c8832448189ffe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 9 03:09:50 2022 +0300

    Qt: Drop unused QLabels from help_widget::set_topic_terrain()

    See osdn #45317

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f0b29f2ba3db3f5d778c54b551c5d0c56cf08e23
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 9 23:22:08 2022 +0300

    gtk4: Implement "Go to and..." menu

    See osdn #45335

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 035cfd06c1ea5d67ee8bb1cbfb954614683aebe5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 9 02:34:33 2022 +0300

    meson-winbuild.sh: Enable nls for qt5-client

    See osdn #45279

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6e4b67a36cdacc14487c48f325ce11d9c6a17d8d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 9 01:25:35 2022 +0300

    Rearrange FIELD_RANGE_ASSERT

    - Have the potentially fatal assert only after the verbose
      message has been logged
    - Do the "action" last, as it typically changes the state
      that the assert would use
    - In the no-failure case evaluate the "test" only once

    See osdn #45047

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 751c9213387f5ca0f98c46e43d717bcba718f345
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 9 00:29:20 2022 +0300

    Check that cargo can actually load to transports shown at transportdlg

    See osdn #45331

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit efb03493017687594910fcc7619f91d105f4a476
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 9 01:11:12 2022 +0300

    gtk4: Check the return value of gtk_scale_get_layout()

    It might return NULL, depending on the state of the scale.

    See osdn #45323

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 673c0d0121893fff629a6dead3a0a2e4ef5ecdbf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 8 06:14:30 2022 +0300

    CI: Build fcdb backends

    See osdn #44721

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8acd7a82140c0237b0088a3ae409df5f25cc6f80
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 7 01:49:16 2022 +0300

    Ruledit: Add Sanity Check button

    See osdn #43103

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d918dcdba9ffecf527592d7e9192e0ffbd989afd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 7 05:51:06 2022 +0300

    gtk4: Do not cast citydlg GtkCheckButtons to GtkToggleButtons

    It doesn't work in gtk4.

    See osdn #45322

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 263f38b81546f7c28ff9f427827b4eea2171c339
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 18 04:09:04 2022 +0300

    rscompat: Replace illegal "Tile" range with "Local"

    Adding new EFT_MIN_HP_PCT, when updating from S3_0 ruleset,
    was setting illegal "Tile" range for its requirement.

    See osdn #45388

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ab19004e7c44b229c8be1d7cc5529d5d2d98f839
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 18 01:57:57 2022 +0300

    upgrade_ruleset_sync.bash: Update S3_0 revision to fetch

    Get a S3_0 revision with no invalid "Tile" range used.

    See osdn #45384

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b8a84cc3f5c10631a8081e0e694f0efc9d11baaf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 7 16:09:15 2022 +0300

    Force changed max rates to H_RATES AI players

    See osdn #44188

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e8a6cb010d4febe46c120eb788cb46ac2c27f175
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Aug 17 16:23:56 2022 +0300

    CI: Install jpeg for Mac builds

    This is a workaround to gdk-pixbuf .pc file still requiring it,
    despite it not otherwise being an dependency

    See osdn #45381

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7b53b9aa4bb6b22fc643ca2af00f5939fd67e892
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 7 00:25:42 2022 +0300

    gtk4: Implement popup for the info label

    See osdn #45313

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6adf54453326e52c9a072eb4d4e5868b855235c8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 7 00:30:40 2022 +0300

    AI: Make look_for_charge() return type adv_want

    See osdn #45278

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b9540832ee2903a9a28417dbdd65e21286e37250
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 5 05:51:30 2022 +0300

    Do not silently ignore invalid range

    Invalid range was causing just the default range to get
    used, which in unlikely to be what ruleset author means.

    See osdn #44710

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8de189bce810248c66807d3a7a3dab80fc04ad0c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 6 09:12:03 2022 +0300

    gtk4: Fix constructing citydlg production combo

    Do not try to set progress bar in to the combo, but set it
    to the parent grid next to the combo.

    See osdn #45311

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0f5ff10e74f621bf1a5610a7bd7d456d0211d796
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 7 01:02:48 2022 +0300

    Msys2: Add autotools gtk4-client installer

    See osdn #45320

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d4d6138f4d2394be5cbdf6403bdea8dd7e806121
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 6 07:45:26 2022 +0300

    Qt: Add doxygen marking for hudwidget function headers lacking it

    See osdn #44962

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a8570f3b61cbead146a87820fdeb57862b22dca1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 6 10:06:57 2022 +0300

    Fix crash when non-player changes ai_manual_turn_done

    This could happen in pre-game, or for global observer.

    See osdn #45310

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7ee60c45a2ab5a9e0b9a5ac2936524bcd7ad28b6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 6 04:44:32 2022 +0300

    sdl2: Silence clang analyzer "Division by zero" -warning

    See osdn #45233

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 715a37c07651fddcb402f04de0ccc092edfe44e9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 6 07:39:06 2022 +0300

    luasql: Fix clang cast alignment change warnings

    See osdn #44815

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c4ce39721cb9324dc274a283808e48ae05d2d877
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 6 07:42:26 2022 +0300

    Sandbox: Make occupychance 50

    To have both occupying moves, and lack of them, tested

    See osdn #45154

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a9546e02a72932573b246a97a4f0ca0847a90821
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 5 07:51:01 2022 +0300

    gtk4: Draw science dialog

    See osdn #45304

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 744dca494454d8fea9b7948600dff45e0e36dc2d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 5 06:32:17 2022 +0300

    sdl2: Show wonders intel information

    See osdn #44992

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2d1e6c4954c4047a4d5e5c9a8996f2ce09b44323
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 6 03:51:24 2022 +0300

    Change occurrences of "FirePower" to "Firepower"

    See osdn #43081

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ff4b8780dd6f111fdb81fe6c6f3da5f723f08f20
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 5 05:14:55 2022 +0300

    Meson: Correct QT_DISABLE_DEPRECATED_BEFORE for Qt6-mode

    See osdn #45114

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ff655055072c68dab513f7a9e5719c7ab00cf3d6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 5 06:53:50 2022 +0300

    Do not set QT_NO_DEBUG for --enable-debug=checks

    See osdn #41774

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c56e4d185a36329635fd105c35ba2603e4f829e4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 5 05:08:32 2022 +0300

    Qt: Fix corner widget leak

    See osdn #45138

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1a46806ab18d1868a0f06426924fa9ecdddfa768
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 31 14:53:21 2022 +0300

    gtk4: Add menu entries for reports

    See osdn #45227

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d25cf7ca2be92cfae6873f02443c77003746537c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 5 05:11:40 2022 +0300

    flatpak: Build modpack installer flatpak

    See osdn #45104

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cde7fbc1d941855a9e1571f945f3df263d987389
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 31 15:06:03 2022 +0300

    dai_spend_gold(): Refactor checks for choice want

    - Fixed choice tracking
    - Made floating point want handling more robust
    - Fixed clang analyzer warning

    See osdn #45275

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c54bd1ff9cfe88c4d9797e0d2ad0829334a6cf9a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 1 06:16:54 2022 +0300

    gtk: Add tooltips to citydlg/production tab build targets

    Requested by ddeanbrown

    See osdn #45257

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 404ec0d2e5279cb84665b702852d6596ca3e9087
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 24 21:34:28 2022 +0300

    emscripten: Set ALWAYS_ROOT

    See osdn #45223

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f58ff2d8689d506007db8d7ad77630a53a9faf56
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 6 13:24:36 2022 +0300

    CI: Add mac-meson build

    See osdn #45156

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3b2edd85b53ccd78e481430d2e3b851e7a29f1c6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 30 10:15:41 2022 +0300

    meson-winbuild.sh: Explicitly disable readline

    See osdn #45137

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d912e25588585921b2721510022bc3e1d1ee0c24
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 5 06:04:31 2022 +0300

    Fix requirement ranges in supplied rulesets

    Some "Tile" ranges not supported in S3_1 had been
    backported from master.

    See osdn #45262

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 829968f25c05d1340185e36032f0e4b2fadc707d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 30 09:49:16 2022 +0300

    Correct comments using word "unsure"

    In most cases "ensure" was meant.

    See osdn #45273

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 801cd4cd22826aaf1c6b30f05945ebcf3320d479
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 29 22:45:31 2022 +0300

    gtk4: Treat allied_chat_toggle_button as GtkCheckButton

    See osdn #45272

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0588a4a57101ebcd11fb2bfb5d814cf4106b7de7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 29 03:05:41 2022 +0300

    winbuild.sh: Set ac_cv_working_gettimeofday

    See osdn #45260

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit beb9187a9ef2ab2d32dfb337fda90e5cadf0adfa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 29 12:41:50 2022 +0300

    Explicitly define unit tp_defense values in supplied rulesets

    See osdn #43586

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 35adb045be6dc8783186cd7a35e2004f9bfddb93
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 29 19:14:20 2022 +0300

    Qt: Postpone initial tileset selection after QApplication creation

    QImageReader::supportedImageFormats() documentation says
    that QApplication should be instantiated before calling it.

    See osdn #43873

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1e738bac20f12368edc4326c3be4d47c3e63b838
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 29 01:45:25 2022 +0300

    gtk4: Add chat tools bar

    No color selection tools yet

    See osdn #45258

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 44898f95300af898eecd692e9dfc15e779517ffc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 29 01:34:03 2022 +0300

    Meson: Rework icu dependency finding

    See osdn #45160

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 87ef2731bef6b500b79d64e526bfa9d2d26cf996
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 29 12:02:13 2022 +0300

    CI: Update to checkout@v3

    See osdn #45263

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8435dc6280ded2e4b212b5a257f7cb2f6efd5238
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 19 07:40:10 2022 +0300

    Give loot regardless of exact way of killing the leader

    Loot was being given only in the case that the leader was
    the one actually defending in the battle.

    Reported by ihnatus

    See osdn #44672

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f231c6b250c5745cad542926e59e49b2879034d0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 28 04:25:19 2022 +0300

    sdl2: Clean up at exit

    - Destroy main texture
    - Destroy renderer
    - Free main surface

    See osdn #45033

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 617f2ad71165722fc1ccd82557b13bd3399620be
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 28 04:19:29 2022 +0300

    Qt: Rework info_tile::calc_size()

    - Fix clang analyzer warning about dead assignments
    - Move variables to inner scopes
    - No repeated function calls

    See osdn #45231

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c73679c5b88abd85ea9a40798ccab517378e230f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 21 09:46:46 2022 +0300

    Tolua: Fix clang analyze warnings from the generated code

    See osdn #44868

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8372ce45170ea6f58a1b45ea5ed09de0cdd4044b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 27 04:17:24 2022 +0300

    Apply fix to CVE-2022-33099 in included lua

    Fix backported from upstream repo.

    See osdn #45248

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 25b8458917df34aa840a188a049365c2b8799be1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 17 09:56:32 2022 +0300

    Inline action_by_number()

    See osdn #45123

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6acf0d75d8e364683bfea497be4fb5d674a7c4ba
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 5 00:26:16 2022 +0300

    FAQ: Update latest stable version number to 3.0.3

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 797f0912093c788bcf856a1f7dfe7ea83ec73bb4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 5 01:15:50 2022 +0300

    fcmp: Fix vulnerability with crafted modpack URLs

    See osdn #45299

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 85841419fce3ec15fa1a0143c3ed7acdd1860b9b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 27 10:25:18 2022 +0300

    gtk4: Stop casting cma_fe.c happy_button to GtkToggleButton

    It's GtkCheckButton

    See osdn #45245

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b7a97aabd8dc99827a341e5eb409e9f9a6a8db40
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 28 23:45:47 2022 +0300

    civ/2: Update fortifying defense bonuses

    - Unfortified units in cities do not get the bonus
    - Bonus is not cumulative with City Walls or Fortress

    Requested by Alexandro Ignatiev

    See hrm #871628

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7f91f878a936325af4ecdd66ca4f341c0b7860c2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 27 02:58:54 2022 +0300

    installer_cross: Build gtk4-client installer

    See osdn #45246

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d34167b7aa392edab3c63a18b9091626d4408c6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 26 14:12:55 2022 +0300

    AI: Fix assert failure when transport boarding is not enabled

    See osdn #45239

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4e5d58e76614e3cb922ed61c4c1e0306b7f89a5e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 27 20:13:35 2022 +0300

    Doxygen: Fix "Unsupported xml/html tag" warnings

    See osdn #45252

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c2c625a26cf70181342324fa73f6f9ded0613995
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 25 13:24:07 2022 +0300

    gtk4 theme: Fix margin definitions

    See osdn #45230

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 128dab1a991cb09ddd534f0f9ac6189366b54755
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 25 05:56:59 2022 +0300

    Meson: Never pass 'lib' prefix to compiler.find_library()

    See osdn #45157

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 65e77c366238c1f7f19084616edf4ae23d883cad
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 24 22:11:35 2022 +0300

    Remove TODO comments about global_unit_options

    It's being removed, so nothing is goint to move there.

    See osdn #43059

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aea931f5fff27efd10c74a80ec0fcec9ba720c93
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 24 19:44:22 2022 +0300

    gtk4: Do not cast map scrollbars to GtkRange

    See osdn #45218

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 50da13c76520a6e5027c977e5e754815f27825e9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 20 10:24:28 2022 +0300

    INSTALL: Add Mac OS readline notes

    See osdn #45164

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 628a0549295399a18b48d17b0a48c2b0995a7f93
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Sun Jul 31 09:20:30 2022 +0200

    Updated french translations for 3.0.3 & 2.6.7

commit 101e270b26049d60bdd56e703264f9161b868c0e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 24 14:14:01 2022 +0300

    gtk4: Make governments menu to update

    See osdn #45140

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a99ad886336b811d57ca5c2993e933287f9da8c6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 21 01:42:25 2022 +0300

    Meson: Make readline support optional

    See osdn #45135

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 391b07683c34e1217a535a596ed5b6d7d5ee047d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 30 07:32:25 2022 +0300

    Comment typofix: "spossibly" -> "possibly"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9c8845b87dc55df8ca4ceb23bc95d1b73895db02
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 24 17:07:52 2022 +0300

    Qt: Adjust diplomacy dialog based on what clauses are enabled

    See hrm #768422

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5a40fb34a9a72d28e33e1b331409f8cd83e187e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 21 09:09:15 2022 +0300

    Remove mention of gone sanity_check_req_list()

    See osdn #44612

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fdc1d36d9a005d3ea37aa334ac623191e471c642
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 20 23:56:10 2022 +0300

    Update iconv.m4 to serial 26 from gnulib upstream

    See osdn #45094

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1c820ad8e989ece85e037c7b7ba76a06ca8533a1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 24 20:19:34 2022 +0300

    place_unit(): Do not add NoHome units to city's units_supported

    See osdn #45196

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3f8efd73485476f1d5e14befcd00dda9173d0862
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Fri Jul 29 13:46:07 2022 +0500

    Update for Russian translation.

commit 86c5e4411b00e68aa73eb72b78d44915deb1ff79
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 27 03:32:18 2022 +0300

    CI: Unhardcode homebrew component paths

    See osdn #45247

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3b67d3e11119b6a476c8777acca2b97ef819f333
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 29 03:32:50 2022 +0300

    installer_msys2/.gitignore: Add Output directory

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 41a9fcc6160a29e0a62e5fac7ccbe79e2e36ab42
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 25 04:37:13 2022 +0300

    Qt: Raise optiondlg when font/color picker closed

    Optiondlg was disappearing behind the main window
    on macOS

    Reported by ddeanbrown

    See osdn #44851

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2c1cf3f3081970871507b224a7baf0ac6fc4e5ff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 28 16:22:33 2022 +0300

    Comment typofix: "hiden" -> "hidden"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 18cd624b8694f78762fb920795c081f3039c70fa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 24 22:29:42 2022 +0300

    Client: Initialize unscaled_tileset

    See osdn #45130

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fc9fc43f639d9622241c3a9a62ab6587f236449c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 19 19:59:17 2022 +0300

    gtk4: Turn edit tool buttons to GtkToggleButtons

    See osdn #45139

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 73234e66ce4eace83590dd1bc071bca4c0bc1d9d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 18 07:13:11 2022 +0300

    Meson: Detect MagickWand

    See osdn #45007

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f13bbf52a61401a005e73056a0dd8702512ee428
Author: dark-ether <henrique.hsa2002@gmail.com>
Date:   Mon Jul 18 17:36:53 2022 -0300

    capability.c: Change function headers to contain TRUE Instead of true

    Requested by Marko Lindqvist

    See osdn #42204

commit e90b96f15a8f8d39658937a2153f2517f83a3811
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 24 20:00:22 2022 +0300

    Qt: Include dialogs.h as "dialogs.h" to optiondlg.h

    Not as system header <dialogs.h>

    See osdn #44837

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 01c40fd9ec9cc50231a7adc2fcbbe059d7b773d5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 24 15:52:41 2022 +0300

    configure: Add cache variable for gettimeofday detection

    So it can be set to not get the pessimistic default
    when cross-compiling.

    See osdn #45050

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 559b40ada8a6de403287ea4480a32453fcdeebdc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 16 10:10:24 2022 +0300

    gtk3.22/4: Add g_log callbacks based on freelog

    See osdn #44995

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e99fa97d928b3d35c933b09299ea38d4c7fa7a89
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 22 10:48:27 2022 +0300

    Qt: Reserve extra line of space for intelligence information

    So that if some line later wraps, taking two lines, all of
    the text still fits.

    Reported by chippo

    See osdn #45191

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f010f3e32792edd02b352f1b925c270876b49078
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 18 05:39:00 2022 +0300

    gtk4: Update attempts to set "margin" property for widgets

    There's no single "margin" property in gtk4, but it needs
    to be set separately for each direction.

    See osdn #45132

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b8d68d679f28e62ebfa8fcc4aba6abd2b2b5a584
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 25 14:56:30 2022 +0300

    Comment typofix: "explaination" -> "explanation"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0b85825e1db588bb70da5a5bdb192e3cb3f4ea73
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 23 09:24:43 2022 +0300

    CI: Fix macOS build readline detection

    See osdn #45163

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8c0f1594c0c91f1c2cfab52c015a8a4cde9e2778
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 18 05:16:37 2022 +0300

    mapimg.c: Remove redundant imgcolor_player() calls

    See osdn #44897

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6bbb1d8f67e6da8e3add0a8d47bdcc623828f323
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 18 18:10:01 2022 +0300

    Qt: Adjust UI depending if gold clauses are enabled

    See osdn #45149

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0688e4b6792be88df4d4d973d70e31fbc838230b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 18 05:27:30 2022 +0300

    Make vision_site.walls an int

    It was defined boolean despite containing gfx type number

    See osdn #45063

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3bab31c6070d004d34d8a94be087683f16d48c9f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 16 22:41:08 2022 +0300

    Disable metaserver functionality on emscripten build

    There is no curl functionality that it depends on.

    See osdn #45105

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e403a904869826420c2ec6dc774f309fba5c9486
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 16 16:42:08 2022 +0300

    meson-winbuild.sh: Add Qt6-client support

    Crosser-2.4 (currently development version)
    required to actually build the client.

    See osdn #45117

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a42ae702c431f4af237bd9eecff03ce4253ac5b2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 24 18:53:34 2022 +0300

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4e7db7481e741e4c256932fd487e4f844c45a74c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 21 23:43:24 2022 +0300

    Fix unit move animation speed

    Reported by chippo

    See osdn #45184

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 828c8a3599bcc87782341d22e553ed394f9243fd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 18 23:30:55 2022 +0300

    Reorder actions for more logical grouping

    Requested by Sveinung Kvilhaugsvik

    See hrm #920376

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 13b8bb76c4d96bf08ef7cdbb81c3c843c27dfffd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 16 15:39:50 2022 +0300

    sdl2: Fix create_select_tech_icon() surface leak

    See osdn #45035

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ee60442fd4f98fd57d9d7886560f1e74413de709
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 16 01:57:47 2022 +0300

    gtk4: Use index instead of gov rule name in action names

    See osdn #45111

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9ead7b555a75f3ccb79d4405457020c7adeff705
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 19 19:28:52 2022 +0300

    CI: Stop installing Qt5 to msys2 runner

    See osdn #44109

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5a32c5b23be8966400785d97a96c617d1dd180df
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 16 10:38:17 2022 +0300

    configure: Fail when requested odbc cannot be found

    See osdn #45053

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7e687c3fe702a3bd48909d0839d7d961420447d2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 16 01:28:49 2022 +0300

    Send nation groups data before requirement vectors may need it

    As the client was unaware of what are the legal nation group
    indices, it was turning nation group requirements to
    invalid requirements

    Reported by dark-ether

    See osdn #45109

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1248365433f63c6f807b5cd7ef85be75c78a8392
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 16 02:32:10 2022 +0300

    Meson: Warn if IPv6 support is not enabled

    See osdn #44932

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bd5e936f6bd61a75516db7cbea8bda537bbbc99d
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Wed Jul 20 19:32:31 2022 +0200

    generate_packets.py: Don't compare constant array size to itself

    Reported by Marko Lindqvist

    See osdn#45159

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 683a22c36611f9cebe4fbfc6d1a649c9e19db836
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 15 05:29:03 2022 +0300

    Refer to modpack installer in help of client options

    See osdn #45043

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fdbba043e221815079ac92747179e156ffd3b808
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 15 02:40:29 2022 +0300

    Qt: Refresh sidebar fonts when the settings change

    Reported by ddeanbrown

    See osdn #44907

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d8a96c10a27cb070adcd35fc2f04e0c4f9cca64
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 15 02:46:57 2022 +0300

    Sanity check that terrain resource is a resource

    Reported by dark-ether

    See osdn #45099

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e6ddec60e7d5ae326f00d8f2adef441e58f82087
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 15 02:23:17 2022 +0300

    sdl2: Keep sdip dialog as long as data is needed

    Some callbacks were closing sdip dialog first,
    then looking data from it. Reverse that.

    See osdn #45046

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 29a66c42126f557e7e75db493c3d49a46f5c922c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 16 00:47:53 2022 +0300

    flatpak: Prefer wayland

    See osdn #45103

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0d09e0de72e4d824ab19436f8acc99e19094a0a4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 14 16:35:09 2022 +0300

    dai_effect_value(): Drop unused government parameter

    See osdn #44713

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4104fa2a470e8e4893ecbac8cb6000b51c1deb25
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 14 16:30:06 2022 +0300

    gtk4: Hide menubar when returning to main menu

    See osdn #45098

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d029f9281d7c53a58621c6c22bc26691c39a266e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 14 03:48:33 2022 +0300

    Update lib-link.m4 to serial 33 from gnulib upstream

    See osdn #45025

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4de0fd32891e668aa60365fef38b32f48165e486
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 14 06:01:03 2022 +0300

    Make rally_point.length size_t

    See osdn #45054

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f382144260ee887de9afa8e3bc7b34d56e001e9f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 9 04:08:56 2022 +0300

    Qt: Fix flags shrinking after visit to nations report

    Scale copy of the flag, instead of shrinking flag
    in the main store.

    Reported by Chippo Elder

    See hrm #857120

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0c7d2f7f657533b513f3d9c24044689a7ba63877
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 15 04:55:43 2022 +0300

    fc_interface.c: Document also tools as a user of the interface

    See osdn #42889

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cc79c45221f787fc0262da4de6aba90bbeb209ab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 9 01:35:19 2022 +0300

    Meson: Set 'cpp_std=c++17' for building Qt6 programs

    See osdn #45014

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5b144bcca1bed50c0f3b0d2e084f21b3d95c87d1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 8 21:14:31 2022 +0300

    srilanka.svg: Shrink page size to image size

    Update to current inkscape format.
    Fix "Different units in document size" -error

    See osdn #45069

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a391cf96feec8988fa44b846603804d017083d3a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 14 02:31:34 2022 +0300

    gtk: Adjust diplomacy dialog based on what clauses are enabled

    See hrm #768421

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 139ce04b4b7b50e72885adf2622c1985f4a26583
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 8 02:07:50 2022 +0300

    Client: Free option gui widgets

    See osdn #45022

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8805ff00c18b91446c93ed9a1441e0eb6c50f8bf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 18 22:01:06 2022 +0300

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3c5c421fca97c4969ddc2e428c6b29f4fe0df116
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 16 20:07:49 2022 +0300

    Rulesets: Change ui_name "Alight" to "Deboard"

    See osdn #45023

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 626f475bcf9e52c78807466239d118135632a685
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 7 21:12:34 2022 +0300

    gtk3/.22: Fix GdkEvent cast alignment increase error

    Seen when compiling with clang on x32.

    See osdn #44920

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6566f4b141d64f0c3a0ab2e7e4c5a371e16fe6fa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 6 22:10:31 2022 +0300

    Tell player to declare war in Nations report

    The old messages just told user to use Nations report when
    some action was impossible during peace. Make the messages
    tell that one is expected to declare war in that report.

    See osdn #41841

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8f2ebe69138ea1e61c784b5a1e87454fbfa5bbd4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 6 19:47:22 2022 +0300

    sdl2: Always allow opening intel report

    See osdn #44991

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cf138a7c1f8f1fff47681f7af561b39dbdbe68f4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 5 21:53:55 2022 +0300

    gtk: Avoid diplodlg call of qsort() with NULL cities list

    See osdn #44833

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 660ad5ee66ce1274906db64cad8a05b220206121
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 5 22:27:56 2022 +0300

    gtk4: Implement left panel unit icon mouse events

    See osdn #45018

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 283570f557286351289c5888ad237e345d42ca9d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 5 22:55:25 2022 +0300

    Fix detection of cross-MagickWand-config

    See osdn #45009

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 645c0fc824f47afe78fc14f1512f9df364da5c6a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 5 01:19:33 2022 +0300

    gtk: Let user to select transport for L)oad key

    Reported anonymously

    See osdn #43950

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 85a049bef301ae238421a73780f16b80dcd86725
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 15 22:34:41 2022 +0300

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f00db84a42338c083a913127c784d976a6a57514
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 4 01:51:51 2022 +0300

    Qt: Correct fc_font::drop() header

    It spoke of fc_icons instead of fc_font.

    See osdn #45002

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 83f4e86458ba6933d40c8de4129e9e63041db2e6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 6 21:41:14 2022 +0300

    Freeze datafile formats

    - Bump datafile capstrings to their final freeciv-3.1 form
    - Set version number to 3.1.0, and freeze version flag on
    - Set datasubdir to "3.1"

    See osdn #44342

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 20f3daffcf3797309fbfffe06e7695a8a69c4a35
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 5 02:12:04 2022 +0300

    installer_cross: Add gdbus.exe to gtk4 environment

    See osdn #45015

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 20bf6cfc30fa96a4d1310546617d9de1d053bdf1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 4 20:46:25 2022 +0300

    Editor: Disallow creating more than maxplayers players

    See osdn #44811

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 06af98570592a4fcba5935a95e87c568d8dd0344
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 14 21:25:45 2022 +0300

    FAQ: Refresh from wiki

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 965e9cdc228f6cb49a33754ab2232284ba335c1c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 3 20:48:54 2022 +0300

    Prefer signal.h over sys/signal.h

    See osdn #44997

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 390d33710163496969b7fb9a427c400a91da9c1e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 4 19:42:11 2022 +0300

    Meson: Support defining FREECIV_CROSSER

    Implemented as cross-file property, as crosser based build
    is always a cross-compilation. It would be an error to give
    such an option in native build.

    See osdn #44310

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b46175389bf78076aa1846a83cfe4ea17a908f2a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 8 01:30:40 2022 +0300

    Move initial variable declarations out from 'for' in C-code

    See osdn #45056

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 99cbc2f70dc491e4e43fa240731e32f6fb412fae
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 4 02:06:01 2022 +0300

    INSTALL.meson: Mention meson core option default_library

    See osdn #44843

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 40fc654ea860a1b48b20f036053c532dd710c923
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 3 20:27:40 2022 +0300

    fcbacktrace: Increase MAX_NUM_FRAMES to 256

    See osdn #44994

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bb5064f9936bbc360d3d651f5621b78779d8d076
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 4 02:15:00 2022 +0300

    Qt: Make font/color chooser headings translatable

    See osdn #44957

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0c6eab5f75e5c49ab1b5a731089cb0e0fc8f44d6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 3 06:50:09 2022 +0300

    gtk4: Make citizen icons to show up in citydlg

    See osdn #44984

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 079aa53e9e9dba045cd32242506f5b1815da9eab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 3 13:49:59 2022 +0300

    Qt: Show wonders intel information

    See osdn #44990

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a2bebc77037639911905b56938314ef617393e10
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 3 20:59:15 2022 +0300

    AI: Do not revolt to get rid of Senate if Anarchy has Senate

    See osdn #44847

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e3e9ee44ab0e28048adaa18e9563a806189b16d0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 2 17:46:00 2022 +0300

    Meson: Support Cygwin

    See osdn #44933

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b38d9405564abf5b8ccd0a19d6bc5116ff6f1098
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 3 09:29:39 2022 +0300

    Free curl handle

    See osdn #44945

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9ad04ef75f0c8aa7bb42057b1735491e67e392b1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 9 04:44:13 2022 +0300

    Syntax fix to Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cff18ed7bd46cf7d053ddd340fdb36bdae83b4e9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 3 07:55:59 2022 +0300

    Qt: Fix go_act_menu memory leak

    See osdn #44983

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8f2a4f5e7e7ae826ffe024af7ad36fa473997ad8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 2 15:32:01 2022 +0300

    Replace strncat() call with a fc_strlcat() one

    See osdn #44919

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1f6b640057bdf87159260d358d7b2791199f669c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 2 17:12:31 2022 +0300

    helpdata.c: Check if building-enabled nuke has tech requirement

    Don't just assume that there's a tech requirement to show.

    See #44941

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6f0a12be3bab92e967d23ad12b3a510e9c8cdfcf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 6 04:25:36 2022 +0300

    Meson: Add release cycle information

    See osdn #45030

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c6baf2ba09efd0898597e0d3bbf451392d5622d9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 25 23:43:31 2022 +0300

    Qt: Fix problems in adjusting progress bar font size

    - Do not adjust the stored font to be used for other texts
      in the future, but a temporary one.
    - Never compare widget pixel size to font point size
    - Adjusted the limits triggering the adjustment
    - Minor cleanup

    Reported by ddeanbrown

    See osdn #44906

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d71cc8dcafc93ecdf404c367cb5878816d076a53
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 7 12:39:04 2022 +0300

    qt5.m4: add -no-pie only if it works with -Werror

    See osdn #44917

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 52f3b6fe0da0555f306d53aa9785903aef056959
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 5 02:43:19 2022 +0300

    Update remaining URLs pointing to freeciv.org to use https

    See osdn #45019

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0a679ad577aac09c54afec288b71b0120cc28c55
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 4 20:29:45 2022 +0300

    meson-winbuild.sh: Add gtk4-client support

    See osdn #44943

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fc74309d0bdfe4b74afe482bb2421ece1342cedc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 26 21:15:38 2022 +0300

    gtk: Increase size of the "players count" buffer in server list

    It was too small for translation of "Unknown" under some locales

    See osdn #44944

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit be4d68182bb587fc93a687e47bdfb36ebb99a818
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Mon Jul 4 19:26:19 2022 +0200

    Remove orphaned dio_put_city_map_raw/json() prototypes

    See osdn#45011

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit e8f15bbd263d3720218f572cd0a7dfd61af51a99
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 30 02:16:48 2022 +0300

    gtk4: Add commands suitable for initial units

    See osdn #44965

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 73d73da58151b8f17f26e601fd9b52a12ebde1c4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 3 08:54:40 2022 +0300

    Fix dai_is_unit_tired_waiting_boat() crash

    Even if the unit had no homecity, homecity tile would have been used.
    I don't know if it's actually possible for a unit without homecity
    to ever end evaluated here with the current codebase.

    See osdn #44987

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 340622f94939faac9611cfc6bf06108207f3c00f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 2 13:05:20 2022 +0300

    Msys2: Add gdbus.exe to gtk4 environment

    See osdn #44921

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9f06f259b2950425a7012682745e0fcc4be6a895
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 2 19:16:50 2022 +0300

    Update URLs pointing to wiki to use https

    See osdn #44981

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 408ba93062e4992aa12b55a5f4f7f42d89ea7e9e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 25 22:27:35 2022 +0300

    Qt: Rewrite color options part of option dialog

    The old implementation had so many problems that
    there was no way to fix it.

    See osdn #44947

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ed29a7c4dfe61ad14a311087b69a80f7214cdca0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 27 19:53:25 2022 +0300

    sdl2: Scale units down to icons by more accurate amount

    Citydlg icons were often scaled down far too much.

    See osdn #44891

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d05fb599e7edc97af1f7cef684b7b9180824a852
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 25 01:21:25 2022 +0300

    Qt: Rework popup_messageopt_dialog()

    Resolve clang analyze warning about useless variable.

    See osdn #44937

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6f5f4cc449aa100100b500772f6f9931aa537c37
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 26 03:06:15 2022 +0300

    scripts/potfiles: Replace deprecated egrep use

    See osdn #44115

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 82c5ff89efbc41295332fea4ec3f4264c021b9d9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 26 14:04:40 2022 +0300

    Move heavy parameter evaluations out from MAX() / MIN()

    See osdn #44611

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 813777a377e052ebaf6311e7eb13197fc77748f4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 4 22:30:21 2022 +0300

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 590f0019883440cc7e2e3ac58d43d56b18954944
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 4 18:38:40 2022 +0300

    Comment typofix: "memeory" -> "memory"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7d3bb23fc6af90451f5b0a014e92ed7fdedbb7f6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 2 18:37:18 2022 +0300

    Qt: Raise dialogs when they are accessed again

    Dialogs disappearing behind main window were a problem
    on MacOS

    Reported by ddeanbrown

    See osdn #43943

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0d3c45b7aa93dc4705a967ab678cc6d670b928bd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 24 12:09:16 2022 +0300

    flatpak: Reduce permissions to ~/.freeciv subdirectory

    See osdn #44925

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit de211a3f90158088332985a2859e29aec8990a14
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 26 02:08:31 2022 +0300

    Rework readline cleanup on server quit

    - Introduce readline_atexit()
    - Call rl_callback_handler_remove() from readline_atexit()
    - Do not register rl_callback_handler_remove() as atexit function
    - Free last input line (the one where the "quit" command was given)
      in readline_atexit()
    - Call readline_atexit() from server_quit(), before exit()
      This clear things before any atexit handlers installed by tools
      wrapping freeciv
    - Also register readline_atexit() as atexit function, to make sure
      it gets called at least once even when server_quit() is bypassed
      for any reason

    See osdn #44948

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fa1903266927c26a4f86ba432c539ce883a52d66
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 24 21:54:03 2022 +0300

    gtk: Allow setting worker tasks while governor active

    Do not make citymap widget completely insensitive when
    the govorner is in control. Instead keep it sensitive,
    and disallow select things (rearranging workers)

    Reported by Caedo

    See hrm #697695

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 823a3eb68d9f08bb8d86cd2951d1699c625bcc2b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 24 01:47:03 2022 +0300

    qt5.m4: Disable PIE when enabling PIC

    Qt headers that require PIC also don't accept PIE.
    When we disable PIE inside freeciv bootstrap just for Qt-facing
    parts of code user is not required to disabled it from
    the entire build.

    The problem was seen on build of hardened freeciv
    debian package on x32.

    See osdn #44917

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fe929785b01d915f5ec8bf789835cd567743eb9b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 3 12:03:07 2022 +0300

    Bump version number to 3.0.94.9-alpha3+

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 48bfc639c37008466f6bd8c8d3ec832aa1499ab0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 23 18:24:40 2022 +0300

    Qt: Make options dialogs to remember their geometry

    Requested by ddeanbrown

    See osdn #44391

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dacc7f9d3abc9edfbf3f1119eb3daa61130004eb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 3 07:29:24 2022 +0300

    Comment typofix: "instertion" -> "insertion"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 078bada8694fe084048834297e35d91f6a9ecc3d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 24 21:16:10 2022 +0300

    sdl2: Fix nation selection dialog surface leak

    See osdn #44893

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5de951e50b4e6561e48b2476dde2d5c9e7943bbc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 25 12:00:22 2022 +0300

    gtk4: Use GtkPicture for unit icons

    See osdn #44934

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7a6386dd27080cd53ce8fc396dd69fb15d0b4041
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 2 20:42:01 2022 +0300

    Comment typofix: "save" -> "saved"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a52455931cd16038f3027b5c3a64641f6f848ff2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 26 19:11:47 2022 +0300

    Update URLs referring to freeciv main homepage to use https

    See osdn #44954

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ad7fc3deafba365a17af9bbce1ce3c398cf9e8d8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 24 19:00:38 2022 +0300

    AI: Fix tech want for paratroopers

    See osdn #44926

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 02f416484968a9e474d4830f2204708dbc5d2f71
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 24 22:32:02 2022 +0300

    Fix netwait on systems with unsigned time_t

    See osdn #44886

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 71ce66747787362799fef99119beb3d4d28c5093
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 22 22:13:13 2022 +0300

    Meson: Check if getaddrinfo() is a macro

    See osdn #44794

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0a186199fa98734b26f9975170285d2b22b1701c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 23 18:55:37 2022 +0300

    Remove city worker when the tile gets fogged for the owner

    Reported by wieder and Jacob Nevins

    See hrm #697685

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 66275fb89503ffa0a3d2b9da7378f52be436af80
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 22 01:03:50 2022 +0300

    INSTALL.Cygwin: List libMagick-devel package

    See osdn #44896

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 058e409dc3d81a19ad9c851d9cbfed45f9287531
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 30 00:12:10 2022 +0300

    CI: Install llvm for Mac explicitly

    See osdn #44968

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2c7a10961dace9c4fe0672cfff5b92ab9bc9342a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 22 01:41:39 2022 +0300

    Lua: Disallow creation of multiple units of unique type

    Reported by Alexandro Ignatiev

    See hrm #870631

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dd31edee5a195ff4381ff9b69df493535f9276f8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 23 23:50:51 2022 +0300

    gtk4: Implement governments menu

    See osdn #44904

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1fe562d3cc41f8e43a69c021334117a261931476
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 21 16:51:10 2022 +0300

    kill_unit(): Call player_slot_count() just once

    See osdn #44797

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9292db42af23afeef44fdffe45a7b8c1a6fdd665
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 21 16:29:13 2022 +0300

    Qt: Configure the fonts when needed

    - Do not discard and overwrite good font settings
    - Make sure that fonts are always configured when needed

    See osdn #44864

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6595b86618754b8f85d035fee94b8e1bfcb5217e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 22 00:30:49 2022 +0300

    Place animals further away from players

    Reported by Jacob Nevins

    See hrm #697677

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3643b1eb4bfbcf1fa2c3571afa1a88dc86a28c89
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 21 19:41:30 2022 +0300

    Correct end_turn() statistics

    See osdn #44879

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e3de5635b42acb5ee6d8ffba6851a31cbdced901
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 19 09:19:33 2022 +0300

    CI: Build gtk4-client & modpack installer

    See osdn #44725

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit faddbe4a89ca484d1bdc5e0bd88dfc6f5e4f7cdc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 21 19:52:39 2022 +0300

    sdl2: Search icon borders by alpha when no colorkey available

    See osdn #44892

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 40e9f7a4d2cbee43aab04ad6bee593122da8fe1b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 20 19:42:28 2022 +0300

    Qt: Fix citydlg happiness layout memory leak

    See osdn #44885

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5de28cb7e2f243da27ce4ec81570168a548da387
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 24 03:53:03 2022 +0300

    Use https for default modpack list URL

    See osdn #44807

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5bb0dcb1fc99231c7a4b3afbbfb267ce571f454a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 20 17:51:03 2022 +0300

    Handle fatal tileset load failure on FREECIV_NDEBUG builds

    Handle the failure with regular check, not with
    fc_assert_exit_msg(). The old code allowed execution on
    FREECIV_NDEBUG builds to continue to segfault on the
    next use of NULL tileset pointer.

    See osdn #44754

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 91793c64fe6eec882be48499f84fa9a9e7a3803c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 18 06:40:43 2022 +0300

    Sanity check research techs_researched count

    See osdn #44594

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 34b8c93140ea685a2a1e90b00fd3d0d5f91bd9e8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 19 23:19:51 2022 +0300

    Climate change: Check unit activities on tiles surrounding changed one

    See osdn #44155

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f5e21e0caa115f4284339116191899b50ab2ab7f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 20 18:50:16 2022 +0300

    gtk4: Fix Connection Page buttons

    See osdn #44884

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ef1c71d5ec7ee0288d73df48699dc3621e3d41d6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 22 17:25:34 2022 +0300

    gtk: Set more-units-arrow to correct column of the grid

    Set arrow to actual last column (depending on screen size),
    and not to MAX_NUM_UNITS_BELOW column.

    Other populate_unit_image_table() cleanup made in the process.

    See osdn #44905

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c49da71f15420a7565bc6c5f5ae92691e4691b83
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 25 17:35:56 2022 +0300

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b79815baf62be2bf675eccadd29a2fab08dcda72
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 20 22:04:17 2022 +0300

    installer_cross: Explicitly disable readline

    See osdn #44849

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c8c60abbb8127cbea02aba5d38bfeedc06b04094
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 16 04:08:08 2022 +0300

    Qt: Select smooth font size for the default fonts

    When selecting default fonts, set their size to
    ont of the smooth sizes of that font.

    See osdn #44034

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit efb79683096df50f04503389d925eb26f4a65120
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 19 21:25:50 2022 +0300

    Macrofy action_has_result()

    See osdn #44688

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 151796cddfdf81871b942dcd3eb6f7ddca9a9721
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 20 17:03:45 2022 +0300

    FC_QT: Default to Qt6

    See osdn #44385

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ba1644b714b303b0f6feb32385afc62f23f15542
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 21 18:43:32 2022 +0300

    *.metainfo.xml.in: Use https for freeciv homepage URL

    See osdn #44826

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eb1fc131320a5e5b98219e39ad8e5018c9cdc77d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 19 21:59:54 2022 +0300

    Msys2 Makefile: Add ucrt64 support

    See osdn #44827

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f046e5d0b61a2b3bead35838c7872014b860588e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 16 11:10:45 2022 +0300

    Fix IPv6 lan announcement replies

    See hrm #912661

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 979304a33298123e8f64ddcf38fbca2a9b8e6a71
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 20 16:52:25 2022 +0300

    Qt: Use QMouseEvent::pos() instead of ::x() or ::y()

    See osdn #44875

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0511286b71f042e8b46e1576526274590f932217
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 18 11:12:16 2022 +0300

    player_distance_to_player(): Fix clang analyze div by zero warning

    See osdn #44856

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ae7a580b80e52e0c95149ff688b2b5d3e6679507
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 15 06:03:16 2022 +0300

    Gui API: Drop option_dialog_popup() from common API

    See osdn #44836

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1e7e0970185de2b77ee035d734291d6cf76d8ba1
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Sun Jun 19 22:52:48 2022 +0300

    Lua: allow create units in unboardable transports

    See OSDN#44834.

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit 77f9db3700761c14f917ad63a955b614fb1a6234
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 15 07:17:58 2022 +0300

    Qt: Set up proper fonts when the client starts

    Reported by ddeanbrown

    See osdn #44389

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b4df8d010cf80697276c3b8eb4a1e9f02b31ce34
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 23 05:16:06 2022 +0300

    server/.gitignore: Remove libcivserver.a

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3b75f9b5f6734d47d5aa586d67ab4c9f31eb8536
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 20 06:38:02 2022 +0300

    gtk4: Implement citydlg mouse button events

    See osdn #44874

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0887defbd8f7f7c791b5322ab74673ea1daeaa24
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 18 06:26:02 2022 +0300

    Centralize diplstate type changes to set_diplstate_type()

    See osdn #44854

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b77f456602fcc6858a751e3b00df4f896ed3edc6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 17 14:00:33 2022 +0300

    Meson: Define FREECIV_IPV6_SUPPORT conditionally

    Enable IPv6 build only if getaddrinfo() available

    See osdn #44069

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit babc1a50003fa0533bd78811dd27473b0333012c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 22 20:29:11 2022 +0300

    Fix normal build

    Further adjustment to osdn #44882

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d48e1b86094c3c987420326356cae830edd90ed7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 22 19:52:05 2022 +0300

    Fix compile without --enable-debug, or with FREECIV_NDEBUG

    See osdn #44882

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 74b200aeaebef76b47aaca4a320097ec843b668e
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Fri Jun 17 23:04:07 2022 +0300

    Build units with a nationality of the citizens spent on them

    The dominant nationality is the first recruited of the most numerous (i.e.
    foreign more times than native). A fix included for not to get negative
    production in a city in the process of unit building due to scripts.

    See hrm #866911

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit c5503681ae6f494eb125b6a89c4c1043572eb326
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 19 08:23:27 2022 +0300

    Qt: Make settings versioned

    See osdn #44838

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d577b7ad687d912797ac0bdb301737f85545abfa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 22 16:14:19 2022 +0300

    Comment typofix: "populatate_..." -> "populate_..."

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b4b94d3711ec096a21c77fabaf6ac586efe9f496
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 14 17:58:33 2022 +0300

    gtk3/.22: Unref ui_builder

    See osdn #44832

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c91aa2bb378ac0ede61d67c9e2c4e4ff96666e60
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 16 08:34:13 2022 +0300

    gtk4: Draw map on citydlg

    See osdn #44844

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a1480912ec12d514e5ee9ee32054a450534782d6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 15 03:54:18 2022 +0300

    Update distribute() fingerprint

    Make 'groups' and 'ratios' unsigned

    See osdn #44617

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fbd63fe885fc0ba64e921093b1b1b8e86dd8ec6e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 18 09:33:54 2022 +0300

    Make default metaserver URL to use https

    See osdn #44806

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fa05ead4770880d54a71b68860d0c4056bbe201f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 21 21:21:32 2022 +0300

    Comment typofix: "excecuting" -> "executing"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3e7098ba27ba6060a0d21a50ef389ae456a2fe6a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 11 10:21:59 2022 +0300

    Rename ...appdata.xml as ...metainfo.xml

    See osdn #43688

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c8f78a4a319aae7b7ca7cdf7b87fc9a4d27de857
Author: Elefant <noreply@null.void>
Date:   Thu Jun 16 20:32:35 2022 -0600

    Add cimpletoon renderers to data/graphics folder

    See osdn #44825

commit 78e003dde99bc9f07a54f723c09103ab30f1042c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 14 09:07:10 2022 +0300

    civ/2: Allow AI to build air units

    Reported by Alexandro Ignatiev

    See hrm #922066

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit db38891761fd6601e8e6d98f26a599047366319a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 12 03:28:36 2022 +0300

    Meson: Add gtk4-client build support

    See osdn #44800

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 295acd51e52654f959c178394799295b097fdf5a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 17 10:17:39 2022 +0300

    gtk: Make numpad keys to work for controlling zoom

    Reported by elefant

    See osdn #44846

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4c0952533f23d9ac285e5aa260614c75aed766c7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 13 08:14:32 2022 +0300

    CI: Update setup-msys2 to version 2.12.0

    -Werror had to be disabled from msys2 CI CXXFLAGS, as the
    Qt6 -headers in the new baseline have internal trouble
    causing warnings.

    See osdn #44776

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 863441a7ab12469cb9f91758cfd70b4bc24b5385
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 12 10:44:43 2022 +0300

    Editor: Disallow creation of more than one unit of unique type

    Reported by Alexandro Ignatiev

    See osdn #44793

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 517f42ef7046c669531817cd2d81b0ce574fd21a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 13 08:03:49 2022 +0300

    Doxygen: Fix dai_war_desire() header format

    See osdn #44810

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b2091bcbe1bbc3d5db08ff32c761477d0d1fe1f4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 11 16:24:31 2022 +0300

    gtk4: Add menu entry for founding a city

    See osdn #44798

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7742faf496adc1c89fb7125a5eb2072aac1dbc61
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 10 05:12:17 2022 +0300

    gtk: Add logging about gtk initialization failure

    Both gtk clients and modpack installers changed.

    See osdn #44118

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ab44e46617d6e7143c660479aeada8e85cc169e7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 14 13:47:42 2022 +0300

    Update links to forum.freeciv.org to use https

    See osdn #44829

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3d1a7711686e2ab9129985793a28d3fd82808f38
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 19 11:35:48 2022 +0300

    Comment typofix: "succeded" -> "succeeded"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6636ef817b49781cd027904231f9ef41b87ab445
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 19 06:33:33 2022 +0300

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 45fadd919d8a4f0bf9ae5831ff06b206d0d9587c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 13 01:28:39 2022 +0300

    Fix compile when libzstd, but neither libbz2 nor liblzma available

    See osdn #44812

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 88b1cd4c3c6fe52787377e959cee8740427101f0
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Tue Jun 14 22:53:14 2022 +0300

    Split create_unit_full() in two functions

    unit_virtual_prepare() makes a virtual unit with some initialized values that
    may be furtherly modified, place_unit() puts a prepared virtual unit into the
    game. Apply the split to unit_change_owner() and place_partisans()
    for calling AI callbacks after the unit properties are configured.

    See OSDN#44738.

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit de64fde5f66c2baa172009808bc0420a1c400e39
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 12 03:16:51 2022 +0300

    Set diplstate max_state on first contact

    See osdn #44759

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6d0a18caf60ee442fb3f4a3845210a1b6b79d7d1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 18 05:52:39 2022 +0300

    Comment typofix: "partially succed" -> "success partially"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 54ed764cc19a51162d4c2878a78a563f11a9acfe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 11 22:01:13 2022 +0300

    sdl2: Free city_map_canvas on exit

    Also have it originally initialized to NULL so that
    we never try to free memory from random address when
    reallocating the canvas

    See osdn #44755

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bc0af88d40f203317eb643605978fcd181c9e096
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 9 03:55:52 2022 +0300

    installer_cross: Build ruledit-installer in Qt6-mode

    See osdn #44699

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 20d80c9dfe2f0874b8aca27771d2f73427fbe483
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 12 11:23:42 2022 +0300

    Savegame: Rename "wonder_city" as "adv.wonder_city"

    See osdn #44783

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f9fd49e43bec8e60fce691213a029f9b2137daf4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 11 12:09:40 2022 +0300

    Qualify "Mine"

    See osdn #44668

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2f8f6f778093e6589d06cd51392461970cf0cc3b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 9 01:43:12 2022 +0300

    sdl2: Fix clang analyze popup_goto_airlift_dialog() div by zero warning

    See osdn #44679

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 910c626e2db6ec7731c0145821f87c879342fa42
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Mon Jun 13 21:17:54 2022 +0300

    Rework functions using unit_change_owner() for script effects

    This function may sometimes return NULL or a foreign unit, respect it.
    During bribing, the gold may be taken away by scripts before paid,
    don't go negative.
    During capturing, the city to home units may be destroyed,
    the captured units are going to be lost with it.
    Some other fixes to avoid using dead pointers or forming
    impossible stacks.

    See OSDN#44778.

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit 6310af07bdde76cbb2dcf1bbf13ce0e9d9166f1d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 9 03:49:55 2022 +0300

    gtk: Pluralize infrapoint count in infradlg

    See osdn #44669

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 309e097fa455e94963232bf0643359d07255f9d5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 9 03:15:57 2022 +0300

    Qt: Drop unused but_menu_worklist from citydlg

    It was only created, never used nor deleted (memory leak)

    See osdn #44785

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2ef7f06e6035190af570d6e12d606cf641cb6bc8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 11 17:31:54 2022 +0300

    configure: Warn when gtk3-client selected despite gtk3.22 availability

    Often users have been explicitly enabling gtk3-client instead
    of default gtk3.22-client, but have not meant to do so
    (e.g. habit of --enable-client=gtk3 from the time the default was gtk2)

    See osdn #44792

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0fdd6923334ecf6a14b0bd1e5a2ebcccf103084c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 9 01:36:50 2022 +0300

    tileset-demo.sav: Update to 3.1 format

    See osdn #44366

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1e4523eb24bdb6078437a9ec7eb59d5fb7d545d9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 9 00:54:04 2022 +0300

    Never compare boolean value to exact value of TRUE or FALSE

    See osdn #44401

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit af534325f45d5be7801f403b7bcd578b3cbc5c5f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 5 07:05:51 2022 +0300

    gtk4: Add initial app menu implementation

    Mostly lower level changes, but includes "Game" menu
    with some entries as an example and testing ground.

    See osdn #44756

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f2cf00779bd76e5cbe2b22413256e6ca4890fa1f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 14 05:08:17 2022 +0300

    FAQ: Refresh from wiki

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5726c469ed30cf60b5f4750cf48e4855e9b9fb65
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 26 00:17:29 2022 +0300

    Sanity check research->techs_researched from savegame

    See osdn #44595

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0f654fa93d00e4a8e1c765cfcd2045f9ed02d334
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 28 18:50:35 2022 +0300

    Add --with-localedir configure option

    See osdn #44525

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aed2c612bd21eb9a0bbb17ee48309e8d19eb7662
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 13 02:40:38 2022 +0300

    FAQ: Update latest stable version number to 3.0.2

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3212f5891d80c8d60cab393fa22252574d306b57
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 11 05:28:01 2022 +0300

    gtk: Fix memory leak in research dialog tech selection

    See osdn #44790

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 22f5ee067b8e6eb3b0e251699f5c56414ad17e51
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 7 06:12:11 2022 +0300

    Qt: Add doxygen marking for some function headers

    Also remove declaration of 'bold()' from citydlg.h.

    See osdn #44663

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0861bf7c011cb82ce1f5da3a597a4440c1d06bdf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 7 19:46:48 2022 +0300

    README.sound: Refer to modpack installer

    - Add chapter about acquiring soundsets to the top -
      it's the most important part of the document for a casual user
    - Move instructions to download files from files.freeciv.org
      to this new chapter, and adjust it them a bit
    - Add mention of modpack installer, as the primary method of
      downloading soundsets and musicsets

    See osdn #43857

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit caaf8d0e29a584e8f4c163efa73120ad001d7192
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 4 13:53:54 2022 +0300

    CI: Make autotools builds on ubuntu runner in Qt6-mode

    See osdn #44662

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9fb52e9dd0a0583a1d6c270ed5de729b8d278e81
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Fri Jun 3 23:44:06 2022 +0300

    Unify Lua handling of creating a building in a city with editor

    * can move a great wonder
    * can't build a Special building
    * refreshes cities and auto-arranges workers if their radius changes.

    See OSDN#44696

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit 2fdb350d51764e3e7204c7e02abca67ab34d6716
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 4 13:19:48 2022 +0300

    north_america.sav: Update to 3.1 format

    See osdn #44365

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 93b01bd7327e1957cb95e177c20ff04c2941c395
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 1 18:19:39 2022 +0300

    Correct transform_unit() and unit_upgrade_test() header cross-references

    See osdn #44404

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d37b742163f2c3ecd3f885d7fd87c66765e4f7bd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 10 20:29:59 2022 +0300

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3cbf21b12f266b1f9f4c86f6e0a555dcbf2d19f7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 31 03:49:28 2022 +0300

    Add note about freeciv modifications to m4-files from ac-archive

    See osdn #43970

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 331f5f80c42dc02ed13ab6008c5df954372f8e16
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 5 08:39:42 2022 +0300

    Fix NULL deference when the unit does not exist in handle_unit_actions()

    Reported anonymously

    See osdn #44757

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 90045e8b816d87e53845ed2e1c7ee6d58730b2a5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 1 17:53:13 2022 +0300

    civil war: Set future tech count for the new player

    See osdn #44737

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2446d003360f113ee6cdb95fbc816e653aa6e7c5
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Wed Jun 8 12:48:19 2022 +0500

    Update for Russian translation.

commit c4cc4bec599874ac2d58e8e327c6e228bf32cdfd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 8 07:48:42 2022 +0300

    Bump version number to 3.0.94.8-alpha3+

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bc05f7bc56430b7fb6a1e45b83a0b978c08c59be
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 8 05:49:56 2022 +0300

    Update Polish translation by Hubert Kowalewski.

    Pulled from https://sourceforge.net/projects/freeciv-l10n-pl/files/
    (zip timestamp 2022-06-03).

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit df48ec90322d3e59bf1cfa0b2b9d19022729b205
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 1 07:30:01 2022 +0300

    Update msys2 environment to 220529 level

    - Install 'autoconf2.71' + 'autoconf-wrapper' instead of all
      of 'autoconf' meta package

    See osdn #43947

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 797769db6c12382a976c5522ac1dd1844763f4a0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 31 00:23:52 2022 +0300

    savegame3.c: Really stop orders handling when target extra is missing

    The continued handling could have resulted in illegal
    memory access.

    Reported anonymously

    See osdn #44728

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c4ea5138ba5082a3bd093f590aaa91aa5fe83f68
Author: metalyoshi86 <91883288+metalyoshi86@users.noreply.github.com>
Date:   Mon Jun 6 13:36:05 2022 +0200

    Update de.po

    Added German translation to description of the majapahit empire.

commit 23b1c0ac4a9151f29642a2558ca755c07c3165b5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 4 11:23:28 2022 +0300

    INSTALL: List python in requirements of building from git

    See osdn #43945

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 25e682f658e5f2c4390c4ddc3d39091ced51eaf1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 29 20:25:33 2022 +0300

    gtk4: Implement chatline key press events

    See osdn #44716

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e3e8f4442bb06e4876d6fb948984357f1989b22a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 29 02:09:17 2022 +0300

    tutorial.sav: Update to 3.1 format

    See osdn #44367

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 465698df4d5d6475d5c90a0a61de702b30539a20
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 29 01:43:14 2022 +0300

    Set ruleset_error() buffer size to MAX_LEN_LOG_LINE

    See osdn #44704

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dd7b3d2c2c380fb5b81281c013cf419c881261e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 28 18:38:00 2022 +0300

    qing.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #44701

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 52c0bb68f97c8ed3234a0dfb07e06fc6e338e6e5
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Sun Jun 5 23:35:46 2022 +0200

    Updated French translations

commit 5c337f97d9f5fd5c854a2ea2e184e45506438a17
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 28 10:38:30 2022 +0300

    tilespec.c: Free layer_order str_vec

    See osdn #44682

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4fa4f7cc2c4984e310fc1b46dc05d577cb8cf70e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 5 07:10:55 2022 +0300

    Comment typofix: "constrution" -> "construction"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 45645c7b56f3c78676eea73ef9c616a2a6672be7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 28 10:11:41 2022 +0300

    sdl2: Avoid removal of diplomacy dialogs inside their iteration

    See osdn #44687

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2ec86df8610eaa8d3add76943e48c7f9cbd3d743
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 27 17:38:28 2022 +0300

    experimental: Make Engineers to have gold upkeep after The Corporation

    Requested anonymously

    See osdn #43848

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4239487bb2c32bec057903f8b74d8b050a58f091
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Tue May 31 21:24:42 2022 +0300

    Fix range checking for city_size in units.ruleset.

    Check for city founders, not for "Settlers". Check the upper bound.

    See OSDN#44730

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit d6118301cbde961193ac6a1209136bb07820930d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 1 02:21:57 2022 +0300

    Msys2: Remove -Werror from snapshot build CXXFLAGS

    See osdn #44718

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e935dcf88df9c30e0f10e0f5405784c9643775e2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 27 05:11:10 2022 +0300

    japan.sav: Update to 3.1 format

    See osdn #44364

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bcf49e11349997cd710b2226785b40027d08a559
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 27 04:45:49 2022 +0300

    Check unit uniqueness within startunits

    Make sure that no multiple units that are supposed to be unique
    are granted as start units.

    Reported by Alexandro Ignatiev

    See osdn #44685

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 72e43ae91371d00173ae65f3f1ed288d7fda5318
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 26 09:27:38 2022 +0300

    CI: Update setup-msys2 to version 2.11.0

    See osdn #44666

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ab1791dc8161868bd1600c821d2b9ef3745ecd30
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 26 21:57:45 2022 +0300

    Fix doxygen marking line of function headers

    See osdn #44664

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 854746fff4d3ca21e8919b7b0ea06a2e2fd4bb97
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 26 08:52:10 2022 +0300

    Update modpack download instructions suffix in TRANS comment

    It's ".mpdl" now, no longer ".modpack"

    See osdn #44547

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 85900b2795370008395d649b89948d6aec894fcc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 25 23:23:45 2022 +0300

    gtk4: Implement toplevel key press events

    See osdn #44673

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e9817a0936db92ed616f7b1298f3ad8a17ac2885
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 25 22:54:14 2022 +0300

    Qt: Fix handle_diplomacy_init_meeting() pixmap leak

    See osdn #44618

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6a40d8904b6f13a2ee0f5843e84e7ea6ae4e6e59
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 16 02:55:48 2022 +0300

    CI: Update ubuntu runners to ubuntu-22.04

    See osdn #43598

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6238483ccc78c384c3ff8a5ccb447f020984c391
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 25 23:47:56 2022 +0300

    Pluralize "steal times" in citydlg

    See osdn #44667

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3447f84e07bf6f27fbf716a5003dc08cd901ab8e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 29 07:48:01 2022 +0300

    Add project_license to appdata files

    See osdn #44712

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1063d51916da281b40f40fb1b351dd3d26c4770f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 25 22:49:58 2022 +0300

    europe_1900_WWI.sav: Update to 3.1 format

    See osdn #44358

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3756ccc2d22585bdddb3c96dd89cacdab87b4192
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 25 22:01:11 2022 +0300

    Gtk: Add tooltip for citydlg "Size" line

    See osdn #44515

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9404c7fc88b9da75fd696d3faee9763ce19f4896
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 16 03:02:51 2022 +0300

    pirate.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #44619

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3ea1c2e74767210246547c043eb0efc8f298d0f1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 15 07:29:38 2022 +0300

    local_ave_elevation(): Fix clang analyzer div by zero warning

    See osdn #44569

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e74f3ac2a7bf765afab70007c5e6a7242572680d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 16 00:28:06 2022 +0300

    create_command_newcomer(): Respect maxplayers setting

    See osdn #44185

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 62d3367c19184cbbf7801f02da5ef436bdafb5d9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 27 17:09:18 2022 +0300

    macOS: Fix --with-qt?-framework-bin

    Reported by jdlh

    See osdn #44422

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fa7894cfa36c181abf2ba32f25cfbf4a7a355751
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 16 00:15:01 2022 +0300

    italy.sav: Update to 3.1 format

    See osdn #44363

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 907bb11a456bfc38ab26ea95f5a8d5202c310da1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 15 06:49:31 2022 +0300

    rssanity.c: Free action enabler fix suggestions

    See osdn #44432

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 42f5acf830c64518fca62215a849a30ebc8b0710
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 27 23:30:58 2022 +0300

    Main .gitignore: Remove freeciv_user_database

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6876786d98dfb795d515022a535f20148888a0bf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 25 22:20:30 2022 +0300

    Add flatpak packaging

    See osdn #44463

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d72e796f6df5a78f2b99e5a2a9a8b7f72aa363ea
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 15 04:53:02 2022 +0300

    can_build_extra_base(): Check irrigation/mine_time

    Make sure that the target tile irrigation/mine_time
    does not prevent building the extra.

    See osdn #44591

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ad4ff500aaf5d702f9de6832f6442b853c9b30ca
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 14 22:12:47 2022 +0300

    Don't consider failure to receive a tech loss of an existing tech

    See osdn #44593

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 83fd68620733c3135e4200f6842682a5a03e717c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 7 16:16:06 2022 +0300

    CI: Use macos-12 runner for macOS build

    See osdn #44523

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a4c2b908613e8fddfc2d564059436ebf9ca3ff56
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 14 12:50:45 2022 +0300

    Change override/*.spec to have just lines of tag to file mappings

    Expecting them to be more complete .spec file fragments made them
    unusable for their main use-case of providing additional
    mappings to ones already present in the main .spec files.

    See osdn #44590

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5bda9af598dae9438202522ae551d2ecd750b0d7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 14 11:00:35 2022 +0300

    Lua create_city(): Check validity of city creation

    - Only create the city if it's legal
    - Return boolean telling if the action succeeded
    - Revive the player assigned as city owner, if dead
    - Reveal the city tile for the city owner

    Reported by ihnatus

    See osdn #44508

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fad2edae58b7d6948953630aff1b76f022aa4425
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 26 14:22:14 2022 +0300

    Comment typofix: "genrated" -> "generated"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 78c9b9bed8ec378935eb87cb2e1ad1cf4631610c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 15 05:41:33 2022 +0300

    gtk4: Implement overview events

    See osdn #44570

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7e843c07b4ab1fbced418b18d38b0165e59daaa7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 25 20:53:00 2022 +0300

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ec9da604ab36c3b0af06b160eeca17fd209ade9c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 25 19:42:35 2022 +0300

    Comment typofix: "Initiazlizes" -> "Initializes"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ce2b5764be8e46db43cebde37c265891e80e4cf1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 14 07:03:46 2022 +0300

    Make "Couldn't find audioset..." translatable

    See osdn #44556

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a25e63f95e2abae41947c24bece681061c4a96a6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 25 05:42:50 2022 +0300

    CI: Set qtver for meson build

    See osdn #44661

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 535ba6deead3768d92f6d7c253c61a22ce0664a3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 8 08:36:39 2022 +0300

    Meson: Add Qt6-mode support

    Default to it already.

    See osdn #43364

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 62e38e52a1966fa58559a7a0df45488581702a35
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 14 07:13:04 2022 +0300

    iberian-peninsula.sav: Update to 3.1 format

    See osdn #44362

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0ccc9dd416eda28b7540fa653710d7d721ae0ee6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 13 02:53:14 2022 +0300

    Allow changing maxplayers setting after the game has started

    See osdn #44567

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d7550573bfc51ff3560d8bcadaa83cd00f097152
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 14 08:28:11 2022 +0300

    CI: Use homebrew's own compiler on macOS build

    External compiler is incompatible with other tools in homebrew.

    Thanks to Jim DeLaHunt for pointing that out

    See osdn #44559

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 689ec653d6d639ab9ec20a861ad1a6cc5d306964
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 8 06:21:36 2022 +0300

    Correct counting of units killed with the stack

    Unreachable units that were not really killed were included
    in the count reported to the player.

    Reported by Lexxie

    See osdn #44416

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 27efb80eb96574d2f89a20e8670b2016f4818c02
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 8 05:01:39 2022 +0300

    rand_map_pos_filtered(): Avoid call with NULL filter()

    See osdn #44437

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2e99cb8fdfd4f700695d23f76ea68b95416c71d5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 7 16:52:46 2022 +0300

    Do not regenerate team name in team_pretty_name()

    When using generated team names, and one has been generated
    already, use that existing name. Regenerating it resulted
    in a different name being returned from team_pretty_name()
    than what was otherwise been used, when team numbers had
    changed before the team_pretty_name() call.

    Reported by ddeanbrown

    See osdn #44382

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 19297429f846cf11d9d0beca98790bc551e7a8a1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 8 04:48:56 2022 +0300

    Clarify "Pop up actions last move to allied"

    See osdn #44509

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2117d69bda3c5421ee77050f57ea4c7666b6a175
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 13 17:51:24 2022 +0300

    meson-winbuild.sh: Build ruledit only with qt-client

    See osdn #44579

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 81fd57fb314f50b7a4176f24c9a38f8d374cb264
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 1 20:12:20 2022 +0300

    Fix calc_activity() memory leak

    See osdn #44492

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3ef14d20d6f58fd21117dd7043ab7188c0df7ead
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 8 04:37:26 2022 +0300

    gtk4: Implement map canvas motion events

    See osdn #44542

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d07b4a5033c2cefbe4fdcea0d162fc8079c4c48a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 5 05:37:27 2022 +0300

    hagworld.sav: Update to 3.1 format

    See osdn #44361

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e215903149b4263f9f8c053a847f70d5a7430401
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 12 19:53:35 2022 +0300

    generate_packets.py: Do not introduce unused variables

    See osdn #44563

    Patch by myself and alien-valkyrie

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6358baceef8fc70d5711423b88404830fd489ef3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 16 02:40:22 2022 +0300

    Comment typofix: "poping" -> "popping"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9511797d6a1650b8458a861143d7fafa7ec0ed4b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 12 04:19:06 2022 +0300

    CI: Install qtbase5-dev instead of qt5-default to Ubuntu

    See osdn #44561

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4764caee673948772ea23f4f8591279c668e75a3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 1 01:49:40 2022 +0300

    Cancel activities illegal for the new type after unit transformation

    Reported by Dino the Dinosore

    See osdn #44410

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e44994153613b61d1638d216fd050abaf909f9cf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 6 04:07:52 2022 +0300

    Meson: Make meson version 0.57.0 the minimum requirement

    See osdn #43362

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 57ad9c7256779ed60cabf6e46e575198e7972ead
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 30 13:53:51 2022 +0300

    Remove destroyed cities from maps of players with Reveal_Cities effect

    Reported by ddeanbrown

    See osdn #44028

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 283ca44e3edd18c63f56eaff16302af37e767d3f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 30 05:13:30 2022 +0300

    Rename appdata files as org.freeciv.*.appdata.xml

    See osdn #44466

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8b57ba8989d972f15d73a0a45b7c5b1c7ed7af9f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 7 17:19:46 2022 +0300

    Update cazfi.net links to use https

    See osdn #44473

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7e94d3d32a8c6162d2b2f8abb5b037ca716467df
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 13 06:17:45 2022 +0300

    Bump version number to 3.0.94.7-alpha3+

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 77852fdf347ffceab8e24f32e0a09b208458d73d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 13 06:17:01 2022 +0300

    Set version number to 3.0.94.6-alpha3

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1f8eccc633a065e9129e8cea44386f7a2e09eb87
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 13 03:59:02 2022 +0300

    CI: Disable mapimg from the macOS build

    This is a quick workaround for the failing CI builds.

    See osdn #44559

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4c592124f16eb369c9fff424d2a2e67800597039
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 10 05:00:00 2022 +0300

    Meson: Do not try to install stub.serv

    See osdn #44555

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a007226086c1a2a3eef49fbc8311049153a04e5f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 30 13:08:35 2022 +0300

    france.sav: Update to 3.1 format

    See osdn #44360

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 53d9a47cd0aa388373d4a29c1e798b5e77ef9348
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 2 22:09:15 2022 +0300

    create_command_newcomer(): Do not assume one dead player

    When the code tried to free dead player's slot for the new player,
    it didn't check if there was any. It just assumed that there's
    a free slot after going through dead players. If there was more
    than one dead player, the message listed wrong one as the one
    being replaced.

    See osdn #44495

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a1021fe6a43d2fb188d5e0bb1ebb28bd24803982
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 12 01:37:29 2022 +0300

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8d5df6f4e1eed99d07127db5f837ebb04ab498f2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 5 04:21:24 2022 +0300

    Turn "Did not find a cm solution..." to LOG_DEBUG on testmatic builds

    See osdn #44438

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7b284230005a9cc458d255edb3ecefe3c161ac76
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 28 01:46:26 2022 +0300

    Give cities disbanded to units movement to escape the spot

    Units built by cities, including when the city gets disbanded
    in the process, were given zero movement initially. That meant
    them to be unable to escape to neighboring tiles if the
    disappearance of the city made the tile non-native for them.

    Reported by frank e

    See hrm #692482

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f7d2b4b1ea57e0f7a73e9a846d7735121ea2bbc4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 1 20:32:17 2022 +0300

    Meson: Disable delta-protocol from freeciv-web builds

    See osdn #44456

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 98c832416982a40522f75d5c48d454b0a92581ec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 7 15:23:38 2022 +0300

    Separate gui_type from compat_special of road types

    See osdn #44539

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d5b52606047a1d9001aa4b03c828edb2d17851e7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 24 13:43:17 2022 +0300

    Qt: Add tooltip for citydlg "Size" line

    Requested by ddeanbrown

    See osdn #44409

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1496a7365fad74f19c20a49b9200b27088383aef
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 1 17:07:29 2022 +0300

    Qt: Avoid option_dialog::add_option() using NULL object pointer

    See osdn #44484

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5896b652eaca864e50ccebcda15a5498bb9581f9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 24 15:00:33 2022 +0300

    Rulesets: Remove extraneous semicolons from end of lines

    See osdn #44453

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bf0e015ee010c3305f955e9712ac95c417c90645
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 7 00:35:36 2022 +0300

    Handle finishing terrain transform activities like other activities

    Former handling of activities transforming the terrain
    caused trouble with how activities of the units in the same
    tile were turned illegal.

    Reported by alain_bkr

    See osdn #44519

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bf9c66cb7052347d25b2fbdfab8df3f84e271a49
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 30 16:32:41 2022 +0300

    gtk4: Implement map canvas scroll

    See osdn #44488

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4802c69b0e12cb301b8884d61547a164752e9833
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 24 09:39:22 2022 +0300

    europe.sav: Update to 3.1 format

    See osdn #44359

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 438a8d8b773ffc40d7984b064f8ca09e845fa299
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 23 20:09:57 2022 +0300

    gtk: Add newline after error message about illegal --resolution

    See osdn #44120

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5ede6fef04bfb7ebb2d3f1d4ae588901506bea31
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 5 21:20:30 2022 +0300

    Qt: Fix build with Qt6-6.4

    Replace unsupported QVariant type with QString one.

    See osdn #44514

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d127c040ab3fef9eb32b2c5ff521ebfac8708a49
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 1 15:37:57 2022 +0300

    Fix entering huts when on goto

    Reported by jdlh

    See osdn #42133

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ce878c67c6c7d2690b98c7f28e3389e562eeb7a2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 23 13:53:10 2022 +0300

    europe_1900_WWI.sav: Add all tex fields

    See osdn #44445

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 750875943e3f67e2b101afdf5da993dd40d3e6ef
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 29 20:44:15 2022 +0300

    CI: Install meson-0.57.2 for meson build

    See osdn #44477

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dff98dfe900d4ae8114d3130e87877e00b980f21
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 24 07:51:20 2022 +0300

    Client: Consider dev format scenarios incompatible with stable ones

    See osdn #44452

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 14fc4abf2bf7b20104a3facaff72f310a02b5f28
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 3 16:26:34 2022 +0300

    Don't consider worker finishing work to have illegal activity

    When worker finished some tile change that would prevent
    one doing the same change again, legality of its current
    activity was checked before it had been marked idle.

    This lead also worker's further orders to get aborted.

    Reported by alain_bkr

    See osdn #44504

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 332e470e85830dbe3dc3f02ccfc4f7304313bd90
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 5 20:24:44 2022 +0300

    Comment typofix: "chnaged" -> "changed"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a291b2bb716d4c5869b4b6c67fbd1e9de4b405b8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 27 03:08:14 2022 +0300

    Meson: Correct setting FREECIV_WEB

    See osdn #44457

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8510bf84a1a634d73b8ae531a1427daa83983a43
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 28 16:59:54 2022 +0300

    Add new columns to nations report

    Add columns about
    government, culture, gold, %tax, %science, %lux, and current research

    Patch by alain_bkr and myself

    See osdn #42309

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 60657bb5e0332cbcdb9f237fb761a3de3d097c21
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 23 00:13:22 2022 +0300

    Fix compiler warnings from --enable-debug + FREECIV_NDEBUG build

    See osdn #43868

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1968db21a3f82195cc5b75e8d07907c8092618a4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 24 13:25:54 2022 +0300

    count_*_near_tile(): Fix clang analyzer div by zero warning

    See osdn #44449

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b95e1c80429f3ee6a9a9c480f230f2426f2e0525
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 23 10:38:54 2022 +0300

    Qt: Make also the last couple of shortcuts available

    Iterations over shortcuts cut a bit short, leaving last
    couple of them outside any handling.

    See osdn #44406

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 17efd20697f865e10c8cb1fb2e7146301053d0d6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 4 05:00:06 2022 +0300

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9590341b1556f40000cacbf3979db1172309fbe2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 4 03:59:03 2022 +0300

    Comment typofix: "reamining" -> "remaining"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 59de17a76c4889411ca9809016a8479f097c548f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 29 21:56:59 2022 +0300

    helpdata: Update vulnerability reporting email address

    See osdn #44479

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a57dc56aa1334498ec71cc3fdf541ea23a86b8e0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 24 01:29:06 2022 +0300

    capabilities: Fix printing script name in 'usage'

    See osdn #43900

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 270f05c7c41ee1836950b7eae34c1c0474bbf76b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 22 23:19:31 2022 +0300

    Rename action target kind names

    Make names used in the rulesets more concise.

    Requested by kvilhaugsvik

    Name suggestions by nef, with minor change by me

    See osdn #41732

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 355e22d8b917c111e9a73ad52f079370f203f948
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 2 23:11:16 2022 +0300

    Comment typofix: "paramter" -> "parameter"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7615fc54c1011c6393099e6985a19a5b0c9a8f9f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 22 00:41:48 2022 +0300

    Replace EFT_CITY_IMAGE with City_Image in user documentation

    See osdn #44039

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 00813052203adc5a8c937e370f98ff28787bde63
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 23 11:07:34 2022 +0300

    Msys2: Document arch parameter of create-freeciv-<gui>-nsi.sh

    See osdn #43620

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8d692285771f117f768427b6fbf7aa74428d0868
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 22 00:25:36 2022 +0300

    rssanity: Do not skip enabler requirements check when ruleset is 3.1 one

    Even in compat (enabling) mode, do the full sanity check if
    the ruleset to load actually is 3.1 one.

    See osdn #44386

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 85f0bc325840bc3757b637088fc9331d2c04969a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 20 20:35:29 2022 +0300

    Qt: Make sure player count string in server list gets terminated

    - Increase the buffer size to 35
    - Add termination of the string in case translation of "Unknown"
      still doesn't fit

    See osdn #44421

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 787553c88ec863ee4d03cbd3bc416c59841bb2cc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 2 01:52:37 2022 +0300

    Comment typofix: "creat_..." -> "create_..."

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a669bbe6ca46f80c6af07aadf4f93274fadf3608
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 22 23:23:36 2022 +0300

    Update gnulib-common to serial 73 from gnulib upstream

    See osdn #44435

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9c89681b8f0a8c3f41d84730bc3a0b8971a5f720
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 21 01:59:53 2022 +0300

    earth-small.sav: Update to 3.1 format

    See osdn #44357

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 00b8a603c224fe30f4e618de718dcd552c885398
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 19 04:41:46 2022 +0300

    gtk select_tgt_*(): Fix compiler warning about use of uninitialized var

    See osdn #44395

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1041ef6defcbde4be57eb16ddf42d1bd6f7cbfd6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 20 20:46:12 2022 +0300

    myanmar_old.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #44427

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2699d41833fa073e9e74c3bec31eb4bbcd4ceeb2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 19 05:42:22 2022 +0300

    Add refresh_changelog.sh script

    Not included in the release tarball as it only works
    when run in the git repo.

    See osdn #44415

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5bbf165021d75f2242ef84fc2e7e8acd5a69fd87
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 18 07:11:28 2022 +0300

    Qt: Change default shortcut for "Unit Stack Size" to ctrl + '+'

    Former default, shift + 'S', was reserved.
    There's still another bug causing the shortcut not from working,
    or even showing up in the dialog (osdn #44406)

    See osdn #44407

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a580770b8d1ebc99aa06038d9af746c0339a308b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 18 07:04:29 2022 +0300

    Ruledit: Adjust initial size of the Window

    Requested by frank e

    See hrm #721403

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a059fd59c9c066dc8487b3a35998fa6681dd2872
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 29 16:31:55 2022 +0300

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a1eae56cd916f12ec9972bf3dc6d710756532030
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 18 08:07:27 2022 +0300

    Msys2: Build ruledit installer in Qt6 mode

    Build standalone ruledit installer package in Qt6 mode for win64
    Ruledit included in Qt5-client package is built in matching Qt5 mode
    For win32 ruledit is built in Qt5 mode as our msys2 environment
    does not contain Qt6 for win32.

    See osdn #44384

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ced3b02c07076e8594578465aecbf77a4871c859
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 17 09:30:47 2022 +0300

    Separate help strings of action target kinds from their name

    See osdn #44402

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b613d464e7afb06373fb4980b39ce97d6ec3881b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 17 10:52:50 2022 +0300

    Disallow unit upgrade while it's converting

    Upgrade would change the conversion target, which is wrong
    in many ways.

    Reported, and initial patch by, Lexxie

    See osdn #43328

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0ab1f625ff28617d0bf8fd94a2b6d837470b7d7d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 22 01:12:07 2022 +0300

    macOS: Add configure options --with-qt?-framework

    See osdn #44412

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 33b11beaebb4126512a28d217fd79a5da5ac8811
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 27 23:21:59 2022 +0300

    Bump version number to 3.0.94.5-alpha2+

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 75157eba98a489b0e56b1e11457139272679e971
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 25 22:44:54 2022 +0300

    Apply fix to CVE-2022-28805 in included lua

    Fix backported from upstream repo.

    See osdn #44467

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 985f6f1acdbfea09e27f7d33fe853e68378d50b8
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Wed Apr 27 17:08:18 2022 +0200

    Updated French translations

commit 2a2dc6480f849638cc312917900c22eb47ebb1c4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 16 06:14:12 2022 +0300

    installer_cross: Enable nls on Qt-client build

    See osdn #44292

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9461f6ae24db3a219f6bfb4299371a6a5769678c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 15 18:50:24 2022 +0300

    rssanity: Check that there is base City_Vision_Radius_Sq effect

    Requested by ddeanbrown

    See osdn #43647

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 31b0914e1c030049cc9c540ab35cba24e5f95c2c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 16 04:23:02 2022 +0300

    city_desirability(): Remove unnecessary advisor data fetching

    See osdn #44090

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fb32e40993b38e53e40077b05378516158a31bb4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 15 05:57:26 2022 +0300

    Correct tile_has_visible_extra() function header

    See osdn #44178

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 92dcf67871a03890ad2c593da9e3119a98e1b66f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 16 07:27:40 2022 +0300

    _freeciv_state_dump(): Save by rule_name() or name() when possible

    The old code was saving all user data by id. That's not right
    for ruleset objects for which the id might change between version.
    Save the data based on the methods and properties available for
    the type.

    Reported by nef

    See osdn #44383

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4ab6f3096407046f21439c57549b1856a8dd6e72
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 14 21:24:27 2022 +0300

    user_home_dir(): Improve handling of environment variables

    On Windows:
    - Do not get HOME at all, as the value was discarded anyway
    - Refer to correct variable in log messages

    See osdn #44212

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 60b21d30ef39ae44d007ba618c36d52024a49ed1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 14 19:06:41 2022 +0300

    Stop claiming that all errors from effect_list_sanity_cb() are req errors

    Error message about requirement sanity was being printed out when
    ever effect_list_sanity_cb() failed, no matter the actual
    error detected.

    See osdn #44371

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4e651e665195576b52c3d5a0ae702b6f0cf89c9e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 14 18:38:47 2022 +0300

    Cancel also unit orders when the activity has turned illegal

    Unify (i.e. call shared functions) handling of cases where
    unit activity has turned illegal. The main behavior difference
    this makes is that now all orders (which the activity was part of)
    are cancelled in all the situations where the current activity might
    get cancelled. Previously most callers did not do that.

    See osdn #44370

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5703c547acd5d4821db65edbc079d04d2e416509
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 14 06:49:22 2022 +0300

    earth-large.sav: Update to 3.1 format

    See osdn #44356

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 61b6037830630b5efc775d70f9b2e011bbdfca59
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 14 06:08:39 2022 +0300

    Do not send already dead unit back to the client

    If the tile got revealed again after dying unit was already
    removed from the client, but not yet from the list of units
    on the tile on the server side, unit got sent back to the client.

    Reported by Dean Brown

    See hrm #867958

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c2fc5f4e9a3af36ebd8f908301ea363696756548
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 13 03:18:07 2022 +0300

    gtk4: Implement mouse button up gestures for mapcanvas.

    See osdn #44343

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4400a600a833b93b597ff258a3fa403bece046c4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 17 06:01:27 2022 +0300

    Reorder the actions enum so that the user actions are last

    See osdn #44103

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 74d83b554cb2e6926aa37439d9a04c9bc1715902
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 12 21:34:42 2022 +0300

    savegame: Turn unquote_block() asserts to sanity checks

    They should be done even when asserts are disabled, as they
    are checking external data (savegame)

    See osdn #44211

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bff95aaa98f7d63f43fb8d787fc486cad796dc98
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 12 21:03:45 2022 +0300

    Msys2: Make Windows 8.1 the minimum requirement

    See osdn #44286

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fa59303085edbee724739b6d7b617b5ac0fce498
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 10 06:16:18 2022 +0300

    ap_dipl_battle_win(): Clip chance to legal range

    See osdn #44291

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit efab0fa4d0e84188338544363afd3deda10ce8cb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 12 01:51:03 2022 +0300

    freeciv man page: Remove duplicate "the the"

    See osdn #44331

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d85672f28e929c7b8cff3d1db4f7b3e341ed7d58
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 10 06:44:16 2022 +0300

    fcmp: Allow baseURL to end to '/'

    See osdn #44309

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ad72a2d7a4b676b92bb207168e6f52e250d712f4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 9 10:01:13 2022 +0300

    unit_do_disband_trad(): Check if unit died only if it was a possibility

    See osdn #43432

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0adb56107a1e2446eb710edd08043447f6dd8e30
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 9 16:38:43 2022 +0300

    Make crosser Qt-client build work when nls has been enabled

    See osdn #44294

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 057ef8f991fb842d6709491cdf952d58a51c96ef
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 9 13:51:30 2022 +0300

    british-isles.sav: Update to 3.1 format

    See osdn #44308

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b62ace18b45bfd8108e3b08ca6a6128e543578f1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 9 00:07:19 2022 +0300

    Make effect_cumulative_max|min() to consider always-active opposite effects

    See osdn #44303

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2a38bb33084232b8ff80f263d1167c74319fe7e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 9 09:40:55 2022 +0300

    gtk4: Implement mouse button down gestures for mapcanvas.

    See osdn #44305

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 41572dcdb88db12d0723236475a6f2428349dc7b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 9 01:59:41 2022 +0300

    Client: Flush attributes before requesting saving game

    This makes savegame to contain last minute governor settings
    from the very client that requests the save, i.e., this should
    resolve the issue in single-player games.

    See osdn #44304

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c4072bdc432bd1d515080602cb273418a0c198a9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 8 22:19:22 2022 +0300

    Asserts: Never compare boolean value to exact value of TRUE or FALSE

    This handles such cases inside asserts only.

    See osdn #44130

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 243a700a4f9992445f0cfdb69df5b3fcf4d18e2b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 8 19:46:19 2022 +0300

    Check C++ files in tests/fcintl.sh

    See osdn #41785

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0577d46c7d25b77053fc74407a0d54433757a039
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 8 23:09:05 2022 +0300

    Replace "Player sex" with "Leader sex"

    See osdn #44194

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 17beea84c43fff0abe6b2216a192959192e1cc80
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 8 03:22:06 2022 +0300

    Windows installers: Construct license file dynamically

    They are still constructed at the installer build time
    (not run time) but at least they are not kept separately
    in version control.

    Requested by frank e

    See hrm #700913

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cca7b692e463ba0796cb21f9f44dea9f414a68ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 8 00:23:24 2022 +0300

    Add FREECIV_CROSSER macro to public freeciv_config.h

    See osdn #44293

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0ab1f350d5509a81fdf4fd52db445c6f06500b19
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 13 05:58:32 2022 +0300

    Unify ai_level type in network protocol

    See osdn #44199

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 392e7ad10cbc13d2993cbfc5b6f4869135e4698a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 7 20:38:33 2022 +0300

    Ruledit: Check same_name toggle initially in all tabs

    See osdn #44140

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7800729a4a3705f7c70bbba58fa56f3860597c96
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 7 06:23:08 2022 +0300

    configure.ac: Replace "else if" with "elif"

    See osdn #44288

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e6b78af6a14e8713cc92a7abd62b0f4be60c0858
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 7 22:38:07 2022 +0300

    Deprecate /metamessage command

    See osdn #44107

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f83964719496942fab07fd14e7c62fa095b998bb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 7 03:58:21 2022 +0300

    cityresult_fill(): Remove unnecessary ai data fetching

    See osdn #44089

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ff6bb63c0ea11b28c2935226641ab13bd37c190c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 7 03:37:19 2022 +0300

    Meson: Set FREECIV_STORAGE_DIR correctly in Haiku

    See osdn #43627

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4331a8e3b7495ab588616d9fb55332db0d161424
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 7 19:52:01 2022 +0300

    Pluralize message about gold lost/captured when inciting a city

    See osdn #44193

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d420fdcf63a4bf1dbfd3a5321d50c21d12b279a9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 14 00:15:11 2022 +0300

    FAQ: Update latest stable version number to 3.0.1

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 82e96cf442007319d9da06d41fd9afdf4bcc49f6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 13 23:57:45 2022 +0300

    Update German translation by Mathias

    This is just S3_0 de.po msgmerged against S3_1 strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b05a9521a5de77e69fc843aa8479f96d70d98cdf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 8 20:07:41 2022 +0300

    README: Remove mention of freeciv-commits mailing list

    See osdn #44301

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 51bc9cf52d28fcfc1728bb08c37154e7c5e0d855
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 9 08:09:06 2022 +0300

    Add HP_Regen_2 effect type

    Use it to unhardcode unit healing rules

    Requested by Ihnatus

    See osdn #44201

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0665f3959bb0eaf07c469ed84df27a94a20293b5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 10 17:22:33 2022 +0300

    Include MacOS icons to the tarball

    See osdn #44314

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3898c1a3b88547885704cfdf90e6f32e4d2aa6f8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 6 06:52:26 2022 +0300

    winbuild.sh: Fix check for Qt availability for "all" guis

    See osdn #44114

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit be6a530afc740ddf15d7f2961f0e3af1f3c929d3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 7 02:38:32 2022 +0300

    README.msys2: Update upstream package download location

    See osdn #44285

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c6def0e0a45a0073661bc0b009a57633f624cf31
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 6 04:50:39 2022 +0300

    Rename --with-appdatadir as --with-metainfodir

    See osdn #44096

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cc8582fbb6f477a17c0ae1068b32c93ef2328010
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 6 07:16:29 2022 +0300

    Clients: Correct parse_options() function headers

    Remove claims that there isn't any gui-specific options yet.
    Other minor adjustments on some guis.

    See osdn #44119

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 76e502f3aef4b8d34a3aa2eb830fadf662ed08f8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 30 01:30:23 2022 +0300

    Build gtk4-client when configured with --enable-client=all

    See osdn #44133

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0f685aa31379871f721fef230cf8a3906e8b5368
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 6 04:56:16 2022 +0300

    default.lua: Prefix unit_loss_messages() with _deflua

    See osdn #44228

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c2ead24d136d5514d14917389867f3bcb62ac9bb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 28 16:52:10 2022 +0300

    README.cvercmp: Add

    See osdn #44125

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3dc3a6bea03caff4d58c45743491c103cbd0b7d3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 27 15:17:59 2022 +0300

    Meson: Don't try to set FREECIV_STORAGE_DIR to fc_config.h

    It's set to public freeciv_config.h

    See osdn #44213

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0438e6ba368a1906914eb596c128736e48585722
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 1 21:53:38 2022 +0300

    Lua: Add City:remove()

    Requested by Ihnatus

    See osdn #44229

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6ff2cda5d2367d6d5e3f59fbe58d313dc78f6be1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 27 16:33:02 2022 +0300

    HACKING: Fix "annything" typo

    See osdn #44195

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f4f4aa7fbe7676b7dd284abbd58e576a8e3f49be
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 26 23:41:51 2022 +0200

    Correct specenum_gen.h name in message_option_*() function headers

    See osdn #44102

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c275438580eb62c3224e96cecbab945b4c2ce480
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 27 06:52:37 2022 +0300

    Unhardcode minimum HP unit gets in a city by new "Min_HP_Pct" effect

    Requested by Ihnatus

    See osdn #42699

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c6c4b736323324b16550660f34483e0acb8a45f6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 26 15:45:04 2022 +0200

    README.effects: Say that Casus Belli effects support only some actions

    Former generic documentation gave the impression that all actions
    are supported by Casus Belli effects. Make it clear that it's
    not the case, though what exactly are the supported actions
    is still undocumented.

    Requested by Sveinung Kvilhaugsvik

    See hrm #874200

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e3ecdd649744b4a40f19bc4fa626783891ec4833
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 8 02:02:40 2022 +0300

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 537334d73c46ae7096ea9720652b70fb922c5f76
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 26 16:10:24 2022 +0200

    Lua: Distinguish diplrel reasons in *_cant_be_built signals

    All the different diplrel related requirement types were
    emitting signals with identical reasons. Give them separate
    reasons, so that the script can tell them apart.

    See osdn #44192

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ffa69cc73385936ad48bde464b04be3fc5bd497e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 26 09:50:07 2022 +0200

    Set resources on player map (FoW map) when loading saved game

    Reported by ddeanbrown

    See osdn #44176

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0e391d92490fcd8b68183a216a836db8682be29a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 7 01:56:26 2022 +0300

    Bump version number to 3.0.94.4-alpha2+

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7293d89f2be6d4a3fdef57db8a8add12a32a8818
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Thu Apr 7 02:09:55 2022 +0500

    Update for Russian translation.

commit 1def6484cdf2280e89b49dd11fd1bb15dce790ec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 2 01:32:12 2022 +0300

    Correct player_addr_hack() function header

    See osdn #44196

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 21e80e60c0eb8f4b085504f2885c5638896aedbc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 6 22:13:52 2022 +0300

    Update German translation by Mathias

    This is just S3_0 de.po msgmerged against S3_1 strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c108a1d457d50d2e185dd1027eac299bedfcec19
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 24 17:53:18 2022 +0200

    Meson: Set LOCALEDIR correctly for Windows builds

    Windows builds need relative LOCALEDIR, so that they can be
    installed anywhere.

    See osdn #44127

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 13176db50496dce0f1eef355592ee22339ede79f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 26 00:15:40 2022 +0200

    savegame3.c: Drop ai_level_convert() use

    No savegame3 save has ever been created with old-style
    ai level information, so there's no need to support it
    in loading.

    See osdn #44163

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1bf9e412a408ab322f4c3b6b838f8f67d4897e63
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 23 18:28:38 2022 +0200

    broadcast_city_info(): Send info to all players, not to owner multiple times

    Info was being sent to owner once for each other player that could
    see city internals, also when the info was not meant to be sent to
    owner at all. It was not sent to those other players who it was
    meant to.

    Reported by Lexxie

    See osdn #44158

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a8ab5b9603b95f5f6a0d5c8d4afcad57182dcb2b
Author: John Robertson <jro.johnro@gmail.com>
Date:   Sat Apr 2 12:44:11 2022 +0300

    Qt: Add trade related columns to the goto dialog

    See hrm #903720

commit b66ae7dce5fad43b402ee98c8b9177c86a85af1d
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Sun Apr 3 20:17:43 2022 +0300

    Don't kill a nation removing a gameloss unit in editor

    See OSDN#44274

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit 14f8fee939d46db6d9bdd5e75b19608607db8c9f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 26 15:21:38 2022 +0200

    Replace "Win32" where ever "Windows" should be used

    See osdn #44117

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e9bbc4121471ebefdc8d4920f4aa3ef3210fbb12
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 24 19:05:22 2022 +0200

    Fix sandbox Guidestones help text typo: "plauge" -> "plague"

    See osdn #44097

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7e213ca42852d9c25ac11b6f565c79607eb0fdc9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 23 02:09:27 2022 +0200

    installer_build.sh: Check that Output directory creation succeeded

    See osdn #44016

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 34c556ddc65819b99b53e4055499aa899d018e94
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 23 02:57:11 2022 +0200

    features.m4: Suggest Qt6 by default

    See osdn #44132

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 388ff927d92887b69dee184a27a24070332cc8b8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 23 16:48:17 2022 +0200

    Adjust AI_LEVEL_EXPERIMENTAL by ai_level_name_update_cb()

    For non-debug builds with no support for Experimental AI level
    we need to convert such AIs from savegames to Hard AI.
    Centralize such conversions to ai_level specenum
    name updater callback.

    See osdn #44164

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8cd8cff8eb9b273e3c6396cfb0a6b9524af0da97
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 20 01:43:30 2022 +0200

    Lua: Fix tile:is_enemy() crash when the tile has no city

    Reported by Edward Cree

    See hrm #943039

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9a6390bf2a452094d5df26c4f9fa19c0fc210087
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 19 11:24:50 2022 +0200

    malaysia.svg: Remove namedview tag

    This allows loading the file to current inkscape, without
    inkscape crashing.

    See osdn #44148

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 600599db51a5415c5b09983ab6fcbcf8589008b6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 17 23:15:25 2022 +0200

    Check C11 threads availability first without -lpthread

    Support C11 threads other than glibc implementation.

    See hrm #852950

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6874a431373d9cc0e571acd28512d3e8ea185fa9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 17 18:39:09 2022 +0200

    Meson: Hint about EXTRA_CONFIG in ack_experimental error message

    See osdn #44071

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a2522893f78ae6454835aa514913513577e3b58d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 31 18:34:53 2022 +0300

    multiplayer: Finish renaming "Recycle Unit" as "Disband Unit Recover"

    See osdn #44237

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit efd6cb4645fe68f40e7f409a507d7904820ef9cf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 31 17:48:38 2022 +0300

    Fix build

    it was pushed there.

    See osdn #44236

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f36a126be525a83c73cd203768d9053199c6a8dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 19 09:17:20 2022 +0200

    Rename "Recycle Unit" as "Disband Unit Recover"

    Requested by log65536

    See osdn #42959

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e708c8c2b399f2cdd6f60b702545ab2269f72fe1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 16 05:28:44 2022 +0200

    Update default appdata/metainfo install location

    To match current specification.

    See osdn #44091

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 98f7bc552db93a631c452dd7080fd2c3f5b97554
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 27 07:42:08 2022 +0300

    CI: Update setup-msys2 to version 2.10.0

    See osdn #44180

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4b4a09480177633b175f22367f1443429d208a62
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 18 05:17:54 2022 +0200

    gtk4: Fix build without --enable-debug

    See osdn #44134

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4c46ef5421f729b2daae508104bce71179628a45
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sun Mar 27 13:23:23 2022 +0200

    Sanity check: Only allow 'singlepole' requirements when also checking 'alltemperate'

    See osdn #44181

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit cf62c93a83bd10c5ec2dcdb144f8a14b85ef30c4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 13 01:35:55 2022 +0200

    is_unit_state(): Return value in the end in NDEBUG build

    Fixes "control reaches end of non-void function" compiler warning

    See osdn #44020

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e3ff7607a247c4c1bf66226110f4c6be4962a787
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 16 20:34:01 2022 +0200

    gtk4: Check against unknown command-line options

    See osdn #42916

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b04b997507b4566e133a61ca5d350cff81a83c28
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sat Mar 26 21:55:41 2022 +0100

    Remove support for rulesets with mixed format versions
    Requested by Marko Lindqvist

    See osdn #43708 and osdn #44203

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit ee8808e8c2db18d3739bc595386bffb0261d95a4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 17 18:24:25 2022 +0200

    Specenum: Add support for SPECENUM_NAME_UPDATER

    When SPECENUM_NAME_UPDATER is defined, code for specenum _by_name()
    function is generated so that it calls callback function that can
    update the name to search the enum value for.

    See osdn #44100

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1048cf7dff5b28d33aa0563023e1365950398787
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 25 18:33:10 2022 +0200

    Msys2 Makefile: Handle ImageMagick version with a variable

    Now on we need to update ImageMagick version in the variable only,
    not in every file name it's part of.

    See osdn #44184

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ddfdece0b619cd04079a3db61b740339ae7087e1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 12 01:36:27 2022 +0200

    Qt: Rename "Players" menu item as "Nations"

    Make naming consistent with the left pane button leading
    to the same dialog.

    Requested by ddeanbrown

    See osdn #43946

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f3ed1a123fbe059c5e97692528b8a1776c97d350
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 13 20:30:11 2022 +0200

    Add gtk4-client files to POTFILES.in

    See osdn #43453

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c2f43a88ac638d513105ff5b6eecc8a7060c12aa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 26 13:33:51 2022 +0200

    Comment typofix: "anny" -> "any"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5aba0744bda099d0dc3409f37f60d882dcf9743f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 26 12:11:35 2022 +0200

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b29617a747ef987f402e7426bac03d515d7f4864
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 15 16:20:22 2022 +0200

    Inform common/ code about compat mode ruleset loading being in progress

    See osdn #44101

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9228a6329c6dd867d85eea36bcfd9f783b658073
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 10 23:09:05 2022 +0200

    Turn log about unavailability of nonblocking sockets log_warn()

    It was just log_debug()

    See osdn #43460

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4292109551a245fd5b8948866fee5aaf33ebde20
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 18 16:55:08 2022 +0200

    CI: Update setup-msys2 to version 2.9.0

    See osdn #44124

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 517fb0a6e4e7fadd300766ff63f86a5ea9e4caa5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 13 04:45:27 2022 +0200

    lorraine.svg: Remove namedview tag

    This allows loading the file to current inkscape, without
    inkscape crashing.

    See osdn #44087

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e938e026904bfdffd98ed6ad779d2c57befa6d41
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 12 22:53:21 2022 +0200

    Fix metamessage resetting on ruleset load

    User (or the public server environment) set metamessage should not
    get cleared when the ruleset gets loaded. It was, like any
    other server setting.

    See osdn #43759

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6b188f6abe94e3ed3005a0c4093540140f8f37b9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 24 08:50:03 2022 +0200

    Comment typofix: "developpement" -> "development"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0f3b7b799ee73127b8f19456d78b550899925847
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 12 12:13:53 2022 +0200

    meson-winbuild.sh: Add sdl2-client build support

    See osdn #43859

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 68bdfaa7c515accccadbcb3d4c693e992d8a08c8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 12 15:57:14 2022 +0200

    req_text_insert(): Fix fallthrough from VUT_CITYSTATUS

    If given range is unsupported for VUT_CITYSTATUS, execution
    fell through. This was harmless in S3_1, as the following case
    is VUT_COUNT that immediately does the "break;"

    See osdn #44082

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 06c9b8c4ec99fee2f32c1715c4b86757bda1109b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 10 19:58:38 2022 +0200

    Qt: Make "Options" submenu to not disappear on MacOS

    Reported by ddeanbrown

    See osdn #43944

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 728974fa7fce8e02ee5ca0d178d81c00662d6b95
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 11 22:41:54 2022 +0200

    gtk4: Replace "size-allocate" signal uses with "resize"

    Former does not exist in gtk4.

    See osdn #44078

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4b8b04426f43d21fe4962738b288a9c0769f8aae
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 9 04:29:38 2022 +0200

    Tell tileset name in tileset_read_toplevel() error messages

    See osdn #43793

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ca8cb570a4c4dfd10c1d3c92d97e8fcd28ea4897
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 11 17:35:27 2022 +0200

    Meson: Try to link against libcharset when detecting it

    See osdn #44075

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2c31f373b7863a89466929bbf68f5b61178bcd2d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 11 19:42:38 2022 +0200

    Ruledit: Set initial text for enablers tab buttons

    See osdn #44030

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f4485680a49c1eeb5fbd65ebc4de0b0de9bcb046
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 19 08:52:42 2022 +0200

    Msys2: Make sure that up-to-date translations are used

    See osdn #44143

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f210804127fe88b838c2b847a391d9034b1b21d6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 15 05:43:11 2022 +0200

    CI: Build ruledit-qt6 installer for msys2

    See osdn #44065

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 87b5becba9488daa96a3b2f1dd8d77d9b2c2a218
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 9 05:42:52 2022 +0200

    Check legality of unit activities after city removed from the tile

    See osdn #44057

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6b4081a195d75c8e4e0c3ec69a522c9e2b729a7a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 5 22:21:14 2022 +0200

    city_size_add(): Use variable 'size' instead of recalculating

    Most importantly this fixes "set but unused variable" -warning
    on FREECIV_NDEBUG build.

    See osdn #44019

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b8890fc3956bde009cf17a66e9efd3cc3bac898c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 5 10:33:06 2022 +0200

    configure: Try to link against libcharset when detecting it

    See osdn #43600

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0719bc4b261f1bc7bde3cdc7e8d74982f22a9654
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 4 19:29:47 2022 +0200

    gtk4: Implement dirty_all()

    Also call dirty_all() from dirty_rect() so that view gets redrawn
    when ever there's need for it.

    See osdn #44025

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0d75a175d9f222e852b209ab0463ce57a738e53f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 17 05:19:23 2022 +0200

    autogen.sh: Support tools with '+' in their version number

    See osdn #44131

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d2195fe554dac74541359086dd5589b372072a27
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 4 19:05:45 2022 +0200

    gtk4: Detect map canvas size changes

    Listen to "resize" signal instead of "size-allocate" that does not
    exist in gtk4.

    See osdn #44024

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 87e807fbc872f56475b0d86c4aeb478f29c3068c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 17 23:57:38 2022 +0200

    Update Finnish translation of the ruledit domain

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 817e44791e56b7f9444b9582004ab0b51aa44da5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 4 23:22:27 2022 +0200

    Ruledit: Translate rule_name / name "None" shown when no item selected

    See osdn #44029

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f486c64d7c53c283e8118fbf2c92b72678143dc5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 17 20:17:04 2022 +0200

    Comment typofix: "valure" -> "value"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 55e7477550d8bf78c7140c70aeb99b8fe8be16d0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 12 17:21:25 2022 +0200

    Msys2: Build Qt6-client installer

    See osdn #43940

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4a7bd391d29cd78de3c84a80b240ed5fd8be09f1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 4 16:45:50 2022 +0200

    Update xgalaga homepage URL

    Some tilesets give credit to xgalaga about the explosion sprites.

    See osdn #44022

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f5344c56951e6c8485a0b7ca3218e0c7837dc842
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 15 02:03:06 2022 +0200

    Fix handling of absolute LOCALEDIR

    See osdn #44110

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 648544517dee32e609736fc0ccb31c8417929d39
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 5 21:26:41 2022 +0200

    libya_old.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #44033

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1367252446cc6741d52655c51abb651869cbda71
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 2 09:44:15 2022 +0200

    HACKING: Remove mention of long-gone win32 client

    See osdn #43861

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f85c60be40dea78c390d2c20247a3cfb1204cab1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 4 19:41:49 2022 +0200

    liberia.svg: Fix namespace errors

    See osdn #44026

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fdc41226e0a6f9bd2b44a6d47daf7d186c66b904
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 15 17:21:43 2022 +0200

    Comment typofix: "occurrencies" -> "occurrences"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e165bfec40bfd470808fec257ba6695c05c6dd3c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 11 05:17:02 2022 +0200

    Update msys2 environment to 220309 level

    - Include Qt6 for win64 target
    - Do not install nano explicitly

    See osdn #43719

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0978fe4c7633c28d7d995e177b5387cb4371fb3d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 15 10:11:24 2022 +0200

    Give correct specnum value for "Unit Make Homeless" action

    See osdn #44112

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f6b3aa5b7d0dc0a055f2e7acac841e0b6e752741
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 12 11:03:44 2022 +0200

    Add slot for User Action 4

    See osdn #44079

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 73c84c17e15e6e84b11cd9145bb076fb29ac0373
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 2 04:59:03 2022 +0200

    Replace "Fall through" comments with fc__fallthrough

    See osdn #43645

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 48db9ad1046da8816d04dcc5ae2e4bec23755f34
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 6 06:56:16 2022 +0200

    Msys2 ruledit: Add core domain translations

    See osdn #43981

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4cd437e286d0b18b991c02a8141b70a932e77dbd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 2 01:20:06 2022 +0200

    Make Qt6-mode the default

    See osdn #43942

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 14470126d6152be96ab0a457603f930ff2e6c406
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 14 05:44:22 2022 +0200

    Comment typofix: "specnum" -> "specenum"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9905f3f07d3425f5fd77363d42d521e32928a2c6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 2 02:05:46 2022 +0200

    Qt fcmp: Set window icon

    See osdn #44002

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3cb542d555ea6ffe13dd5b49d7eb8ea445636a75
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 13 19:56:16 2022 +0200

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b3bc0a32288c1fc855e6ff71189abc31e12294fb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 2 04:46:22 2022 +0200

    Meson: Add cross paths support to iconv detection

    See osdn #43919

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7998548bb6a8db3ef9680720a14e66c225e0a578
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 1 21:20:26 2022 +0200

    Drop obsolete intro radar handling functions from gui API

    See osdn #43872

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e2f5ec6e21775908efd3ce37fd3cff00ae0753c3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 13 02:46:24 2022 +0200

    Comment typofix: "frees" -> "free"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 11f1d93469e84d992a624aff258ce72c9c8b8e58
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 1 12:56:41 2022 +0200

    fc_version: Fix shebang line syntax

    See osdn #43912

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1bac9cc7f2b735b67f807ff8608d463c751b817d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 28 07:57:03 2022 +0200

    Refresh gnulib-common.m4 from gnulib upstream

    Serial number has not been increased.

    See osdn #43993

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2de4f2d9b78fd2c163955e3764792c2e2751c610
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 2 11:32:23 2022 +0200

    gtk4: Make "Start" button visible in pregame

    Also other buttons on the same box revealed with this refactoring.

    See osdn #44004

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 453e1b81f433e3c3f2947de7cbb8ec14b86bb752
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 25 05:27:34 2022 +0200

    Qt: Mark "Start" button for last unready player for translation

    See osdn #43980

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bac96f7c5166309488e51f27a87b4e3ff01270a8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 25 06:50:48 2022 +0200

    Meson: Support building Windows sdl2-client when audio disabled

    See osdn #43923

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 93daccc522d53982d133ef5f0f735031a679b388
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 11 01:56:17 2022 +0200

    fcintl.c: Include <unistd.h> to fix meson build

    See osdn #44070

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 873e3db8a4ef1d199317d86ee20e423316207e04
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 8 18:58:23 2022 +0200

    Construct absolute locale path to pass to bindtextdomain()

    If LOCALEDIR is a relative path, construct absolute path
    out of it in get_locale_dir().
    This makes localization of the gui clients to work with the
    current msys2 environment.

    See osdn #44047

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 29de0d7e9326ce15dc6b296d63d90cc6d0a7f9b6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 10 21:14:39 2022 +0200

    Update German translation by Mathias

    This is just S3_0 de.po msgmerged against S3_1 strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ffb7eb1dc52998d9cf04c34ce0131560264ebba7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 24 05:28:01 2022 +0200

    Add configure option --without-iconv

    See osdn #43572

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5b4f47e2c0442173062f9d12bd35ae8d0549f5fa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 10 16:01:45 2022 +0200

    Bump version number to 3.0.94.3-alpha2+

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a6f43b2089345b90ef5a37fb36c4723d621ff2c6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 22 06:18:29 2022 +0200

    Msys2: Update ruledit-qt6 dll list

    See osdn #43968

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b9d1c79ebb57f0feddb35e38624400e47cb45d19
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 1 12:11:53 2022 +0200

    Qt: Remove 'menu' from mr_menu class

    It was used by setup_menus() method only, and had no well-defined
    meaning outside. Have just a local variable in setup_menus().

    See osdn #43996

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8feff2b9d5f03714be9bd044de230b14ac027bf7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 3 20:38:45 2022 +0200

    Install ruledit window icon to FREECIV_DATA_PATH

    See osdn #44017

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 399672dc5a44c97ebcfd58ba52d613e668e32452
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 19 04:09:06 2022 +0200

    Meson: Generate version_gen.h before using it

    See osdn #43918

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 14f10b9e37a0e5f71bcbf05bb2a5209018fc719a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 1 10:49:55 2022 +0200

    Fix "inital..." typos -> "initial..."

    See osdn #43982

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 20f01c84f2d22a49e6245c8871f6a410d064b715
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 19 19:31:12 2022 +0200

    AI: Alight unit when amphibious transport reaches destination

    See osdn #43639

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7f0ca185151b8e9ab5e05f6feab0451953268faa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 5 21:17:15 2022 +0200

    Update to crosser-2.3

    See osdn #43921

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 41bab4eb04ae784c424100ef53084f313e008b0f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 21 16:58:37 2022 +0200

    configure: Hint about --with-qtver when failing to find Qt5/Qt6

    See osdn #43958

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bd92c1e5a0c253ae4d16d7ba326af4d5d30d7479
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 3 22:33:45 2022 +0200

    Check that SDL2 >= 2.0.6 before setting SDL_HINT_AUDIO_RESAMPLING_MODE

    See osdn #44018

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a77d68521194a1adbb7ae5b5fe9c5da9c1abca5b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 18 03:20:43 2022 +0200

    Add '%I32d' to the list of potential size_t printf formats

    This fixes build on 32bit Windows.

    See osdn #43898

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9b0766bd94719b6f54b116d2a896b3a154dba42f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 6 06:14:20 2022 +0200

    Comment typofix: "improvment" -> "improvement"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fc82f23c51b476262ac3303ae7c63ae06320a2dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 21 16:33:54 2022 +0200

    Drop comment about civ/2 United Nations from unrelated rulesets

    See osdn #43612

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 14a00db3a909249ab10970ad486a44a70efb2973
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 20 15:45:06 2022 +0200

    Fix luascript_func_check() on FREECIV_NDEBUG build

    It had necessary functionality inside fc_assert_ret_val()

    See osdn #43871

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1bf13dd859b9564285464e4f79e39a43936f931c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 16 21:33:01 2022 +0200

    build_all_installers.sh: Add Qt6-client installer support

    See osdn #43877

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c0b7ba924e42b09736a80072ec9af9ffd6770476
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 21 16:08:35 2022 +0200

    gtk4: Make the intro gfx to show

    See osdn #43957

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e372100a7356db1a1d7fd2082fa6768fb8b8ad91
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 21 05:18:12 2022 +0200

    Reveal start area also for the start city

    Reported by Dino the Dinosore

    See osdn #43652

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7e06d1a4efffe69c978c03655057829af6cf62f4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 20 06:02:45 2022 +0200

    Ruledit: Set window icon

    See osdn #43553

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7cfb607d70bc747c8ed30d5270e206878ff05c13
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 16 00:40:45 2022 +0200

    Msys2: Clean out Qt6-installer files

    'make clean' was not touching qt6 GUI files.

    See osdn #43875

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7471f02fea49db16197d36c71617eef6b54cc905
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 17 02:08:30 2022 +0200

    Qt: Tell in main menu if this is Qt5- or Qt6-client

    See osdn #43888

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c52c458f12c6fe5249dcc910aebd8c0ce9179c03
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 20 02:18:33 2022 +0200

    client: Return EXIT_FAILURE after failure

    It was supposed to 'return EXIT_FAILURE', but actually did
    'exit(EXIT_SUCCESS)' earlier already.

    See osdn #43870

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9371b710286cbc483b837e8d46ce0df6585d154d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 13 17:57:02 2022 +0200

    meson-winbuild.sh: Enable audio

    See osdn #43801

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 57e22be40bd7f503013353459346a1aab6c2e016
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 19 03:09:55 2022 +0200

    Correct "payed" typos -> "paid"

    See osdn #43709

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a39a10657362f1bb382c0219e8b2767715a31a0c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 21 03:56:02 2022 +0200

    installer_cross: Update Qt6 include and plugin paths

    Those have changed in Crosser development version.
    Qt6 is not supported at all in the already releases
    crosser versions, so this does not affect those.

    See osdn #43937

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bd75a50ef52526caa159cd970b83d518adf260a4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 16 17:44:10 2022 +0200

    ls_odbc.c: Correct parameter types

    Fix compiler warnings about wrong types passed as function parameters

    See osdn #43756

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e839231a7abebacb24bf33a799168f9ef139b5f3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 19 03:00:02 2022 +0200

    Request medium audio resampling mode from SDL2_mixer

    This is only a hint for the system to provide a bit better quality
    audio if it's capable (has required libraries etc)

    See osdn #43549

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fc8d57d3523c1db2207ec2de64e79f79aef6074b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 13 15:23:30 2022 +0200

    ax_cxx_compile_stdcxx.m4: Update to serial 14

    See osdn #43852

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ea8ad4d37ecabb04ccff400c49e45cc2628403f8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 16 00:09:46 2022 +0200

    Qt: Iterate gfx extensions without removing them from the list

    Refactor gfx_fileextensions() that was apparently causing
    Qt6-client on Windows to later crash on random location.

    See osdn #43755

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4294aa226b351beb5dfb1677f0e20ca9792b1bf6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 18 18:15:14 2022 +0200

    configure: Make pthreads test also with "-lpthread"

    See osdn #43561

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e7bdc87627c240decaaf795778930fffc6b1715d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 20 01:24:38 2022 +0200

    Msys2: Move langstat creation after the repo modification check

    As langstat creation does modify files, the --enable-gitrev build
    was always flagged as "modified" in the version string.

    See osdn #43891

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ccd4636de2a368b859334cf629fbb69629d6ef14
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 17 20:48:21 2022 +0200

    Lua: Pass correct parameter types to "turn_begin" signal

    As parameters were not passed as 'lua_Integer' type, 'turn' was
    garbage in 32bit systems, 'year' in all systems.
    This affects many existing ruleset scripts in 32bit systems, where
    welcome message is supposed to be shown on turn 1.

    See osdn #41662

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5eae4980673d0139a1688e6dbd9bbb13b89c8e32
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 13 10:31:20 2022 +0200

    Meson: Add icons to Windows executables

    See osdn #43579

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fb757ab15f38dcc7388d84de87eb1f04b4a9f137
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 13 13:48:34 2022 +0200

    ls_odbc.c: Fix "shadowed variable" -compiler warning

    See osdn #43850

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5afad0ae8c2bd086e2da5df49f9b70fdc976782e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 13 18:27:42 2022 +0200

    lib-prefix.m4: Update to serial 20

    See osdn #43636

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ed46fec44cb3386aa95fe11e4507cd20b76f136e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 17 16:29:38 2022 +0200

    installer_cross: Clean translations dir after creation of langstat files

    This way later build won't consider git revision "modified" just because
    update-po has been run on it.

    See osdn #43890

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e96b720f5edec0c0fb1e4ed8923ff92de26f69c3
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Fri Feb 18 22:30:03 2022 +0100

    Make Python 3.4 the minimum officially supported version

    See osdn #43745

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 33a031edea4bf84503caff4c9245c23b90fe9c18
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 17 16:16:29 2022 +0200

    INSTALL.Cygwin: Update list of packages to install

    See osdn #43885

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9baf2f1afeb219c26e3f6bf42c4b3b2dc6921879
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 21 04:20:14 2022 +0200

    .gitignores: Add generated .nsi -files

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b0c5baff4ccde6b3932cf9056c748c0c1bd43955
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 20 14:07:20 2022 +0200

    Comment typofix: "defines" -> "defined"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8174cf446315b20cd1d84afe9225c96e3a854f0d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 13 05:03:41 2022 +0200

    Fix "'noreturn' function does return" compiler warning from lua

    Seen when cross-compiling for AmigaOS

    See osdn #43571

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7ad3706b7cb01c721539d29cc3504bce3500b8bc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 16 17:00:38 2022 +0200

    CI: Build Qt6-client installer for Msys2

    See osdn #43878

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c2f158242074f68034406dec96550d2b91d66fde
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 13 01:35:10 2022 +0200

    Add minimum trade route output ruleset setting

    Requested by ddeanbrown

    See osdn #43011

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f93aa6a5b2d0a0c9a3d65b126c85aa0d189b9db1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 16 16:35:06 2022 +0200

    generate_gitrev.sh: Handle relative output file path correctly

    See osdn #43879

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f04418c339e7353205423558724cd20cc4e1b3dd
Author: Gunnar Beutner <gunnar@beutner.name>
Date:   Sat Jun 5 00:40:16 2021 +0200

    Ensure that stdout and stderr are initialized

    Initialize descriptors even if no log file was specified

    See osdn #42471

commit a8e0b05d068da01be29a22b18718dfd5fa96ee1b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 7 02:39:41 2022 +0200

    installer_cross: Add Qt6-client installer build support

    See osdn #43799

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6a9fdbeb45b5e879048159a7cb72b3e4455ed059
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Thu Feb 17 01:34:43 2022 +0100

    Civ2: Mention that some things from classic are missing
    Anonymously reported

    See osdn #43864

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 9757279e1cc8d4b5a17ddd1cdb772bae3e590bc7
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Mon Feb 14 01:53:50 2022 +0100

    Introduce new req_context struct for requirement targets

    See osdn #43809

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 486888112871cc2a16d8040e178bc2bd4b6a7aba
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Thu Feb 10 22:59:20 2022 +0100

    Fix GTK+ clients not drawing citizens correctly above city size 30
    Reported by ddeanbrown

    See osdn #43823

commit af3653d2b8a82ce05ecbbda8ed77c4db469363cd
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Thu Feb 10 20:41:33 2022 +0100

    Fix cardinal_adjc_iterate only accepting identifiers as center_tile

    See osdn #43835

commit 4e9b888b0d3172cf96afd0edbfef7c6d1d4064f8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 3 06:33:28 2022 +0200

    host-cpu-c-abi.m4: Update to gnulib upstream serial 15

    See osdn #43588

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 481e1e8b6a836f740b9a56f06110daf021d4af22
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 18 17:53:57 2022 +0200

    Merge Esperanto translation of core domain from S3_0

    S3_0 translations as in 3.0.0 release

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cc45eaa582cf6e68a58258cc8f25282b94070779
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 18 17:37:26 2022 +0200

    Comment typofix: "optionnal" -> "optional"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 42043e24683c3e8b9ad7a83b396f4c5667d9272b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 18 15:18:19 2022 +0200

    FAQ: Update latest stable version number to 3.0.0

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7074cff2f8f0d92b02cad19ed92f8550b1924b41
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 6 15:43:48 2022 +0200

    Autotools: Do not require libsqlite3 when it's not really needed

    See osdn #43565

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8ad8baaf4d75dfcdbd4c837d04594f73a224fc80
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 5 12:56:10 2022 +0200

    Save max_growth cma field to attribute block

    See osdn #43754

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 838ad7614462cbe9137d5dc60439a5b3514b1478
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Thu Feb 17 15:12:12 2022 +0100

    Updated French translations for the release of the version 3.0.0

commit 5a6214b8dcb59b70b1b857fdde1ada03d7fbea43
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 7 17:26:51 2022 +0200

    Ruledit: Make it possible to change what multiplier an effect uses

    See osdn #43017

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 621e6b7fb2b587b6f3e2de3b5e965e9b72a13878
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 14 00:28:29 2022 +0200

    configure: Add check for C99 compound literals

    Requested by alienvalkyrie

    See osdn #43855

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ad62ffd4a0be58b13a890558ff1b17b120315cd6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 16 20:09:45 2022 +0200

    Update Polish translation by Hubert Kowalewski.

    Pulled from https://sourceforge.net/projects/freeciv-l10n-pl/files/
    (zip timestamp 2022-02-13).

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9316d2e2fda32736766fa4bea4bd5cd7ba0f0e50
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 7 00:30:41 2022 +0200

    ls_odbc.c: Fix "unused variable" -compiler warnings

    See osdn #43797

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4e88d83afb548f0dc0c8468b5bb29d82f2986273
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 5 20:20:24 2022 +0200

    Meson: Clean up setting global arguments to both c and c++ compilations

    See osdn #43400

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4363fc18135a8d1a19b122608853168933a3d051
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 14 03:51:33 2022 +0200

    HACKING: Do not list exact flags enabled by --enable-debug=checks

    The list was outdated. Replace it with generic explanation of the
    kind of the flags. The text was already referring to debug.m4 as the
    place to check the exact flags.

    See osdn #43862

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b22e833157e14c6d3113f1b8ad3391fb7f2e8f14
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Sun Feb 13 18:21:09 2022 +0100

    CodingStyle: add information about C99 compound literals

    See osdn #43826

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 6ff4aa90fb24cd07e4fab67c0145494c73c290ef
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 5 14:34:34 2022 +0200

    Explicitly set placing_times on supplied rulesets

    Make it same as road_time, with these exceptions:
    - Granularity ruleset Ocean has placing_time of 1, to enable
      placing there once the ruleset introduces suitable extras
    - In civ/2 rulesets placing_time for all terrains is set to 0
      to not provide any support of placing extras on these rulesets

    See hrm #851872

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 32819bf3a50f6ae5abea81f98e3daa2b7680890c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 4 21:27:13 2022 +0200

    Meson: Make it possible to enable audio support on Windows

    See osdn #43776

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 804c5a45b0df9e2e4d01bd20a774b3a2d3b66a60
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 13 13:15:29 2022 +0200

    Bump version number to 3.0.94.2-alpha2+

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 28b0be9d45a69b4aae481b04a87e1ce904096e8d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 3 16:34:27 2022 +0200

    data/Makefile.am: Fix syntax when gtk4-client enabled

    See osdn #43664

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 56fb31c863cc2ef9e1c1d9b93e8a4fa2d285b5c7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 13 03:51:45 2022 +0200

    Update Polish translation by Hubert Kowalewski.

    Pulled from https://sourceforge.net/projects/freeciv-l10n-pl/files/
    (zip timestamp 2022-02-09).

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 22298b370ed1a7c8c7acc3a09950f9f5818f1f33
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Mon Feb 7 22:14:30 2022 +0300

    Add signals for player phase stages.

    player_alive_phase_end and player_phase_end are added where currently
    there are per-turn bonuses that may be unhardcoded by Lua,
    player_phase_begin is added for symmetry.

    See OSDN#42663

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit a15c58ba9a0055532d4681d2caee53018154f2ff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 5 12:52:03 2022 +0200

    README.graphics: Document stack_size_offset_x|y

    See osdn #43368

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 15b9fe3f06c6951a197a92637c880246d4421df1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 1 19:55:47 2022 +0200

    Drop unused cma stuff from the network protocol

    Dropped
    - packet_city_manager
    - cma related fields from packet_city_info

    See osdn #43752

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2d37faab4ae5724da08d61aa53a8f61f8a7da414
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 1 06:03:36 2022 +0200

    meson-winbuild.sh: Add gui-parameter

    Make it possible to build qt5-client, instead of the default one,
    with meson-winbuild.sh

    See osdn #43751

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bab3c6917eaca1026f8a52d50f359030d3cdb590
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Fri Jan 28 18:08:19 2022 +0100

    Remove unnecessarily gendered language

    See osdn #43725 and #43830

commit 2d27d97fa642066a9b9639bfc9a402d281db832d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 2 17:50:06 2022 +0200

    gcc-12: Fix load_ruleset_units() "use after free" warning

    See osdn #43768

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2bb84704dc406043fd7eff50d286be32bb366ed1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 3 07:11:46 2022 +0200

    Msys2: Update list of Qt6-client dlls

    See osdn #43774

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a8e4bb5d4e625441818737871e0cac00b89a0c9d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 10 02:35:50 2022 +0200

    Fix "label at end of compound statement" compiler warning

    See osdn #43831

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fc66a96d2c851f56fdd492f6a9ddfdd731fed020
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Mon Feb 7 21:55:40 2022 +0300

    Lua: Add API for unhardcoding autoupgrade.

    Several functions are enough to replace C do_upgrade_effects()
    from common/unittools.c with Lua, other ones can be used for
    some different procedures.

    See OSDN#42666

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit 7cfb49029c933403c9b3b82ea54ccfcdac47ce67
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 1 07:00:28 2022 +0200

    Set 'max_growth' field of cma preset to default value when loading options

    We don't have gui for adjusting 'max_growth' field, nor is it stored
    in the client options file. At this time it should be always the default
    in presets.
    As we were not initializing it when loading the options, it was getting
    non-default value. This in turn lead the preset loaded from the client
    options not to match what the cities in the savegame were set to.
    Thus the client showed the Governor of these cities to be "custom" rather
    than the named preset.

    Reported by chippo

    See osdn #42253

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 743dd36a5911315ff6f7f22b753abb75f30ec9b5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 3 06:57:12 2022 +0200

    Meson: Set GLIB_VERSION_MIN_REQUIRED / GLIB_VERSION_MAX_ALLOWED

    See osdn #43441

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 11685242d0f0f3abeee119b59fcd37f44eb88510
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 8 23:51:08 2022 +0200

    Merge Esperanto translation of core domain from S3_0

    Translation updates to S3_0 by Benno Lang

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 51683f6050e3cc39ed44cbd184924a0b4d79ea05
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Mon Feb 7 00:16:49 2022 +0100

    Make utype, uclass and UCF requirements TRI_MAYBE on missing target

    See osdn #43682

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit aea7caf7c59fb3e44c1f9506bd44f95c357cc178
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 3 05:05:43 2022 +0200

    README.fcdb: Fix typo: "on" -> "an"

    See osdn #43770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1746fcc257f0c3bf49fa804b03308b56baf0021f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 4 22:46:58 2022 +0200

    Fix removing resource extras

    tile_remove_extra() was removing resources only from the
    "active extras" bitvector, but leaving them in as
    a dormant resource. As the terrain was suitable for the
    resource all along, it reactivated immediately.

    Reported by ddeanbrown

    See osdn #43782

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 035084e0abe3b5e773adb99b8c7204d261434538
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 7 18:58:06 2022 +0200

    Comment typofix: "liklihood" -> "likelihood"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b79ec278bdce3621b4f1d3fdd396d8462b9bef12
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 28 16:06:45 2022 +0200

    Update included lua to 5.4.4

    See osdn #43717

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e68a58593980558b7071254b2e9055bba6559865
Author: Jim DeLaHunt <from+project_by_git@jdlh.com>
Date:   Sat Jan 29 01:28:13 2022 -0800

    Eliminate needless -Wimplicit-function-declaration errors on macOS

    Configuration macro FC_FUNC_VSNPRINTF in m4/vsnprintf.m4 generates a
    simple C program which uses exit() without #include <stdlib.h>, and
    strcmp() without #include <string.h>. These programs fail to #include
    <stdlib.h>, so their use of exit() is implicitly declared. This has been
    illegal C language since the late 1980's, but tolerated by compilers.
    However, since 2019, macOS compilers have raised
    -Wimplicit-function-declaration errors with such constructs. They have
    good reasons to do so, related to support for ARM instruction sets.

    Insert `#include <stdlib.h>` and `#include <string.h>` into this macro
    in m4/vsnprintf.m4 .

    See osdn #43737

commit 6ef1fd8ab23ba9788635dddcc9c3d960c0475a33
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 30 11:35:42 2022 +0200

    winbuild.sh: Support building qt6-client

    See osdn #43721

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 330856caca37f0d7fe937e04bd3d8d88805c9a6b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 27 06:33:32 2022 +0200

    game.rulesets: Fix typo in a comment ("is" -> "in")

    See osdn #42578

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0da657edbf678611aa0aff3d557e312ef7706366
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Thu Feb 3 23:16:19 2022 +0300

    Remove unit veterancy loss during conversion. This done by moving more specific stuff out of transform_unit function.

    See OSDN#43778

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit bccef2c7aae3dc03c1cef3d2ee65660d441b5495
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 26 19:02:38 2022 +0200

    Msys2: Make .nsi creation scripts Qt5/Qt6 specific

    See osdn #43701

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f77d91fc16fb5ffcfa4fdfdce76576a7c57b07a5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 5 20:08:39 2022 +0200

    Comment typofix: "ould" -> "would"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit afd38acbd056509d3a407070901a8e593a3b35f7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 27 00:53:19 2022 +0200

    Lua: Implement find.player(name)

    See osdn #43705

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cab17cb3c85bbc5bcbc9c501ac1e77d63851e89b
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Sat Feb 5 08:43:52 2022 +0100

    Updated French translations

commit 92c0cec46ff474d599a1bf7efc2b278a8f1e6de3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 26 03:56:05 2022 +0200

    Rulesets: Rename "Capture Fortress" action as "Conquer Fortress"

    See osdn #43382

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 10456c5109999b916331e988198069d2d3cde1ea
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Wed Feb 2 01:00:40 2022 +0100

    Update helpdata with new maintainer (me!)

    See osdn #43767

    Signed-off-by: Alina Lenk <alina.v.lenk@gmail.com>

commit 7676d879f037479f8159d52430ed13c09b97a65f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 1 17:25:52 2022 +0200

    Multiplayer: Use hex topology

    See osdn #43760

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7e65bf806ac8c40248cdebd63432506eba84d74c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 21 03:16:27 2022 +0200

    installer_cross: Rename qt gui as qt5

    See osdn #43619

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 87be33bde2cec24a00aa3be275c9d16c392fcb74
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 26 03:22:52 2022 +0200

    Add iphide server setting

    Requested by barg

    See osdn #43683

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bae6e8374c2a19b4394df298fb132bb47ad2b9a7
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Thu Feb 3 17:23:53 2022 +0500

    Update for Russian translation.

commit fc8117606c57927bbaba8a5794d5df4dc2804e3b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 1 16:38:53 2022 +0200

    README.msys2: Clarify the "msys2 shell" to launch

    See osdn #43758

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 47533d38c96b69098e1db05e2921a6155d1952aa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 20 16:48:50 2022 +0200

    Include stub ruleset to the distribution

    See osdn #43618

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 576f70c5a19d010163c06a1fd12a2fb585d35a52
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 26 02:07:52 2022 +0200

    gtk: Describe current Small Wonders visibility rule

    Wonder List Intelligence Dialog tells the visibility rule.

    See osdn #43084

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 40c6cc7a6241d9302ab9a3f449bb9efc07031877
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 2 09:24:49 2022 +0200

    Meson: Fix tolua build

    See osdn #43765

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b17a69f1a7cff0da6168ee26d917e60f88ecc6fe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 20 02:03:54 2022 +0200

    Meson: Build tolua for native builds

    Make native builds to work without prior tolua by building
    it as part of freeciv build, before it's needed.

    See osdn #43015

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c72e68a637dc7b06f6ca1388814404cbd1f97e7b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 20 17:53:05 2022 +0200

    Strings.txt: Drop "win32" follow tag translation

    See osdn #42145

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cef76cfcdeef9b6cae31145d58d126d427a81e9f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 1 16:10:45 2022 +0200

    Update Polish translation by Hubert Kowalewski

    msgmerged from S3_0 7c4235ae01

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1da67796a6558e03f13c639356cccee45fe848eb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 20 04:31:21 2022 +0200

    Fix fcdb-odbc build on non-Windows platforms

    Compile fixed by backporting a commit from luasql development version.
    Linking fixes by myself.

    This fixes just errors. Compile gives still warnings.

    See osdn #43661

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8913170e60b82c74937bed347a3fcc5fb9842af1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 28 15:18:46 2022 +0200

    CI: Update setup-msys2 to version 2.8.1

    See osdn #43720

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 72bcb24126d70a3d069b3fd84fe35312957c07ef
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Thu Jan 20 16:20:04 2022 +0100

    Comment fix: Explain torus topology colatitude formula

    See OSDN#43665

commit 38151461729e074f0c14b876cda6c682909338e5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 18 17:45:21 2022 +0200

    Drop city_style citizens_graphic_alt

    See osdn #43650

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bda61fa7b76106e64fb14bb81f2771b8f3e041fc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 18 17:12:41 2022 +0200

    installer_cross: Include gtk4 modpack installer with sdl2-client

    See osdn #43641

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 741e9b3fd07f19bc5ad9886e73b8f241a1619cdd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 27 19:41:33 2022 +0200

    gcc-12: Fix "used uninitialized" warning in basic_city_style_for_style()

    See osdn #43713

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e62ef02b0697dfaaf2ab06a390b07d2644440749
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 16 09:03:03 2022 +0200

    Update gnulib-common to serial 72 from gnulib upstream

    See osdn #43635

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8aa3e036dd15b810dcc5cb7b42ce6c109df9a4f3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 27 18:04:24 2022 +0200

    gcc-12: Fix "use after free" warning in tolua

    See osdn #43711

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e0210d963b1c7edca79e943ac61d094f6f4cef29
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 15 20:54:02 2022 +0200

    Meson: Use correct path separators on Windows

    See osdn #43578

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3c5e310b62652e6ce2a9feb6de1904e1b8def8b3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 28 14:05:00 2022 +0200

    FAQ: Refresh from wiki

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 187dc63db5d06f7e48da1d03259f3b2f0f971680
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 18 18:09:04 2022 +0200

    Document tileset support about multiple wall types

    See osdn #43648

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e4a9932dce3f1a8bf7dd4aedd12a2dd1859a412f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 14 21:30:52 2022 +0200

    Msys2: Rename "qt" installer package as "qt5"

    See osdn #43621

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 961365dffa9a7422703a8cc8656c0c7a67d1d4a2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 18 16:07:38 2022 +0200

    Fix crash with empty startunits

    See osdn #43651

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ec553cb20d9805d108d30bed97a1132d0b0bb86d
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Thu Jan 27 01:16:42 2022 +0100

    Updated French translations for versions 2.6.6 & 3.0.0-RC1

commit ecf7abfe2cffc0176443914981006807033fcc65
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 26 20:28:31 2022 +0200

    NEWS: Refresh 3.0 section

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c3a0c353a0d1d9291fd674ba5ca91978029965c9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 13 00:43:57 2022 +0200

    winbuild.sh: Support user defined MOCCMD

    See osdn #43608

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8caa0f6c896bf08602a5b12783f85e9fe2174952
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 18 05:04:23 2022 +0200

    Fix message about an action blocking another

    As action_name_translation() always returns the same pointer
    to the static string it modifies, name of the blocked action
    was overwritten with the name of the blocker action, before
    it was sent to the client.

    Reported by ddeanbrown

    See osdn #43643

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 035395bbfd387bb68c49d8acc5d3f4df52ad25ea
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 12 19:54:28 2022 +0200

    Civ1: Increase unit hit points and firepowers

    AI handles units with just 1 hitpoint really badly.
    As a workaround we increase all hitpoints in civ1 ruleset,
    as well as firepowers, so units still get killed with single hit.

    Reported by nef

    See osdn #43042

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6b1dcdf78383265ecf50a5fdf8393e599d433cbc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 14 17:15:16 2022 +0200

    Meson: Set ALWAYS_ROOT on Haiku

    See osdn #43547

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b4b26b3a9ee5aa5594f144b62c22f0893cdf0ca3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 16 12:58:17 2022 +0200

    AI: Avoid infinite recursion with AI settlers

    When ruleset has city founding restrictions that AI code is not yet
    prepared for, AI was retrying it in infinite recursion.
    After this change AI just aborts handling of that settler when
    city founding fails because of such reason it does not understand.
    This is far from ideal as the settler then does nothing, but at least
    this prevents server from crashing.

    Reported by lexxie9952

    See osdn #43638

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1b7037d8bc110ac3568b0c6854819873917dbb5a
Author: Kristjan ESPERANTO <35647502+KristjanESPERANTO@users.noreply.github.com>
Date:   Mon Jan 17 18:25:52 2022 +0100

    INSTALL: Update links

    See osdn #43660

commit ede2f83b2b9993f2f6e9f4e15372721bc971cc02
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 11 20:56:25 2022 +0200

    installer_cross: Complete gtk4 environment

    Install all gtk4 environment files needed by gtk4 modpack installer

    See osdn #43602

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6bb23065e818317f32d2c624628b7e9e7b44ab6e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 10 05:50:54 2022 +0200

    Apply Move_Bonus correctly to a unit with base move rate less than min_speed

    If unit's base move rate is less than class min_speed, any modified
    move rate less than min_speed was set to that base move rate.
    That was applied even when the modification was a positive one.

    Reported by Dino the Dinosore

    See osdn #43587

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7826d327b1122636d8a42512a9cf8af1451cda83
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 19 16:20:06 2022 +0200

    Add Alpha release warning for development versions

    See hrm Feature #870972

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f8152ab2bfcdf940bcc3d301804cbe0375b2abab
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Fri Jan 21 22:41:02 2022 +0100

    Updated French translations

commit fde8078e602e06226cb1aab2760786b92ceaee14
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 13 00:11:43 2022 +0200

    Meson: Check endianness

    See osdn #43448

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f557a0e4b2692fd499e96ae2fc1fc932cacf0e2b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 8 07:38:42 2022 +0200

    Make map_is_known() to behave when player maps have not yet been created

    Reported by ddeanbrown

    See osdn #43584

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bf352153818225e77fa7f39604f9655484e308e1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 8 05:01:57 2022 +0200

    Set correct icon to ruledit .desktop file

    See osdn #43574

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0bd8e094a62b7c43d3cf2a7b01e80cb9f23d88e9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 10 19:01:19 2022 +0200

    Lua: Add finder methods for Achievements and Disasters

    Reported by ihnatus and nef

    See osdn #43594

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2734ebe1fc68268acf68d13cf0b830d82c2cd8ba
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 19 21:05:07 2022 +0200

    Comment typofix: "seperatly" -> "separately"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d1ccbfc16c3f6c4d6a08e9b4b9325cd20b43d4ef
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 11 17:10:08 2022 +0200

    Meson: Find shell executable just once

    See osdn #43452

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 255a283075387585c73f198fc92742b2c7474bff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 7 16:36:58 2022 +0200

    Make Good requirement to be false when traderoute is inactive

    Reported by ddeanbrown

    See osdn #43542

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d26fd0a553a65843c2130d6d20e489d0dafb1ced
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 18 20:07:12 2022 +0200

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d556bfb2fecd694c7d0ca49bfe9dac6a0abe8365
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 15 07:52:59 2022 +0200

    installer_cross: Cleanup passing parameters to nsi creation scripts

    See osdn #43597

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eacbb654488accc7484403bce87b5efb7831a88c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 6 17:03:07 2022 +0200

    configure: Fix false positive for thread condition variable checking

    See osdn #43562

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4467094b0d0fb4b893864ff1c5c9282a26dce5cc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 15 11:47:08 2022 +0200

    Reinstate ACLOCAL_AMFLAGS

    See osdn #43034

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0e20810e737051d27465c72e594676480ff9d629
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 6 00:50:58 2022 +0200

    Meson: Install freeciv-ruledit icons

    See osdn #43554

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6fb2d2d9aed34c96d5ed9fe379f036800ed250cf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 6 09:01:13 2022 +0200

    audio_sdl.c: Update comments about gui-sdl to gui-sdl2 time

    See osdn #43552

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d64d11b318a5c6b93ef3f2bc7805e1867e9d6bcd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 15 01:03:57 2022 +0200

    Replace FC_QT6_MODE with FC_QT5_MODE

    Turn the Qt6-as-special-case logic to Qt5-as-special-case
    by retiring FC_QT6_MODE macro and introducing FC_QT5_MODE.

    See osdn #43010

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f2cbad0c071cd5efc714088cd924434896107769
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 15 19:28:26 2022 +0200

    Fix client crash when non-road extra's extrastyle is River

    Reported by jdanecki

    See osdn #43633

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5d3fec45f167d7aa3a3a462aac6edbe85e13cd49
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 14 07:33:44 2022 +0200

    Update gnulib-common to serial 71 from gnulib upstream

    See osdn #43559

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 68d37680790f100f9b923a599dc27fa56dc1acf5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 11 18:40:39 2022 +0200

    Change ui_names of disband actions in supplied rulesets

    - "Recycle Unit" -> "Disband recovering production"
    - "You're Fired" -> "Disband without recovering production"

    Requested by log65536

    See osdn #43595

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5734a87c6e9f90f359b984c0e56141db283376b6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 11 17:32:04 2022 +0200

    Meson: Fix locale_charset() check syntax

    See osdn #43599

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2fdf03b0705fa75ae2956a2ad4f9de3f58903665
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 13 00:19:37 2022 +0200

    hacker.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #43617

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9e5d43885bc53e1287269aabcf42666174e4f075
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 5 17:16:06 2022 +0200

    sdl2: Drop setting of obsolete SDL_VIDEO_CENTERED env variable

    See osdn #43551

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 28c4f8019c4f4ad7cbc49b2a8fabe131154adc20
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 14 22:36:47 2022 +0200

    Comment typofix: "improvemrnts" -> "improvements"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2b02099a94e897e7969f2d774fbed1bfb03c0b61
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 14 17:41:31 2022 +0200

    Update Finnish translation of the ruledit domain

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 05e026b5dda9a8da8da9dc7a25dc95e50db763f0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 5 23:21:48 2022 +0200

    installer_cross: Do not install gtk3 environment for gtk4 installer

    See osdn #43557

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ecffedb4dd5abcabba6b35f0bc00405b65231a86
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 5 02:41:04 2022 +0200

    Draw integrating cardinal roads (rivers) correctly

    Reported by ddeanbrown

    See osdn #43153

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1bb47146d06f489102c1e6b65bea7d991f69b6ca
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 5 16:55:09 2022 +0200

    Meson: Link against 'network' library in haiku

    See osdn #43546

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f3c8f33dddf0e312ed5233351aba6db74db447d6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 13 01:46:31 2022 +0200

    Bump version number to 3.0.94.1-alpha2+

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 136a5d73a42528e1a5ddeece8b1a8c0e3db784db
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 4 22:21:31 2022 +0200

    is_goods_type_in_range(): Correct comment

    See osdn #43533

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4e2d49277a9d354543a79db8d675e48486f491f2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 12 23:18:21 2022 +0200

    Accept transform_time > 0 when transform_result set in ruleset compat mode

    See osdn #43616

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a594e9d78e5231b9e2730c7860d1613fda49f391
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 12 22:39:48 2022 +0200

    Granularity: Make transform_result and transform_time consistent for all terrains

    See osdn #43615

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 40fcc91a684dc4ee80bcd73b1a339c1928fe9f13
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 12 21:58:38 2022 +0200

    Stub: Make transform_result and transform_time consistent for all terrains

    See osdn #43614

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ee63111e0ea6e8cd26a3d0620f8f709937c29587
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 12 19:02:41 2022 +0200

    Alien: Make transform_result and transform_time consistent for all terrains

    See osdn #43611

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5a9296c6e78609f48934c652e522f806ddd9b025
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 5 04:26:03 2022 +0200

    Sanity check transform_result and transform_time consistency

    No longer just correct inconsistent transform_result and
    transform_time from the ruleset, but consider it an error.

    See osdn #42256

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b000a1a21d91614c967cbed2f0d12cf42c4664b5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 7 15:27:02 2022 +0200

    CI: Update setup-msys2 to version 2.8.0

    See osdn #43566

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d85fe378f3cf739174b9e51e0b06cadbdd1af1c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 4 21:09:19 2022 +0200

    Correct Windows WSAEINPROGRESS handling

    See osdn #42044

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 20a0345ec8a88fe06aca31c60f2ed7c0d074094f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 2 04:39:51 2022 +0200

    Meson: Correct checking for HAVE_LIBCHARSET

    See osdn #43443

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4f06d19258996fc4dd97c3b0f740d66bac9ba558
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 4 03:24:11 2022 +0200

    generate_skips.sh: Validate parameters

    See osdn #43365

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6ec2debc91ecfc87b62a7569351d58ff03f9c2db
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 4 05:15:07 2022 +0200

    stdlib_h.m4: Update to serial 66 from gnulib upstream

    See osdn #43525

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 96460cfa0ab67f4226eaa4495cec40d3a011f7cf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 2 02:49:29 2022 +0200

    AI: Don't try to Upgrade Unit when it's not enabled in the ruleset

    Reported by ihnatus

    See osdn #42574

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8649588873f43eb964e15870f23fa5f3c3c0d3c2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 6 08:04:19 2022 +0200

    Add transported defense type ruleset setting for unit types

    Reported by Sveinung Kvilhaugsvik

    See hrm Feature #848689

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c64d1a6b118a7114d123990edf0264b5a7d818c7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 30 05:24:53 2021 +0200

    Meson: Find python3 executable just once

    See osdn #43446

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cd4dfb52f5ece8fc364883befaa7aef46c95b76a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 30 01:26:26 2021 +0200

    Ruledit: Add Documents path to default save path in Windows

    See osdn #43370

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d8c74bdb0e28e7a724995fc8769bd329d53dfe3b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 30 00:25:56 2021 +0200

    installer_cross: Add freeciv-mp-gtk4.cmd

    See osdn #43020

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 692d721af59c451fccc6213eec7e3019ac9be472
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 29 02:02:09 2021 +0200

    gtk3.22: Correct comments claiming it to be gtk3x-client

    See osdn #43430

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 84700d3885f72afa7b88468cd2599bced4732693
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 30 04:59:19 2021 +0200

    Add deprecation warning about use of old style parameters fcdb.option()

    See osdn #43463

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b9a775bcff9e697ed452b77bec6c9a4cbe0e04bb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 28 02:33:31 2021 +0200

    Meson: Use cross_lib_path in search of more libraries

    Several library lookups did not respect to cross_lib_path.

    See osdn #43456

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 84bdfddc03f4a12fcf47e988a12afdbfd459df14
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 28 00:50:07 2021 +0200

    INSTALL: Update dependency download links

    See osdn #43300

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b6299edaa10d4538532e83c01e310299e83aba13
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 21 18:33:55 2021 +0200

    Meson: Enable nonblocking sockets on Windows

    See osdn #43457

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1bd5ae6cbdced02f32227bb118f4a3972a1a85d4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 5 16:59:24 2022 +0200

    Comment typofix: "cacheing" -> "caching"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8b9aed20a7dca9933e1b2b723831825043c03fee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 26 20:22:36 2021 +0200

    fcdb: Correct user_verify() documentation

    script_fcdb_functions_define() function header documents the API.
    Update it.

    See osdn #43465

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 62aa64f0d5ab7c590eb2374751f60653ac11a067
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 28 00:01:21 2021 +0200

    Use SIZE_T_PRINTF when printing zstd error value

    This replaces ugly hack to cast value to long just to be
    able to use same format specifier on all platforms.

    See osdn #43399

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3002b7ca960627a5b4ece4bc60b2767200324481
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 21 04:17:33 2021 +0200

    Replace --with-qt5 / --with-qt6 with --with-qtver=(qt5|qt6)

    - Introduce new --with-qtver=(qt5|qt6) configure option
    - Deprecate --with-qt5 / --with-qt6. They are not completely
      removed yet, to ease transition (many build scripts
      rely on them)

    See osdn #43445

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1db4ce0b8cc2535a70b92eb328f448bf645d00fd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 25 19:36:09 2021 +0200

    civ2: Disallow Upgrade Unit

    See osdn #43404

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 87ae647d78fa00f07bf57acdd6a3815d79a878a0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 25 10:17:06 2021 +0200

    Make reduced firepower in special cases ruleset controlled

    Replace hardcoded firepower of 1 with a ruleset defined
    low firepower values. These rules can still never increase
    the firepower, only reduce it.

    - BadWallAttacker
    - Pearl Harbour rule
    - LowFirepower combat bonus
    - Nonnative bombardment

    See osdn #43041

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7b2de7e6db7d05ae130f164b0d6edea2002d7747
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 23 06:12:25 2021 +0200

    Copy gtk3.22-client theme as baseline of gtk4-client theme

    See osdn #43438

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e9fc0da8ca1f68082ab06150c43a14347b88b38b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 20 16:59:30 2021 +0200

    Remove Christian Prochaska from the list of active maintainers

    See osdn #43434

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f746e7eca011bfaa084b5e1e0703d7cd4fac672d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 22 02:24:47 2021 +0200

    gaul.svg: Shrink page size to image size

    Update to inkscape-1.1.1 format.

    See osdn #43458

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 212ed7df59c5471ca100f56abbe6034adf542208
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 22 02:11:23 2021 +0200

    gtk4: Drop gtkcompat.[ch] module

    See osdn #43437

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b094ce09ec9c90386c5d4ccf9a4d25ca01fe80dd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 19 14:45:35 2021 +0200

    fcmp gtk4: Set GLIB_VERSION_MIN_REQUIRED to match glib-2.66

    gtk4 requires at least glib-2.66.

    See osdn #43428

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3b70dadf4c410f1f79425f896b8ba6a05ed93d9c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 1 02:54:58 2022 +0200

    Set version number to 3.0.94 for year 2022

    See osdn #43391

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0da604c3a8d89bda91f7e2bad6e0a36ee08c6982
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 20 01:02:31 2021 +0200

    CI: Build gtk4-client on MacOS

    See osdn #43433

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c4bdd6de184ae136c7ff3a3b8875a1ae6210daf1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 19 14:56:52 2021 +0200

    Meson: Check for proper size_t printf() format

    See osdn #43390

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e9189d92a339814eed7a8ecfb35d64ba9581553b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 19 16:44:16 2021 +0200

    gtk4: Build against gtk4

    No longer build gtk4-client against gtk-3.9x.x development versions,
    but against stable gtk4. Rename variables etc accordingly.

    See osdn #43427

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aa8e3b1ae96832104c015dcab0f9585613c1fccf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 19 11:59:07 2021 +0200

    gtk: Make Upgrade buttons insensitive on no-upgrades ruleset

    Reported by ihnatus

    See osdn #43424

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 231f1002a8cf417743160e2166c630cebd094db7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 19 13:37:00 2021 +0200

    Move "out of fuel" message to default.lua

    Requested by nef

    See osdn #43341

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 878f43fe53cfa35832a4194622832ce8125958c3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 19 10:29:25 2021 +0200

    gtk3x: Cast gtk_widget_get_display() parameter properly

    See osdn #43422

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 83683aabaccfe09c54472831ef0a9ce6850ba4bc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 17 05:32:24 2021 +0200

    scripts/potfiles: Add *.tilespec to list of files to search strings from

    See osdn #43376

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 533c674bc55f1e2d7df4766442ee7d08f1c79982
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 19 10:10:53 2021 +0200

    gtk3x: Replace gtk_window_resize() call

    gtk-3.99.5 drops it.

    See osdn #43421

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 117877b29d143a99a781398c8472ed74709e662c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 12 19:41:01 2021 +0200

    Meson: Set _WIN32_WINNT also for C++ compilation

    See osdn #43371

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c2b5f9eb8c908a12764b301870ed718179fd6352
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 17 05:41:05 2021 +0200

    sandbox: Fix typo in description of Altar to The Divine Ruler

    See osdn #43383

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7a2b0a8847ade88428c99819a19e5067e425d4eb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 19 09:15:10 2021 +0200

    Rename gtk3x-client binary as freeciv-gtk4

    See osdn #43420

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b6326b3f5becc76e0071cf2dac3f4e439aaa269c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 18 11:56:30 2021 +0200

    Add ruledit icon

    Art by Lithzen

    See hrm Feature #657383

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7127f7897e40e48ce99eb1299e5f0653f2125df4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 17 06:01:58 2021 +0200

    Update gnulib-common to serial 69 from gnulib upstream

    See osdn #43413

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a0db67b04e09c524417748d2a3c90c988db439c0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 25 13:11:54 2021 +0200

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c0b9dc6e4afb88f997b0c7a310ea8a86d18fbc04
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 11 23:32:00 2021 +0200

    Lua: Add fce() debugging function, replace listenv() implementation

    listenv() had a number of crashing or hanging problems.
    Make it just a wrapper for fce()

    fce() implementation by nef

    See osdn #43388

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0e81d8c77113671d124da2155e3fc1527021cb60
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 11 02:50:03 2021 +0200

    README.effects: Improve documentation of Building|Unit_Build|Buy_Cost_Pct

    See hrm Feature #768140

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 443c1864b3245ac72e327861ec5daf33a709f996
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 18 15:02:29 2021 +0200

    gtk3x: Replace gtk_widget_new() call

    It's going away in gtk-3.99.2

    See osdn #43417

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6652195165fe59a6ef94cc3f9fe9d81f805c8e66
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 9 03:49:59 2021 +0200

    Autotools: Add configure check for printf() format specifier for size_t

    See osdn #43357

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 62a05ea28357355e6e95c232ba30af11420744f2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 11 01:40:34 2021 +0200

    Lua give_bulbs(): Fix sending updated info to clients

    Reported by Lexxie

    See osdn #43378

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 478d511dd9963c98a11a4a51334f623854c94ab1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 20 17:06:51 2021 +0200

    Fix compile when libzstd is available, but liblzma is not

    See osdn #43440

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9c1282f2bc9b75abf49c027348fbf2c9a48ec18a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 13 06:26:25 2021 +0200

    settings.c: Move settings.h include to separate group

    See osdn #43393

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b8b653bd8d911aecdb071947a77e88cc9ed48597
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 10 19:04:36 2021 +0200

    Ruledit: Enable Effects button for techs in regular build

    See osdn #43369

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 55e780f798c4e684f5368e6c487e947bc6c55221
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 18 14:27:31 2021 +0200

    gtk3x: Replace GtkRadioButtons

    They go away in gtk-3.99.1.

    See osdn #43416

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b5e7d99bdb6f75f1c023fc6c1fce2c809f1a0fc0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 18 14:34:53 2021 +0200

    Set gtk3x-client to use gtk-3.99.1

    See osdn #43070

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d4876980b84496c13e16cf51a940b782195cb135
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 4 12:30:51 2021 +0200

    Prevent multiple gov changes after a single anarchy with "RandQuick"

    If revolentype is "RandQuick", switching governments for free after
    anarchy period of any length is an exploit. Prevent it, like
    we already did for "Quickening".

    Reported by Jacob Nevins

    See osdn #43334

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eccb3d3478acc20b434ca5cbe028f15804c2913d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 7 06:00:51 2021 +0200

    Nations: Remove references to non-existent alt flag art

    Reported by frank e

    See hrm Feature #707579

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 81d801486664c4bebdbf5ebe7dd0be8a58b58dba
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 14 06:20:27 2021 +0200

    CI: Update msys2 runner to windows-2022

    See osdn #43363

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6388541580d6a4cc0b67d56fd73bc383b5476491
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 12 15:57:19 2021 +0200

    gtk3x: Drop gtk < 3.98.4 compatibility code

    See osdn #43396

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6b43491545737192f0f58f3d11bf0a4abe89f742
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 8 19:16:16 2021 +0200

    Replace AC_C_VARARRAYS use with reintroduced FC_C99_VARIABLE_ARRAYS

    AC_C_VARARRAYS is too strict about full compliance, when freeciv
    build requires only some compliance. This broke e.g. build with tcc.
    In S2_6 and earlier branches, our own AC_C99_VARIABLE_ARRAYS did
    just the correct checks for freeciv build.
    Reintroduce our own macro, now named as FC_C99_VARIABLE_ARRAYS,
    and use it instead of AC_C_VARARRAYS.

    See osdn #43352

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 090be263990540dbfd502b28a355f5fc35c98d6d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 7 04:22:45 2021 +0200

    Lua: Add support for creating featured text links

    See osdn #43343

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8584b7c967fdac6f51780ce97f36c4dfa9b4a5c8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 19 09:33:23 2021 +0200

    Bump version number to 3.0.93.15-alpha2+

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 81b673015ea49fe42df05b44509497fc77fd1292
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 19 09:33:04 2021 +0200

    Set version number to 3.0.93.14-alpha2

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5da011c998223c6fea3c431ce81106a3159aec57
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 4 12:56:31 2021 +0200

    Never double sell a unit for balancing budget

    In case of unit being sold from within recursive transports, it
    was not removed from the main list of sellable units. Thus it was
    possible that it ended as the one to sell again.

    See hrm Bug #853295

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4b36c0212cb7eb58e42944d13e5894896722d02e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 5 07:00:13 2021 +0200

    Tell that combat_odds_scaled_veterancy affects both regular and diplomat combat

    Improve combat_odds_scaled_veterancy documentation.

    See osdn #43295

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 11bf7b350b08b1c420862444f6cbcdcf06192c4c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 8 06:27:20 2021 +0200

    gtk3x: Replace gdk_device_get_state() call

    gtk-3.99.0 drops the function.

    See osdn #43312

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5c513f987db21b44459e6da8a62e7e6992a6d4b0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 8 06:11:03 2021 +0200

    CI: Configure jobs that won't work with Qt6 with --with-qt5

    See osdn #43347

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eb19519de0f19001fe80a2ce7e941d230592c3eb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 4 11:21:09 2021 +0200

    Meson: Look functions from ws2_32.dll on Windows

    See osdn #43320

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 282d1f9f7bff07cd77cf1d8ff0e245cd276a83d0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 10 02:03:57 2021 +0200

    CI: Make MacOS build with --enable-debug

    See osdn #43360

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5cfc033dbc7c3cc3eee9915bdedb0840a6d0d79c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 12 04:31:35 2021 +0200

    AI: Allow changing government when revolentype is "Quickening"

    See osdn #43392

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 97291f014b98b34126ab6e50b3134361e0c6079a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 4 23:13:25 2021 +0200

    gtk3x: Replace gdk_display_get_monitor() call

    It's gone away in gtk-3.98.4.

    See osdn #43306

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8571ce5cba5f8da2fe43e74d5607bbdb3c0487b0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 4 23:12:43 2021 +0200

    Set gtk3x-client to use gtk-3.98.4

    See osdn #43307

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b395c6b9192aa11c817f0ffcdb57b00357918a46
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 3 06:08:24 2021 +0200

    Update maybe_become_veteran_real() function header

    See osdn #43008

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 17fbba72c765356c55e82f879912511b17f49765
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 10 01:36:32 2021 +0200

    qt6.m4: Automatically search 'moc' from /usr/lib/qt6/[libexec/]

    See osdn #43331

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 48904557e5135caa1355047062917bc0a9795720
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 9 19:04:52 2021 +0200

    CI: Update MacOS runner to macos-11

    See osdn #43361

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2612121d42cbf9467a7a1ea8d16b7120be409137
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 27 07:55:49 2021 +0200

    Meson: Move Windows specific setup before searching functions

    We need to have things set up correctly for Windows already when
    searching for the functions there.
    This initial patch to just move the Windows specific block alone
    does not achieve much. We will also need to add more
    functionality to it.

    See osdn #43270

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bbc528c219c3664bc74dd50717dfefb70d9eb6d3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 27 07:07:55 2021 +0200

    Lua: Add action_finished_... signals

    Requested by Alexandro Ignatiev

    See hrm Feature #817749

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b19c266ee3cf5605abd0280880c4189498381bdb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 4 07:48:07 2021 +0200

    gtk3x: Replace gtk_widget_destroy() calls

    It's going away in gtk-3.98.4

    See osdn #43330

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d3176e61688c01eac167a30d91ee3485c753b393
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 3 05:53:26 2021 +0200

    Speak of "supplies" instead of "fuel" in Coast unit loss message

    See osdn #43318

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 967dd7926b9a7eba88b89437e0d25474ec49009c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 30 16:24:33 2021 +0200

    Finish "FirePower1" to "LowFirepower" rename

    Some of the documentation still referred to LowFirepower combat bonus
    by its old name, as well as a variable name in AI code.
    These had been missed because of their different capitalization.
    This also fixes that issue as they end with standard capitalization
    of "LowFirepower" bonus.

    See osdn #43297

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 75fa080350d330eb0a0d7cc6d496cf63f62b0931
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 9 02:49:45 2021 +0200

    CI: Update setup-msys2 to version 2.7.0

    See osdn #43356

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 717538d50030c5bff399c346cc09dd2e937c70a2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 9 20:38:14 2021 +0200

    Drop third parameter from FC_QT6_IF_QT6_MOC

    It was never used, and seemed to cause problems with some older
    autoconf versions.

    See osdn #43366

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ef9ee16ee4afae41f21512152e48ba97b87ba84f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 1 00:21:41 2021 +0200

    Lua: Add government information to Player object

    Requested by Lexxie

    See osdn #43294

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7c21f68c059de4f30987d40150de53bfc1e1ef8f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 11 20:10:32 2021 +0200

    Comment typofix: "happyness" -> "happiness"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4e27e1396f29102ed9a2569efc2dc47541087b58
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 8 17:44:44 2021 +0200

    Qt6: Fix enterEvent() parameter type

    See osdn #43350

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 42f01b0fdbe4029a58c2dd51fba9ce39701a0b04
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 8 18:01:59 2021 +0200

    README.effects: Correct name of Have_Contacts effect

    Reported by ddeanbrown

    See osdn #43349

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d0a8504586758ff62546250f04fdb49e8edab649
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 11 07:11:37 2021 +0200

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0954e052d76e8652f506b7054cd2a56dc742ba09
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 24 04:36:29 2021 +0200

    Add tileset specified stack size sprite offsets

    See osdn #43191

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ae313395735fd08a492c069e146b6de81c54657c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 3 06:00:08 2021 +0200

    gtk3x: Drop explicit widget destroy for toplevel_tabs

    They get destroyed anyway as part of the main window.
    Getting rid of gtk_widget_destroy() call is necessary as
    gtk-3.98.4 drops it.

    See osdn #43310

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e2967752256554c78ea32e93437d5843815663f2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 10 14:10:22 2021 +0200

    FAQ: Update latest stable version number to 2.6.6

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d74e79bb85211edc446316f2b7e102365ff178c0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 25 17:05:34 2021 +0200

    Meson: Fix syntax in cross-properties handling

    See osdn #43276

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 37a9dd91ce12a63463dd4b12f29d1517ec223a02
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 10 04:21:00 2021 +0200

    Comment typofix: "avaialable" -> "available"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e4c20577d71b2c56ce30e8bfa263cec4a9dfb8de
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 30 21:34:45 2021 +0200

    Add "NonNatBombardTgt" unit class flag

    Use it to fix the issue of attacks by Ships against Helicopters counted
    as land bombardment when initiated from a city.

    Reported by log65536

    See osdn #43255

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit be5fbc8bab42adc2595ccb64057e38e4c1275e18
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 1 19:18:43 2021 +0200

    gtk3x: Replace gtk_container_get_children() calls

    gtk_container_get_children() goes away in gtk-3.98.4. Replace its
    uses in gtk3x-client with modern constructs.

    See osdn #43305

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1fb2a8addd34203dbd76ef86cf6ab535f9ccda1a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 1 17:43:30 2021 +0200

    fcmp gtk4: Set transient parent for quit dialog

    See osdn #43248

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit daff8f3e4b906ac73b5e63d275de7f43f70cd3b6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 9 05:01:46 2021 +0200

    Bump version number to 3.0.93.13-alpha1+

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f2c07a37713e35e0520d593f7c74d058cb63a5b7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 9 01:52:30 2021 +0200

    Cast zstd error value to match printf format specifier used

    There's no single printf format specifier that would match
    the type in all environments. "%zu" would be the one with
    compilers that support it, but not all compilers we use do
    (notably it does not work on msys2)

    See osdn #43355

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d9a4cfe6986d42fa83b50add01ab90a68edf54a0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 22 02:21:57 2021 +0200

    Add zstd savegame compression support

    See hrm Feature #852626

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f690873d22df6e31ef82a505ed4674ec0651d7ef
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 8 23:32:46 2021 +0200

    Update Spanish translation by Jordi Negrevernis i Font.

    msgmerged from S2_6 21e304b5ac

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a6b7aa798954e36ae43332c86d55da3ac5edec61
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 1 17:10:52 2021 +0200

    gtk3x: Correct gtk_window_destroy(toplevel) casting

    See osdn #43308

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 359dcf29da5ef393b333cb23262f492525972d32
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 24 16:48:10 2021 +0200

    Meson: Fix nls-enabled build for Windows

    See osdn #43269

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit df0f36b8f59d3abe96e431bc8a983730aed71b80
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 20 12:54:01 2021 +0200

    Add unit stack size display for gtk-clients

    See osdn #43249

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eacb704415d5281671e79cd556d6adc932157643
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 27 18:50:29 2021 +0200

    gtk3x: Fix GTK_BOX() casts in move_from_container_to_container()

    See osdn #43289

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ac491aea3cced64b8d464ea9f193aebfd203145e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 1 16:35:33 2021 +0200

    Antarctica: Set antarctica_alt as alternative flag art

    See osdn #43303

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c2f96daf36083deaee633b3ad38df219a15ac380
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 27 16:36:27 2021 +0200

    gtk3x: Replace gtk_paned_pack[12]() calls

    gtk-3.98.4 drops gtk_paned_pack1() and gtk_paned_pack2().
    Use gtk_paned_set_start_child() and gtk_paned_set_end_child()
    in gtk3x-client code instead.

    See osdn #43288

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3aba929cff9d52b3be1e94d08269d374e3e479ca
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Mon Dec 6 06:16:03 2021 +0500

    Update for Russian translation.

commit 002f21dfc7fd47201b4a13a27d18f2c56436cfb3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 1 00:00:28 2021 +0200

    set_socket_errno(): Handle WSAEADDRNOTAVAIL

    See osdn #42046

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f8f84c274d3ba2db63862ebadc427dfbf46448cd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 20 07:10:34 2021 +0200

    Make diplomat battle veterancy gaining respect combat_odds_scaled_veterancy

    See osdn #43185

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9dcc0a34a7ebc38aa45e63be178a08001052783f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 27 16:04:35 2021 +0200

    gtk3x: Replace gtk_bin_get_child() calls

    gtk_bin_get_child() goes away in gtk-3.98.4. Replace its
    uses in gtk3x-client with modern constructs.

    See osdn #43286

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 70c6dd449f47da4915f64c4336e104279cb87700
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 4 21:33:41 2021 +0200

    Update Spanish translation by Jordi Negrevernis i Font.

    msgmerged from S2_6 c354659393

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 90986108c1e7b39ba1993b11e9b065be1f8081d1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 30 16:06:13 2021 +0200

    helpdata.txt: Stress that the combat chapter match classic ruleset

    It's not entirely correct for the default ruleset, civ2civ3.
    This note about the situation is meant as a temporary solution
    until we get the chapter updated to match civ2civ3.

    Reported by log65536

    See osdn #43298

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6f4d2a967a187b43ab109bb6647516d97935ca7a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 4 06:17:07 2021 +0200

    Update Polish translation by Hubert Kowalewski

    msgmerged from S3_0 bc348bd6b2

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 98f42f1f29c3b2e99bcce33aa221bcba97c2f968
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 27 15:10:09 2021 +0200

    gtk3x: Replace gtk_widget_destroyed() uses with new widget_destroyed()

    gtk-3.98.4 drops gtk_widget_destroyed(). Implement and use our
    own widget_destroyed() instead.

    See osdn #43285

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 89cff322fd667b85824ddb9d867921f6ea466c14
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 25 05:30:57 2021 +0200

    Disallow bombarding when the target tile is known not to have affected units

    Requested by Alexandro Ignatiev

    See hrm Bug #848555

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6cb71564b5b39988e82fbe136cdfbc727dcc3ff8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 20 05:29:31 2021 +0200

    Make unit stack size display configurable

    See osdn #43190

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 832a305cfe38bdd2820074394cfdba18719c0b14
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 3 08:53:54 2021 +0200

    Comment typofix: "argumen" -> "argument"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 243f6d6d74f401ea2c13df4d164ab91f91220e6f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 27 14:30:45 2021 +0200

    gtk3x: Avoid calling gtk_dialog_run() by introducing blocking_dialog()

    gtk_dialog_run() is going away in gtk-3.98.4. Introduce our
    own blocking_dialog() for cases where we need the blocking.
    Here we blindly replace all the existing gtk_dialog_run() uses with
    blocking_dialog(), without considering if the blocking behavior
    is really right thing to do in each case.

    See osdn #43284

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a2c5e73f045ae1ef4d4cfc7430f87bdb1843e3c1
Author: kijima <norimaking777@gmail.com>
Date:   Tue Nov 30 07:06:05 2021 +0900

    Fix comment typo "accross" -> "across"

    See osdn #43296

commit 828b7ef0b0ff0934890aae88dd4280b1141286f6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 28 00:11:28 2021 +0200

    fcmp gtk4: Allow opening new quit dialog after destruction of previous

    See osdn #43073

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4d8bc3fdd6ee7ccdd00dcd1d280bc86f4fc08509
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 23 05:16:05 2021 +0200

    gtk3x: Avoid gtk_widget_destroy() on removal of cma shell

    See osdn #43263

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7a5c186fc69d799840b6498fcc11ea725a52aebb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 25 16:05:56 2021 +0200

    Fix erroneous message about obsolete build target after it has been updated

    Reported and original patch by Ilkka Virta

    See hrm Bug #921933

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 33adcad07e69a0213dc2249c77601f18ffe80183
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 15 06:32:41 2021 +0200

    Nations: Replace translation domain definition "freeciv" with "freeciv-core"

    This makes it to match the actual translation domain the translations
    are from.

    See osdn #42111

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0ac2adf53a7287a6dfb04018cc01212fd4446b45
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 23 18:21:42 2021 +0200

    Meson: Fix build from release tarball

    Don't try to install files that are not part of the tarball.

    See osdn #43267

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d4a7a2e50417eca51c0ef400b904349f2a3ea0c3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 19 15:28:52 2021 +0200

    gtk: Drop unused buy_shell, rename_input from struct city_dialog

    See osdn #43239

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit af608b394e78e55ba76f94d4db8724b7b7057eeb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 24 03:33:22 2021 +0200

    Drop unused last_turns_shield_surplus from edit_city packet

    Reported by ihnatus

    See osdn #43204

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 06043719ecf08f73af63088a3448bee058164c65
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 21 07:49:57 2021 +0200

    gtk3x: Replace gtk_container_add() calls with modern constructs

    gtk_container_add() is going away in gtk-3.98.4

    See osdn #43256

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e958085743e58c7b96188c960dee82929bec54a7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 22 17:21:55 2021 +0200

    gtk: Correct popup_musicset_suggestion_dialog() comment speaking of soundset

    See osdn #43213

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aca1acf52150f91d4879dd50582d308956d7da56
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 13 08:19:33 2021 +0200

    Enable combat_odds_scaled_veterancy in most supplied rulesets

    Enabled in civ2civ3, multiplayer, sandbox, experimental, alien,
               webperimental, granularity

    Not enabled in classic, stub, civ1, civ2

    See osdn #43203

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7fce0e3db57dc04c7ae2a0f82acf8b233c962c0c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 23 05:25:48 2021 +0200

    Update to crosser-2.2

    See osdn #43259

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 46e7992bdbe4b8bd0a88b1c970a5a387701d0fc6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 19 17:00:40 2021 +0200

    gtk: Unref ref protecting widgets from destruction in editinfobox_refresh()

    See osdn #43222

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8a15d92c971f9703dfd9de626b297c112c6b9e5c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 13 14:58:07 2021 +0200

    Rename ACTION_STARTED_... macros as ACTION_PERFORM_...

    See osdn #43207

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e5f8e1ae3e7cf1147e4eb0e19e6a34c477c32933
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Sat Jul 24 01:33:27 2021 +0300

    Lua: correct players_iterate() after a player was removed

    See hrm Bug #883551

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit 08786ad295e7b6bf2744cb4c8d50593109ce4def
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 20 04:44:21 2021 +0200

    gtk3x: Work around gtk_widget_destroy() in citydlg unit tables handling

    See osdn #43246

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 87474d7a80b3895132eb84619a392cf7bb5ee100
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 13 14:14:35 2021 +0200

    Use iterate_unit_list_safe() when going through units that may escape

    Unit may escape from the original tile & list in the middle
    of the iteration, so nonsafe iteration macro should not be used.
    Most likely consequence from the old use of nonsafe macro was
    that once one unit had escaped, further units were not considered
    for escaping.

    See osdn #43206

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b6907b23a53d8752e076ad4c54799c6063cfdd96
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 11 07:47:37 2021 +0200

    Lua: Add Player:give_bulbs() method

    Requested by ihnatus

    See osdn #42502

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit baedf64945cf7051642e6456af6b7f17342847d4
Author: JRo <jro@advops.com>
Date:   Wed Nov 24 19:15:14 2021 -0700

    Qt: Improve layouts

    - Tweak city dialog sizing
    - Correct goto dialog layout

    See hrm Bug #937959

commit e6a64bd3d71b84440d3d2526ca31adb18fd97eef
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 21 13:20:08 2021 +0200

    Msys2: Make sdl2-client installer to include gtk4 modpack installer

    See osdn #43193

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 691c9c278ef8a4001c6ddb37561b4d0de51e54b7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 26 14:40:30 2021 +0200

    Nations domain po-files: Correct typo in Marathi legend msg id

    Change msg id directly in the po-files, so that completely valid
    translations will not turn to fuzzy ones as a result of the fixed typo.

    See osdn #42609

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2e2bded2eb5fe51d61d469d87d1e55e3699bdecc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 15 00:32:19 2021 +0200

    Fix Marathi legend typo

    See osdn #42609

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4c642745942f90786d67ac1a44e0f5aa317bd7b3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 26 06:00:31 2021 +0200

    Update Polish translation by Hubert Kowalewski

    msgmerged from S3_0 8001d555dc

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 17be1472e91350dec7f2ddafd81cbdff2bf04009
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Fri Nov 26 00:40:50 2021 +0100

    Updated French translations

commit 2168dcd3b057c99461baf5f42b95010ab1c6eeaa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 16 17:46:30 2021 +0200

    gtk3x: Make gui_dialog_add_(action_)widget() to work without gtk_container_add()

    gtk_container_add() is going away in gtk-3.98.4

    - Rename gui_dialog_add_widget() as gui_dialog_add_action_widget()
      for consistency with gui_dialog_add_content_widget()
    - Always use gui_dialog_add_action_widget() when applicable

    See osdn #43227

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 149a62b39e4898a9fda698f4fb7cb9fc5e297955
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 13 10:09:31 2021 +0200

    Make shield_stock given in editor to stick over production change

    Changing the production back and forth was causing the stock to
    get to the value it had before editing, not to the value it
    had after the editing (but before it was changed the first time)

    Reported by ihnatus

    See osdn #42685

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4e90a3c73f3425e630586a535c3e194062195e95
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 13 09:30:59 2021 +0200

    Rename "Firepower1" combat bonus as "LowFirepower"

    This prepares us to having the actual firepower value being
    something else than 1.

    See osdn #43075

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9b6cc653b4d7bd461a0748f6f2b5b547c57b171a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 20 03:04:59 2021 +0200

    CI: Add gtk4 package to msys2 environment

    See osdn #43243

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4dac88fb90fd8d212fc53b8585abfec74dbc3a8a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 10 02:44:30 2021 +0200

    README.scenarios: Discourage disabling lake_flooding

    See osdn #43182

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b7b57442616eb96abbcf83397c0d8c09c1377cd7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 7 01:50:33 2021 +0200

    Remove accidental dot from "Cultivate. Rslt/Time" string

    See osdn #43172

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cb2c876629392c2e4c622d6aa259d8ff82d075b7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 16 17:17:19 2021 +0200

    gtk3x: Fix adding widgets to horizontal gui_dialog

    Rename variables and functions to agnostic to orientation.

    See osdn #43225

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c0b461157e800dfea201e2edc81ca77b976431e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 14 02:29:29 2021 +0200

    fcmp gtk: Free gtk objects when quitting

    gtk4: Free GtkApplication
    gtk3: Free main window

    See osdn #43074

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e02da4ab6975aad9dc3057d7b0e3c2c141b04b89
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 10 05:52:23 2021 +0200

    Add support for combat veterancy chance being relative to the challenge

    Controlled by a new ruleset setting combat_odds_scaled_veterancy,
    defaulting to FALSE. Also left to FALSE for all supplied rulesets
    in this initial commit.

    Requested by Corbeau

    See hrm #804347

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2db6f341164a7230c6fd4dd589763a34eb37c667
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 16 03:31:52 2021 +0200

    Update msys2 environment to 211115 level

    - Include gtk4

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ffbb1ceaf75e886e5700c217ce0edcbc41233438
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 8 01:06:32 2021 +0200

    Consider it land bombardment when a ship attacks from a city to land

    Reported by log65536

    See osdn #42960

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 905aafd2e549e74565bd59b3e8490a8d7f0d8287
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 22 06:22:34 2021 +0200

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b57f6fe27942e53f2a7f886095f42d1f7097bf23
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 16 05:34:06 2021 +0200

    gtk3x: Rework to get rid of gtk_container_remove() calls

    gtk-3.98.4 drops gtk_container_remove()

    See osdn #43223

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 462d63e6a08e0d1e935e70661b472099c6c29367
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 10 01:04:18 2021 +0200

    Be consistent about tile "unit escaped" message get send from

    Send the message from the tile originally defended, never
    from some of the tiles one of the units escaped to.

    See osdn #43099

commit 98758b295d7f3972397a5990eb9dd31729e21fba
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 3 17:08:57 2021 +0200

    Meson: Make single check for libm

    Find libm just once and assign the result to a variable that is
    then used instead of separate find in every place it's needed.

    See osdn #43157

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 96294593995b7aecc291ceb2078f9d882debbcd6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 14 00:29:43 2021 +0200

    gtk3x: Rework chatline.c to work without GtkContainer

    See osdn #43214

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ea5cd4ce679e38a6a5a00bb4e929132f0a17e345
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 22 06:01:31 2021 +0300

    Qt plr_report::update_report(): Update number of rows as the first action

    Make sure the number of rows is correct, for example after civil war,
    before we may trigger automatic sorting of the model.

    Reported by chippo

    See osdn #42545

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit afc7ec3f2319287640816515c4cbf95da8fecce9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 20 12:35:43 2021 +0200

    Comment typofix: "cavas" -> "canvas"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 88925d8344c1efda0edbf4e2fde21949fafb147a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 13 23:42:39 2021 +0200

    gtk3x: Add choice_dialog_destroy()

    It's based on gtk_window_destroy() Use it where appropriate, instead of
    old gtk_widget_destroy() that goes away in gtk-3.98.4.

    See osdn #43212

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 392791648e38ae5b574a4f99ad4fcf14dd95045c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 8 01:18:55 2021 +0200

    README.packaging: List 'various tools' as libfreeciv users

    See osdn #42925

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 28f7cf9d08b2ad86f1394fdfd0de13e6984fc79d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 19 05:01:49 2021 +0200

    Fix gtk3-client build

    See osdn #43237

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e001a8e245f6812e95407fa38a4ce8eba1f5b2dd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 10 19:36:22 2021 +0200

    Qt: Add unit stack size display

    Based on patch by John Robertson

    See hrm #911906

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 939bbd4f662fcacaa7723d72d1333e02f6b3a8f0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 7 23:08:40 2021 +0200

    Fix assert failure when client is handling dead player's research

    See osdn #42988

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7ff41272aafbfd5e154cd234bfae7c4e69cde540
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 13 22:53:19 2021 +0200

    gtk3x: Add help_vgrid support functions

    These reduce use of gtk_container_add() that is going to be dropped
    from gtk-3.98.4.

    See osdn #43211

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 20a233a83561986b36406341a9155c0d822d1eb4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 11 04:15:35 2021 +0200

    Make GAMEOVER autosave in the end of all-AI autogame

    Reported by alain_bkr

    See osdn #42172

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 971edfa87d16a4ca9064e8e6905ec8f9a67bc90c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 14 13:16:23 2021 +0200

    AI: Support sea moving caravans.

    Patch by Ihnatus, with changes by me

    See osdn #42567

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 31f0913b8dcb7323cc3e446c413e9233337ed38c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 13 22:19:35 2021 +0200

    gtk3x: Add gui_dialog_vgrid_add()

    Use it instead of gtk_container_add() to add widgets to gui_dialog.
    It's implemented using gtk_grid_attach() instead of the gtk_container_add()
    that's going to be dropped from gtk-3.98.4

    See osdn #43210

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6cf6ef031c92e120246902a957775662b43195c1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 3 01:25:50 2021 +0200

    civ1: Drop DamageSlows flag from all unit classes

    As civ1 units are either in full health or dead, there is no
    point in having DamageSlows flag for any of them.

    Reported by nef

    See osdn #43040

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 79ec1dbac5b37fdd64859721202c2e8f2e0c02bf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 7 23:18:06 2021 +0200

    Improve --enable-ruledit help

    See osdn #41958

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8ad65a218a004beac89909e22728bb3d7a83d10f
Author: MarkusVolk <f_l_k@t-online.de>
Date:   Fri Nov 12 05:28:24 2021 +0100

    meson.build: install rest of the tilesets and scenarios

    See osdn #43199

    Signed-off-by: MarkusVolk <f_l_k@t-online.de>

commit 45c9da83c67eda3c30984346c2a4850027f27105
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 14 17:16:47 2021 +0200

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a3534ab20322552ed94d0d63e3cd3055a2c29e26
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 10 17:34:19 2021 +0200

    gtk3x: Replace gtk_container_add() used for dialog content areas

    gtk-3.98.4 drops gtk_container_add(). Reduce its use by using
    gtk_box_append() in cases where we want to add to dialog content area.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6afa2f3e3a49ec5a2b907e01d0c728038d5720e2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 10 16:08:58 2021 +0200

    fcmp gtk3: Quit by exiting gtk main loop

    Return cleanly out of main loop and via the end of main() function.
    It used to exit() from inside the main loop.

    See osdn #43187

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7215edb79335993b6d991cc28b01863d66898eb1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 14 04:22:57 2021 +0200

    Bump version number to 3.0.93.12-alpha1+

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 419d16a933006c86a0225d24e270b3cd0ab44196
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 11 06:34:21 2021 +0200

    Add man page link for freeciv-mp-gtk4

    Patch by Jim DeLaHunt and myself

    See osdn #42196

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8a829b229cb0942a717e0347d87a1e4c80059597
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 23 06:19:23 2021 +0300

    civ2civ3/sandbox: Enable only_real_fight_makes_veteran

    Killing defenseless units will not grant veterancy any more.

    See osdn #43101

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c22eedd404bd9e9e10f4768546f43b2e47ba7c2c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 8 02:50:29 2021 +0200

    Rename 'move_is_blocked_by' as 'move_blocked_by'

    Same for move_2_is_blocked_by and move_3_is_blocked_by.
    This is consistent naming with other _blocked_by variables

    See osdn #41857

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 366b08423026be0ce86ba62ba1e6c92991d41c5e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 3 17:38:24 2021 +0200

    Rulesave: Save goods_selection value

    See osdn #43158

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5d84f65ee58cc9d054721ba2b0e3357fa0251854
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 20 22:52:01 2021 +0300

    fcmp: Fix bogus error message about failed sql query

    See hrm Bug #738891

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ffe9dec625e83024c5b4a70ef0d2b35b4854a48c
Author: Hilde Iren Lagnason Bye <lagnason@hotmail.com>
Date:   Sun Nov 7 18:33:41 2021 +0100

    Check effect value known for the correct player.

    Make action_prob_pre_action_dice_roll() check if the dice roll odds are
    known for act_player. tgt_player is just the other party for local DiplRel
    requirements.

    Reported by Marko Lindquist

    See osdn #43169

commit b638e972e1025d221ceffa8e0524f06b1d201e97
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 6 08:55:41 2021 +0200

    gtk3x: Add rally point dialog

    See osdn #43167

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4677255ba135d905425535617196e8908f437876
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 3 07:44:18 2021 +0200

    Correct iterate_effect_cache() function header

    See osdn #43087

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0296fa467a5abdd94f545a7765ed8f7d0cd10891
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 18 02:19:31 2021 +0300

    Lua: Add City:create_building() and City:remove_building() methods

    Requested by Alina L.

    See hrm Feature #695117

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3c7f65af4a44611cd7237f532ff34d1fb724dbcf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 11 07:51:51 2021 +0200

    Comment typofix: "checvk" -> "check"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a57319908cdd02541d5567787c990bf01f69408c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 8 05:46:26 2021 +0200

    CI: Update setup-msys2 to version 2.6.1

    See osdn #43177

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2e5d11bbeb3dab37d05cdd05bb13742f68921e59
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 4 18:46:50 2021 +0200

    Save information if player has gained tech under multiresearch to savegame

    Lack of that information caused player to lose bulbs when switching
    research

    Reported by Lexxie

    See osdn #43161

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 146f80d36eed41c16ac0dd2376270d5a554ce04f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 11 19:42:31 2021 +0300

    Never reveal the tile in send_city_info_at_tile()

    Callers that want that the tile gets revealed before it's sent
    should do the reveal themselves. The way send_city_info_at_tile()
    sometimes was revealing the tile was inconsistent and lead to bugs.

    See osdn #42967

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1a2164310ed3f9efa8d39b98364484169ef5914b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 2 07:20:50 2021 +0200

    hexemplio: Add user.infratile sprite

    Art by Canik

    See osdn #43151

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5fe1a1f3f6d7a91b8f8fc88417519d3fa8d0c207
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 31 14:50:51 2021 +0200

    features.m4: Suggest installing SDL2_mixer, not SDL_mixer

    See osdn #42877

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7913104815801503768fc83ca480a1400d4246bf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 23 05:33:30 2021 +0300

    Ruledit: Add building genus editing support

    See osdn #43102

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5b3fc18ac847eb1d6128199edac723bacf6b3c02
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 8 00:18:14 2021 +0200

    Scale bombard rate down by bombarder's damage

    This is ruleset controlled. The old hardcoded behavior is
    still available, but the new behavior is the default.
    The old behavior is kept when loading 3.0 ruleset in
    compatibility mode.

    Requested by Alexandro Ignatiev

    See hrm Feature #821129

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e4e842d8b2ce515c9ed27b8633fdf9c5868423ad
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 8 03:37:20 2021 +0200

    Update Finnish translation of the ruledit domain

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ea7143de7bf18257422ade998fc56b1ace77e056
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 30 14:41:44 2021 +0300

    Qt: Allow adjusting leader of the nation player has already selected

    In the pregame nation selection it was impossible to reselect
    the same nation one had already.

    See osdn #43024

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d8a0686e0721c0afac0823f8461c2f34ada54c4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 20 05:22:13 2021 +0300

    civ1: Remove infra from city center tile when city destroyed

    Based on lua script by nef

    Requested by nef

    See osdn #43039

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3fcef77874261a84e3d03bab42438b25d3965577
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 15 18:36:22 2021 +0300

    gtk3.22: Add rally point dialog

    See osdn #43030

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d85e69cdefc3105ee8d9c14fb7b95e87daab3622
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 6 21:51:45 2021 +0200

    Comment typofix: "tookit" -> "toolkit"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0b4f1148053bc3d174cf884c15ab23c220e3fc33
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 30 14:27:53 2021 +0300

    Meson: Make single check for libsqlite3

    Check existence of libsqlite3 just once and assign the result to
    a variable that is then used instead of separate checks in
    every place it's needed.

    See osdn #43045

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6c0208a3da26b29f3cc1a84f8e6c5701714bfe49
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 19 01:05:15 2021 +0300

    README.actions: Correct UI names of a couple of actions

    Reported by ddeanbrown

    See osdn #43065

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9ed97c6454fa316cab4d4d89ed0773a7844b8cc2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 27 15:44:03 2021 +0300

    Rulesave: Add nations.ruleset ruledit section comment

    See osdn #42891

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f43678f84bbbc92caefcbb548913372d5570a88e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 23 05:17:20 2021 +0300

    sdl2: Correct popup_unit_info() function header

    See osdn #42568

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b1ed8743c98bc1fbe11236a4095a2c7d5617e0d1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 16 03:27:13 2021 +0300

    Set gamesetdef also when loading savegame with gamestart_valid = FALSE

    See osdn #43050

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2420e4098aa4ed2ae8f78203eb4d9c120af806c5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 23 05:51:44 2021 +0300

    gtk3x: Stop calling gtk_frame_set_shadow_type()

    See osdn #43104

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 06fbf45aa7fcf8772ae090dffa2081a7a4805f2b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 17 17:02:29 2021 +0300

    Capitalize 'U' in internal names of StartUnit unit type flags

    This makes them consistent with what is used and documented
    in supplied rulesets.

    Reported by ddeanbrown

    See osdn #43001

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 122bfa2729a65c369e07d45a95f1cb1f5383b188
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 22 03:26:45 2021 +0300

    gtk3x: Avoid gtk_button_set_relief() calls

    Replace them with gtk_button_set_has_frame()

    See osdn #43096

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9a1f85e4a8fb7f923800ff30079feba76a15d1b7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 17 16:29:31 2021 +0300

    Add -Wimplicit-fallthrough to --enable-debug=checks

    See hrm Feature #852929

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e8d18396fbc1ad10a46f9a697e433a271e159f7d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 21 04:00:49 2021 +0300

    gtk3x: Stop calling gtk_container_set_focus_[hv]adjustment()

    See osdn #43088

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2b81a23f2ec31ef73382364048a77b93881cb649
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 16 15:58:57 2021 +0300

    Fix traderoute_packet_list leak from broadcast_city_info()

    See osdn #43054

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b22f4539fe2476e35d6fd875222580b22ebde25b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 20 17:21:32 2021 +0300

    gtk3x: Drop gtk-3.96 compatibility code

    See osdn #43082

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 20c090d4792135f8e4fbf464e87036cee2a9b424
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 20 19:35:15 2021 +0300

    Tell which building was the problematic one in ruleset sanity checks

    See osdn #42995

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4fea9d1b80b6b8bde455c244cec2f3c10a529388
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 20 04:35:33 2021 +0300

    gtk3: Add Wonder List Intelligence Dialog

    Ported from gtk3.22-client

    See osdn #43080

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 868737b902657a156b36d0ffb7fa790bde16738a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 20 02:04:06 2021 +0300

    gtk: Destroy toplevel window on quit

    See osdn #43072

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5004ce2fa8669240e33fce30a0245917180cf4b1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 14 01:20:34 2021 +0300

    Set default range of Good requirement to a valid one

    Reported by ihnatus

    See osdn #42989

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c5c382557eaca94e9da828a45925b7c665333b59
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 22 02:23:06 2021 +0300

    Add only_real_fight_makes_veteran ruleset setting

    Requested by bard

    See osdn #43009

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1f17f12df5f57ff6819f89c6c9e4e5516c7b506c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 13 17:24:31 2021 +0300

    Improve help of techleak server setting

    Requested by Nate Martin (vodot)

    See hrm Bug #764909

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5d37fd58f9304f484056daccc6f38010d6a18e53
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 19 19:36:31 2021 +0300

    gtk3x: Replace GDK_MOD1_MASK with GDK_ALT_MASK

    It's renamed in gtk-3.98.3

    See osdn #43078

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bb74222dc9e97b4928884e27df9c70270749f4a9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 11 05:20:35 2021 +0300

    Mention ruleup in nations.ruleset [ruledit] section documentation

    See osdn #42894

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e579e6ec5f359ff430226b06881e61abe773ed6b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Oct 23 20:10:28 2021 +0200

    sandbox: demonstrate variable city radius.

    Introduce the Space Elevator small wonder and the Space Elevator Tether.
    A city with a Space Elevator or a Space Elevator Tether gets expanded city
    radius, expanded vision radius, more trade and additional trade route slots.
    The down side is that it works only until you end up at war with someone.
    A city on the same continent as a player's Space Elevator can build a Space
    Elevator Tether.

    See osdn #43128

commit 6127db009e57f5b908cdc83a80a96000014683bb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 9 10:14:34 2021 +0300

    Granularity: Add act_gfx_alt "unit.cultivate" for irrigation extra

    See osdn #43004

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 86f7105117d3d32865c3043f5b75ba16e5cd0b72
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 16 02:58:28 2021 +0300

    Remove mentions of ancient 'gui-mui' from comments

    See osdn #42931

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 10ab54e1993374754d15f20bfbf019233195ee87
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 14 03:44:09 2021 +0300

    gtk3.22: Set title for Wonder List Intelligence Dialog

    See osdn #43043

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b33a095fabd3bde2c533d64dbc189e8e4aff7ca6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 9 10:04:26 2021 +0300

    Add user.infratile sprite for amplio2 and amplio

    Art by Canik

    See osdn #43003

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 35ca5d41dd21403269a2e6634ca0f0ec3e5b2acf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 10 22:36:58 2021 +0300

    Qt: Do not ignore sex user has explicitly selected for leader

    Toggling leader sex did not have any effect, sex was selected only
    when one took predefined leader from the list.

    See osdn #42964

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7b3cd322b9f392d3645e00dcf9f8276dcfa55a78
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 19 19:21:22 2021 +0300

    gtk3x: Avoid gtk_scrolled_window_set_shadow_type() calls

    Replace them with gtk_scrolled_window_set_has_frame()

    See osdn #43077

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b29a6bdb75691126ddda2c298cfe874316d5ae43
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 10 05:23:21 2021 +0300

    Ruledit: Add unit type move rate editing

    See osdn #43016

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8fe47f03f256d527dd25e4605617d9f1ced65bbb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 3 00:50:09 2021 +0300

    default.lua: Add a chance that a map is found from a hut

    Add new event type E_HUT_MAP for the message when that happens

    Requested by ihnatus

    See osdn #42974

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit afa54ba05d203301c8405023d41c9026cf93e820
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 19 19:05:26 2021 +0300

    gtk: Drop obsolete toplevel_accel reference

    See osdn #43076

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 673f8314aec841b1ef5996f96bf8c6f6811e440a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 13 23:38:02 2021 +0300

    Civ1: Make all units to occupy tiles

    Reported by nef

    See osdn #42923

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8d39b58702e34decf0538110888b1c12a7189c58
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 9 07:30:07 2021 +0300

    Savecompat: Add setting gamesetdef values when updating from < 3.1

    See osdn #42985

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7f101a48761cd46445f24f0d93677533bf0db091
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 15 19:02:45 2021 +0300

    gtk4: Add Wonder List Intelligence Dialog

    Ported from gtk3.22-client

    See osdn #43036

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c314bc9992572fa64cb9ea06c438bd1c01d42e04
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 10 03:20:01 2021 +0300

    Correct dai_gov_value() comment

    The comment spoke of Tech instead of Government.

    See osdn #42867

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3856783e2064dd042596645a510605f14d83acdb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 20 03:53:26 2021 +0300

    Bump version number to 3.0.93.11-alpha1+

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 513c15eeec941dec3bf14452488d63673444749b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 3 01:17:23 2021 +0300

    Clear rally point on city transfer

    Reported by Lexxie

    See osdn #42906

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d0e75e0edd433da4fba34d384fabdfecfa056366
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 16 05:15:46 2021 +0300

    gtk3x: Replace GdkEventButton use with GtkGesture

    See osdn #43051

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0066d83bd288bbc01000ba5d08d0e65f05940641
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 16 05:14:54 2021 +0300

    gtk3x: Avoid gdk_event_get_click_count() calls

    See osdn #42328

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4ff1cc6ad784bbbe155900b849b5423e222fd446
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 16 05:13:37 2021 +0300

    Set gtk3x-client to use gtk-3.98

    See hrm Feature #890455

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 49da734e964a92001f5fa3645bbe235f1e907030
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 9 08:26:43 2021 +0300

    Sanity check that wonder upkeep is zero

    Reported by Lexxie

    See osdn #42994

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0e32002e1532f712561c833bc93807a01485e558
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 16 01:41:19 2021 +0300

    Rscompat: Divide requirements to actor and target ones in effect_to_enabler()

    See osdn #41972

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 903eeeface575e6cad07b1d04e88efaddd66c4e2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 15 17:09:06 2021 +0300

    CI: Update setup-msys2 to version 2.5.0

    See osdn #43046

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7185a00751f517c004c1595586f50f1165145e3b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 10 16:43:10 2021 +0300

    canada_old.svg: Fix inkscape error

    Inkscape said: "Canvas::on_idle: clean region is empty!"
    Also resized canvas to image size.

    This still leaves inkscape warning:
    "WARNING: unknown type: svg:foreignObject"

    See osdn #43021

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e6374cf0381c173fc7b1af7a6b353d447723ab0a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 10 08:03:34 2021 +0300

    Qt: Fix segfault when quitting from main menu without visiting game

    Writing shortcuts crashed if attempted before they had been even
    initialized. Now check if they are initialized, and don't even try
    to write them if they are not.

    See osdn #43019

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cbe93c8bc5840f8c390493e872d64e27ff02eacc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 3 00:31:23 2021 +0300

    Lua: Add Tile:show() and Tile:hide() methods

    Requested by ihnatus

    See osdn #42973

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4779c57d83d4cc32cc42088952b62c29cb105506
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 10 00:18:41 2021 +0300

    gtk4: Comment out all menu code

    See osdn #43013

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5f22dda55806ae263aa612010ad0fef07485f191
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 9 14:06:44 2021 +0300

    Multiplayer: Remove broken link from a buildings.ruleset comment

    It was pointing to old freeciv forums no longer existing.

    See osdn #42839

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 310d803a98c2fd2a353677fffe0965baae021428
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 11 23:09:48 2021 +0300

    gtk4: Port infradlg from gtk3.22-client

    See osdn #42982

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cc138faaa95d7360b3eec6f7d1da880dfeeb468e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 9 06:36:49 2021 +0300

    Take ANEK_ACT_NOT_ENOUGH_MONEY message reimplementation to use

    Two different implementations of this existed in the code,
    better one being dead code after a "break;"
    I assume this to be result of a failed attempt to replace the
    older implementation with it.
    Take the better implementation to use, and drop the older one.

    See osdn #42901

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b6d2a17690d8909ab50f77869c5340d459334539
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 16 04:21:58 2021 +0300

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 25d7899a0a73c555870048551a29b7f4600d606a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 2 20:25:20 2021 +0300

    Track defaultness of setting game-start values

    Make the "/reset game" to respect defaultness of the value in game start.

    Reported by Jacob Nevins

    See hrm Feature #692373

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6f895215b5075c8e14c209328b3894a54545fa43
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 12 17:45:29 2021 +0300

    rscompat: Set wonder upkeep to zero when loading 3.0 ruleset

    See osdn #43006

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9efb8709066d2907be5fa972cff19e82421fbacb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 2 06:25:07 2021 +0300

    cma_get_parameter(): Check attribute format version, don't assert() it

    See osdn #42898

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dd0e0d19036f64d9c8ad2fc4a1ef64b68da88122
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 11 17:50:22 2021 +0300

    gtk4: Clean out trailing spaces

    See osdn #43028

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 70c5ee55d190ad20ce30193d0b94895ab598cf30
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 2 22:07:37 2021 +0300

    gtk3.22: Add Wonders list intelligence dialog

    Based on a patch by Ilkka Virta

    Requested by Alexandro Ignatiev

    See hrm Bug #883354

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4c92a22447c9ae1279767ebf8516a07e46c33ddb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 10 07:41:14 2021 +0300

    Qt: Do not reopen quit dialog when client is already set to really quit

    See osdn #41675

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7bf1388d9607b8b3f389a54bacff5553f2bcd2e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 2 15:03:26 2021 +0300

    Fix revealing trade partner to destination owner when trade route established

    If the owner of the destination city already knew the tile where
    the source city is, but only from time before the city was founded,
    the source city was not revealed.
    This even lead to client crashes as traderoutes there were between
    owned city and NULL.

    See osdn #42968

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 36f312d50900f2e8184219ec322f85ca2cca60d9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 9 23:20:03 2021 +0300

    gtk4: Drop parameters from gtk_scrolled_window_new() calls

    See osdn #43012

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 03c4c787cd16c290a1304d5c872da277a66ab420
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 9 13:51:06 2021 +0300

    Alien: Mark upkeep cost of wonders as zero

    The engine forces upkeep for wonders to be zero, so value in
    the ruleset is not used. Mark the ruleset value as zero to
    avoid confusion, and also failing sanity checks once they
    get implemented.

    See osdn #43002

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9ca0ae2051d3e9856c94f4ad804e24a94d4a7ddd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 3 08:33:25 2021 +0300

    gtk4: Replace use of "delete_event" signal with "close-request"

    See osdn #42979

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a9e12c214b9bb082780f50751dde64fc8068bf0a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 1 02:13:33 2021 +0300

    Qt: Show default ruler title for a player whose government is not known

    Intelligence was showing ruler title as if the nation was in Anarchy when
    it doesn't know player's actual government. Make it to show default
    "Mr"/"Ms" instead in that case.

    See osdn #42938

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 38d64376ef5a94d5d344c2a9d846ba468ca87aad
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 7 19:58:41 2021 +0300

    Do not erroneously accept "Traderoute" range for a "Good" requirement

    Reported by ddeanbrown

    See osdn #42944

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6dc218ab4745534f2ca9abe41c9c502bc92363f3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 10 15:15:34 2021 +0300

    data/.gitignore: Drop Freeciv entry

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1860fb43d2c1361dac568ec959e0050e2c5b5b5d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 30 17:04:50 2021 +0300

    Apply square tileset setting changes to current game also if map topo is iso

    Reported by log65536

    See osdn #42956

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3c84e2675066f721aca17e766857404b3683d617
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 27 04:19:20 2021 +0300

    Make it possible to use iterate_outward() recursively

    See osdn #42930

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6bb1b2cf5b80655ec318322a0b07b9906a0dddd4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 3 08:31:09 2021 +0300

    gtk4: Avoid using gtk_file_chooser_get_filename()

    See osdn #42978

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 66426a530b9baa35468c93bf572105a355be29f1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 27 19:22:10 2021 +0300

    Qt: Correctly send the sex user selected in nation selection request

    See osdn #42936

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e70247cdeea9dc93cda20fac49b56eb939d89538
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 26 21:11:57 2021 +0300

    configure.ac: Improve malloc(0) test output

    See osdn #41100

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 19794ccf052b1ce12bf691fdfb148b33ab478d11
Author: log65536 <log65536@users.osdn.me>
Date:   Fri Oct 1 05:49:33 2021 +0900

    Fix help text for the trade_revenue_style server option

    See osdn #42961

    Signed-off-by: log65536 <log65536@users.osdn.me>

commit 0ca672db72c388c07f578049182ce8f85542b756
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Fri Oct 8 02:26:18 2021 +0500

    Update for Russian translation.

commit fd55ffab558c30947e7b6d750d96b77c50d1ae78
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 3 08:28:54 2021 +0300

    gtk4: Drop gtk_widget_event() using functions

    gtk-3.98 does not have gtk_widget_event().
    Just drop the functions built around it from gtk3x-client

    See osdn #42977

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7ffcedc5e180ac554e43a808159ff765918168ed
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 3 18:30:27 2021 +0300

    configure.ac: List gtk3-client as unmaintained

    See osdn #42981

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dd613ea4e78ef059fb9fed946edf78c4c9a666f5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 3 08:25:28 2021 +0300

    gtk4: Avoid gdk_event_get_scroll_direction()

    Use gdk_scroll_event_get_direction() instead

    See osdn #42976

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 05519eb7c18f7a70d5aea254fe41c6d23384e5e5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 30 16:47:03 2021 +0300

    Free rally point when the city is destroyed

    See osdn #42953

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4b47ca59824a4dc1b444d6c334919985810a57e4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 2 15:27:04 2021 +0300

    Make draw_trade_routes_for_city() robust against NULL trade partner

    Player should always know any trade partners his/her own cities have,
    but it's good to be robust against the opposite case
    (such as bug osdn #42968)

    See osdn #42969

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f9eb5917512e80206e22976270398c802fa3e741
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 4 05:08:51 2021 +0300

    Comment typofix: "client/gui-gtk3.22" -> "client/gui-gtk-3.22"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f14f2772d23cb9d4846cd8a9d75421ba943d7d33
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 23 02:58:32 2021 +0300

    cma_core.[ch]: Improve coding style

    See osdn #42899

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0bd6f904bf07a787cbb8642c942ec54cba99920e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 25 20:49:41 2021 +0300

    Show selected infratile on map canvas

    See osdn #42920

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e32ed95f1b950d96033d510b49d42e1f7d06ac39
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 25 05:33:49 2021 +0300

    Turn enum setting_default_level to a specenum

    See osdn #42910

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2cde2b1dfdfa32b650e78007e1413ad3435fd05a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 25 05:44:26 2021 +0300

    List ax_cxx_compile_stdcxx.m4 in EXTRA_DIST

    See osdn #42911

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit acac08028065eec9e80d6089771b0590024334be
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 1 20:09:45 2021 +0300

    NEWS: Refresh 3.0 section

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 80d63f95d0e71120b29ad31c7a42a9ad3b3d1489
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 28 16:41:26 2021 +0300

    british-isles.sav: Set nationset to "all" to allow correct nations

    Reported by Molo_Parko

    See osdn #42939

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3ff8f9db63ff01faeece25d204d8bea651583eaf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 23 05:26:03 2021 +0300

    RETURN_IS_ACTIVITY_ENABLED_UNIT_ON(): Return even when action value is illegal

    See osdn #42881

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 86db58c77c122191ac25c7d54b22348a0e6a927a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 23 05:45:01 2021 +0300

    advance_index_iterate(): Move advance_count() call outside the loop

    See osdn #42883

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3d0714cd93d953058d9a66f8743f304c9d1e345e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 20 03:58:28 2021 +0300

    ruledit/Makefile.am: List MOC_FILES in alphabetical order

    See osdn #42886

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 29641c6ab1201d60bac4a7f681370e3816e4ef67
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 26 04:09:36 2021 +0300

    README.packaging: Fix typo "not resources" -> "no resources"

    See osdn #42926

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f1ef2c54449e3ac6a55a6792949785ceb8ef458e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 21 23:55:50 2021 +0300

    Allow moving CoastStrict unit to ocean city, or city in 1x1 island

    Reported by lexxie9952

    See osdn #42600

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b9e7e964ad92d7e658a45aa9f42108e9c7ce5415
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 25 18:53:47 2021 +0300

    README.<ruleset>: Replace freeciv-gtk3 reference with freeciv-gtk3.22

    See osdn #42918

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1456f3d9001f1c2b6d44ffbe8823556efeb38833
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 28 06:34:36 2021 +0300

    Comment typofix: "rule title" -> "ruler title"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9533ad9c126ae84230dac63aa77e40d6fc7b5e80
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 28 03:08:54 2021 +0300

    Merge Esperanto translation of core domain from master

    Translation updates to master by KristjanESPERANTO

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f880027219f85c3da0a159d9d6595e3ab8820528
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 28 02:28:53 2021 +0300

    Update Finnish translation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 185ac3940e978e18b008eec1c221e927d6d50dc7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 18 05:22:22 2021 +0300

    Accept mandatory capabilities for packet variant

    Patch by MÃ¡ximo CastaÃ±eda

    See hrm Bug #829304

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit be6156396572b46372479db01c7fb9c35e89aa19
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 27 20:25:07 2021 +0300

    Merge Esperanto translation of nations domain from master

    Translation updates to master by KristjanESPERANTO

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 78a36ebcf75dde982eaa93551cc7cf56717044b9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 21 23:30:48 2021 +0300

    helpdata.txt: Make clear that traderoute's initial income depends on ruleset

    Reported by ihnatus

    See osdn #42652

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 470ab76f6841447fbfb4f9c2087837d4f3d61135
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 27 12:53:36 2021 +0300

    Merge Esperanto translation of ruledit domain from master

    Translation updates to master by KristjanESPERANTO

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8c99b6f82bce209719ed685100b84f21dddad435
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 16 05:48:53 2021 +0300

    Macrofy client_player()

    See osdn #42865

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 00163179bd4dda85393bd6a83cf90e32d9c828c9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 19 08:23:23 2021 +0300

    AI: Drop unused military_advisor_choose_tech()

    It was never really implemented, and would not suit current design.

    See osdn #42227

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 79253cb325ae619c520ea2bc2581de0052310fe1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 23 04:57:23 2021 +0300

    CI: Enable msys2 build

    Adjust required dlls in msys2 CI build to match environment.

    See osdn #42897

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9f52eb7cdeaa14c933efc62a85e9d1536b2b9962
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 25 17:36:33 2021 +0300

    nations/fi.po: Update version information

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 560a33ff3c291eda9ac27053e9ff18dbe838de86
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 25 17:25:32 2021 +0300

    fi.po: Replace gna.org email with freelists.org one

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit be7e6875fcb5087ea637aee0ba6fe332fb107a9d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 21 04:15:36 2021 +0300

    Update to crosser-2.1

    See osdn #42067

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fb446759cc943de37e3ea580ef569c0be02a30d8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 22 01:26:36 2021 +0300

    CI: Update setup-msys2 to version 2.4.2

    See osdn #42892

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c4a3c976361d409a2b8026071b1e8191d07945ef
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 24 19:25:30 2021 +0300

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against S3_1 strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f9bb53fcf63cac8f1506dd91ac05108593018db6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 20 01:06:48 2021 +0300

    debug.m4: Disable array-bounds warnings when -Werror present

    See osdn #42885

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eba353fbb9eddd509caa8e91cf71fe2be6e30210
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 18 04:29:21 2021 +0300

    req_text_insert(): Add missing break; for VUT_CITYTILE case

    See osdn #42872

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5ebb6031ecaead8a03c012c935d1dae4ebda46a3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 18 03:15:49 2021 +0300

    Send city owner's, not caravan owner's, info when caravan helps finish wonder

    Reported by Ilkka Virta

    See hrm Feature #908746

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5b3494f417bad1936c21dc18b0b884bcb8ed5645
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 17 00:42:45 2021 +0300

    fc_cmdhelp.c: Drop "version.h" include

    See osdn #42868

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 15500e56f4668f0609480154a9b2ab3f9d955f84
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 16 04:08:45 2021 +0300

    nations.ruleset: Set case of embedded_nations entries to match nation name

    The comparison is case insensitive so the all-lowercase entries have worked,
    but they are confusing as they appear different from nation rule_names
    from individual nations and more like file name.

    Base on report by ddeanbrown

    See osdn #42695

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b976efed9c7f9f5ddab2b287d41e2f57c23bf675
Author: dftec <dftec.es@gmail.com>
Date:   Sat Aug 14 00:45:42 2021 +0200

    civ2civ3: Adjust which units can build bases

    - All military infantry units can build fortresses.
      All worker units can build airbases.

    - The working time required to build a base is 2 times
      the movement cost of the terrain.

    See osdn #42709

commit 892ebe0e995416ea701426ca773c12306dc809f7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 21 00:03:39 2021 +0300

    Comment typofix: "it's" -> "its"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b0f87496cd05f42d860e8c86247a555d7a599da7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 16 15:53:09 2021 +0300

    italy.sav: Wrap map from the correct point

    In the italy scanario leftmost bulge of Italy was placed left of map origo,
    to the right side of the map. The map is not a wrapping one, so the parts
    were not connected at all.

    Scenario file rework by Jacob Nevins

    See hrm Bug #691812

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 21da19f2a644aa12e5258e9f03e8cf24b4457d12
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 16 05:23:07 2021 +0300

    features.m4: Suggest installing lua-5.4, not 5.3, when it's not available

    See osdn #42864

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 559090d06246b3aaf63957bbd449d286ab3b5165
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 12 12:19:31 2021 +0300

    Set attribute __format__(__printf__ ...) for do_log_deprecation()

    See osdn #42841

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 82606354f54e947a36d77208d0166e2436aab979
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 18 20:17:56 2021 +0300

    Bump version number to 3.0.93.10-alpha1+

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 03bda272a5708ed02b6a2108d51bfa1073f28f19
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 8 07:01:14 2021 +0300

    Msys2 Makefile: Handle icu version with a single variable

    See osdn: #42835

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bfcf1792199c0c66ea34854d243738699162fda6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 11 07:22:25 2021 +0300

    Rulesave: Save extra.buildable when ever it has nondefault value

    Reported by ddeanbrown

    See osdn #42848

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d33585d6948e8dfa3c500f21acfeffb911e72faf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 11 09:22:17 2021 +0300

    README: Document freeciv-tickets mailing list

    See osdn #42491

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0658c8a8a136942f868aad5cbe043368a0fbfaa7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 15 16:45:17 2021 +0300

    Autosettlers: Pass action, and not activity, to action_speculate_unit_on_tile()

    See osdn #42791

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 06edd40a7a8288ae7b9ebe8458221b4581248879
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 16 18:29:37 2021 +0300

    Update Finnish translation of the ruledit domain

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 91fac7a51e5036499d8f9d6a5bd2beafe139fdd5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 10 16:55:57 2021 +0300

    README.effects: Document TerrainAlter requirement values

    See osdn #42844

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 761d5a69cdf33247d13465201a5c97b4b5286450
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 9 16:47:47 2021 +0300

    Set attribute __format__(__printf__ ...) for bugreport_request()

    See osdn #42840

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2301bca50dba63c291d639df9dd8c8f7debc4409
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 8 04:18:23 2021 +0300

    copyright.sh: Drop obsolete gtkpixcomm and pixcomm checks

    See osdn #42579

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 44df3681b0d770269c44ce244dc3ef6eb9469656
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 10 16:34:43 2021 +0300

    Sanity check space part genus

    Requested by Alexandro Ignatiev

    See hrm Feature #824590

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 165996d87d44ec473b729052dae5bc8d18b49048
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 10 07:34:44 2021 +0300

    INSTALL: Remove extraneous word

    See osdn #42842

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f473c0e160cd97cf60a40f6650f54e1995f5b521
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 9 16:44:07 2021 +0300

    remove-potcdate.sin: Update from gettext-0.21

    See osdn #42843

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3c069edcdde28f8afa1959b024faac860d12b3ff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 8 06:50:38 2021 +0300

    CI: Disable msys2 build

    Temporarily disable msys2 build in CI as there's no suitable setup-msys2
    version available at the moment.

    See osdn #42343

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 746d1744dfb7dec80ee6b7c131e6bd0a1360fa69
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 5 07:33:57 2021 +0300

    Update msys2 environment to 210831 level

    - Based on upstream snapshot 20210604

    See osdn #42343

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4b1ceefddda4a61c0e58a0ee62c9d54b985485dd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 9 17:25:05 2021 +0300

    get_potential_improvement_bonus(): Consider multipliers

    See osdn #42836

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5b7681f9405cac585a94f9d67a6ec85705ee98ba
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 5 07:01:42 2021 +0300

    gtk4 fcmp: Don't claim there to be standard gtk command-line options

    See osdn #42415

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ed57f50ede246a66833c1c6d5f2771da2100c620
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 8 04:38:17 2021 +0300

    Refresh gnulib-common.m4 from gnulib upstream

    This is a comment update only. Serial number is not increased.

    See osdn #42834

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 37fa325f87f02e9dc8562e1889909c6e3f237675
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Wed Sep 8 03:50:46 2021 +0300

    AI: don't consider caravan bonus doubled when it is not

    See osdn #42641

commit 98bd7dfd5bbc551d6a7a17a200ea7bf9ffc010ab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 5 07:32:44 2021 +0300

    Replace uses of deprecated 'which' command with 'command -v'

    See osdn #42769

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7f83526e72bec7b386588157f40712dc3b532590
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 7 07:20:04 2021 +0300

    ruledit/.gitignore: Add meta_edit_impr.cpp and meta_tab_multiplier.cpp

    See osdn #42557

    Reported anonymously

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b6473cfe1b065f53684809e71acc7ea39f3bcc0f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 5 08:17:53 2021 +0300

    Msys2: Fix 'make clean' to remove Qt installer

    See osdn #42789

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 77e588e412b94c115d18e4bc3afd2b2708244f5a
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Sat Jul 24 00:58:29 2021 +0300

    AI: Manage caravans that only can enter marketplaces

    See osdn #42518

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit e49f6e0487e9acf32779516e909d00d5e5fe53e4
Author: dftec <dftec.es@gmail.com>
Date:   Sun Aug 15 05:28:30 2021 +0200

    civ2civ3: Add effects for culture

    - The culture accumulated by each city increases its resistance in
      diplomatic fights against enemy agents (up to +50%).

    - The culture accumulated by your nation increases the cost to
      bribe your units or incite your cities (up to +500%).

    - Governments no longer get immunity against bribe or incite actions.
      Cities with a Courthouse or a Palace are now immune to incite actions.

    - Increased the amount of culture granted by achievements
      (from 100 to 1000 in most cases), and the lead relative to
      second best player needed for victory (from 33 to 100%).

    See osdn #42712

commit f6d0fe9b4e9b540f4811a416a1b901b17e0a2e81
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 31 19:19:57 2021 +0300

    sdl2.m4: Port upstream serial 2 changes

    See osdn #42779

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 82e38aecaab5b5aa0046f1b631c02aaf38e1db7b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 5 04:03:17 2021 +0300

    Comment typofix: "Widget's List" -> "widgets list"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0970c1ad35f52526e4210d5399b6480601b06101
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 31 03:51:04 2021 +0300

    AI: Consider buildingless cities worth conquering

    See osdn #42778

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 92a4ef1390ca3455e435c9d6b76b329dc6dfe2f5
Author: dftec <dftec.es@gmail.com>
Date:   Fri Aug 13 02:09:54 2021 +0200

    civ2civ3: Improve the script that adds labels to the map.

    - Prevent "Great Barrier Reef" and "Great Blue Hole" from appearing
      near Glaciers:
      Now "Glacier Bay" is Ocean adjacent to Glacier
      while "Ice Shelf" is Glacier adjacent to Ocean

    - Swap "Mud Volcanoes" (now on Hills) with "Valley of Geysers" (now on Plains),
      that makes more sense visually.

    - Reduce a bit the randomness, making labels more dependant on
      the actual landscape:
      Deep Ocean can be "Deep Trench" if fully surrounded by Deep Oceans,
      else "Thermal Vent"
      Forest can be "Sequoia Forest" if fully surrounded by Forests,
      else "Millenary Trees"

    - Add some more comments.

    See osdn #42708

commit ed4e03ef04164e8a117447944b5b571063ca1bc5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 2 06:09:23 2021 +0300

    Comment typofix: "becouse" -> "because", and some grammar

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 39041d6fc1bdd079c9a6f4849a752a8f9184a906
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Aug 25 07:24:49 2021 +0300

    Update gnulib-common to serial 67 from gnulib upstream

    See osdn #42766

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 944c1e8f4e8b2299b3eb7d89eec7862e305ad896
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 12 08:25:58 2021 +0300

    Drop obsolete base_deps_iterate

    See osdn #42536

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9aa40a88585266324fdf5b6ca514980e30f9f561
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 26 02:49:47 2021 +0300

    zambia.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ffd0c0ef87ce300677247905c68e112567872f63
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Aug 25 06:50:32 2021 +0300

    civ1: Remove TODO comments about embarking from transport to transport

    It has been confirmed to be legal by meynaf

    See osdn #42419

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 98f9d4ef079c9abe6b52f27a704427502cb9483c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 16 08:26:58 2021 +0300

    Ruledit: Add enabler count to stats

    See osdn #42176

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5aa06b76c62491d94728134c78250b05042fb4d0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Aug 18 04:16:50 2021 +0300

    wallonia.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42718

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0d7aeb8bc0bb63e90dc43f93542ec3cc54298825
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 8 16:12:39 2021 +0300

    Msys2: Add set of dlls needed by Qt6-client

    See osdn #42602

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2a15df0cf212324f4ba84c7e8e6b99635d62edda
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Aug 11 05:52:09 2021 +0200

    Auto attack before the unit is selected.

    Implement fast auto attack like in Freeciv-web.

    (The web version was) requested by Lexxie

    See osdn #42719

commit 13a75caa2d3e92a7acbb19af600a9cbd37821d49
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Aug 25 03:31:30 2021 +0300

    wales.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42765

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 25adf41d4ccf0b7aaa1ed3afbd5276b4bd50e752
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 26 13:16:21 2021 +0300

    is_terrain_needed(): Check if terrain is climate change target

    See osdn #42577

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eb295c224507784a31e2121e7e41867f7f5fddcc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 17 12:00:29 2021 +0300

    united_nations.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42636

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9672e268384a12b716498570a43fab629423cba6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 25 05:04:28 2021 +0300

    Consistently disable help links to space parts when spacerace disabled

    Reported by Jacob Nevins

    See hrm Bug #853869

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d431836db1b38cc35789a69a28f589e8a2fb5783
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 17 00:29:59 2021 +0300

    Meson: Generate langstat_core.txt

    See osdn #42543

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4378abf7ed18099ca0ec6dbd6abebf74bd3d4449
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 13 01:23:09 2021 +0300

    tunisia.svg: Shrink page size to image size

    See osdn #42619

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a255e6d546a085872c26c702bec2eebef5b043a2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 16 14:03:10 2021 +0300

    Tex: Free data of the messages received by worker thread

    See osdn #42462

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1eccbef5df3436010e584865d412cede26b8e8c9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 8 14:43:55 2021 +0300

    gtk: Drop unused variable 'total' from city_dialog_update_improvement_list()

    See osdn #42698

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 96be45e77956bd18322e2db3dfc8ae7c14e679fa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 9 07:00:05 2021 +0300

    winsock2.m4: Remove false comment

    See osdn #42488

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d55ad335f5b61b763d378ed93d28cb230441c124
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 12 06:21:07 2021 +0300

    tibet.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42615

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 726dc8bcad71fd87f4e5da3f82f429f17433b0f2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 8 12:51:59 2021 +0300

    Autosettlers: Evaluate all dependency extras

    See osdn #42492

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 16f24d20f14e6b6cc42e3c633feffaec171acc3e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jul 25 18:39:46 2021 +0200

    Ruleset actor consuming always for "Found City".

    This allows a ruleset where you get a unit that can found cities at the
    start of the game but are unable to build a city founding unit. (Think of a
    GamleLoss unbuildable "King" unit as the only city founder.)

    See hrm Feature #931180

commit b187f8b8ab65ac7993f9d1182802594379db4627
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jul 23 00:28:16 2021 +0200

    Can't embark to transport when not embarking.

    A move to a tile can't be legal because it is embarking to a transport when
    no embarking will happen.

    See hrm Bug #931099

commit eb41c0333abe5fce634b94814cca72e16c94bcad
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jul 19 08:31:53 2021 +0200

    aiferry_gobyboat(): don't hard code action ID.

    Look up board actions by action result rather than hard coding the action
    ID.

    See osdn #42649

commit 9639781f55cbc293f87a3cc5db8d1a450b390c94
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jul 19 08:36:58 2021 +0200

    Qt client: support Transport Embark 2 and 3.

    The Qt client still needs a function for each action in its action selection
    dialog. Add support for "Transport Embark 2" and "Transport Embark 3".

    See osdn #42644

commit 11fbabec3f5abfa39f1ee87959e6704032dab554
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jul 19 08:18:33 2021 +0200

    request_unit_load(): prepare for multiple Board.

    Simplify request_unit_load() by using the code that picks an embark action
    by action result to handle board too. At the moment "Transport Board" is the
    only action with that result.

    See osdn #42642

commit 170308e62aff0aeda965b5bca2eb59368bf548ba
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jul 13 13:27:39 2021 +0200

    Mark MinMoveFrags's translation comments.

    Add TRANS: prefix to reqtext translation comments about MinMoveFrags.

    See osdn #42623

commit 0622a9c499b903f3bf4512fe15585755b791706d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jul 13 12:09:56 2021 +0200

    SDL2 client: implement action_selection_refresh()

    See osdn #42622

commit f5891a0d0337836a6630e083f414d34b3864908d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jul 13 00:28:32 2021 +0200

    act sel dlg: respect target tile switch.

    Respect that the action_decision_tile has changed. This justifies refreshing
    an open action selection dialog and giving a previously ignored unit
    priority in the unit focus queue again.

    Reported by Lexxie

    See osdn #42621

commit a9c24d724c28d8c91231dd05125b21f8ebe6cd66
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 16 08:50:13 2021 +0300

    gtk3x: Stop listing "standard gtk-options" in '-- --help'

    See osdn #42537

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit de067845392139a976e3a0e05bc3e2ee3a915dac
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 10 19:11:46 2021 +0300

    taiwan.svg: Shrink page size to image size

    See osdn #42608

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 967a615351ef655ef5e547b6334ae62d84026bce
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 10 13:03:24 2021 +0300

    Avoid namespace conflicts with tinycthread

    Rename tinycthread source files, and resulting library,
    to make sure we use freeciv copy of those instead of one
    from crosser environment.

    See osdn #42607

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 248450aaa456b2c138ea1e31a59befe467333594
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 9 07:30:17 2021 +0300

    switzerland.svg: Shrink page size to image size

    See osdn #42604

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 62e790531b4767707b0999492c095fe028a46eb5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jul 13 10:33:15 2021 +0200

    Allow more than one kind of background request.

    The C clients currently use the action selection background request to
    refresh the action selection dialog on new information. Freeciv-web uses it
    to implement fast auto attack.

    Make it possible to have more than one background request kind by changing
    request kind to a number. The foreground request that should disturb the
    player gets the number 0. The others are client defined background request
    numbers. Give action selection dialog refresh the number 1 in the bundled C
    clients.

    See osdn #42620

commit 02e34a4c108d19c96ee6ef1d5263144deacfda10
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jul 13 13:14:29 2021 +0200

    Comment fact fix

commit d9e5717a719da250d51e1635f0ff7dce0586395e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 11 02:35:35 2021 +0300

    begin_lanserver_scan(): Call scan->error_func() when necessary

    Handling of several error situations lacked the call.

    See osdn #42392

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit afe52728b438d2ac3fad4cf2e051892aff5605b6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 8 16:19:25 2021 +0300

    swaziland.svg: Shrink page size to image size

    See osdn #42603

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8556062de7889045a6b201ed2f5277c9ee2cce4c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 16 07:09:52 2021 +0300

    Correct ai_timer_init() function header

    See osdn #42455

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 062b5588d7814e933b97b1ff9228f2599bc27585
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 2 16:53:10 2021 +0300

    soviet.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42596

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 85cd8a017b4f26018bc2f42443887b319ae144d6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 11 12:03:14 2021 +0300

    .gitignores: Drop entries 'civserver' and 'civclient'

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2abdbf4c7591f217b6ab962ad086f2d4e3f97241
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 11 06:15:44 2021 +0300

    Bump version number to 3.0.93.9-alpha1+

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2ea3b6054f880f2052fbf0129c0e3aa8271ca5c4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 11 05:11:12 2021 +0300

    comments.c: Log entry that cannot be read from the comments file

    See osdn #42539

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 40a52c9f1340d6bfcb6084f8beb918f52baa185d
Author: dftec <dftec.es@gmail.com>
Date:   Tue Jun 29 22:52:54 2021 +0200

    Improve the readme of civ2civ3:

    - Reserve the use of capital letters to words used as rule_names:
      units, techs, terrains, resources, buildings, governments,
      and some key game concepts like Food/Trade/Production, Science/Gold/Luxury...

    - Use "Production" instead of "Shields" for city output (as in the city UI),
      or for production of citizens (like Trade, Luxury, Science and Gold),
      that will be multiplied by buildings.

    - Keep using "shields" for upkeep of units, use "coins" instead of "Gold"
      for upkeep of units or buildings, and use "bulbs" instead of "Science"
      for upkeep of techs.

    - Use "upkeep in Food", instead of "Food upkeep".

    - Use "ground units" when they include all Land unit classes (big and small).
      Use "naval units" or "boats" when they include both Sea and Trireme.

    - Use "unhappiness caused by military units", or simply war unhappiness,
      instead of Military Unhappiness.

    - Clarify when wonders affect every city of every player, or only the
      cities of the owner.

    - Use civ2 as reference in tables. References to classic ruleset changed
      to classic/civ2 (when they are equal).

    - Remove trail spaces.

    - Re-wrap the altered text with linux command: fold -s -w 72.
    Then replace the final space " \n" by a double initial space "\n  ".

    See osdn #42558

commit 07cce5988b5b945eb831f47d5106cb489b441a7c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 30 07:13:34 2021 +0300

    slovenia.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42590

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1042cc3833c227cab57ff29b8091e6b11f757b6c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 10 06:02:59 2021 +0300

    gtk3*: Drop empty create_help_page()

    See osdn #42504

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c85d679c0e08646717f847dc71337da4c121eaec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 9 08:44:36 2021 +0300

    AI: Consider immediately spent gold as part of income in dai_calc_data()

    See osdn #42193

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 748d364b6f6fec6880e7c840f38d833fc273c7a5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 26 12:56:37 2021 +0300

    silesia.svg: Shrink page size to image size

    See osdn #42576

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c89beb663835f11016379a5fd4c2b3ab5e08e71a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 10 05:14:59 2021 +0300

    Rename unit cache max_defense_mp_pct as max_defense_mp_bonus_pct

    See hrm Feature #922840

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1e072c86f6331c3ec2dd67b983ec476a9a1e36c3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 25 11:53:04 2021 +0300

    scottishgaelic.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42570

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ec953e148b5a22b9285b05f78746a02e48031776
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 5 17:59:23 2021 +0300

    Stop need_war_player_hlp() from crashing

    This is an emergency fix to just stop the crashing.

    See osdn #42597

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f65f149b1c4e4103dc407d6bbc91acd8be60cb3d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jul 2 10:02:30 2021 +0200

    JSON: avoid integer underflow in dir in orders.

    Reported by Lexxie

    See osdn #42595

commit 4861269443b82af880806cacc0a1d669d5fb6969
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 10 04:59:08 2021 +0300

    Make identity_number an int

    It was a short, meaning that it wrapped at 65k despite
    max number of identity numbers defined to be 250000.

    Reported by Markus Wiesecke

    See hrm Bug #927510

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ce2d33934c7e4f196701a591eb86974f0be986a8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 24 23:43:15 2021 +0300

    CI: Build Qt6 version again in MacOS

    See osdn #42249

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 15b42cc1de6b9afa078c14a48a7ac1e78ddd0f71
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 24 23:51:03 2021 +0300

    scotland.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42566

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ae9c9123c85decd1418ba7277d6a95072a962151
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Mon Jun 7 00:04:55 2021 +0300

    AI: remove immediate_destination() from dai_unit_goto_constrained()

    Unnecessary check that sometimes freezed fueled ferries.

    See osdn #41970

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit 4a34daaae7e0ddb91c65bf9bcca85d6b875a6f8f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 7 19:37:40 2021 +0300

    Correct spaceship_init() function header

    It used to imply that capital-capture cancellation of spaceship
    is not implemented.

    See osdn #42460

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7a2226cd46d4cfc49c0b4af620347c093b91154c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 29 06:07:00 2021 +0300

    civ1: Make comment about traderoute Cancel behavior non-TODO

    Update to comment after we got confirmation that the current
    behavior is correct.

    Civ1 testing by meynaf

    See osdn #42318

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 092a9c20b7036424b91a945ce37f720b65384053
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 24 15:17:49 2021 +0300

    sapmi.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42564

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5b7449190d2102c2697031950ac6109f26441f4c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 27 11:28:26 2021 +0200

    Map unit move orders to (dis/)embark actions.

    Compatibility for move orders that don't specify an action. Most orders sent
    from the client are like this until hrm Feature #850768 is done.

    Making the embark actions rare_pop_up made the pop up never come up as the
    rare_pop_up logic interprets embark as a legal regular move that blocks a
    rare pop up. This made embaring with goto impossible.

    Makes paths through ships work again.

    Makes it possible to disembark with goto.

    Reported by Lexxie
    Reported by ihnatus
    Reported by Chippo Elder

    See osdn #42581
    See osdn #41824
    See hrm Bug #854983

commit d06825b5ddf23dfab6cd4f1aea00b76296ce2a96
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 15 09:47:16 2021 +0300

    Makerules.mk: Make moc rule to respect automake's silent mode

    See osdn #42458

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9c94e4a702fd4f3cf576ed8bed36ea9407353288
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 13 14:45:39 2021 +0300

    is_utype_needed(): Check if unit is animal for some terrain

    See osdn #42505

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e3398f7e7e69d5f015768395a06deddef534bf60
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 22 06:02:33 2021 +0300

    rwanda.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42559

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 61fe2b46f59d3f0ec9c747bede62e00c0b5dbc78
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 28 02:10:00 2021 +0300

    server_sniff_all_input: Log fc_select() errors

    See osdn #42403

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2684405616dca676cb17e9d3b5207e73a91bf26f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 20 08:00:16 2021 +0300

    Msys2: Add qt6-installer and ruledit-installer-qt6 targets

    See osdn #42556

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 69783af10066bcc3d7c56bdc7d56a718966718d0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 24 09:44:20 2021 +0200

    Add the new DiplRelUnitAnyOther requirement type.

    See osdn #42563

commit 8fca1b558e29d4c3f817a933b1838d76ef7943a5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Jun 19 14:00:48 2021 +0200

    Add the new requirement type DiplRelUnitAny.

    Check if any unit at the tile has the specified diplomatic relationship.
    Note that it says any - not each. It being true for one unit is enough.

    See osdn #42562

commit a2139f2d12899a6f7bb76847dc76b1dbfc8934ca
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 25 22:46:55 2021 +0300

    FAQ: Update latest stable version number to 2.6.5

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 029cc08ba9910675ef8ba33136bfa6a19ad896dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 19 10:10:54 2021 +0300

    prussia.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42550

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b147e74ee7e4005ac9f161b451fd6cd43a124a59
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 8 06:19:26 2021 +0300

    Amplio2: Add extra animal sprites

    Art by Bard
    Patch by frank e and myself

    See hrm Feature #721407

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9b149f02fa87e627001035f1501f05f72cb1fdcf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 11 03:22:22 2021 +0300

    is_terrain_needed(): Check if another terrain has the terrain as some _result

    See osdn #42505

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 55889c70197d9c3b772dbc2e986435395a629e3d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 18 10:13:54 2021 +0300

    peru.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42546

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5fb22753a0d2681c459403009d29b74225ee2b0e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 24 14:28:07 2021 +0300

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against S3_1 strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3b94a875fba3cc37d505d433e0cb4aacdb559150
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Jun 19 09:47:52 2021 +0200

    webperimental: expel inside your borders only.

    Only allow "Expel Unit" if the target unit is standing on a tile owned by
    the actor player.

    See osdn #42554

commit fd68c25e754ae5483ca2ab67d641f2231d323a4b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Jun 19 10:39:33 2021 +0200

    Make can't bomb non war city hard req obligatory.

    The bombard actions can't bomb units in cities not owned by someone the
    actor player is at war with. Make this an obligatory hard requirement.

    See osdn #42552

commit c0ad0b077562cca5afe548e9d359d091f403d9c6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Jun 19 08:48:09 2021 +0200

    Need war on target tile owner explanation.

    Action not enabled explain when war on the tile owner is needed because of a
    DiplRelTileOther requirement in an action enabler's target requirements.

    See osdn #42551

commit 2ab359cecc7a28c945a677cf07ed348cb268f526
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 14 13:32:39 2021 +0200

    Add utype_can_act_if_tgt_diplrel_tile_other().

    Action unit type cache for DiplRelTileOther.

    See osdn #42531

commit ef33b9863d6a5d8fd43a59ec5cf6ff278736f451
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 2 16:21:43 2021 +0300

    Tex: Improve coding style of texaiworld.c

    See osdn #42459

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aede60cd36f59c30d0c5f40585ab6bfecb217d1c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 16 23:42:02 2021 +0300

    pashtun.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42542

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e7f5296febe4db6c55642443818b67c519ad6d54
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 8 04:26:22 2021 +0300

    Ruledit: Add support for improvement upkeep editing

    See osdn #42487

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0a8c8d2bc155665081c2e8ff4957e3abb41d195e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 17 00:55:07 2021 +0300

    Meson: Pass '--from-code=UTF-8' to xgettext

    See osdn #42544

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aee7c0b4c2e4e4430fd5a1783bb5b89ac1b50028
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 16 06:54:49 2021 +0300

    papua_newguinea.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42535

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 72464392f807d0a9fe37b6972f194842b9d8b5e3
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Sat Jun 19 23:28:55 2021 +0200

    Updated French translations

commit 7dda21bd4e23047d3c92463d329cd035ae36f6d6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 6 08:20:04 2021 +0300

    Ruledit: Rename "...rec_vec..." as "...req_vec..."

    That "req" refers to requirement.

    See osdn #42477

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 80d8593584a5a3089afdfb7dfc462b48762888cb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 15 06:28:40 2021 +0300

    norway.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42530

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 556e44e0bd49e40c864c54df8d01619ca1873502
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 31 05:12:47 2021 +0300

    Add function header for i_am_tool()

    See osdn #42330

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 75036876119580c8296e2ed5495b019310a30926
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 14 06:45:59 2021 +0200

    Remove outdated "can't be expressed" comments.

    DiplRel and DiplRelTileOther are able to let enablers express the "must be
    at war with any cities on the target tile" requirements of bombard, attack
    and wipe actions.

    See osdn #42528

commit 09bd6ffc368a37b74fdc35aa51637285b9487129
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 14 05:47:27 2021 +0200

    Introduce fc_tristate_or().

    See osdn #42527

commit 9eb95e212be3c88f52a275a73637ab7a2c60d8e3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 11 12:27:44 2021 +0200

    Replace OnDomesticTile with DiplRelTile.

    See osdn #42516

commit b54b86ed988f19c0d27bfe16b50584821baab333
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 16 22:59:24 2021 +0300

    Documentation: Replace freenode network with Libera.Chat

    See osdn #42541

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 690f8b2108ef18ae2c62e6a0c55c2d2180f459ef
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 6 05:09:58 2021 +0300

    Ruledit: Add support for adding and deleting effects

    See osdn #42478

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8820efb0e11a403805e69d63bbe424e571d043c0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 14 04:25:19 2021 +0300

    nigeria.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42526

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9537854d430710a21356287013c59d5d6571eec5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 9 17:04:49 2021 +0300

    savegame3.c: Fix loading multiresearch values

    - Fixed memory leak
    - Don't free() memory that should not be freed
    - Assign bulbs to correct techs when ruleset has changed

    See osdn #42499

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4b1e34cf761b81a37faa476b2a2fc288f15260d1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 29 08:25:28 2021 +0300

    freeciv-mp-gtk4: Quit cleanly

    See osdn #42412

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9250662746ecea021f8bde9d765bade2914c4d32
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 13 10:03:58 2021 +0300

    newzealand.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42521

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 02918a7fd53e3feded8c99ec40078209da056624
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 8 05:05:19 2021 +0300

    meson-winbuild.sh: Enable nls

    See osdn #42486

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2323db1a2aed28e1ac804f0781421508824a4e35
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Mon Jun 7 00:42:41 2021 +0300

    Restore AI ability to build Fighters (except paradropping ones)

    See HRM #658896

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit c461dc996e76c47a1ef9b0abc6f8c853d505541e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 3 03:23:23 2021 +0300

    is_universal_needed(): Display action name along "Action Enabler"

    When action enabler requires universal, list it with the action name,
    not just by generic "Action Enabler" string.

    See osdn #42464

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4110fa6ae308696c42d1f5ab1814984bb943fcdd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 12 08:22:51 2021 +0300

    newfoundland.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42519

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e8f60263dc6e20cf2acfdf35e330ac57b562182f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 8 04:43:02 2021 +0300

    Meson: Link against libintl when needed

    See osdn #42485

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7456e7773029258505a513a7b93d30e36b702dcd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 13 10:40:51 2021 +0200

    Add the new DiplRelTileOther requirement type.

    Like DiplRelTile except that the second player is DiplRel's second player.

    See osdn #42522

commit 893ed61fdc97392e7226b412ac5aea93463135e6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 11 01:46:40 2021 +0300

    mozambique.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42507

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 969ab09418b30b49dde9734fe29f60795ebe31c0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 25 05:50:38 2021 +0300

    Ruledit: Add unit attack and defense strength editing support

    See osdn #42386

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b5e82092f4126e6eb06b24a509b9f3ee63f54a02
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Mon Jun 14 17:26:23 2021 +0200

    Updated French translations (up to diplomatic relationship with tile owner)

commit 90b783eea4d67b61e94c83774291d4e2760ece79
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 11 15:22:17 2021 +0300

    Update gnulib-common to serial 66 from gnulib upstream

    See osdn #42509

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 93f766c70f500a43fb16b26203fa61f8d478895b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 10 03:58:13 2021 +0300

    mexico.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42503

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ea2a42fde6ef3cc6201c5917f24cae7592bd9177
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 3 05:37:32 2021 +0300

    gtk3x: Drop toplevel_key_release_handler()

    See osdn #42467

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a4b3153bcfc3ecf057b0902583e9a7ab631c6d78
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 25 05:08:17 2021 +0300

    civ/2: Set savepalace disabled by default

    Reported by ihnatus

    See osdn #42266

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1b90b9e2406e9591c542f31126121136fcef7326
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 11 11:50:58 2021 +0200

    Add the new DiplRelTile requirement type.

    It is like the DiplRel requirement type except that it is about the owner of
    the tile.

    This allows rules like "a unit can only be expelled if it is on a tile owned
    by someone its owner has peace with".

    See osdn #42515

commit 5ff6e5ac8363ca4321bae8aba8a462e4388e4d11
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 11 11:07:35 2021 +0200

    are_requirements_contradictions(): DiplRel like.

    Prepare are_requirements_contradictions()'s DiplRel handling to be used by
    diplomatic status requirement types other than DiplRel.

    See osdn #42514

commit 524a750e4bf0704caee792cb687e901a577ba99d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 11 10:36:38 2021 +0200

    diplrel_found(): make usable for DiplRel like.

    Prepare diplrel_found() to be used by other diplomatic status requirement
    types than DiplRel.

    See osdn #42513

commit c80d27e260855af9b17bf74a2e35013a45f25c49
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 11 10:04:50 2021 +0200

    Metaknowledge for TerrainAlter.

    See osdn #42512

commit 58f41b17f8b3d3b9adcf7806f3989f97016b32c9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 11 09:09:39 2021 +0200

    README.actions: correct target kind.

    See osdn #42511

commit 4e406e745ff736b32dd67e8eabd88326b76eab00
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 9 04:21:51 2021 +0300

    maori.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42496

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit acf8b08ab7ef7ab0a46444dceeb54a39aeeb8178
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 7 18:49:25 2021 +0300

    Meson: Respect cross_inc_path when detecting headers

    See osdn #42484

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 72b09787e4f1705e20873346a950b91c7f0d608c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 29 07:56:01 2021 +0300

    gtk3x: Replace gtk_main_quit() with g_application_quit()

    See osdn #42414

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d3e3dea2925ddbec649b615eb582a7ebe39d526f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 8 04:02:17 2021 +0300

    malaysia.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42489

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8db9422bb93294dcec2a2b6af5b7c290291496c8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 29 07:53:47 2021 +0300

    gtk3x: Avoid gdk_display_get_primary_monitor() call

    Use gdk_display_get_monitor() instead

    See osdn #42413

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 17a00c61d2983580ae15ea8db7fbc5baade00b9f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 25 02:25:06 2021 +0300

    is_universal_needed(): Check if needed by clause requirements

    See osdn #42374

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eb6694a83a29a720e38e2911aa6a9a8b5630979c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 8 21:23:20 2021 +0300

    CI: Update setup-msys2 to version 2.3.1

    See osdn #42495

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d956077d417a01f35bbfefae6964f168a84bfb16
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 7 04:48:12 2021 +0300

    macedonia.svg: Shrink page size to image size

    See osdn #42481

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e907a089eca6a59fa505c0c7b77d6ce4733a6b47
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 3 03:05:20 2021 +0300

    ai.[ch]: Improve coding style

    See osdn #42456

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9b2c4240f6222fd1e35048714638e5a4e7cc7ee8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 22 02:19:13 2021 +0300

    civ2civ3/sandbox: Enable one-time-bonus for traderoute establishment

    This is to work around AI limitation that it does not want to
    establish traderoutes when it gets no bonus.
    Set default tradeworldrelpct to 100 to make sure the bonus does
    not grow without limits for bigger maps.

    See osdn #42319

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 574fde43924fc86aad1278e858133297fc1e34be
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 6 02:30:23 2021 +0300

    fc_gitrev_gen.h.tmpl: Don't speak of "revision number" in a comment

    Git does not have revision numbers but commit id/hash

    See osdn #42461

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6aa1b6a4b797c82ece77d25188e7ee272dddb570
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 6 02:06:36 2021 +0300

    maasai.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42475

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9545900a6937cbd9bb689e075fcdda9c461f6a68
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 30 09:20:32 2021 +0300

    md5.c: Replace http URL to upstream version control with https one

    See osdn #42421

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7ffef50d462bec658abc929d94007667913ee7df
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 2 06:53:57 2021 +0300

    Meson: Set data paths from meson.build

    Replace FREECIV_DATA_PATH & friends #defines in meson_fc_config.h.in
    with #mesondefines.

    See osdn #42454

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e412042d9e641e5040738372792db736ef658239
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 5 13:29:50 2021 +0300

    lithuania.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42472

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f2ab99d628766fcfa6fe51c11fb0d67e0cd6f6d9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 30 03:42:55 2021 +0300

    sdl2: Add function headers for gui_tilespec.h inline functions

    See hrm Bug #909607

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 68a845495b7c2d7f98af46f2a35a66419a94ca54
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 22 01:24:09 2021 +0300

    rssanity: Break out from obsoleted_by loop

    Server was left in an infinite loop when it detected
    an obsoleted_by loop.

    See osdn #42301

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit af86e9a3b5f059260ced2e6f3e6375d0be00b8ad
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 5 08:44:05 2021 +0300

    Msys2 Makefile: Rename Qt targets specifically Qt5 ones

    See osdn #42427

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e293bed228552b917eba372282737c0a35956546
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 8 05:21:55 2021 +0300

    messapian.ruleset: dos2unix

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5ad50d490f3d897ba6c4a3337b6368af84ef296d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 4 02:57:30 2021 +0300

    latvia.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42469

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e2c1bf1627ddb6155ed971ba7a51033325e1dafe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 29 06:41:36 2021 +0300

    INSTALL.Cygwin: Replace http cygwin homepage URL with https one

    See osdn #42411

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 201b398817bb4f62e9f6b6e44e3e3791485f1165
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 21 15:07:46 2021 +0300

    AI: Set H_RATES for Hard and Experimental difficulty levels

    Requested by alain_bkr

    See osdn #42333

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4b28a14e5e8c45074fbd33f47594c79cf8f41b21
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 26 00:47:57 2021 +0300

    gtk3x: Drop gtk_window_set_type_hint() calls

    It's removed from gtk-3.98

    See osdn #42394

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0acb0afdb92b1c03f5966c14ed3762f205fda4aa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 3 02:25:42 2021 +0300

    kenya.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42463

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d49703a13be627eeb942c2d40a697289040bea8d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 23 16:40:45 2021 +0300

    README.msys2: Update msys2 homepage URL

    See osdn #42373

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 25aa870b234beafb6c77117c82bb4dc1c3acd748
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 21 04:18:53 2021 +0300

    rgbcolor.c: Replace http URL in a comment with https one

    See osdn #42340

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 32328fa67dbe2299ae4f44c6e86fa1b051b1faf2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 1 04:40:44 2021 +0300

    installer_cross: Check CROSSER_QT5 from crosser.txt

    Check more specifically Qt5. It used to grep any CROSSER_QT.

    See osdn #42438

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ba7f883ec179b436d0eeaccbc16f67502d993558
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 2 01:21:05 2021 +0300

    israel.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42444

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1811d1f0c6e6a51bd66a80d5a08357ca95ba0f99
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 2 05:00:13 2021 +0300

    Make unit build cost's effect on bribe cost float

    Notably this makes units with build cost less than 10 to
    have above zero bribe cost.

    Reported by Lexxie

    See hrm Bug #929034

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dce00e1c06db80a28dd9574d66ec64f14c48fde6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 5 12:29:03 2021 +0300

    Move FC_C99_INITIALIZER_BRACES to tcc.m4 named as FC_INITIALIZERS_BRACES

    It exist for tcc support.

    See osdn #41947

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 09ab7af7a0883a48ba31862c127edd8e1e1d8657
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 26 00:40:05 2021 +0300

    gtk3x: Drop handle_edit_key_release()

    It did nothing.

    See osdn #42389

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d9fe4f15ee906f5e9ffa6ce61b4bc9d3e58610c1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 1 01:35:44 2021 +0300

    ireland.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42442

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 826db66859fa049cbe790c6b0e45b0ed3ca6ea82
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 30 07:23:49 2021 +0300

    Remove vision provided by shared vision from a removed player

    Reported by Alexandro Ignatiev

    See hrm Bug #883225

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d9616ad436790f65133b3e812890e3e0888f0850
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 31 15:24:42 2021 +0200

    amplio2: fix image location collision.

    The location I used for extra.transport_hub_mg was already taken by blank
    defaults for cd.city and cd.city_wall. Move them to a different cell.

    Reported by Lexxie

    See hrm #42441

commit 45608b3822c892f552c7b083b705874402150673
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 31 14:32:06 2021 +0200

    cimpletoon: add castle and castle2.

    Add graphics for two castle bases - one open and one closed.

    Castles by Lexxie

    See osdn #42440

commit 21bb2fdec11802d0e828a8a662d11f28d46de7fd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 31 08:14:08 2021 +0200

    unit_perform_action(): sub target must be there.

    Check that the sub target is there after server side sub target assignment.

    See osdn #42437

commit 58f1c4244dad5b000b6f57798ce06f3a9d3da4d3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun May 30 22:11:32 2021 +0200

    Only allow buildings as building targets.

    Reported by Lexxie

    See osdn #42436

commit cd7f93e3297ab41629dc89907fd5d735678b326f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 31 07:05:59 2021 +0200

    ANEK: paradrop blocked by non allied unit.

    Use the action not enabled system to explain that a visible unit at the
    target tile blocks a Paradrop Unit action.

    See osdn #42435

commit 91db4a8907e2f4511122ab3236b99267407e277f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 31 07:06:08 2021 +0200

    Map non allied unit at tgt tile to ANEK system.

    Have the action not enabled explanation system detect that a non allied unit
    at the target tile is blocking an action when unit_move_to_tile_test()
    returns MR_DESTINATION_OCCUPIED_BY_NON_ALLIED_UNIT.

    See osdn #42434

commit 8a9f0f4089a929028b521d7085cd36f5eab815f6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 31 06:55:46 2021 +0200

    Action not enabled explain non allied unit at tgt.

    Add an action not enabled explanation kind for a non allied unit being at
    the target tile. Not in use yet.

    See osdn #42433

commit ed616fb4a5a6206f9f4a3a0620047d13ae9e3f72
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 26 03:01:30 2021 +0300

    Meson: Support standalone libiconv

    Make iconv work when it's not provided by glibc, but in
    a separate libiconv library.

    See osdn #42395

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 33c559dfd8a1f73e1d9eae51409a86466986fd7e
Author: Joshua Root <jmr@macports.org>
Date:   Mon May 31 08:07:24 2021 +1000

    Only include sys/random.h for getentropy()

    This fixes a build failure on older OS X versions, which have
    sys/random.h but not getentropy(). Instead the header declares some
    nonstandard functions which unfortunately use some types in their
    declarations that may not always be available, depending on what
    headers were previously included.

    See osdn #42439

commit aa7ed9b3bd0f07bf9113ddb384d235d6c83928a4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 31 03:01:00 2021 +0300

    iran.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42432

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bf950599ba84942bb5e2943e78a9f5ca2e4ad080
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 19 18:39:27 2021 +0300

    civ1: Make traderoute one-time-bonus gold only

    Reported by nef

    See osdn #42317

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d0233bf18fd2d4d61bc2c6f0b03cb7767d2af3ce
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 20 17:09:17 2021 +0300

    validity.c: Use ..._re_active_iterate() macros where appropriate

    It was erroneously considering even removed items (those that
    the regular iterator goes through) blockers for removal of
    dependant items.

    See osdn #42173

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 410d90db56b32e7cf40620abd811ccdcb4e27569
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 25 17:04:43 2021 +0300

    gtk3x: Replace gtk_label_set_line_wrap() call with gtk_label_set_wrap()

    Function has been renamed in gtk-3.98

    See osdn #42390

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4601aacf7495bd7ac35bff0ce2dc04d48c005dcb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 3 04:02:20 2021 +0300

    amplio/.gitignore: Drop as obsolete

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 09ba0b628121f507da50d889d01bb6a172cc3076
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 30 02:02:00 2021 +0300

    hungary.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42418

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4579a0bbaf5838e8f9228719fbf443da901a2500
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 22 16:10:46 2021 +0300

    gtk: Make loading to the default transport to work

    Option initially selected in the unit load dialog was not really
    set as loading target, if user did not explicitly rechoose it.

    Reported by alain_bkr

    See osdn #42303

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ce11a8c76fa6a923b8b6da769cc449303fa9ac29
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 2 15:45:40 2021 +0300

    Comment typofix: "checkin" -> "checking"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b2fc0b6eb355d1b18c103fe11ddaf1a651b9366e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 2 07:30:16 2021 +0300

    langobardic.ruleset: dos2unix

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 38f5e297a42f6599123d50f836bfa674e8e0c1f9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 26 03:29:22 2021 +0300

    Meson: Set FREECIV_SOCKET_ZERO_NOT_STDIN in Windows

    See osdn #42396

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ba470f7f730ae30cf4e30f68f105e2276296bda0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 29 03:21:33 2021 +0300

    frisia.svg: Shrink page size to image size

    See osdn #42410

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0e6fa6cf6f7156605c62e1577c0018a7a24548ab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 17 01:13:06 2021 +0300

    Replace '1' referring to tech cost style with 'Civ I|II' in a message

    See osdn #42119

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 137ae406a63c8940d5079897b23b2c850beac58e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 29 14:12:48 2021 +0300

    AI: Fix dai_goldequiv_clause() division by zero for tech clause

    In a ruleset where tech upkeep is enabled, there was a division
    by zero error when player had researched zero techs.

    Reported by kontorotsui

    See osdn #42409

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 599a489606b155cc60820f8bacd3a3a73a680f7e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 28 01:46:17 2021 +0300

    flanders.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42404

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7127f8236a7bc45cda4e3b33fb033df3b5696423
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 20 04:19:53 2021 +0300

    gtk3x: Drop uses of gtk_widget_get_toplevel()

    See osdn #42327

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8dbae19cd1d15d3b4ffbac357c14ad2211b094b2
Author: Lexxie9952 <32187224+Lexxie9952@users.noreply.github.com>
Date:   Sat May 29 14:40:24 2021 -0700

    amplio2: add castle and castle2.

    Add graphics for two castle bases - one open and one closed.

    See hrm Feature #919768

commit ddcae316ed8f1de6353e27c3dcac182423ac5c5b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 28 20:32:00 2021 +0200

    Drop check for 0 (cultivate|plant|transform)_time

    See osdn #42105

commit 89ef80f91325c5bff8f49d44a0bdcada48a94da6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat May 29 13:45:09 2021 +0200

    Add unit saver for paradropping on enemy units.

    See hrm Bug #869995

commit 13d7fcb691d6da457aaa38514ae090f3cebbb560
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 21 01:41:12 2021 +0300

    Inline is_server()

    See osdn #42331

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a150b6c056253408197a383a692786d109bbeda3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 26 23:28:56 2021 +0300

    equatorial_guinea.svg: Shrink page size to image size

    See osdn #42399

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 846d0c48377fdb8e5a4feb450b5716929d8feef5
Author: Lexxie9952 <32187224+Lexxie9952@users.noreply.github.com>
Date:   Fri May 28 17:45:38 2021 -0700

    Make the Transport Embark actions rare popup.

    This avoids spam pop-up from city GOTO traffic.

    See hrm Bug #928837

commit f3add483735efbcfa247f16b8f908e93da46507f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat May 29 16:23:00 2021 +0200

    Comment spell fix: igonered -> ignored

commit da8e04fa68165bb4f79704d65ad612aad1362ebc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 15 07:49:19 2021 +0300

    Meson: Add support for building freeciv-mp-gtk4

    See osdn #42270

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4273ae351432b20da74b9ad54284a9fd0037a166
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 30 17:05:33 2021 +0300

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against S3_1 strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 33598e6617d3a9bcbb415190f6861e7145dacb7a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 17 07:33:17 2021 +0300

    gtk: Make pillaging of the default target to work

    Option initially selected in the pillage dialog was not really
    set as pillage target, if user did not explicitly rechoose it.

    Reported by alain_bkr

    See osdn #42168

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 518ddc98c679bba777abe27934a9ee80d19dc84c
Author: dftec <dftec.es@gmail.com>
Date:   Thu May 20 22:31:23 2021 +0200

    civ2civ3: Correct helptext of Tech Communism

    In this ruleset, the effect of Cathedrals is reduced by the
    Communism government, not by the tech.

    Fixed typo error in helptext of Anarchy government.
    Added missing "*", and joined the 2 lines related to luxury.

    See osdn #42337

commit 96b8d831ee1591247ae0cb7edfcdc7e83503f27d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 26 00:21:13 2021 +0300

    egypt.svg: Shrink page size to image size

    See osdn #42393

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8eaac9a9df7a92185cb9d7919f4e251c345df452
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 21 02:34:00 2021 +0300

    CI: Work around older msys2 environment

    See osdn #42334

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1725581fcb48b95ad42dd7f89686eea22ef13e87
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 29 13:24:15 2021 +0300

    Add errno mapping for Winsock error #10038 (WSAENOTSOCK)

    See osdn #42043

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 223cacbe5ca6da42bc6fb235d2b04f9022ce35e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 16 07:41:32 2021 +0300

    Correct "fire power" to "firepower" in a help message

    See osdn #42207

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit de2b76fe26557520d6848aece82fdedd508fb3b8
Author: Andrew McGuinness <andrew@arobeia.co.uk>
Date:   Wed May 26 18:18:55 2021 +0100

    Avoid calling AI lost_control for human players

    See osdn #42325

commit c5353357098e489c94ceecb3d4c66983162b5f0f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 25 02:04:33 2021 +0300

    comoros.svg: Shrink page size to image size

    See osdn #42384

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9e32a2c8f36107cea82fb4f20133b7f38b051172
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 28 20:15:54 2021 +0300

    Bump version number to 3.0.93.8-alpha1+

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4edabfe7ea2dc9178a0759778a9a1bdf638b0873
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 28 20:15:19 2021 +0300

    Set version number to 3.0.93.7-alpha1

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b944b8d10ae30895adb2099470902faf154bc077
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 26 07:02:32 2021 +0300

    Meson: Define FREECIV_DELTA_PROTOCOL

    See osdn #42397

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0c42b686a2b50e5158970e828fffb9d5e286d585
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 28 16:39:17 2021 +0300

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against S3_1 strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b09f6c6b03100e1f93d13f6d0152161546131027
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 16 11:17:33 2021 +0300

    Improve indentation of entries in the left panel of city dialog

    See osdn #42298

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f428c334eec2cfb750e850dc926276609863d368
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 24 01:19:42 2021 +0300

    canada.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42378

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 44b22451e4539a06352978c8e5861067073b68ba
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 10 16:43:55 2021 +0300

    Meson: Set -Werror in debug builds

    See osdn #42213

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d2280e11e22fc2828bffb26afa12d0a8ce150200
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 17 01:01:00 2021 +0300

    Rename installer_msys2/freeciv-mp-gtk3x.cmd as freeciv-mp-gtk4.cmd

    See osdn #42151

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1139707cbb12628aa72b09a30012f5e5ec39e040
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 14 22:47:58 2021 +0300

    Correct gameseed and mapseed help

    Updated gameseed help to mention that actual seed will
    be usually based on system entropy, when value zero given.
    Mapseed help corrected to refer to gameseed, and also to
    mention the case of both mapseed and gameseed being zero.

    See osdn #42260

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 57e752ab94bd3c6142df31c91825634252c5a185
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 23 00:06:21 2021 +0300

    united_kingdom.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42370

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 15b718560fd982ba739b981d95311dbacfc19e2b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 13 05:31:12 2021 +0300

    CI: Build freeciv-mp-gtk4 on OSX

    See osdn #42252

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 91892981fcc932f341a1101d31794c0238d4c128
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Wed May 26 13:44:01 2021 +0200

    Updated French translations

commit ac0ed4e995de108f820f90a51eb66c2bf3c113e6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 24 03:12:35 2021 +0300

    gtk3.22/gtk4: Make tab notice color different from alert color

    Reported by pjlsergeant

    See osdn #42295

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 301390a3d89e35b0833d9b1f155300694ee0f540
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 26 03:25:25 2021 +0300

    Comment fix: "socket zero ... same stdin" -> "socket zero ... same as stdin"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d4779371bf0c09ff06392c866f2f7084d880ec13
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 22 00:57:00 2021 +0300

    bosnia.svg: Shrink page size to image size

    See osdn #42345

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 891dbec5becf02e24ad6ad1a121fb15612cfbd4b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 20 05:57:37 2021 +0300

    CI: Update list of msys2 packages to install

    See osdn #42321

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2b6afcf64c4e7c5ac2f052cedd2a6a9845fb4e6a
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Mon May 10 23:10:40 2021 +0300

    AI: Stop fueled units from unnecessary hopping between bases.

    The previous behaviour ruined regeneration and spent mp for
    nothing that could work for auto-attack or something.

    See HRM #924328

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit 137ad49b4fc6ac18f8075cb50c6d491eea84ce98
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 10 17:24:16 2021 +0300

    gtk3x: Get rid of remaining gtk_widget_get_surface() calls

    See osdn #42215

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 42e25849e268768ad43eeab88b9fe6ff905501fc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 11 17:51:10 2021 +0300

    AI: Use more advisor code for evaluating governments

    See osdn #42231

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d81f61b1bc9427e358ad89a54d01bb9aee0a4982
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 21 01:38:20 2021 +0300

    boer.svg: Shrink page size to image size

    See osdn #42339

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 24c6e84e14a3e404bb6631f956e69ff53cd05ab9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 21 16:18:08 2021 +0300

    MacOS: Respect user set MOCCMD

    See osdn #42342

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e20c28ae1bb55542168064667074a2968e98ccd1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 16 07:10:58 2021 +0300

    gtk3.22: Use widget's window in impr_callback()

    It was using default window.

    See osdn #42183

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 821fb21212ef918f30e0bc895f036fb6f239758d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 20 00:08:01 2021 +0300

    belize.svg: Shrink page size to image size

    See osdn #42326

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5cddb09e1d73ea9ee9de5935d8de360ee46a2ac4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 13 05:29:40 2021 +0300

    CI: Build fcmp front-ends for OSX

    See osdn #42251

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d9015d475189545d0bccf38de96c1a83ff99a120
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 9 13:49:46 2021 +0300

    Send packet_game_load with load_successful as FALSE when load failed

    The packet was sent with load_successful always set to TRUE

    See osdn #42189

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4effc304f0e5c776ad0430407528a0dbeaca3405
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 10 21:55:19 2021 +0300

    INSTALL: Update cygwin homepage URL

    See osdn #42217

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 864dec2341a02ae05fb22f64d647cf26a5584e3a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 19 00:30:37 2021 +0300

    belgium.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42315

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit acd4a76ae0f845d131043c0903426f8bdbf3d1f0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 17 23:27:39 2021 +0300

    Meson: Do not redefine HAVE_MKSTEMP in freeciv_config.h

    Correct definition comes from liblua_config.h.
    freeciv_config.h one was also defined unconditionally even when
    it should not be defined.

    See osdn #42306

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6dc01f5c6019dfe3116ec05f0133eba1dab27790
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 22 06:18:33 2021 +0300

    Consider tradeworldrelpct when calculating one time bonus

    See osdn #42097

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 938ac8f994011882fe0fbd2ad9d3804e018670c2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 22 01:43:59 2021 +0300

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against S3_1 strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 007c7505208c58615ba915ffb8a6961a7782ce3f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 17 23:19:47 2021 +0300

    euskadi.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42308

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8cf871cfd8c6d27b599a9d2752894e9dd5809b9e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 20 01:17:50 2021 +0300

    gtk: Add empty space for scrollbar in units and economy reports

    Scrollbar was hiding rightmost column of the reports. Work around
    that by adding empty column where the scrollbar goes.

    Patch by alain_bkr

    See osdn #42167

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 851054ff72e31c5d4626f03e4abe6646e4231bb6
Author: andrew <andrew@arobeia.co.uk>
Date:   Sun May 16 17:10:58 2021 +0100

    Tex: Avoid re-registering units and cities for each player

    See osdn #42299

commit 18d75fc277d1a100db3069377d2fec07b0c962da
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 9 13:37:03 2021 +0300

    Rename action_enabler.disabled as action_enabler.ruledit_disabled

    See osdn #42174

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f5886f130475cd7db5010be2fc2f862d1d56d32b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 9 16:43:53 2021 +0300

    Give ransom from multiple Barbarian Leaders on the same tile

    The old behavior was that no ransom at all was given when
    there was multiple Barbarian Leaders on the same tile;
    they were considered to be protecting each other.
    Now ransom is paid for each Barbarian Leader if there is
    no other kind of units in the tile.

    Reported by alain_bkr

    See osdn #42020

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aa4d3e56f7e90c527ebf545addb04e8bbb764487
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 21 04:46:32 2021 +0300

    italiangreek.ruleset: dos2unix

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit df4128a69c1df886ff65213abbf173846fe36c18
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 17 00:01:27 2021 +0300

    phoenicia.svg: Shrink page size to image size

    See osdn #42300

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 099f37208425b11a9470f82e07371cd992debadf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 15 08:26:38 2021 +0300

    dependencies/*/Version: Rename as Version.txt

    Files named "Version" caused trouble on OSX build where system headers
    wanted to include a file named like that.

    Reported by Dean

    See osdn #42271

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 05e5c125cd49f826d140c8a52738dae5fca57f13
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 18 11:01:12 2021 +0200

    "Is foreign" -> "Foreign"

    "Is foreign" was renamed to "Foreign" in 3.1.

    See osdn #42311

commit aa076d8f5d30b5645694a5e0882f2f11783b83ed
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 7 22:45:56 2021 +0300

    dai_calc_data(): List 'income' as outgoing parameter in function header

    See osdn #42192

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit caa0dceec7788f93b95a18b8da8dd46d94f8e7c7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 16 10:16:01 2021 +0300

    Replace "win32" with "windows" in post-crash debugger comments

    See osdn #42146

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e94c74f0dd60f17e3c8541a0eee92d808044ff23
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 16 00:06:24 2021 +0300

    kushan.svg: Refresh

    Loaded kushan.svg to inkscape and resaved with sensible view.

    See osdn #42291

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d01e45e24b12b0643da7bf66dc086fd2d72ecef7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 19 22:32:23 2021 +0300

    FAQ: Refresh from wiki

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3f28c7c158a504f84e011a6a170be5ae46ad53a3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 19 16:36:04 2021 +0300

    CI: Disable msys2 build

    There's no github msys2 action with new enough msys2 yet.

    See osdn #42035

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cf8c16d614ddc76cf1f699328e8aa28de3ac4bd4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 17 07:14:26 2021 +0300

    CI: Update msys2/setup-msys2 version used to 2.3.0

    See osdn #42035

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 407c8aee41853bcbb687348682e697cebe9c588c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 16 19:19:37 2021 +0300

    Update msys2 environment to 210515 level

    - Based on upstream snapshot 20210228
    - Replace pkg-config with mingw-w64-<arch>-pkgconf
    - Install just automake1.16, not all automake versions via the
      automake meta package

    See osdn #42035

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f4e1bca0c33edb79b5403c612b2722031f5f8d8c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 16 10:14:01 2021 +0300

    Strings.txt: Document how qualifiers are added to follow tag strings

    See osdn #42142

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eca3fd89f5be0b7cd177b7f28374ebbdc4e5a108
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 14 22:41:58 2021 +0300

    illyria.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42267

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2de7846af2e873418d4d1275c810ee9ffed006ec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 4 17:10:48 2021 +0300

    Introduce action_enabler_list_re_iterate()

    See osdn #42171

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d8e0a65283535d22931f2b53597cc507339e2938
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 11 18:41:40 2021 +0200

    Introduce effect_value_will_make_positive().

    See osdn #42239

commit 2cdf2985c6d8d90b1fd85905e838ca726e360a95
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 11 10:58:17 2021 +0200

    get_unittype_bonus(): take action parameter.

    Allow get_unittype_bonus() using effects to take action requirements.

    See osdn #42222

commit cbc3f343a56b59bb574bdc6b4c9c05c741b6941f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 28 22:49:36 2021 +0200

    Check if road or base action can target terrain.

    The autohelp should mention that a terrain type can't have bases or roads
    built on it if a base or road building action is impossible.

    See osdn #42155

commit 0c8a6bd84c1938630f685979a129fe40f9a6a3c8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 3 01:22:18 2021 +0300

    Replace follow tag "win32" with "windows" in examples

    See osdn #42143

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8b2ebad340bb586adf6c0ede9e896972e0556ec9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 13 05:26:09 2021 +0300

    han.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42255

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c12c79e13dd0c28855b0da273511f7dfe6dc3ede
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 9 12:24:09 2021 +0300

    AI: Increase want for improvement provided gold when tax rate high

    The high tax rate indicates that there's gold shortage that
    runs it high, and we should avoid making situation worse.
    Ideally we even improve the situation and make it possible to lower
    the tax rate in the future.
    Improvement provided gold is often negative as maintenance
    cost is included.

    See osdn #42195

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bb494a4dcac5c655936601860071c4e9ba799780
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 10 20:31:57 2021 +0300

    Meson: Set GDK_VERSION_MIN_REQUIRED & co per-target

    Having them as global flags won't work when we have executables
    for multiple different gtk versions.

    See osdn #42216

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b8336b8cc39bcde7ff98037a40ab15ea239b25f8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 10 06:00:56 2021 +0300

    georgia.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42208

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 666236eba3b89b34349a790196d1f56fce868881
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 1 11:39:34 2021 +0300

    mapview_common.h: Update URL to grid documentation picture in a comment

    The old server hosting the picture no longer exist. The picture has
    been salvaged and moved to our own server.

    Picture salvaged by louis94

    See osdn #42126

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ea593522642097daac49ede2ddf9c0c109e04d36
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 14 20:40:14 2021 +0300

    Don't promise that there's a one time trade bonus when there is not

    Reported by chippo

    See osdn #42087

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c64767ab6e4acf7ada7ce74d876edca58df3ea76
Author: Jim DeLaHunt <from+project_by_git@jdlh.com>
Date:   Tue May 11 23:50:02 2021 -0700

    Create a new man page "freeciv"

    Create a man page, with source in doc/man/freeciv.6.in . Content and
    structure are both adapted from doc/man/freeciv-{client,server}.6.in .
    This page gives an overview of the Freeciv game, including its client
    and server parts and its flexible rulesets and parameters. It points the
    reader to the other man pages and websites for detailed information.

    The problem which this page solves is that a user new to Freeciv, unsure
    where to start, can type the obvious thing, "man freeciv", and get a
    useful overview instead of finding nothing.

    Make changes to ancillary files to incorporate the new source file.
    All these changes are parallel to corresponding entries for similar man
    pages.
    configure.ac: include new file in AC_CONFIG_FILES([...])
    doc/man/Makefile.am: include new file in MAN_PAGES
    doc/man/.gitignore: ignore derived file freeciv.6

    See osdn #42138.

    Signed-off-by: Jim DeLaHunt <from+project_by_git@jdlh.com>

commit 8e4fb57b25df7ed16307f59aad1df11d5c1872d7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 12 06:09:04 2021 +0300

    CI: Use 'sysctl -n hw.logicalcpu' instead of 'nproc' in OSX build

    nproc does not exist in OSX

    See osdn #42248

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9f1c76bb4d792510117f229b04bc536c853959f0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 7 05:29:04 2021 +0300

    cape_verde.svg: Refresh

    Loaded cape_verde.svg to inkscape and resaved with sensible view.

    See osdn #42188

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bee757a9a6f96cb6cfeecd81edeae2dc23ac9e80
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 1 02:01:43 2021 +0300

    Correct name of ai/default/daicity.c in a comment

    adv_data_city_impr_calc() function header referred it by an old name.

    See osdn #42117

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ed8a02650d3bab1dfe81dcaea5f96b7ea0491751
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Sat May 15 17:36:21 2021 +0200

    Updated French translations

commit eb93d448fd86f8ca7e44be225d13736c2b8de632
Author: dftec <dftec.es@gmail.com>
Date:   Wed May 12 17:25:33 2021 +0200

    civ2civ3: Disable uk_happy for ships with attack 0, enable for fighters with fuel > 1.

    Galleon, Transport and Carrier (ships with attack = 0) no longer
    cause unhappiness (when they end the turn outside national borders).
    Fighter units (with fuel > 1) can now cause unhappiness due to
    military activity.

    Updated readme, that did not include the old exception about Fighters.
    Updated Sandbox ruleset with same changes.

    Requested by chippo

    See osdn #42078

commit fc528ffba591ad62a700629ffe7820b4c53e7214
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 8 04:43:10 2021 +0300

    Make man page links to work on OSX

    Reported by jdlh

    See osdn #42178

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8894e81829ac33406cc03160d8efc041424ee009
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 10 16:25:18 2021 +0300

    Include headers with tolua_*_open() with <>

    That makes meson based build to find correct header from the
    build directory first, and not the autotools based build generated
    version from the source directory.

    See osdn #42212

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 37d684a1e9377c5e2a3fba20119d25870acb773f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 4 04:02:15 2021 +0300

    armenia.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42163

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9cc7699d9af483fb208515ffc0943ffa72c7356c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 1 01:57:06 2021 +0300

    Make terrain transform_time of zero to disable transforming

    That's how it has been documented.

    Reported by Sveinung Kvilhaugsvik

    See osdn #42120

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 59b17098a924f4d795bb45d94549f81d35bfd7f0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 1 20:41:57 2021 +0300

    Qt fcmp: Show Qt5/Qt6 mode with the freeciv version number

    See osdn #42130

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9e442c93f7f43ce755ce14fde440790e2c9700f9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 14 08:46:35 2021 +0300

    gen_headers/.gitignore: Add stamp-h3

    Reported by jdlh

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b348e56bed7a9601abfbba384c7533407685ed23
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 14 07:50:26 2021 +0300

    Update Polish translation by Hubert Kowalewski

    msgmerged from S3_0 2f6dfb4040

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4396e50a620a086f34669cb3c6bea249794d164f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 10 16:53:02 2021 +0300

    CI: Set debug=true on meson based builds

    See osdn #42214

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 750b906626d55811dd6a76c452ebd6f13e0f8406
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 6 02:39:02 2021 +0300

    gtk3x: Remove gtk_widget_get_surface() call from impr_callback()

    See osdn #42187

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b39d50617a6f3336a5cf3fa8be390ba3daeec2d3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 5 18:27:37 2021 +0300

    gtk3x: Drop unused root_window

    See osdn #42185

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c635a337df022caeaa8c7504553a3810791d2c8e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 12 07:44:31 2021 +0300

    CI: Temporarily switch OSX build to use Qt5

    OSX Qt6 build currently fails. Use Qt5 until that gets fixed.

    See osdn #42250

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 80473b1f1dd47efc35029d616a4c5a91bceeb420
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 12 06:32:31 2021 +0300

    CI: Get OSX Qt6 paths dynamically with 'brew --prefix qt@6'

    See osdn #42249

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 521bbb2237952e0025aae9672c29897133eb055b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 4 04:36:42 2021 +0300

    Add meson config header templates to distribution

    See osdn #42116

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2786959178935fa2d72d2730151fdcd8add6ea96
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 5 15:53:06 2021 +0300

    gtk3x: Define GTKCOMPAT_GTK4_FINAL when building against stable gtk4

    See osdn #42184

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b10e2ce12ef7694ff8b4cab06c5fbf35e1f9b6be
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 11 16:11:29 2021 +0300

    Comment typofix: "againt" -> "against"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7f146533c900df800ac5d0c52b94b171f183c557
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 28 02:38:55 2021 +0300

    pkg.m4: Refresh from upstream

    See osdn #42081

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b18b5a68bc45a2b0c43064cfe758b5637efe3c16
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 3 11:51:03 2021 +0200

    can_attack_from_non_native() by action result.

    See osdn #42161

commit a80fccbac9e046871fe27256813e345e664b4d4f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 3 11:20:36 2021 +0200

    Add utype_can_do_action_result_when_ustate().

    Make it possible to check if any action with a specific result can be
    performed by units of a specified type in a specified unit state.

    See osdn #42160

commit 2f330934efa43b56d389c9ccd9c7d0fb3324b44d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 5 15:50:15 2021 +0300

    gtk3x: Drop gdk_seat_grab() and related calls

    No replacement functionality provided.

    gdk_seat_grab() API has been dropped from gtk-3.98.

    See osdn #42182

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 49446b79662a834fed883c41c5010bd31ade34ea
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 10 16:01:36 2021 +0300

    Ruleup: Set cultivate|plant_time to zero when activity disabled by _result

    It was legal format in S3_0 to have inconsistent _result and _time,
    in such cases _time was just ignored.

    See osdn #42211

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5f9e331140ac1d1403101d480a3bb178fb6d408a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 1 03:21:04 2021 +0300

    Sanity check cultivate|plant_result in relation to _time

    Reported by Sveinung Kvilhaugsvik

    See osdn #42124

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0d67cf30c838086e6d5ce45a33a6c06b9c7559de
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 25 07:21:24 2021 +0300

    stdlib_h.m4: Update to serial 63 from gnulib upstream

    See osdn #42070

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c37fa96e4574e991e42d3f12cdf1d804f424d800
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 1 20:36:11 2021 +0300

    Ruledit: Show Qt5/Qt6 mode with the freeciv version number

    See osdn #41869

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 035de96f91e608a5c64047a0bf8e7835a15cca95
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 5 07:15:43 2021 +0300

    Don't sanity check EFT_CAPITAL_CITY as a boolean effect

    It no longer is.

    See osdn #42118

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 06b0b0e4fd27aaf4c42eb36368c54a5817e7fb8c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 5 15:39:00 2021 +0300

    Do not enable gtk3x-client for --enable-client=all

    It doesn't compile with the final gtk4 stable yet.

    See osdn #42180

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bbeb06b49731a7da9fcf1728631b1ca973c7bc62
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 3 01:18:44 2021 +0300

    viking.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42150

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ff4e048660b4df5409aca23d7ca03f25edf4b1f0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 28 20:20:10 2021 +0300

    Correct return value documentation in is_allied_unit_tile() function header

    See osdn #42101

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c5f7a6323be3693d7540199e0b5af698f5f7b69c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 8 16:20:27 2021 +0300

    data/.gitignore: Drop ggz entries

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c505741411ee1173340169fec085b8956be5295a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 24 03:25:13 2021 +0300

    Rulesave: Fix saving of "Builder" AI trait

    See osdn #42066

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 61eacb824863b64858a62c33020a0b15c7d87527
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 30 04:37:20 2021 +0300

    Generate separate configuration header to be used for in-tree liblua build

    Definitions from full fc_config.h can cause trouble in liblua build.
    Generate and use separate config header that has just the definitions
    needed in liblua build.

    Reported by jdlh

    See osdn #42114

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 35307e69c0ef92a0af2fe623cf7e7d47c3bc66b3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 2 03:04:19 2021 +0300

    cheyenne.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42132

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 697a1b561ea536ae3b2b2f745a68b7fddd9aef36
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 3 09:40:16 2021 +0200

    Mention --clean in freeciv-ruleup man page.

    Reported by Marko Lindqvist

    See osdn #42153

commit 5d318cf00362c708f6c249e2f6235cbc6e9019bf
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 3 09:12:47 2021 +0200

    The "Trireme" flag has been renamed CoastStrict.

    See osdn #42158

commit c449ad9654a0d1ed66c707d4f515cae010b98d1b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 23 03:00:44 2021 +0300

    Fix ruleset comment typo: "desciption_file" -> "description_file"

    See osdn #42061

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2250e4bf4d721459f1f46be76a9208366546c64a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 7 05:58:01 2021 +0300

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against S3_1 strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cb810f07a2a80b0e4bb3fdd4836bcec3e0a2131c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 1 19:46:26 2021 +0300

    Meson: Install alien ruleset nation files

    See osdn #42128

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 15f92c84a0adf10714b5ff57c614c0906d0b9d41
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 23 02:04:08 2021 +0300

    INSTALL: Document MOCCMD

    See osdn #42049

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 186b60b18005704a9682e637e0954caecd1754b7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 22 07:35:27 2021 +0300

    Meson: Define storage dir with correct dir separator in Windows

    See osdn #42054

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 71536c0fab368cd1e778c8cdd79da1b0fd15d27d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 6 06:22:02 2021 +0300

    gepid.ruleset: dos2unix

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit db213da346c5e59c9c31df6ca7019ca095dc567a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 1 01:52:47 2021 +0300

    mongolia.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42123

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ea93820cb8ccfe8ce7ae682e3fa127e8f7df1dd4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 3 07:53:59 2021 +0200

    Make the irrigation_time > 0 hard req obligatory.

    See osdn #42157

commit e82eaca70f746e29559c6aa57742a83ee7584b88
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 22 05:53:05 2021 +0300

    sdl2: Drop unused create_themeicon_button_from_unichar()

    See osdn #42053

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit abf808eb603b0ae7c528fba697b3f65c4f9555d3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 3 15:58:29 2021 +0300

    Bump ruleset capstr

    See osdn #42159

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4b0110383a08049a17240c0900d4b59c80b770a0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 23 02:00:38 2021 +0300

    meson-winbuild: Link with -static-libgcc

    See osdn #42055

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ae2641d3bd84a81614cc280134e97116ce5ec829
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 5 05:16:56 2021 +0300

    NEWS: Refresh 3.0.0 NEWS from wiki

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 382e6418acf145425120032789303381e4c8de1b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 28 02:56:53 2021 +0300

    ethiopia.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42094

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c2cffa47b0eaa19209ebba90bf40cf141a6db166
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 20 19:25:10 2021 +0300

    Meson: Add BCryptGenRandom() support

    See osdn #42040

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f47c2797d9f77beca84ab20bf67cc98a364fe0fb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 30 04:01:31 2021 +0300

    iroquois.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42115

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 45ab167e1d1bdb8cf38742bbd97ddb52da0999b5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 3 16:03:59 2021 +0300

    Comment typofix: "given data" -> "given date"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 93a7c4126af1ed23931fe9d7730d79c2ed91f827
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 29 00:20:40 2021 +0200

    Check if road or base action can target terrain.

    The help dialog should only claim that a terrain type can have bases or
    roads built on it if a base or road building action is possible.

    See osdn #42131

commit 98ade6092d4f41c379751a1998c70422cde69282
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 3 11:51:59 2021 +0200

    Comment fix: missing space.

commit 7c225bc01f575e1812621cd96d25941daca88d39
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 3 08:44:54 2021 +0200

    Comment style fix

commit ebabcaf8e49207e6a0a84e37d4c069f0b0d5637e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 22 04:54:14 2021 +0300

    Improve comments about mapping Winsock errors to errno

    - Correct set_socket_errno() comment to point to net_types.h
      where the mapping currently lives
    - Add cross-reference comment to net_types.h about
      set_socket_errno()

    See osdn #42045

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ccf76a4391d2a7d1a09e80a91c4aa0b3027a9e57
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 28 14:43:58 2021 +0200

    Make the mining_time > 0 hard req obligatory.

    See osdn #42107

commit 10c12e25be0c483deef8bff57e8cad7932e35917
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 28 20:05:37 2021 +0200

    civmanual: check action can target terrain.

    Update existing checks if an action can be performed against a tile with a
    given terrain type to also check if the action itself may be enabled against
    the terrain type. It may be impossible to perform it even if it has a
    x_time above 0 or a defined result.

    See osdn #42106

commit 48db5faeef7e164e83776bffba3414eeb2918707
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 28 18:21:40 2021 +0200

    Use universal fulfills in contradiction detection.

    The functions in universal_found_function have knowledge about if a
    universal fulfills a requirement. This knowledge can be used to detect the
    contradiction where the presence of something is required but the absence of
    something implied by what was required to be present also is required.
    Use this in are_requirements_contradictions().

    See osdn #42100

commit 99b4e48a883b6c8f9d30f9e69b03afacff551ac0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 28 17:10:54 2021 +0200

    ustate_found(): support non local requirements.

    Prepare for universal_fulfills_requirement() checking any sort of
    requirement against a unit state universal.

    See osdn #42099

commit 4ffa366ead3e7754e8b2ab994e04e80b8ead09d2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 28 16:46:17 2021 +0200

    TerrainAlter for universal_fulfills_requirement().

    Detect if a terrain type fulfills a TerrainAlter requirement.

    See osdn #42098

commit c14403df6b0487104944dbe7c81f7b4d8aaa3ad9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 28 13:14:00 2021 +0200

    dai_unit_attack(): support "Explode Nuclear".

    The introduction of explode_nuclear_max_range made a ruleset where
    "Explode Nuclear" is able target a neighbor tile possible. Support it in
    dai_unit_attack().

    See osdn #42096

commit 200c61433337c4008098649749c86c65d1e2c0f7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 3 05:48:28 2021 +0300

    header_guard.sh: Drop check against Freeciv.h

    See osdn #41784

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e0383272e22fb9afd17abc57493da203a96e24db
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 3 02:47:18 2021 +0300

    create-freeciv-gtk-qt-nsi.sh: Update list of available guis in comment

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5f365c0772caae20ec612661429f9333d76feb8a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 29 02:15:00 2021 +0300

    indonesia.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42108

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 768caa32b0e5eb84561c2cbc08eb626da5c483f5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 19 17:32:51 2021 +0300

    Define default port in .project file

    See osdn #42030

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 740df94a9975f2ef8652f3341df1d5516b5b1b39
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 16 06:22:39 2021 +0300

    Drop rscompat code for effects nreqs requirements

    See osdn #41977

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6fc3c6554058a4964107f51a1edecc4f48ddb656
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 2 05:18:08 2021 +0300

    carantanian.ruleset: dos2unix

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3a86898de66145d34cef4e7ec4909d3ab1083947
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 27 03:08:22 2021 +0300

    keetoowah.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42080

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1a2400267ecb380a89fa635de406ca53eb47cdc6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 28 12:15:19 2021 +0200

    alien and civ1: Drop unused !"HutFrighten" reqs.

    Reported by Marko Lindqvist

    See osdn #41859

commit 3ed343cb30b9a1d4daa79b7d35e9bb411f670dee
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 28 12:02:06 2021 +0200

    Count never there as absent.

    Consider an obligatory hard requirement fulfilled if a universal that never
    is there is required to be absent.

    Reported by Marko Lindqvist

    See osdn #42095

commit 09546c6802fc909bacbee89d5c24c8c6d1cdc1cd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 28 23:38:57 2021 +0200

    Comment numbering fix

commit 3ce0eef662d3a1a416a597f538fbac4d1a8ba70f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 1 07:23:06 2021 +0300

    Clean out VUT_UNUSED

    See osdn #42011

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d0a45d8305f45e285d578887214007f6d0b71b35
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Sat May 1 14:47:05 2021 +0500

    Update for Russian translation.

commit d4dcc9a3017d898ebb90201a07b64122c1ed8567
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 16 23:36:58 2021 +0300

    Ruleset comments: Fix "compatability" typos -> "compatibility"

    See osdn #42017

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d9da98615ba013944b6be2363fa2e4caacdbeeb8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 1 06:49:46 2021 +0300

    Bump version number to 3.0.93.6-alpha

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit efb46e8f1ef1c117dbc85e40e1d39493578ee974
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 10 18:54:01 2021 +0300

    Tell in help if nukes can destroy cities completely or not

    See osdn #41967

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 176194f911a39212acbcc9a3e83d49344abd2358
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 26 05:28:09 2021 +0300

    brasil.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42076

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit caf33c66496983f462692ca0bd3abd024f673336
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 17 01:34:14 2021 +0300

    Ruledit: Drop unnecessary includes from req_edit.h

    See osdn #41964

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 912ab3d145042f29a33a6d74a56e92230a78b5c3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 28 15:56:30 2021 +0300

    Define H_ASSESS_DANGER_LIMITED also in normal (non freeciv-web) builds

    It's still set to any AI player only in freeciv-web builds.

    See osdn #41939

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f0474e79a92902605ce5e7750157da783f297fe5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 25 05:03:32 2021 +0300

    sumeria.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42069

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 400d5d3e593735def60488bebc6c9bb117b1377a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 29 21:53:16 2021 +0300

    Comment typofix: "diplomancy" -> "diplomacy"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b5298adce8d598d1daabf2043c7ac9cb7b73ac88
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 11 11:44:02 2021 +0300

    Add verbose log about new turn at client side

    Requested by alain_bkr

    See osdn #41973

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cc1d70def7ab16bd9096f94cc172eb69948c73c1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 29 09:44:23 2021 +0300

    translations/core/.gitignore: Do not ignore nb.po

    Long time ago nb.po was just copied from no.po, and not under
    version control. Now it's the actual translation, under
    version control, and definitely should not be ignored.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d2c28c6d254dba3c9a909216b31513a3ac1f19f3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 8 18:54:16 2021 +0300

    Meson: Add option to build freeciv-web version

    See osdn #41948

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aa5528588e3fbc77791a5b2a58203cc94c4fb67b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 23 05:08:28 2021 +0300

    hephthalite.svg: Refresh

    Loaded hephthalite.svg to inkscape and resaved with sensible view.

    See osdn #42065

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fcaa99f1de51e0064f64fb148cad22e11623309d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 18 06:35:27 2021 +0300

    Check that its transporter can hold target unit before converting unit

    See hrm Bug #921940

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1578cb25f72f33a28475606b6f8ec43a36a5bdd5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 11 02:51:13 2021 +0300

    Correct comment about ai_fuzzy() location

    fuzzy_of_skill_level() function header claimed that ai_fuzzy()
    is in common/player.c, when it is in the same difficulty.c as
    fuzzy_of_skill_level() itself.

    See osdn #41937

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6885ad39832f517b45148cb9e41364e9e44284f3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 25 08:52:16 2021 +0300

    Fix xgettext warnings from game.rulesets

    See osdn #42071

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d6475e56f969f92fb39f7f35dd51b5c54572aad3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 28 03:39:39 2021 +0300

    Update Finnish translation of the ruledit domain

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1d8a0e586ec0a62dbd93bc08ccef4ea0708b15c9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 22 23:59:37 2021 +0300

    rome.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42059

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fce0de5635c1f78579561957883191d269af3840
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 23 21:47:53 2021 +0300

    Bail out from find_dispersed_position() if no tile found in time

    It was possible for the function to end in endless loop if
    there was no suitable tile to be found within dispersion area.

    Reported by jtn

    See hrm Bug #767127

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0011dc41f59686e0f5e7a6e5875d2437ee8344b0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 22 01:18:35 2021 +0300

    maya.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42050

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7fc172f69a33474802537eb50d2ff2596ab8824f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 21 01:14:34 2021 +0200

    Tolerate ending unstarted action selection.

    Relax the assertion in action_selection_no_longer_in_progress() so it allows
    ending the action selection for a unit that never started it. This may
    happen when a follow up question to the action selection dialog is asked
    from a non action selection dialog source like a menu item for that action
    alone.

    See osdn #42042

commit 015fe5d446473509bc6bc2e0bac7b26898787bdb
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Apr 20 11:08:29 2021 +0200

    Better information in upgrade_ruleset_version.txt

    Add commit date so the age of the snapshot is apparent.
    Add action stamp to get a VCS neutral commit reference.
    Don't record what reference names pointed to the commit at the time the
    command executed.

    See osdn #42038

commit 92dcf375b1dbe9c53a13d11cbdca3c2cb34f219e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 15 09:55:49 2021 +0200

    Clarify "Attack" action enabler names.

    See osdn #42010

commit e30bd2176d0a1058fca3959345c57e4a51a08a4d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 9 00:55:20 2021 +0300

    Ruledit: Delete "Edit Values" dialog when ruleset item is deleted

    See osdn #41957

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6af9913615e4a32e0b47795888fadcfddeacff61
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 10 02:09:02 2021 +0300

    Notify players when nuke destroys a city completely

    See osdn #41912

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7bf91e81cbedec45445915872b32734426eee0cf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 21 01:05:10 2021 +0300

    carthago.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42041

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5067e8df26df3dff875fc228a48f16204c7f688a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 22 21:45:54 2021 +0300

    tcc.m4: Fix missing prototype error from FC_VALUE_AFTER_EXIT()

    See osdn #42058

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4508931526d691395e77ae14a0848e0e0e75b901
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 25 12:25:20 2021 +0300

    Stop terrain changing unit activities when climate change changes tile

    Requested by Alexandro Ignatiev

    See hrm Bug #899919

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d794c21bae685166ff23b4f04733a7b68612d5d8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 25 08:48:54 2021 +0300

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against S3_1 strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7a097b4ca100902fa1b3f26ba9021942d73036c9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 8 15:05:13 2021 +0300

    Document that get_preferred_pillage() has list of extra causes too

    Comment for enum extra cause now tells someone adding new cause types
    to also update get_preferred_pillage() to reflect the added type.

    See osdn #41949

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 606fe9dda353dd0939b04b1ea45372efc071536c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 20 02:34:48 2021 +0300

    australia.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42027

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7d9b4c98f7eb88c16e6f0315280ceaa48c5f8080
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 21 15:38:01 2021 +0300

    stdlib_h.m4: Update to serial 62 from gnulib upstream

    This is a comments-only update.

    See osdn #42034

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4176a5e39c041bb9521e4c1f3384d9a91d687489
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 9 06:41:22 2021 +0300

    Improve ruleset comments about ransom_gold

    It's possible it's not granted in full when barbarian player
    has not enough money.

    Reported by chippo

    See osdn #41943

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 96afe5b5c3e7789ea1591bb7f5969282fe1d8129
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 22 04:44:49 2021 +0300

    Add ruleset setting controlling Small Wonder visibility

    See hrm Feature #924859

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 30d648437b411cb759c2a5f6305ed8c084fbec13
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 19 00:43:29 2021 +0300

    babylon.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42025

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 53b48650dfe63bcf5fe33e00b3f55baf61a9bdb3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 18 04:49:41 2021 +0300

    tcc.m4: Fix duplicate result output from FC_VALUE_AFTER_EXIT()

    See osdn #42021

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5ed1a91205b646f8607ed46d3215a6cb02d90df5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 10 02:12:02 2021 +0300

    Fix server crash when illness destroys a city

    See osdn #41959

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 303c499260ecd9e9b370065f46e49adbfc9ef7fd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 18 07:55:12 2021 +0300

    avar.svg: Fix format errors

    See osdn #42022

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b4226717a2b16d16b109a8f5f7b0fe0fc93bfcec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 14 04:28:38 2021 +0300

    INSTALL: Improve listing of Qt-client dependencies

    - List 'moc' in dependencies
    - List compiler's requirements first, and mention examples of compilers
      tested only after that
    - Mention that also clang++ has been used in development

    Requested by chippo

    See osdn #41998

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b1fb365fcc07e525db7aeff9c78d52da00623d79
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 19 16:09:56 2021 +0300

    Disable PF_WAIT_DEBUG by default

    This fixes a regression that an existing error situation is turned more
    serious by failing an assert on it. The assert would also be
    overzealous even without the actual error situation it currently hits.

    See osdn #42029

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 61e2c21f2104b85e1c1a9cd7e99a7484f3896723
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 22 05:01:02 2021 +0300

    Meson: Enable fcdb

    See osdn #41934

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 573a654fae81d068eaae5b18bfe1061985450a7f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 18 07:08:09 2021 +0300

    aztec.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42023

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5c4bf930acf57b653cfd1283d46798151036ed6a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 19 00:32:55 2021 +0300

    configure.ac: Don't check for /dev/urandom on Windows

    It could be found at configure time, but would not be available
    once freeciv is installed. Make sure it does not get enabled by
    not checking for it at all in Windows

    See osdn #42024

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8f1017fa9ca05c6fe8fc98f77caae23db40a4487
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 21 16:51:15 2021 +0300

    tcc.m4: Comment typofix: "usualy" -> "usually"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ad5a4a78cfa81013f1411f6c2a142c3c93c8ad90
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 9 00:18:27 2021 +0300

    Ruledit: Prevent multiple "Edit Values" dialogs for same ruleset item

    See osdn #41951

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e1bdb3ba2aed229a65e54783744d714b4015fbbe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 17 15:14:24 2021 +0300

    austria.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42019

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 784602c265f751f1347bcaf29a11670444dc0dee
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 15 15:15:01 2021 +0200

    Allow nuking non native with no attack_strength.

    Allow a unit with "AttackNonNative" and without "Only_Native_Attack" to do
    "Nuke Units" to a non native tile even if its attack_strength is zero and it
    is unable to perform any other attack action.

    See osdn #42008

commit 6c6e8298dbef18c59050d23c91942f5a4be14e14
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 15 12:08:16 2021 +0200

    unit_attack_unit_at_tile_result(): action param.

    Take what attack action is being checked as a parameter to
    unit_attack_unit_at_tile_result(). Stop checking the rules for other actions
    when it is specified.

    See osdn #42007

commit a008f1215572ec58dac30758decc1465dbec0c0d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 15 11:41:17 2021 +0200

    Fix unit_attack_*_at_tile_result() header length.

    Fix the line length of the function headers of
    unit_attack_unit_at_tile_result(), unit_attack_all_at_tile_result(),
    unit_attack_any_at_tile_result() and unit_attack_units_at_tile_result().

    See osdn #42006

commit 6f2ddacd6f4f8c739b07f5ada9ab32dda3495429
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 15 10:59:10 2021 +0200

    Document "Nuke Units" on non native tiles.

    The action "Nuke Units" is influenced by tile nativity of the target unit,
    the "AttackNonNative" unit class flag the "Only_Native_Attack" unit type
    flag. Document it.

    See osdn #42004

commit b9c30ac76d7b6c1b1ffc6554dfc4bc082c90ad16
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 15 10:32:08 2021 +0200

    Action prob: custom AttackNonNative detection.

    Requested by serge_alard

    See osdn #42001

commit 9003451a9be95b1d0e857ef02273732904172bbb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 15 07:19:44 2021 +0300

    Update gnulib-common to serial 65 from gnulib upstream

    Update also stdlib_h.m4 to matching serial 61

    See osdn #41999

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0788e2e8e46f74d2ad79c151a29b2d87cd2fe490
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 6 15:46:57 2021 +0300

    Purge already built buildings from the worklist

    They used to be just postponed.
    This is not exactly targeted to the case where building is
    already built, but takes effect for any unknown reason for
    which building is not buildable at the moment.

    Requested anonymously

    See osdn #41925

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3378aef5b0edc2d45c59640a26af52edd32d2f3d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 16 20:31:57 2021 +0300

    argentina.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42016

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 72415a88ef8f2c60f7665aa286a6b1a876b711a9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 13 20:48:16 2021 +0300

    Fix false positive when looking for moc-qt5/moc-qt6

    See osdn #41997

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6b26f02ef1c85542799d47dac8cfbbb0a29368a2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 8 16:24:10 2021 +0300

    Ruledit: Use QCheckBox instead of QRadioButton where sensible

    See osdn #41945

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6cc804464e900752e4538e8b2eb46e86fd22e855
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 6 15:36:49 2021 +0300

    Correct worklist_item_postpone_req_vec() return value documentation

    Function header claimed it returns TRUE when item can be postponed.
    In reality it returns FALSE in that case.

    See osdn #41927

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c481234b2622df6a67ea86e27fe54f20d9f6e832
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Mon Apr 19 02:11:58 2021 +0200

    Updated French translations

commit 31c02f21904c67bb3179d2354c335c420cebded2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 12 14:17:25 2021 +0200

    Use scenario ruleset as fall back.

    Some scenarios aren't ruleset locked. They can still require that the
    ruleset has certain ruleset_caps. The current ruleset may not fulfill that
    requirement.

    Fall back to the ruleset specified in the scenario's rulesetdir when that
    happens.

    The previous behavior was to both fail to load the scenario and to reset
    the ruleset.

    See osdn #41994

commit 5360eac102edbcb0f2872007713f39b842e094c8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 12 12:41:20 2021 +0200

    Document how to set ruleset for scenario.

    Some scenarios aren't ruleset locked. Document how to set the ruleset of non
    ruleset locked scenarios when this is attempted after the scenario has been
    loaded.

    See osdn #41962

commit 54f69ec63b874434e4bff0435f6885c3d059c8e5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 16 05:32:53 2021 +0300

    arab.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42012

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 888d9e9634cf77ee069aa4a0d56c347cbbf9e7b0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 10 11:22:46 2021 +0300

    Make it possible to use custom database.lua

    See osdn #41880

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 11f6e50f318c73d4bfa5d5551d38441a763875f6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 8 16:10:31 2021 +0300

    Ruledit: Add support for description file reference editing

    See osdn #41946

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6d6f1bfbce3545bda2fb942bf1f0d126d87d7ba5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 8 06:48:59 2021 +0300

    Improve help about Barbarian Leader ransom

    The sum paid may be less than the ruleset defined value if
    the barbarian player has less money.

    Reported by chippo

    See osdn #41938

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7a7fc99c609fe6695cb69f7f8dc9b9b5f9fb123f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 15 16:11:57 2021 +0300

    usa.svg: Shrink page size to image size

    Update to current inkscape format.

    See osdn #42005

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8d312d271de00fb023973bd1534d057479c476f6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 8 15:45:54 2021 +0300

    Ruledit: Add support for editing unit build cost

    See osdn #41950

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a7a58f4d6366be2fd395cf9c6ea9642a046ad61e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 17 03:23:49 2021 +0300

    AI: Make invasion_funct() to handle cargo units of the passed unit

    Handle unit itself and all of its cargo. The code used to handle
    the unit itself only.

    See hrm Bug #872215

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d71df3c5f15badbfc949dc82576708f7fb2663fe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 10 16:43:51 2021 +0300

    iran_ancient.svg: Shrink page size to image size

    See osdn #41966

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bc5b533ef8aa832ebccf7f2a82d1376dbbfedbb0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 5 09:57:12 2021 +0300

    gtk: Change multiplier current value label to show "Now"

    The old "Cur" was deemed confusing.

    Reported by Dean Brown

    See hrm Bug #727155

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dff9026c441a73954c1fc215638c1b75d5578d86
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 12 12:11:51 2021 +0200

    action_actor_utype_hard_reqs_ok*() takes action.

    Update parameter in function comment header.

    See osdn #41993

commit 420f250312bd5f889501282be0fa2794bb40be9e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 12 12:07:22 2021 +0200

    req_vec_fix: item_info has been renamed to item.

    Update parameter name in function comment header.

    Reported by Marko Lindqvist

    See osdn #41931

commit 308b86dfb64bd6c02e97c8c40ce77e27e0183e50
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 12 10:48:58 2021 +0200

    Document what 'disabled' means in an enabler.

    See osdn #41992

commit 8ae410f7159faf98c8d9eca685cd0a5f0a2f42dd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 8 15:35:32 2021 +0300

    Ruledit: Consistently place "Edit Values" button in different tabs

    Also name it "Edit Values" also in tab_unit. It's now always
    placed after the ruleset item name fields, before any of requirement
    or effect buttons.

    See osdn #41944

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2d88190df6dc524e688daa669c086c16d632fcf2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 16 07:46:25 2021 +0300

    Comment typofixes: compatability -> compatibility

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5fe875215d9282ef75a96601368fa8c00f5d3018
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 16 04:19:53 2021 +0300

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against S3_1 strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f11da603b65474bc55741f11f70ee2b50a380687
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 16 03:07:44 2021 +0300

    Drop unused 'capital' field from PACKET_EDIT_PLAYER

    See osdn #41921

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d20fa21d8b72a337bc96db7ef533ee964dc2a3f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 12 10:02:13 2021 +0200

    Less scary "action enabler dropped" logging.

    Inform the user that multiple copies of the original enabler may be created
    while hard obligatory requirements are added and that the enabler being
    dropped because of a self contradiction may be one of multiple copies of the
    original.

    Demote the log level of the message when an enabler is dropped because of a
    self contradiction to warn. As multiple copies are created when there is
    more than one potential solution a self contradiction currently only
    indicates a potential error.

    Thanks to Marko Lindqvist for feed back on the solution.

    Reported by Marko Lindqvist

    See osdn #41971

commit d56464de84eb654e4736cd416d4756136b6f66df
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 12 09:14:51 2021 +0200

    Mention where the action enabler was dropped.

    Have rscompat_enabler_add_obligatory_hard_reqs() specify in its error
    messages that the enabler was purged while adding hard obligatory
    requirements to action enablers.

    See osdn #41991

commit 8b4de86237ceb08c303c432a2660f09c6e285cce
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 12 11:28:20 2021 +0200

    Comment grammar fix.

commit 302c1e8e880a27220938f3fb14f4fa009dfae62c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 12 10:45:18 2021 +0200

    Comment spelling fix: rueldit -> ruledit

commit c8b00ffc1f5d733eeae955e2efcb3dac002ca6ef
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 12 10:05:23 2021 +0200

    Comment fact fix: update for multiple solutions.

    An obligatory hard requirement for an action enabler can now have more than
    one solution. An action enabler self contradiction is therefore more likely
    to come from some but not all solutions contradicting the original action
    enabler than from the original action enabler never being in use.

commit e9a1c1cb977767b1953ce5c36bceb06b90b8f539
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Apr 11 00:40:05 2021 +0200

    Comment fact fix: unit may be dead.

commit e34674c6fb415d7e3f344d9d4b891c4083c7cd86
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 5 13:09:30 2021 +0300

    hexemplio *.spec: Define artists in correct section

    Client expects entry 'info.artists', hexemplio hills.spec and
    mountains.spec had no [info] section but had 'spec.artists',
    leading to unused entry warning from the client.
    Add [info] section where 'artists' entry goes.

    See osdn #41923

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 42d2512d543625525082e5c7ece12d0b2e15f082
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 6 22:10:14 2021 +0300

    Enable /dev/urandom support when possible

    Add configure check to enable support for using /dev/urandom
    as entropy source for randseed.
    For cross-compiling the default is to disable support, but
    you can override that by setting ac_cv_dev_urandom=yes

    See osdn #41918

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 782ad013785eb5a54ec1dd0420aa7ef66ecb7e82
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 3 19:57:35 2021 +0300

    Use tag "unit.cultivate" instead of "unit.irrigate" in supplied rulesets

    See osdn #41914

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 15aa3f56dcd6d579997dff66cdcf06654c9133b2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 14 17:51:29 2021 +0300

    Fix 'make dist'

    Fix typo in the name of 'convert_png_legacy' to add to tarball.

    See osdn #42002

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d6e0446462477c5347628d15113f2607123755d8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 12 21:47:14 2021 +0300

    convert_png: Make to work with Inkscape 1.0.2

    See osdn #41884

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 83b846b02410db2685923472d539081826fa2f55
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 14 14:01:34 2021 +0300

    Use AC_CHECK_HEADERS() when HAVE_xxx_H macro expected

    AC_CHECK_HEADERS() with two headers to check was recently
    changed to two separate AC_CHECK_HEADER() uses as one of
    them require special handling. What was missed, was that
    AC_CHECK_HEADER() does not define HAVE_xxx_H like
    AC_CHECK_HEADERS() does, leading to compilation failure.
    Replace those AC_CHECK_HEADER() uses with uses of
    single-parameter AC_CHECK_HEADERS() to have HAVE_xxx_H
    properly defined.

    This should fix OSX build.

    See osdn #42000

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b0a9755a01a61b5d25ee5897fc1c872d060f6be2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 12 15:42:24 2021 +0300

    Fix build on cygwin

    See osdn #41995

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 201fce7ee4f5af3b35dc12b4409e55906a2abdd4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 3 08:38:51 2021 +0300

    Meson: Add xz compression support

    See osdn #41907

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 76b9404a7a931ea02b2e94421b2f155fd2b7a98c
Author: Chang Liu <goduck777@gmail.com>
Date:   Tue Mar 2 07:04:03 2021 -0500

    SDL2 client: force UI refresh when turn ends

    Fix some dialogues not showning up when player's turn ends.

    See osdn #41683

commit a53b43a660ae51d3bfbca0ac1cb706e658bc0111
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 6 15:25:10 2021 +0300

    civ2civ3/sandbox: Consume Diplomat or Explorer establishing embassy

    Establishing Embassy without unit cost was overpowerful action
    considering that embassies give tech leakage, units capable of
    establishing embassy are given as startunits, and by default
    all players start at the same continent, i.e., are easily reachable.
    It also made Marco Polo wonder obsolete.

    Reported by chippo

    See osdn #41929

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 45a29ec0610b9ff96b2c7e3e61269bde113e6e72
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 7 16:58:54 2021 +0300

    Update fcdb lua api documentation

    See osdn #41935

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f4e29e7300c08e3685d4c5cf9db1459a41204ab2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 7 03:05:23 2021 +0300

    tcc: Return value even after exit() call

    Fixes tcc warnings like
    server/savegame/savegame2.c:1048:error: function might return no value: 'char2terrain'

    See osdn #41890

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4835fad28753392442afa2bcce6bd835246a3495
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 11 00:09:16 2021 +0300

    civ2civ3/sandbox: Add missing newline to Anarchy helptext

    See osdn #41969

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6ab41b104009aa70bd3cd110e84f7d381fa84481
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 12 16:35:35 2021 +0300

    Comment typofix: Structute -> Structure

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1e96ebc4e4f77b0465f16384861b512145200c94
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 10 11:25:12 2021 +0300

    Ruledit: Use QSpinBox for numeric requirement value

    In requirement editing dialog, text editing field was being
    used for entering value for requirement types that take numerical
    value. That wrongly allowed user to enter any text, not just numbers.

    See osdn #41893

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit adfe00e941700ac2526a0b9af3bc274985a8b158
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 3 09:32:28 2021 +0300

    Update included lua to 5.4.3

    See osdn #41909

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e8fc390664e6978256ef379547a1ed54b1058ddd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 3 19:41:00 2021 +0300

    Use tag "unit.cultivate" for Cultivate activity

    Also Irrigate activity falls back to "unit.cultivate"
    Many rulesets still have "unit.irrigate" as alt tag for
    unit irrigation extra building activity.
    We can (and should) change supplied rulesets, but to
    support custon rulesets - which may result from
    ruleup from earlier version - supplied tilesets still
    provide "unit.irrigate" as an alias for "unit.cultivate"

    See osdn #41913

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4b7f98fde817de495ad82c7f614cebf44a092e6c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 3 04:43:14 2021 +0300

    Rulesets: Improve Nuke related action enablers coding style

    See osdn #41904

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f2eec54c3446ce6b92761a74b66bd6dd7387c928
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 11 12:21:09 2021 +0300

    Fix send_city_info_at_tile() crash when the tile has no city

    See osdn #41975

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f5824506ac4ae0f5afcda37d13325bdea3b4021b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 8 17:39:35 2021 +0300

    Wait until city is in sane state before sending info packets

    Don't send city info packets to client in the middle of the city
    processing when city might be in inconsistent state.

    See osdn #41851

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dff16c70799d921a6af77ef432ff634deb82177c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 4 05:29:12 2021 +0300

    Clean out rscompat code for loading resources that are not extras

    That was a 2.6 to 3.0 conversion.

    See osdn #41917

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 024d6afe2edbb04d15717e567de411654c4bfcc0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 8 16:33:04 2021 +0200

    A building that allows actions isn't redundant.

    Some wonders in sandbox are shown as redundant even if they allow units to
    perform an action. Make enabling an action count as a side effect.

    Requested by Emmet Hikory in a FIXME comment.

    See osdn #41955

commit 2405bf49914037f3b052bb0dd07cd50c112a7bb9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 8 16:28:59 2021 +0200

    Factor out utype_player_already_has_this().

    Split utype_player_already_has_this_unique() in two so it becomes possible
    to check if a player has a unit of a certain type.

    See osdn #41953

commit ffbf9c6448551acfa9bc2fe18f33c4bc9a9be009
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Apr 10 13:23:47 2021 +0200

    Comment fact fix: diplomat -> unit.

    The action selection dialog hasn't been diplomat only for a long time.

commit 5eeef4a691774efdd9be0dccce7b1c4a11531048
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Apr 10 13:12:34 2021 +0200

    Comment grammar fix.

commit 020bc91897182bde96b7f32ede44e96b5c1ff24c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 11 00:07:08 2021 +0300

     Update Finnish translation

    This is just S3_0 fi.po msgmerged against S3_1 strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6d76763dc5da4a7c0525ac8de7cc6bf4d7c05004
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 8 17:22:46 2021 +0300

    Meson: Add gitrev option

    See osdn #41881

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5ac9d249260d397f0e1985990249bf09ea1181db
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 7 03:15:30 2021 +0300

    gtk unitselect.c: Use GINT_TO_POINTER to cast between pointer and integer

    See osdn #41932

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f0d0341c0e0c4e31861e00229b6d59297b3cad82
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 3 13:37:39 2021 +0300

    Round city size reduction by nuke_pop_loss_pct to nearest, not down

    Make default nuke_pop_loss_pct 49 (instead of 50) so cities are never
    completely destroyed when the default value is used.

    See osdn #41911

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 16ae331308c5d4a5341447016e2702b2bd171380
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 3 06:42:15 2021 +0300

    Update stdlib_h.m4 to serial 59 from gnulib upstream

    See osdn #41906

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4c0c589ce5c028250deff8075396e38d9150917b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 4 07:34:01 2021 +0300

    civ2civ3/sandbox: Clarify luxury rules under Anarchy in help

    Requested by Goz Nij

    See hrm Bug #811425

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 538236415386cd2affde62996c7cebf0ac99eb1c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 30 19:52:27 2021 +0300

    INSTALL: Drop outdated OSX notes

    Reported by Dean
    See osdn #41887

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ae07f9d63f2bd3c0b13dfcb0b07b72a8943edacc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 30 15:04:31 2021 +0300

    meson-winbuild.sh: Store fc_config.h and crosser conf files to output package

    See osdn #41882

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c440c0a7de8a6246ab2403423adf1a0b5f6f7854
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 1 05:37:10 2021 +0300

    Ruledit: Allow entering effect values in range -1000 - 1000

    It used to be limited to just 0 - 99.

    See osdn #41892

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3f4dc02ced11e6bef330fd3914df26c4414bff5e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 31 05:42:24 2021 +0300

    Update lib-link.m4 to serial 32 from gnulib upstream

    See osdn #41889

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ba548fc6632c81c15fc6c48a3ab21a7756460304
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 6 15:59:54 2021 +0300

    Fix CM crash when the other end of the trade route is not yet known

    Reported by alain_bkr

    See osdn #41926

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5b64816cd2c566e45c6782bda9e71c05339687d3
Author: Hilde Iren Lagnason Bye <lagnason@hotmail.com>
Date:   Wed Mar 31 12:10:57 2021 +0200

    Run action_dice_roll_odds() only when relevant.

    The function action_prob_pre_action_dice_roll() will only use the result of
    is_effect_val_known() when the value of EFT_ACTION_ODDS_PCT is known.

    See osdn #41928

commit 9065f21dbf9fbcb5d879b5e545f5623d1c35de65
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 24 06:24:51 2021 +0200

    Replace 1 with TRUE in ai_fuzzy() function header

    It refers to a boolean value.

    See osdn #41847

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9396624e6755f3c65fc5ab527025cc45f86ff579
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 1 05:01:24 2021 +0300

    Ruledit: Add building details editing dialog

    Thre only value that one can edit in the initial version is build cost.

    See osdn #41891

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a68fe91e67548e429099891e6b73e83a4315903f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 7 17:08:32 2021 +0300

    client/.gitignore: Drop freeciv-xaw entry

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a665ab405736e4cae5fb6c1165aba383b43979ba
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 29 21:52:26 2021 +0300

    Introduce randseed typedef

    Replace various uses of 'int', 'unsigned int', and 'uint32_t' as
    random seed type with a new 'randseed' type.

    See osdn #41873

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c0ef6ad7606b7cc412ba5e18a2664f304a58dd2b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 30 15:02:54 2021 +0300

    Meson: Set _WIN32_WINNT for Windows builds

    See osdn #41883

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8013460bcc44610d38b674c5d4288046174e38c3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 22 16:46:50 2021 +0200

    Update progtest.m4 to serial 9

    See osdn #41830

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e934c3a3d388f0b729fc1c664e060db9cc247e76
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Sun Apr 4 00:39:24 2021 +0300

    fuel pathfinder: dont wait for no reason

    See hrm Bug #923677

commit 5adeab2307d83418bb0ae412d146011b57992753
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Apr 3 11:19:22 2021 +0200

    Remove unnecessary restriction.

    For quite a while key_unit_action_select() has set server side client state
    calling up an action selection directly. This removes the need for banning
    it while another action selection dialog is open.

    See osdn #41920

commit b7f9780ad48d12f6c90eaf23e3dd6c3336832d0b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 30 16:06:21 2021 +0300

    Use os.time() in database.lua

    It replaces dirty database access to get the time.

    See osdn #41879

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a8814e3260e013ad37f5d7a0542794546b86c936
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 25 04:22:39 2021 +0200

    Introduce wonder_visible_to_player()

    It tells if information about player's wonder should be sent
    to another player. Introducing this initial version is just
    refactoring - all wonders are still always sent.

    See hrm Feature #923785

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 71aaf33860a9e239d8a3922209b91bfc8376023a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 23 20:21:17 2021 +0200

    CI: Switch OSX build to Qt6 mode

    See osdn #41840

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cf4a8d854be369aac2e94075584cf219779a6f7c
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Mon Apr 5 13:12:17 2021 +0200

    Updated French translations
    (including bullet conversion from "*" to "%s" )

commit a9b87b3dfa84adc84f47a8ace1ed769751fa47e1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 3 05:55:52 2021 +0300

    Fix Qt-client shadow warning about 'password'

    Rename global variable 'password' as 'fc_password' to avoid
    conflict with Qt headers.

    See osdn #41905

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a2ae506bea259f9bb512976ba824af6b713bcf86
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Sun Mar 28 21:51:28 2021 +0300

    Remove unneeded movement from AI air attack code

    See hrm Bug #924327

commit ed8558b3b553cede71267e83b8e112e31e496e4b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 5 05:14:47 2021 +0300

    version.h: Correct compile time error message

    It claimed that the file's name is plural versions.h

    See osdn #41772

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 333402016f0b6315a9e4e8f871e3b0afa64d59f3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 23 07:17:20 2021 +0200

    Make scorelog start check to respect ruleset set start year

    Reported by Jacob Nevins

    See hrm Bug #820731

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit da2de3b2cff7c1068dfe0c840ad7081d4fc95a56
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 4 10:47:37 2021 +0300

    Bump version number to 3.0.93.5-alpha

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2f9b2ba551bb1f039149e0a6bc33a0248eceac95
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 29 06:23:56 2021 +0300

    Support unpredictable random seed on Windows

    See osdn #41842

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cad4355d42c749772c7e793503950f224994f00d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 22 23:52:06 2021 +0200

    Make Qt configure message to specify Qt5 or Qt6

    See osdn #41833

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ee9620199b33b856746771f6ca6b27eb7258dc44
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 1 08:02:12 2021 +0200

    Don't translate action_auto_perf_cause names.

    The translation of action auto performer names aren't used. They probably
    won't be used - at least in the near future.

    Reported by Hubert Kowalewski via Marko Lindqvist

    See osdn #41866

commit 7f6b5caf021436b0fffe9a2ae709f10bf5af11ca
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 1 17:28:22 2021 +0200

    Comment clarification

commit 7b3afc52d71b1b688af6645f8db8dbabfa53fad2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 23 07:11:34 2021 +0200

    Rename GAME_START_YEAR as GAME_DEFAULT_START_YEAR

    See hrm Feature #923660

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e5099d5c210a13b94dd650153f4c86ff0966a452
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 24 23:23:48 2021 +0200

    Correct name of check_city_feelings() in a comment

    See osdn #41852

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7bdaddcc59635b0828dd28d30323d19192e64384
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 3 04:23:12 2021 +0300

    slavic.ruleset: Clean up the ruleset coding style

    See osdn #41764

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 52e774cc833c892f079f763347813aee76ac9f47
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 23 20:12:31 2021 +0200

    Add OSX Qt6 mode support

    See osdn #41697

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a4a812a5c112dd0639f2a73f155c7892f411cd1a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 2 14:57:22 2021 +0300

    Path finding: Allow path to moving transport, but not through it

    Make it possible to enter transport on goto with a goto.

    It's still impossible to make a path through such transport, as
    it would move away with the cargo unit in it, and the cargo
    could not continue where it wanted.

    Reported by bluss contributor

    See hrm Bug #647612

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fdc1c0ae521a7468d55663ffceebf07f5e10d3ce
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 2 09:37:20 2021 +0300

    sdl2: Refactor get_widget_pointer_from_id() for minor optimization

    See hrm Feature #921195

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d52f77b746347fe4759104c1a6957ce32dc0b55c
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Sun Mar 28 14:28:02 2021 +0300

    civ2: give real scramble bonuses to fighters

    See hrm Feature #923193

commit cfa2b2a2a37923142cdb18bb97b9ea8c50c760d0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 1 15:35:58 2021 +0300

    FAQ: Update current version number after 2.6.4 release

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 199175b0102113ffcb44a80416a3f2baa65b3d32
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Mar 30 21:58:42 2021 +0200

    diplchance documentation: ruleset configurable.

    Mention that a ruleset can disable taking initial odds for the pre action
    dice roll from the diplchance server setting in its documentation.

    See hrm Feature #924524

commit 9fb5fa3e376482ecfda53989891ce9ffcb8b1e52
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Mar 30 20:58:12 2021 +0200

    sandbox: demonstrate poison city diplchance.

    See hrm Feature #924521

commit b118c5af461cce21acf1da9369d289e7a683e455
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Mar 30 18:02:33 2021 +0200

    Success dice roll for "Poison City [Escape]".

    Make it possible to add a pre action dice throw to "Poison City" and to
    "Poison City Escape".

    Given higher priority after a discussion with Lexxie L and Marko Lindqvist
    around a year ago.

    See hrm Feature #869738

commit 89473f02068e8fd082b5d2b40c1934f472312cad
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Mar 30 17:53:57 2021 +0200

    helpdata: always 100% odds can't fail.

    Don't claim that an action that always has odds of 100% can fail because of
    a dice throw even if it does throw the dice.

    See hrm Feature #924512

commit e92fcacc5aa6ec382cc833e38e94e485a7fcaaff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 23 04:21:32 2021 +0200

    Save AI's current wonder want and wonder city to savegame

    As it has the data available after loading the savegame, it
    won't erroneously switch from wonder production to unit production.
    It used to consider all improvement wants zero after savegame
    loading until the turn it does recalculation.

    Reported by Chippo Elder

    See Bug #857459

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b1ca48de7328ffbcafeb596eeb63be87c0e71342
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 21 10:17:24 2021 +0200

    Update host-cpu-c-abi.m4 to serial 14

    Also update lib-ld.m4 to matching serial of 10

    See osdn #41818

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3b09157623c8cdadd934a8a2f92ada670a4ff72f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 29 21:41:49 2021 +0300

    Document setting up PKG_CONFIG_PATH for finding icu-uc in OSX build

    Reported by Dean

    See osdn #41872

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d250952d84aec06f394d31acf1ebcd7f4dba3656
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Mar 29 23:49:10 2021 +0200

    Action decision wanted for the hex2t tileset.

    See hrm Feature #924388

commit a33e1fc1c5a990e233d2cf55cacfaf09fb86f6e9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Mar 29 10:05:31 2021 +0200

    cimpletoon: add Ancient Transport Hub graphics.

    See osdn #41876

commit 6c29bda4a5af3bb9f5ea5f364a9b8acd8c0bbb49
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Mar 24 12:17:58 2021 +0100

    non allied -> non-allied

    See osdn #41875

commit 2f0b724f39e7a317da10b6c04b35980e1fa74e05
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Mar 29 22:15:01 2021 +0200

    sandbox: start odds for spy nuke with diplchance.

    Take the initial odds for the spy nuke actions from the diplchance server
    setting.

    See osdn #41874

commit b368232b66eff8a6d014d665a91fbc7a35063041
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Mar 29 22:10:52 2021 +0200

    Suitcase Nuke [Escape] action probability.

    Includes action probability calculation function for possible diplomatic
    battle followed by dice roll modified by the Action_Odds_Pct effect.

    See hrm Feature #920121

commit 1104ec02cfb3b970ed68fcb499c16474d8a7b678
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Mar 29 22:26:52 2021 +0200

    Introduce action_prob_and().

    See hrm Feature #924387

commit ef2ac2bc05422fe69ec55cad52329bf1c9ad770c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 22 18:01:25 2021 +0200

    Ruledit: Make unit tech req menu easier to use

    See osdn #41832

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e18e19772b29a6fa4e04c4f303f46bc268b23c21
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 2 00:09:32 2021 +0200

    INSTALL.Cygwin: Drop instructions to explicitly set MOCCMD

    The step is no longer needed

    See osdn #41676

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bfbed094d1f60c1b2ca4d6244ee17b5408f3a972
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 30 20:44:10 2021 +0300

    Update Polish translation by Hubert Kowalewski

    msgmerged from S3_0 77afc666f5

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8e64651d17ffa82483b1a8588624e3b8eaba23ac
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Mar 28 23:41:57 2021 +0200

    amplio2: add Ancient Transport Hub graphics.

    The glowing thing floating in the air that suddenly appeared out of nowhere?
    Just an ancient bus stop sign.

    See osdn #41868

commit d2257b740474721b2b8a40a0294a4ca1086b43e2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Mar 28 20:32:21 2021 +0200

    Action decision wanted for the hexemplio tileset.

    Add art for unit.action_decision_want to hexemplio and to tilesets that
    import it.

    See hrm Feature #924326

commit c5ffc01ec95c5cdfa6681aa8b033e7350ca96a49
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Mar 30 21:42:54 2016 +0200

    Action decision wanted for the amplio tilesets.

    Add art for unit.action_decision_want to amplio, to amplio2 and to tilesets
    that imports one of them.

    See hrm Feature #924321

commit 89047d69526ab821ae2db7661d9cd6a21c60b0a4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Mar 28 19:44:49 2021 +0200

    Comment spelling fix

commit a50a1842f903ba4c395521444c4b467a0202590f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 24 07:44:58 2021 +0200

    meson-winbuild.sh: Create 7z package of the build results

    See osdn #41849

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3f2db675b737d97fe822763bcbfddf0cb4e0f589
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 1 21:50:12 2021 +0200

    Autodetect moc command with name of format moc-qt<ver>

    See osdn #41674

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eda715f3df62ae8ec0456a4b53954eca2e2c3539
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 23 04:19:54 2021 +0200

    Do not call building advisor as a human player when actually AI

    That happened in savegame loading.

    See hrm Bug #923658

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ec5eb6eb0772a527d09c4c69a535dc03463e18e0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 28 00:40:00 2021 +0200

    Implement Qt6 related bootstrap file changes

    See hrm Feature #892817

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 60b481ff77663f1f23d13436d6b10819985dd9bf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 29 03:08:49 2021 +0300

    Update Spanish translation by Jordi Negrevernis i Font.

    msgmerged from S2_6 445be91228

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 04044c18dfb33bc17eb6503c215154333c087854
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 25 01:16:58 2021 +0200

    Meson: Generate 'run.sh' to support running from build directory

    See osdn #41856

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c216f0a7df5277a27cfd40a83e8da262efee0f3b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 25 17:37:53 2021 +0200

    Add TRANS: comment about "Q1" ... "Q4"

    Reported by Hubert Kowalewski

    See osdn #41858

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 15f9b0ac8bf3fa5d50b493e3b78885951a46d739
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 24 23:58:46 2021 +0200

    Introduce RSFORMAT_3_1 macro to use instead of Magic Number

    Use macro RSFORMAT_3_1 instead of value 20 when referring to
    format version of the current freeciv version.

    See osdn #41853

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 988c82357246b997a9735273264a894d9d7473a1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 26 08:52:26 2021 +0200

    Send info about city size reduction to everyone in nuke-specific part of code

    Osdn #41810 changed generic city_reduce_size() to send city info about the
    city in question to everyone, instead of doing sync_cities().
    Revert that change and instead send the city in question in
    nuke-specific code.

    See osdn #41860

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 326c9087e09b2f899fa63b1b5a3c86023f27a9ce
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 24 07:20:05 2021 +0200

    meson-winbuild.sh: Fix to work with crosser-2.0

    See osdn #41848

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5ca3d384f5bed7d3804a762d5200f025494a0a8b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 17 05:52:04 2021 +0200

    diff_ignore: Add freeciv-web and freeciv-ruleup

    See osdn #41801

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4de78de435d81b567326b88ac4ad8b2d4e7a7f43
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 25 00:51:47 2021 +0200

    Clean out "Reserved" unit type flags

    See osdn #41855

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bf1a097a0433f77a3fa7dec9c8dc737288bb7498
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 16:19:00 2021 +0200

    postgres.m4: Use $SED instead of hardcoded 'sed'

    See osdn #41773

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 300e9c8ee7526aaf8edc1355d9f1a31bff8137e5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Mar 24 03:25:41 2021 +0100

    Use NULL rather than FALSE.

    Assertions in action_enabler_suggest_repair_oblig() returns FALSE rather
    than NULL. It is supposed to return a repair suggestion.

    See osdn #41850

commit 75dc950be04c00be456bd0cfab3c6fefc0764a0d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Mar 24 02:25:13 2021 +0100

    sandbox: complete the "Spread Plague" demo.

    Add the "Spread Plague" demonstration rules left out because of COVID-19.

    See hrm Feature #923727

commit c2e00cb10054297c7dd5603f3d8346556f931fed
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Mar 24 01:49:38 2021 +0100

    sandbox: allow anyone to help build Treuga Dei.

    A pacifist wanting to end violence or a neocon looking forward to the Casus
    Belli against terrorist states once Treuga Dei is finished may wish to help
    a non allied player to complete Treuga Dei.

    See osdn #41846

commit 1a231e32dbc7a4c0ca9a80b5eb06f4c9c988f856
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Mar 24 01:14:36 2021 +0100

    sandbox: add "Mechanic".

    Demonstrate "Heal Unit" in 3.0 and non 25% unit healing and two Heal Unit
    actions in 3.1 and 3.2.

    See osdn #41845

commit cf46c8a92ab93e937a1df5a5977725f873f17a7d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 21 00:19:15 2021 +0200

    CodingStyle: Declare variables in the innermost block possible

    See hrm Feature #923438

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d0f0770a7ba4f561b0ff431e9215135c232bf82d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 21 01:27:15 2021 +0200

    Enable shadow warnings in C++ code

    See hrm Bug #900828

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 662474e685cc2514fd7624e32a3fe98f1be66487
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 24 02:17:29 2021 +0200

    Fix build on non-ELF platforms

    Update lib-prefix.m4 from gnulib upstream to fix regression brought
    in by earlier update.
    The new serial is 19, we had 17.

    See osdn #41843

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7a344e7de90cc2854aa032e9bcf9444c6deacf13
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Thu Mar 25 16:47:22 2021 +0100

    Updated French translations

commit 11435bb905943e6de3f1dd6be990d24f3282c83f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 25 14:11:42 2021 +0200

    Update Polish translation by Hubert Kowalewski

    msgmerged from S3_0 1b2e82175f

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ee73e2fb3874f8f9c800a24cd778aa7bf25bdb97
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Tue Mar 23 00:11:12 2021 +0300

    Add "CityDefensePct" combat bonus type

    Implement type-specific combat bonuses in cities that override
    "Defend_Bonus" effect.

    See hrm Feature #865084

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit 2019c2e00344eea316d1c4f91c2508a4ea419949
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Mar 23 13:31:28 2021 +0100

    sandbox: demonstrate "Unit Make Homeless".

    Demonstrate "Unit Make Homeless" by introducing a little bit more of the
    evil storyline of "Sons of Adam".

    Introduce the tech "Ruler Apotheosis", the wonder "Altar to The Divine
    Ruler" and the action "Unit Make Homeless" under the name "Make Sacrifice of
    Work". Adapt it to sandbox by making Theology obsolete "Altar to The Divine
    Ruler" and by commenting out the advisor.

    I find the fact that I introduce a little bit more of the evil storyline of
    "Sons of Adam" funny because the evil storyline of "Sons of Adam" is based
    on moving just a little bit further along the evil storyline.

    See osdn #41836

commit b1fe699c55f8a098affecbe1dee47af53cb27f0b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Mar 23 03:06:53 2021 +0100

    Simplify away unit_move_igzoc().

    The functinon unit_move_igzoc() is only used to move barbarians out of the
    hut tile. The unit that entered the hut is located at that tile. Eliminate
    conditions that can prevent the barbariann from moving out and move the new
    function to barbarian.c.

    See osdn #41834

commit eed3d070eb3d82aa85deeedf85acc57617d91516
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Mar 23 01:20:18 2021 +0100

    ruleup: set exit status based on what happened.

    Set the exit status to failure if the ruleset couldn't be loaded.
    Extend the Fatal option to trigger when the comments couldn't load.

    Thanks to Marko for clarifying that fatal_assertions not catching
    log_error() isn't a bug.

    See osdn #41634

commit 1b8126a01cfe33671ebd9accc74b4eddc51e2f46
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 18 00:12:24 2021 +0200

    README.effects: Add missing 'is' word

    See osdn #41803

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f5851ca9a75277e0197e8ace5c5a10fbc35b8caf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 22 16:18:19 2021 +0200

    Alien: Install nation ruleset files to correct directory

    Reported anonymously

    See osdn #41828

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 11f01af3aa17231665ceb4ae0f0dfa2c1701170b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Mar 22 14:44:37 2021 +0100

    do_paradrop(): trust the action system.

    Trust that the action sent is correct when determining if a city conquest is
    legal or not in the action performer of the paradrop actions.

    Thanks to Marko for pointing out a bug in a previous version.

    See osdn #41827

commit bb11683a8cbe193780c2dee62fadb677d4fa10bc
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Mar 22 15:17:54 2021 +0100

    Document paradrop death side effects.

    The paradrop actions can kill the actor unit in certain circumstances.
    Document them in README.actions

    See osdn #41829

commit 6815e913c50e3c9a75c5b92bd1993c9ea70bcb15
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Mar 22 14:34:31 2021 +0100

    autohelp: remove outdated claim.

    A unit with the CanOccupyCity unit class flag may be unable to occupy a city
    thanks to action enablers. A unit with the CanOccupyCity unit class flag may
    be able to occupy a city thanks to Lua.

    See osdn #41826

commit 072090a129e883c862277662c9ad2a8d26ac3624
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 24 12:28:55 2021 +0100

    Fix city for "City Gone" action auto performer.

    The action auto performer system will set target city to the city at the
    unit's current tile if not specified. Set target city to the (potential)
    city at the target tile.

    See osdn #41825

commit 4107d0eda11d4968a53e0883346dd64985a214f9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 16:35:57 2021 +0200

    Meson: Set QT_NO_DEBUG on non-debug builds

    See osdn #41775

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b3beade584587e97fdfbfad29bcc42245f8d6b70
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 21 01:24:51 2021 +0200

    Ruledit: Fix req_vec_fix::req_vec_fix() shadow warning

    See hrm Bug #923440

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4ab6499714860dfb3a558a7056b0c224f06f45e6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 23 21:51:43 2021 +0200

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against S3_1 strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6103a0e82ce5d1567254678e433ac9318a644438
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 18:02:14 2021 +0200

    Europe 1900 WWI: Rename Finnish city of Tammerfors as Tampere

    Tammerfors is its Swedish name. Tampere is both Finnish and
    international name.

    See osdn #41777

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 443b7adfbd72968236bcddd87176b168e5acd39c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 23 17:21:41 2021 +0200

    randseed.c: Include <sys/random.h>

    This fixes OSX build.

    See osdn #41838

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c79bef7fed5a62f432ee00b52da2f411645b577f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 15 17:02:40 2021 +0200

    Make generated random seed less predictable

    Patch by Ilkka Virta and myself

    See hrm Feature #914184

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 10c43d6e36f1d86555017e31b7056d858c6c349a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 23 05:17:00 2021 +0200

    Comment copy&paste error fix: improvements -> units

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 077bee0981e989f198d8692a4c400da2c22f1dd0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 04:51:37 2021 +0200

    Update iconv.m4 to serial 24 from gnulib upstream

    See osdn #41755

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7de04f6eb95e6ae4414be337a6cdbcb741526b73
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Mar 21 14:14:03 2021 +0100

    Add Sveinung Kvilhaugsvik as present maintainer.

    Reported by Marko Lindqvist <cazfi74@gmail.com>

    See osdn #41820

commit 104627b934901ea73d461e4faf9261fb3e8e54a1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 19 06:55:14 2021 +0100

    Consider effect move cost in move to unknown.

    An effect can add to the move cost of a move. Make utype_unknown_move_cost()
    aware of this.

    Only consider regular moves, not other actions, for now. Don't see movement
    to an unknown tile as costing all movement points just because invading a
    city costs all movement.

    See hrm Feature #923136

commit fabb884180bab8312ad3ad9fdeba555b0564ed9a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 19 07:24:28 2021 +0100

    effect_cumulative_max(): support many universals.

    Allow specifying more than one universal the effect must apply to.

    See hrm Feature #923137

commit 5d7e7fccd56a8d9935394660b66248e9468f5962
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Mar 22 16:19:27 2021 +0100

    Comment explanation improvement

commit 95de05637b9c860a37fef7cf6cb61654e4269423
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 23 00:14:36 2021 +0200

    server/.gitignore: Add freeciv-web

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a4e22c8204a8aebcdfd1080a302814e28d4d1979
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 3 13:51:44 2021 +0200

    Make Visible_Walls effects from City Walls and Great Wall non-cumulative

    In rulesets where both City Walls and Great Wall are visible and
    otherwise replacing each other, make them to replace each other
    also in respect to Visible_Walls effect. Effect value is just 1
    even if both buildings are present.
    This improves support for tilesets that have support for multiple
    different wall types, as those rulesets do not accidentally show
    the other wall type for value 2 or the effect.

    See hrm Bug #823341

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8f5835a5522fed332a60751d0d40d5a71b258d5b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 15 03:42:17 2021 +0200

    Add ruleset control of unlimited airlift without capacity

    Add ruleset entries airlift_from_always_enabled and
    airlift_to_always_enabled. These are consulted when server
    setting airliftingstyle sets airlifts to unlimited, and
    there is no airlift capacity at all.
    The old hardcoded behavior of 'from' requiring airlift capacity
    and 'to' not requiring it are the default.

    Requested by Lexxie

    See hrm Bug #874937

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f3a916f85de5a64b17d262a7b7e375fadb8cd18b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 19 09:15:58 2021 +0100

    rscompat: help Lua porting.

    Fill in the 4 user effects so they help porting the edit.unit_move() and the
    edit.unit_teleport() Lua calls.

    The ruleset author must do the Lua side changes him self.

    See osdn #41812

commit 96163abd1f0105d002b178e7450e2cc7df3cae36
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 19 08:19:20 2021 +0100

    Correct wrong moves_actor_kind.

    The actions "Investigate City" and "Establish Embassy" doesn't do diplomat
    escape. The actor unit stays in place.

    Set their moves_actor_kind to MAK_STAYS rather than MAK_ESCAPE. Don't charge
    all movement as the spy escape cost.

    See osdn #41811

commit 99298e5d76a6217f3becf2240fd3a62374719822
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 19 07:45:35 2021 +0100

    Include the action name of enabler with problem.

    Reported by Marko Lindqvist

    See hrm Bug #892147

commit 1c7ac37ba278dc1faa45c1d0f35bb6befe6238a5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 19:18:08 2021 +0200

    Correct granary_savings() function header

    It claimed that the returned percentage is lost when in fact
    it's what is kept.

    See hrm Bug #922785

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1787980621fc6e7250385c2042e004871827f6e5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Mar 18 21:29:21 2021 +0100

    Send city size change during nuke.

    Update city information to all players that can see the tile of the nuked
    city.

    See osdn #41810

commit 3f98dc0dc058db98daf8279a5db6ac5c68be152a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Mar 18 19:13:30 2021 +0100

    sandbox: document the nuke overhaul.

    See osdn #41696

commit c752d8978cf3963e53166a8595724b8cfd46b265
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Mar 18 18:44:39 2021 +0100

    sandbox: demonstrate spy nuke

    Copy the rules I made for webperimental but adjust them for Treuga Dei.

    Intended to have a blast radius of 0 but that is only possible in 3.2.

    See osdn #41809

commit 010cbb09fd2eb82b89a676928226cc2b404e8693
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Mar 18 13:20:16 2021 +0100

    Replace hut_behavior with HutFrighten.

    The HutFrighten unit class flag serves as an anchor that should be pulled
    when frightening and entering a hut at the same tile is supported.

    The user unit class flag "HutNothing" is used where hut_behavior may have
    been "Nothing".

    See hrm Feature #923073

commit d1005274d0c8a3ca46630923916522daa50d980d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Mar 18 14:38:11 2021 +0100

    unit_can_*_hut() by action [sub] result.

    The hut_behavior of a unit class is no longer a guarantee that a hut can be
    entered or frightened. Have unit_can_enter_hut() and unit_can_displace_hut()
    check what actions the unit can perform rather than trusting hut_behavior.

    See hrm Feature #923089

commit 6a4013fdb9dc0ac780bad64002a589aca5964d76
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Mar 18 14:49:09 2021 +0100

    Unit [type] can do action by sub result.

    Introduce unit_can_do_action_sub_result() and
    utype_can_do_action_sub_result().

    See hrm Feature #923090

commit 4159683a85e946f9b43f198e436bd590371977f8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Mar 18 14:48:49 2021 +0100

    Move action_sub_result to fc_types.h

    See hrm Feature #923091

commit f9bcd737687ca27a66b79073ada5f712817406b5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Mar 18 12:01:27 2021 +0100

    Obligatory hard reqs by action sub result.

    Make it possible to specify obligatory hard requirements for actions by
    their sub results.

    See hrm Feature #923072

commit 267b7c23fc151e00a2b99527c184fa0f4a5745b9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 21 08:58:40 2021 +0200

    Ruledit: Fix req_edit::fill_active() shadow warning

    See hrm Bug #921208

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0e5c5f96073fb490c637e5ebb6c35331ab970f7d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 08:29:03 2021 +0200

    readline.m4: Improve quotation

    See osdn #41759

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 72820ba5fa8d6bd1f55251bec50bee399382759d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 21:34:33 2021 +0200

    Check city itself for CityStatus OwnedByOriginal on Traderoute range

    See hrm Bug #922787

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 72882b3cace9c4482c2ca6d8fdc691ac7c3417b9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 17:35:15 2021 +0200

    debug.m4: Update outdated comment

    It claimed that doc/HACKING lists flags used in 'checks' debug level.
    That documentation has been removed as a hacker can check the flags
    directly from debug.m4 itself.

    See osdn #41776

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2d86fd9b216e2fe1edbe3b63e57e95a67c42f68f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 8 04:07:39 2021 +0200

    Multiplayer: Say what differences in README.multiplayer are relative to

    The differences are relative to classic ruleset, not the default (civ2civ3)

    See osdn #41712

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9e39d9483b1dd1491f5de47f5b761759754cdb6c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 19 17:58:26 2021 +0200

    Ruledit: Fix tab_enabler::update_enabler_info() shadow warning

    See hrm Bug #921179

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d6c9f3454204e1c84c0f810899b52007078916bb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 11 19:44:44 2021 +0200

    Refresh FAQ before 3.0.0-beta1 release

    See osdn #41736

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 41a72d09de710992112066a31149dad5eb9b91a7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Mar 17 23:05:52 2021 +0100

    Unify "needs war" translatable message.

    Reported by Marko Lindqvist

    See hrm Feature #897730

commit 46242395dd17fe76ecbd7958bc63616d70e5cfcb
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Mar 17 18:31:27 2021 +0100

    Introduce req_vec_problem_new_transl().

    Add a function for creating new requirement vector problem where the error
    message already is translated.

    See hrm Feature #923036

commit 5b0f1d6ee7b1f420fe5fe5315d055f3e0ecc73bd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Mar 16 18:18:26 2021 +0100

    CI: run make distcheck

    See osdn #41799

commit febf931c58c7266864f26f4c184036146f8d5eb1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 14 22:17:01 2021 +0200

    diff_ignore: Drop Freeciv.h entry

    That file doesn't get generated any more.

    See osdn #41786

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9c7c6a1112dbc958971595046c7fa2005afa6de3
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Fri Mar 19 04:47:23 2021 +0500

    Update for Russian translation.

commit 33c85119662eeef67a6946425686f9815b640db6
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Thu Mar 18 16:29:46 2021 +0100

    Updated French translations

commit fb62f25a0f199de5ef2f6fdd470b54c55659ba79
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 12 17:45:11 2021 +0200

    NEWS: Add 3.0 news

    See osdn #41751

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 60a959245d23c7d0e5e13ab332f64a84696426e2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Mar 16 16:31:46 2021 +0100

    Remove unused "Transport Disembark 2" mention.

    The rulesets civ1, civ2 and webperimental mentions "Transport Disembark 2"
    in their Illegal_Action_Move_Cost effect but they never enable
    "Transport Disembark 2". Remove the mention.

    See osdn #41798

commit 58310885885297925aa686cdf72df4bcd2a2488a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Mar 16 16:31:30 2021 +0100

    alien mentions unused action "Join City".

    Remove the mention of the action "Join City" in the ruleset alien's
    Illegal_Action_Move_Cost effect as it never is enabled in alien.

    See osdn #41797

commit f234d942805f2246990076da78c2097ea3c6f3aa
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Mar 16 13:50:29 2021 +0100

    !TerrainSpeed shouldn't pay slow_invasion cost.

    Make sure that units without the TerrainSpeed unit class flag doesn't pay
    the slow_invasion MP cost.

    See osdn #41794

commit 25a5add2e95ede9628c97eb3fc22270f7ad3ff17
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Mar 15 23:04:31 2021 +0100

    multiplayer: make huts work again.

    Reported by Marko Lindqvist <cazfi74@gmail.com>

    See osdn #41766

commit 1161ed0949565b587c32c78671866576665feebe
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Mar 15 22:33:21 2021 +0100

    common/scriptcore: fix header line length.

    See osdn #41793

commit b8c60b341a94df6861e7a513840a5d9c46fdb1f1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Mar 15 20:35:41 2021 +0100

    server/scripting: fix header line length.

    See osdn #41792

commit 235e42d0f4fabf505bb99a8483e66dd2e8aa74d7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Mar 15 19:14:34 2021 +0100

    Lua API: can't enter and frighten at once.

    Ban setting both enter_hut and frighten_hut to true at once. That will at
    the moment always lead to frighten hut. Forbid it now to reserve it for when
    one hut can be entered and another one frightened at the same tile.

    See osdn #41791

commit 6aa949a99057281b22628297003ffcdcf8be39ca
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Mar 17 18:10:53 2021 +0100

    Comment fix

commit 10ea78cb1e1a4b7b701108443d2a812be30865dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 15:39:37 2021 +0200

    name_translation.h: Add "**//**" -marking to inline function headers

    For doxygen support.

    See osdn #41771

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b56b41d545f88bb7876a4ce9ac7c8e507334e70b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 11:58:12 2021 +0200

    Improve ..._blocked_by entries style in rulesets

    See osdn #41761

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1de7498ba034e7197cb3adcb33aa75e4298b1c3d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Mar 15 12:35:11 2021 +0100

    Deduplicate "Establish Embassy" move costs.

    Doing post "Establish Embassy" escape to a nearby city spends all remaining
    MP. There is no point in also subtracting 1 move fragment for doing the
    action.

    Reported by Marko Lindqvist <cazfi74@gmail.com>

    See osdn #41765

commit 684fb6a4282530c3f8251233499f104baacda80d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 03:56:07 2021 +0200

    Refresh config.rpath from gnulib upstream

    See osdn #41754

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 539aa507ca4ed6123363ab87827139045d9d9490
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 23:16:15 2021 +0200

    Correct documentation references to long gone civclient_gen.c and srv_main_gen.c

    They have been replaced by packhand_gen.c and hand_gen.c.

    See osdn #41779

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 18c9b0bea4600cd064f9b33f0417aec73afbeb64
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 13:38:45 2021 +0200

    Improve grouping of movement related action enablers

    See osdn #41763

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fdcef783721f884557f4acef00d5ef0e0b63bb63
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 14 20:52:04 2021 +0200

    Mark civ2 EarlyFighter helptext no-c-format for xgettext

    See osdn #41787

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0c37d1783f6d4cb43140137981f4a0c506d80c14
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Mar 14 13:29:17 2021 +0100

    New effect Heal_Unit_Pct.

    Make how much of the unit's full health the heal unit action will restore
    ruleset controlled.

    See osdn #41789

commit 048ff8d854a62566456a67b196c4bc2bd3eda455
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Mar 14 21:14:56 2021 +0100

    Document hard "Heal Unit" requirement.

    See osdn #41788

commit e9cf0372422206d5a118ec162f671feb30ef60fd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 05:48:38 2021 +0200

    Fix 'make distcheck'

    translations/*/Makefile.in.in handles LINGUAS file automatically.
    Listing it explicitly only caused an attempt to include it twice
    to the dist, causing 'make distcheck' to fail.

    See osdn #41756

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 732bbff9696499c9add19a7f7449941c608aeae4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 14:28:44 2021 +0200

    Improve packets.c coding style

    See osdn #41769

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 939ad9676fde9b2b714fc1d03de71dfcecf04f2f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 12 21:36:02 2021 +0100

    New action "Unit Make Homeless".

    See osdn #41622

commit ece657e2bb15cb5dcf7645872a1f879edf61075d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 13:02:12 2021 +0200

    Improve Action_Success_Actor_Move_Cost effect entries style in rulesets

    See osdn #41760

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c209611044a2605509e3a8a6b7c7456deb4d927f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 07:22:28 2021 +0200

    m4/lib-*.m4: Update to gettext-0.21 level

    See osdn #41758

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e79d455d306bae4c3f8c94fe5acebbac6de56122
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 14 20:48:40 2021 +0200

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against S3_1 strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1bfd0e545f38da05a747ef25c881fc1151553e95
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 12 20:00:44 2021 +0100

    Lua API: deprecate not specifying side effects.

    Deprecate calling edit.unit_move() - aka Unit:move() - and
    edit.unit_teleport() - aka Unit:teleport() - without specifying the side
    effect parameters and then assuming that they will be filled in based on
    the old rules.

    See osdn #41752

commit 8468a499b98d1b895b548ea4adfc80fce2d79b31
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 12 15:38:04 2021 +0100

    sandbox: demonstrate user effects.

    Decide if "Use Ancient Transportation Network" should be able to conquer a
    city or an extra at its target tile based on User_Effect_1 and
    User_Effect_2.

    See osdn #41750

commit d9677c9c35901c04fa8f52fcaadae49178a5be09
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 12 15:28:33 2021 +0100

    Lua API: introduce effects.unit_vs_tile_bonus().

    It is like effects.unit_bonus() except that it takes a tile argument and
    that the city the effect is evaluated against is the city at the argument
    tile rather than the city at the unit's tile.

    See osdn #41749

commit de7e78f21aae62fdd0752639bcfab01a47e96346
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 12 15:09:01 2021 +0100

    Rename get_tile_bonus().

    The function get_tile_bonus() takes the primary player from the unit
    argument, not from the tile argument. Rename it to get_unit_vs_tile_bonus().

    See osdn #41748

commit a699a590b4c17fddbd730791ba53abe09f22732d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 12 15:00:15 2021 +0100

    get_tile_bonus(): set other_player to tile owner.

    This allows the effect using it to specify local DiplRel requirements.

    See osdn #41747

commit 63755a192a68214908542acab09d1793e672daba
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 12 13:59:36 2021 +0100

    Lua API: introduce effects.unit_bonus()

    See osdn #41746

commit 9685c48690f56d2dfc9939b03136d0dd2693442b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Sep 30 15:30:43 2011 +0200

    Introduce ruleset defined effects.

    Add 4 user effects. They can be given meaning by the ruleset from Lua.

    See gna patch #2979
    See osdn #41745

commit 989343df13af1db8a5f34d706921a12a977ddb7f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 12 13:37:48 2021 +0100

    Document Lua's effect integration.

    See osdn #41744

commit 1df294adab27aabcebf5471b9b399e5f1ddbd629
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 12 11:33:06 2021 +0100

    Metaknowledge for surviving tech requirements.

    Surviving tech requirements with the "World" range are visible to everyone
    because game.info.global_advances is sent to each player.

    See hrm Feature #922369

commit 1248ea6095fcfafe655f518e3a21009812fcba33
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 12 11:27:50 2021 +0100

    sandbox: forgotten Communism changes Treuga Dei.

    Make the violent actions legal after Communism is discovered even if it
    later is forgotten.

    The main reason for this change is that the player knows if a tech ever was
    discovered but not if someone currently knows it. This makes the rule a lot
    more user friendly.

    It can be excused in the narrative by saying that a cultural change may
    survive even if the idea that caused it is dead.

    See osdn #41742

commit 11ba19027e458d391e59223a61ccfb14b196f786
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 12 10:00:39 2021 +0100

    sandbox: add historical note to "Treuga Dei".

    Make it really clear that "Treuga Dei" isn't an attempt to make fun of the
    medieval West Church or any of the churches that today claim to be its true
    successor by documenting that the effect of the wonder is different from the
    historical "Treuga Dei".

    See osdn #41741

commit a9fc9e1ede7e6d6319bc772f74fea44e0e8559b2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 05:59:51 2021 +0200

    Fix civ2 ruleset xgettext warnings

    See osdn #41757

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ef9989ae4e6f77d142e02dc3442fa6aad29ec2b7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 14 14:41:00 2021 +0200

    Make unit combat bonus value signed 16bit in network protocol

    Requested by Alexandro Ignatiev

    See hrm Bug #922007

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 107c75b54f3d3df061478debb324496431fc788a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 14 10:38:21 2021 +0200

    gui-*/.gitignore: Drop Freeciv.h entry from guis where it does not exist

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cb26a5a9c4f5a10c513b1613f9f26ff81a9a50f0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 9 14:51:55 2021 +0200

    check_macros.sh: Add empty line after all the tests of this kind

    See hrm Bug #922145

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2401c67e57d873df6e8a46767c30ee793e66f03c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 12 00:32:41 2021 +0100

    sandbox: test paradrop_to_transport.

    See osdn #41740

commit 4d8906efd8815a1f7a022b648726435b0a732a93
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 12 00:27:39 2021 +0100

    "Unit May Embark" action sub result.

    Introduce the new action sub result "Unit May Embark". It is true if a unit
    may end up loading into a transport at the target tile if it can't survive
    there on its own.

    Represent civstyle.paradrop_to_transport internally - the ruleset
    representation remains the same - by setting "Unit May Embark" for the
    paradrop actions.

    See osdn #41739

commit 69b8898bc7bd57c554e18f340165192247301b77
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 12 00:05:24 2021 +0100

    Fix translation comment location.

    Move the action sub result translation comments directly above the
    translated text.

    See osdn #41738

commit e972a43c79216b1d2bc648ba70552e19c5878642
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 12 08:25:02 2021 +0200

    Make city culture values 32bit in network protocol

    See osdn #41706

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e0c79cb6ea419ee00444d3e9486acf02c0d5474d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 5 06:07:27 2021 +0200

    Tex: Clean out unused TEXAI_MSG_UNIT_MOVED handling from texai_unit_info_recv()

    That's dead code.
    TEXAI_MSG_UNIT_MOVED is being handled in texai_unit_moved_recv().

    See osdn #41698

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 80bd61387ccac915d105ebcaf8ebb23942586177
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 06:17:00 2021 +0200

    Update Finnish translation of the ruledit domain

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 702c4a9e4230b064b83daf302630465ade8be14e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 4 06:21:19 2021 +0200

    INSTALL.Cygwin: Add a note that currently Cygwin has no new enough Qt

    See osdn #41693

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fc074fc07167fb11b4353af979c7813310b2e96a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 13 03:37:10 2021 +0200

    Comment typofix: had_internal_effct -> had_internal_effect

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 44bb2ebf0f2ea3cb5aa335afc5fa290a3b04c974
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 8 04:05:46 2021 +0200

    classic/multiplayer/experimental: Double Fighter defense against Bombers

    See hrm Feature #922015

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ce685b5552268a245583929b66787154738ac33f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Mar 11 00:52:36 2021 +0100

    sandbox: use Lua teleport side effect control.

    Have using the ancient transport network scare any huts at the target tile
    as the unit emerges. Allow teleporting to and from a transport. Forbid city
    or extra conquest - at least for now.

    See osdn #41731

commit 8af2f41c4caf19debb88b8599219c93af3486bf4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Mar 11 00:44:06 2021 +0100

    Lua API: allow setting move side effects.

    The Lua API allows moving a unit without considering what the move rules are
    via edit.unit_move() and edit.unit_teleport(). This can be used to create
    custom move actions, teleporting items on the map etc. They have side
    effects that used to be a part of regular moves but that now live in
    separate actions.

    Add parameters to control what side effects not a part of enabler controlled
    moves the move should have. This allows the ability to specify a unit to
    embark to, to determine if a unit is allowed to unload from its current
    transport to perform the move, if any city at the target tile is conquered,
    if any extra at the target tile is conquered, if huts at the target tile are
    entered or frightened.

    The old versions of edit.unit_move() and edit.unit_teleport() that infers
    side effects based on game rules and state can be deprecated as soon as
    enough of their old rules can be expressed in Lua.

    See osdn #41730

commit 977fbdfefc4839c12fc38757152236ba1c6a9cc1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 12 12:02:09 2021 +0100

    Comment clarification.

    Make my poem analysis more accurate.

commit 5f299df63cb1ae98e1701dde64e316a0e84ab688
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Mar 10 20:52:06 2021 +0100

    move_unit(): add frighten_hut parameter.

    Make move_unit() take a parameter that specifies that any entered huts
    should be frightened. This allows its users to order different hut popping
    behavior than standard.

    Example: A unit that is teleported from Lua in a scary way may scare away a
    tribal village even if it normally would be able to enter it.

    Take this opportunity to take hut behavior from sub_results in the action
    performer functions.

    See osdn #41729

commit 5b2eb87661a030bf663d38db160ebb9290c9644c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Mar 1 23:24:43 2021 +0100

    sandbox: add the new wonder Treuga Dei.

    Celebrate that all violent actions now are under enabler control by
    introducing the new wonder "Treuga Dei" in sandbox. It disables most violent
    actions until Communism and makes them an international incident after
    Communism.

    This wonder idea is taken from my unfinished ruleset "It Is Just A Game".
    This patch adds it as it is there. It can be adjusted to better fit into
    civ2civ3 derived rulesets in followup patches if someone wants to.
    Alternatively I could complete "Pax Dei" - a more "serious" version - and
    add it to sandbox.

    See osdn #41677

commit ad14f27e052411ae44fea7cc261fc46efd493440
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Feb 19 04:54:04 2021 +0100

    Split "Paradrop Unit"

    Reduce the number of paradrop side effects by splitting the new actions
    "Paradrop Unit Conquer", "Paradrop Unit Frighten",
    "Paradrop Unit Frighten Conquer", "Paradrop Unit Enter" and
    "Paradrop Unit Enter Conquer" from "Paradrop Unit".

    City conquest and extra conquest ended up in the same actions to keep the
    number of new actions down. They can be split later on ruleset author
    request.

    Allows more fine grained control over Paradrop side effects.
    Enables simplifications and clean ups already half done.

    See osdn #41565

commit d3cc2e3a4e19bd87f7acad06782419973f35406b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Mar 10 08:31:43 2021 +0100

    ai paradrop: respect the fog handicap.

    The function find_best_tile_to_paradrop_to() respects H_FOG enough to not
    occupying cities it shouldn't know are empty and not to not jumping to
    tiles to attack adjacent units it doesn't know are there. Extend this
    respect to also cover the selection of the tile to jump to to attack those
    adjacent units.

    Allow dai_manage_paratrooper() to check if a paradrop action is legal using
    the full information when the fog handicap isn't set.

    See osdn #41722

commit 495fe6af6560afd38d3cb54162be0f3712484285
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 6 18:28:52 2021 +0200

    Improve civ_population() style

    See hrm Feature #922008

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 97cdc5bd358d9d2484a11d2b2f3828b3497c60be
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 4 01:46:57 2021 +0200

    Granularity: Disallow Roads and Bases on Ocean tiles

    See osdn #41691

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0d689e18e8db583a1313dee6f3fb1fb01f2746f4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Mar 9 13:34:09 2021 +0100

    Don't lie in "Paradrop Unit" enabler name.

    Stop claiming that the enabler for claimed tiles only applies to foreign
    tiles.

    See osdn #41720

commit b431963a0a5459455afcc551cf881d4ec3139bea
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Mar 9 12:24:27 2021 +0100

    Introduce units_can_do_action_with_result().

    It works like units_can_do_action() but is for any action with the specified
    result rather than just for the specified action.

    See osdn #41718

commit 5858e6c34c56becf77088b4128f168c2335f4fe0
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Thu Mar 11 16:34:26 2021 +0100

    Updated French translations

commit c44255d329cded1d61a5db8b66c66ec591055b75
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Sun Mar 7 23:05:23 2021 +0300

    civ2: add an approximation for fighters scramble mechanics

    Originally in cities defense x4 vs bombers and x2 vs fighters,
    but we can't yet separate the bonuses for SAMs and airbases,
    so values are mostly reduced.

    See hrm Bug #865085

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit d5f2a186f59eaf0caf3e88b52cf54e7c7d04c78f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 8 03:47:08 2021 +0200

    Refresh mkstemp.m4

    There's no functional changes, just an updated comment.

    See osdn #41711

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 30af6c536215bc3aed2afe9ad706ef61f6e0174c
Author: Ilkka Virta <itvirta@iki.fi>
Date:   Tue Mar 2 14:51:09 2021 +0200

    Use pop at turn change to calculate Demographics (Literacy and Military Service)

    The code used to look at the real-time value for population, but the value
    at turn change for the other values. This both leaks info about nations
    losing (and gaining?) population mid-turn, and leads to obviously invalid
    results like Literacy > 100 %.

    See hrm Bug #880780

commit 8506d4d1c753bb8e7e51e8f8edca2884363334b8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Mar 9 00:31:08 2021 +0100

    rscompat: add HutNothing user uclass flag.

    Mark all unit classes with a hut_behavior of "Nothing" with the user unit
    class flag "HutNothing".

    Once the non user unit class flag "Frighten" is introduced this will allow
    less than one enabler for the hut popping acitons per unit class and get rid
    of the custom hut_behavior unit class field.

    See osdn #41716

commit 527e5719bc7bd3430b16a305741d74e768be8d85
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 5 15:18:20 2021 +0100

    client: prepare for multiple paradrop actions.

    Prepare the code in do_unit_paradrop_to() that orders the paradrop action
    performed for multiple paradrop actions.

    See osdn #41717

commit 6bf7442708b91c3532552594ded6519bddffe74d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Mar 8 22:25:53 2021 +0100

    ruleup: dirty by default

    Replace the --dirty option with a new --clean option.

    Requested by Canik and Caedo at the Freeciv forum.

    See http://forum.freeciv.org/f/viewtopic.php?f=11&t=91862&sid=127735f2b4233e03427ccaf0429420f5
    See osdn #41678

commit 86ebefa789a5c52727b2941bd02f1457960bd35c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 10 07:46:17 2021 +0200

    Comment typofix: backgroud -> background

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cb91c20177c971be3251608086d672d2994ac924
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 4 03:15:45 2021 +0200

    Add event type "Infrapoints"

    See osdn #41690

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 97a41c51c326c229df179928f4ab97fcd456e649
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 5 15:18:11 2021 +0100

    ai: prepare for multiple paradrop actions.

    Prepare the code in dai_manage_paratrooper() that orders the paradrop
    action performed for multiple paradrop actions.

    See osdn #41703

commit 6067ab7a7f7b1ac91a877c2a5f1cd32fc2c2a2fd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 5 13:17:50 2021 +0200

    Appdata: Use secure URLs (https) for screenshots

    See hrm Feature #921959

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6789d19b29f3aef8b899e700d137a8fe9790703a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 2 07:53:07 2021 +0200

    Comment why we don't check bodyguard ferry boarding legality

    Requested by Sveinung Kvilhaugsvik

    See hrm Bug #849990

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ced7d81b765e28af91cc9c5c7154634d42caaf51
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 1 10:52:02 2021 +0200

    README.rulesets: Drop experimental from the list of rulesets

    See osdn #41666

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7589308f7147e6b2529a992281e0fb2ebbd0b349
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 6 06:53:04 2021 +0200

    Update stdlib_h.m4 to serial 55

    See osdn #41707

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ca64628f49a1fe7a62ace82460863fe432ad1ecb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 2 07:10:36 2021 +0200

    sdl2: Add science_dialog_callback() function header

    See hrm Bug #911733

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 83f1947db2e590ef6188552fe69922a222bd1999
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 2 12:13:28 2021 +0200

    Unify game.ruleset comments between translated and untranslated rulesets

    See osdn #41680

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d536443195bfe947dd245058a2ecf11a5614e4a3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 5 10:49:08 2021 +0100

    sandbox: let Nuclear explode in place again.

    Make Nuclear able to explode in place again by setting min distance of
    "Nuke City" to 0.

    See osdn #41702

commit 8e8377b7ee2610fd68f471f16ef5b5b494d0b6a2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 5 10:40:12 2021 +0100

    Nuke action min distance to to the ruleset.

    Move the minimum distance between the action and target for the actions
    "Explode Nuclear", "Nuke City" and "Nuke Units" to the ruleset.

    See osdn #41701

commit 4a603f0a8c41dfdc8b4a5d73ef1ecb68b81aae40
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 5 10:00:53 2021 +0100

    Get default action distance range by result.

    Change action_min_range_default() and action_max_range_default() to specify
    the default action action distance range by action result. This changes the
    default max range of "Nuke City" to 0 since it shares its action result
    with "Explode Nuclear".

    See osdn #41700

commit eb832345cb4623195f1a80e0bedc044ffc65c60a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 1 14:55:32 2021 +0200

    Clean out freeciv-2.7 options file slot

    See osdn #41669

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 656b6f12e68c768f265c4d640ed66eb0ab006ace
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 2 05:41:06 2021 +0200

    Don't send clients to pre-game when savegame loading attempted during game

    Reported by anonymous

    See hrm Bug #767358

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dd20245d28e0ab282be877d193587a3de8c17e97
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 3 14:04:35 2021 +0200

    Update gnulib-common.m4 to serial 63

    See osdn #41685

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ecaec8d5c1b2ff397703a08f917fc59b00e0a49a
Author: Ilkka Virta <itvirta@iki.fi>
Date:   Tue Mar 2 14:21:52 2021 +0200

    Check if the new unit fits in transport when upgrading transported unit

    The old code checked if the current unit fits, so you could end up with
    an impossible unit on the transport.

    See hrm Bug #921691

commit 24c318e0eb21a7d93f77790401ec1387ed498ea4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 5 17:50:12 2021 +0200

    Abbreviate consequtive "imprv." mentions the same way

    Function header of global_worklist_callback() mentions "imprv./wonder"
    multiple times. Unify those.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4e4a681d588a63be746b5dfa6a794a2a79b1370a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 1 13:43:08 2021 +0200

    requirements.c: Include <stdarg.h>

    See osdn #41667

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 530cd0884069dd4dc11e198722e00f5a81c40dc6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 5 02:19:53 2021 +0100

    Comment fact fix

commit 4b5aa6fed465f7f1bdc495bbec135ef5bf3c14d5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Mar 4 00:30:45 2021 +0100

    sandbox: demonstrate surviving nukes.

    Introduce the new unit type SSBN, a nuclear submarine. On top of being able
    to carry 16 ICBM or Nuclear units it gets the ability to launch one tactical
    nuke per turn once its owner discovers Rocketry.

    See osdn #41689

commit 33227fd6d558bdacfb674ee4c32066e4ef2b0a94
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Mar 3 23:28:40 2021 +0100

    sandbox: tile target "Nuke City" for "Nuclear".

    Demonstrate that the target kind of "Nuke City" now can be tiles by using it
    to handle all explosions of "Nuclear" in sandbox.

    See osdn #41688

commit 75a00967d5686577551b1e8b0e9809fba6a7896a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Mar 5 02:31:09 2021 +0200

    Bump version number to 3.0.93.4-alpha

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8e1e8d4230163f9c48830af83ef32a1cf21d6a6b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 2 09:42:49 2021 +0200

    Send meetings opened by AI players met thanks to dispersion setting

    Meetings initiated by AI players when they start in contact with the
    player were sent too early for the client to open the meeting dialog.
    After that the client was unable to ever open a meeting with that
    AI player, as server though that the meeting is already active.

    Send active meetings to clients again when they are ready to receive
    them, in the beginning of a new game.

    Reported by Robin Patterson

    See hrm Bug #764968

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9531bb8d702df6aee9399b533e921b30edbcc7e9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Mar 3 03:49:01 2021 +0100

    Ruleset actor consuming always for nukes

    A nuke can have a max range where the resulting explosion won't destroy
    the actor unit. In that case the ruleset should also be able to set that
    the actor unit isn't consumed by it.

    This allows (ISFJ girl joke) units like "Pink Unicorn Princess of Doom" or
    (more serious) units like "Second Strike Sub" to case a nuclear explosion
    somewhere without being destroyed them self. The "ammo" of the action can
    - as an example - be represented as a loss of MP when performing the action
    and a minimum MP requirement to perform the action if it is desired to
    restore the ammo at turn change.

    See osdn #41681

commit d925aa41e75e7bc7518b19a76d51f47cbbeb1575
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Mar 2 02:55:18 2021 +0100

    CI: factor out rulesets_upgrade.sh

    Make testing ruleset upgrade from the previous version a separate script.

    See osdn #41684

commit 4f6691de0cf3672a57541afa079e179f236c3919
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 28 17:07:25 2021 +0200

    Ruledit: Translate req_edit dialog texts

    Some "Allows"/"Prevents" related texts were not marked
    for translation.

    See osdn #41658

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7e4301743d641db00fa48f29b62d3bd603379ed0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Feb 28 04:01:41 2021 +0100

    Ruleset unit_stack_death forced action list.

    Move the list of actions attempted to escape when the defeated unit stack is
    scheduled for execution to the ruleset.

    See hrm Feature #920951

commit cfc8c587f2a5e7e7a3d1f5e6fd5877daf5492696
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Mar 3 13:25:33 2021 +0100

    Comment spell fix

commit 8a975aac2bbb1e2538d707aa29bd598693a30836
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 4 14:21:18 2021 +0200

    CI: Request version 5 of Qt for OSX build

    Reported by Sveinung Kvilhaugsvik

    See hrm Bug #921871

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2fa235ba6e1be26dd1e1385581e7b0a6013b56f1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 2 08:05:54 2021 +0200

    civ2civ3/sandbox: Tweak culture victory values

    Increase victory_min_points from 18000 to 20000.
    Change victory_lead_pct from 200 to 33

    Requested by Jacob Nevins and bard

    See hrm Feature #830181

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit abdd826c9723c989209a2574c68da2464e206a65
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 28 13:49:25 2021 +0200

    Document in diplchance help that it does not affect all mission types

    Reported by Lexxie

    See hrm Feature #870009

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d394a65b3bb34f449557f46e6d55dcf006916975
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 3 09:46:29 2021 +0200

    ai/.gitignore: Drop obsolete libcivai.a entry

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8b88744c8d232b3a50b50c1e90f640df1d8baa4e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 3 05:45:40 2021 +0200

    configure.ac: Make all AC_CHECK_HEADERS() and AC_CHECK_FUNCS() one-liners

    This might help with "not a string literal" error seen on CI
    with msys2 and autoconf-2.71.

    See hrm Feature #921737

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d7da5e25278c527af6b80eff564e0054c6f7dbb7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Mar 1 15:36:00 2021 +0100

    sandbox: demonstrate unit healing.

    Demonstrate unit healing by letting flesh initiates of The School of
    AmÃªzÃ¢rÃ¢k know how to heal wounded flesh.

    See osdn #41671

commit fd752b4ba33c104c6640ca34fdd3fba46020e9d4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 27 03:25:17 2021 +0200

    CI: Update msys2/setup-msys2 version used to 2.1.4

    See hrm Feature #918825

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 31fa937609b6466dd10f9c50a6f37ef49d784ae9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 26 10:04:04 2021 +0200

    Update msys2 environment to 210226 level

    See hrm Feature #918825

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 704087b389f1dbb19cc65404d81e6dd658c6a938
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Feb 28 20:52:50 2021 +0100

    Increase the number of legal reqs.

    Our ruleset upgrade code can add new requirements to existing requirement
    vectors. But requirement vectors can't be more than 20 requirements long.
    The existing requirement vector may already be that long.

    Increase the number of legal requirements in a requirement vector to 40,
    doubling it.

    See osdn #41661

commit df0fd736fedb5cb8006a3395121fa38a9272a620
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 22 01:12:36 2021 +0100

    Casus Belli for "Paradrop Unit".

    Make the Casus_Belli_Success effect support "Paradrop Unit".

    Tested by Lexxie

    See hrm Feature #921213

commit f84a534fc16674249e04c7afb6500b182abb5725
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Feb 28 19:22:54 2021 +0100

    Allow actor utype to influence Casus Belli.

    Allow the unit type of the actor - when the actor is a unit - to influence
    if an action is a Casus Belli.

    I waited to decide who's unit type - the actor or the target - would get the
    ability to influence Casus Belli rules until it was needed in a ruleset.
    Lexxie needed this now so the actor it is.

    See hrm Feature #921209

commit a349515ba4c614127fbd8ce3b3dbd10a509d0487
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 3 02:51:35 2021 +0200

    Update Finnish translation of the ruledit domain

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a286853bff05281a892522e42bdc340041b5affd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 2 04:17:04 2021 +0200

    Make player culture values 32bit value in network protocol

    Reported by mortmann

    See osdn #41654

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 78d8ec1ef23f9306a5bec75a9152ceb16a50b9c2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 2 21:05:42 2021 +0200

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against S3_1 strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f874966a37c5669876bf3ee897710ebcc90c948f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 28 18:38:39 2021 +0200

    Fix "unterminated character constant" errors from xgettext

    See osdn #41659

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eec5e645033a2467fcb3683cd8b16760b1934835
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 27 23:37:15 2021 +0200

    sdl2: Fix alpha channel changes when recentering map

    Do not use surface blending mode when moving mapview around.

    Reported by, and initial patch provided by, goduck777

    See osdn #41629

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 660bd2c195d7e7415eecc1aabb346d4505e4ffef
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 8 12:03:08 2020 +0200

    Avoid erroneous improvement obsoletion messages

    Do not claim that an advance that is !present obsoletion requirement
    does obsolete improvement.
    Fixed in server messages, client help, and civmanual.

    Reported by Alexandro Ignatiev

    See hrm Bug #874192

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7df07f948044a778083811328e74e7bf646813ac
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 1 18:46:42 2021 +0200

    common/.gitignore: Drop obsolete entries

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 867c089f793475a300d58581fec11fbc54c67b02
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 27 07:02:43 2021 +0200

    FAQ: Update from wiki FAQ 3.0

    See osdn #41657

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9a8ee8f7b9b12b62af7d7306a159c0bcda047ba9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 1 11:43:28 2021 +0200

    experimental/.gitignore: Drop as obsolete

    It only had entries for Makefile and Makefile.in, which no longer
    are there as the ruleset is not distributed

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0ef91a7a744c3a3733fe24b21c7cc89e9f4415e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 10 07:51:46 2021 +0200

    POTFILES.in: Add missing files

    See hrm Bug #918937

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c0ef7336cfc840cdc2f1bf4fc2a2f4516894203d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 11 06:34:34 2021 +0200

    Ruledit: Fix effect_edit::add_effect_to_list() shadow warning

    See hrm Bug #919733

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 20c7dc5183c6bb42fbcf80dd049f8cf7f65ea860
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Thu Feb 25 15:46:40 2021 +0100

    Eschew use of UCF_CAN_OCCUPY_CITY from AI and advisors

    Replace unit class flag checks with calls to unit_can_take_over()
    and utype_can_take_over()

    See hrm #921005

commit b204026b7bf4ace2e897772d932776eb9f223581
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Feb 25 11:55:33 2021 +0100

    Unit stack death escape: add back all 3.0 actions

    Add back all the actions a unit with the CanEscape unit type flag could do
    to escape stack death in 3.0.

    See hrm Feature #920950

commit 7506ed2ed629a8060f877c633341eb5c6c72692d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 24 12:39:56 2021 +0100

    Unit stack death escape: respect the move rules.

    See hrm Bug #920206

commit d21fcae9af8e1e0bc376c4d04bfe143adaa61cd5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 24 12:11:55 2021 +0100

    Fix the rule name of the "City Gone" AAPC.

    The forced action auto performer cause "City Gone" was accidentally given
    the rule name "City Gone ".

    See osdn #41648

commit 37391f708f915ebb754945ea909f7eccbe17fefe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 27 18:03:00 2021 +0200

    Comment typofix: tagets -> targets

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f8f54efba0d3ad9064cfcbf1161ceb57f25fed86
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 10 17:36:17 2021 +0200

    Add "?unittype:" qualifier for BarbarianBuild flag

    See osdn #41548

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f7e73f6ab55899a5eddb827712fdc0d655c7b35f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 12 07:37:05 2021 +0200

    freeciv.doxygen: Update to doxygen 1.9.1 format

    See osdn #41558

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f6fae704140f214ece77d50c91713c9dfe770ade
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 23 21:06:02 2021 +0100

    Git: add a .mailcap to fix a bad email address.

    See osdn #41647

commit 0f70a0e439635a6e1d6eb06a27f6fd1cbf1ba58b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 23 16:18:12 2021 +0100

    "Attack" move cost to the ruleset.

    Move the move cost of non OneAttack attacks to the ruleset too.

    See osdn #41646

commit b1501c7cf0db0c4a382ff07cef726c33abb0d60c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 23 15:43:16 2021 +0100

    ruleup: purge unused !present requirements.

    Unused requirements may have crept into a requirement by the ruleset update
    code. Purge them from action enablers and from effects unless the --dirty
    option is specified.

    See osdn #41645

commit 34efbdb4ccc983756a1e4603f69884348987f948
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 23 14:33:29 2021 +0100

    Split unit_move_handling() based on igzoc.

    Done as a small step for the sake of ensuring backwards compatibility.

    The new function unit_move_igzoc() handles cases where igzoc was set to
    TRUE. It is kept the exact same rules for when it is allowed to move the
    unit. (I think some of them should be removed.)

    unit_move_handling() keeps - recently enabler controlled - regular moves
    and the code to understand a move towards a tile as asking what actions the
    unit can perform against it.

    See osdn #41604

commit 731d34452270d7f9ba9162e9efd3804fd0227ce1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 23 14:11:12 2021 +0100

    autohelp: deduplicate action turn ending text.

    See osdn #41644

commit 85eebe06c95fc74d45c057b1d76d6abb0df15c0e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 23 13:36:57 2021 +0100

    ruleup: detect more unused action enablers.

    Detect action enablers that are unused because no actor that fulfills its
    hard requirements fulfills the action's hard requirements.

    See osdn #41643

commit a259ba23d4197b1c8ade1fe056ecca08fc199ed4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 23 13:21:39 2021 +0100

    Introduce action_enabler_utype_possible_actor().

    Add the new function action_enabler_utype_possible_actor() to the actions
    module. It checks that an action enabler - at least in theory - may be
    performed by a unit of a given type.

    See osdn #41642

commit a2f648332994436d993cec6043ed9038150a2a80
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 23 11:39:00 2021 +0100

    A non existing enabler can't be removed.

    Don't show message the "Purged all action enablers for" message when the
    action didn't have any enablers to purge.

    See osdn #41641

commit b15cae058850c9696343a907215980fc22bdb987
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 23 11:09:36 2021 +0100

    ruleup: purge duplicate requirements by default.

    Duplicate requirements may have crept into a requirement by the ruleset
    update code. Purge them from action enablers and from effects unless the
    --dirty option is specified.

    See osdn #41640

commit d7beaf01f34ed48d41e553f058b1bcf07fe5b617
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 23 09:58:49 2021 +0100

    req_vec_suggest_improvement(): fixes first.

    Suggest fixes before suggesting improvements to requirement vectors. A
    potential improvement can be made irrelevant by a required repair. This
    makes req_vec_suggest_improvement() consistent with
    action_enabler_suggest_improvement().

    See osdn #41639

commit 90c21ebeced83c0c06d914b1bbdd69c4db7f5231
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 23 09:41:00 2021 +0100

    Don't encourage mindless "fixes".

    Offering to remove a requirement for a missing universal that is present is
    to offer a rule change the ruleset author should think about first. The
    requirement vector may have been intended to never be fulfilled.

    Prevent mindless "fixes" by not offering any automatic solution to a
    positive requirement for a missing universal.

    See osdn #41638

commit 32c1aac9bcf8bb5768d4a16c2048fd5a5e30f3f1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 23 09:17:02 2021 +0100

    universal_never_there(): find unused extra flags.

    Detect when an extra type flag never is in use. This allows Ruledit and its
    other users to detect unused extra flags being required.

    See osdn #41637

commit 873cb5d35fc7ff4a83085f66b8030c9628038839
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 23 09:10:28 2021 +0100

    In use function for extra flags.

    Add the new function extra_flag_is_in_use() It checks if the specified flag
    is used in the current ruleset.

    See osdn #41636

commit 740a0512da7e44af2369e267c4cfb11b3af5e509
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 23 08:43:53 2021 +0100

    Comment clarification.

commit 0511938563f4b86c437b8f690886febf861ba1ab
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 23 00:01:13 2021 +0100

    Ruledit: don't success exit on missing comments.

    The program refuses to start when no comments-x.y.txt file is found. Exit
    with EXIT_FAILURE to signal that something is wrong.

    See osdn #41635

commit aad22232edda812dea9d15d0b9f7b0f1b9e6315f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 22 22:31:35 2021 +0100

    Ruledit: detect duplicate requirements.

    Add the new function get_first_redundant_req(), currently only able to
    detect exact duplicates in requirement vectors. Plug it into
    req_vec_suggest_improvement() so everyone looking for generic advice on
    requirement vector improvements gets it.

    This makes Ruledit find duplicates in action enabler requirements.

    See osdn #41633

commit 1f6c3d2fff47ff523c64b0a3f77da319e4fe1027
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 22 22:50:48 2021 +0100

    Log the problem with the comments file.

    Give a hint why the ruledit ruleset comment file can't be loaded.

    See osdn #41632

commit 528a88c59f086f3dd37c84ac3cd8464fbdcdc48b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 22 22:45:41 2021 +0100

    ruledit comments: escape quotation marks.

    See osdn #41631

commit ac473752d5434b0e4a6a1cbae66c6bbfd7655e91
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 22 19:46:41 2021 +0100

    Spelling correction: DiplReal -> DiplRel.

    Fix the spelling of DiplRel in README.actions.

    See osdn #41630

commit ec4fa5ab658897f3a6556b4fa00ce5b36791bf93
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 22 14:30:30 2021 +0100

    Action escape movement cost to the ruleset.

    Move the movement cost of escaping to the nearest city after performing a
    spy action to the ruleset.

    See osdn #41628

commit d06584d339311105c0815df2de357ad0095d81e6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 22 01:00:44 2021 +0100

    Casus Belli for regular move.

    Make the Casus_Belli_Success effect support "Unit Move", "Unit Move 2"
    and "Unit Move 3"

    Requested by Lexxie L

    See osdn #41627

commit 02c127c75c9cefb1c27f6624742599bf8835fd02
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 23 08:24:09 2021 +0100

    TODO comment fact update.

    With hrm Feature #920119 done more action probability work is now complete.

commit 9f38a0e9bb6a79d4ff37314e0f35069f22880c38
Author: Hilde Iren Lagnason Bye <lagnason@hotmail.com>
Date:   Sun Feb 14 20:13:11 2021 +0100

    Action probability for Surgical Strike Production

    See hrm Feature #920119

commit 77e37ee480b91fd99c4543004eef80c37b48b50a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Feb 21 15:37:32 2021 +0100

    autohelp: improve "spends all movement" text.

    See osdn #41625

commit 8d434d271a37de6e7140517015ab550410f012cd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Feb 21 15:18:21 2021 +0100

    autohelp for action sub results.

    Document the action sub results for hut entry and hut frightening in the
    auto help for the action in the help for the unit type.

    See osdn #41623

commit 6320f318193059a5bddeb45ebcc1b523a186b8c1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Feb 21 02:50:14 2021 +0100

    Standard problem finders for requirement vectors.

    Add req_vec_suggest_improvement() and req_vec_suggest_repair() so
    requirement vectors have the same standard req_vec_problem finders as action
    enablers.

    See hrm Feature #920603

commit dde011a319659e9335427d84aba544b3fce27501
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Feb 21 02:28:35 2021 +0100

    rulesets: remove unused Casus Belli effects.

    Some Casus Belli effects are never active because they require a diplomatic
    state where the action they are for is illegal. Remove them.

    See hrm Feature #920602

commit 74171d31e599bbdfe0b71e32d622b4fa6826a5e2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Feb 19 23:24:44 2021 +0100

    ruleup: purge unused effects by default.

    Support deleting unused effects in ruleset_purge_unused_entities().

    See osdn #41620

commit 917d3970ea65595db493ee427851f26b6da7a70c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Feb 19 22:09:09 2021 +0100

    Find missing universals in enabler requirements.

    Make action_enabler_suggest_improvement() suggest removing references to
    missing universals. This gives ruledit and other users of
    action_enabler_suggest_improvement() access to the knowledge of missing
    universals.

    See osnd #41616

commit 68e5b2c937f5286b994a526b85a89f7d5267d0e7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Feb 19 19:59:24 2021 +0100

    ruleup: purge unused ruleset entities by default.

    Make ruleup clean up the mess after the ruleset upgrade by attempting to
    purge unused entities unless it is told that the dirty result is wanted.

    See osdn #41615

commit 6449f1612efab9e525edc6f400f2d7a800d4a3ba
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Feb 19 19:48:07 2021 +0100

    Support purging unused action enablers.

    Introduce ruleset_purge_unused_entities(). All it does right now is to purge
    unused action enablers.

    See osdn #41614

commit ed9b062e7c13e73f5ee9827d341b72749ab8d6a6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Feb 19 19:05:38 2021 +0100

    Introduce req[_vec]_is_impossible_to_fulfill().

    Introduce the new functions req_is_impossible_to_fulfill() and
    req_vec_is_impossible_to_fulfill(). They check if a requirement or
    requirement vector is known to be impossible to fulfill in the current
    ruleset.

    Introduce the new function universal_never_there() to check if a universal
    is known to never be there.

    The only currently supported requirement types are action, unit class flag
    and unit type flag.

    See osdn ##41613

commit dc88f1ccdd3eafef38da7a9b9248dd23277f70fc
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Feb 19 17:06:42 2021 +0100

    In use function for unit (class|type) flags.

    Add the new functions uclass_flag_is_in_use() and utype_flag_is_in_use().
    They check if the specified flag is used in the current ruleset.

    See osdn #41612

commit 746ca9b531a3726f9b50210322cd2bf0687d1bf4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Feb 19 17:16:21 2021 +0100

    Introduce action_is_in_use()

    Introduce the new function action_is_in_use() and make use of it.

    See osdn #41611

commit d4276e9e67281d710caec9b94c16a7307e620b3f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Feb 19 09:37:43 2021 +0100

    Action sub results.

    Add the field sub_results to the action struct. It is for side effects that
    happens on top of the action result.

    Add "Unit Enter Hut" and "Unit Frighten Hut" as the first action sub
    results. Move the parts of the corresponding action results that can be
    moved to the action sub results.

    See osdn #41610

commit 9ff842d4358c322e3fb8775749002fd918ecc293
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 10 16:37:28 2021 +0200

    installer_cross: Enable nls when possible

    Qt-client still does not build with nls enabled in crosser environment,
    so leave it disabled when ever Qt-client is being built.

    See osdn #41546

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c01589beba595554f5858b92dec31a41ba7df7af
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Feb 19 22:35:30 2021 +0100

    Remove NoHome where it is unused.

    The rulesets civ1, civ2 and alien doesn't give the NoHome unit type flag to
    any unit type. Stop referring to it.

    See osdn #41618

commit c21153067ac0a105fb5eb314c627c4826f44cce7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Feb 20 12:55:15 2021 +0100

    Make the NoHome utype flag mean "built homeless".

    Limit the meaning of the NoHome unit type flag to "built without a home
    city". Make it up to the ruleset author if the action "Home City"
    (sometimes) should be permitted for units with the NoHome utype flag.

    See osdn #41621

commit de48e10f5d33751aaf22f5d71675b365c7a10e86
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Feb 19 23:15:57 2021 +0100

    civ2civ3: stop referring to "Enter Marketplace".

    Remove the Trade_Revenue_Bonus effect for "Enter Marketplace" in civ2civ3.
    It is never enabled.

    See osdn #41619

commit 5c4e03b598ca5487386b3a300544419673bde4e2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Feb 19 22:25:34 2021 +0100

    Remove EvacuateFirst where it is unused.

    The rulesets civ1, civ2 and alien doesn't give the EvacuateFirst unit type
    flag to any unit type. Stop referring to it.

    See osdn #41617

commit 4962b1b8a2d03881b1d05880b0e596570bfcfcb4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Feb 19 08:06:02 2021 +0100

    sandbox: demonstrate gold theft.

    This version of gold theft rules are less complex than those I added to
    webperimental.

    A spy can perform the action "Steal Gold Escape" once Banking is
    discovered.

    See osdn #41609

commit 11ae8c7eab28a711bd3f48b49089a66aef55d1d4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 10 00:28:36 2021 +0200

    doc/TODO: Replace hrm ticketing link with osdn one

    See osdn #41533

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 11079ce52363f7b11b47984cb85508cff63687bb
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Feb 19 08:58:54 2021 +0100

    Comment fact fix.

commit 0e88f2e6aa7b5c0cd2eec1391ab04b7daf0ce5f1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Feb 18 12:02:55 2021 +0100

    Fix indention of parameter list.

    See osdn #41607

commit 3c52ab884ff6698485f6b18aef3cf86b16547a2d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Feb 18 17:13:53 2021 +0100

    Fake generalize all normal move actions.

    Add two more fake generalized variants to all actions that involves moving
    to an adjacent target tile and paying the normal move cost for doing so.
    This adds the new actions "Conquer City 3", "Conquer City 4",
    "Conquer Extras 3",  "Conquer Extras 4", "Transport Disembark 3",
    "Transport Disembark 4", "Transport Embark 2", "Transport Embark 3",
    "Enter Hut 3", "Enter Hut 4", "Frighten Hut 3", "Frighten Hut 4",
    "Unit Move 2" and "Unit Move 3".

    See hrm Feature #920420

commit 24c2826472a0bc1fffa68620264cfa0b6ef04e77
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Feb 18 17:34:43 2021 +0100

    README.actions: blocked_by for "Conquer City 2".

    Document the variable name of "Conquer City 2"'s list of actions that block
    it. This avoids giving the impression that it uses "Conquer City"'s
    variable.

    See osdn #41606

commit 5bcc95af0ce6e127aa3e22c44b487bb06c1398e5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Feb 18 17:34:28 2021 +0100

    README.actions: Fix "Conquer Extras 2" ui_name.

    Make the documentation for "Conquer Extras 2" in README.actions refer to its
    own ui_name, not to "Conquer Extras"'s ui_name.

    See osdn #41605

commit 02661616fd22e1f00d07fab6eb96be1a18a41980
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Feb 18 14:40:43 2021 +0100

    Fake generalize "Heal Unit"

    This allows two differently named versions. Say one version for a Medic unit
    and one for a Mechanic unit.

    See osdn #41602

commit 2a63d4123171228748ac68f5d4f91df98f0b105d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Feb 18 12:25:44 2021 +0100

    A paratroopers_range = 0 unit can't paradrop.

    The autohelp will say that a unit can perform the action "Paradrop Unit"
    even if its paratroopers_range is 0.

    This bug was hidden in the bundled rulesets since they require that a unit
    must have the Paratroopers unit type flag to do "Paradrop Unit".

    See osdn #41599

commit b2024def51a5fb095c488b4f2c4cfdada5766f72
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Feb 18 11:50:03 2021 +0100

    Upgrade ax_cxx_compile_stdcxx.m4

    Update the bundled ax_cxx_compile_stdcxx.m4 from serial 8 to serial 12 - the
    newest version from the Autoconf Archive. Serial 12 has brought back the
    "keep default C++ version if it is OK" feature that serial 8 had. Upgrading
    prevents automatic upgrades to serial 9, 10 or 11 - versions that don't
    support avoiding C++ standard version downgrades.

    See hrm Feature #880503

commit 5ed12fa30ddeaecc045da8400a9ef56836527f44
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 17 21:21:24 2021 +0100

    Action_Success_Actor_Move_Cost cache.

    Calculate and cache the results of utype_action_takes_all_mp() and
    utype_action_takes_all_mp_if_ustate_is() at game start.

    See hrm Feature #875954

commit d34038634ee7bf9072320d9924b2f64a62e1e1f7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 9 21:25:10 2021 +0200

    Qt: Fix shadow warnings from repodlgs.cpp

    See hrm Bug #919445

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3c62d6195609e15a588c0e2483f3f443fdc7514f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 16 19:07:15 2021 +0100

    Unhardcode the "OneAttack" unit type flag.

    See hrm Feature #847256

commit 22939774860c3fa0affd5c6056ae6fa27555285f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 16 18:09:39 2021 +0100

    autohelp: document all remaining MP loss.

    Document if an action is known to always consume all remaining move points
    by it self or combined with ending up on a native tile.

    Introduce the functions utype_action_takes_all_mp_if_ustate_is() and
    utype_action_takes_all_mp() but don't cache their values yet.

    See hrm Feature #920270

commit 2a6fe2341681705b3b0d392b298d8faa531364b0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 16 17:41:01 2021 +0100

    Introduce effect_universals_value_never_below().

    Make it possible to calculate if an effect type is guaranteed to always be
    above a certain value given a list of universals. False negatives are
    acceptable.

    It can't support multipliers since it must be able to run at cache
    generation time. The solution here is simply to not give a guarantee if a
    relevant multiplier is detected.

    See hrm Feature #920268

commit cd0e4e1c45d010880f0666be26ee951e8351bd39
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 16 16:53:09 2021 +0100

    ruleset: distinguish action name when punished.

    The hut popping actions with (potential for) the loss of all MP ended up
    with the same ended up with the same UI name as the non punished version.
    Add the reason for the potential punishment to the UI name like for other
    punished actions.

    This makes the user interface a bit more consistent, helps explain why the
    unit lost all its MP and is nice to have in case the punished actions
    becomes non quiet in the future and when they show up in the autohelp.

    See osdn #41592

commit 01d565aab05a050bc87bb3d7a973147eb4fda75f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 16 16:19:15 2021 +0100

    Introduce universals_say_everything().

    Make it possible to check if the specified universals is everything required
    to find out whether the specified requirement vector is fulfilled or not.

    See osdn #41590

commit 6e55b20a4cba1f68f89f49ef51b4b25b12fbc128
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 16 15:48:59 2021 +0100

    Introduce universals_mean_unfulfilled().

    Make it possible to check if the presence of any universal from a list
    means that a requirement vector never can be fulfilled.

    See osdn #41589

commit fb5ef462c825c981c469dc98042571be265a47a8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 16 15:20:00 2021 +0100

    universal_fulfills_requirement(): unit state.

    Add a universal_found_function for UnitState properties.

    See osdn #41588

commit 1a17cc1717c3417244d7c545c1d30a3441a731ca
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Feb 14 08:28:22 2021 +0100

    Enabler control over regular moves.

    Introduce the new action "Unit Move" making regular unit movement action
    enabler controlled.

    A consequence is that code for giving regular moves the same properties as
    if it was controlled by the action system can go away. Included in this
    patch is the replacement of the action selection dialogue's "Keep moving"
    button, the removal of the custom handling for actions.move_is_blocked_by
    and the removal of various "do a move action or regular move"-code. Clean
    ups of other areas aren't included in this patch.

    The optimizations required to make it possible to move the movement cost to
    the ruleset are not included, neither is the move of that cost itself.

    See hrm Feature #919970

commit 722b3d5c9c88318b308929889861a05023acc790
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 16 05:50:18 2021 +0100

    Qt client: improve button number macros.

    The non action buttons in the action selection dialog has assigned numbers
    so they can be looked up "by action id".

    Number them relative to the previous non action buttons rather than
    "Keep Moving" so it becomes less work to insert or to remove non action
    buttons.

    Add parentheses around the counting just in case.

    See osdn #41587

commit cb90955194d5e66bbcb0968c475270bc2097daf8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 16 05:48:06 2021 +0100

    GTK clients: improve button number macros.

    The non action buttons in the action selection dialog has assigned numbers
    so they can be looked up "by action id".

    Number them relative to the previous non action buttons rather than
    "Keep Moving" so it becomes less work to insert or to remove non action
    buttons.

    Add parentheses around the counting just in case.

    See osdn #41586

commit 9f3a72e223752456549b79a12f59c58bd0416ab4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 16 03:42:22 2021 +0100

    Ruleset escape_city forced action list.

    Move the list of actions attempted to escape when the city that made its
    tile native disappears to the ruleset.

    See hrm Feature #920149

commit ab558fce909f09187f2b28ff4dcc511cfa9dd249
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 15 21:08:56 2021 +0100

    Action list: Native Making City Gone.

    Move the repetitive code to have a unit try various actions and then a
    regular move to escape when the city that made its tile native disappears
    to an action auto performer. Not exposed to the ruleset yet.

    See hrm Feature #920148

commit 38a68a7692f3339f1d4e4bf66788a8492056df05
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 15 18:18:33 2021 +0100

    Ruleset init action dice roll odds is diplchance.

    Some actions have a action dice roll before the action starts where it can
    fail. The initial probability of success is 100% for the strike actions and
    the value of the setting diplchance for the spy actions. The initial
    probability of success is modified by the Action_Odds_Pct effect before the
    roll happens.

    Move if the initial odds of an action is controlled by the diplchance
    setting to the ruleset.

    See gna patch #5641
    See hrm Feature #849492

commit 6f506cc092218a217a92424d553215e4c3b7e3d0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 15 19:05:51 2021 +0100

    save_bv_actions(): skip non enabled actions.

    Have rulesave skip saving non enabled actions when saving
    diplchance_initial_odds and move_is_blocked_by.

    See osdn #41585

commit 1de69320caee29fa956a3bc38041226e83367894
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 15 16:43:36 2021 +0100

    ruleset: factor out bv_actions read/write.

    Factor out actions.move_is_blocked_by's loading and storing of a list of
    actions in the ruleset corresponding to a bv_actions variable.

    See osdn #41584

commit e10ecb7bb2d8b2dfc03a2513fcb25bfbe52e62dc
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 15 15:21:18 2021 +0100

    CI: separate configure run on OS X.

    Run configure separately rather than as a part of autogen.sh on OS X.

    See osdn #41583

commit c12860739151e9163390d587a97205ec5c7cea4f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 15 14:53:37 2021 +0100

    Transport (un)load: (un)set Sentry via SSCS.

    Use the packet PACKET_UNIT_SSCS_SET to set and unset Sentry on loading and
    unloading units from a transport.

    See osdn #41582

commit 3818c3d42c349a2588c67e9d0d361111729d61b8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 9 20:36:08 2021 +0100

    Sentry is server side client state.

    Make it possible to set it with PACKET_UNIT_SSCS_SET.

    See osdn #41581

commit ae311ff774e7a69aa382bc8aa8e9dfc6bfaca1da
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 16 06:44:47 2021 +0100

    Add a bug reference to a FIXME comment.

commit 34315dcd5d5bfeb4312ab8532f192317c9fde6bc
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 16 06:01:52 2021 +0100

    Comment fact fix.

commit 05101d2ebeb8c0620f2f53d2fb872a7dfcf53e21
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Feb 13 02:05:05 2021 +0100

    Factor out regular move action performer.

    Factor out unit_do_regular_move() from unit_move_handling().

    See osdn #41569

commit 140c004c39466e6b2987c71f71064ad6c8c0cdaa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 9 23:25:37 2021 +0200

    Enable zoom at level 2.0

    Always enable gtk-clients' zoom feature, but only at levels 1.0 and 2.0.
    The commandline option --zoom is removed completely, and zoom level is
    selected with '+' and '-' keys only.

    See hrm Feature #919452

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d93374e7aa4911fb1b3e4f682b1eebd05c3a5e81
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 15 05:58:08 2021 +0200

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against S3_1 strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 871002e3f679d227296e223af68b368e5fa3e2bf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 10 17:21:01 2021 +0200

    sdl2 inteldlg: Show unknown information as such

    Don't show dummy values when there's no embassy to reveal
    the real information.

    See hrm Feature #918827

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 74d75e57a0599f19f23ee17e3aeb97f51b810e89
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 10 00:51:38 2021 +0200

    Replace gtk3-client with gtk3.22-client in examples in documentation

    See osdn #41534

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8b05a75d29ff69ccafc2f8c3525caec430e80b0e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Feb 12 12:52:51 2021 +0100

    Lua API: prepare for non unit actors.

    Rename edit.unit_perform_action() to edit.perform_action() so it can be used
    with non unit actors too. Assert that the actor kind is as expected.

    See osdn #41566

commit 43cff9c04f28a6ab1caebd90b8c6b89a3b312ccf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 9 16:44:22 2021 +0200

    Set tile resource when relevant extra added from editor

    Reported by Alina L.

    See hrm Bug #919194

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 142ea673b158547f64143f76f0a716cc9276f0ce
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Feb 14 00:23:21 2021 +0100

    Comment fact fix: already done.

commit fb6661e68be667af203b328ab037f048bc038700
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 9 16:39:27 2021 +0200

    Fix client crash on setting up patrol for fuel > 1 unit

    Reported by Alina L.

    See hrm Bug #919308

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bba21f4b3b5420d5116cb7b8ead30ec5913c5853
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Feb 11 19:56:03 2021 +0100

    sandbox: test Unit:teleport() via a user action.

    Add the user action "Use Ancient Transportation Network", the extra
    "Ancient Transport Hub" and the small wonder "AmÃªzÃ¢rÃ¢kian Mysteries" to
    sandbox. "Ancient Transport Hub" are placed on the map before the game
    starts. A unit can do "Use Ancient Transportation Network" when located
    at a tile with an "Ancient Transport Hub" and targeting a tile with an
    "Ancient Transport Hub" if its player has "AmÃªzÃ¢rÃ¢kian Mysteries".

    An "Ancient Transport Hub" becomes visible when Polytheism is discovered.
    It becomes possible to pillage an "Ancient Hub" after that. It becomes
    possible to use it once the player builds the small wonder
    "AmÃªzÃ¢rÃ¢kian Mysteries". "AmÃªzÃ¢rÃ¢kian Mysteries" requires Polytheism to
    build. The action has unlimited max range. It isn't possible to reverse
    engineer and build an "Ancient Transport Hub".

    Targeting unseen tiles
    A target tile without an "Ancient Transport Hub" will lose the unit hit
    points - potentially killing it. A target tile with an "Ancient Hub" the
    unit can't exist on - say a land unit ending up in the sea or a ship ending
    up on land - kills the unit.

    See osdn #41557

commit 828aa9602a91f69824df08cc3e0118b632ac4bf0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 8 16:44:55 2021 +0200

    Clean out 3D stuff from S3_1

    See osdn #41521

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1abab219c253afba951688070bf805e80991da6d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 10 13:07:04 2021 +0100

    autoexplorer: stop desiring hut frightening.

    Only give an extra score to a tile with a hut if it can be entered rather
    than frightened.

    Bug reported as a FIXME in the source code by Alexandro Ignatiev or by
    Marko Lindqvist

    See osdn #41554

commit 18c5c0c662595a2888d2cf3e62c7b701f5602efd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 10 21:23:26 2021 +0100

    Document more "Paradrop Unit" side effects.

    README.actions already documents that "Paradrop Unit" can end up conquering
    a city. Document that it can conquer an extra or pop a hut too.

    See osdn #41553

commit 8b74e5f39674f9b68388096d3a2d295eca43df68
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 10 18:13:14 2021 +0100

    Merge "Unit Explode Nuclear" and "Unit Nuke City".

    The only difference between the action results "Unit Explode Nuclear" and
    "Unit Nuke City" is the target kind of its actions. The target kind of an
    action can now be read from the ruleset.

    Merge the action results "Unit Explode Nuclear" and "Unit Nuke City".
    Introduce nuke_city_target_kind and ui_name_explode_nuclear to so its
    actions still can do the right thing.

    This leaves us with an awkwardly named action now that tiles is its default
    target kind but that can be changed in a follow up patch.

    See osdn #41552

commit 6fb583eb70267c1499230af663fbb109ddbbc9e6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 10 16:27:15 2021 +0100

    Prefix all unit action result names with "Unit".

    Prepare for more than one actor kind by prefixing the ruleset name off all
    actions results exclusive to unit actors with "Unit". Do this now, before
    action result names leaks into the ruleset and are frozen.

    See osdn #41547

commit 1bda86f4dd7a7cb2c25027389bbb67f9bb28083c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 10 17:10:28 2021 +0100

    unit_perform_action(): find more targets.

    Try to find target tile and target city no matter what the action's target
    kind is. This makes it easier to call the action performers when action
    target kind lives in the ruleset.

    See osdn #41551

commit 3167f0a3d97c180c5a511f91c576c1684ba07c33
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 10 17:38:19 2021 +0100

    action_target_neg_util(): tgt kind may vary.

    Prepare action_target_neg_util() for actions that may be city targeted in
    some rulesets but not in others.

    See osdn #41550

commit 268a590f2a54f7385b9af170a33c5e5ec6908c4a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 10 18:16:34 2021 +0100

    Mention what action has a problem.

    Specify what action has a problem in the error message of
    enabler_tile_tgt_local_diplrel_implies_claimed(). The message isn't only
    encountered in ruledit where it is clear what enabler has a problem.

    See osnd #41549

commit 2f31b4747d4d8bbab69f8ccc61fd67ac78067647
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 10 14:36:12 2021 +0100

    Fix Unit:move() and Unit:teleport() hut behavior.

    Fix the Lua api functions Unit:move() and Unit:teleport()'s hut behavior.
    They would pop a hut when hut_behavior is Normal and Nothing, but not when
    it is Frighten. Nothing is the one that is supposed to be unable to pop
    huts.

    See osdn #41544

commit 0fac268e4aacf11a56992ba553d1e8b0117ed39e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 10 12:31:51 2021 +0100

    Add space between "attack_actions" and "=".

    This makes it consistent with the rest of the line.

    See osdn #41543

commit 3faed110e34ebaff651da1f16ac4de951572fd57
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 10 12:29:25 2021 +0100

    auto_attack.attack_actions: remove impossible.

    Some rulesets has "Capture Units" and  "Bombard" in their attack_actions
    even if those actions never are enabled. Remove them.

    See osdn #41542

commit c4e4d059839f3dbbef0edb8f8c84c8db0aa00c46
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 10 12:31:07 2021 +0100

    Clarify that granularity can't autoattack.

    No action in granularity's attack_actions is enabled. Comment it and the now
    unused if_attacker out like it is in stub.

    See osdn #41541

commit f290afa40f1fb2e5087ee4200fca26bc0106bbf5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 9 21:10:38 2021 +0100

    Forced post action actions to the ruleset.

    The actions "Bribe Unit" and "Attack" will under certain circumstances force
    an enabler controlled action or a move if the action is successful. The
    enabler controlled actions come from the fact that they used to be side
    effects of regular moves.

    The code to try various enabler controlled actions and then a regular move
    has gotten big and ugly. Soft code it by making the list of actions
    attempted as a part of a forced move a list.

    Put the list in the ruleset so it can be changed.

    See osdn #41524

commit 39ce058bdfb25c7c5170cd417e3a69cbbc037f5c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 10 10:17:04 2021 +0100

    action_auto_perf_unit_do(): extra can be NULL.

    Check that target_extra isn't NULL before accessing it's id.

    See osdn #41538

commit f93616300e0dcde1ce4f6156cedb368fc66cbc9b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 10 09:32:46 2021 +0100

    action_auto_perf_unit_*(): support action reqs.

    Support checking action requirements in the action auto performer
    requirement vector. This makes it possible to choose action auto performer
    based on action.

    See osdn #41537

commit 608762efa98559d4dd4cb72b9b67d061c1c37cb8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 10 07:27:19 2021 +0100

    rulesave: skip non enabled actions in AAP lists.

    Only save an action to an action auto performer list if it is enabled.

    See osdn #41536

commit 8db9c07765dcb837c0efc7c48b9d9a68f569f8a6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 10 06:03:54 2021 +0100

    README.actions: document Unit:perform_action().

    Document that a unit now can be forced to perform an action.

    See osdn #41535

commit 54838400f25ab928084971b661215872d6bd8185
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 9 21:17:05 2021 +0200

    Qt: Fix setting up dialog title in eco_report::sell_redundant()

    See osdn #41530

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e6a2ea0b6d0607572e809083341b2b38bf861d71
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 7 07:20:21 2021 +0200

    Qt: Fix plr_report::toggle_ai_mode() shadow warning

    See hrm Bug #919310

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0de94a0bed07c6a5415d00db2268aa3f57ae8373
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 7 09:19:45 2021 +0200

    README.AI_modules: Update list of AI types built in by default

    See osdn #41505

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e07b6f90715647533de85a0f70eed9ea40cc8050
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 10 07:33:51 2021 +0200

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against S3_1 strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ba182e53182a700fdd0d2af2276d16a07bde1a89
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Aug 21 16:45:36 2017 +0200

    Lua API: allow forcing an action.

    Add unit_perform_action() to edit. Add perform_action() to Unit.

    This makes it possible to force a unit to perform an action from Lua.

    See osdn #41520

commit f3a41d753ab5c8d9ef9d4b168395d933e7a184cd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 8 12:50:29 2021 +0100

    Lua API: add find.action()

    Make it possible to get an action from the find module.

    See osdn #41519

commit 5d05862fbb987fd9b34eb4abd672d081a50178fb
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 8 10:40:56 2021 +0100

    CI: run autohelp.

    Run freeciv-manual on each tested ruleset to catch some potential crashes
    in the automatic help text generation.

    See osdn #41518

commit 2523de46260fb1109bba49428518d5943b074456
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 10 01:12:12 2021 +0200

    Comment typofix 'titelbar' -> 'titlebar'

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0b03a106a3d16f0bb260c486acc6770749079459
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 8 08:14:49 2021 +0100

    rulesets_save.sh: make it possible to keep files.

    Keep the upgraded rulesets for later inspection even if nothing fails as
    long as KEEP_RESULT_IN_DIR is set to a folder. The result is stored there.

    See osdn #41517

commit d1f1edec2e78c04e1fa751224e9a4fccd6a1f934
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Nov 17 04:18:58 2019 +0100

    rulesets_save.sh: test ruleset saving stability.

    Check that loading an already upgraded ruleset saved by rulesave and saving
    it again won't change it. Changing the result could indicate bugs like
    compatibility code running on already updated rulesets.

    Idea had during conversation with Marko Lindqvist <cazfi>

    See gna patch #7283
    See osdn #41515

commit ecf138fe27a88106dd53c487e58ad4037bcd2db4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 8 09:01:56 2021 +0100

    Handle buildable extras without activity cause.

    Make rulesave save the fact that it is buildable when it has no worker
    activity causes. If not buildable will default to false on the next load.

    This fixes rulesave's stability when saving granularity and loading the
    result.

    See osdn #41516

commit e45975ed4343271b9f9793606fe8929adde9f1cb
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 8 06:29:08 2021 +0100

    Fix "Conquer Extras" disembark-punishments.

    Make it impossible to avoid disembark punishments by disembarking to a hut
    by adding the punishments to "Conquer Extras" too.
    - Make "Conquer Extras" actions block "Transport Disembark" actions.
    - Handle "Conquer Extras" in the slow_invasion ruleset upgrade code for 3.0
      rulesets.
    - Add disembark-punishments to the existing rulesets.

    See osdn #41467

commit 9e7f995ececdbaeed843509e29ab09d83d5e431f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 8 03:25:04 2021 +0100

    Fake generalize "Conquer Extras"

    Introduce "Conquer Extras 2" - a perfect copy of "Conquer Extras". Any
    difference between them should be ruleset defined.

    See osdn #41513

commit 9226f26924087c80b9bca98b9a263eaf5b206919
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Feb 4 22:19:34 2021 +0100

    multiplayer: fix move_is_blocked_by line length.

    It was more than 77 characters long.

    See osdn #41514

commit 85c575b8472c52d40af06ca7d33e74ae3fb5fb65
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 8 05:48:44 2021 +0100

    Clarify reference in comment.

    The suggested narrative excuse for Sandbox's placing of castles at the start
    of the game isn't a reference to Noah's flood. (Over 1500 years too early
    for that, at least according to James Ussher.) It is a reference to ancient
    and medieval writer's speculations about a civilization of angles that
    eventually fell into rebellion and was destroyed by a flood between
    Genesis 1:1 and Genesis 1:2. (Don't ask me if they believed that this was
    what happened, what probably happened, what may have happened or what didn't
    happen but is fun to speculate about.)

    Allude to Genesis 1:2 in the comment to make this clear.

commit 27ee4aafa6de6e3b7a3c8b202363ff583efed3b3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 8 02:24:42 2021 +0100

    Put Pillage's multi target support in a macro.

    Move Pillage's multi target support in can_unit_do_activity_targeted_at()
    into a macro so other activities can use it too.

    See hrm Feature #919332

commit 08c1f2b37ef005c87959bcaa51db1adee3c0c7cc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 2 07:17:14 2021 +0200

    BUGS: Replace hrm link with osdn one

    See osdn #41424

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3689b5fc91b03d3159e9a317535ab45ccf41b19b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 3 18:49:22 2021 +0100

    Action enabler controlled hut popping.

    Introduce the actions "Enter Hut" and "Frighten Hut". Have them control
    entering and frightening a friendly village.

    Introduce "Enter Hut 2" and "Frighten Hut 2" for slow_invasions
    compatibility when disembarking. Thanks to Marko Lindqvist for the
    reminder to check disembarking.

    The unit class field hut_behavior isn't moved to the ruleset yet.

    See hrm Feature #919139

commit 955c72a7336a1c11b314d12c69fb685e2617cbd2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Feb 6 20:48:40 2021 +0100

    Allow making "Pillage" tile extras targeted.

    Lexxie asked a question about combining the "Pillage" action and the
    "tile extras" action target kind at the Freeciv forum. Make it possible.

    See http://forum.freeciv.org/f/viewtopic.php?f=11&t=59607&start=70#p103518
    See hrm Feature #919305

commit 0300f23065de78d490782601c039dbdb1a2dc691
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Feb 7 17:20:05 2021 +0100

    Extra sub target doesn't imply tile target.

    To support extras targeted action with extra sub targets the assumption that
    an extra sub target implies that the target kind is tile must be removed.

    See hrm Feature #919322

commit 070c007c0226627c7fa48d112c2cec30e4d28aff
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Feb 6 21:59:55 2021 +0100

    Prepare action target kind for non user actions.

    Prepare the code responsible for loading and saving action target kind from
    the ruleset for use by non user actions.

    See hrm Feature #919307

commit c212a17b07bb9721a516d85892e7db35e783abe1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Feb 7 12:35:13 2021 +0100

    unit_action_new(): don't specify target.

    Make an action's default target and sub target depend on the action result.
    Calculate the target complexity based on action result, action target kind
    and action sub target kind.

    This helps to prepare for taking action target kind from the ruleset for
    non user actions and therefore to prepare for generalized actions.

    See hrm Feature #919321

commit 4b68ecf019e3aa1f42c873e111f8fc3488be636e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 2 15:09:42 2021 +0200

    sdl2 widget.h: Correct comment claiming this is gui_stuff.h

    See hrm Bug #918990

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d06287c7cecde448debb4e6b0466e4c4b7165c13
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Feb 6 21:14:37 2021 +0100

    unit_perform_action(): ACTION_STARTED_UNIT_ANY.

    Put user actions' ability to have any target kind in a reusable macro.

    See hrm Feature #919306

commit dcf533d2a23375cb3137cc959c264307ee04fb0a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Feb 6 19:27:27 2021 +0100

    Validate action target kind.

    Allowing the ruleset to change action target kind requires that Freeciv
    validates that the specified target kind will work with the action's result.

    See osdn #41498

commit 7a269a0ee3edbf085a1f4bd56ea6f313efd91d66
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 1 16:06:53 2021 +0200

    Qt: Fix shadow warnings from pages.cpp

    See hrm Bug #918890

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2c9b7ed6c2a993da1ac1430f74e7f48068621b2f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Feb 5 00:11:40 2021 +0100

    webperimental: add rmcause "Enter" to huts.

    Looks like this was overlooked in hrm Feature #802768

    See osdn #41470

commit 0c81ddb9e17e33f53daed6609c649168552ca9ad
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 3 19:37:44 2021 +0200

    Show git revision also in beta mode

    The version number can get quite long with both beta notice and
    git revision included, but that's what user has explicitly chosen when
    giving --enable-gitrev.

    See osdn #41452

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 40ce4cd1c0ff8ab004ed42a0e2b2632f8ef67758
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 1 17:07:31 2021 +0200

    Correct audio_(get/set)_volume() function header

    See hrm Bug #910927

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 84c4bbd21ee76ff97c2188a42114913f0c86d181
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 2 15:06:05 2021 +0200

    Main Makefile.am: Add docs to EXTRA_DIST

    Autotools were already automatically adding most documents to dist,
    but ChangeLog-1.0-S3_0 was not. This also makes it simpler to
    add NEWS-x.y files in release branches.

    See osdn #41428

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9664b1346026272a01525f5234115847a6df25fe
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Feb 4 19:13:49 2021 +0100

    rscompat: clean up slow_invasion.

    Actions that will need slow_invasion upgrade isn't limited to
    "Transport Disembark" and "Conquer City 2".

    Move enabler upgrade to a function. Handle "Transport Disembark 2" as an
    enabler upgrade even if it was new in 3.1 by inserting the unupgraded
    enabler first. Move punishment effect insertion to a function too.

    See osnd #41468

commit d5bd1cf9b4f4cbc1a725acd01b87548c4d199a7a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Feb 4 18:47:51 2021 +0100

    Don't look up slow_invasions in 3.1 rulesets.

    Ruledit loads all rulesets, including the current version, in compatibility
    mode. While rscompat_old_slow_invasions_3_1() checks the version it self
    there is no point in looking it up.

    See osdn #41462

commit 42eac05c81d53eb8f2ca14cc8de9659abb4c0d69
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 3 21:15:58 2021 +0100

    Get rid of action_id_would_be_blocked_by().

    Remove "access by an action id rather than as an action structure"-macro
    action_id_would_be_blocked_by().

    See osdn #41471

commit e0e177c432a2e2227c4fe646b245d45500bea33c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Feb 4 22:19:16 2021 +0100

    Document why "Transport Disembark 2" is silenced.

    Document why "Transport Disembark 2" and other actions representing a
    disembark move that takes all movement from a unit are to quiet in the
    rulesets that use them for that.

    See osdn #41469

commit f9b7c16c398cbd0236c285b6db5296e1603f8fe1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Feb 4 18:58:03 2021 +0100

    ruleset: remove 2.6 ruleset check.

    Freeciv 3.1 doesn't support loading 2.6 rulesets, even in compatibility
    mode.

    See osdn #41463

commit a097ae50f51b50f5db2ad35571c00b89dabf3e9a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Feb 4 12:41:52 2021 +0100

    Change force_action to action_blocked by list.

    Give the ruleset more control over exactly what actions block other actions.
    Makes the way blocking is expressed in the ruleset for actions that
    currently can be blocked by other actions consistent with how
    move_is_blocked_by expresses it.

    See hrm Feature #919172

commit 964b9f783513a7e8fa36bc1feef4d9ec7bc71ff8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 3 15:18:56 2021 +0200

    Set S3_1 to alpha mode

    See hrm Task #656468

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3a723d0ce3bd9552f3558a799ce22c55901f7a5a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 6 00:45:31 2021 +0200

    Update ChangeLog before branching S3_1

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 16ff6718c9668fa6adf00cf447a0b91507d2a88b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 6 00:38:14 2021 +0200

    Make update-po before branching S3_1

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 71d231e0eb023a46ebef370b08052dcff25f46de
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 2 08:50:11 2021 +0200

    scripts/potfiles: Update to the rename of 'freeciv' domain to 'core'

    See osdn #41425

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4669eddb18eb3e736278aa7f32bd6e03e3385394
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 31 20:15:40 2021 +0200

    sdl2: Make create_bcgnd_surf() state parameter enum widget_state

    See hrm Feature #900470

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5104b85852aec502934bde866ef848afd7bf78dd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 3 22:04:59 2021 +0100

    Allow an action to block a regular move.

    An enabler controlled action is able to block another enabler controlled
    action. That means that the blocked action becomes illegal if the blocking
    action is legal.

    Regular unit moves aren't enabler controlled actions yet. But certain
    enabler controlled actions needs to be able to block regular moves for
    compatibility reasons. They were handled along with regular moves in a way
    that made regular moves impossible if they were legal.

    Introduce actions.move_is_blocked_by as list of actions that block regular
    moves and put it in the ruleset. Add the 3.1 actions "Transport Disembark",
    "Transport Disembark 2" and "Conquer Extras" to it in the ruleset
    compatibility code. Add the same actions to the existing rulesets'
    move_is_blocked_by when they use them.

    See hrm Feature #919110

commit 520f3ad4ae637206f04a8de3d5d7e4e8be0f0a2b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 3 21:09:14 2021 +0100

    Use action stuct in autohelp for action blocker.

    Use action struct rather than action id when documenting what actions blocks
    an action a unit is able to do.

    See osdn #41456

commit 5b962a1a996b09be1f1448d7f12a60ae9d80d95b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 3 21:14:55 2021 +0100

    action_is_blocked_by(): from id to action.

    Specify the action as an action struct rather than as an action_id.

    See hrm Feature #919106

commit a1203c899311983a423c664235b8a960dd8f227e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 3 11:12:40 2021 +0100

    README.actions: improve Lua example 1.

    The action logger example would print potentially wrong ownership
    information about unit stack targets and tile extras targets. Make it write
    text for each target kind separately. Eliminate owner information for unit
    stacks since a unit stack can have units from more than one nation. Correct
    it for tile extras targeted actions.

    Add action target kind specific information too now that it is possible:
    Cities get name and id. Individual units gets unit type and id. Unit stacks
    gets coordinates. Tiles and tile extras gets coordinates.

    Improve the wording of the actor unit text too.

    See osdn #41451

commit bee20b4bc6342801bb6473863e5d1edd3ea86913
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 3 09:08:25 2021 +0100

    Lua script API: add tile extras_owner.

    Export a tile's extras owner to Lua.

    v2: change API to tile/extra pair as suggested by Marko Lindqvist

    See osdn #41445

commit 53457d5920b1228ad1e840ca1011ce97a6e8d29b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 3 09:47:06 2021 +0100

    Lua script API: export action target kind.

    Export an action's target kind as a string to Lua. It is already exposed to
    the ruleset via the user actions target kind setting.

    This can be used to write a call back handler that is registered for
    multiple target kinds but still can get target kind specific information.

    See osdn #41446

commit cac8486ad1acfbc6ce2e10cc8db6384bbf0e4170
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Fri Feb 5 10:50:45 2021 +0100

    Updates french translations before S3_1 branching.

commit e4e173dce11854a8e97439555cf1104e2c9f0bc2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 31 18:09:56 2021 +0200

    Qt: Fix crash when loading of some shortcut has failed

    Use default shortcut when one cannot be loaded from the file.
    Null shortcuts were causing client to crash.

    Reported by John Robertson

    See hrm Bug #909515

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3ae20a8297990debf717c8f208959f98f612fe1e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 31 15:56:15 2021 +0200

    Gtk inteldlg: Show unknown information as "(Unknown)"

    It used to show dummy values

    Requested by fomalhaut pa

    See hrm Bug #765366

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ce7f183754bcaabbeb5719877617b28002f285a5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 2 20:46:29 2021 +0100

    Expand non domestic obligatory hard requirements.

    Tile and Tile Extras targeted actions may also not make sense against
    domestic targets. Set this up and add the "target must be foreign or
    unowned" obligatory hard requirement to the action "Conquer Extras".

    See osdn #41435

commit 2707616031c811389acb32317cfddded5c3de622
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 2 19:46:11 2021 +0100

    sandbox: autogame castle storming.

    Work around that the AI won't build Castles by placing castles at the start
    of the game so "Capture Extras" gets autogame testing.

    See osdn Ticket #41434

commit 75376196700fb2bb2ecf1482051a91a445e04710
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 2 14:31:18 2021 +0100

    sandbox: add "Castle" as a new base type.

    A castle expands a fortress with an administration center, allowing it to
    claim terrain, to see cardinally adjacent tiles even when empty and to be
    captured by foreigners.

    See osdn #41433

commit f3ad1b5a363f015bdc3eb5cd94ca32cad0450ca7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 31 13:42:06 2021 +0200

    Clarify that Railroad increases production by half in most rulesets

    Text that used to say just that it increases the production everywhere,
    was confusing for the case where the production is less than 2 and
    the increase gets rounded down to zero.

    Reported by Chippo Elder

    See hrm Bug #918741

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2ca83fc9f9509690733aeb32b5b85898f7d09167
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 4 05:25:01 2021 +0200

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 26050e3d82c6ef09cd8bd2a9f67f12c17f49b7fa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 4 04:16:36 2021 +0200

    core/POTFILES.in: Add featured_text.c

    Recent combat message change moved some strings to featured_text.c

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2fcc98a58feea2bcdac02b0cc41aeb0a86ea4adf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 31 21:06:58 2021 +0200

    Qt: Drop unused fc_client::game_layout

    See hrm Feature #918824

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 27b533423d7d26fc8a102026d152bb15a9a2cece
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 1 18:19:00 2021 +0100

    auto help: list "Conquer Extras" targets.

    List a unit's potential "Conquer Extras" targets in the unit's action
    specific help text.

    See hrm Feature #918956

commit 38d7ccd971f484147a7f704c23a47743f6dbeda6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 1 19:42:25 2021 +0100

    webperimental: ban civilian fortresses capturing.

    Demonstrate "Conquer Extras" by forbidding civilians from capturing
    fortresses in the webperimental ruleset.

    See hrm Feature #918909

commit b9d8cfc501270f73b12a525edabd3a3ff8c9044f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 14 18:18:53 2019 +0100

    New action "Conquer Extras".

    Extra conquest used to be a side effect of regular moves. Make it a
    separate action.

    Soft code the "no extra owner or at war with the extra owner" requirements.

    Changes auto games because the AI starts to put a value on extra capture.

    See hrm Feature #850508

commit 481e987bc614ee53b5219d43b8bec61cbf55f9a9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 31 09:46:06 2021 +0200

    sdl2: Drop unused free_bcgd_order_widgets()

    See hrm Feature #918801

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 429b16e27b2e55fa4a36200fb3ab96cdf380d389
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Jan 30 16:22:01 2021 +0100

    CI: reenable Windows build.

    Set CI msys2 version to 20201109 by specifying that version 2.1.2 of the
    msys2 GitHub action should be used. This makes GitHub actions able to build
    Freeciv again.

    Reported by Marko Lindqvist

    See hrm Bug #903493

commit 0a32b72a97c89502215d72fd5b402e42eb24d636
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 3 14:12:51 2021 +0200

    Bump version to 3.0.93.2-dev

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 34fda8180c3a7e46d269af153115ef7cd3462795
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 1 13:11:23 2021 +0100

    Introduce tile extras targeted actions.

    Add support for enabler controlled actions that targets all extras at a
    tile. The difference from tile targeted actions is that the player
    target_reqs are evaluated against is the tile's extra owner rather than
    the tile owner.

    ATK_EXTRAS has no hard coded users yet but can be used with the user
    actions by setting target_kind to "tile extras".

    Example: A Buoy at an unclaimed tile is owned by the player it grants
    vision. An action enabler for "User Action 1" has a local DiplRel War
    requirement. A player at war with the tile's extra owner tries to perform
    "User Action 1" to the tile. If user_action_1_target_kind is set to
    "tile extras" the requirement is fulfilled. If it is set to "tiles" it
    isn't since there is no player (tile owner) to be at war with.

    See hrm Feature #918887

commit ebfc84fa24c08202b93221a60279a07607d81fa0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 31 11:42:18 2021 +0200

    Fix increasing of the packet decompress factor

    Code assumed that zlib would return Z_DATA_ERROR when decompress
    buffer is too small, but in reality it returns Z_BUF_ERROR.
    This caused decompress factor never to be increased even if the
    default value turned out to be too small.

    Reported by Louis Moureaux

    See hrm Bug #918726

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 29a5197c7f0380df0aa98ea1907c520091b86466
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 1 12:32:40 2021 +0200

    Bump soundset capstr

    New entries have been added to the soundspec format since S3_0.
    Make the capstr to differ from frozen 3.0 one.

    See osdn #41411

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c0c43cc0bd07522b96287ddc7e8abfaa2310c0c1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 1 08:23:46 2021 +0100

    Document unit activities usages.

    Document what each member of unit_activity is used for.

    See hrm Feature #918854

commit 0d2a51c5889dd65ee1861d21e6cd17f7850faa68
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 1 08:08:30 2021 +0100

    Drop conversion of never read activity.

    ACTIVITY_PATROL_UNUSED can't be read from savegames. There is therefore no
    need to convert it to ACTIVITY_IDLE.

    See hrm Feature #918853

commit a9f6a5ae423c53d4f2de40e1ee3082c4103c4ec2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Feb 1 08:18:48 2021 +0100

    savegame3: drop pre 3.0 activites.

    Remove activity2char()'s support for reading activities that were dropped
    before 3.0 was released.

    See hrm Feature #918852

commit b54b06e340c421b34458a50f8c7a13b968175cbe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 2 19:08:13 2021 +0200

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 27b57cb2e3c507817a02166df8cbf1016c71a2cc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 31 23:10:26 2021 +0200

    README.md: Update patch submit URL to osdn one

    See osdn #41402

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dfab4d04de098d1025d4330541f768aeea323016
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jan 31 15:20:46 2021 +0100

    Add an "Extras Owned" CityTile property.

    It works like "Claimed" except that it checks for extra owner rather than
    for tile owner.

    See hrm Feature #918819

commit a3f3a388a241914e55ada7214476d741bad1906a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jan 31 16:32:34 2021 +0100

    Translate CityStatus property values.

    See hrm Bug #918818

commit 1343b450a9ead77e36eef26dfe487e9a2672e298
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jan 31 16:18:15 2021 +0100

    Translate CityTile property values.

    See hrm Bug #918816

commit dc3a0e63d211d7622530ca1f810e594c944f2dfd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jan 31 15:09:43 2021 +0100

    Clean up is_citytile_in_range().

    * Convert from if statement to switch statement.
    * Move the no target tile check to the top.
    * Move asserts against illegal ranges to be within switch statement
      (requested by Marko Lindqvist)

    See hrm Feature #918815

commit f67dfd3a09f71d29ef6b4ab31b208884b7fdca28
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 31 12:10:35 2021 +0200

    Make year SINT32 in network protocol

    Reported by Alina L.

    See hrm Bug #918800

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 23512a7b88ba5329ce244709e4b0f6b2fd63e6dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 31 09:14:58 2021 +0200

    Correct api_methods_game_year_text() function header

    See osdn #41393

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c4af7815b91e88402359eaeb4c0674a5cefc2d3a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 30 21:18:46 2021 +0200

    Qt: Fix foreach() inside foreach() shadow warnings from menu.cpp

    See hrm Bug #918786

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 110cdbbb11168e6b1a4afddf59aa73672e4a55b7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Jan 30 16:48:14 2021 +0100

    CI: use prebuilt Lua on OS X.

    See hrm Feature #918779

commit 4703c41161b2b97200814276af9b5f9f5ed197c9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Jan 30 13:47:01 2021 +0100

    Ban "Fortress" in unit "Activity" requirements.

    The "Fortress" unit activity is there for compatibility with old savegames.
    It should not be exposed to the ruleset.

    Ban it from appearing in any "Activity" requirement.

    See hrm Bug #918776

commit c391b9903f555ab3beee59a773ed9c159620b5a5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jan 29 22:08:30 2021 +0100

    Make "Sentry" pure server side client state.

    Ban "Sentry" in unit "Activity" requirements. This makes it pure server side
    client state again. This makes Sentry a non action. Remove the "Sentry Unit"
    action introduced in hrm Feature #879674.

    I don't think the rules should change based on what the client does to
    implement a better user interface. Not having to think of upgrading rulesets
    that requires it gives us more freedom to move it to a server side client
    state sub system in the future.

    Ban "Sentry" from appearing in any "Activity" requirement. Make the
    requirement system see a unit performing "Sentry" as being idle. Remove the
    "Sentry Unit" action.

    This reverts commit fc6101ecfd9ee34e3d57230bf9c7679420f9fc4e.

    Done because of negative feed back on the "Sentry Unit" action from Ignatus
    on the Freeciv forum. See
    http://forum.freeciv.org/f/viewtopic.php?f=11&t=59607&start=70#p103321

    See hrm Feature #918768

commit e7d63729cb6d3a7b9ef8f8fef3345011be11e674
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Jan 30 11:37:17 2021 +0100

    Ban "Explore" in unit "Activity" requirements.

    The "Explore" unit activity controls a server side agent. I don't think the
    rules should change based on if the player moves a unit himself or if a
    server side agent does it on his behalf. Not having to think of upgrading
    rulesets that requires it gives us more freedom to move it to a server side
    agent sub system in the future.

    Ban it from appearing in any "Activity" requirement. Make the requirement
    system see a unit performing "Explore" as being idle.

    See hrm Feature #918767

commit d73ac0ff7cea627cce63b045a8f948238937edd3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Jan 30 11:18:09 2021 +0100

    Ban "Goto" in unit "Activity" requirements.

    The "Goto" unit activity is there for compatibility with old client-side
    goto. It should not be exposed to the ruleset.

    Ban it from appearing in any "Activity" requirement. Make the requirement
    system see a unit performing "Goto" as being idle.

    See hrm Bug #918766

commit d85e8de307a95f151644193f8d903a882a310cea
Author: Charlie Galik <Charlie.Galik@cambiumnetworks.com>
Date:   Tue Jan 26 13:43:16 2021 -0600

    Add detailed combat info server message

    Patch by myself and Louis Moureaux

    See hrm Feature #913055

commit 2ca43f449542d0d1f7bd8f798b62f8fbbeb39017
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Jan 30 10:08:50 2021 +0100

    Forbid invalid Activity requirements.

    The unit activities "Unused Road", "Unused Railroad", "Unused",
    "Unused Airbase" and "Unused Patrol" aren't valid values for the "Activity"
    requirement type.

    See hrm Bug #918765

commit 6fae7ee8703d348e7f518456a32c6b7fb2adbf6b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jan 31 15:22:52 2021 +0100

    Comment pronuon fix.

commit a7e8c5a1112f3285c4e43ffffc966c6909790018
Author: Alina Lenk <alina.v.lenk@gmail.com>
Date:   Fri Jan 29 19:29:57 2021 +0100

    Fix hard requirement of non-animal actor for Conquer City actions

    It should apply to the actor player, not to the target player.

    See hrm Bug #918718

commit db1ca595861fe98be54a61ba5a03dff6637bb0b6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 31 10:17:59 2021 +0200

    Comment typofix: "dispalyed" -> "displayed"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4a9f698b6a6fef14bd31bd80cb5871e8b10d3885
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 29 17:34:10 2021 +0200

    Update to crosser-2.0

    See hrm Feature #891459

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fe382f38fb13b5aee7cbb03d7ea7e3eb8de12492
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 30 08:54:19 2021 +0200

    Granularity: Add Pottery tech

    See hrm Feature #908869

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9fb57ad8d9ac0a1261422337629724bbebd2d5f6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 24 07:47:56 2020 +0200

    gtk3x: Comment out chatline.c tool buttons code

    See hrm Feature #909061

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 626bce5b96e5d528e4d2b2c0ea5b09fda93a500a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 29 14:42:52 2021 +0200

    Fix typos in global_worklist_callback() function header

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9e74a332d5645eeec63e7b0f50689d2dc45e9e3a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 17 15:00:10 2021 +0200

    Qt: Fix map_view::shortcut_pressed() shadow warnings

    See hrm Bug #916123

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1547c17802ff465ec55531e4c9273d4a4b8da461
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 27 05:22:15 2021 +0200

    Add --enable-patient-connect configure option

    When the option is enabled, client gives spawned server much
    more time to get up. This is needed in some underpowered embedded
    systems. This option is meant to replace custom patch that
    OpenEmbedded meta-games is carrying to increase the time.

    See hrm Feature #899259

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit abf2d17cf9968ff8fb29cda12f64c35fdc6414b2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 5 00:59:15 2021 +0200

    sdl2: Drop order_auto_attack icon from theme format

    See hrm Feature #902918

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e18490ad03e1b8e0247ec6fc3ec7eae21e96923d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 9 11:47:57 2021 +0200

    Qt: Fix shadow warning from hud_battle_log::timerEvent()

    See hrm Bug #914093

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bdab6cb064d0706b641131443fa3dc40c35fc12a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 19 02:27:43 2021 +0200

    Control -mwindows flag ourselves, from one place

    See hrm Feature #915700

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7ed496002dedc0d6b52d35b8d145f323e2a0a0f5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 17 03:17:19 2021 +0200

    Drop unnecessary SDL_mixer.h includes

    See hrm Bug #898088

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2dde28145becd1310dd37d9ab90d2d05ccc7eae5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 3 11:17:32 2021 +0200

    Update BUG_URL to point to osdn

    See osdn #41096

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 25050c829fab00032ffd54770f632b81a777b80f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 17 05:42:40 2021 +0200

    Qt: Restore QWheelEvent::source() and QWheelEvent::phase() to use

    We couldn't use them in earlier branches that had lower minimum
    Qt requirement.

    See osdn #41189

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7ef49f2b8ee916d79d7bc97e5ac1851281c01050
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 5 00:48:02 2021 +0200

    sdl2: Show more accurate unit cost in global worklist editor

    Use utype_build_shield_cost(... client_player() ...) instead
    of utype_build_shield_cost_base() so player specific effects
    are considered in the calculation.

    See hrm Feature #905452

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 49ed82bac36e22eec12404727eb58b5e1cac7ade
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 18 05:24:47 2021 +0200

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3c7a4f89dc9877566c1111e3bb3a6d54fc5862ae
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 16 11:26:43 2021 +0200

    Qt: Fix dialogs.cpp shadow warnings

    See hrm Bug #915888

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9c056a65ee4227f588db21c9426d81776271488a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 16 10:43:17 2021 +0200

    Drop borders_button from sdl2-client theme format

    Bump spec capstr as now the format differs from that of stable branches.

    See hrm Feature #898699

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9a37f40c3480641450675cd635ea49940996a074
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 2 00:42:23 2021 +0200

    Refactor duplicate PF_IMPOSSIBLE_MC check out from pf_normal_map_iterate()

    See hrm Feature #911970

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3591b8c8bed2285a92879e9c321bdd43ec04085b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 21 19:41:23 2020 +0200

    sdl2: Correct create_horizontal() function header

    See hrm Feature #899230

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6d29b049eb2fffd3a1b4fc699ca9844b4297af8c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 9 12:07:22 2021 +0200

    Qt: Fix cityrep.cpp shadow warnings

    See hrm Bug #914100

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 47415c2c22b3ddb54683d1f0499620427e357e01
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 12 05:22:33 2021 +0200

    sdl2: Improve wldlg.c coding style

    See hrm Feature #914761

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a10500e43b091169403961d4d4ba7f45138aad48
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 1 09:38:47 2021 +0200

    Ruledit: Don't open separate console window in Windows

    Reported by Jacob Nevins

    See hrm Bug #681310

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b1ad781bd913f77eb99a4d841fb09612abc4ace8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 12 03:30:16 2021 +0200

    sdl2: Improve widget_window.c coding style

    See hrm Feature #914738

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 00f2bf372537f2e15b476fd887ac1ff14d99bff6
Author: Ilkka Virta <itvirta@iki.fi>
Date:   Mon Jan 11 15:23:47 2021 +0200

    Make Despotism penalty and Pollution/Fallout not apply to Gold/Luxury/Science

    Some wonders like Hanging Gardens apply a direct Luxury or Science bonuses
    on the city _tile_. The code subjects them to the Output_Penalty_Tile
    effect, unlike the help texts lead the player to assume. The same issue
    applies to Pollution/Fallout via Output_Tile_Punish_Pct.

    Fix this by excluding Gold/Luxury/Science from both effects in the affected
    rulesets: civ2civ3 and sandbox.

    See hrm #908518

commit dcdef0ad0ade3720c303b418ab39afe433d2bfc8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 10 09:10:50 2021 +0200

    sdl2: Improve widget_scrollbar.c coding style

    See hrm Feature #914306

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fcdcdc78c2667e8645b701ee84337406708d1ee5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 5 16:09:11 2021 +0200

    Fix postponing buildings from worklist

    They were never postponed, but their building started even when
    it was supposed to be impossible.

    Reported by wiederFI

    See hrm Bug #912972

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d59336b703330e910649fa546cdee87da48a24b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 9 03:01:17 2021 +0200

    sdl2: Improve widget_label.c coding style

    See hrm Feature #914020

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 124c737a7bfd1d96156f55f5bf4a29892da53b18
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 3 22:24:53 2021 +0200

    Qt: Fix citydlg shadow warnings about 'pcity'

    Local variables shadowed data member by the same name
    from city_dialog and impr_item classes.

    See hrm Bug #912471

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5b295ccfef9362f0e4ed4331310926bc745c87e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 8 07:32:45 2021 +0200

    sdl2: Improve widget_edit.c coding style

    See hrm Feature #913754

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d08c5b49104745dae79d7c78c0929d82b21e6e4b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 7 15:04:46 2021 +0200

    Fix Capture Unit's Casus Belli triggering

    Reported by Lexxie L

    See hrm Bug #913516

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d74b85a4c3967052f613c4ec8ff8ea3e391b8b7f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 3 07:26:25 2020 +0200

    sdl2: Correct create_utf8_str() function header

    It talked about parameter called pInTextString, when in reality
    it's called in_text.

    See hrm Feature #902490

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d449581923e7ffaa216a822b46584893e7e2930e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 6 12:34:25 2021 +0200

    sdl2: Improve widget_checkbox.c coding style

    See hrm Feature #913238

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ed073d52b50f08a46a607f0f5cd736b9b93930c6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 7 04:02:06 2021 +0200

    configure: Drop detection of SQLITE3_VERSION

    The detection code errored when sqlite3.h header was in
    nonstandard location, and even when the detection succeeded,
    the result was not used for anything.

    See hrm Feature #913433

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f3b03f6d56a71092e5707f585d650e3103026497
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 27 04:54:34 2020 +0200

    sdl2: Remove useless Toggle Mini Map Mode button

    It did nothing, just confused user by its existence.

    See hrm Bug #898649

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit be137f6f7bdb92c4b5967a2fc8dd6f0383280630
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 5 08:31:47 2021 +0200

    sdl2: Improve widget.c coding style

    Some variable renames affect also other source files.

    See hrm Feature #912882

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5e13ee1951a35be4b4a095cedd545b2b68b17262
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 30 05:20:15 2020 +0200

    sdl2: Rename get_widget_pointer_form_*() -> ..._from_...()

    See hrm Feature #911183

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cf091b010b18c2047e564b8f5667dac44cdc8524
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 9 10:47:15 2021 +0200

    Qt: Fix chat_input::chat_word_list_changed() shadow warning

    See hrm Bug #901860

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a712a49e3d0b67640aacf5a45cf67bf2925030d3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 4 08:24:19 2021 +0200

    sdl2: Improve widget_button.c coding style

    See hrm Feature #912574

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2a12fc52083a25552facf3d81566062c0696937b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 3 23:05:02 2021 +0200

    Adjust formula for barbarian band size

    The old formula increased number of cities needed for higher
    band size factor too steeply.

    The new table:
    Player cities -> band size factor:
    ...10    -> 1
    11...31  -> 2
    32...80  -> 3
    81...186 -> 4

    Reported by Akechi

    See hrm Feature #767126

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 814490291d5ee838a8c08cd26ab72a74a9f6efc4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 3 01:51:12 2021 +0200

    sdl2: Improve theme*.c coding style

    Some renames affect also other source files.

    See hrm Feature #912245

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0f5aa81591ff9226189251eec1c2e4f354410fa2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 6 12:16:55 2021 +0200

    msys2: Add 'ci' target for the Makefile, use it in CI

    Disable build for now, as latest msys2 packages fetched by the CI
    are incompatible with our codebase (officially supported msys2
    snapshot version)

    See hrm Feature #913235

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d7e87a3c9d9f6ae10b3c50701e9c88989d72f496
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 2 12:23:02 2021 +0200

    Meson: Set GDK_VERSION_MIN_REQUIRED, GDK_VERSION_MAX_ALLOWED

    Silences deprecation warning from newer gtk+ than our
    minimum supported.

    See hrm Feature #912102

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4f2c263dae07a6595bcbfe65073a60c586ae606a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 2 02:00:04 2021 +0200

    sdl2: Improve spaceshipdlg.c coding style

    See hrm Feature #911986

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3b03409c536a5920b736e44696cc8cbd118b28cd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 3 13:37:08 2021 +0200

    configure.ac: Fix IPv6 support in Haiku

    Reported by Luc Schrijvers <Begasus>

    See hrm Bug #912369

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5118e0cbe68fce8ce9e6a5d2bd7a41931748a314
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 3 21:47:51 2021 +0200

    Qt: Fix helpdlg.cpp shadow compiler warnings about 'buffer' variables

    See hrm Bug #912464

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 90ff9cb2c9c6d3a2487b331b72a032c6f98943c1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 1 00:36:54 2021 +0200

    meson_freeciv_config.h.in: Don't claim to belong to autotools build

    See hrm Bug #908841

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a98563c5957075f6fc17f9b62e61b0d0d190f3f0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 1 01:25:54 2021 +0200

    sdl2: Improve repodlgs.c coding style

    Some renames affect also other source files.

    See hrm Feature #911729

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3466068fa50dae88540e0607d4948988f9878168
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 5 23:16:16 2021 +0200

    Bump version number to 3.0.93.1-dev

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a22273e65e79ee233e5b701b072898c6cc49e1ae
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 1 23:01:41 2021 +0200

    Make ~/config/settings/freeciv the storage directory under Haiku

    Requested by Begasus

    See hrm Feature #911958

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 183b871c32a77435cca478567aa161d4204b8760
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 2 16:45:36 2021 +0200

    Qt: Popdown gotodlg when leaving the game

    Also fixes a crash when quitting the client, and gotodlg has been
    opened.

    Crash reported by John Robertson

    See hrm Bug #911885

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ec5ab3f557e5bb5cc4fab09c7f5785a704279d3e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 2 01:02:22 2021 +0200

    configure.ac Fix Windows compilation detection for gtk4 modpack installer

    See hrm Bug #911974

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b1ca2e610cd257ec4d666b342283cd85fe83e41e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 31 16:13:12 2020 +0200

    sdl2: Improve plrdlg.c coding style

    See hrm Feature #911637

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a5698cf211f017c7d3e0c086bc47bea46259ecd4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 23 15:24:33 2020 +0200

    meson-winbuild.sh: Disable nls

    See hrm Feature #908863

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5d851e0a444b0ba2e17c5c91e8c888d0963fb3aa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 28 14:23:44 2020 +0200

    Rename modified sdl2.m4 as fc-sdl2.m4

    See hrm Feature #851202

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ff2462fa627cb48cf8ee34d0736381065c941fb4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 30 06:07:04 2020 +0200

    Fix selecting music track after lua play_music() track has played

    Reported by Jacob Nevins

    See hrm Bug #683570

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d55e3a1c0a0f82569e3274fb6f2779b1a020185c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 30 05:06:08 2020 +0200

    sdl2: Improve messagewin.c coding style

    See hrm Feature #911180

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 604eb362e642ac7020b1d30f84c1c6d8ad14897a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 31 16:29:14 2020 +0200

    Introduce new compat_load_dev() block for the version 3.0.93

    See hrm Feature #911639

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fdf96a7ff57e4e837813cca68975c449725a2a51
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 3 14:41:38 2021 +0200

    Qt: mr_menu::*(): Rename menu_list as menus

    mr_menu class has several member functions with a variable
    called menu_list. Those shadow data member of the class.
    Rename them to 'menus' to avoid the shadow warnings.

    See hrm Bug #900975

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b9e85534e1cd5cb9c3fed9eef314a13c5c4f11b9
Author: John Robertson <jro.johnro@gmail.com>
Date:   Sat Dec 19 19:30:28 2020 -0700

    Qt: Confirm before distruptive selection

    See hrm Feature #907806

commit 9d3b03963eeb15fa95c7af065b34b3b77b333f43
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 29 05:02:16 2020 +0200

    sdl2: Improve menu.c coding style

    See hrm Feature #910846

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4a4fc6d50b7a3cd847441d2b2be2cef44865abdd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 2 20:50:36 2021 +0200

    AI: Use considered unit's attack count in city bashing consideration

    Virtual unit under consideration was assumed to always deliver one
    attack against enemy city. Use its real move rate instead. For example
    units of move rate 2 can both attack and conquer at the same turn.

    See hrm Bug #872218

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 463d99c265fc23152db0af2350cfd34cb1df0eab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 2 14:50:17 2021 +0200

    sdl2: Fix compiler errors when SMALL_SCREEN enabled

    See hrm Feature #899569

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d944b5fdd294f1e7c5d923d445d9c878e6e21014
Author: Ilkka Virta <itvirta@iki.fi>
Date:   Sun Jul 12 00:17:37 2020 +0300

    Fix city_landlocked_sell_coastal_improvements() for Aqueducts and Harbors

    Aqueducts used to get sold on terrain change among with coastal improvements since the
    actual city tile was not passed to is_req_active. Also add check for TerrainFlag reqs,
    used by Harbors from 2.6, so that they do get sold.

    See hrm Bug #880455

commit ae0cda01b29bf52d96df459a25a79a46e4806a31
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 28 05:37:37 2020 +0200

    sdl2: Improve mapview.c coding style

    See hrm Feature #910530

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e355db22740839b9048a4e6648965a71a7651442
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 28 13:06:07 2020 +0200

    Fix selection of next music track after single-alternative track

    Saving correct music tags and setting up the callback was erroneously
    inside a code block that handles alternative tracks for the given tag.
    It was not executed when there is no alternatives for the track.
    Move the code outside that block so it's executed always.

    See hrm Bug #910605

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 58e6b1a8409607420f253c9a628aaa3eeccc94cd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 1 14:36:44 2021 +0200

    Inline is_city_center()

    Some arrangements for includes was needed as headers depend on each other.

    See hrm Feature #905143

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5b6baa8d5c4c65d06ce3200eb6261dbab7da3648
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 1 09:05:14 2021 +0200

    Bump version number to 3.0.93-dev for year 2021

    See hrm Feature #910554

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a58d84533a8875f6e98f0ebe6b2b93d3eaa14d49
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 27 04:49:55 2020 +0200

    sdl2: Improve mapctrl.c coding style

    See hrm Feature #910251

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2b24adcae463e4c646c804b82a1f7610008288d0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 30 05:55:47 2020 +0200

    Revert hrm #905818 to fix stopping music

    What was thought to be fix for Bug #905818 has actully been
    breaking stopping of music. Revert that fix.
    Actual root-cause of Bug #905818 was Bug #910605, which will
    be fixed in a separate commit.

    See hrm Bug #910919

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0131720e1c882567735e66073507ac50db1a3963
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 31 13:09:56 2020 +0200

    Update Polish translation by Hubert Kowalewski

    msgmerged from S3_0 b79b7d1d8b

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dc6e7b77355d0e9cff2483c7caa9ba571becde22
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 20 03:45:05 2020 +0200

    Fix buffer overflow in reading score log file

    Reported by louis94

    See hrm Bug #907791

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5583ab70fa02d16c43f89c591904069813b11563
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 31 07:37:08 2020 +0200

    Update Spanish translation by Jordi Negrevernis i Font.

    msgmerged from S2_6 fa280f545a

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cfef00afcad597338cd1e2493874683618c3f879
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 26 07:06:27 2020 +0200

    sdl2: Improve helpdlg.c coding style

    Some variable renames affect also other source files.

    See hrm Feature #909797

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2eb65191cab0ad87449393005428acc52b22fbc6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 29 03:47:51 2020 +0200

    gtk: Fix crash on receiving chat with link tags

    We did g_object_unref() ourselves to a tag we had created with
    gtk_text_buffer_create_tag(). Its documentation says:
    "The returned tag is owned by the buffer's tag table"

    Reported by louis94

    See hrm Bug #910832

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9780ca55a89eca92b3ad20935a6282f597f26441
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 30 16:05:07 2020 +0200

    Update Spanish translation by Jordi Negrevernis i Font.

    msgmerged from S2_6 4cc9a34d67

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6749fb2ce2fab627a4c3e37502ad58e23c2d44d0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 30 15:02:23 2020 +0200

    m4/.gitignore: Remove x.m4

    The file no longer exist.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dc917b084ed8c963d61074468ee6d10250793113
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 30 06:45:11 2020 +0200

    tools/fcmp/.gitignore: Add gtk4 modpack installer files

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 31ab7c7518c404c17eea1df02de34473b079129a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 25 12:48:14 2020 +0200

    sdl2: Improve gui_tilespec.c coding style

    See hrm Feature #909610

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 056f282d84998391b2f56dccfbaeded7867486e1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 22 19:25:04 2020 +0200

    Add minimum_turns property for multipliers

    It tells how often multiplier can be changed.

    See hrm Feature #908582

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b0ee24f6eadd318415087d396996e2e3ba31de80
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 29 05:15:33 2020 +0200

    sdl2: Drop unistring.[ch]

    See hrm Feature #901118

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5c3b4f2a7bf29bbde28bd4cd4f8ff129e3b45000
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 23 14:47:10 2020 +0200

    Meson: Add nls support

    See hrm Feature #908818

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0dd9df4767c2e684a46daafc251fda55323c73b6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 24 04:57:12 2020 +0200

    sdl2: Improve gui_mouse.c and gui_string.c coding style

    See hrm Feature #909028

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 54e2a5f62c1cfb7c0fa45a0072c2c5dc749767bf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 22 15:36:42 2020 +0200

    Add .desktop and appdata files for gtk4 modpack installer

    See hrm Feature #908486

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 95d20bad56b80fd27548d2e9487c6f6a7c495f6e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 19 12:36:43 2020 +0200

    Granularity: Add Fishing

    Tech Fishing is needed for cities to be able to work Oceanic tiles.

    See hrm Feature #907604

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9bf38119eda38e8c05a97e06f67dd3a0d69e0cf8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 23 16:51:44 2020 +0200

    sdl2: Rename i[A-Z]* to adhere coding style

    See hrm Feature #908883

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4d978370996c4ed27da3b09f33f20e927e28b5d0
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Sun Dec 27 20:00:34 2020 +0100

    Updated French translations

commit bc6f0cd6a86a5ec16fd8fb648d630f54f8bb8cfb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 27 15:02:24 2020 +0200

    meson-winbuild.sh: Do ninja install step

    See hrm Feature #905637

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a046523fbe0560d681c615c4f39d54bc2e000ca8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 23 16:29:22 2020 +0200

    Qt: Pass QEnterEvent* as parameter to QWidget::enterEvent()

    See hrm Feature #893359

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 125ac4ef1d373affba38a6a2d139e1060b8a0c6e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 23 06:42:53 2020 +0200

    sdl2: Improve gui_main.c coding style

    See hrm Feature #908732

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5456c9b2359969d3f2c8c334263fbf0c74738abb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 22 15:16:21 2020 +0200

    Update gtk3x modpack installer to gtk4 modpack installer

    Make it to use final gtk-4 and rename.

    See hrm Feature #908451

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5912beae3d81e66cb2d27b0813795007848ed45b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 23 18:22:16 2020 +0200

    sdl2: Update sdl_create_server_list() function header

    See hrm Bug #908900

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6c2425945e5d7ff6be950287046eeb0b91139b22
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 22 05:52:21 2020 +0200

    sdl2: Improve graphics.c coding style

    Some variable renames affect also other source files.

    See hrm Feature #908410

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1949471efaaadf7f85b21d69b7b93ce540d469f3
Author: John Robertson <jro.johnro@gmail.com>
Date:   Tue Dec 22 10:34:59 2020 -0700

    Qt: Update gotodlg when unit selection changes

    See hrm Feature #908664

commit c5edb2bead41bf29c69f7127e2174d1ad70821d1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 17 06:19:11 2020 +0200

    Meson: Disable nonnull-compare warnings

    See hrm Feature #853693

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4002acaf1e55f85dc417cf3b99b2b6cbccf52de7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 22 18:49:31 2020 +0200

    Rulesave: Save multiplier offset and factor

    See hrm Bug #908577

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1f093c65e44f91dec98786eb036e4b2973d329c5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 21 06:26:12 2020 +0200

    sdl2: Improve gotodlg.c coding style

    Some renames affect also other source files.

    See hrm Feature #908095

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0e9e768f4d8d5d8972ddcdb43d846905079e1617
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 21 23:18:45 2020 +0200

    Support MagickWand-7

    See hrm Bug #905573

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 612e7555c7bcf04f300dc20473a63d6a4484c635
Author: Ilkka Virta <itvirta@iki.fi>
Date:   Sun Dec 20 18:58:23 2020 +0200

    Update city info to owner when foreign caravan helps build wonder.

    See hrm Bug #907977

commit 62b6c3423bb2ae5efbe3e18e145fc76e7ac292ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 19 07:44:49 2020 +0200

    sdl2: Improve diplodlg.c coding style

    Some variable renames affect also other source files.

    See hrm Feature #907546

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 18d48dd97d0df7c02fbc6f22bb524e672fc78a74
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 17 05:42:11 2020 +0200

    Meson: Set QT_DISABLE_DEPRECATED_BEFORE

    See hrm Feature #906910

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 65f1819dab2784558e6aa18e45e220435065425f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 23 14:49:23 2020 +0200

    Drop long gone ./ser and ./civ from root .gitignore

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6b50a5b0bc6650d4c03992aa1fa71643c26fb5ed
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 16 00:08:26 2020 +0200

    Increase max number of alternative music tracks to 25

    Requested by jwrober

    See hrm Feature #905821

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 526e2804e5c0e6f2eb17668373a77fdebf76d1b4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 18 05:20:09 2020 +0200

    sdl2: Improve dialogs.c coding style

    Some variable renames affect also other source files.

    See hrm Feature #907185

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1fa1022d9cefe42952a7d22433103a38e1ada6ff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 10 21:03:49 2020 +0200

    Record turn multiplier was changed

    See hrm Feature #905098

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0ba761b88469c955abc9d462040a7fc74ba12297
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 13 20:27:58 2020 +0200

    gtk3x: Replace gdk_event_get_coords() calls with gdk_event_get_position()

    See hrm Feature #903161

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 119632b7b0ac3d4e7684ceff4fc6ae50b3a49559
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 10 20:08:58 2020 +0200

    Granularity: Add README.granularity

    See hrm Feature #905081

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bc226a38b9f61b62c05c60f1ba9cdd272cfa9e32
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 17 01:06:02 2020 +0200

    sdl2: Improve connectdlg.c coding style

    Some variable renames affect also other source files.

    See hrm Feature #906863

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 54f08f41f12929dbf84b6936ed17e58d91006c91
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 11 17:28:20 2020 +0200

    Meson: Install Qt-client order icons

    See hrm Feature #905391

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bd4295d091fe55409779b966ebea5e15e1aef3e8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 21 15:32:26 2020 +0200

    Ruledit: Add new meta (moc) files to .gitignore

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 49698afd61ff8c33b21dc042c1bb365518b31278
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 13 18:13:42 2020 +0200

    Qt: Add --shortcutreset command line parameter

    Gui specific command line parameter can be used to force
    default shortcuts to use. Like usually, those then get saved when
    the client exits.

    See hrm Feature #905784

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7e8ef861b74bebf66b71ce84785ab8eff911a5ad
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 15 23:02:14 2020 +0200

    sdl2: Improve cma_fe.c coding style

    Some variable renames affect also other source files.

    See hrm Feature #906509

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1a8ac746c9b06966102881fa4d0a4c1f883bcc92
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 11 20:35:53 2020 +0200

    Pass player parameter for utype_build_shield_cost()

    get_unittype_bonus() asserts that there's a non-NULL player
    passed to it. If there's NULL city passed to utype_build_shield_cost(),
    it can't get city owner to pass to get_unittype_bonus().
    New player parameter is added for utype_build_shield_cost(), so it
    have a player even if city is NULL. There's still fallback to city
    owner if player is NULL and city is not.

    See hrm Bug #905411

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cb9d5a5d73f08385016ed77e62b9c8e06e299ff7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 9 21:24:26 2020 +0200

    gtk3x: Replace gdk_event_get_button() calls with gdk_button_event_get_button()

    See hrm Feature #903155

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c2a800d0e59f84a4cafb3f9fb2fad2b7be4250b8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 14 03:47:59 2020 +0200

    sdl2: Rename pMotion* to adhere coding style

    See hrm Feature #905884

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ba3bbde2326d07caca2bd142cdc2bd2e25df82f9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 11 17:25:10 2020 +0200

    Meson: Install all Qt-client themes

    See hrm Feature #897836

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 02f708051d0ffff7759e5cbeb53bf22d1900e988
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 19 16:28:18 2020 +0200

    Update .gitignores to .desktop file name changes

    Reported by Alain Baeckeroot

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aa7b5506d3cea56c4fb5102dbcdbebaa9989ce45
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 10 19:54:59 2020 +0200

    Granularity: Give trade bonus for city center tile

    City center gets +25 trade, +100 on cities of size 8 or bigger.

    See hrm Feature #905076

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f4594dd2cfa918bd7a6d1a76113f40214700f03d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 11 16:48:24 2020 +0200

    Update included lua to version 5.4.2

    See hrm Feature #905343

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ebf3d49994dfded5557afcc9d72eb566ea4521a8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 13 06:32:03 2020 +0200

    sdl2: Improve cityrep.c coding style

    See hrm Feature #905719

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 425f3178551268c466408177680234228033a529
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 9 23:05:57 2020 +0200

    Drop "Infra" user unit type flag

    We never took "Infra" flag to use the way it was planned.
    Drop it completely, both from supplied rulesets and from
    the ruleset update code.

    See hrm Feature #904738

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6056d3a565fbc28dcdcda4d5536c6d6b48e0f2ec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 10 20:48:43 2020 +0200

    Wrap multiplier value and target to a new multiplier_value struct

    See hrm Feature #905090

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c78c4e1771a0f4983e2127ad589f5ea413e9cdef
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 18 04:42:49 2020 +0200

    Comment typofix: "stoped" -> "stopped"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2b58342d8d797009847cb4470eb9630f465e3769
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 11 14:14:21 2020 +0200

    sdl2: Improve citydlg.c coding style

    Some variable renames affect also other source files.

    See hrm Feature #905330

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a6de234c66bfcbd8270853963c91f21bc6454edc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 9 21:36:26 2020 +0200

    Lua: Add city:is_primary_capital()

    See hrm Feature #904702

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a47a6b965386ec8fe847696e7f54e0a8e1cfa771
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 13 06:08:03 2020 +0200

    Increase CM_MAX_LOOP to 27500

    See hrm Feature #905717

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a9d4a4dd054d5320bc1afa44b913fd7e3c82a66b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 13 21:36:45 2020 +0200

    Fix continuing to a new music track when previous one ends

    audio_stop_usage() was flagging music ending callback to not to
    select a new track. That's not necessary as the callback is not
    called at all in that case. Instead the flag remained until
    callback's next call, causing it not to continue to new track
    at that point.

    Reported by jwrober

    See hrm Bug #905818

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0e6b6448d3f36896ef4500343740c39f6cee982f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 10 21:26:28 2020 +0200

    sdl2: Rename p*Name* to adhere coding style

    See hrm Feature #905105

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 01d6951f199151e9cb239a4d0dfcc40e4f2f7c6e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 17 01:34:02 2020 +0200

    Qt: plrdlg.cpp comment typofixes

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 58452952060a29384ad3e74851344a4d9e6e2241
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 7 22:56:38 2020 +0200

    gtk3x: Replace gdk_event_get_state() calls with gdk_event_get_modifier_state()

    See hrm Feature #903154

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1cea65728ff74b88ad989d4897c0110b4c44c684
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 12 04:14:21 2020 +0200

    traderoutes.h: Document enums as part of network protocol

    See hrm Feature #905523

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e914d408fd7834764c9051ccadba524b6fd9ca8c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 12 02:31:41 2020 +0200

    Update msys2 environment to 201212 level

    See hrm Feature #896715

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eb236c09091a1dff2c5e193f63f6241f2dc9cfeb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 9 23:33:57 2020 +0200

    sdl2: Rename p*List to adhere coding style

    See hrm Feature #904745

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ec5db5057b4e33dd446a8b397a43fff3cc51c869
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 4 22:07:47 2020 +0200

    Granularity: Rename Generic Ship as Boats

    See hrm Feature #903190

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 13736bfc92f4e5970e964252a593f95e047c14ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 14 01:34:59 2020 +0200

    audio.c: Rename variable 'keepstyle' as 'keep_old_style'

    This should make it clearer that it's not about introducing
    persistent style, but about not touching existing style.

    See hrm Feature #905828

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2a9d2053b5446315327112f95c45bbea26b9dd35
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 15 11:20:50 2020 +0200

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4f195b866d376fd13b3cfec6a33a39acf44ce8e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 12 15:31:42 2020 +0200

    Ruledit: Add virtual destructor for req_vec_fix_item

    See hrm Bug #905636

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e6ea58b2cfe1123e5a8a098035d562565f1636c3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 9 16:38:28 2020 +0200

    sdl2: Rename struct city_icon members to adhere coding style

    Unused members are not renamed to make it easier to detect, and
    possibly remove, them later

    See hrm Feature #904649

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b930aeecd6f443c2fb0eb633a28a4545df3e3a1c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 5 13:50:43 2020 +0200

    Use untranslated unit name in a debug log message

    sell_random_unit() was placing translated unit name to an otherwise
    untranslated debug log message.

    See hrm Bug #903432

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4bc9975e08354acf57bddd923cfe2daccb0b51d1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 2 07:23:30 2020 +0200

    Meson: Add support for ruledit build

    See hrm Feature #902120

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e2334ade9af4b65dff05586fdd7f52026446d8fb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 14 08:25:36 2020 +0200

    POTFILES.in: Add traderoutes.h

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f7704909dad9203676a52d81f6753f00f632b7ca
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 8 14:02:08 2020 +0200

    fcgui: Respect @EXEEXT@ on name of executable chosen with --gui

    See hrm Bug #904301

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 39d1a1c04957477f87f6f88b16a011fcbde5e20d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 7 21:06:59 2020 +0200

    sdl2: Rename struct Theme and members to adhere coding style

    See hrm Feature #904053

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 473c24559d6e76a6aec95fc1bd995756cf209184
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 11 12:52:08 2020 +0200

    Make city_tile() a macro

    See hrm Feature #905312

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d157a115a8d821c27a421c891e79d1f5d088ea0a
Author: John Robertson <jro.johnro@gmail.com>
Date:   Sun Dec 6 00:25:13 2020 -0700

    Qt: Fix city-list menu for View/Center/Buy

    See hrm Bug #903672

commit 4f72b951b220fbdac7c63fef826cafe0c9a1a470
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 10 23:45:18 2020 +0200

    Introduce CM_LOOP_NO_LIMIT

    The macro, disabled by default, makes cm iteration always to run
    until it finds a solution, and to log how many iterations it took
    if going over the usual max iterations.

    See hrm Feature #905132

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 120a59cca85407342586b1d821643368da30eda8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 11 15:49:04 2020 +0200

    Share intelligence from embassy to team members

    Add function team_has_embassy(). Use it instead of player_has_embassy()
    where the question is about getting intelligence information.

    Requested by Alexandro Ignatiev

    See hrm Feature #878898

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0d8ba31294c2ae7f34315e84dc0a1a910c4b275c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 6 06:08:37 2020 +0200

    sdl2: Improve chatline.c coding style

    Rename variables to adhere with the coding style.
    Some minor other changes.

    See hrm Feature #903600

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b4a7a5b122e086c1d94face055ce0c4bff7b6e28
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 10 09:04:39 2020 +0200

    Qt: Save shortcuts for different versions of freeciv separately

    As shortcut ids change between versions, the shortcut storage
    gets incompatible between them. This made shortcuts saved in older
    branches to break master, and vice versa.

    Reported by Chippo Elder

    See hrm Bug #856551

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 393e90dad8491bb2ccd513a5022906a3a53e5839
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 1 12:41:37 2020 +0200

    meson-winbuild.sh: Disable audio support

    See hrm Feature #901854

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c2f73cd12bf159c2e9207a60ef71074c6d4b95c8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 9 22:06:14 2020 +0200

    Drop unused threadid variable from Windows version of fc_init_console()

    See hrm Feature #904719

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 582972ab47cf278cf0c3a8c5176e97c6806a939f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 5 14:43:37 2020 +0200

    sdl2: Rename pTmp* to adhere with coding style

    See hrm Feature #903449

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 182de97be35eeb7850f99bc51070b78e251635fb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 26 03:27:38 2020 +0200

    Sandbox: Add Chichen Itza wonder

    It demonstrates Popcost_Free effect by removing population
    cost of units built in its city.

    See hrm Feature #900032

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2d82b1027da7329d96e76919d4d5495b8c6580fe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 6 18:55:25 2020 +0200

    gtk3x: Replace gdk_event_get_keyval() calls with gdk_key_event_get_keyval()

    See hrm Feature #903153

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f5a4dd7859ca7a22c22e82f1067dbab93dd7f42e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 6 08:08:07 2020 +0200

    AI: Support scenario AI type fallback from tex to classic

    If scenario has tex AIs and allow_ai_type_fallback set, fallback
    to classic AI when tex is not available.

    See hrm Feature #903631

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e30450319019fd839cf3e2d57fa3571df3145f79
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 4 21:39:19 2020 +0200

    sdl2: Rename p*Dialog to adhere coding style

    See hrm Feature #903177

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 16b26376b6397b534c3dd6f8e79296a292fbdf3e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 26 04:36:08 2020 +0200

    Granularity: Call default government type "Tribal"

    Replace government type name "Generic" by "Tribal"

    See hrm Feature #900044

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 77a8a13ba9c5f876d9fdd65de59fb88a7859a37b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 1 12:37:26 2020 +0200

    Meson: Make audio support optional

    See hrm Feature #901853

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0090b79096b27ded237ef7af0ade681f91b01fa7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 8 11:49:22 2020 +0200

    AI: Fix unnecessary production changes for away player

    Reported by Frelhelm

    See hrm Bug #904268

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ac6ab41d8e73765ebdbe84c12fb20082dbf58ca0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 4 03:06:04 2020 +0200

    sdl2: Rename p*Label to adhere coding style

    See hrm Feature #902769

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aecb9b7bfc1c7e6dd1458975b8d14ed0a0dc5a31
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 5 20:08:12 2020 +0200

    CI: Drop confused '-j$(nproc)' from msys2 installer build

    It's the recursive execution of make to compile freeciv as part of
    constructing the installer package where the concurrency needs to
    take place - and by default it does. There is no point to run
    toplevel make with '-j' argument.

    See hrm Feature #903504

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 39348ec997dd562aab37d70fd63085e57dd2ce20
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 4 03:10:52 2020 +0200

    Add Popcost_Free effect type

    See hrm Feature #659540

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8c735c219bf94d47b0a36be16dfffaad8f6f116a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 3 18:15:02 2020 +0200

    Avoid client crash if workertask requiring target does not have one

    Server should not send such tasks, but make client robust against
    broken or modified server that does.

    Reported by Alexandro Ignatiev

    See hrm Bug #885482

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ee4a95c2b1652a59a148bff29c26fd5f14530073
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 4 02:19:20 2020 +0200

    sdl2: Rename pI* to adhere with coding style

    Most of those are icons related variables, but there are a couple
    of other variables handled as well.

    See hrm Feature #902758

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7b4be5af3451b956786e4c7a1020d19dce2246d3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 6 18:36:49 2020 +0200

    gtk3x: Make gtkcompat.c to include gtkcompat.h

    Introduce GTKCOMPAT_ITSELF macro for the gtkcompat.h to
    differentiate between gtkcompat.c itself and its users
    as the source file including it.

    See hrm Feature #903761

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b90b397f0c8dc8d57f7a11ec81571c0164d0e9f9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 26 03:28:56 2020 +0200

    README.sandbox: Fix a typo "Staring" -> "Starting"

    See hrm Bug #900029

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a58eea4bf0fcf075241965ba720a5dcfbcdd0dc6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 3 16:57:59 2020 +0200

    Qt: Clean citydlg.h includes

    - Reorder them to correct grouping
    - Drop unneeded Qt includes

    See hrm Feature #902626

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ef1049b08a58506186e565f2c3cb0b8d44989371
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 3 06:43:45 2020 +0200

    sdl2: Rename p*Button to adhere with coding style

    See hrm Feature #902483

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 972845081c762b19cb399c94cecc235395a72bef
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 2 23:18:51 2020 +0200

    Meson: Install INSTALL.Cygwin

    See hrm Feature #902409

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e539d54a92023bd045ad6ae304fd597efde832bf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 4 21:03:40 2020 +0200

    gtk3x: Drop parameter from gtk_window_new() calls

    See hrm Feature #892350

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1cc170431f672a67d40cc0eabd1f345d8d45a9d5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 3 00:55:10 2020 +0200

    Ruledit: Correctly translate translatable strings with R__()

    See hrm Bug #902423

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6c331bddf53e7372c2967ce2862f3c3c94c8b420
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 2 06:29:38 2020 +0200

    sdl2: Rename widget.ID as widget.id

    See hrm Feature #902103

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 163701d3d053aa6b70609b1bf38f3f756975da1e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 2 19:56:00 2020 +0200

    Select gtk3.22-client for --enable-client=gtk

    See hrm Feature #902365

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 73e6311250ab1f9269726919c43119a50f66e0b9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 4 21:01:56 2020 +0200

    gtk3x: Introduce gtkcompat.[ch] module

    It will provide compatibility stuff between gtk version we're
    moving away from and the version we are moving to.

    See hrm Feature #903167

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9f7c41869e53b628a38a757a3bd128d55dcbf82f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 6 11:18:55 2020 +0200

    Update Finnish translation of the ruledit domain

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c9cbc16e22d4bb8628d8aeb072750a4d163cfc02
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 20 06:08:40 2020 +0200

    Granularity: Add River

    See hrm Feature #898827

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 271226642af2568568b3a81ac4a0c7b840128f96
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 6 06:39:07 2020 +0200

    core/POTFILES.in: Add client/gui-qt/citydlg.h

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2456d0f34c9b90518ba3d1a24369600964a0b37a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 1 04:56:04 2020 +0200

    sdl2: Improve action_dialog.c coding style

    Rename variables to adhere with the coding style.
    Some renames (such as 'cBuf' -> 'cbuf') affect also other
    sdl2-client source files.
    Some minor other changes.

    See hrm Feature #901739

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 95742e74b130faf5ce147a0bad64abb0437f1d6c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 5 21:51:15 2020 +0200

    CI: Build Qt modpack installer with meson

    See hrm Feature #899233

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8f6a0df57a4f2b0b6ef26786b9e89877c18d3b5a
Author: John Robertson <jrobertson@callware.com>
Date:   Tue Dec 1 12:32:43 2020 -0700

    Qt: Add city size to city info panel

    See hrm Feature #901393

commit 0d2572bb293c66f843e5d83497a2efeb77d7c540
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 1 10:49:05 2020 +0200

    Tell tileset name or filename in scan_specfile() error messages

    See hrm Feature #901829

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit edefeb2dbc00d4d2582688f931b687e27c5191d6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 25 05:37:54 2020 +0200

    Update mkstemp.m4 to serial 28

    See hrm Feature #899697

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 73f05c93f813d31007c289441f8b341f9017302a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 29 04:45:48 2020 +0200

    sdl2: Rename p*Dlg to adhere with coding style

    See hrm Feature #901113

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 825eebd575702ba26daa0ba39352834941b5d42f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Dec 2 10:14:31 2020 +0100

    sg_order_to_action() isn't used by savegame3.

    Move it to savegame2.

    See hrm Feature #902242

commit 5c89159627816000eeef9be24d8ba2264bf7ca54
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Dec 3 09:16:31 2020 +0100

    Migrate from travis-ci.org to GitHub actions.

    It looks like travis-ci.org is going away. From
    https://docs.travis-ci.com/user/migrate/open-source-repository-migration/#frequently-asked-questions
    Q. What will happen to travis-ci.org after December 31st, 2020?
    A. Travis-ci.org will be switched to a read-only platform, allowing you to
    see your jobs build history from all repositories previously connected to
    travis-ci.org.

    Migrate the remaining CI jobs to GitHub actions.

    See hrm Task #902085

commit 4d6a6813142ea0558c14bae5ad861d0016a4ed58
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Dec 3 08:59:46 2020 +0100

    README.md: display GitHub actions CI status too.

    Some of Freeciv's CI tests run on GitHub actions rather than on travis-ci.org

    See hrm Feature #902526

commit 791f6a950c02e0198656a858fb4eb69fb76f5023
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 24 17:32:20 2020 +0200

    README.modpack_installer: Fix typo "is is" -> "it is"

    See hrm Bug #899608

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 35933ab308aa02cdbf355fcbf5c94f74b0277127
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 2 08:54:16 2020 +0200

    Meson: Add support for Qt modpack installer build

    See hrm Feature #899232

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4b143e3c59725ca5f57a3d1ef0428c1a1eaef844
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 4 08:57:47 2020 +0200

    Bump version number to 3.0.92.3-dev

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a960c82d8b57bff9238e03f2e819abe120381a25
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 1 09:25:09 2020 +0200

    msys2: Set -Werror on snapshot builds

    See hrm Feature #899340

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2dfcdda74a18f948afda2ce5b318a4109d31776f
Author: JRo <jro@advops.com>
Date:   Sun Nov 29 18:03:16 2020 -0700

    Correct memory allocation size bug

    See hrm Bug #901366

commit 0d1b7ffbd49dbc0cae667b5f72b623119c6bbaca
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 27 07:15:52 2020 +0200

    sdl2: Rename pStart*, pBegin*, and pEnd* to adhere coding style

    See hrm Feature #900477

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4fd2b1d6efc646054e35e22656840e674dc888ce
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Dec 2 08:29:04 2020 +0100

    CI: move the OS X build to GitHub Actions.

    It looks like travis-ci.org is going away. Even if we migrate the other
    builds to travis.com and hope the free OSS minutes covers our usage the Mac
    build should move somewhere else since OS X builds are more expensive on
    travis-ci.com according to
    https://blog.travis-ci.com/2020-11-02-travis-ci-new-billing

    See hrm Task #902234

commit e32d035e010319c03604ad03e5b520aff764cd32
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Dec 2 06:12:14 2020 +0100

    Travis CI: simplify away sudo usage.

    Stop assuming that the user "travis" exits. This makes it easier to run
    travis-build.sh outside of travis-ci.org

    It looks like travis-ci.org is going away.

    See hrm Feature #902139

commit cc221d5fb8ee3861556b8bc1fc28a23a19a58a7b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 1 15:50:15 2020 +0200

    Fix crash in req_vec_problem_new()

    Handle translated description correctly:
    - Fix second use of the variable argument list already consumed
      by moving it to va_start() .. va_end() iteration of its own
    - Use correct field size in fc_vsnprintf()
    - Actually translate the description with gettext

    See hrm Bug #901912

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4ee20d9ce2c32ca8e8836d87ce50342de18d2157
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Sep 15 08:27:13 2020 +0200

    Validate city worker tasks.

    A corrupt worker task can cause corruption issues. Refuse to accept bad
    worker tasks sent over the network. Purge corrupt worker tasks that gets
    into a city via a bug or a savegame.

    Thanks to Marko Lindqvist for pointing out that sanitycheck.c only runs
    in debug builds.

    See hrm Feature #901938

commit fc6101ecfd9ee34e3d57230bf9c7679420f9fc4e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Oct 31 23:07:24 2020 +0100

    Introduce the new action "Sentry Unit".

    There are good arguments against action enabler control over sentry. In the
    current rules it is just server side client state. A user interface detail,
    not a rule. The server will set it when a unit boards a transport to avoid
    the passenger getting focus while transported.  The client will end its
    "Return to Nearest City" order with it if the unit needs to heal. The server
    will unset it to bring the player's attention to events like a hostile unit
    moving too close, restored hit points and the unit being bounced.

    The new Activity requirement makes it possible to have rules depend on a
    unit's Sentry state. If I remember correctly other Civ variants have made
    rules depend on a unit's Sentry state. This, together with the fact that a
    Sentry action permits getting rid of activity orders in a follow up patch,
    makes me land on the side of making it an action.

    See hrm Feature #879674

commit c95677139605bd360d1c35af3e555dc2c92ffb81
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Nov 30 12:34:26 2020 +0100

    Introduce action_by_activity_iterate

    Hard coding action ids for activities gets in the way of generic actions.

    See hrm Feature #901915

commit d3541d49d5ddc9e53b83af653602e3f67cc541f8
Author: Christoph Reiter <reiter.christoph@gmail.com>
Date:   Sat Aug 1 18:55:12 2020 +0200

    CI: Update to msys2/setup-msys2@v2

    See GitHub pull request #24
    See hrm Bug #901959

commit 3ba215388bffbc8628a8051b721421c4b9d1251d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 3 07:34:24 2020 +0200

    Comment typofixes for sdl2-client

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5eeafc6b0bbfea9d7125ba10c6f2f7eae1722778
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 26 04:44:08 2020 +0200

    sdl2: Rename pText* to adhere with coding style

    See hrm Feature #900047

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a74e99d63fbc7755e6722dd0bec5cbf71abd2ce3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 3 00:32:17 2020 +0200

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b82b025099ebb303e7747be5287f4e5eae4166c6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 28 04:18:06 2020 +0200

    Use initials of d)epartures and a)rrivals in airlift capacity message

    They replace old initials of s)ource and d)estination. There's
    hoping that meaning of the new ones is a bit easier to figure out
    by end-user.

    Reported by Hubert Kowalewski

    See hrm Feature #899057

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 74e5c47e261861fb5e1e2b47f7485817ea1b8c6a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 25 03:34:06 2020 +0200

    Add gnulib-common.m4 to dependencies/m4

    New version of mkstemp.m4 will depend on GL_MDA_DEFINES
    from it.

    See hrm Feature #899674

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4369985ffdea746063a0d9fde5ad42488b2ade8a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 22 12:00:03 2020 +0200

    Split ChangeLog

    Main ChangeLog contains changes since beginning of 3.1 development.
    ChangeLog-1.0-S3_0 contains changes up to S3_0 branching point.

    See hrm Feature #899243

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cc69ae1e5e58eb2174f191e9f09bd86261e3d954
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 2 06:59:13 2020 +0200

    doc/man/.gitignore: Add freeciv-ruleup.6

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eb188c81dce45466ae80826959a29e2828475155
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 25 04:16:07 2020 +0200

    sdl2: Rename pEdit and friends to adhere with coding style

    See hrm Feature #899680

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c6104b9869056657934ae463545be0a6d2b2b1f9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 24 03:56:46 2020 +0200

    Avoid returning too early in assert builds when inf_sanity_check() fails

    See hrm Bug #899339

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 53a2d3334c42d6fc24c5d6a42d5199b9c36c0f78
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 17 19:24:51 2020 +0200

    meson-winbuild.sh: Explicitly disable syslua

    See hrm Feature #898081

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8ae99bf6a34a279b40d4b8def2938a5e16596f4a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Dec 1 08:24:29 2020 +0100

    Comment grammar fix

commit d08c3f1561f4c68775cb9f3c6d6109b28882e95f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 24 12:17:24 2020 +0200

    sdl2: Rename p*_Button to adhere coding style

    See hrm Feature #899570

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit de9d0291813e88666e42963daadeb0ebd2f476ed
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 24 16:48:11 2020 +0200

    data/graphics/README: Drop duplicate "are"

    See hrm Bug #899594

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6bdd33015632ac3d5dcf4bddc0dea827a09a5c70
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 30 16:07:08 2020 +0200

    Turn base flag "NoAggressive" to an extra flag

    As it was the last of the base flags, clean out all support
    for base flags.

    See hrm Feature #897492

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 54ccd92025f7d8d03be53f38b7da205b6410183d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 17 21:48:32 2020 +0200

    mem.h: Update comment to say "exit(EXIT_FAILURE)" instead of "exit(1)"

    See hrm Feature #898117

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fc242b373a7a5b432360e57f6c9db2e215ac3929
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 23 19:41:27 2020 +0200

    sdl2: Rename SDL_Client_Flags as sdl2_client_flags

    See hrm Feature #899322

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 42006e2bd8fbc6ed62270b1e2c58a075e4049778
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 23 17:49:22 2020 +0200

    sdl2: Rename pCity as pcity

    See hrm Feature #899316

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c2fe8f96dd650935cc47fae015883f8c98ea60f5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 25 13:00:34 2020 +0200

    Meson: Install .serv files with rulesets

    See hrm Feature #899804

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7947660c96dda8d2b5ddaa917fa35c12371a7005
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 26 07:48:17 2020 +0200

    README.packaging: Remove mention of new minimum automake version

    Now also S3_0 requires automake-1.13, so the requirement is not new
    with freeciv-3.1

    See hrm Feature #899258

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 24edd7058223a4c47b62954b99094703007b01a8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 23 17:35:51 2020 +0200

    Tell topologies in question in map/tileset topo incompatibility error

    See hrm Feature #899315

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 143b968415fa1fd640b74877ddafc9f6b6bf4b19
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 24 04:58:33 2020 +0200

    sdl2: Rename pBuf* as buf*

    See hrm Feature #899249

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a104b96190eba5f2816f5bdd22f92bbdb8eae205
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 25 02:08:31 2020 +0200

    Update stdlib_h.m4 to serial 51

    See hrm Feature #899659

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 620c19baa23dffb9c7047798251e9c3c327f20d2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 27 12:18:06 2020 +0200

    Msgmerge Spanish translation from S2_6_2

    Merged from S2_6_2 1f6782b3d6

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 136760d89f7893380873bff94d719490e508b59b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 25 02:57:15 2020 +0200

    Qt: Improve plrdlg.cpp coding style

    See hrm Feature #899672

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a5d3dc64f54add8e745dbf2fd49ac3c5c62f6d02
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 22 10:17:57 2020 +0200

    sdl2: Rename p*Window to adhere coding style

    See hrm Feature #899241

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cc6da371a88bd3ed2513e3e2da6ea7b3496db635
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 19 06:54:03 2020 +0200

    Update diff_ignore

    - Drop duplicate fcruledit
    - Add freeciv-gtk3.22
    - Add distribution packages compressed with zip or xz

    See hrm Feature #898550

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8463175f9a708b7e51b7042cd6edde57d1604318
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Thu Nov 26 14:57:58 2020 +0100

    * Updated French translations for trunk, 3.0 & 2.6*
    * Updated INSTALL.fr for trunk (only)

commit a9e7bd6b3a586c5fcfb927d7bff260224c004bfb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 17 02:14:51 2020 +0200

    Granularity: Add Plains

    See hrm Feature #897817

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a3a8b65c0101222881ffbc664e98ac3d0e8e5f55
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 21 19:14:43 2020 +0200

    sdl2: Rename pScroll and related variables and structures

    Make their naming to adhere coding style.

    See hrm Feature #899229

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aeaa23357d3e9235929291ce5aa2d3424d351085
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 23 01:46:57 2020 +0200

    Drop ACLOCAL_AMFLAGS

    Bump minimum automake requirement to 1.13, starting from which
    aclocal can scan m4 directories from AC_CONFIG_MACRO_DIR and
    AC_CONFIG_MACRO_DIRS macros. Drop thus obsoleted ACLOCAL_AMFLAGS usage.
    This prepares us for future versions of automake that drop support
    for ACLOCAL_AMFLAGS

    See hrm Feature #899258

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a73cc6c26a1280130eca3d7da2e7e43a24bcaf04
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 17 04:44:38 2020 +0200

    Travis CI: Build Qt-client with meson

    See hrm Feature #897842

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b673bbc1fa82333b76fb10b196886290d1bc6756
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 25 05:05:59 2020 +0200

    Comment typofix: Drop duplicate "are"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0b2d42b933dd81aa72677eddf62703bea217c33e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 20 16:33:15 2020 +0200

    sdl2: Rename pButton as button

    Do also some other related renames.

    See hrm Feature #898995

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit edaf5970dfad2a0b347b5bc1e30a0853ef6f8601
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 22 10:32:09 2020 +0200

    sandbox: Make Ecclesiastical Palace secondary capital

    It was already documented as one.

    See hrm Feature #899242

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ba625298abb38fb4ef254d8344c7a901df105561
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 16 21:04:59 2020 +0200

    settings.c: Add TRANS comment about "Classic Freeciv" values

    See hrm Feature #897732

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a6ebd091f6d2bb962a868e4657f95a5c4343f1f4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 24 06:06:32 2020 +0200

    Replace '0' by 'FALSE' as boolean in read_a_line() function header

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2ea11c621c1221b5e7efcd90d17d7467e7dbd75d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 19 16:46:34 2020 +0200

    sdl2: Rename pOwner as owner

    See hrm Feature #898696

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b17c0672025ef98338c67657e3e525b901c722a3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 14 09:48:42 2020 +0200

    Use nanosleep() instead of usleep() when possible

    usleep() is deprecated.

    See hrm Bug #896807

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c7f81feeafe29f30e32b30e61541c88f84e9adbb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 17 21:39:34 2020 +0200

    Improve mem.c coding style

    See hrm Feature #898114

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 054e457da3a8d14cc58880d33291c7a0fa67207e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 17 05:41:04 2020 +0200

    Rename aisettler.[ch] as daisettler.[ch]

    See hrm Feature #897851

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a3868f3ce85ba4bdb1615cb628dc44cb84771844
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 17 22:38:32 2020 +0200

    sdl2: Rename pUnit* to adhere coding style standards

    See hrm Feature #898126

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9056dce7b5a711aa2d7d0aeeca370b1b21118ce3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 19 02:04:16 2020 +0200

    Add TRANS: comment for deprecation warning against numeric log levels

    See hrm Feature #898474

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b2c217348df3c4521c155399d0fc501baa845ddb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 17 04:04:37 2020 +0200

    Meson: Add support for building Qt-client

    See hrm Feature #897835

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d5526b95f0e470917790f36d9d592b4657b63c34
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 16 05:29:32 2020 +0200

    README.msys2: Correct default number of build jobs

    It's the same as number of processor cores. Document was outdated
    and claimed hardcoded 2.

    See hrm Bug #897485

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4a2c65ee03397d814f03c815f957fb8ce259da9b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 17 06:20:51 2020 +0200

    sdl2: Rename p*ActiveWidgetList

    Make their names to adhere to coding style standards.

    See hrm Feature #897860

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eb019993da5cd31346c490b0c9dba0edbbe8e974
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 17 16:34:15 2020 +0200

    Qt: Use QApplication->primaryScreen() instead of QGuiApplication::screens()[0]

    Do not assume they are the same thing. We want former.

    See hrm Feature #897971

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d9017fe1c4400233ce1d368af15cc09afbc8aba6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 17 16:12:23 2020 +0200

    Meson: Do not redefine _GNU_SOURCE

    See hrm Feature #898030

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 65ee24f2737b6b7a5bd9c49bbe21d64014081a00
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 12 02:41:56 2020 +0200

    winbuild.sh: Set default for MAKE_PARAMS if none given

    Build with "-j6' by default.

    See hrm Feature #896062

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 87e29a02646f70ecbe3bd2a1122b398b6c837d93
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 16 21:51:54 2020 +0200

    sdl2: Rename pDock, pStore, pHelpDlg

    Make their naming to adhere to coding style.

    See hrm Feature #897759

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7c0535e64cc1c66213bf1bc2a864af2f6ed84537
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 12 04:50:18 2020 +0200

    Distribute scripts/replace

    See hrm Feature #896096

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 343f85e4b7629ee3c521e397b7e6fdb8a8a0ce0b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 16 05:57:12 2020 +0200

    Metaknowledge: Consider VUT_ROADFLAG a tile targeted requirement

    See hrm Bug #897490

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 134ac12909b940d2dd2c3c0302e842ff6fad0f4e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 13 15:15:39 2020 +0200

    Travis CI: Build sdl2-client with meson

    See hrm Feature #896569

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 924bb1ba0688044ec4a32157a570b81a4eafa626
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 16 08:16:11 2020 +0200

    sdl2: Rename pTech as ptech

    See hrm Feature #897523

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 18fc63d82ce226e5a49f3c08d0c43b2844ada541
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 16 20:30:14 2020 +0200

    Sandbox: Fix msgstr of Hermit's nest messages

    See hrm Bug #897725

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d8a8b083cfe1bdd0b9cfe52cfbc48d5cbc4b9e8b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 8 18:14:18 2020 +0200

    Granularity: Add Workers unit

    It can Cultivate and Plant.

    See hrm Feature #894991

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f6209390cf43ff7dad65017e2f3397c305f70298
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 19 00:16:14 2020 +0200

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 98f98ee7a36bf5a7795b870bf5a83a7a95fbad2a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 14 02:18:01 2020 +0200

    sdl2: Rename pSurf as surf

    Do also other related renames

    See hrm Feature #896725

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a7caa4cad4b8a50b1c61c68e8f84017145ccf30d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 7 09:23:45 2020 +0200

    Set BUG_URL to point to freeciv-dev mailing list

    See hrm Feature #894573

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 28ce3b30edf23006a3a57cd712c6bd45e93d9199
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Nov 17 21:21:06 2020 +0200

    Remove no longer true comment about mem.c sanity_check_size()

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 49229726007f168fc68d34d537e0bbe2203c723d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 12 04:36:07 2020 +0200

    Meson: Add support for building sdl2-client

    See hrm Feature #896091

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dc22720d4572026a13d70ed75af878e53710a37b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 13 13:21:00 2020 +0200

    sdl2: Rename small_dialog members to lower case

    Also members of other structures by same names renamed.

    See hrm Feature #896534

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1cb5b7e3a35312ddf32e0046e0d659dafe1593a8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 13 15:00:53 2020 +0200

    Travis CI: Install different builds to different directories

    See hrm Feature #896563

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4d6f532a1fd7993d337e24375ae215622a4e6248
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 14 08:41:38 2020 +0200

    README.scenarios: Correct name of "prevent_new_cities" field

    See hrm Bug #896797

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 724fc3c446d2e4798250ffd2e5ba0c7f8ca496d7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 16 20:28:30 2020 +0200

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d4a98077eac6beaf35e935f2dac521780efeaee1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 12 01:30:55 2020 +0200

    sdl2: Rename pBackground, pLogo, and pIcon

    Make their names to adhere coding style standards

    See hrm Feature #896053

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2c6020a02f7c447e82751c8d19cf269e13c7d601
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 12 03:17:23 2020 +0200

    Msys2: Set default MAKE_PARAMS based on 'nproc'

    See hrm Feature #896075

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 970b381ed0cceb11a84556203e3bbd7f68fdb4ad
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 7 21:37:24 2020 +0200

    Meson: Add 'syslua' support

    See hrm Feature #892307

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 987250e761123ecc0e7493a327e114def2c097ab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 11 22:21:28 2020 +0200

    sdl2: Rename DownAdd() as widget_add_as_prev()

    See hrm Feature #896016

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b416cc89b4904e8c9d40b26aa511a13e4f3b77cd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 12 02:38:28 2020 +0200

    winbuild.sh: Make each of 'clean', build, and 'install' in separate step

    Running 'make install' directly caused problems in that sometimes
    dependencies from the build step were not made in time.

    See hrm Bug #865048

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b08090a338e89fc65744ab54c2129c5da2c7a231
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 7 22:56:50 2020 +0200

    AI: Initiate the spacerace if being tech leader

    AI that is leading tech, and will thus alone have required tech
    for spacerace for some time, tries to take advantage of that by
    building spaceship while others are still trying to get the tech.

    See hrm Feature #894739

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fbd4f7572ff26e929151703d6fb84c344503ff68
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 7 08:16:53 2020 +0200

    gtk3/.22: Drop unused files from theme

    See hrm Feature #894559

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f0db7cd21ff9aff734604da08b316ce0c33bbff6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Nov 9 07:45:37 2020 +0200

    sdl2: Rename pImprove* to lower case

    See hrm Feature #895133

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2b38aac84d25928c165bfe15f6d9304ed2ba111a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 8 23:51:04 2020 +0200

    Document that action_prepare_ui_name() is not thread-safe

    Add mention about function not being thread-safe to function header.
    Also for other similar functions - action_prob_to_text() and
    action_prob_explain() - in actions.c

    See hrm Feature #895052

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 95b6bcb601e788b59036a327f5db5904ac15f542
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 12 03:55:06 2020 +0200

    gen_headers/.gitignore: Add version_gen.h

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6ddaffdae7f37ba065d38e50cd4f3877fa79a779
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Nov 12 03:13:18 2020 +0200

    Comment typofix: WINACRH -> WINARCH

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d8a4e8bc146878f2889319367ebb92a5193fc227
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 8 12:57:40 2020 +0200

    sdl2: Rename pTerrain* as (p)terrain*

    See hrm Feature #894926

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f11c6b84109c9643e6fc5e39e97f4a92a6568f80
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 30 18:55:48 2020 +0200

    qt6.m4: Bump QT_DISABLE_DEPRECATED_BEFORE to match Qt-5.15

    See hrm Feature #893343

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 334e554d0f60a6bba7caccea78bcdc4c92af7bd6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 8 17:41:58 2020 +0200

    Granularity: Add Spirits and Sacred Grove

    See hrm Feature #894986

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 78280024974ca989d32676c6b946331100d8fb51
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 23 23:46:43 2020 +0300

    Qt: Avoid using deprecated QLabel::pixmap()

    Qt-5.15 deprecates QLabel::pixmap() that returns QPixmap pointer.
    Use overload that returns value instead in --with-qt5x build.

    See hrm Feature #892507

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1930308f6ea33f7c474a48e17b6e1b67f63bd082
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 6 21:09:01 2020 +0200

    sdl2: Rename pTile as ptile

    See hrm Feature #894445

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f34a882ddf9f7065acb39628fc6cb5b2cf2975dd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 8 15:45:42 2020 +0200

    Fix gcc-11 stringop-overread error at comparing scenario.authors fields

    See hrm Bug #894423

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ea8d2a6a38382656134eed05ad0836a0558e7cb3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 7 19:02:17 2020 +0200

    Meson: Add test for ICONV_CONST

    See hrm Feature #894682

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ea34658084a5fb9f95406db54d24003bfc2b2fb6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 23 02:44:01 2020 +0300

    Fix Small Wonder impr_req for units

    There was a strict requirement that impr_req for unit must
    be buildable by the player, unless it's Great Wonder, for unit to
    be buildable. If player already has Small Wonder in the city, it's
    not buildable any more.
    Change this so that unit can also be built if Small Wonder is already
    built

    Reported by Lexxie L

    See hrm Bug #884993

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 74d92715bd45b686da765945416bd75a6ece0214
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 7 16:05:16 2020 +0200

    sdl2: Rename uppercase widget.h struct names to lower case

    See hrm Feature #894652

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6197d34951b95bdb550fd93aa1c9877543ef3e5f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 7 11:03:20 2020 +0200

    Free action ui_name string

    See hrm Bug #894582

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5909b91c655ee0f82592867657f6cf45959e26b7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 7 09:42:10 2020 +0200

    Granularity: Make Carving to depend on Fire

    See hrm Feature #894577

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 81e7d0b0f07c0235b988b1ad78b06f34bc4e68d5
Author: graf wasili <graf.wasili@posteo.net>
Date:   Fri Nov 6 08:43:21 2020 +0100

    Display correct tile output if celebration ends

    Reported by Alexandro Ignatiev

    See hrm Bug #885093

commit daba44bc8fcff9fa1fa27122d8ac68e95ab34f9b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 6 20:49:54 2020 +0200

    sdl2: Fix enabling buttons for activities that require target

    See hrm Bug #894434

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 36d60f316c8a4fc59018f56171feff5a5cfec261
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 6 16:39:34 2020 +0200

    sdl2: Rename pUnitType as punittype

    See hrm Feature #894375

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 888298036b247f7b461bb08de478a0f19c00fe98
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 23 23:51:58 2020 +0300

    Make Qt-5.15 minimum requirement for --with-qt5x build

    See hrm Feature #892509

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 11fc8730cbb25819ab15b8ae0db04c54b8c37970
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 22 13:24:54 2020 +0300

    Meson: Install gtk3.22-client theme

    See hrm Feature #852974

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 71f1619573d7bd8fce50a292438a17ed05e4af90
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 23 03:41:54 2020 +0300

    Qt: Fix hang on trade planning calculation

    Reported by Alexandro Ignatiev

    See hrm Bug #874406

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f9732e1d71d0d3836077f4111fdeb1b4d0e1700e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 6 15:50:16 2020 +0200

    Comment typofix: WARRING -> WARNING

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 895b5b5e67a9a02936936af01fb40814b683fe92
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 19 04:51:13 2020 +0300

    savegame3.c: Clean up unit changed_from_tgt loading

    Remove unnecessary compatibility code. Savegame3.c saves have never
    been saved with the outdated format that it was protecting against.

    See hrm Feature #824073

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5d75624c69eaeb1f48fd7d0f81e42d674c545d98
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Nov 4 15:18:47 2020 +0200

    Bump version number to 3.0.92.2-dev

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c5087d2cae45815caefbd0dd19776c824e6d2c0a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 31 09:03:39 2020 +0200

    Qt: Include QActionGroup to menu.cpp

    See hrm Feature #893360

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e677fa6cd30eea0f34677fe1a30badb36645bf27
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 31 09:12:13 2020 +0200

    Qt: Change menu_list iterator type to QMultiHash <munit, QAction *>::iterator

    See hrm Feature #893361

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8c4f9f9e3646e027081a85a3c6169bd1453a5342
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 30 12:40:17 2020 +0200

    Fix clang ndebug build warnings

    See hrm Bug #893306

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e6485a60422b366a678cc1a9473763b8b654cb98
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 27 07:45:25 2020 +0200

    Qt: Avoid using deprecated QTextCodec

    See hrm Feature #892826

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3b2743f41eb2728ad4ff41fbfd6f422dcb6ad5b5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 30 18:44:40 2020 +0200

    sdl2: Rename pWidget as pwidget

    See hrm Feature #893342

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 587308c32cc03006b51733f8911ccb6c8372404b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 25 15:42:17 2020 +0200

    Granularity: Add Masonry and City Walls

    See hrm Feature #892729

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 99c0692475d453e61d2dd19138cbdef1ff55d859
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 27 07:31:08 2020 +0200

    Avoid using deprecated QDesktopWidget

    See hrm Feature #892821

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 88707231909098f0b66523e402b35c4a028450ac
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 27 08:14:26 2020 +0200

    sdl2: Rename pRect as prect

    See hrm Feature #892829

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0e18a6d25c0c38955279520762939ab475c75e0b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 24 07:03:39 2020 +0300

    gtk3x: Use g_main_context_iteration() API instead of gtk_main_iteration()

    See hrm Feature #892512

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0fd52741a6b3264a023aede38bc521dab9abccd1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 24 14:46:54 2020 +0300

    installer_cross: Use moc from crosser environment

    See hrm Feature #892712

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 36106440bc138de97053df14dbc4c5056a05a08b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 27 07:16:01 2020 +0200

    Qt: Don't assume QStringList to be an class

    It's a typedef in Qt6.

    See hrm Feature #892819

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ccbad7a3ad296bcc3d0e68c043740e24d0deb040
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 26 20:29:20 2020 +0200

    sdl2: Rename Main as main_data

    Also rename its type from 'struct main' to 'struct sdl2_data'

    See hrm Feature #892804

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4aa3fcbe64e43b60212e4e2bafff9445e9561316
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 29 21:12:36 2020 +0200

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 35707026b92252784851a1ce72ae853d22fd9d24
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 23 00:25:09 2020 +0300

    Output /write command result

    See hrm Feature #892376

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 39183bad0ac0cdc30ca75ebd2048b8ebc7b8b071
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 24 06:48:13 2020 +0300

    Update freeciv-mp-gtk3x to use gtk-3.99

    See hrm Feature #892511

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c53e2e428395c525dd7c3eb77b2e54f8abbac454
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 25 17:10:31 2020 +0200

    INSTALL: Document requirements for C++ compiler standard version

    See hrm Feature #892394

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cfd80fbfbba5c1d85e87dba250a53934db6da51a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 25 14:24:50 2020 +0200

    sdl2: Rename pPlayer* as pplayer*

    See hrm Feature #892728

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit df34e3e65f8a20521e3b88bfff826b95dae85aee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 19 00:58:06 2020 +0300

    Rename AI level "Handicapped" as "Restricted"

    Requested by T Hall

    See hrm Bug #872165

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4ec9562bb8fc6bf5920caa42694354bdb99adfb6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 23 23:29:55 2020 +0300

    Qt: Replace QHash::insertMulti() usage with QMultiHash::insert()

    Former is deprecated in Qt-5.15.

    See hrm Feature #892505

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4ac17deb6febb2f04ecd798bb5ba0e353e4242b2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 25 14:10:58 2020 +0200

    Reimplement scripts/replace

    See hrm Feature #891558

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 267ea75d7131d8d4ffe217fcb547e19712ddad3e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 24 23:07:43 2020 +0300

    sdl2: Rename pSrc* as psrc*

    See hrm Feature #892722

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ef064e6183df184366ee1cd063e029d756a2dd03
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 22 15:42:02 2020 +0300

    Add space between ',' and type name of next parameter where appropriate.

    See hrm Feature #892315

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 23c3d4a0f77f29940012b388fd153712f8d77ae4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 23 07:31:07 2020 +0300

    Require c++17 in --with-qt5x mode

    See hrm Feature #892380

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 142af92fca0d9aa816271b060678284133a068df
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 22 16:38:43 2020 +0300

    gtk3x: Rearrange to work without gtk_main()

    See hrm Feature #892340

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 44e913ca26437d809f96d0afb3213c566624a8e6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 23 00:09:35 2020 +0300

    Add '.serv' extension to file created by /write

    Only files with '.serv' extension can be read by /read command, so
    it should always be on files created by /write.

    Requested by S.C. L.

    See hrm Bug #677584

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3ed4d157e4cb144d92f3b9a11a4911106ac38e6e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 23 15:58:42 2020 +0300

    sdl2: Rename pDest* as pdest*

    See hrm Feature #892477

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 96df3adb753ba260157f4df2bf49f9c42ac7f496
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 18 10:56:02 2020 +0300

    Rename irrigation_result as cultivate_result

    Change cultivation legality checks to depend on cultivate_result only,
    cultivate_time is no longer an factor.

    Similarly rename mining_result as plant_result.

    See hrm Feature #890287

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 35c07f68cdb5d23541ad7a9ab35f9ddf3d875a79
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 22 12:07:49 2020 +0300

    Qt: Avoid using deprecated QWheelEvent constructors

    See hrm Feature #892290

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 80fb6cf9d0f72f16077ab344133774263dbafb55
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 22 19:37:44 2020 +0300

    gtk: Adjust improvement tooltips in citydlg if they are not sellable

    Tooltip used to instruct improvement selling also for wonders that
    cannot se sold.

    Requested by Alexandro Ignatiev

    Patch by graf wasili

    See hrm Bug #885725

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bdb42e39603780a7d38c9c31e58f64c5b1a98fdc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 22 07:25:12 2020 +0300

    Add space between ',' and '"' where appropriate.

    See hrm Feature #892240

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c362233a497eb0a6fa9db64f64f77517427d465f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 19 03:32:59 2020 +0300

    Use shuffled player order when placing startunits

    Requested by Jacob Nevins

    See hrm Feature #850656

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6f82d02fef01dd566968e7551a4b4e69fec78799
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 22 16:03:45 2020 +0300

    sdl2: Rename pWindow as pwindow

    See hrm Feature #892323

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d2415c34ff45c75a927cc2a8d2161956e5a12fa7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 19 06:33:00 2020 +0300

    Update Bridge tech flag documentation

    See hrm Bug #741534

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b65549d8f77578cf5fabb7fe6994220cb24dbc7e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 22 11:19:06 2020 +0300

    Qt: Avoid using deprecated QWheelEvent::delta()

    See hrm Feature #892283

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4be3e685bac56247eb3d59429cf624e5fbac5d1a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 18 12:15:49 2020 +0300

    gtk3x: Drop gtk_window_set_position() calls

    See hrm Feature #891536

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 51a545ff5b9cf2ccf732ecc3f6ce91e9641bcefb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 21 23:02:34 2020 +0300

    sdl2: Rename pCity_* as pcity_*

    See hrm Feature #892213

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5d2c6d9c52eac3464ed4967fa9a738c2fbef033f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 18 22:49:18 2020 +0300

    Improve climisc.c Coding Style

    See hrm Feature #891561

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9fd4cd5397c25f99a4cba4fc27700d54bf087898
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 19 10:34:08 2020 +0300

    Don't hide allied stealth units on seen tiles

    They are expected to be visible. Hiding them lead to duplicate
    unit removal from client when such a unit dies

    Reported by Jacob Nevins

    See hrm Bug #764976

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit debeec8d0c665c139f50ba9cc55606de2d8b8bfd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 19 03:19:34 2020 +0300

    Document --with-qt5x

    See hrm Feature #853803

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4e2b0c425b412c0181cd2fc79df7370344b22d86
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 19 01:23:08 2020 +0300

    Unify writing of Washington-on-the-Brazos between rulesets

    Reported by John E. Beach

    See hrm Bug #867817

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5b0819aae15b552faaeb2570cdb3313fea8e3ded
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 18 20:54:19 2020 +0300

    sdl2: Rename pCityDlg as pcity_dlg

    See hrm Feature #891559

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b8b869d7636d8558aca768346b5406709a62c504
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 18 14:33:35 2020 +0300

    Meson: Add gettimeofday() check

    See hrm Feature #891544

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 34203c55485121134e983ab075534676a6eedb97
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 19 02:21:38 2020 +0300

    Qt themes: Fix "Specified color without alpha value but alpha given"

    See hrm Bug #891563

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit af3c4469bcadd093e35ddd43fd04404c12b84728
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 19 05:27:05 2020 +0300

    Avoid infinite loop when phase from savegame == num phases

    Reported by George Koehler

    See hrm Bug #815196

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c91bbb9a16cb3165972138643239e07077490e91
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 18 17:34:43 2020 +0300

    sdl2: Rename unit_type *pUnit as punittype

    See hrm Feature #891555

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7a474dc79e9c3ab1d20354ef2a2090bb06a79d45
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 18 14:55:51 2020 +0300

    meson-winbuild.sh: Use crosser version 1.10

    See hrm Feature #891550

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit afbf68b798005712a9acd8b0796235e8958ab0d5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 18 13:21:22 2020 +0300

    ruledit: Avoid deprecated usage of Qt::AlignmentFlag value QFlags<T>::Zero

    Qt-5.15 recommends using default constructor instead of zero
    for Qt::AlignmentFlag.

    See hrm Feature #891537

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 07a45acf1f2d47c01bac9fa48bd2f3ebdee52c9f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 3 12:49:10 2020 +0300

    Make ACTIVITY_IRRIGATE not to care about irrigation_result

    Do not use irrigation_result as means of checking ACTIVITY_IRRIGATE
    legality. Use irrigation_time > 0 instead. Equivalent change is made
    for ACTIVITY_MINE.
    This allows ACTIVITY_IRRIGATE and ACTIVITY_CULTIVATE to not be
    mutually exclusive depending on value of irrigation_result.

    See hrm Feature #873061

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4d71a63dc39ae5e338cb9a6310ee1bc990d3e95d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 17 18:10:12 2020 +0300

    installer_cross: Explicitly disable nls

    See hrm Feature #891515

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4d4d781a1af49c9383614ca4382a0cddb27b40a8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 12 18:53:48 2020 +0300

    Mark Clean Pollution/Fallout UI name entries for translation

    See hrm Bug #891049

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 62bc4962ed5798a29ee50a57c749b63425d66129
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 29 19:06:32 2019 +0200

    Inline city_size_get()

    See hrm Feature #854139

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c8a497c6d21dfc52762dcd68b8c43df4489c0da0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 15 21:32:17 2020 +0300

    Drop unused AUDIO_SDL2 define

    See hrm Feature #891393

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5d860f56f35d76fb4f5f3dfc77b34255f551e29b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 12 18:55:05 2020 +0300

    Granularity: Set game.ruleset about.name to "Granularity"

    See hrm Feature #891071

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4c5b2a7d8a1b6f3e5544f3dba3a9524cda4996d5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 17 20:57:51 2020 +0300

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3b7998b51a8a373683f6527e4570a99621102649
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 13 01:57:32 2020 +0300

    README.actions: Correct "Cultivate" and "Plant" documentation

    See hrm Bug #891083

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3a11db3bb92d3015a5ba78ccb900f58840d4b295
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Thu Oct 15 21:18:08 2020 +0300

    Auto-close tags at the end of featured texts

    This prevents failure of some clients at wrong tags.

    See hrm Bug #887581

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6cda9a37fe96d04ed26c524cfc1ce66c2faff56d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 13 04:09:10 2020 +0300

    Do not call mapimg_client_define() when mapimg subsystem is uninitilised

    Reported by Olivier Certner

    See hrm Bug #886678

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bd9cbdfdb06300a3bed512b0a2df14f67c8044ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 12 17:39:32 2020 +0300

    Update included lua to version 5.4.1

    See hrm Feature #891047

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4f82baa164ad6f5f8a5357a5b596e9dc087fd851
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 7 18:22:07 2020 +0300

    Drop civmanual.c assert.h include

    See hrm Feature #890323

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e0cc1da5b49010d540d06d04e6d0a43c6271a399
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 13 01:05:28 2020 +0300

    Give clear error message about missing cultivate_time or plant_time

    See hrm Feature #891082

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dc69ea09622bd1e42ea2ed326d0c389c9cac00d1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 15:14:49 2020 +0300

    gtk3x: Make gdk_device_get_surface_at_position() args 'double *'

    See hrm Feature #853653

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3a46f6d1c4465ba848491fd4b2cacee088aa1e16
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 15:13:46 2020 +0300

    gtk3x: Get rid of gtk_entry_set_width_chars() calls

    See hrm Feature #853649

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 52d96a47d558ea583562bbc45bb2ed4f9dd14764
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 15:11:41 2020 +0300

    gtk3x: Replace gtk_box_reorder_child() call with gtk_box_reorder_child_after()

    gtk_box_reorder_child() has been removed from gtk-3.96

    See hrm Feature #851565

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 74d95757083e79b683e9df5b20bff736f84d1b36
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 15:09:58 2020 +0300

    gtk3x: Replace gtk_box_pack_start() calls with gtk_box_insert_child_after()

    gtk_box_pack_start() has been removed from gtk-3.96.

    See hrm Feature #851564

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 190c941c63edd688ad7c37b83744d5a15b0112c7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 15:04:23 2020 +0300

    Set gtk3x-client to use gtk-3.96

    See hrm Feature #851563

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 83e6a6daa2480569e6d553b93854acb7485c4341
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 12 11:41:28 2020 +0300

    Qt: Fix clearing of worker tasks

    Reported by Alexandro Ignatiev

    See hrm Bug #887748

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2e3b2ff43af4790ba7c85a7ae798609e8930845c
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Thu Oct 8 05:36:34 2020 +0300

    Make Direction a normal class

    Direction objects now have property .id and function find.direction(id)
    to be saved, and property .name to be prettily stringified.
    As additional syntaxic sugar, direction module functions are now callable
    as properties and find.direction(string) calls direction.str2dir(string).

    See hrm Bug #880895

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eedacda963b8d1fdb0fd50dd2ea9d431688f84a5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 8 21:00:18 2020 +0300

    sdl2: Drop unused utf8_strlen()

    See hrm Feature #858229

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9f5a9cde642d86a8808952c2c659b9c6a7bcbb6d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 8 12:56:30 2020 +0300

    gtk3x: Comment out gdk_surface_invalidate_rect() calls

    gtk-3.96 has dropped gdk_surface_invalidate_rect() completely.
    Just comment out its use from our code while waiting for gtk4
    compatible drawing code.

    See hrm Feature #890400

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a31692eb9a4ea253ae2885ae73be4418693aedfb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 8 12:39:26 2020 +0300

    gtk3x: Replace GtkLayout usage with GtkFixed usage

    GtkLayout has been removed from gtk-3.96

    See hrm Feature #890399

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8c50f63baa18a4b22e09f992c1f3edbc35e1c03f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 8 23:07:53 2020 +0300

    Make appdata ids reverse-DNS

    Add separate launchable entries for connecting appdata files to
    desktop files.

    Also rename desktop files to match reverse-DNS scheme of appdata ids

    See hrm Bug #853571

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9789993475765814ea18cb41dab3a93ed5fec30c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 8 21:32:33 2020 +0300

    Use past tense in Land Ahoy achievement messages

    The message is not shown immediately when unit sees a shore,
    but only in next turn change.

    Reported by Chippo Elder

    See hrm Bug #856804

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 20ba13842727abd882085cf0644f805bd36613ad
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 7 19:17:22 2020 +0300

    sdl2: Remove dead code to handle terrain changing irrigate/mine

    See hrm Bug #890320

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 67bdf5d73aace24d769582bbc9a1d1a58358db07
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 8 18:27:31 2020 +0300

    Update diplomatic counters between alive players only

    This fixes problems like cease fire running out and turning to a war
    with already dead player.

    Reported by fomalhaut pa

    See hrm Bug #879055

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6171ce202d82bd5733f8f49f0e5bfe3612cea9e7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 8 13:00:04 2020 +0300

    gtk3x: Comment out GdkDragContext part

    gtk-3.96 defines no GdkDragContext. We already comment out a lot of
    gtk+-3 style drag&drop code. Extend that outcommenting to GtkDragContext
    usage.

    See hrm Feature #890402

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ea1a3ac06977618f54172e0475341fe0a311b5cf
Author: swiftech <awsksupport@gmail.com>
Date:   Fri Oct 9 00:52:56 2020 +0800

    Update Chinese translation

commit 9d4654c5c188f54150ece684acffce19da7a8d1d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 7 14:16:50 2020 +0300

    Update luasql to version 2.6.0

    See hrm Feature #890257

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dc2b595a108a20b34ccfadc7c45a22d554cb5068
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 7 16:30:09 2020 +0300

    Qt: Replace "Irrig. Rslt" with "Cultiv. Rslt" in helpdlg

    Similarly "Mine Rslt" -> "Plant Rslt"

    See hrm Bug #890314

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5e8f8c0f506b41669b04b744a6631f5e9f74519a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 7 07:32:48 2020 +0300

    Fix build with clang-11

    See hrm Bug #883284

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c6000e1cad9d2b854d125ab30b6dfbe720623c36
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 7 06:07:42 2020 +0300

    Update msys2 environment to 200906 level

    See hrm Feature #883288

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 54267cb9596570dad2aef2db720789d80b8c6cf7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 30 11:28:35 2020 +0300

    configure.ac: Drop use of obsolete AC_HEADER_STDC

    Autoconf-2.70 was giving a warning about it. We didn't use its
    results anyway (with any version of autoconf).

    See hrm Feature #889544

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 20b75101a6d7e98eef27fc49dd2304e6262cc584
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 30 11:12:19 2020 +0300

    configure.ac: Drop use of obsolete AC_HEADER_TIME

    Autoconf-2.70 was giving a warning about it. We didn't use its
    results anyway (with any version of autoconf).

    See hrm Feature #889543

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 31d257b7278274b22690fa72b77d8424512642f7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 23 03:30:25 2020 +0300

    Rename player_capital() as player_primary_capital()

    See hrm Feature #872580

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 534358a271c79e8ba9a5cc31e097af4135907c8b
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Fri Sep 25 14:30:27 2020 +0200

    Updated French translation of the README file.
    - default client
    - clients / server app names
    - license
    - modularity
    - mailing lists
    - log levels
    - server auto-start (suppressed)

    ... and so many others I can't remember !

commit 954e7369bdd26f28d4d1bd388c95df0b74b4363e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 10 07:49:25 2020 +0300

    Consider secondary capitals when calculating unit bribe cost

    Distance to nearest capital, not necessarily to the named capital,
    is what matters.

    See hrm Feature #872579

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fc06464a491d1002962df912ba26248b669cad4c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 10 21:23:35 2020 +0300

    Consider secondary capitals when calculating city incite cost

    Distance to nearest capital, not necessarily to the named capital,
    is what matters.

    See hrm Feature #872575

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5aa534dd94a9a0c3630dca2da4f4a7ba8f6f02e4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 5 23:50:02 2020 +0300

    Make top 5 cities report to accurately label number of Great Wonders

    Make it clear that Small Wonders do not count by changing mentions
    of "wonders" to "Great Wonders"

    Patch by Lexxie L

    See hrm Bug #884474

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b5315ebb5ea7796701973bf3c0c342c9821e5ae8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 10 00:32:58 2020 +0300

    civ2civ3: Make Ecclesiastical Palace secondary capital

    It was already documented as one.

    See hrm Feature #872572

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 71eb308f799fd62920077d68d9109448d47cc7a8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 5 14:41:02 2020 +0300

    Fix stdinhand.c compiler warning with gcc-10 and -O3

    See hrm Bug #886331

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fbf6d254b9f89eda2bbc40562197c79591580304
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 10 02:28:18 2020 +0300

    Support multiple cities with positive Capital_City effect value

    If multiple cities have Capital_City effect, one with the highest
    value is considered the primary capital. This is updated at turn
    change, unlike the previously used direct effect system check
    taking immediate effect.
    Cities with lower, but still positive, Capital_City value are
    considered secondary capitals.

    Requested by Lexxie L

    See hrm Feature #871681

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ce98082eddcd7be37a477c7f2c55f10dffe9146f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 5 21:31:45 2020 +0300

    Add volume control

    Patch by Raymond Martineau

    See hrm Feature #885685

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7527315835c16179e68080fe8f7244c76152b656
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 5 14:12:59 2020 +0300

    Fix cvercmp compiler warning with gcc-10 and -O3

    See hrm Bug #886330

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4247bee632e4a94064edb72e7c9f4055d6344516
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 27 04:34:41 2020 +0300

    Separate cultivate/plant time from irrigation/mining time

    Add entries for terrain sections in terrain ruleset for
    cultivate_time and plant_time. Use those times for cultivate and
    plant activities instead of irrigation and mining times.

    See hrm Feature #872777

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 30ba62911cfb4cdb8243fc1ed59df6406d325947
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Thu Sep 3 16:40:19 2020 +0200

    3-way coherency check between translations

commit 8c251b99295c5d6c7059e765e20764687210ad01
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Aug 27 06:30:07 2020 +0200

    Worker task creation: transform vs extra act.

    "Plant" isn't "Mine" any more. "Irrigate" isn't "Cultivate" any more.
    Separate terrain transformation activities from extra creation actives in
    the worker task creation user interfaces.

    See hrm Feature #885497

commit 8539a658f69abc7ccb553a1e104c7b0d8365e4cb
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Aug 27 06:12:44 2020 +0200

    Qt client: Fix worker task creation.

    It broke when hrm #846914 changed the buttons to pointers.

    See hrm Bug #885495

commit e7baacac237bfa8bd65453a71ad43597a0d67461
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Aug 27 05:29:54 2020 +0200

    Remove dual activity meaning remains.

    The function can_unit_do_activity_targeted_at() duplicated checks done in
    is_action_possible() for ACTIVITY_MINE, ACTIVITY_PLANT, ACTIVITY_IRRIGATE
    and ACTIVITY_CULTIVATE.

    Before hrm Feature #871737 landed the checks were used to find out if the
    original - now extra only - activity was extra creation or terrain
    transformation. It would then check if the appropriate action was enabled.
    Terrain transformation and extra creation are now separate activities. This
    makes the old checks redundant.

    See hrm Feature #885494

commit 233fe197ec638b35aca824d3a10763e99513fd48
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Sun Aug 2 17:05:50 2020 +0300

    Scripting: Fix segfaults with Direction objects

    Prevent segmentation faults in C applications due to tolua
    botched garbage collection of user objects (Direction). It also makes
    functions return same objects for same directions and nil for invalid
    directions (they hanged the application anyway).

    See hrm Bug #880869

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2054ee3a2cab1e90d8df6becedf13e5e96b225fe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 2 18:46:41 2020 +0300

    Deprecation warning typofix: "instad" -> "instead"

    See hrm Bug #883116

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8d3364d2fe5bafe167639bb382a47ad90e30d426
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Sun Aug 2 16:44:37 2020 +0300

    Fix City:is_(un)happy() Lua functions in clients

    See hrm Bug #881951

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dd9f35c89d946d49fe7bce368d396912e0463f39
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 2 10:56:44 2020 +0300

    Update gettext bootstrap files to gettext-0.21 level

    See hrm Feature #883109

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0606b5fc072f2f39c636f2af184dd42eaa5fb047
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 2 12:11:00 2020 +0300

    Add req_vec_fix.cpp to POTFILES.in

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 54b7be317172e505223b0980e3fc2adf6e89296c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 10 11:58:58 2020 +0300

    Granularity: Add Hunters and Horsemen

    Also add techs they require.

    See hrm Feature #872589

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8dbc85feed62ac775dff4b8b676213de42f2173a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 27 18:15:37 2020 +0300

    Drop lua-5.3 from git

    See hrm Feature #882571

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b6b9baf62d2fcea5eb08525b736b80ca41b4c873
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 27 02:55:35 2020 +0300

    Qt: Drop multipler_rates_dialog Qt::WindowFlags parameter

    See hrm Bug #882483

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 078e80728ac70fbb5e3944d5d66b642317ce3638
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 27 03:59:25 2020 +0300

    Qt: Set "Cultivate" as the name of ACTIVITY_CULTIVATE worker task

    See hrm Bug #874770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a5ba19a13ca83e444d1401fcca5668f98b42790a
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Mon Jul 27 22:16:56 2020 +0200

    Updated French translations :
    - action enablers
    - improved cross-branches coherency

commit 0e6cc3a9525dd5358ca941a09fd221d3e8c67625
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 10 11:17:44 2020 +0300

    Granularity: Add Road extra

    See hrm Feature #872586

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 85459532aa8ff8e8b21161032d7c2311b7ee9153
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jul 17 01:27:23 2020 +0200

    Doxygen: make warnings more visible.

    Doxygen warnings used to drown in a sea of other output. Quiet it so the
    warnings becomes visible.

    See hrm Feature #881540

commit 0af4c90998a6687da9461a0c246ba251fd4efcf0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jul 16 14:42:10 2020 +0200

    GitHub Actions: Windows build (for CI).

    Use GitHub Actions to do a msys2 build on Windows as a continuous
    integration test.

    The build is too slow to expect that the developer is at his computer
    by the time it fails. It still beats waiting for someone's msys2 build
    to fail.

    See hrm Feature #880897

commit 9d5a856490db6413f1356a9ea93aed668d3d7537
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jul 16 15:27:44 2020 +0200

    Fix msys2 ruledit build.

    Solution hint from Marko Lindqvist
    Reported by Marko Lindqvist

    See hrm Bug #880891

commit 9ade2f212b22c4402f03564170d3d287962ea8fb
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jul 16 15:02:58 2020 +0200

    README.msys2: fix package name spelling.

    See hrm Bug #881455

commit 94c3359cd7401665aa5ed6cdace2c2aaa5facd3d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 30 10:22:43 2020 +0200

    Set target city for tile targeted actions.

    See hrm Bug #879610

commit fe06d4ef903109c1a24dc41b10006014beb447c3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 8 21:35:53 2020 +0200

    Travis CI: test ruleset upgrade.

    The test data is the Freeciv 3.0 rulesets from S3_0

    See hrm Feature #880591

commit 8cca0393e402279e7cc6ef900c36b384fc2372d4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jul 9 00:02:15 2020 +0200

    Ruleset upgrade test data preparation script.

    See hrm Feature #880653

commit 9536b462c85873e3ed07ca8075166b6aa576905e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 9 12:36:04 2020 +0300

    README.msys2: Correct date of upstream package

    See hrm Bug #878462

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eaf83a7da7dc35176f36ae685df0873644ae915d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 8 21:03:57 2020 +0200

    rscompat: fix "Paradrop Unit"  move cost effect.

    The move cost for "Paradrop Unit" should be subtracted from the actor unit,
    not from a target.

    See hrm Bug #880587

commit ed44d39a9168cfe92f7e1165ff38d5ad6e24650c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 30 15:32:24 2020 +0200

    Make "Center" a sub set of "Claimed".

    Set the tile owner to the owner of any city on that tile even when borders
    are disabled.

    See hrm Feature #879677

commit e3963f141dc404164cd1887b0b55ba41098e997c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 8 12:43:57 2020 +0200

    req_vec_change: introduce req_vec_num_in_item.

    Some ruleset item kinds like action enabler have more than one requirement
    vector. A req_vec_change must therefore specify what vector it applies to.
    Up until now this has been done by a pointer to the requirement vector in
    the ruleset item that was suggested changed. This created extra work when a
    change was supposed to be applied to a copy of the original ruleset item.

    Introduce req_vec_num_in_item. A req_vec_num_in_item is a numbering for
    requirement vectors in ruleset items. The numbering is specific to each
    ruleset item kind. Have req_vec_change and functions that work with
    req_vec_change specify the requirement vector the change applies to as a
    req_vec_num_in_item.

    See hrm Feature #880564

commit 86adba4ba5cf8d065b56a4b90def8a0dcbf84dd1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 8 14:28:29 2020 +0200

    Comment header fix

commit 63328bb4b52bafaf3ebcee4218852800810779e7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 8 09:44:38 2020 +0200

    ruledit: use QListWidgetItem::setSelected().

    setItemSelected() is deprecated.

    See hrm Bug #880526

commit e47ed6b389067e2bd34535369694abbeec0fc73b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 8 08:07:06 2020 +0200

    README.actions: expand Lua logging example.

    Log all current action target kinds.

    See hrm Feature #880514

commit 9f0d1b29cb3eddf9e1283dabae390e13174d310c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Sep 13 11:55:11 2018 +0200

    HACKING: Explain what an "action" is.

    Explain that the action concept shouldn't be muddled.

    See hrm Feature #880508

commit a8412daa41f3e3910127e8cac05a2b897b930116
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 24 00:01:48 2020 +0300

    Meson: Add option to build json-protocol

    See hrm Feature #874813

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9e3ec8b26b6d5ae40e0bfcc85964c8214c9926e2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jul 7 14:35:56 2020 +0200

    Travis CI: run make in parallel on OS X build.

    See hrm Feature #880452

commit 85d2057fa824887e27f662cc755ff3ea4a8fe5a0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jul 7 06:11:42 2020 +0200

    Delete requirement_vector_contradiction_clean().

    It is unused in 3.1.

    See hrm Feature #880399

commit 633b455c37b49eb53f5142d7fd1fab426fe6b2bd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 8 16:23:38 2020 +0200

    Comment spell fix: requirment -> requirement

commit 8e2191bf87188bab3d87551168417bc93e83affc
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 8 14:27:02 2020 +0200

    Comment header syntax fix.

commit 8414968cc9b95913ee97eeda0d083a0a71a60926
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jul 7 04:05:57 2020 +0200

    Travis CI: print config.log on configure failure.

    It is easier to debug a failed ../configure run when the log is shown when
    reading the log of the job.

    See hrm Feature #880397

commit f34483283f9a442251f58692e8cdcc44df2660d2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jul 7 04:05:25 2020 +0200

    Move class fix_enabler_item out of header.

    The class fix_enabler_item is an implementation detail of tab_enablers. It
    inherits req_vec_fix_item. The class req_vec_fix_item is a regular C++
    class that doesn't inherit QObject. There is no need to for fix_enabler_item
    to remain in the header.

    See hrm Feature #880396

commit daa4e7b803126850227a06a8e2c3bb28d7213bb9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jul 6 21:43:05 2020 +0200

    Travis CI: clang debug build.

    Clang catches stuff like an enumerator from the wrong enum being assigned
    to an enum variable. The OS X build is slow and needs lua5.4 before it can
    run in debug mode. Add a Linux clang build.

    See hrm Feature #880378

commit d38771cbed16c46201fb22f1a3347e88a98bb350
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jul 6 19:53:06 2020 +0200

    Update included lua-5.4 to version 5.4.0

    See hrm Feature #880331

commit bf9560ee50005bc02d9ca9b3a59cc7a206c15f9b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jan 1 15:47:08 2020 +0100

    Travis CI: build the Qt client on OS X.

    See hrm Feature #880335

commit 894aff809ad1411c47fa110a9f6aca82224d1f83
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jul 6 16:58:29 2020 +0200

    Set minimum C++ standard version to 11.

    A C++ compiler may support C++11 but default to an older version.

    Ask for C++11 when compiling C++ code. All our C++ code uses Qt.
    All Qt versions supported in 3.1 requires C++11.

    ax_cxx_compile_stdcxx.m4 was taken from the GNU Autoconf Archive.
    Serial 8 was chosen because it doesn't downgrade C++ version to
    C++11 when to compiler default is a more recent version. (No C++
    standard version downgrades requested by Marko Lindqvist)

    See hrm Bug #880321

commit 297d2dab3113a752559750a47075ce0af508bc29
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jul 6 12:15:14 2020 +0200

    Travis CI: remove homebrew work around.

    Travis' OS X image no longer needs a brew update on each build to
    work around hrm Feature #861472.

    See hrm Feature #880296

commit 2ed083f451139f17f13f8bdabcfcc1692a5afd7c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jul 6 11:21:05 2020 +0200

    req_vec_fix: update on outside req vec change.

    Listen for changed done by others to the requirement vector it is trying
    to fix. Discard all local changes and start over again when the vector
    has changed.

    See hrm Feature #880291

commit cd448eaa40cb4c233788ab85f7d84288e9d64070
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jul 3 11:29:08 2020 +0200

    req_edit: update on outside req vec change.

    Listen for changes others do to the edited requirement vector.
    Update the view of the requirement vector if it has changed.

    See hrm Feature #879873

commit 1e49fa010ebcee4ced23420c3e3a97cf021f807f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jul 3 10:29:11 2020 +0200

    Travis CI: build experimental ruledit in normal.

    See hrm Feature #880060

commit 7099396239651a36e6fabfa877d342c3f1ec83d7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jul 2 12:21:24 2020 +0200

    ruledit: mark enablers that has problems

    See hrm Feature #879934

commit 31484d078ea2018d7b70636ce68774c1eeeebe2b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jul 2 11:47:24 2020 +0200

    ruledit: (enabler) problem seriousness detection.

    See hrm Feature #879928

commit 968e2abd38ef5c93f0ec0a6a22ffdf48be9b0703
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 1 20:38:56 2020 +0200

    req_edit: emit signal on rec vec change.

    Emit the signal rec_vec_may_have_changed(const requirement_vector *)
    after req_edit changes a requirement vector.

    See hrm Feature #879870

commit 0abc30affbd3a72cb01cc8ebd21a23c9bf31ce66
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 1 20:08:51 2020 +0200

    ruledit: update changed enablers.

    Update an action enabler if one of its requirement vectors changes.

    See hrm Feature #879864

commit 3d9f38736df5b2014facc500ea74cebadc0c8be2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 1 13:08:34 2020 +0200

    ruledit_gui: forward rec_vec_may_have_changed().

    Forward incoming rec_vec_may_have_changed(const requirement_vector *vec)
    signals.

    See hrm Feature #879862

commit 0718783b9a2a95325277cd4be1ca9b5b71d4a44e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 1 13:06:04 2020 +0200

    req_vec_fix: emit signal on rec vec change.

    Emit the new signal rec_vec_may_have_changed(const requirement_vector *)
    after req_vec_fix does all accepted changes to a ruleset item.

    See hrm Feature #879745

commit 548f05cea56f7078c99c0c289d00641478c1f550
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 1 13:07:17 2020 +0200

    ruledit: close redundant req_vec_fix_item.

    Make ruledit_gui::open_req_vec_fix() close item_info when another
    req_vec_fix window already is open for the item.

    See hrm Bug #879744

commit fcca999cd3847c1f4e9e6454e0c7550a7cae0a38
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 1 11:39:17 2020 +0200

    ruledit: keep selected enabler marked on refresh.

    See hrm Feature #879727

commit c89354001a8662749782dbfa33a56a16d13588b5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 1 11:16:45 2020 +0200

    ruledit: use layout for req_vec_fix problem area.

    Replace the hack of using a widget to contain the widget displaying
    the current problem with the use of a QStackedLayout.

    See hrm Feature #879718

commit 45d3a28aee047fafbc1803265c9e4bec9a707943
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 30 16:31:23 2020 +0200

    Client access to the ane_kind enum.

    Move the enum ane_kind to common.

    Put it in the new header file - explanation.h - so adding a new possible
    reason why an action isn't enabled won't cause a giant rebuild.

    See hrm Feature #879630

commit e94229af5a07ae8c64396c0d9247e89ede5f8243
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 30 11:49:37 2020 +0200

    Action tool tip generation to client text.

    The generation of the tool tip for an action button in the
    action selection dialog should be client only. Keep the
    action probability to explanation code in the actions
    module to keep action probability interpretation
    centralized.

    See hrm Feature #879607

commit caf6a094c097b3d9d6964c5cc0431a939e9f93fd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 30 12:31:39 2020 +0200

    Action not enabled explain peace blocks.

    See hrm Feature #879606

commit 3563e340cf1729b6f68e99111a1e1ba70585f8a7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 1 23:37:51 2020 +0200

    illegal_action(): fix explanation finding order.

    Punishing a unit changes its state. This state change can make the action
    illegal for other reasons than the real reason why it was illegal. The
    reason why the action was illegal must therefore be found before the
    punishment is applied.

    Looking for an explanation why the action was illegal after the unit was
    punished can also crash the server if the unit is killed.

    This patch creates a new, smaller, bug: A client asking to not be disturbed
    will end up not getting the reason why the unit was punished. Accept this
    for now. (See hrm Bug #879881)

    See hrm Bug #879880

commit a3336c029335f28729e15d2fcd132161bb3df952
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 1 23:15:51 2020 +0200

    A dead unit can't lose MP...

    ...but trying to make it lose movement points can crash the server.

    See hrm Bug #879879

commit 23de141028420ac9e003c09cfcd89e28d213ef2d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 12 10:11:39 2020 +0200

    dai_fill_unit_param(): look for attack capability

    A unit without the NonMil unit type flag may still be unable to attack.

    See hrm Feature #879480

commit 292e41e1d766a97221fa0fc96d213220a6362c76
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 29 03:16:31 2020 +0200

    Obligatory hard req rscompat: fix all trivial.

    Have rscompat_enabler_add_obligatory_hard_reqs() apply all append only
    fixes during ruleset upgrade.

    See hrm Feature #879438

commit 1ee4725db0a9795a486e1b20f7c985a58099caec
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 28 23:22:44 2020 +0200

    Bitwise server setting value access.

    Add a function that gives access to the value of bitwise server settings to
    fc_interface. This can be used to check the value of bitwise server settings
    that aren't sent in PACKET_GAME_INFO. Add an bitwise server setting value
    getter to the server_settings module.

    See hrm Feature #879437

commit 82348097906c0121498829fafce5e1b4997566a8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 28 22:23:55 2020 +0200

    Standardize enabler problem terminology.

    Standardize on the clearer terms "repair" and "improve".

    See hrm Feature #879431

commit 121e25b073b8ad9c32e180ac5247a2cbe6776be0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 28 12:54:46 2020 +0200

    Mandatory local DiplRel means claimed tile target

    Requiring a local DiplRel implies that the target tile is claimed. Make
    explicitly expressing this implicit requirement mandatory from 3.1.
    Action not enabled explanation finding relies on it.

    See hrm Feature #879408

commit 39d6b022123202d0e847375281de14d3110ac4d8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 26 15:40:52 2020 +0200

    Travis CI: move to the next Ubuntu LTS.

    This allows dropping the ppa.

    See hrm Feature #879251

commit 36ecef5508ba83b66bf79bc69d81ab71d8237809
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 26 14:59:28 2020 +0200

    --warning: show enabler improvement possibilities

    See hrm Feature #879228

commit 5a74d3a9d9c7a8ec0547b14351cd7c42e04d91aa
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 26 14:22:26 2020 +0200

    Found City on claimed tile enabler clarification.

    Clarify the rules that allows building a city on a claimed tile by
    specifying in the action enablers that the tile is claimed.

    See hrm Feature #879232

commit fd3d4bfe612cf5e04cafffd95a07bfa1a087bb1f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 26 13:45:27 2020 +0200

    ruledit: suggest action enabler clarifications.

    A local DiplRel requirement in an enabler for a tile target action implies
    that the target tile is claimed. Suggest clarifying this to ruledit users.

    See hrm Feature #879226

commit 6ba7051134dd4728eaa60da2ac1a8663c8590d13
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 26 13:11:52 2020 +0200

    Detect tile targeted enabler self contradiction.

    An enabler for a tile target action can't require a local DiplRel if it
    also requires that the target tile is unclaimed.

    See hrm Feature #879225

commit 259568c4987fbb828bbc7dc76a16214397fa779d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 26 10:10:52 2020 +0200

    ruledit: detect unused action enablers.

    See hrm Feature #879199

commit 27f064c2de55a161094d68b785d7348c19ec65dd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 26 15:18:45 2020 +0200

    Comment fact fix

commit c77bcb298a47386f3937c846c251687024d0e4f7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 26 00:42:05 2020 +0200

    Non TerrainSpeed are native by terrain.

    Transporable units in alien, civ2civ3, classic, experimental, multiplayer
    and sandbox that doesn't have the TerrainSpeed unit type flag are on native
    terrain when they load.

    Remove redundant "Transport Disembark" action enabler and !present
    requirement for "Transport Disembark 2".

    See hrm Feature #879143

commit e3efcf0f2342bb8774a876f856f9c3b4f0574631
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 25 21:01:13 2020 +0200

    Increase the max size of problem descriptions.

    Around 150 characters was a bit on the short side. Increase the size limit
    to 500 bytes. Long enough to describe the problem, too short for a wall of
    text.

    See hrm Feature #879142

commit d0df88f98fe18e619d7c0a271f7a3a0c7e2b99d1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 25 23:14:40 2020 +0200

    No unit types can join cities in alien.

    Remove redundant action enabler and user unit type flag.

    See hrm Feature #879141

commit 1fe09b85920684f25c380c6b0e330235832ff4f4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 26 00:02:11 2020 +0200

    classic and multiplayer have simple native rules.

    If a transported unit is in a city in classic or multiplayer it is on a
    native tile.

    Remove redundant "Transport Disembark" action enabler and !present
    requirement for "Transport Disembark 2".

    See hrm Feature #879140

commit 24e60fceea92de6354e74fa245672139fc307d47
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 25 23:20:01 2020 +0200

    All unit types in granularity have TerrainSpeed.

    Remove redundant "Transport Disembark" action enabler and !present
    requirement for "Transport Disembark 2".

    See hrm Feature #879139

commit 2cffec2e9a081d0d1e7fcd9b6482a4d2412be910
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 25 22:54:24 2020 +0200

    Untransportable units can't board, alight, etc.

    Make action_actor_utype_hard_reqs_ok() check that there exists a
    transporter for a unit type before claiming that it can do
    "Transport Alight", "Transport Disembark", "Transport Disembark 2",
    "Transport Board" or "Transport Embark".

    See hrm Bug #879134

commit aaf62286c486c13a7a2c82bbd86ce44d5281ce73
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 25 21:12:44 2020 +0200

    Fix enabler duplication on action change.

    See hrm Bug #879130

commit dae0db5e472d49fa08d57857b3e6fd2a772ff112
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 25 18:57:13 2020 +0200

    New effect Illegal_Action_HP_Cost.

    Introduce the new effect Illegal_Action_HP_Cost. It is like the
    Illegal_Action_Move_Cost effect except that it targets a unit's hit points.
    It is able to kill a unit.

    If the action always causes the actor unit to end up at the target tile two
    consolation prizes are given. An area with the radius of the actor unit's
    vision_radius_sq tiles is revealed. The player may get contacts with the
    owner of units and cites adjacent to the target tile. This is done for
    compatibility with "Paradrop Unit".

    See hrm Feature #879103

commit 6e1679a333de962b0459168c1cb36f9e72090f8c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 25 17:44:15 2020 +0200

    Get rid of paratroopers_mr_sub.

    Move the unit type field paratroopers_mr_sub to the
    Action_Success_Actor_Move_Cost effect.

    See hrm Feature #879117

commit 58aa784b3fd0adfc3e942226940683f185f20e36
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 25 16:36:10 2020 +0200

    Get rid of paratroopers_mr_req.

    Move the unit type field paratroopers_mr_req to the action enabler
    requirements of "Paradrop Unit".

    See hrm Feature #879114

commit 300f9350bf57db21511e72cb4967ffe60e693030
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 25 14:57:19 2020 +0200

    Don't punish non revealing illegal moves.

    The punishment for an illegal move specified by the
    Illegal_Action_Move_Cost effect should only be triggered
    when trying to perform the illegal action may reveal new
    information.

    See hrm Bug #879104

commit 00bc78e09f0e096b6dea27bba4ede2a01a004f13
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 25 14:18:40 2020 +0200

    Introduce action_prob_unit_vs_tgt(),

    an action probability finder that picks the target to evaluate against
    based on what the action in question wants.

    See hrm Feature #879100

commit 0a378f1dc1345eb8e3cc1a94864f3bb0203178c8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 25 12:53:30 2020 +0200

    Refresh non fogged borders on player map load.

    The tile owner isn't read when loading a tile from a save player map
    unless  foggedborders is on. Set it during the player map repair
    phase of the savegame loading.

    See hrm Bug #879084

commit 47b54cf5befdec7e2d7743e2673283d6aea10026
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 25 11:07:22 2020 +0200

    Obligatory no "Paradrop Unit" peace invasion.

    Make the rule that the player can't use "Paradrop Unit" to move a unit into
    the territory of a player he has peace with an obligatory hard requirement.

    See hrm Feature #879085

commit 1286e948d090b5c4ba26d90ece94e3ad7216a577
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 23 13:50:11 2020 +0200

    Shorten auto_settlers_speculate_can_act_at().

    Prepare the function auto_settlers_speculate_can_act_at() for replacement
    by something that takes action rather than activity by having it use
    actions rather than activities internally.

    See hrm Feature #879062

commit 5b8dfc9563dbe277c772091c730f6af3bb94761e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 25 14:38:37 2020 +0200

    Comment English fix

commit 0c86c14df246736e227f05e5db1c7c0cb330c34c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 23 15:48:42 2020 +0200

    Meta knowledge for Activity requirements.

    See hrm Feature #878873

commit 9d701de08cae244777c663b2bf27fc98db1c4fa1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 23 09:10:39 2020 +0200

    Obligatory hard requirements: support "or".

    Make it possible to specify fall back requirements. An obligatory hard
    requirement is considered fulfilled if the action enabler fulfills any
    of the alternative requirements. This makes it a bit less strict.

    See hrm Feature #878845

commit 99fcba85b2fdf42fd1cbd357997658cbbacc89aa
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 23 06:02:37 2020 +0200

    Remove unused obligatory req functions.

    The functions action_enabler_obligatory_reqs_missing and
    action_enabler_obligatory_reqs_add() aren't in use any more.

    See hrm Feature #878840

commit eb52e173f3d0a5ddada64f8deedde44250e20aa8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 18:36:27 2020 +0200

    rscompat: upgrade enablers with req_vec_problem.

    Use req_vec_problem to add missing hard obligatory requirements to
    action enablers during ruleset upgrade.

    See hrm Feature #878829

commit 4a98d0f3959e1cdbaa7f7a011fb9d3e45e4d354b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 18:34:48 2020 +0200

    ruledit: allow rejecting enabler repairs.

    Show the user the individual problems and steps performed to repair an
    action enabler. Allow him to reject them and try to fix the enabler by
    hand.

    See hrm Feature #877674

commit 28322d10148de69be553ad0a8416ca4ac1dc670e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 22 22:33:08 2020 +0200

    ruledit: introduce req_vec_fix.

    Introduce a generic requirement vector fixer dialog. It shows the user
    problems and allows him to pick the solution if more than one alternative
    is presented.

    See hrm Feature #878659

commit bc8ffbaa3690245730b44df5d0ca899fa112d793
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 22 14:46:01 2020 +0200

    Introduce req_vec_change_translation().

    See hrm Feature #878586

commit 3b70eec4ed080ca50b8fa4e91e46bd1634ca7e4c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 18:03:53 2020 +0200

    Translate requirement vector problems...

    ...so ruledit can display the texts.

    See hrm Feature #877715

commit d733e11b8666d53d9951131e87ef5c742f617370
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 18 11:06:11 2020 +0200

    Simplify need_war_player().

    Unify the handling of tile targeted actions with the handling of other
    actions. The criteria for a perceived need for war is now the same for all
    actions. The criteria is that the action is illegal under the current
    diplomatic state but would be legal during war. No checks if another
    diplomatic state than war and the current state would allow the action are
    done. That could be done later in a check for non war diplomatic states.

    Bombard and Attack are both unit stack targeted. Per unit war requirements
    are therefore handled by the action enabler. Drop custom check.

    See hrm Feature #878193

commit ad85c63ab81bf2a2cf4999fb207d3bcc13d3af9e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 18 09:06:10 2020 +0200

    handle_unit_action_query() by action result.

    What additional information is given currently depends on action result
    only. Should other action properties be considered later they should be
    checked by action, not by hard coded action id.

    See hrm Feature #878173

commit e4590881521c834af9405367d0fb4285d3c3eb5d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 18:36:04 2020 +0200

    rssanity: check enablers with req_vec_problem.

    Replace the old missing hard obligatory requirements chek with a call to
    action_enabler_suggest_a_fix().

    See hrm Feature #878153

commit 2edd14778121e68f6684751912f7ddd330cde1e9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 23 06:24:10 2020 +0300

    meson-winbuild.sh: Setup PKG_CONFIG_PATH

    See hrm Feature #874756

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 781cdfa6549b2904994e01cfb8612ae4b60b8b2a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 18 10:04:57 2020 +0200

    expl_act_not_enabl(): fix ACTION_ANY segfault.

    Fix hrm Feature #878173 by prevention a segfault when the action is
    unspecified.

    See hrm Bug #878181

commit 5b431ecc9d37009eb71be6c6b37ce20f9ba9ea1f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 16 17:10:09 2020 +0200

    Remove tile target specific foreign explanation.

    The normal action not enabled explanation because the target is foreign
    works for tile targets too once hrm Bug #877844 is fixed.

    See hrm Feature #877868

commit 8e3156d9a8cb531f1f3a44323a659ca713e3e02f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 16 16:47:36 2020 +0200

    Modernize expl_act_not_enabl().

    * custom feed back by action result rather than by action id
    * pass action rather than action id to functions with an action variant
    * use the action where it is natural to do so

    See hrm Feature #877864

commit b0c03248a8e649a0747ca794bb9bdc132c04b4a1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 16 16:27:10 2020 +0200

    Optimize city_can_be_built_here()

    Use cached value in can_utype_do_act_if_tgt_diplrel() rather than looking
    through the action enablers each time a check is needed.

    See hrm Feature #877856

commit 58b1d2bb39307e8b5ad55855ebb02ab688c61097
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 16 14:13:44 2020 +0200

    action_hard_reqs_actor(): actor_city must exist.

    Check that actor city exists before checking if it fulfills "Airlift Unit"'s
    hard actor city requirements. action_hard_reqs_actor() is called before any
    action enablers are checked.

    See hrm Bug #877827

commit 6b2a77169db22e81fa09c96211a565320daee060
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 20:01:13 2020 +0200

    Do not close action lists by hand.

    Use action_list_end() to close the action lists in
    auto_settlers_ruleset_init().

    See hrm Feature #877847

commit a4630e795f8b69c4235cf1b3f604e0984ea7b435
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 16 14:28:57 2020 +0200

    utype action diplrel cache: no relation to nature

    Local diplomatic state requirements for tile targeted actions are evaluated
    against the tile owner. This makes local diplomatic requirements unfulfilled
    against unclaimed tiles. An action enabler that requires that the target
    tile is unclaimed will therefore never be active under diplomatic states.

    See hrm Bug #877844

commit 8874f21e9b29d258b7a36a02e6388ce0a063a871
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 16 13:28:15 2020 +0200

    Unit action cache setters: reduce duplication.

    Loop over whether the requirement is present or not rather than
    duplicating it.

    See hrm Feature #877835

commit 2f27b4bbe8dd2e9a91ef9c7a7d23c250d017896a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 16 13:13:38 2020 +0200

    need_war_player() by action result.

    The special war requirements applies to all actions with the same result.

    See hrm Feature #877812

commit 6943e552caf0d4dcc9ee2367b51210874bbbf79c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 16 12:56:21 2020 +0200

    Drop hostile as an action property.

    If an action is hostile or not determines how agents and utilities like
    path finding reacts to it, not what the rules actually are. If an action
    is hostile or not is a matter of interpretation. This interpretation
    should probably care about many action properties.

    Move it out of the way for now.

    See hrm Feature #877798

commit 9e03f2695842763fabac0a982cfcbd6e3e82607f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 16 10:35:44 2020 +0200

    Move CanFortify and Cant_Fortify to the ruleset.

    See hrm Feature #877577

commit d3f14dabac67a4218a42ce1f705929b6e151b5fc
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 16 10:13:46 2020 +0200

    helpdata: consider Fortify_Defense_Bonus.

    The bonus a unit gets from fortifying is now controlled by the
    Fortify_Defense_Bonus effect. If it can fortify at all is controlled by
    enablers for the Fortify action.

    Get the fortify bonus from the effect. Move the information about what
    happens in the Fortified unit state to the documentation of the Fortify
    action.

    The new code can't detect as much as it could before the
    Fortify_Defense_Bonus effect was added.

    See hrm Bug #877782

commit a70327afb4d4e6cd4f72c94a43b4784452d54b4c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 16 09:40:10 2020 +0200

    universal_fulfills_requirement: support CityTile.

    Add a universal_found_function for tile properties.

    See hrm Feature #877780

commit 941e36ac2a52fadf6e9054d3512c13f1a27abd61
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 16 09:23:52 2020 +0200

    universal_fulfills_requirement: support Activity.

    Add a universal_found_function for unit activities.

    See hrm Feature #877779

commit 68c803540329f20ded9fd55b77c8f7c035e112bb
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 8 11:54:42 2020 +0200

    Simplify auto_settlers_speculate_can_act_at().

    The special checks are redundant. That are done in the
    action_speculate_*() functions too.

    See hrm Feature #877755

commit de5507b969e9b9841a98c4b661522b87d66c8bfa
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 14:21:38 2020 +0200

    requirement_vector_contradiction_clean(): port.

    Port requirement_vector_contradiction_clean() to use
    req_vec_get_first_contradiction() and req_vec_change_apply() internally.

    See hrm Feature #877702

commit 4742bc64e961c30136bb05cb0b337fe7f87fba95
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 21:22:14 2020 +0200

    rulesave: respect disabled enablers.

    Respect ruledit's disabled property when saving action enablers.

    See hrm Bug #877742

commit b425da5a8e3b4f293d7279b8092c9ec01a31e62f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 19:31:36 2020 +0200

    Central action enabler deallocator.

    Introduce action_enabler_free(). Use it in actions_free().

    See hrm Feature #877731

commit eb47529dac7bedee08b035d7150b49222aac1002
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 18:21:50 2020 +0200

    Fix unterminated character constant warning

    while generating freeciv-core.pot

    See hrm Bug #877727

commit 98bc408986abd72b24eb8b6162e5e9fac4608261
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 17:02:58 2020 +0200

    Mark requirement vector problems for translation.

    See hrm Feature #877720

commit 1ec78a3f5faab4dbdb1903cd238fe2339d2fa455
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 14:52:44 2020 +0200

    Interactive friendly enabler changing.

    Add functions to the actions module that makes it easier to suggest changes
    to action enabler to the user in an interactive environment like ruledit.

    See hrm Feature #877704

commit 3cfa5599af5c0816f406dbc3e21e3aab9f842588
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 14:17:49 2020 +0200

    sanity_check_req_vec(): standard contra detect.

    Use req_vec_get_first_contradiction() to detect requirement vector self
    contradictions during sanity checks.

    See hrm Feature #877701

commit 1ae47278cb24cef78b77aa9f550276c7fe19c3a1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 12:31:03 2020 +0200

    Interactive friendly requirement vector change.

    Add functions and data structures to the requirements module that makes it
    easier to suggest changes to requirement vectors to the user in an
    interactive environment like ruledit.

    See hrm Feature #877692

commit b6959c47825b81bfa9c0ecef627e2bcdeb945e0b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 09:51:55 2020 +0200

    ruledit: split enabler repair from action change.

    A user may wish to repair an action enabler broken outside of switching its
    action or to switch action and repair the enabler by hand.

    See hrm Feature #877669

commit 9da39d52c7e56971c802ef7bdf0fb3ba954173f9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 09:23:26 2020 +0200

    ruledit: can't edit non selected enabler.

    Don't offer to delete, to change the action type or to edit the requirements
    of the currently selected action enabler when no enabler is selected.

    See hrm Feature #877662

commit 98af429680f50f88611cfc576e50edd3a28fa369
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 00:43:08 2020 +0200

    rscompat: assert enough free user flags.

    Assert that no user flag spot not added in the current version is spent.
    That would make old rulesets that used all user flag spots impossible to
    upgrade.

    See hrm Feature #877576

commit 19e44fd2a405d8b090d1f12fabb26afd2ea65ef3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 20:43:27 2020 +0200

    find_something_to_kill(): simpler build to chase.

    A civilian that can perform a hostile action doesn't count as a civilian.

    See hrm Feature #877541

commit ec49940db38b70f38a5d19873c05de8bca53baf4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 15 00:03:50 2020 +0200

    Make in city hard req obligatory.

    The action "Airlift Unit" has a hard requirement that the actor must be
    in a city. Make it visible.

    See hrm Feature #877574

commit 9a9fd3f733249ec282bee74ae1a45c200c9d6c69
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 14 16:26:20 2020 +0200

    Path finding hack by action result.

    See hrm Feature #877563

commit 509f204f8023e78d68c748fa1ea409a6811c9131
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 14 15:49:54 2020 +0200

    Qt client: detect sea and air by action result.

    Have city_production_delegate::paint() check what actions a unit can do by
    their action results.

    See hrm Feature #877560

commit bc6d83909b4adedab461e02c9a10380628c0aeb9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 14 15:47:57 2020 +0200

    Intoduce utype_is_consumed_by_action_result().

    See hrm Feature #877558

commit 1fd810fccd081e34c26532c74ebe6ce9182d3759
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 14 15:37:23 2020 +0200

    requirements module: take req_vec_wants_type().

    It may be useful elsewhere too.

    See hrm Feature #877556

commit 73a138d7add6118ce4681b3bba9017540e9dfb91
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 14 10:14:11 2020 +0200

    get_fortified_defense_power() by action result.

    See hrm Feature #877545

commit a22dcb2e1a1cfc73bbd698abea576b6da95edf7b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 14 09:31:01 2020 +0200

    Make not fortified hard req obligatory.

    The action "Fortify" has a hard requirement that the actor can't already
    be fortified. Make it visible.

    See hrm Feature #877543

commit 4c8bb242b28ec598501f05cdd5d81399f3fd1785
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 14 07:44:00 2020 +0200

    can_attack_non_native(): consider actions.

    A unit may be unable to perform an attack action because no action enabler
    enables it even if at has a non zero attack.

    See hrm Bug #877542

commit edbe26097d72087b273a5a32796a7f75803f7acc
Author: Ihnatus <ignatus31oct@mail.ru>
Date:   Mon May 25 05:51:52 2020 +0300

    Integer calculation of diagonal move cost

    See HRM#868646

    Signed-off-by: Ihnatus <ignatus31oct@mail.ru>

commit bd5e1d57bc9f6734910d6ed468867868399c4882
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 11 11:13:00 2020 +0300

    Update msys2 environment to 200610 level

    See hrm Feature #874451

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 11bff5e2a6f56e4282d9f118f363db7407dd9bd4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 12 20:56:28 2020 +0200

    is_action_possible(): omniscient sees all.

    Make the checks for "Spy Attack" respect omniscient.

    See hrm Bug #877508

commit 7969022a435f03f9fe024269842ded284963fbd7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 12 20:31:45 2020 +0200

    action_target_neg_util(): use action result.

    See hrm Feature #877504

commit 32c1377bcb902f645aeba61551629b940f9a070b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 12 18:34:43 2020 +0200

    Move NoFortify to the ruleset.

    Soft code the rule that a unit can't fortify on terrain with the NoFortify
    terrain flag unless it has a city.

    See hrm Feature #877498

commit 8672f9702e1257471958622329e541ab04fe9ae4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 12 18:04:53 2020 +0200

    Increase the number of user terrain flags to 10.

    See hrm Feature #877497

commit 9453b4c4a561633df32b8aa76f56da0bbd6dfb15
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 12 16:20:29 2020 +0200

    Make home city hard req obligatory.

    The actions "Establish Trade Route" and "Enter Marketplace" has a hard
    requirement that the actor unit has a home city. Make it visible.

    See hrm Feature #877487

commit c1e8c565771c8587b58e98e641a9937ee0790e6f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 12 15:48:11 2020 +0200

    Make no existing embassy hard req obligatory.

    The actions "Establish Embassy" and "Establish Embassy Stay" has a hard
    requirement that the actor can't have a real embassy to the target already.
    Make it visible.

    See hrm Feature #877481

commit 28a9e621734c71467ef2b950211c20fc439dc4da
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 12 14:44:19 2020 +0200

    is_attack_unit(): consider actions.

    A unit may be unable to perform an attack action because no action enabler
    enables it even if at has a non zero attack.

    See hrm Bug #877476

commit d8212547496c587dfd252684e413dd197f431320
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 12 14:37:02 2020 +0200

    utype_is_cityfounder() by action result.

    See hrm Feature #877475

commit 3bac8361cd94257c8ff835aca446a5928e252c3e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 12 12:49:44 2020 +0200

    pf_tools: shorten spy action detection.

    Identify spy actions with aia_utype_is_considered_spy() in
    pft_enable_default_actions().

    See hrm Feature #877469

commit 4f42030823cb00dafe0335baeeb796d28c257930
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 12 12:08:14 2020 +0200

    Caravan classification to aiactions.

    Factor out classification of unit type as a Caravan based on the actions it
    can perform to the new functions aia_utype_is_considered_caravan_trade()
    and aia_utype_is_considered_caravan().

    See hrm Feature #877466

commit c9cc3cbbfb709008bcd7e93b9d121910d4cf92b7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 12 11:59:50 2020 +0200

    Worker classification to aiactions.

    Factor out classification of unit type as a Worker based on the actions it
    can perform to the new function aia_utype_is_considered_worker().

    See hrm Feature #877464

commit 94e9a5ec5b01c89d00de48b94edb5366092d97d6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 12 11:13:20 2020 +0200

    Introduce the aiactions module.

    Certain reasoning about actions are interesting to path finding and other
    aicore stuff, not just the built in AI modules.

    Introduce aiactions. Factor out classification of unit type as a Spy based
    on the actions it can perform to the new functions
    aia_utype_is_considered_spy_vs_city() and aia_utype_is_considered_spy().

    See hrm Feature #877462

commit 798443b7ce89db3c2dce3dd819f150ac017a7352
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 10 13:42:51 2020 +0300

    Fix api_game_methods.c return types

    Several functions in api_game_methods.c were returning
    in LUASCRIPT_CHECK_STATE() failure cases returning wrong type
    of value. Non-pointer functions were returning NULL, and non-boolean
    functions returning FALSE.

    See hrm Bug #871688

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5f5aad1b8cc6d2fea720e260f8c47944b696f32e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Feb 7 23:44:17 2020 +0100

    sandbox: demonstrate "Spread Plague".

    See hrm Feature #859160

commit c67cb82f51ef5034cc361738ab8ae74946374262
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 11 14:49:03 2020 +0200

    sandox: adjust illness_trade_infection

    Adjust sandox's probability of plague from trade to compensate for it having
    half the amount of possible trade routes compared to experimental.

    See hrm Feature #877397

commit a8e4353a2c571b448c1a8307dc4cf619c1c70552
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 20:43:45 2020 +0200

    Declare "Pillage" a hostile action.

    Freeciv keeps track of if an action should be considered hostile for use by
    internal reasoning like path finding, AI and auto settlers. Declare
    "Pillage" to be a hostile action.

    See hrm Feature #877390

commit 98b8b1e2e7e9cb2b57d0d6b05fa7ec47000b1e35
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 11 13:00:13 2020 +0200

    city_can_be_built_here(): check unit can found.

    Check that a unit passed to city_can_be_built_here() really can perform
    "Found City". Almost all units, non city founder included, are capable of
    performing some action.

    See hrm Bug #877385

commit ed7a20ac9c40e431e88c3ec15f008c92b854dd90
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 25 23:13:16 2020 +0200

    dai_upgrade_units() by action result.

    See hrm Feature #877391

commit 819d35417d2fce9c8ac3cc2fe08d25e3d2f0c24b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 11 12:00:06 2020 +0200

    city_can_be_built_here(): use action result.

    Prepare for a world with more than one city founding action.

    See hrm Feature #877382

commit fe0dc144d29be0417d4681cf5590ac89794f24b2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 11 10:47:17 2020 +0200

    Get rid of the enum city_build_result.

    Make the function city_build_here_test() about the tile alone and rename it
    city_can_be_built_tile_only(). Move unit checks to city_can_be_built_here().

    See hrm Feature #877376

commit 4be807a5bca5b04fe6b06ae246c23ba16499377a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 11 09:34:17 2020 +0200

    Simplify handle_city_name_suggestion_req().

    All errors are forwarded to illegal_action_msg().

    See hrm Feature #877370

commit 185d9a9e0331d5e699d6ef6b0ac0f9d94c3ad1ec
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 11 09:16:31 2020 +0200

    expl_act_not_enabl(): direct citymindist detect.

    Have the action not enabled explanation for "Found City" use
    citymindist_prevents_city_on_tile() rather than city_build_here_test().

    See hrm Feature #877369

commit 6e6ed6505ae98be12ec6a1f82077bbb6cbd8b331
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 11 08:56:06 2020 +0200

    is_action_possible(): simplify "Found City".

    Stop using city_build_here_test() in is_action_possible(). With the
    requirements of absence of the NoCities terrain flag on the target terrain
    is added to the action enabler only one check from city_build_here_test()
    is needed. Factor it out to citymindist_prevents_city_on_tile() and use it
    directly.

    See hrm Feature #877366

commit 010ee13f21392f5a865fe2212f87f0a86d8540a6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 23 23:13:40 2020 +0300

    Correct "Conquer City" ui_name format string

    Reported by Igx, The Dreaming Drummer

    See hrm Bug #874809

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f708a8c38be174b82cef5a8eff8f6f6f6f82b5be
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 20:43:09 2020 +0200

    ai: assess_danger(): simplify harmless check.

    City conquest and unit attacking are hostile actions. A "civilian" than
    can do hostile actions isn't harmless.

    See hrm Feature #877325

commit 4cc63a8109570f0c20376afb4a40f8580035a83d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 10 11:18:44 2020 +0200

    Update city_production_gets_caravan_shields().

    3.0 allows non wonder city production to receive shields from the
    "Help Wonder" action. Make city_production_gets_caravan_shields()
    aware of this.

    See hrm Bug #877250

commit 960f8de5551be541b6924a976558a75c398668aa
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 10 01:14:52 2020 +0200

    Make the no NoCities flag hard req obligatory.

    The action "Found City" has a hard requirement that the target tile can't
    have the NoCities terrain flag. Make it visible.

    See hrm Feature #877190

commit 8ed128983f69efccba46da8350d819a4ce17e74e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 10 00:12:18 2020 +0200

    Explain illegal because peace with target tile.

    Have the action not enabled explanation system detect when an action is
    illegal because the target tile is foreign and the actor isn't at war with
    its owner.

    Example: Webperimental allows founding a city on an unclaimed tile or on
    an enemy tile.

    See hrm Feature #877189

commit 52cca5e2af6ce23d0d98631c0f9412d500e6dd03
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 23:28:04 2020 +0200

    Explain illegal because foreign target tile.

    Action not enabled explanation for when an action is illegal because the
    target tile is foreign for all tile targeted actions.

    See hrm Feature #877187

commit c7ea93d4004f32a452c9bacb7cb546ae6c43c1ef
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 15:31:47 2020 +0200

    Action reasoning API clean up.

    Rename univs_have_action_enabler() to action_univs_not_blocking(),
    move it to the action reasoning section of the header and have it
    take its action parameter as an action rather than as an action id.

    Remove action_blocked_by_situation_act() and
    action_blocked_by_situation_tgt(). Their intended use cases - if I
    remember correctly - can be covered by action_univs_not_blocking().

    See hrm Feature #877184

commit bc7f0050261d1677bca336178473fea7702fcdc0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 19:33:30 2020 +0200

    advdata: worry about nukes by action result.

    See hrm Feature #877182

commit b9fced8507bd4d69a262ad61ddc2c95bdf21ee10
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 19:02:01 2020 +0200

    Find Manhattan nuke actions by result.

    Find nuclear actions that adds the Manhattan project to the actor unit's
    build requirements by action result.

    See hrm Feature #877181

commit 8844dcffcbab5a653949b2fc7fde39f9feae97f9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 18:46:10 2020 +0200

    Introduce action_list_end().

    See hrm Feature #877180

commit 4bca13fd06253f1f7c4d871b9f0cf315e6c59d62
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 17:15:33 2020 +0200

    helpdata: can convert to by action result.

    Document that a unit type can be obtained by conversion of another unit type
    by action result.

    See hrm Feature #877171

commit 19c4fb60a053f287fa0dc19d8e2641d6ca2db541
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 17:05:20 2020 +0200

    helpdata: pillages extra in action help.

    Mention what extras the extra pillaging action can target under the action's
    section in a unit's help text.

    See hrm Feature #877170

commit 55f76caece55b39b439c6818b969872350c30f81
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 16:56:42 2020 +0200

    helpdata: cleans extra in action help.

    Mention what extras the extra cleaning actions cleans under the action's
    section in a unit's help text.

    Delete the action independent mention from the unit's help text.

    See hrm Feature #877168

commit acc738fd4c57eadb0bd5248ad913ef042622371b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 16:50:30 2020 +0200

    helpdata: builds extra in action help

    Mention what extras the extra creation actions builds under the action's
    section in a unit's help text.

    Delete the action independent mention from the unit's help text.

    See hrm Feature #877166

commit 25cc3b8e8a8f5d8f6f3fedacdbdab7b4139c09b0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 15:51:17 2020 +0200

    helpdata: converts terrain in action help.

    Mention that the terrain conversion actions changes a terrain's type under
    the action's section in a unit's help text.

    Delete the action independent mention from the unit's help text.

    See hrm Feature #877163

commit 07b3ebb8ec6c3b8a24df2d886012de408b0c3357
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 15:46:00 2020 +0200

    helpdata: custom action help by result.

    The additional information given about an action is about its result.

    See hrm Feature #877162

commit 08a3b524de37ef9a0a23a1a478f8f1825a6f56ef
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 14:02:36 2020 +0200

    tilespec: centralize server side agent drawing.

    Always select a unit's server side agent control indicator sprite in the
    same switch statement.

    See hrm Feature #877151

commit d86788e45f6dcd10ec2b7b274294ae3dc5406e25
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 30 16:50:11 2017 +0200

    Won't body guard by action (result).

    A civilian may still have no attack capability.

    See hrm Feature #877147

commit 7b6296fe952c9f1cc2b4008e0100cb54c1fd51db
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 14:32:35 2020 +0200

    Act sub tgt checkers: take action param as action

    Have the action target complexity checker functions action_requires_details()
    and action_has_complex_target() take the action parameter as an action rather
    than as an action id.

    See hrm Feature #877145

commit 5d608c46346f3dd68ebfca8bafffed601dcbbb37
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 9 11:06:34 2020 +0200

    Qt client: Go to and... sub target support.

    See hrm Feature #877098

commit 1299007e88638809a875f2cfe3cdebf966e501ff
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 8 17:03:49 2020 +0200

    ai *_tile_worker_task_select(): keep action.

    Represent the extra removal / creation actions as action rather than as
    activities.

    See hrm Feature #876962

commit 023b77d493b697b54015fc3e5509067780d8fb3c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 8 16:47:29 2020 +0200

    is_extra_*_by_action(): take action as action.

    Have is_extra_caused_by_action() and is_extra_removed_by_action() take
    their action parameter as an action rather than as an activity.

    See hrm Feature #876960

commit c2ec47481c51ea92f6a13ac6e830ea772f5d6082
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 8 15:51:03 2020 +0200

    autosettlers: fill action lists by action result.

    Fill the lists of actions for terrain transformation, extra creation and
    extra removal based on the action result rather than with hard coded action
    numbers.

    See hrm Feature #876952

commit 2f29770d8115128fe60d2d1d26471fcc22d47a78
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 8 15:50:12 2020 +0200

    Introduce action_list_add_all_by_result().

    See hrm Feature #876949

commit 397f4880ea5697698143bd4b86de4131b0af54d2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 8 11:25:17 2020 +0200

    autosettlers: rmextra by action, not by activity.

    Iterate over actions that can remove an extra as actions rather than as
    activities. This makes it like the other similar iterations that iterates
    over actions.

    See hrm Feature #876935

commit 86f9545c349a02a218e87900628fe8fb6d3c3c91
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 8 10:41:11 2020 +0200

    activity time getters: const extra parameter.

    See hrm Feature #876909

commit 823ba253b1852addf57e354ce2cd7afbbdbb28e2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 8 09:22:50 2020 +0200

    action_prob(): custom prob by action result.

    The action specific probability is actually action result specific.

    See hrm Feature #876898

commit e524c11c369a610d2d861340c44cec8634e6d666
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 8 08:48:09 2020 +0200

    Perform actions by result.

    Call action performer by the action's result in unit_perform_action()
    rather than hard coding the action performer for each action id.

    See hrm Feature #876893

commit 205355b7497348afdd8d08bbd259e7226a962fec
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 5 21:51:56 2020 +0200

    Auto explore is a server side agent.

    Put Autoexplore under the general server side agent control system.

    See hrm Feature #876885

commit 7033c3a61361939d7fa39a3b233fcece95ad7863
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 8 01:42:12 2020 +0200

    handle_unit_server_side_agent_set(): generalize.

    Prepare handle_unit_server_side_agent_set() for non auto settler server side
    agents. Factor out unit_server_side_agent_set() so server side AI can avoid
    the having its unit's plans cleared.

    See hrm Feature #876879

commit 45e653061d93f98401d5b8c283969a46bf8924a0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 7 19:59:02 2020 +0200

    client: clear SSA when ordered to perform action.

    The client takes back control from any server side agent controlling a unit
    when it orders it to change activity or changes its orders. Be consistent
    and do the same for orders given via the action selection dialog.

    See hrm Feature #876854

commit 70d532ead1c5360bac4b87dc1e9ed0a49b6a33ba
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 7 20:35:02 2020 +0200

    Remove unit order no SSA side effect.

    Make taking back control from a server side agent on unit order change
    explicit rather than implicit.

    See hrm Feature #876853

commit 7626094445917cd0f47ff468b576a22cbda2ad81
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 7 19:47:46 2020 +0200

    Remove unit activity change no SSA side effect.

    Make taking back control from a server side agent on unit activity change
    explicit rather than implicit.

    See hrm Feature #876842

commit 34bf2665998791de27fcb965c307039607e4dc46
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 7 20:15:08 2020 +0200

    Introduce request_unit_ssa_set().

    See hrm Feature #876850

commit ac84b0b67ab3524c4f6a354fcd23176d51777dd1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 7 19:02:53 2020 +0200

    Don't send unit_change_activity directly.

    Make request_unit_load() and request_unit_unload() use
    request_new_unit_activity_targeted() rather than sending
    packet_unit_change_activity directly.

    This allows request_new_unit_activity_targeted() to intercept their request.

    See hrm Feature #876839

commit feb0ce16c23f51bcae70d4ed160745a3c68ae50d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 7 11:12:44 2020 +0200

    unit_order_list_is_sane(): remove redundant check

    No activity unit order with a sub target remains.

    See hrm Feature #876808

commit edfd70388ef0c6ab6945b26265559e411194b0ff
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 7 12:55:51 2020 +0200

    upgrade_unit_order_targets(): fix action orders.

    A 3.0 action unit order that can appear in the middle of a unit's orders may
    move the actor unit to the target tile or have the actor unit remain at its
    current tile.

    See hrm Bug #876807

commit 4e7c5a701ab762f15728b4ffda7bf98ff149389d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 7 22:48:42 2020 +0200

    Comment fact fix

commit 32ad299efcf20c864894c2d275a0a4b81f2c8f76
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 7 10:43:13 2020 +0200

    Fix outdated unit_order field descriptions.

commit 28f4c1c0807d55aadd1337b2621b95f5e03c9693
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 5 17:02:15 2020 +0200

    clients: support long ranged "Go to and..."

    Make it possible to specify a distant target tile for the action of a goto
    unit order by creating a normal path to the tile the actor unit should act
    from - possibly including waypoints - and pressing 'd' before selecting the
    target tile.

    This could later be extended to allow long range actions like Airlift in the
    middle of a path by having the user press 'd' again rather than clicking on
    the tile to select the target and then continue.

    See hrm Feature #876450

commit 17d0b280ffdfebf5e13278c5d089fd4c0b90a7e5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 5 14:16:09 2020 +0200

    Remove backward compatibility from savegame*.

    Target assignment to a unit's current activity has lived in savegame3 and
    its ancestors for a long time. With post load save game compatibility it can
    move there without breaking save games that used to load in previous
    versions.

    See hrm Feature #876410

commit 963dde5041a2a91de1279a1a169c20f542937529
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 5 13:52:55 2020 +0200

    Dev save compat: rename "Road" to "Build Road".

    The action "Road" was renamed to "Build Road" in hrm Bug #851695. Update
    stored action list in development version save games.

    See hrm Feature #876406

commit 074005d0aa8d5eb0fe6be7970783e040750f697a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 5 12:07:45 2020 +0200

    upgrade_unit_order_targets(): upgrade all orders.

    unit_order_list_is_sane() expects all orders, executed or not, to be sane.

    See hrm Bug #876394

commit 5cb68b00ab4c50778ee6a03d4af2c16326263d28
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 3 23:18:23 2020 +0200

    Unit order execution: deduplicate action/activity

    Don't accept activity orders where an action order would do the same job.
    Simplify execute_orders(). Upgrade save games.

    See hrm Feature #876382

commit 5b2e20161d146f34f22606bc745640dad17c0140
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 5 13:30:05 2020 +0200

    Fix dev compat for unit action order targets.

    The call to upgrade_unit_order_targets() should have been called in
    compat_post_load_dev() but it somehow ended up in compat_load_dev().

    See hrm Bug #876401

commit d1d6761d48d15d86d21408248723dc46b7100a81
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 5 09:33:54 2020 +0200

    Action server side sub target assignment.

    Assign a sub target for actions with a flexible target complexity.

    See hrm Feature #876377

commit 86bee177637737020a3f7b5766ff170122e6f0a3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 3 22:56:02 2020 +0200

    Sanity check action unit order extra is relevant.

    unit_order_list_is_sane() checks that the target extra for extra targeted
    activities are relevant for the activity. Do the same for action orders.

    See hrm Feature #876210

commit e6a95a342afa14abc2283fda6a0410db36be36b7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 3 17:25:12 2020 +0200

    dai_incident(): assert that the scope is handled.

    See hrm Feature #876181

commit fd0504d0c8b78e6211e31acd973fb891ef87f920
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 3 20:26:39 2020 +0200

    GTK clients: Go to and... sub target support.

    See hrm Feature #876178

commit 381d1e24ed62ba7a8cea4284072d7566ccc0b548
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 3 20:24:18 2020 +0200

    GTK clients: recursive menu item remover.

    See hrm Feature #876177

commit 0a0fae9b427292ee847c3b4f40d8f8fcbb88876d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 3 15:05:11 2020 +0200

    goto: use action order in connect.

    See hrm Feature #876154

commit 034fad1930bc31f0f17a5306a96cfca29524f356
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 3 15:55:37 2020 +0200

    Fix the activity action performers.

    The functions unit_activity_handling() and unit_activity_handling_targeted()
    does the wrong thing for actions. They return TRUE even when the activity
    failed to start. They cancel a unit's orders. This is bad when an action
    appears in the middle of a unit order list.

    Split out the parts the action performers can use into static functions.
    Have both the action performers and the unit_activity_handling*() functions
    use them.

    See hrm Bug #876152

commit 2f09cef25b0e881045cabf46757640318f228c7c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 3 15:33:03 2020 +0200

    Use do_action_activity() when no extra target.

    Have unit_perform_action() use the correct action performer for non extra
    targeted activity actions. Add assertions to the action performers to make
    sure that the correct one is called in the future.

    See hrm Feature #876149

commit 69d7d8289b76f9d769dce2aa3f3c948837fc0422
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 3 11:45:15 2020 +0200

    Skip accomplished action extra targeted orders.

    Unit orders activity skips orders removing a non existing extra or creating
    an existing extra. Do the same for action unit orders.

    See hrm Feature #876126

commit a94f32e8d2fc16e74641694a582fde3fd8dee20d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 3 11:28:29 2020 +0200

    Assert that action order has an action.

    See hrm Feature #876123

commit 27f2ba715d6e63ac67a502520f0b771f58a4d9ab
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 3 13:01:27 2020 +0200

    Centralize utype can target extra checks.

    Introduce utype_can_create_extra() and utype_can_remove_extra(). Use them in
    the GTK clients' action selection dialog's target extra selection dialog.

    See hrm Feature #876117

commit bae7a1ad9f99ef5c56d1dbc0465461aaadf43cd8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 3 11:44:35 2020 +0200

    Action creates/removes extra checker functions.

    Introduce the new functions action_creates_extra() and
    action_removes_extra().

    See hrm Feature #876098

commit d3568ce2894ec974867a70182c78c103be9ec443
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 26 12:11:41 2018 +0200

    order_recursive_roads(): check for existing road.

    There is no need to order a road that already is there built.

    See hrm Feature #876088

commit 53587a0afdd8d8ac5675339a0774e6be98dabecd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 27 13:14:33 2020 +0200

    Unit order: support long range action targets.

    Set the target tile as the explicit target of each action. The target is
    still selected at order execution time. This is needed for backwards
    compatibility: existing orders may order a Settler to go and join a city
    that don't exits yet.

    See hrm Feature #876017

commit 722b51bddfc1b30a492cc7eb9c58eb2c4b067138
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 2 08:25:25 2020 +0200

    Make move to ally without questions possible.

    Introduce the new client setting popup_last_move_to_allied. If disabled
    the client will do a regular move into an allied unit or unit stack
    without popping up the action selection dialog even if it can act
    against it.

    See hrm Feature #875939

commit 8dab4d8383582fbeb3ea53599f369b66b79b4c97
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 2 07:13:16 2020 +0200

    savegame2: keep bad unit orders unit a bit longer

    Move the save game loading sanity check and removal of bad unit orders
    to the end of sg_load_sanitycheck(). This allows them to be rescued by
    adjustments in sg_load_post_load_compat() and sg_load_sanitycheck(). The
    tolerance ends with sg_load_sanitycheck().

    This was done for savegame3 in hrm Feature #874189

    See hrm Feature #875937

commit 12c046869da4319ae12c07de9fbb4108fd2df05d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 3 12:27:08 2020 +0200

    Comment clarification for dai_incident_simple()

commit 2831d8cdeea3567c090d9f55449fc8f1655580bf
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 1 23:45:58 2020 +0200

    dai_incident(): differentiate action reaction.

    Having your city investigated is not as infuriating as losing it.

    The handling of the nuclear actions stays the same. The rest are grouped by
    action result and given a badness score from 1 to 10. A badness score of 2
    is about what "Pillage" used to have. A badness score of 5 is what spy
    actions (and all non handled actions) used to have.

    Exceptions to the above is that doing something to a player that causes
    International Outrage doubles the amount of AI love its victim removes and
    that a self targeted action that causes International Outrage removes a
    small amount of AI love.

    See hrm Feature #875910

commit 24fea0a839d8659b5e2a803ac43aae8d4329ba9d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 1 20:39:05 2020 +0200

    dai_incident(): handle international outrage.

    Reuse ai love change values that used to be written by the victim to the ai
    love of other players where those existed. Add a value for international
    outrage caused by pillage.

    See hrm Feature #875899

commit 68be4d3600b0509b57c4f524f20084851e608d5a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 1 12:54:08 2020 +0200

    Start unifying server side agent unit control.

    An agent is an "AI" that the player gives control over an aspect of the game
    to. The agent then plays on the player's behalf. Some agents, like auto
    settler and auto explore, live in the server.

    Standardizing server side agent control allows creating something once and
    getting the benefits for all kinds of server side agents. An example from a
    different domain is how unified action handling allows the auto generated
    "Go to and..." menu.

    Introduce the standard server side agent handling by putting auto settler
    under the general server side agent control system.

    See hrm Feature #750152

commit 10cd2876e395be45bddb9905cb476ec86eccae56
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 1 13:26:39 2020 +0200

    savecompat: upgrade dev suicide attack orders.

    Upgrade the "Attack" order to "Suicide Attack" in saved unit orders for units
    unable to do Attack in older 3.1 development version save games. Upgrade for
    3.0 save games was done in hrm Bug #874169.

    See hrm Feature #875817

commit 86dae9780066ae34c09b579530d5f8e559a89706
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 1 10:19:00 2020 +0200

    Move legacy set activity functions to savecompat.

    The functions set_unit_activity_base() and set_unit_activity_road() are only
    used when loading pre 3.0 save games. Move them to the savecompat module.

    See hrm Feature #875804

commit 52e1ccbdb456fe375bf77d2143b5a8b192972930
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 1 09:34:39 2020 +0200

    ai no bribe handicap by action result.

    Make the AI handicap that prevents it from bribing worker and city founder
    units detect who it can't bribe by looking for the action results of settler
    actions.

    See hrm Feature #875795

commit daa9e4a8215ea5c49f71d184683cb7a35b761dbb
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 1 08:06:08 2020 +0200

    Coding style: change "char* " to "char *"

    See hrm Feature #875775

commit 295f81929b44e610a9c7ec135fbd68ddccd3c6db
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun May 31 02:09:42 2020 +0200

    Check action hard requirements by action result.

    See hrm Feature #875706

commit 3876387cd40f65d209cb8217c27026fe68fa69d7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun May 31 02:16:37 2020 +0200

    Get action battle kind by action result.

    See hrm Feature #875707

commit 93a3ea4e851e05a25f82f4cb0e8590363b9ba917
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun May 31 01:42:08 2020 +0200

    Government action immunity score by action result

    See hrm Feature #875704

commit 31d8337c53789cabddeeab645b9f0654334fd396
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 28 16:34:38 2020 +0200

    ai: diplomatic incident handling API update.

    * Pass action, scope and who the AI controls to the AI.
    * Call each AI's incident handling in call_incident() during international
      outrage. This replaces custom calls to third party AI's for actions
      involving nukes.

    See hrm Feature #875573

commit 1291daecab5745ae2d5c8e88307d1e1b29533958
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat May 30 12:04:00 2020 +0200

    Fix "Help Wonder" and "Recycle Unit" distance.

    Documentation for "Help Wonder" and "Recycle Unit" claimed that max distance
    to target was 1 while also mentioning that max distance to target was ruleset
    settable. The last one is correct. I forgot to update the first one in
    Feature #875249

    See hrm Bug #875668

commit bf98be7433048fad7d0704374598fd5a3a488c57
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 29 12:27:27 2020 +0000

    Initial odds of action dice roll from result.

    Port action_dice_roll_initial_odds() to action_result.

    See hrm Feature #875565

commit c527cb73171f3fb1e73b2f00280e07e6bc3b427f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 28 21:07:12 2020 +0200

    Post activity Casus Belli.

    "Pillage" currently triggers the Casus_Belli_Success effect when the activity
    begins. Introduce Casus_Belli_Complete that it can trigger once the Pillage
    is completed.

    See hrm Feature #875465

commit c8667653c81860006169bbaa89f765a6371d5924
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 28 16:04:47 2020 +0200

    action_to_incident(): port to action result.

    See hrm Feature #875458

commit 61d070bc933e93b3476e45cd531131803a580543
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 28 16:59:47 2020 +0200

    Port obligatory enabler reqs to action result.

    Obligatory hard requirements for action enablers applies because of the action
    performer or other hard coded assumptions in Freeciv, not because of an
    action's action id number.

    See hrm Feature #875445

commit 84941df4fd946e29d834732f2e643c62fa22c6b5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 28 00:12:12 2020 +0200

    helpdata: detect directly if a unit can escape.

    Check that a unit can perform an action with a MAK_ESCAPE and survive rather
    than hard coding each action id that permits escape.

    See hrm Feature #875452

commit 0c6401a4c7b15acb8bf92ebe40cb0dde0ec59c76
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 28 16:25:11 2020 +0200

    Move the enum casus_belli_range to fc_types.h.

    See hrm Feature #875441

commit 872e4d9fdfc760fea037da12a2f481378078ee76
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 28 14:16:52 2020 +0200

    Add the new UnitState property "MovedThisTurn"

    Requested by nef at the Freeciv forum.

    See hrm Feature #875439

commit 07d3edf9f5513232a32d1372709c1f4af4560afa
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 28 00:22:41 2020 +0200

    utype_can_take_over(): check conquer by result.

    See hrm Feature #875314

commit 1e4f4aa281f8e43b55ef255f28a114492505bdaa
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 28 00:01:44 2020 +0200

    ai: check if spy unit by action result.

    See hrm Feature #875313

commit 73741ff26ca048dad8b992d01ce8c6057c32d16e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 27 23:28:25 2020 +0200

    Result utype can do action cache functions.

    Introduce unit_can_do_action_result() and utype_can_do_action_result(). They
    are action result versions of unit_can_do_action() and utype_can_do_action().

    See hrm Feature #875310

commit a40ed6237a338d9d1a7de5f9098b08d3e793f8fe
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Sep 16 14:10:51 2018 +0200

    Adjust action blocking by action result.

    Port the forced action blocking in autoadjust_ruleset_data() to use
    action_result rather than gen_action (action id).

    See hrm Feature #875307

commit 85c2c309b0e1bfb6dee9d188731c036bf6b384b0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 27 20:30:00 2020 +0200

    Split action_result enum from gen_action.

    Split new action result data type from the hard coded action ids in the
    gen_action enum. Only use it in action_has_result() for now.

    See hrm Feature #875306

commit a3a80549f7f3959d752745d5d47152afa9f99622
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 27 18:24:23 2020 +0200

    Fix "Help Wonder" help unit remaining text.

    3.0 lets a ruleset allow "Help Wonder" to help build a unit. But
    build_points_left() only supported calculating it for buildings. This gave
    a bad remaining/surplus value in "Help Wonder"'s user notification text.

    See hrm Bug #875289

commit 1cca0d8d6efb66cbdad40a6b9885fe76a6552da8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 27 16:06:13 2020 +0200

    New utility action_by_result_iterate().

    See hrm Feature #875293

commit 6f1e240345bab6e679e7edf65dfbf2cde25bd0ef
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 27 10:13:30 2020 +0200

    action: store action result in a separate field.

    Fake generalized actions and actions with an escape and a non escape variant
    have the same result. All the differences between them are defined by hard
    coded action data and by the ruleset. Checking action result by action id for
    those means a lot of duplicate code.

    Add the field result to the action struct and network packet. Its data type
    is currently gen_action. The type will change as the generalized action work
    continues.

    Pick one gen_action value as the result number for each group of actions that
    shares the same result. Make action_has_result() assert that the value
    checked for actually is a result.

    Replace multiple calls to action_has_result() that checks for multiple
    actions that has the same result with a single call that checks for the
    result alone.

    See hrm Feature #875279

commit 2a781facdd32d7290a76dd2d3003d8bf5fbc028b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 27 12:25:08 2020 +0200

    "Help Wonder" and "Recycle Unit": rs max distance

    Allow the ruleset to set max range for "Help Wonder" and "Recycle Unit".

    Doing "Recycle Unit" to an adjacent city was made legal for consistency with
    "Help Wonder" in hrm Feature #644449. Make it possible to get the old rule
    back and potentially make "Help Wonder" consistent with it.

    See hrm Feature #875249

commit 972174aba8b96c5d8ba146e2795d568da567dcd5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 27 08:49:14 2020 +0200

    move cost: separate embark from enter city.

    Disembark was separated from leaving port as a part of hrm Feature #848684.
    Keep the move cost the same for both cases.

    See hrm Feature #875245

commit 8278782830bfb8791cda00e01997a48561eb84fc
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 27 07:35:26 2020 +0200

    Remove unused action enablers.

    Remove all action enablers that requires the CanOccupyCity unit class flag
    and unit classes that don't have the CanOccupyCity unit class flag at the
    same time. In alien, civ1 and civ2 the unit class without CanOccupyCity was
    required directly. In civ2civ3, classic, experimental, multiplayer, sandbox
    and webperimental a unit class without CanOccupyCity was required by
    requiring AttFromNonNative - a user unit class flag only given to unit
    classes without CanOccupyCity.

    See hrm Feature #875243

commit 0299bd091088088b86329f650f9b20ba0ed85e00
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 27 11:27:54 2020 +0200

    Clarify can't steal tech while expected.

    The code is full of checks by action result that does the same for the
    version of an actions that always spends the unit as for the version that
    doesn't. This makes programmers read the checks if a unit has a chance to
    steal a tech even when expected as one of those. Rewrite it to make it
    clearer.

    See hrm Feature #875230

commit 451e63c05b200726637b5d6c7963b8be8cdb9a53
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 26 21:53:36 2020 +0200

    README.actions: mention gold theft effects.

    See hrm Feature #875196

commit a860f4a6c2499304ee44e055bec02fa3fd6fea61
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 26 12:42:10 2020 +0200

    Merge help production action performers.

    "Help Wonder" and "Recycle Unit" are extremely similar. A feature added to
    the action performer function of one should probably also be added to the
    action performer of the other.

    Merge unit_do_recycle() and do_unit_help_build_wonder() to the new function
    unit_do_help_build(). This gives "Recycle Unit" notification of city owner
    when receiving help from another player and Casus_Belli_Success support.

    See hrm Feature #875079

commit 1f2e52718d280466407a54d6c4a8a3ffd8616fe5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 25 22:19:24 2020 +0200

    is_action_possible(): avoid action_id_*()

    Use the functions that takes an action directly rather than the macros that
    takes an action id and calls the function with action_by_number(action_id).

    See hrm Feature #875057

commit a3e85c7e0cb81c2d0b5470015c22647e1fed3052
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 25 23:12:31 2020 +0200

    unit_type_upgrade: prepare for an action field.

    Even if PACKET_UNIT_TYPE_UPGRADE isn't made a general mechanism for ordering
    all units of a given type to perform an action generalized actions will make
    it need to specify what upgrade unit action the units should perform.

    See hrm Feature #875054

commit a9afc35974f274b380f6537512381c45591cc55b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 26 03:42:40 2020 +0200

    Fix "Help Wonder" help unit production text.

    The player notification would always try to show the building name of the
    current production. But 3.0 lets a ruleset allow "Help Wonder" to help
    build a unit.

    See hrm Bug #875020

commit f825b6a130ebb28586a579718b5be27bb753370c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat May 23 19:33:02 2020 +0200

    Introduce the Unit_Shield_Value_Pct effect.

    Unhardcode that a unit's shield value is reduced by 50% during the action
    "Recycle Unit" and when calculating unit upgrade cost. Make it possible to
    alter the shield value during "Help Wonder" too.

    My original plan was to make this a unit type and action only effect. Then I
    saw a request from Akechi on the forum to allow taking hit points into
    consideration when calculating "Recycle Unit" shields. Unit_Shield_Value_Pct
    can therefore take unit state when calculating unit shield value for the
    actions "Help Wonder" and "Recycle Unit".

    See hrm Feature #874806

commit db5284a8393bc016272ce25815e433d02f5b7e2e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 25 18:14:12 2020 +0200

    Action not enabled explain missing gold.

    See hrm Feature #874987

commit 95dbf86954e50e161c6ec3485005b077bae74533
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 25 17:30:40 2020 +0200

    do_unit_upgrade(): remove redundant code.

    The action is legal if do_unit_upgrade() is reached. It therefore won't show
    any explanation why the upgrade was illegal. This makes its explanation code
    unused.

    See hrm Feature #874986

commit 1e60ca3aeaea5fa801bf061006cffba1a76ebe58
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 25 15:38:11 2020 +0200

    Pass action to all action performers.

    See hrm Feature #874985

commit 888ce4b49591a51f09dae06e3aadcdea1c82bcc0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 25 16:08:03 2020 +0200

    unit_perform_action(): get activity from action.

    See hrm Feature #874984

commit eea246d10967dca61bcb0c6533b30f9842e99455
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 23 08:00:34 2020 +0300

    Qt: Rename cultivate/plant menu entries depending on target terrain

    See hrm Feature #874755

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5b3084b107a3813c151ac20d6d3f921d9b4f2cb5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat May 23 21:45:58 2020 +0200

    README.actions: document Maps_Stolen_Pct.

    See hrm Feature #874808

commit ba67ec165a62f2de27068912541ee29b1bd55393
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat May 23 19:32:45 2020 +0200

    unit_do_recycle(): add action argument.

    See hrm Feature #874807

commit f8c35b0df45fa5ff44d84fa28f8be005fc3172e2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 21 01:03:22 2020 +0300

    AI: Fix illegal read on EFT_DEFEND_BONUS evaluation with ocean cities

    See hrm Bug #874452

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 90143ca62eed61a3062aaa03cc6a6cb9af029328
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 22 10:16:38 2020 +0200

    act sel dlg: show shields for "Recycle Unit".

    See hrm Feature #874646

commit bb4a62fd3cd1e0079d09d923738e3ad21f3bbc0a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 22 11:47:10 2020 +0200

    act sel dlg: fix shields text for unit production

    3.0 lets a ruleset allow "Help Wonder" to help building a unit.

    See hrm Bug #874648

commit 4b56e6f1ff21c2122e55dcbf12cfa7c0520ae72d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 22 09:10:22 2020 +0200

    Standardize extra action selection dialog info.

    The additional details that appears next to the probability of success on the
    action selection dialog buttons gives action specific information.

    The Qt client and the GTK clients used to show remaining shields of the
    current production for "Help Wonder". The SDL 2 client used to show estimated
    recurring revenue for "Establish Trade Route" and estimated one time bonus
    for "Establish Trade Route" and "Enter Marketplace".

    Have them all show everything.

    See hrm Feature #874621

commit 86001cedb624aa2fb9bd0714d7c2ded1e48336ec
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 22 07:08:52 2020 +0200

    Factor out action_prob_to_text()...

    ...from action_prepare_ui_name().

    See hrm Feature #874620

commit 98a17d04eda438208abda5777dfa55efc367ec07
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 23 02:47:51 2020 +0300

    Gtk: Rename cultivate/plant menu entries depending on target terrain

    See hrm Feature #874754

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f2730fff1d9e6eecf04211da5af4e29156df22b2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 21 00:30:20 2020 +0200

    action_prepare_ui_name(): free chance.

    Reported by Marko Lindqvist

    See hrm Bug #872662

commit 0fd5f1851c28dd1570b5ff3901e5cb6aca7d4467
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 10 10:40:11 2020 +0300

    Granularity: Add Irrigation extra

    See hrm Feature #872584

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 833d1fb14c3a5014bc4eeccfe652f5d9dddf3119
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 19 10:07:12 2020 +0300

    Do end_phase() research updates for alive players only

    See hrm Bug #873692

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1be71432ad5d6f7a9dabb6f0cc20f68023392774
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 3 00:42:27 2020 +0300

    Return FALSE instead of NULL from api_edit_unleash_barbarians()

    See hrm Bug #871686

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 892bdde53447993b1380262991dc6f2adbb1ab4c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 20 09:01:12 2020 +0300

    Gtk: Add the city's size to the Info Panel of the City dialog

    Clenup the field enums while at it.

    Patch by John Robertson

    See hrm Feature #872815

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b3a041b1856773805fa87a0b22ef8e8f870eda32
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 12 22:28:02 2020 +0300

    Autosettlers: Drop code related to terrain changing ACTIVITY_IRRIGATE/_MINE

    See hrm Feature #873056

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d7ff93a63eacc231552bd7a5c296b2db2730ba8c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 22 21:13:19 2020 +0300

    Granularity: Punish production without tools

    See hrm Feature #872582

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 19534aabc919a7b49922b2c8759bdb49bbc2a856
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 20 21:40:06 2020 +0200

    README.actions: document missing "Pillage" reqs.

    See hrm Feature #874445

commit bfb0ee5cb3a6846964111452b7426e8f043898fd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 20 19:19:24 2020 +0200

    Lua script API: add tile owner.

    Export a tile's owner to Lua.

    See hrm Feature #874440

commit b306b97ee8ccc24ee5fa0a0af00bee4157b8dedb
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 20 22:08:32 2020 +0200

    dai_hunter_try_launch(): respect alight rules.

    dai_hunter_try_launch() called unit_transport_unload_send() without checking
    if it was legal.

    Check if "Transport Alight" is legal. Unload with "Transport Alight" if it
    is.

    See hrm Bug #874450

commit 2e85bb236dcf501b9ab15d9b0760b139a5b3a689
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jul 19 15:42:28 2012 +0200

    Retire slow_invasions and BeachLander.

    The slow_invasions rule can now be implemented with the
    Action_Success_Actor_Move_Cost effect, the actions "Transport Disembark",
    "Transport Disembark 2", "Conquer City" and "Conquer City 2". It don't need a
    custom ruleset representation any more. A hard coded representation of it
    could lead to ruleset author confusion.

    Soft code the slow_invasions rule and its BeachLander exception.

    Move the BeachLander unit type flag to the ruleset. Always add it during
    automatic ruleset upgrade no matter if slow_invasions is enabled or not. It
    may have been mentioned even if slow_invasions is off.

    "Transport Disembark" rules in rulesets where slow_invasions was disabled
    should be as before this patch. In rulesets with slow_invasions enabled
    "Transport Disembark" is used for disembarking from a transport on a native
    tile while "Transport Disembark 2" is used for disembarking from a transport
    on a non native tile. The effect Action_Success_Target_Move_Cost is triggered
    by "Transport Disembark 2".

    "Conquer City" and "Conquer City 2" has the same relationship to each other.

    Historical note: I got the idea of actions, the action requirement type and
    action enablers while trying to represent slow_invasions with reusable
    general concepts rather than with a custom ruleset representation.

    See hrm Feature #848684

commit 677fb757ddeaccb3cef45cc076cf753795090f23
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 20 15:16:00 2020 +0200

    ai action selection: improve move cost estimate

    See hrm Feature #874415

commit c62c1b24019473d654faa0ef65962e21518acb83
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 20 14:37:42 2020 +0200

    ai: embark next to an enemy.

    I don't see the point in checking your own movement points after embarking
    when seeking to not end up next to an enemy. What would matter is if the
    transport the unit embarks has moves left and if it intends to move away.
    Just ignore no ending up next to an enemy while embarking for now.

    See hrm Feature #874414

commit 8c9a974244b3a9bea94df8fa89041e381447111f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 20 12:45:34 2020 +0200

    ai: action move cost for not end next to enemy.

    Consider movement cost for the action to perform when seeking to not end up
    next to an enemy without any moves left.

    See hrm Feature #874408

commit f548700fd34330b2b4582cf80fba834cccf96e07
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 20 12:27:32 2020 +0200

    dai_unit_move(): add missing else statement.

    See hrm Bug #874394

commit 8ded52f268af9fb916f8c9b473fb27492be80765
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 20 12:19:15 2020 +0200

    map_move_cost(): check BeachLander.

    See hrm Bug #874392

commit ac158b80160eb788bc76b8756fa143653c426d5a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 19 11:13:51 2020 +0300

    README.effects: Document meaning of value of Airlift effect

    See hrm Bug #874123

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5c5f53237dc2c080bb73eb41740e575aedcfa47e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 13 00:36:30 2020 +0300

    Make lack of format_version field in ruleset an hard error

    See hrm Feature #873068

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e09a1d97a6ad4920d12df65aa6cf11c46959fea9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 7 16:26:55 2020 +0300

    AI: Want units that can occupy already empty enemy city

    High want for unit to occupy enemy city was given only when
    also defenders of the enemy city were about to be attacked.
    This ignored the case where there was no defenders in the
    city to attack against, i.e., when city was empty to begin with.

    See hrm Bug #872220

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit afee50836a456776993a4455830266d4b931a503
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 9 13:58:51 2020 +0300

    Meson: Link executables against ws2_dep

    See hrm Feature #872561

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 19e6d788127934fe548dd8784b242f5cfd1860e5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 11 21:19:24 2020 +0300

    is_build_activity(): Unconditionally return TRUE for irrigate and mine

    ACTIVITY_IRRIGATE and ACTIVITY_MINE are now always extra building
    activities, so no need for the code in is_build_activity() to try
    to determine what they are meant to do in specific case.

    See hrm Feature #872783

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 09ce28a437f7a90b5a65d1f6609ca3fe21cddf3e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 9 14:51:33 2020 +0300

    Granularity: Autobuild Path to city centers

    See hrm Feature #872564

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6593a23a780a2befd321f376d23773b007c8e331
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 12 18:26:06 2020 +0300

    civ2: Add format_version field to effects.ruleset

    See hrm Bug #873040

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 040091dcae9a5f433d807c2b694a198517b6bf5d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 18 23:23:52 2020 +0200

    sandbox: make "Pillage" casus belli.

    See hrm Feature #874199

commit 2deb49b9538db4ce8e815df19795c0154357962b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 18 19:49:29 2020 +0000

    Make Casus_Belli_Success support pillage.

    Requested by Lexxie L

    See hrm Feature #874197

commit 50e29a934fd6d003175448bcc73d984243038c58
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 18 19:27:39 2020 +0200

    free_unit_orders(): set orders.length to 0.

    When a unit don't have orders the length of its orders list is 0.

    See hrm Feature #874191

commit 980de384ba1a68e3be829fa896f6a3a918d36f73
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 18 18:20:44 2020 +0200

    savecompat: upgrade 3.0 building targeted orders.

    Production targeted actions were split from building targeted actions and
    their sub targeted encoding simplified in hrm Feature #852132.

    But "Targeted Sabotage City" and "Targeted Sabotage City Escape" can appear
    in 3.0 savegames as unit orders. Upgrade their target encoding and set the
    correct action.

    See hrm Bug #874174

commit 8509c8f6044045e9d207d4315b5d163a1130d879
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 18 17:37:04 2020 +0000

    savegame3: keep bad unit orders unit a bit longer

    Move the save game loading sanity check and removal of bad unit orders to the
    end of sg_load_sanitycheck(). This allows them to be rescued by adjustments
    in sg_load_post_load_compat() and sg_load_sanitycheck(). The tolerance ends
    with sg_load_sanitycheck().

    See hrm Feature #874189

commit e09e20498be3224198867585eeaa8bc6665850da
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 18 17:35:09 2020 +0200

    savecompat: upgrade 3.0 suicide attack orders.

    The action "Attack" was split in "Suicide Attack" and "Attack" in 3.1.
    Upgrade the "Attack" order to "Suicide Attack" in saved unit orders for units
    unable to do Attack.

    See hrm Bug #874169

commit 4aeebc49b3d24867f8aa57d89bcecfd1113ea94d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jan 15 10:00:08 2019 +0100

    Version specific post load compatibility.

    Some compatibility needs access to game state not available in
    sg_load_compat(). This because the correct thing to upgrade to depends one
    the game state or the ruleset.

    By spreading such compatibility all over the code it becomes difficult to
    identify and remove it once save games from that particular version of
    Freeciv ceases to be supported.

    Introduce sg_load_post_load_compat() so post save game loading
    compatibility can be put in a clearly version specific place.

    See hrm Feature #874159

commit d59dc9acc971052f11b724e1db9fe6658c498f8d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 9 13:29:12 2020 +0300

    Meson: Make fc_ai to depend on verhdr

    See hrm Bug #872560

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fc7f19a899cbb92b6566de768db7b5059dcee57b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 6 19:27:41 2020 +0300

    Granularity: Add Forest

    Remove shield production from Grasslands as Forest now
    provides it.

    See hrm Feature #872127

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 096887da13e9f907427d8010cc43cd600b9614c6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 7 16:13:43 2020 +0300

    Add adv_choice.log_if_chosen debug field

    See hrm Feature #872209

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 34ddb57f8d70be6bb7891df90b5b2874de9b9f2f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 16 08:09:36 2020 +0300

    Namespace tutorial script callbacks

    See hrm Feature #873317

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 891970bb8c1a264883bc108a4f54d118b474e7b8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 15 15:47:08 2020 +0200

    Some action orders should only appear at the end.

    See hrm Feature #873621

commit 6f54f097b43cc8bd100ae5d90049e56d27ba4a4a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 15 14:54:05 2020 +0200

    helpdata: document diplomat post action escape.

    See hrm Feature #873613

commit 0134e8e90534cedc6682bffc2334edef2124d394
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 15 13:54:26 2020 +0200

    Introduce utype_is_unmoved_by_action().

    Make it possible to check if the unit always will remain on its current tile
    after successfully performing an action.

    See hrm Feature #873606

commit c97a0b449c8aed2c88081fd0c861e9f8f09f7123
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 15 13:20:45 2020 +0200

    Make unit actor post action move info data.

    Move information about if and how performing an action will move its actor
    unit from utype_is_moved_to_tgt_by_action() to the new field moves_actor on
    the action structure's unit actor specific part.

    See hrm Feature #873605

commit 0a6ce0b0b3cc2b31c41aff5486b422283ba749fe
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 15 11:24:43 2020 +0200

    action: separate actor kind specific fields.

    Some fields that currently are a part of the action structure is specific to
    actions with a unit actor.

    Introduce an actor kind specific part of the action structure. Move
    rare_pop_up and unitwaittime_controlled to it.

    See hrm Feature #873599

commit b8955f08ab43f5b66e5ec68a08b06ed212063f43
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 14 15:38:24 2020 +0200

    More configurable map theft.

    This was planned as a quick follow up to the introduction of "Steal Maps" but
    was forgotten until I discovered that Lexxie had to manually change the hard
    coded properties in her Freeciv-web instance.

    Introduce the effect Maps_Stolen_Pct. It determines the probability of the
    player successfully doing "Steal Maps" or "Steal Maps Escape" getting the map
    for a tile tile.

    The ruleset setting steal_maps_reveals_all_cities decides if the thief always
    will steal the map of a tile containing a city.

    See hrm Feature #873390

commit cca4c3d5278f52310f3e09186f9234479a722304
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 14 15:11:19 2020 +0200

    give_distorted_map(): take probability as percent

    See hrm Feature #873385

commit d9d54331cdfd96b14c9a88addd118d2c734d7854
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 14 12:45:35 2020 +0200

    Update Action_Odds_Pct documentation.

    List new actions Action_Odds_Pct can change the odds off.

    See hrm Bug #873351

commit 4b2844d5da9b73f661a23b656ff639530c963da4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 2 11:38:24 2020 +0300

    Assert against update_dumb_city() error conditions

    See hrm Feature #871652

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cd121c140c16a9a4735ef440c0b669b6286dde2b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 11 23:12:34 2020 +0300

    Disallow targetless ACTIVITY_IRRIGATE/_MINE

    See hrm Feature #871737

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bbaa0539d410eebb6abb3836cf68da01429ad357
Author: Louis Moureaux <m_louis30@yahoo.com>
Date:   Mon May 4 05:27:31 2020 +0200

    Qt: Add Cultivate/Plant unit activity buttons

    See HRM feature #852844.

commit 16b2b41bf122304287aa5e03644b050df455fc21
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 6 05:59:04 2020 +0300

    Turn "Did not find a cm solution..." logging to warn level

    It has been at error level, causing lots of noise in the logs
    when backtrace logging for errors has been enabled.

    See hrm Feature #871946

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6ebcd9a81911a319342611bbf238efa8dc34a6f8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 10 08:36:54 2020 +0300

    Fix clause section names memory leak on ruleset loading

    See hrm Bug #872581

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ee2629e97092227cb0a1161e0ab65c0c246e04c6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 12 10:24:16 2020 +0200

    Make tile cleaning action enabler controlled.

    Add the new actions "Clean Pollution" and "Clean Fallout" to control them.

    Requested by Marko Lindqvist <cazfi>

    See gna patch #6168
    See hrm Feature #850507

commit 25d7813fa77ccf6db70330fb9b4d2fcd985bbfb9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 12 11:28:43 2020 +0200

    can_remove_extra(): make all parameters const.

    The only remaining non constant parameter was pextra.

    See hrm Feature #872904

commit 50212d23ab1de28f600d2eaaf9c6f8f180a5439c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 12 11:09:30 2020 +0200

    Make the Settlers flag hard req obligatory.

    The actions "Transform Terrain", "Cultivate", "Plant", "Build Road",
    "Build Base", "Build Mine" and "Build Irrigation" has a hard requirement that
    the actor unit has the Settlers unit type flag. Move it from
    action_actor_utype_hard_reqs_ok() to an obligatory hard requirement so it
    becomes visible.

    See hrm Feature #872886

commit 00533d3546475ff6590bcc827d9a4b957f829be3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 11 17:30:32 2020 +0200

    Unify action tile target finders.

    Both unit stack targeted actions and tile targeted actions use a tile to
    specify the target. Eliminate action_tgt_tile_units() and have
    action_tgt_tile() recognize unit stack targeted actions as making the tile a
    valid target.

    See hrm Feature #872861

commit 37e0b5ba4634a8a7dc88427a447c32ea2ad1c607
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 11 16:58:29 2020 +0200

    Simplify interpret move as attempted action.

    A move is sometimes interpreted as trying to perform an action to a target at
    the destination tile. Simplify and improve the documentation of the code in
    unit_move_handling() responsible for this.

    See hrm Feature #872851

commit 75f4c068a2d62c8abeaa444d3bad989510ecd723
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 2 19:55:22 2020 +0300

    Correctly set use_prev_server client option to FALSE instead of NULL

    See hrm Bug #871676

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4b5d08d38f7d6e9f733ff33dab5e2831dbf3dd74
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 2 10:34:10 2020 +0300

    Meson: Add ip_mreqn check

    See hrm Feature #871645

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7204800b238ed11d1efc900e37b23b8ef74d5a9d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 1 18:05:17 2020 +0300

    Drop unused establish_trade_route()

    See hrm Feature #871620

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5de226440199404eb9f572a48ad3ac654ce466e1
Author: Louis Moureaux <m_louis30@yahoo.com>
Date:   Sat May 9 23:02:32 2020 +0200

    Fix crash when setting a rally point out of the map

    See HRM Bug #858746

commit ef372100951ef610eb59a1f12b2d6446e10ae8eb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 12 18:14:37 2020 +0300

    Fix compatibility mode ruleset loading

    See hrm Bug #873037

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 66397335c4ce71fdb3fc0a6e72f10329b63330ba
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 10 21:13:41 2020 +0300

    Add Fortify_Defense_Bonus effect type

    It replaces hardcoded fortifying bonuses.

    Requested by Alexandro Ignatiev

    See hrm Feature #867744

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit db0d74f6a5785e9dd6949ceef018e31bcd3ab2ab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 30 02:13:34 2020 +0300

    gtk3x: Drop popupinfo_positioning_callback()

    See hrm Feature #871438

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3c63474ddb6c6d0f2756bfc764dfce4b7c8d32dc
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 11 15:16:40 2020 +0200

    Comment fact fixes.

    * Starting with 3.0 actions aren't only about special abilities.
    * The unit being marked as wanting an action decision doesn't pop up an
      action selection dialog by itself.
    * The client doesn't always show an action selection dialog in response to
      getting a list of potentially legal actions. The Qt client has default
      actions based on target type.

commit 1bf1cff978fae70c64d2feea64dcf56c36291d60
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 9 11:59:12 2020 +0300

    installer_cross uninstaller: Uninstall generated files

    See hrm Bug #854017

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 51cdcf0fb15aff91c6c3d6286a51f362217ba19d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 5 07:06:29 2020 +0300

    Qt5x-mode: Make Qt-5.14 the minimum requirement

    See hrm Feature #871853

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 96500ef764881ec282ecb4374c5fc97155f58710
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 6 16:26:26 2020 +0300

    Fix helpdlg impr_build_shield_cost() calls with NULL city

    Reported by ZoltÃ¡n Å½arkov

    See hrm Bug #872018

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f6207a324167b1e68253de920e2b5485b3a8d774
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 2 22:15:15 2020 +0300

    get_activity_text(): Return "Mine" as name of ACTIVITY_MINE

    Reported by Jacob Nevins

    See hrm Bug #853128

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c14756a4268a694d9e572cb8cd5ee14cbf15333e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 29 08:12:48 2020 +0300

    Improve combat.h coding style

    See hrm Feature #871315

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fd89941cb325f3fd17d7735d397021a33d174981
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 9 11:08:40 2020 +0300

    installer_cross: Delete also symbolic links in uninstaller

    See hrm Bug #872554

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a91a87c5171d14cbe08675603b75a477be82ff85
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 29 21:40:13 2020 +0300

    Qt: Avoid deprecated QGridLayout::setMargin()

    Replace by QLayout::setContentsMargins()

    See hrm Feature #871406

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f3b55e7209359a80cfe7874eafd6adaac143a76a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 7 16:14:59 2020 +0300

    AI: Handle settler_evaluate_improvements() result as adv_want, not int

    See hrm Bug #872193

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bbeb5021de3a09ec23c53515df624c92f47f64dd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 5 03:45:25 2020 +0300

    Implement impr_estimate_build_shield_cost()

    Requested by ZoltÃ¡n Å½arkov

    See hrm Feature #871844

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7a57cea0673432472946956d9f8c635e9f165da2
Author: Zeko <zeko@freeciv.xyz>
Date:   Tue May 5 13:17:06 2020 -0700

    Set player tile owner whenever tile knowledge is updated

    See hrm #846106

commit 6ba75713619bc469231d81d27900f4a2aa279cb3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 1 12:05:55 2020 +0300

    defense_multiplication(): Rework to take defender unit parameter

    Replace unit_type defender parameter with individual unit parameter.

    See hrm Feature #871170

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5e180318aee69e64144306364fe336d997079211
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue May 5 11:07:06 2020 +0300

    Set GDK_VERSION_MAX_ALLOWED for gtk3.22-client

    Set also GLIB_VERSION_MAX_ALLOWED.

    See hrm Feature #871873

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d8eb8485bd3998c8c033b7da50fb394e653f3a79
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 1 08:09:24 2020 +0300

    Granularity: Add Throne building

    It marks capital city and produces some infra points.

    See hrm Feature #871327

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dc7bc6fe0249221dfee4c5cf50b9fba8171dc670
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 28 23:47:19 2020 +0300

    Rulesave: Save actual terrain_control.pythagorean_diagonal value

    It had hardcoded assumption that when the value is not default, TRUE
    should be saved. That was true for the current value of
    RS_DEFAULT_PYTHAGOREAN_DIAGONAL, but wouldn't adjust to changes in
    default.

    See hrm Bug #871296

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8158f6ceb565b8387b8ceb8036822f0af8fdb9fb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 1 16:54:00 2020 +0300

    reality_check_city() trade partners when trade route established

    Establishing a trade route reveals the partner cities, and their tiles.
    If the partner city is founded on the ruins of a former city that
    is still in player's plrtile, that former city must be cleared out
    by reality_check_city().

    See hrm Bug #871606

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2ecb47522342ff8a324766d78e70b7be7fc073f7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 29 11:23:55 2020 +0300

    Fix get_city_dialog_production_row() assert with NULL city

    Reported by ZoltÃ¡n Å½arkov

    See hrm Bug #870966

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 86dea56b4d01742c0054c526f8b8edfd6acdcc44
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 30 02:07:16 2020 +0300

    gtk3x: Drop gui_dialog_set_default_response()

    It relied on gtk_widget_grab_default() that is gone from gtk-3.96

    See hrm Feature #871437

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9653be808aadbeaa746fc70501ee439fd17a9765
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 29 20:16:25 2020 +0300

    Qt: Set QT_DISABLE_DEPRECATED_BEFORE to match Qt-5.11 in qt5.m4

    Now it's in the same level as our minimum Qt requirement, i.e.,
    the lowest Qt version that we support.
    In qt6.m4 QT_DISABLE_DEPRECATED_BEFORE is set to match Qt-5.12.

    See hrm Feature #871397

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 414794cf4e2d71df6432fb39a0dc488d155b6018
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 29 09:47:24 2020 +0300

    installer_cross: Create ShortCut from Start Menu to doc/freeciv

    See hrm Feature #871326

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f5d51cbc52bf8603956d5b6ea49ceea38f666ef8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 28 03:29:58 2020 +0300

    Meson: Add readline support for server

    See hrm Feature #871153

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 144b1b0d17bcfda9645beaa9c3263f67d0b884ae
Author: Zeko <zeko@freeciv.xyz>
Date:   Wed Oct 2 17:17:00 2019 -0700

    Add server-side CMA

    See hrm feature #839703

commit 9642c624b796d3b26c253f857b76c737f36fc0a2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 29 18:53:46 2020 +0300

    Qt: Replace deprecated QSignalMapper uses with lambdas

    See hrm Feature #869892

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 86c56eb57af73a90dae228c79aa7f7e71990b73d
Author: Louis Moureaux <m_louis30@yahoo.com>
Date:   Mon May 4 07:53:10 2020 +0300

    Add tolua_game to the fcdb lua context

    tolua_game is required to pass the 'player' argument of user_take().

    See hrm Bug #866850

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 11cbde04b425c7d8f7b64ef3365b21039522102b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 2 16:47:35 2020 +0300

    Drop flush_mapcanvas() from gui API

    See hrm Feature #871656

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5f76d68a3509da412eb1adf1da3f22a35343ae41
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 27 04:17:56 2020 +0300

    Update to crosser-1.10

    See hrm Feature #870964

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 435f62788f06a7f3c7726fbcd048c2e335e030cc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 1 09:01:21 2020 +0300

    Add requirement type "Activity"

    See hrm Feature #870905

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e99ec66ad258619b9e349122983b3b58bd7bccc2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 4 13:26:41 2020 +0200

    Don't delete valid action orders with sub target.

    The fix for Bug #856480 was to zealous. It would overwrite valid non extra
    sub targets for action orders.

    Exclude action orders from its default order sub target initialization. All
    possible (and one impossible) action sub target kinds are initialized in the
    action order specific switch statement.

    See hrm Bug #871781

commit f17c4206551d2588eba502e2525812e6cb2ce7d8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 4 11:58:33 2020 +0200

    Make sure initial sub target is invalid.

    IDENTITY_NUMBER_ZERO can be valid for some sub target kinds. Replace it with
    NO_TARGET in simple_action_callback()'s sub target initialization.

    See hrm Feature #871772

commit 11e39ab07b2899e833bb48a920d660de1b5562f6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 4 11:46:07 2020 +0200

    Replace magic number representing no sub target.

    0 is a valid identity for some action or activity sub target kinds. This
    makes IDENTITY_NUMBER_ZERO a bad choise to represent that no sub target is
    set. Up until now it has been represented with the magic number -1.

    Introduce the new macro NO_TARGET to flag that a target or sub target is
    unset. Use it to replace magic -1.

    See hrm Feature #871769

commit 0d87d6cd6f4592b018c058cab291ea2a4dc9e92f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 4 11:15:19 2020 +0200

    savegame3: don't guess order building sub target.

    A bad order building id sub target in a save game would result in it being
    set to 0. 0 is a valid building id. This would change the sub target,
    potentially to something the player absolutely don't wish to target.

    Set a bad sub target to B_LAST so it remains invalid.

    See hrm Bug #871766

commit 0b5e6afaa30f4870a49f4f7e45d7eb20d302622d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 27 13:06:50 2020 +0200

    execute_orders(): assert not ORDER_LAST.

    An order containing ORDER_LAST should never reach execute_orders(). It should
    have been caught while receiving the new unit orders from the client or on
    loading them from a save game.

    See hrm Feature #871751

commit ff4cd22479930b232926518b6ae0d22493247e77
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 29 14:04:36 2020 +0300

    Return boolean from save_action_max_range() as return type indicates

    Return statement was returning 'struct entry *' despite function
    return type being 'bool'.

    See hrm Bug #871347

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 33eb921a81f7eb149d88b718f3b1be5424f2913f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 29 06:48:23 2020 +0300

    Qt: Uncomment Qt version display in build info

    See hrm Feature #871307

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0bb03627aa2a15c9bec9fe8a8e97659177b17b38
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 1 07:56:35 2020 +0300

    Cache if infrapoints are in use in the ruleset

    Store the value in terrain_control. Use that value where appropriate.

    See hrm Feature #871245

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7af6d24c6da124bd4f56e1d7b3c67d69af615344
Author: Zeko <zeko@freeciv.xyz>
Date:   Fri May 1 15:33:39 2020 -0700

    emscripten: Disable SDL2 configure checks

    See hrm #871637

commit 983ca7cf230ebf9b0004334ed3ab6a9fe822613e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 23 12:44:54 2020 +0300

    Drop R. Daniel Markstedt from the list of present administrators

    See hrm Feature #870391

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8317836664c7f436a0c20f4a7d236f246bc7b054
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 27 11:22:36 2020 +0200

    Drop custom non savegame3 order error message.

    Treat them like other letters not representing an order.

    See hrm Feature #871003

commit ac36ae6ec6c6c147e850b9636562c2b5bac1a307
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 27 10:59:37 2020 +0200

    savegame: run unit_order_list_is_sane()

    Make sure that the savegame loading code won't accept any unit orders the
    server wouldn't accept from a client.

    See hrm Feature #871007

commit 965a455d2ae920907b971eb5ea18bb68f588c13d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 27 10:55:37 2020 +0200

    Factor out unit order list sanity checks.

    Move incoming packet unit order list sanity check from create_unit_orders()
    to the new function unit_order_list_is_sane().

    See hrm Feature #871002

commit bd272be63e80cd1f25b84305f0eb041674a2fe37
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 27 09:06:42 2020 +0200

    Simplify order action validation.

    Order validation per action only checks the sub target. Make it per sub
    target kind instead. This way it won't have to be updated each time a new
    action is added.

    See hrm Feature #870994

commit 734a1bf278a5f0489c5988d437103f053179adf3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 27 08:30:18 2020 +0200

    Make it clear that order targets are per order.

    Put target variables inside the loop in execute_orders() to make it obvious
    that they aren't carried over from one order to the next.

    See hrm Feature #870992

commit a306b4dc792d28f7aa2f938b49be2816b3f0f015
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Apr 24 10:25:08 2020 +0200

    aiair: Unhardcode the OneAttack unit type flag.

    See hrm Feature #870986

commit 991628dd12cd002003c270e01750b872280ec82e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 28 19:55:26 2020 +0300

    Change default extra infracost to 0

    See hrm Feature #871246

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9f86af432afdcda6964eac3a5378758848506ff5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 17:53:15 2020 +0300

    emscripten: Disable configure check for zlib

    See hrm Feature #869884

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e5fd61d8d659a821c00e80e28f33721c78369b8e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 25 14:11:02 2020 +0300

    Convert targetless ACTIVITY_IRRIGATE/_MINE to ACTIVITY_CULTIVATE/_PLANT

    When loading savegame, convert targetless ACTIVITY_IRRIGATE and
    ACTIVITY_MINE activities to ACTIVITY_CULTIVATE and ACTIVITY_PLANT
    activities.

    See hrm Feature #870890

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f9cf79a2f575b45194aed8bfc8b157553e181d6f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 29 20:03:41 2020 +0300

    Qt: Avoid using deprecated QDesktopWidget::screenGeometry()

    Replace its uses with QGuiApplication::screens() followed
    by QScreen::availableGeometry()

    See hrm Feature #871396

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit df91eeb4dba536c363209542328272e70b70b64d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 29 09:26:58 2020 +0300

    Msys2: Create ShortCut from Start Menu to doc/freeciv

    See hrm Feature #871297

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ec7a0cd85aab46c84a1dd4da520d24058df0105d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 30 01:48:18 2020 +0300

    gtk3x: Drop set_relative_window_position()

    Global positions related stuff is dropped from gtk-3.96, and
    our set_relative_window_position() can't work, so just drop it.

    See hrm Feature #871436

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9f8b5b02e93a0009a791d44f92995d61b66fe05d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 24 04:28:20 2020 +0300

    Fix caravan_evaluate_withtransit() result setting

    The function was only initializing the result. It didn't pass
    the result pointer to the callback that is supposed to actually
    set it.

    See hrm Bug #870482

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0135db80adcb1fe50e6ad4028c568ab2bb88f078
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 29 12:02:48 2020 +0300

    emscripten: Disable sqlite3 configure check

    See hrm Feature #871336

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7cddb7fdf68bbab89d9d98610b8634cf97b4a161
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 29 07:38:26 2020 +0300

    Bump version number to 3.0.92.1

    Emergency version number part enabled to test it in master.

    See hrm Feature #871311

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7552915f1c37800c009bb81552c65df5e29cc5a7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 28 07:19:05 2020 +0300

    setting_game_restore(): Set FALSE instead of NULL to bool variable

    See hrm Bug #871167

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 138e6642d5d62ad5444fea94c7b13291d93a9007
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 27 06:53:32 2020 +0300

    Meson: Require gtk-3.0 only when really needed

    See hrm Feature #870981

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 42dfb6dc96cbddf8c275753b447f5ee70774651c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 23 16:37:51 2020 +0300

    Granularity: Add basic Path extra

    See hrm Feature #870424

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c90b531c135f8d032044c226bdd76cbd4c67a0f6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 15:36:33 2020 +0300

    gtk3x: Avoid using GtkButtonBox

    See hrm Feature #869872

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0852f46f0e0af85ed1b2e449dfe926706c0d1627
Author: Zeko <zeko@freeciv.xyz>
Date:   Wed Oct 2 17:15:18 2019 -0700

    Add max_growth CMA parameter that selects optimal food surplus

    See hrm feature #839704

commit 4410f3edecc51900749bb40cd461f3578828f6cd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 29 09:41:18 2020 +0300

    Msys1: Create ShortCut from Start Menu to doc/freeciv

    See hrm Feature #871325

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8ee524d22030b72e51527bd03bbbf5fa92ca2086
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 25 12:08:38 2020 +0300

    Meson: Link Windows libfreeciv against ws2_32

    See hrm Feature #870656

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 489a7707bea51b8797519bf70fef8826a6c8b99b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 22 13:10:43 2020 +0300

    Qt: Make mr_idle::callback_list private

    See hrm Feature #870178

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 53d2ac716d188ba068f51b800ebf52f13512b9a7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 24 03:58:33 2020 +0300

    mapimg_colortest(): Fix compiler warning with -O3

    See hrm Bug #870481

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6af3c6131374022e5a4f61a526df742dc2d13d61
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 25 05:39:50 2020 +0300

    emscripten: Disable icu configure check

    See hrm Feature #870642

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 78fb0335800729c928b9ee26825d56731004e195
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 23 16:40:54 2020 +0300

    dai_effect_value(): Rename 'ai' as 'adv'

    See hrm Feature #870420

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3a3b1c41a8bca8d7fabea2b5d9c8bd7313c256be
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 24 00:43:56 2020 +0300

    Granularity: Set city generated border radius

    See hrm Feature #870478

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit abbc7ff40d9687c5007ad0ececf27444349a0160
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 17 16:34:03 2020 +0300

    AI: Divide aisettler boat cost by multiple trips

    When calculating AI settler want, do not weight boat cost equally
    to settler cost. Settler gets used on the mission, boat can make
    multiple trips.

    See hrm Feature #869673

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c1c68212b922de646e4287c584f45280a2114742
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 23 10:10:12 2020 +0300

    Qt: Tell Qt5/Qt5x mode in build info

    See hrm Feature #870334

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dc6c5a304bd571770db0f4860c508c058f9d5319
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 27 02:12:42 2020 +0300

    Make unit_type pointer from unit structure const

    This makes unit_virtual_create(), and recursively everything that
    uses that pointer, to take const unit_type pointer. That is a lot
    of places.
    Since some code is agnostic whether city is producing unit or
    building, also a lot of improvement pointers recursively turn
    to const ones.

    See hrm Feature #870914

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b2684e6018b7d4cc482609eb3ee3f33398fd45c4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 23 16:36:38 2020 +0300

    Add Infra_Points effect type

    See hrm Feature #870421

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 60e8ef0a7bc0e5881ba61e2b1ce6bbf66c29afd0
Author: Adrian Tam <adrian.c.m.tam@gmail.com>
Date:   Sun Apr 26 17:07:11 2020 -0400

    README.effects: CityStatus ranges in correct order

    See hrm Bug #870328

commit 2e2ce4b7a5b38c0915add67ccb974b1fa96f8add
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 22 01:09:55 2020 +0300

    emscripten: Disable fcdb

    See hrm Feature #870131

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 41687437e1b57b16305362605f70b41b85531a58
Author: Zeko <zeko@freeciv.xyz>
Date:   Sun Oct 13 10:47:21 2019 -0700

    Remove nested event loops in Qt client

    See hrm #846914

commit 333ca2024f74037fe333c5e7c64ef67fdeadb669
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 22 04:24:12 2020 +0300

    is_tile_units_in_range(): Rename maxUnits as max_units

    See hrm Feature #870142

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 59a5b8aa8fa15708c21f06cd4e5c11e317ec2a52
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 27 11:39:39 2020 +0200

    Comment fact fix

commit 6e99a7055027a00fb6d9a4d2aaea1ed17278d727
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Apr 24 08:17:57 2020 +0200

    helpdata: unhardcode the OneAttack unit type flag

    See hrm Feature #870554

commit f9dfff47c44b7ce2856e5511380bf83743fc67f5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 22 11:25:44 2020 +0300

    Meson: Define ALWAYS_ROOT for Windows builds

    See hrm Feature #870170

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ce5dbf555222d55ebf5ce2ebebaf28b529f46734
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 22 13:52:11 2020 +0300

    Qt: Fix plrdialog crash when selected player has no research selected

    The crash also required that client is not attached to a player.
    That can happen at least when it's global observer.

    Reported by Chippo Elder

    See hrm Bug #863815

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c79d4699d88b76ef1b3e7b2810156a5b0bdc08b1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 15:33:33 2020 +0300

    gtk3x: Drop remaining gtk_window_set_icon() calls

    Replace them with with gtk_window_set_icon_name()

    See hrm Feature #869871

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5ea4c8d81934763e15a448236b8f61d9a98b2b8d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 23 08:57:07 2020 +0300

    emscripten: Disable libcurl

    See hrm Feature #870324

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6dff51aab91e3600ef16c11f3b0163fc57718675
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 22 16:15:47 2020 +0300

    Fix Qt-client crash on timeout label update

    Qt-client was calling its new turn setup functionality
    from timeout label update if turn number had changed since the
    previous update. Timeout label gets updated at times when
    client state is not suitable for those new turn setup actions,
    sometimes leading to a crash.

    Call Qt-client new turn setup function by generic
    gui interface instead. New callback is added for this goal,
    called from new turn packet handling.

    Crashes reported by Chippo Elder

    See hrm Bug #857974 and Bug #858251

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dc8649c734887edb217229021eedfa7224590d7b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 22 02:57:22 2020 +0300

    Add MinForeignPct requirement type

    Requested by Lexxie L

    See hrm Feature #857904

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6a12af86d9e1cb50c907d5314ddbfec658fa3771
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 16:21:18 2020 +0300

    Granularity: Set base_pollution to -2000

    See hrm Feature #869881

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 698f013a175278ce1423d2ca6444f6ad74885def
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 19 00:14:52 2020 +0300

    Move common stuff from qt5.m4 and qt6.m4 to new qt.m4

    See hrm Feature #853400

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4dd77f7ad1235a834b01677a815da95f260d93e8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 11:24:19 2020 +0300

    Send infra placing finishing turn to client

    See hrm Feature #851869

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3f8e564d9bcbf7d502b7962e2092fdd3faa782ff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 17 05:34:35 2020 +0300

    Drop europe_1901 scenario from git

    See hrm Feature #778686

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 72b2b9839aeaff5178470fc9e77926cfeba2dede
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 22 06:00:21 2020 +0300

    debug.m4: Set always-active compiler flags last, not first

    This way they override other flags that might affect same things.
    Especially this makes specific -Wno-xxx flags to override -Wall, and not
    the other way around.

    This fixes compile with clang-10

    See hrm Bug #868533

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 587185029a2fffaac3f0c0d4f89543f166e976f2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 08:10:58 2020 +0300

    Increase QT_DISABLE_DEPRECATED_BEFORE to match Qt-5.9

    See hrm Feature #869740

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6a2864acb5f0ed6d7be97b7ba9e74b851bce83b0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 14:18:31 2020 +0300

    Update freeciv-mp-gtk3x to gtk-3.98.1 level

    See hrm Feature #869870

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 173303c7d2648453007839a29e3de3d263a57847
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 00:40:08 2020 +0300

    README.effects: Correct typo "MinMoveFargs" as "MinMoveFrags"

    See hrm Bug #869737

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d266c3ee7b34d4a9cb815d37b90560f8ab562f42
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Apr 21 10:34:33 2020 +0200

    Auto document action failed dice roll.

    Requested by Lexxie L and Marko Lindqvist

    See hrm Feature #869739

commit 50d0e3c45ada00fcb70c6df3ad3231eaf6e38e75
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 20 17:42:55 2020 +0200

    Sanity check Action_Odds_Pct effect action.

    Detect attempts to apply the Action_Odds_Pct effect to actions it doesn't
    change the odds of.

    See hrm Feature #870088

commit 30aa9a11434330bb84c32912694bf951f8d19f7f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Apr 21 10:51:24 2020 +0200

    action_dice_roll_odds(): split out initial odds.

    Split what the odds are before the Action_Odds_Pct effect applies to the new
    function action_dice_roll_initial_odds().

    See hrm Feature #870090

commit d2bd5c447af4985cc727d0ee9a980d4a399f7aea
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 20 23:00:58 2020 +0200

    Kill non conquering paradropping to enemy city.

    Paradropping a unit that can't occupy a city to a tile containing an enemy
    city could result in the unit and the city coexisting at the same tile. Solve
    this by killing any non conquering unit that tries to paradrop to a non
    allied city.

    See hrm Bug #870004

commit 79ffdc9c9d1e2ba2bc2b7b7050b78eb08789dfda
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 07:58:19 2020 +0300

    Qt: Avoid deprecated QDateTime::fromTime_t()

    Replace the call with QDateTime::fromSecsSinceEpoch()

    See hrm Bug #852863

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ee29f6fafae9a5b9a2d9c9672d02f697b8d9bf07
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 20 18:06:07 2020 +0200

    do_paradrop(): move seen tile unit unit saver.

    do_paradrop() had a hard requirement that prevented a unit from jumping to
    its death because the target tile contained a unit it couldn't share a tile
    with for diplomatic reasons, except War, when the target tile was seen. Move
    it to "Paradrop Unit"'s hard requirements and action not enabled explanation.

    The remaining unit savers aren't moved yet.

    See hrm Feature #869994

commit 967ccf77d71cfe7972fa77ac3722b570da7d4908
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 22 13:14:35 2020 +0300

    Comment typofix: callabcks -> callbacks

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 21e8f59f4451fed62f24535b0fbbabcb8b5a9c54
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 12:22:29 2020 +0300

    Add emscripten.m4

    From original patch by ZoltÃ¡n Å½arkov

    See hrm Feature #869747

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dfd0c9a397d42780899a10e13b627ecfec2cb036
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 04:55:20 2020 +0300

    Add requirement type CityStatus

    The only supported value for the new CityStatus requirement type
    is "OwnedByOriginal".

    Requested by Lexxie L

    See hrm Feature #858238

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d8a8d573563480ec33da6c0fc815f7643ae6802
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 22:52:21 2020 +0300

    Qt: Avoid division by zero in chatline default_size()

    Reported by Chippo Elder

    See hrm Bug #863839

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8eaa34a03bcd9098c6f827bc5a69eebb78086dcc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 05:36:41 2020 +0300

    Make name_and_sort_items() to work with NULL city

    When there's no city given, the improvement cost it uses is the
    city-agnostic base cost.

    Reported by Chippo Elder

    See hrm Bug #856546

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 123f3a771c877e0bba34cf49799385473d76f426
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 07:01:13 2020 +0300

    Set 1 the minimum value for endturn setting

    See hrm Bug #853060

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit df055e68d419745c4cf71eb538fc522baa23d7ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 16 14:28:37 2020 +0300

    Bump minimum automake requirement to 1.11.4

    See hrm Feature #852669

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1742ee4994cf3715ff6b93be299a99165c9537ff
Author: Zeko <zeko@freecivweb.org>
Date:   Thu Apr 16 23:04:57 2020 +0300

    Add /playernation command for setting nation and leader name

    See hrm feature 768292

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 19021dc6bb03628ed949dd8383e0cf622e94e128
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 17 01:22:59 2020 +0300

    Cleanup effects.c

    See hrm Feature #869621

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5c3029deefd6dd45f337057558694733a2ea488b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 17 04:13:41 2020 +0300

    sdl2: Drop nation legend display from races dialog main view

    Only a couple of words of the legend fit there at best. Sometimes
    it gave an error when even one line did not fit.
    Complete legends are available via right-click dialog.

    Reported by Chippo Elder

    See hrm Bug #858718

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3e21a65d35c2832c0b472791d98448f1b477c03f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 17 03:21:49 2020 +0300

    Make can_unit_survive_at_tile() aware of UTYF_COAST units

    Reported by Jacob Nevins

    See hrm Bug #869622

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9bd7b9efb328ed9b3bb2aa5aaf14dc1a69e8aca5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 16 22:25:26 2020 +0300

    Qt: Cleanup fonts settings

    Patch by Mir3x

    See hrm Feature #772029

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3cabf45164bbf65c912be23a1fc01b9fa8395dc6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 18 22:27:00 2020 +0300

    Comment typofix: numer -> number

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 16073410fa29e4b2f44c9399bdc8eda9aafddde8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 16 14:19:38 2020 +0300

    installer_cross: Create correct freeciv-mp-gtk3.exe link from gtk3.22-installer

    See hrm Bug #854122

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 422198397163eb2f418ef26de3fbe876166bb8ca
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 16 13:22:39 2020 +0300

    Qt: Fix assert failure on research dialog building tooltip

    Reported by Chippo Elder

    See hrm Bug #854917

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eec12b37d4e93620608c36584fce640505ee5028
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 16 09:42:12 2020 +0300

    HACKING: Replace list of --enable-debug set flags with reference to debug.m4

    The list was outdated. Let's not try to maintain it, but tell user
    to check from the master list.

    See hrm Bug #855637

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ecb3c7a9a573a2c3034a45af0266a0ecfeeac77f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 13 09:13:30 2020 +0200

    Separate hard obligatory req message from req.

    Separate the requirement that contradicts an hard obligatory action
    requirement and what action enabler requirement vector to check from the
    error message text when the requirement isn't fulfilled. This gives more
    flexibility in the future.

    See hrm Feature #868958

commit b1c1846a346a873f3690aa171123b493629a6c02
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 13 07:18:08 2020 +0200

    Don't advice using the F3 shortcut in Freeciv-web

    See hrm Feature #868944

commit b5f210b8fd24c67eee2ce23091c5173aa1adb836
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 13 09:51:09 2020 +0200

    do_paradrop(): move seen tile city unit saver.

    do_paradrop() had a hard requirement that prevented a unit from jumping to
    its death because the target tile contained a city it couldn't enter for
    diplomatic reasons when the target tile was seen. Move it to "Paradrop Unit"'s
    hard requirements and action not enabled explanation.

    The remaining unit savers, including the one that does the same but based on
    the player's information about a known but not seen tile, aren't moved yet.

    See hrm Feature #868956

commit d78ea8ac8999e4cebbff73e86529bb8dfbe30c5a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 13 07:49:31 2020 +0200

    do_paradrop(): move seen tile terrain unit saver.

    do_paradrop() had a hard requirement that prevented a unit from jumping to
    its death because of the target tile's terrain when the target tile was seen.
    Move it to "Paradrop Unit"'s hard requirements and action not enabled
    explanation.

    The remaining unit savers, including the one that does the same but based on
    the player's information about a known but not seen tile, aren't moved yet.

    See hrm Feature #868949

commit f9191cce26587f56ef2350f5ee193e98cf903035
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 13 06:30:13 2020 +0200

    Organize do_paradrop() into 3 sections.

    Make do_paradrop() less confusing by organizing it into three sections:
    Requirements that should move to other systems, the landing kills the unit
    and the landing is successful.

    Document some of its problems.

    See hrm Feature #868942

commit 739cdf93e02b77b7ffc3bfdc36920fdd9d1f1e6d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 16 09:10:12 2020 +0300

    Qt: Do not try to show enemy move points

    Reported by Chippo Elder

    See hrm  Bug #857638

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 36bf13872f10af1256138f893bea1c72cc0856b4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 17 01:44:46 2020 +0300

    AI: Want cities more when getting them would mean finishing enemy off

    Add an bonus to city want when the enemy in question has only a couple
    of cities left in total.

    Requested by Anton KÃ¶rbchen

    See hrm Bug #855339

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 453bb069c6342782acdc916082aa2dca21985070
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 16 08:48:29 2020 +0300

    Improve documentation of "Nationality" requirement type

    Requested by Lexxie

    See hrm Bug #857353

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 614dbc82390294d05ff3d49b10e8e0a902b5756d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 15 18:18:03 2020 +0300

    Update gettext bootstrap files to gettext-0.20.2 level

    See hrm Feature #869356

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 028ee1edb2a1aed466970a933cd1b1ba2f92e017
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 15 17:32:18 2020 +0300

    Bump version number of supplied scenarios to 3.0

    Some other minor format updates come with this as this was done
    by using /scensave command of current S3_0 HEAD.

    See hrm Feature #682499

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7a9c67f849b4129ae7be2ecdfd42e7342347cc1b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 16 23:38:40 2020 +0300

    Update comment about raise_chance and work_raise_chance

    Comment claimed that they are not sent to the client, but
    nowadays they are.

    Reported by Sim Sulla in Feature #680052

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7b0fe7e44015be9970abf5af6fa6ab765f9b61f9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 15 20:52:10 2020 +0300

    Comment typofix: evalutaion -> evaluation

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eb1f4210da49b3760599b8ec69cb60a103c7a576
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 13 19:52:21 2020 +0300

    Qt: Extend lifetime of QByteArrays when their data() is later used

    Replace temporary QByteArrays with ones stored in variables so that
    their content returned by data() stays valid as long as its referenced.

    See hrm Bug #859139

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d9c010701fda075d083aea600adade73cef45020
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 12 17:15:01 2020 +0300

    Fix division by zero when transforming unit with zero move_rate

    Reported by soundnfury

    See hrm Bug #868905

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a895bef6b18c2882b2268c0fecca975127a3b7ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 10 15:30:02 2020 +0300

    Improve coding style of the generated code

    See hrm Feature #868649

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 87f4abf81d530b825d0af772d95fd1ea78503e64
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 7 13:22:14 2020 +0300

    Include <QPainterPath> where needed

    This fixes Qt-client build on OpenEmbedded

    See hrm Bug #868060

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit adbeb2be08c745e05593ad6e2858e43bf5a901b0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 6 07:05:09 2020 +0300

    Fix msys Qt-client build

    See hrm Bug #863755

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9417138817eb656e5baa27a9555df85f9d020318
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 13 21:52:01 2020 +0100

    Tolerate multiple CityTile requirements.

    Technically speaking Claimed doesn't contradict Center. Future properties may
    be completely orthogonal to each other. Tolerate multiple CityTile
    requirements to be ready for them.

    See hrm Feature #864838

commit 8f854d380b6bb55cbf3023a8fca494043f066b5c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 13 09:41:32 2020 +0100

    action_dice_roll_odds(): keep odds in range.

    Action_Odds_Pct can modify the odds out of range. Clip them.

    Reported by Lexxie at https://github.com/Lexxie9952/fcw.org-server/commit/d64b010b69a367bc4699b1b38fc5c98b16db044d#diff-b6b1d12fdaa51d2bd5093279d36e2e96R1616

    See hrm Bug #864613

commit 040efa636b574dd25895b727d9fa7925b7b50e5a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 7 19:05:45 2020 +0200

    Update to crosser-1.9

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ac8c35c75065fad713bbec04a9d524e0051c47c9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 14 09:27:39 2020 +0200

    configure.ac: Don't set compiler debug flags for _mkdir() detection

    See hrm Bug #863322

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aafc646b8cc9882d35a72f2f44fd50ac8a7e5878
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 13 13:27:54 2020 +0100

    Centralize diplomatic defender selection.

    Centralize picking the defender for a diplomatic battle in the new function
    get_diplomatic_defender(). The logic is unchanged: the first defender capable
    of diplomatic combat is selected even if the tile may have a better unit to
    defend it.

    See hrm Feature #864663

commit 79582a29c4a98101176fc31692b38c2ebdd34450
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 13 11:16:09 2020 +0100

    Strike building/production: adjust string.

    Refer to action name as "do %s", rather than assuming it has a main-verb-like
    form, when "Surgical Strike Building" and "Surgical Strike Production" fails
    to beat the Action_Odds_Pct odds in the action failed dice roll.

    See hrm Feature #864644

commit 0d1d979b62daef0c3b5353ac2c75f09e4366f912
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 13 03:09:47 2020 +0100

    Show correct name for the Claimed CityTile req.

    Freeciv 2.6 introduced the CityTile value "Claimed" in addition to the old
    value "Center". The function universal_name_translation() assumed that
    CityTile still only could be Center.

    Update universal_name_translation() so it checks the value and returns a
    matching text.

    See hrm Bug #864579

commit 36697f603c7dde48c325ae9b5798b8db6896d3a7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Mar 13 02:30:29 2020 +0100

    Split strike building/production action performer

    The actions "Surgical Strike Building" and "Surgical Strike Production" are
    no longer the same. Give them separate action performers by splitting
    do_unit_strike_city_production() from do_unit_strike_city_building().

    See hrm Feature #864578

commit 662ec5c2ff2055675492a99f3f735796cf2ceda5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Mar 7 17:04:07 2020 +0100

    Add the InNativeExtra unit state property.

    See hrm Feature #854185

commit 1a5aaebb46ba4801ea0b319156e179725bd0f75a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Mar 3 19:52:00 2020 +0100

    Fix Clang 9 warning.

    ../../server/unittools.c:4678:25: error: result of comparison of unsigned enum expression < 0 is always false [-Werror,-Wtautological-unsigned-enum-zero-compare]
        if (orders[i].order < 0 || orders[i].order > ORDER_LAST) {
            ~~~~~~~~~~~~~~~ ^ ~
    1 error generated.

    See hrm Bug #863758

commit 45c8737bdb1f6b09b56bc965c78274eb086205db
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Mar 7 15:21:55 2020 +0000

    Qt: fix "Gold: 178 (+-2)" on turn change display

    See hrm bug #863755.

commit 93ebeb486b3d5ec60a179033e43250a30d64931b
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Mar 7 15:01:38 2020 +0000

    Undefined behaviour in specvec copy when size==0

    Found by UBSan (gcc -fsanitize=undefined), in the context of loading
    classic ruleset specialists' empty reqs vector. Not known to cause
    visible symptoms.

    See hrm bug #863750.

commit d8790db2f3d9ffb11fe6fdc57170f749c32294d5
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Fri Mar 6 09:28:18 2020 +0000

    Fix client out-of-bounds array access on disband

    This would happen whenever ACTION_HELP_WONDER and ACTION_RECYCLE_UNIT
    aren't valid ways to get rid of a unit but ACTION_DISBAND_UNIT is.

    Reported and patch tested by Chippo Elder.

    See hrm bug #859034.

commit 2808dc9267c9650c8932b761060d821b931f246b
Author: Hilde Bye <lagnason@hotmail.com>
Date:   Fri Mar 6 21:05:35 2020 +0100

    Actprob for the action Airlift.

    See hrm 863338

commit 07e9bc3693738f5dcf2d4fd3c3c4e597a4ad2860
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Mar 5 23:06:40 2020 +0100

    No Illegal Action Move Cost for disembarking.

    Disable the Illegal_Action_Move_Cost effect for "Transport Disembark", for
    "Transport Disembark 2" and for "Transport Alight" in all rulesets with the
    effect.

    See hrm Feature #863341

commit 69cf56cda7fca79dc0640af477125bb88a25b2df
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 26 01:05:30 2020 +0100

    Centralize action failed dice roll.

    See hrm Feature #862919

commit 9351ca9f40bb9def9ee5718a4ae050bd7617fd89
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Feb 25 23:19:16 2020 +0000

    Qt: tweak irrigation/mining UI hardcoding

    Similar to how SDL2 client was changed recently.

    See hrm bug #861867.

commit c483db67e23fa7a05a3ee0c412d3d98f51a3f1b9
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Mar 1 16:31:51 2020 +0000

    Gtk3/4: fog_style "Auto" was too dark

    Fix it to (roughly) match what the Gtk2 client had (65% of normal).

    See hrm bug #862511.

commit e60ce5ab1b9b08dc9bea9df7fdc3b7da62d81b3c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Mar 1 00:20:50 2020 +0100

    clients: targeted no longer hides untargeted.

    The untargeted version of an action used to hide the target version in the
    action selection dialog. The untargeted version was selectable from the
    targeted version's target selection dialog.

    Hiding the untarget version made the UI look like before the actions were
    split. It made the code more complex. It made the UI not map 1:1 to the
    ruleset. It hid the UI name of the untargeted version when the targeted
    version was legal. It doesn't always make sense to only expose the
    untargeted version as an option next to the targeted version's targets if
    the targeted and the untargeted version have been made different enough by
    the ruleset. It was inconsistent with showing the production targeted action
    when the targeted building targeted action is enabled.

    Stop hiding the untarget version of an action when the targeted version of
    it is legal too. Do this in all clients. Considering to drop non targets
    from the target selection dialog of targeted actions can be done later (and
    on a per client basis).

    See hrm Feature #862482

commit c3830000985937b9fbde850b78808e507bdd931b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Feb 29 17:56:01 2020 +0100

    SDL 2 client: remove redundant act sel dlg cb.

    Use simple_action_callback() in the action selection dialog where possible.

    Delete all the old action specific action selection dialog callback functions
    that don't do anything simple_action_callback() can't do.

    See hrm Feature #862468

commit 5bcd5263cda45f6c781e5d28731d92c658ff899e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Feb 29 15:23:47 2020 +0100

    SDL 2 act sel dlg: generic call back.

    Add the generic simple_action_callback() to the SDL 2 client and use it as
    default when no call back is specified.

    See hrm Feature #862450

commit 34f8923f5998bfc7931e668547e4ad9623e40388
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Feb 29 16:30:31 2020 +0100

    SDL 2 act sel dlg: pass action id in item ID.

    Pass action id to callback in the SDL 2 client's action selection dialog.

    See hrm Feature #862459

commit 27d463d8ce8a7953f71d8be9ca8fa2f265dfcc7a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Feb 29 13:11:49 2020 +0100

    SDL 2 client act sel dlg: set units target.

    Assuming all units targeted call back functions will look up the tile target
    id while keeping the units target id undefined is a bug waiting to happen.

    See hrm Feature #862448

commit 20e80406d096796191c067e6098f85487b052b7f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Feb 29 13:07:36 2020 +0100

    SDL 2 act sel dlg: store all sub target kinds.

    Make the SDL 2 client action selection dialog store all sub target kinds.
    This prepares it for support for the action selection dialog itself setting
    sub targets for more sub target kinds than extra sub targets.

    See hrm Feature #862431

commit 773df782079830148dde24cfb09d891759e96e39
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Feb 29 01:36:55 2020 +0100

    SDL 2 client: actor ID from standard location.

    Standardize where the action selection dialog's per action callback
    functions gets the actor unit's id. Have the act sel dlg cb functions always
    get actor unit id from pDiplomat_Dlg->actor_unit_id.

    See hrm Feature #862429

commit a93fd2047d30ba64346cede07e92810d77efa961
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Feb 29 13:07:47 2020 +0100

    Qt act sel dlg: store all sub target kinds.

    Make the Qt client action selection dialog store all sub target kinds.
    This prepares it for support for the action selection dialog itself setting
    sub targets for more sub target kinds than extra sub targets.

    See hrm Feature #862433

commit b59a1e8a84dc120f29b434943e02bc6aebe3cca5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Feb 29 12:58:01 2020 +0100

    GTK clients: fix building sub target encoding.

    Actions that could target a city's current production or an improvement in
    the city were split in hrm Feature #852132. But the (currently unused)
    support for specifying a building as sub target in the action selection
    dialog (rather than in a follow up dialog) wasn't updated to the new simple
    encoding of building sub targets. Update it.

    See hrm Bug #862428

commit a32a00e492f9cc7987d9a3257dc8a5c10fd4906d
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Fri Feb 28 18:51:25 2020 +0000

    Updated Spanish translation by Jordi Negrevernis i Font

    msgmerged from S2_6 efeffaba27. Stats on master:
    core: 84%: 6526 translated, 831 fuzzy, 394 untranslated.
    nations: 100%: 1843 translated.
    ruledit: 51%: 57 translated, 25 fuzzy, 29 untranslated.

commit 3cc0a57a2fb4b1760c11197ba0cb7e99034e6d8f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 26 00:42:43 2020 +0100

    Centralize action fail dice roll odds finding.

    Include the diplchance server setting for actions based on it. Then apply the
    Action_Odds_Pct effect.

    See hrm Feature #861876

commit 875eb89465a9c0c9c2d67b257458046b59ed0c24
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 26 00:41:58 2020 +0100

    actions.c: sort imports.

    See hrm Bug #861875

commit 936577c8c5f81a8da5caf4634993903bd3a5b1e0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 25 17:09:14 2020 +0100

    Int server setting value access.

    Add a function that gives access to the value of integer server settings to
    fc_interface. This can be used to check the value of int server settings that
    aren't sent in PACKET_GAME_INFO. Add an int server setting value checker to
    the server_settings module.

    See hrm Feature #861868

commit 55be574cfd8deb8b4be3568647e51a9648728ef3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 24 10:48:49 2020 +0200

    Update msys2 environment to 200224 level

    See hrm Feature #848624

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0e7791b0a7f3cbbec5936fae0804e7aa038437b2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 25 13:40:29 2020 +0100

    Suitcase Nuke: explain why no actprob.

    Document why Suitcase Nuke (/Escape) doesn't have action probability
    calculation in its TODO comment.

    See hrm Feature #861850

commit 27a9eb6ab60b73705ac0758bf3ce1ea858ff1b18
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 25 13:12:24 2020 +0100

    User actions: accommodate Lua dice rolls.

    Explicitly set the action probability of each User Action to not implemented.
    They are owned by the ruleset. The ruleset author should be able to implement
    dice rolls for them in Lua without getting the wrong action probability sent
    to the player.

    See hrm Feature #861829

commit ae422ce44627ead01a5a8ce350427b526147c8c2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 25 14:15:11 2020 +0100

    Action probability for "Poison City".

    Calculate action probability for "Poison City" and for "Poison City Escape".
    Will almost always be unknown because of potential invisible diplomatic
    defenders.

    See hrm Feature #861827

commit c680ad7aef3729cf942235e8e7104ce0159486ae
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 25 14:11:30 2020 +0100

    ap_diplomat_battle(): support unseen defenders.

    Don't assume that all potential diplomatic defenders are visible when
    calculating action probability. This makes it possible to use it in more
    actions without leaking information.

    See hrm Feature #861825

commit ed6f929f6cf17e43c08119b094b3502960c82b3e
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 23 12:39:09 2020 +0000

    SDL2: show turns / result of bases/cleaning

    In the order button tooltips for Fortress, Airbase, Pollution, and
    Fallout, show which extra they would affect and how long it will take to
    complete the activity.

    See hrm feature #861501.

commit 7498077d86d678279cc1d62d6828375936232055
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 23 16:26:51 2020 +0000

    SDL2: remove never-used order tooltip strings

    These were overwritten by context-sensitive strings before anyone could
    see them.

    See hrm bug #861500.

commit 9d0432728c131c17a7ad3ca46ca71cda5ed16878
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 23 12:52:07 2020 +0000

    Remove traces of auto-attack order in SDL2 client

    This was functionally dead code.

    See hrm bug #861499.

commit e8d9f1ed5646dfd2c53b931de920a20488d09c1d
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 23 16:30:10 2020 +0000

    SDL2 order button turn estimates were very wrong

    The time to completion reported in the tooltip on buttons like
    irrigation did not take into account unit activity rate, so were too
    pessimistic by at least ACTIVITY_FACTOR (10x).

    (This change adds a general function turns_to_activity_done() which
    accurately calculates how long an activity would take to complete if a
    given unit were to start work on it now.)

    See hrm bug #861460.

commit 493bbf73c648eefe7596b5b929e7d809e111abc6
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 23 15:10:09 2020 +0000

    Fix middle-click popup for some complex rulesets

    In a hypothetical custom ruleset where different activities could cause
    creation or removal of a single extra, the middle-click tile info popup
    got very confused about the activities and their completion time if
    those two activities were ongoing on a tile simultaneously.

    Also, split out the turn calculation to a separate function, as I'm
    about to need it for something else.

    See hrm bug #861509.

commit 78d0025dab106e86a31d482257362044a8c20350
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 23 14:48:28 2020 +0000

    Don't prevent pillaging of non-infra extras

    It was possible to give extras with cause "Pollution", "Fallout",
    "Appear", "Hut", or "Resource" an rmcauses of "Pillage" in a custom
    ruleset, but actually issuing a pillage order did nothing.

    See hrm bug #861508.

commit 86c62eb8242d4fe1b57a14c1877d715e1b3b3bc6
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 23 10:59:10 2020 +0000

    Improve SDL2 mining/irrigation UI hardcoding

    It still has some hardcoding that works best with rulesets like
    'classic', but it should adapt a bit better to different rulesets now.

    See hrm feature #861498.

commit c8881b85d6911270d1a3f94961bae8ffdd57524f
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 23 13:00:02 2020 +0000

    SDL2: make fortress/airbase keys as documented

    From 2.6, the keys were supposed to become Shift+F/Shift+E respectively.
    Gna patch #5076 claimed to fix this, but it only changed the UI text;
    the actual recognised keyboard shortcuts were still unshifted.

    See hrm bug #861497.

commit f7ab15f392d39602ce3187c7770d5e891cf24137
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 22 15:26:30 2020 +0000

    SDL2: pluralise worklist length message

    See hrm bug #861462.

commit bfd243d1901d05e30fee3a82986b26cc6275f46d
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 22 22:23:44 2020 +0000

    SDL2 climate change icons not updated sometimes

    See hrm bug #861479.

commit f360afb4ed83c10e7993a25418928023758a8ac0
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 22 22:23:19 2020 +0000

    SDL2 worklist UI not reliably refreshed

    See hrm bug #861461.

commit 5c49fa4b0c6ac84b74d6adef10d49a777f5dd410
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 25 13:24:04 2020 +0100

    Strike actions: explain why no actprob.

commit 5fc3a22b3a1681d80c68b9ec0b8f0cf0b78ca239
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 23 01:43:34 2020 +0200

    Fix clang-9 warnings

    This is a port to master from the complete patch for S3_0.
    There might be some master-specific warnings that this does not catch.

    See hrm Bug #859248

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4b29d6320d8f12337a2f25dc0a99eb6b79e6d4ef
Author: Hilde Bye <lagnason@hotmail.com>
Date:   Tue Dec 17 18:55:59 2019 +0100

    Actprob for transport (un/)load actions.

    Add action probability for transport unit entry and exit actions.

    See hrm Feature #852981

commit bc110fd68043ec7cae8ead1c187ec1a2d8dae9e1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Feb 22 23:10:41 2020 +0100

    Travis CI: work around homebrew + Travis issue.

    The Travis OS X builds started to fail because Travis failed to use homebrew
    to install SDL 2. It failed because it couldn't find the bundle command.
    Looks like homebrew renamed it and that Travis didn't update its OS X image.

    The work around is to update homebrew until Travis updates their images.
    Solution found in casconed's comment at
    https://travis-ci.community/t/macos-build-fails-because-of-homebrew-bundle-unknown-command/7296

    See hrm Feature #861472

commit dcaa93b3f905e307763da940ea7e369616471a71
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 22 20:56:36 2020 +0000

    SDL2: explain what a gui_layer is

    And how a widget's coordinates relate to it.

commit 5b2d753174606a0ecdcb699630518bf83338cc4b
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Feb 20 00:44:49 2020 +0000

    Gtk: don't default to merged messages/chat layout

    It's not a very friendly default for new players.

    Gtk3+ can still default to it on first run, if they determine the
    screen to be small. (Like other similar options, any Gtk2 setting is
    ignored on first run, so on this branch we can forget the Gtk2 setting
    and its associated migration code.)

    See hrm feature #860624.

commit 94da0441a68c87bed975e80feea592a696c4bf36
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Feb 20 01:29:13 2020 +0000

    Remove Gtk2 options that aren't migrated to Gtk3+

    The 'fullscreen' and 'small_display_layout' options are deliberately
    ignored when doing the Gtk2->Gtk3 migration, so there is no need to
    retain knowledge of them on this branch, now that it no longer has a
    Gtk2 client.

    See hrm bug #861147.

commit 34410e74af93e5947c8232dc932e8fe79ea17435
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Feb 19 22:58:42 2020 +0000

    Fix comments around gui_gtk_message_chat_location

    I'm not sure whether the comment that these options' default was ignored
    was true when I wrote it in 2010; but it's certainly not true now.

commit 49ac7ca2ee16eace657daf2bf63af848999d6db7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 17 00:29:51 2020 +0200

    fc_version: Separate entering beta mode from releasing beta1

    This is an process documentation update.

    See hrm Feature #860640

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 421f80138528fe23f9d95a530caf31888db32645
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Feb 14 09:07:04 2020 +0100

    Travis CI: configure arguments to separate lines.

    Break up the ../autogen.sh calls so each argument is on a separate line. This
    increases readability and makes travis-build.sh more git blame friendly.

    See hrm Feature #860094

commit 46f22c251d36539d5059bd1876a46dbb024cc9ab
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Feb 13 15:11:59 2020 +0100

    Sanity check actor move cost actions.

    Only units can pay a cost in moves. Verify  that actions required by the
    Action_Success_Actor_Move_Cost have a unit actor.

    See hrm Feature #849882

commit 1a8d9a3958a8118a851d1fea4615b847fe30ebcb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 14 06:07:49 2020 +0200

    Qt: Correct capitalization of the Map Image file name

    See hrm Bug #860076

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8eb918281dd4b73d8aea2122fe4e5b4a455ca914
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Fri Feb 14 22:02:21 2020 +0100

    Updated French translations
    Started coherency check among branches, but too late to make it for 2.6.2 - It will be finished later...
    Also tried to be more consistent with the capitalization policy of the English strings : capitalized unit, tiles & government names.

commit c143df38063763c8765ecae4dac65f007932ad90
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Fri Feb 14 16:22:39 2020 +0500

    Update for Russian translation.

commit 0823ceb315ab83fa14e87cb48fb3d81707516df9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 12 18:56:39 2020 +0100

    "Nuke City" and "Nuke Units": ruleset max range.

    Allow the ruleset to set max range for "Nuke City" and "Nuke Units". This
    makes them consistent with "Explode Nuclear".

    See hrm Feature #859845

commit 207f5617b0a8f7acdb93d708709925c6520cefeb
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 12 18:41:51 2020 +0100

    rulesave: save all var named action properties.

    Save action kind, min range, max range and actor consuming always if a var
    name is defined. It is too easy to forget to add saving by hand.

    Group by action.

    See hrm Feature #859843

commit 14459f564fff7ae9d3fc89bcd5708ae121af2e07
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 14 05:35:26 2020 +0200

    Update Finnish translation

    Merge Sini Ruohomaa's S2_6 update to later branches.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a623e13f5ac5a539c6b90afacc667f4266ceae2e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 12 12:38:18 2020 +0100

    sandbox: demonstrate "Spy Attack".

    See hrm Feature #859809

commit c4142ed6a9c8558d3fdb6878d0f2bb392e5b8ddc
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 12 10:02:18 2020 +0100

    Add the new spy action "Spy Attack".

    Fights a diplomatic battle like when surprised by a diplomatic defender while
    trying to perform another spy action.

    Before gna patch #5300 attempting to bribe or to sabotage a unit capable of
    diplomatic defense would trigger diplomatic combat with no follow up
    action since the actor or the target would be eliminated. Allow rulesets to
    bring this back.

    See hrm Feature #859163

commit 27888e21dc16535dbbb1befae047b3b2dd7dd889
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 12 09:05:34 2020 +0100

    diplomat_infiltrate_tile(): pass defender owner.

    Some action performers may wish to be informed who the owner of the unit that
    defended against its action is.

    See hrm Feature #859794

commit ce59216187a0b7bc9e861a7596345ee9ff1ac90b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 12 08:35:57 2020 +0100

    diplomat_infiltrate_tile() without primary victim

    It is possible to imagine an action without a primary victim player. An
    action targeting a stack of units with different owners is one example.

    Allow using diplomat_infiltrate_tile() in an action without specifying a
    primary victim player.

    See hrm Feature #859778

commit c49feaa380d04d89a683f0940d4787497c1510b9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 12 11:01:28 2020 +0100

    ap_diplomat_battle(): indention fix.

    Fix misleading indention.

    See hrm Bug #859775

commit f568f5bb700de1aa11178991e37898b557cba21c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 12 10:01:06 2020 +0100

    ap_diplomat_battle(): stop assuming unit target.

    Stop assuming that the target kind of the actions ap_diplomat_battle() checks
    the diplomatic battle probability off is individual units.

    See hrm Feature #859761

commit f7827dc24147d99c2b26e0033f7d6e8f1f9cfd99
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 12 08:08:34 2020 +0100

    Auto document diplomat battle of "Spread Plague"

    See hrm Bug #859759

commit af50b285bea1cec8d0633ad0426dc02d8905c0bd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Feb 9 12:06:25 2020 +0100

    Streamline ruleset settable action consuming.

    If an action always will consume its actor can be set in the ruleset for
    some actions. Centralize ruleset variable name.

    See hrm Feature #859740

commit 268986ca6a54566111892288bc9c1cab1c3605c8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 11 18:12:09 2020 +0200

    Update Finnish translation of ruledit domain

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b07320f90acadf2a5a1a7d8cdfa8cb281631499a
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Feb 11 09:59:11 2020 +0000

    Updated Polish translation by Hubert Kowalewski

    merged from S3_0 9316628d76. Stats on master:
    core: 97.9%: 7587 translated, 117 fuzzy, 46 untranslated.
    nations: 100%: 1843 translated.
    ruledit: 86%: 95 translated, 8 fuzzy, 8 untranslated.

    (This fixes the UTF-8 msgid confusion in the previous update.)

commit 86e6459c7de210c5be15f5fc6d456e8e6a548f82
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 9 13:32:17 2020 +0000

    GUI modpack installers: fix message display

    Some messages were allocated on the stack in frontend-independent code
    and being passed to another thread and accessed after they went out of
    scope.

    Reported by Chippo Elder.

    See hrm bug #858823.

commit e412315a9f6759d7fb93d698bfffa91426e0c715
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 8 22:46:35 2020 +0200

    citydlg_common.c: Include stdarg.h

    See hrm Bug #859209

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 222f4d006c6609059e4c1edc7216b6fc88bfb42c
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 8 13:02:31 2020 +0000

    Gtk3+: set size request on unit buttons

    To stop the main view jumping around when the size of the unit stack
    changes (with wide tilesets such as hex ones).

    See hrm bug #858871.

commit 74cb0d3f3931e3b14d4648a9cc880654cbc44845
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Feb 7 19:36:37 2020 +0100

    Add the new spy action "Spread Plague".

    Bio-terrorism. It triggers a plague in the target city artificially. If
    illness_on is FALSE the plague won't spread along trade routes. In that case
    "Spread Plague" becomes like "Poison City" except that the actor unit can get
    caught in a pre action dice roll. (See the diplchance server setting and the
    Action_Odds_Pct effect.) "Poison City" and "Spread Plague" can both be
    stopped by a diplomatic battle.

    This represents relatively low tech bio-weapon usage. Slightly more
    sophisticated than using catapults to sling victims of the bubonic plague
    over the city walls, but not much. I assume that current bio-weapons has
    optional features like limitation of reach by giving the biological agent
    high mortality and quick onset of symptoms, limitation of reach for the
    deadliest parts of the payload by giving those parts a high probability of
    mutating away before the biological agent has time to spread to its creators'
    population, ethnic targeting, and the increase of reach and target population
    panic by making the agent contagious before onset of symptoms, a long
    incubation time and a dramatic way of killing its victims. This action can't
    do that. That would require a system for bio-weapon design (where
    capabilities are chosen), development, testing and spread when released.

    See gna patch #5537
    See hrm Feature #859148

commit 885238643597958aa7176453b4dc92080fdee2d0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 7 21:08:38 2020 +0200

    Qt: Fix heap-use-after-free in nations dialog

    Reported by Chippo Elder

    See hrm Bug #858212

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a8215cd3914ae6e504b108d691a17b982f6d21e9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Feb 6 16:56:56 2020 +0100

    Display airlift capacity in the city dialog.

    Make the Qt client and the GTK clients display the city's current airlifting
    capacity in their city dialog.

    Tested by Chippo Elder

    See hrm Feature #858965

commit 61a80133a7c678ee2245eb5f5a9e9d846c11c91d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Feb 6 18:37:24 2020 +0100

    Comment clarification

commit baf743c87f93c149b0d0aacf404a23831a242290
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 8 18:26:37 2020 +0000

    TRANS comments about leading spaces

commit c9301d462a23d925acad11ca8810b97d74250544
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 27 04:45:53 2020 +0200

    Enable -Wtype-limits in --enable-debug builds

    See hrm Feature #855476

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 18e608c37efc53f4ea997cf6d83e1315487fe15e
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Feb 6 00:52:51 2020 +0000

    Fix player colours when ruleset overrides tileset

    When a ruleset's suggested tileset was accepted (automatically or by the
    user), the parts of the tileset depending on player colours weren't
    reliably being initialised, leading to effects like no visible borders
    and assertion failures when trying to draw them.

    Reported by Chippo Elder.

    See hrm bug #858072.

commit a61897320f3e2c167a363323f7a0e127f25e8997
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 3 01:13:57 2020 +0200

    Do not unqueue mapview updates when tileset is not fully loaded

    Timer initiated unqueue was sometimes crashing in the middle of
    a tileset change.

    Reported by Chippo Elder

    See hrm Bug #858069

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 486bce2328332a95ad8b5e883d273e0ec3ff7edd
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Feb 6 23:49:00 2020 +0000

    Merge current S2_6 en_GB translation

    From b5d01adc0a. Stats on master:
    core: 81%: 6265 translated, 999 fuzzy, 466 untranslated.

commit e4ea7914db4ccc8c928f96229599b87154adcb24
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Feb 3 21:38:16 2020 +0000

    TRANS comment about tileset types

commit 5fa96c064c65cccbaa160c411b141f3332cae7a6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Feb 4 14:36:17 2020 +0100

    Ruleset defined max range for "Airlift Unit".

    Introduce airlift_max_range. Unlimited airlift range may be a bit much in
    some rulesets.

    See hrm Feature #854978

commit 481826d46b628895cbd63f7f16fed76c08cb02a6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jan 10 07:25:47 2020 +0100

    Limit Disrupt Supply Lines targets to land units.

    Limit Sandbox and Webperimental's Disrupt Supply Lines user action to land
    unit targets.

    See hrm Bug #855200

commit f32a2bae0e88f665021b579af12c346b20e86c6d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 3 00:27:59 2020 +0200

    Fix ghost unit issue when unit is loaded to an transport on the same tile

    Reported by Chippo Elder

    See hrm Bug #858214

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3fa205f618b14067c59ad4e5d3dcef37ba370f05
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Feb 3 21:28:39 2020 +0000

    Tweak topology-related strings

    Standardise on "overhead" as terminology for non-iso, non-hex maps; get
    rid of notion of topology 'index', now that setting is a bitfield; etc.

    See hrm bug #858226.

commit 64eb7499d51fddbf41889f430d93c22919636980
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 3 01:08:30 2020 +0200

    Fix error message typo; "reparing" -> "repairing"

    See hrm Bug #858243

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5998d0237f7c0d21aeae919f9fa819be2e67bd33
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 2 16:34:50 2020 +0000

    A few miscellaneous string tweaks

    Including moving toward standardising on referring to action names as
    "do %s", rather than assuming they all have a main-verb-like form.
    ("You're Fired" does not, and "Recycle Unit" is dubious in some
    contexts.)

    See hrm bug #689474.

commit 9673cadface7346cd0f815bd0895a70b3ddb8ea1
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 1 22:24:14 2020 +0000

    Rework GUI option migration

     - Don't try to migrate anything on first run. (This was probably
       harmless, but unnecessary.)

     - On first boot of a client, mark all migrations relevant to it as
       done, so that they can't accidentally trigger on subsequent runs.
       (For instance, if the user explicitly enabled full-screen on first
       run, migrate_options_from_2_5() could clobber it back to FALSE on the
       second run.)

     - Avoid an enabled fullscreen setting from pre-2.6 Gtk2 leaking though
       to Gtk3.x/4; as with migration from 2.6+ Gtk2, we want to start again
       from defaults for this setting.

     - In the Gtk3.22/4 clients, migrate a pre-2.6 fullscreen preference that
       would have affected the pre-2.6 Gtk3 client (if there is no newer
       Gtk3-specific fullscreen preference).

    See hrm bug #858208.

commit 33756f17f9ddecff99647c36e3d2a16374d3568b
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 1 22:23:14 2020 +0000

    Don't migrate small_display_layout Gtk2->Gtk3

    The Gtk3/4 clients may decide to override it to TRUE anyway, but if they
    don't, we don't want a TRUE from Gtk2 leaking through anyway; we want it
    to be freshly evaluated, as for a fresh boot of the Gtk3/4 client(s).
    (The same as the 'fullscreen' setting already is.)

    See hrm bug #765941.

commit 59ff7b4083fab6c480cb7ac45df5213ca0ffbf86
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 1 21:52:08 2020 +0000

    Abolish client_option_adjust_defaults()

    The only client that was using this GUI-independent mechanism was Gtk,
    and it was being called too early to actually work properly for Gtk.

    Remove the nominally client-independent interface, and instead do the
    Gtk adjustments at the same time as option migrations.

    This fixes two problems with the Gtk screen-size-dependent adjustment:
     - It was attempting to determine screen size before gtk_init(),
       which caused a return of 0 (unknown), so it would not actually adjust
       anything.
     - It was adjusting options before the GUI-dependent command-line
       options had been processed, so "-- --resolution" could not affect the
       adjusted behaviour.

    See hrm bug #858203.

commit 11da066462fff362961a511f140eb6bf72ebc390
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 1 21:27:39 2020 +0000

    Gtk: don't default to small screen layout

    Gtk3.x/4 clients will now enable the small layout on first run if they can
    determine that the screen is <1024px high (previously it was the other
    way round).

    Add a bit more logging to the area.

    See hrm feature #858179.

commit ce2bff9ee3c62e0b1ae698af45e5f13d1f70be13
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 1 18:52:17 2020 +0000

    Gtk3.22/4: adapt to screen size

    Enable all the mechanisms that the Gtk3 client has to adapt to screen
    size, using the primary monitor of the default display (if available).

    See hrm feature #858202.

commit 7798ace058c724927ae054e036247825f6698ca7
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 1 21:52:44 2020 +0000

    Treat client rc load failure same as first run

    Since it uses defaults, just the same as when no rc file was found.

    This also applies if a path to a non-existent file was specified with
    the FREECIV_OPT environment variable, causing creation of a fresh one.

    This change has little practical effect right now. It causes the Gtk3
    dynamic option adjustments to be invoked, but they don't actually do
    anything right now. It suppresses some spurious "Migrating [...] from
    freeciv-2.5 options" messages (the actual migration had no effect).

    See hrm bug #857675.

commit e2a2247ed3a6b0dc3cdea306d8005365de47215a
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 2 02:28:07 2020 +0000

    Fix defaults for migration_gtk2/gtk3_from_2_5

    They were swapped. This might have caused a user full-screen preference
    to be clobbered in some obscure sequence of different Gtk client starts
    after upgrading or starting with 2.6+.

    See hrm bug #858207.

commit 6227290d8aab566d434859720dede2204c30b52e
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Dec 29 12:36:55 2019 +0000

    Clarify description of 'mgr_distance' setting

    After reports by Corbeau and Ignatus on the forum.

    See hrm bug #854305.

commit 4b6cb2ce87d52d58fd3156483f838847fefc8a42
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 1 14:40:52 2020 +0000

    Correct help about city defense bonus

    Reported by 'fomalhaut pa', fix suggested by Marko Lindqvist.

    See hrm bug #763061.

commit de9c555f5b829b86aa75117f88cf4899d4f6e15c
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 1 14:26:13 2020 +0000

    Describe worker tasks in online help

    Requested by Marko Lindqvist.

    See hrm feature #657405.

commit 135d43eed02d62a8a14076b663553040d6c4fba2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 10 12:58:47 2020 +0200

    Fix type-limits warnings from report_demographics()

    See hrm Bug #855542

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e17389b201a923309ad65ad660d81c3962f9918d
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 2 15:10:05 2020 +0000

    Add missing toonhex.tilespec to POTFILES

commit f39eef49cc00f6a6e9c8857a6c9c971693870015
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 2 15:08:58 2020 +0000

    Alphabetically sort tilespec files in POTFILES

    No functional change.

commit 951e1d4aa29f0c1a2ab9b39c4e450e97fa746554
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 2 15:17:23 2020 +0000

    Fix toonhex.tilespec for string collection

    Fix 'unterminated character constant' caused by apostrophe in comment.

commit 6f5af46cdf87f6090a8bb3f855504101272e8881
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 2 11:22:15 2020 +0000

    Miscellaneous TRANS comments

commit 240348fc2beb2c07539a39f2410f8f509b7a1f30
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 30 17:45:23 2020 +0200

    qt: Properly NULL-terminate gfx file extension list

    Reported by Chippo Elder

    See hrm Bug #857808

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9a50389cffd6904bfa16b6f4e763cc67d77bd67d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 28 17:59:37 2020 +0200

    gtk3.22/gtk3x: Migrate settings all the way from gtk2-client

    Requested by Jacob Nevins

    See hrm Bug #856682

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ce8d9b396bb881fc921979ae93a802cd3825a6ce
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 27 04:32:46 2020 +0200

    Make tech parasite effect to count teams, not players

    Reported by fomalhaut pa

    Tested by Chippo Elder

    See hrm Bug #817118

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7be357005455ab53e97eb95aa9a196e9fb86aa9e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 11 05:49:20 2020 +0200

    Fix type-limits compiler warnings from log_parse_level_str()

    See hrm Bug #855539

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5c5ef9e34c74083714a025b171a7e0ca428775ef
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jan 26 12:37:39 2020 +0000

    Gtk3.22/4: fix city dialog emergency highlighting

    The red highlighting of things like famine only showed up the first time
    a city dialog was opened.

    The custom style provider continues to exist throughout, but was not
    being associated with the new widgets of city dialogs after the first
    time, so those new widgets' "emergency" style had no effect when applied.

    See hrm bug #856484.

commit 4f9d5c695dcc754166f9f524153d9b028a62a7a2
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 25 14:18:05 2020 +0000

    Qt: use fixed-width font for city dialog popups

    See hrm bug #857341.

commit 9952f52aa7dd0092c749b9f68f40ff7e97c754a9
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 25 22:02:59 2020 +0000

    Qt: take more care over HTML-escaping

    Various ruleset- and user-defined text was being interpreted as
    (Qt) HTML in some contexts without being HTML-escaped.

    This is not a complete fix -- tooltips in particular are still a bit of
    a crapshoot -- but it improves the situation a lot.

    See hrm bug #857342.

commit dafc58729b5f7ac9e9716a3c7a5bb954a52d6fd1
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 25 17:54:08 2020 +0000

    Qt: &-escape ruleset and user text

    Various menus and buttons were letting ampersands in user and ruleset
    text cause unwanted mnemonics.

    See hrm bug #857340.

commit 0cceb917f68df0029f0da24c2a53ea714a7ad817
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 25 20:00:23 2020 +0000

    Escape mnemonics in action UI names

    If a ruleset's action UI name happened to contain a client-specific
    mnemonic character (such as "Steal&Escape" with the Qt client), it could
    cause unwanted mnemonic effects in that client.

    See hrm bug #857339.

commit 1730776a3cedeb0754c2f57a2436f7d4cf261259
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jan 26 00:33:13 2020 +0000

    Sanity check ruleset's unit capacity against cargo

    See hrm feature #857338.

commit 294c1a5c7a7493a2f1cfd33f0c2c1de9de108f72
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jan 26 00:32:26 2020 +0000

    stub/granularity: Generic Ship had no cargo

    See hrm bug #857337.

commit 9d044f6afd1d8adf0c9ee77cce69d2f5a10bb673
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 25 22:19:32 2020 +0000

    Qt nation report showed own gold/gov as unknown

    See hrm bug #857334.

commit 814fe64619f01a5db80e9e5a7b2c5b572bd24d91
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 25 20:52:42 2020 +0000

    Qt client didn't translate nation set descriptions

    See hrm bug #857331.

commit b6bd5b0726aba4edeae1d6211f6db2937a901820
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 25 23:45:44 2020 +0000

    Gtk: fix 'weight' property in tech help

    We were passing a string instead of a number. As well as not giving the
    intended result, this could lead to console messages like
      GLib-GObject-WARNING **: [...] value "-1453617302" of type 'gint' is
        invalid or out of range for property 'weight' of type 'gint'

    Message reported by Chippo Elder.

    See hrm bug #857203.

commit f4d6a83e07e73e893ea5d98f094fc9239226327d
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 25 23:27:14 2020 +0000

    civ2civ3/sandbox: fix Statue of Zeus help

    It wasn't clear that it affects happiness in every city of its owner,
    not just the city containing the wonder.

    Reported by Chippo Elder.

    See hrm bug #856984.

commit 1feefb557e15b58edc548f737bdc678e9879821f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 27 04:24:27 2020 +0200

    Introduce clause_enabled()

    This initial version cares about settings that are constant
    over the game. Many of the potential callers are not ready
    to handle non-constant returns.

    See hrm Feature #768141

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c9cc00e86601dba3c7fa156ca963f2625c54ee4d
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Sun Jan 26 18:14:14 2020 +0100

    Updated French translations
    (headers included)

commit 16948af158ddc56736cc6edd3b5e464a1bf27ce6
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jan 26 13:47:33 2020 +0000

    Merge current S2_6 en_GB translation

    From 53bf835b80. Stats on master:
    core: 81%: 6248 translated, 1008 fuzzy, 472 untranslated.

commit 582c64e8772b5eea90374793979c909e2ec49440
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 25 00:59:09 2020 +0000

    Gtk3.22: shortcuts for musicset selection dialog

    Missed in hrm bug #857082.

    See hrm bug #857239.

commit 2d7e624d07fe635b7d7478815c6bcff3e8c1d1fb
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Jan 14 01:19:29 2020 +0000

    Display city history points per turn in client

    This is now shown in:
     - the city dialog, in the popup sum for "Culture";
     - the city report, on the "History" column.

    See hrm feature #857084.

commit 053d3d08d4d42f40b32beb17bd8efd22c0627b14
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jan 22 21:43:34 2020 +0000

    Add nation history gain per turn to info popup

    This is based on client knowledge only.

    See hrm feature #857083.

commit f48ea47abf8d547e8722852a7cbfbb41dbca5bac
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jan 22 21:47:43 2020 +0000

    Gtk: shortcuts for ruleset-preference dialogs

    Add keyboard Alt-accelerators for the dialogs shown when the ruleset
    wants to override the tileset, soundset, or musicset.

    See hrm feature #857082.

commit dd8d92c7a30c11be1f8bf349eb3077dfb4425f0e
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jan 22 00:46:08 2020 +0000

    Use research_pretty_name() for Lua script API

    Most code describing research groups would return a nation plural for
    1-player teams, but Lua (Player):research_name_translation() would
    return "Team 2". This made the embassy "Team 2 acquired ... from scrolls
    of ancient wisdom" message inconsistent with other research-related
    messages.

    This changes the grammar of what the Lua method returns, so scripts
    which use it need adjusting.

    Reported by Chippo Elder.

    See hrm bug #855670.

commit 85f2c14435b57ff104cac0149fb63bb1c4841369
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Jan 21 23:56:31 2020 +0000

    Always update menus on tech gain/loss

    It was possible for a tech change that granted a new government type not
    to refresh the governments submenu.

    Also add a menus_update() when receiving a player_info packet, on
    general principles.

    Government/tech trouble reported by Chippo Elder.

    See hrm bug #856629.

commit 86c44fe4f79e5c9a85cb64e2bf47109f985d4c38
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Jan 21 22:45:33 2020 +0000

    Goto path waypoints weren't displayed sometimes

    They were only displayed if the tile already had some other path marker
    on it.

    See hrm bug #856946.

commit 36b19949b37722c9d8644513dc8e82ad966b03fa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 10 20:36:28 2020 +0200

    Qt: Don't compare equality to 'true' or 'false'

    See hrm Bug #855482

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 004dac959afaa7940d9f97e40b83c845f2abb3f5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 21 17:50:37 2020 +0200

    msys1: Convert langstat files to ISO-8859-1 when building installer

    This fixes display of name of the language "Norwegian BokmÃ¥l"

    Reported by Jacob Nevins

    See hrm Bug #852637

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 22cfc27434c798ba40c3ec648d9e23f88fd23a10
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 18 17:40:36 2020 +0200

    gtk: Clear citizens icons beyond topmost when refreshing citydlg

    Reported by Chippo Elder

    See hrm Bug #856117

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c15ef7c413c2fe130be599c296bb3e15808cdb4b
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 18 23:07:50 2020 +0000

    Fix uninitialised read when sending city info

    For cities with no rally point, parts of packet_city_info were left
    uninitialised.

    Found by valgrind.

    See hrm bug #856481.

commit 76b9d4998c555690d7bb34a7d77974dad7dc9c0c
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 18 23:06:10 2020 +0000

    Fix uninitialised data loading units from savegame

    For certain orders, sub_target could be left uninitialised, causing
    trouble later when unit info was sent over the network.

    After a report by Chippo Elder.

    See hrm bug #856480.

commit f256b3ab5cf68419db30da60e58e365d06da00c7
Author: Christian Prochaska <cp.ml.freeciv.dev@googlemail.com>
Date:   Mon Jan 20 19:14:48 2020 +0200

    Update msys1 environment (iconv)

    See hrm Bug #852637

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 07203e4c3b8c3fd39fc77963680c33bca7148102
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 18 18:00:38 2020 +0000

    Enable -Wold-style-definition with --enable-debug

    See hrm feature #856477.

commit e99e30595b91a43b2b380ba5a5ba8a5a07eb9a7d
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 18 18:00:28 2020 +0000

    Fix -Wold-style-definition compiler warnings

    See hrm bug #856478.

commit 15fea6a008e63ffeb7a91d9cc326b24487c89e13
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 20 05:07:46 2020 +0200

    Qt: Properly scale multiplier value to display units when opening dialog

    See hrm Bug #855486

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4d978134d0057d517a698d4926ae4f33b3444f5c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 18 10:21:55 2020 +0200

    Fix parsing of per-file debug log levels

    See hrm Bug #855477

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 446cc3998ae1c89ecf06440b25d24d5faca87dce
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Jan 16 01:47:44 2020 +0000

    Rework sum display in city dialog

    Invent a new 'city_sum' facility, that accumulates sum contributors and
    their effects, merges duplicate descriptions, and optionally accounts
    for any discrepancy between the accumulated and 'correct' total.

    Also, the "plague" sum now shows the original size of any bonuses from
    effects (e.g. "Bonus from Aqueduct (-50%)").

    See hrm feature #856260.

commit 3d1da7b8148ed1755785ed17ad057f7cd1a9cf1f
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Dec 29 12:27:50 2019 +0000

    astring: expose varargs method astr_vadd()

    See hrm feature #856256.

commit 910e56f74b0e1301affb5d8f9172accf9f7caaf8
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Jan 14 09:38:36 2020 +0000

    Fix description of "Multicultural" achievement.

    In 55945b78d0 (hrm bug #689474), I erroneously changed rulesets to imply
    that it required multiple nationalities in a single city; but it's
    across an entire nation.

    Update README.achievements to clarify this.

    See hrm bug #855938.

commit 653c930220a4cd1da4744f0bde7da0aa0c8d0559
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 11 05:43:07 2020 +0200

    Disallow negative line numbers in per-file debug log level definitions

    See hrm Feature #855537

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6c934d0c288df27d7c1fdc80ee9b13fa377fd809
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 12 03:39:56 2020 +0200

    CodingStyle: Instruct usage of fc__fallthrough

    See hrm Feature #853526

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9e181103e4ce83b6f3947360863513c8c11c3b4d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 9 07:28:31 2020 +0200

    Fix sign-compare compiler warning from genlist_sort()

    See hrm Bug #855389

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0d40d98b79d49fd05a740d9193ba2f71d3090d0c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 11 11:05:40 2020 +0200

    create-freeciv-gtk-qt-nsi.sh: Drop mention of gtk2 from comment

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 20bb8888329cb6906f280bb62c7d1211a631078c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 9 05:06:22 2020 +0200

    Qt: menus_sensitive(): Add missing break after DISBAND key handling

    See hrm Bug #855366

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c707c35c3e253e89fc4489804fdc0699d7d6d4ec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 9 04:48:07 2020 +0200

    Use fc__fallthrough where needed

    See hrm Feature #854739

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 69099ecbc70f7a10b9f184e1cc1696d527468ce1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 8 16:10:22 2020 +0200

    Qt: Fix nations dialog global observer crash

    Reported by Anton KÃ¶rbchen

    See hrm Bug #855199

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c49d364820f596b286c590255f33c7789095b411
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 1 19:59:17 2020 +0200

    Fix sign-compare compiler warning from log_parse_level_str()

    See hrm Bug #854474

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ab63df8a361be18bfcdb56f1fcb4f7e52c6a39bc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 29 20:13:24 2019 +0200

    ruledit/comments-3.1.txt: Get rid of all tabs

    See hrm Feature #854150

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 09dd3849e155cd0088908e558267672575eb8221
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 29 19:57:46 2019 +0200

    savecompat.c: Rename 'enum entry_type' field 'entry_type' as 'type'

    See hrm Feature #854149

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 72c50d3c76fad3b85979c1cdc17e9937c56c1a73
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 28 14:38:51 2019 +0200

    Travis CI: Meson: Build cli modpack installer

    See hrm Feature #854112

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 01b1492a0f026a66182a3d6cdbf50f68af0d7562
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 1 12:13:51 2020 +0200

    sdl2: Fix assertions when first opening Help Browser

    See hrm Bug #854468

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 44c1f3653c1cb26ee71d51a905cc62c90fd180ee
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Dec 29 01:39:45 2019 +0100

    Ruleset user action demo: "Disrupt Supply Lines".

    Demonstrate how to implement a ruleset defined action in webperimental and
    sandbox by adding the new action "Disrupt Supply Lines". Everything it does
    is done via effects and ruleset variables. Lua is only used to notify the
    players involved. This makes it friendly to the parts of Freeciv that reasons
    about the ruleset.

    "Disrupt Supply Lines" itself takes one whole move from the target unit. The
    price the actor unit pays for this is one move fragment.

    See hrm Feature #852114

commit 8e14bfed7a740b1512cef30249a893162a1030bd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 1 13:29:51 2020 +0200

    tileset_use_preferred_theme(): Fix theme name setting for gtk3x-client

    It was accidentally falling to use sdl2-client theme.

    See hrm Bug #854470

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 969661b8ddce0fa525613cf1331cd854bac260fa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 6 17:38:47 2020 +0200

    gtk3x: Drop remaining gtk_window_set_role() calls

    See hrm Feature #853655

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 157346618f25d6886e4f6b600b06826f1dc0f52b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 31 16:22:30 2019 +0200

    Drop FREECIV_DEV_SAVE_COMPAT_3_0

    See hrm Feature #854449

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eb9c83e92c45afa9710705a43cfd48f5a0044d8b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Jan 4 04:52:54 2020 +0100

    Limit action default target_kind saving.

    Don't save action target_kind for non enabled actions with the default value.
    Save even default value when enabled for the sake of clarity. Save non
    default when not enabled since it is changed and may be wanted for later.

    See hrm Feature #854775

commit 91dc0be0bf8c53e24bf3b30c0ce5e247493130b6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 30 16:32:25 2019 +0200

    Meson: Add 'cacert-path' configure option

    See hrm Feature #854261

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4f1e4098c5fa22b0280016c8f3342f29e277abfd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 30 19:44:42 2019 +0200

    AI: Check migration from cities full migration distance away

    When calculating want for Migration_Pct effect, AI was not
    considering cities far enough as potential migration sources.

    Reported by Jacob Nevins

    See hrm Bug #854301

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f48152bea208391a53234e45d76e92e3d08b1d48
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 1 13:15:15 2020 +0200

    Add missing break to handle_unit_get_actions()

    See hrm Bug #854469

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 613b89294ed84edc994da6e142bbc70361fcefc7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 31 00:27:54 2019 +0200

    Rename entry_type() as entry_type_get()

    See hrm Feature #854095

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ff5266029692fa5cafd78e48777aeb36617e2768
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jan 3 11:09:31 2020 +0100

    Streamline ruleset settable action range.

    The minimum and maximum distance between actor and target can be set in the
    ruleset for some actions. Centralize ruleset variable name and default value
    for those actions.

    See hrm Feature #854686

commit 2f4a87c371b592053e847f14d60d6b17fa6fcf62
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jan 3 08:37:30 2020 +0100

    SQLite3 detection: fix "unary operator expected".

    See hrm Bug #854668

commit 78b9d7d679e6a77e0f4e254cb63febc90fa9124b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 30 22:51:34 2019 +0200

    fill_sprite_array(): Call city_size_get() just once in LAYER_CITY2 handling

    See hrm Feature #854366

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a9e0712842b368f7ea8620a85c01d08a0266ff9f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 4 18:16:59 2020 +0200

    Correct --with-qt5x error message

    It was claiming that Qt6 libraries were looked for, while we
    still look for Qt5 libraries. Make it to say 'Qt5x' libraries.

    See hrm Bug #854021

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit db84ff18914ec039b9d7a52e4d35620cb9b0baa9
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Fri Jan 3 01:18:52 2020 +0000

    Increase MAX_NUM_RULESETS from 16 to 63

    This affects PACKET_RULESET_CHOICES used in single-player setups.

    See hrm feature #854627.

commit 1580358aec7f0a2d421d7249607996c9499393a5
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Fri Jan 3 00:21:17 2020 +0000

    Server: new command '/list rulesets'

    This uses the existing single-player logic to enumerate .serv files
    (which conventionally correspond to rulesets).

    Also, in a single-player setup with very long .serv file names, the
    server no longer sends invalid truncated names to the client (it no
    longer sends such filenames at all).

    See hrm feature #854630.

commit 38c21ab19064f351504cd9d9d30bc5e27f97ef7a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 4 15:48:14 2020 +0200

    ruledit: Add support for --Fatal commandline option

    See hrm Feature #853490

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6efdfd65a355ee2c2bbaec6770f1eba9ff1db314
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Jan 2 21:11:20 2020 +0000

    Server: cope better with failure to load savegame

    Particularly in the common case where the required ruleset is not
    available.

    See hrm bug #854623.

commit 92ba915812ed8cd15448bc16c46a4394d15d0544
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Jan 2 17:12:24 2020 +0000

    Add purpose comment to fc_config.h

    Mainly for the benefit of people who see it in binary distributions like
    the Windows builds.

    (For Meson builds, the same comment goes in freeciv_config.h too, since
    unlike autotools fc_config.h is not a superset of that.)

    See hrm feature #854615.

commit 9689475b4f75cf33d18562635c0a2bfa2e905972
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 28 12:19:09 2019 +0200

    Fix sign-compare compiler warnings from fc_utf8.c

    See hrm Feature #854096

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e7a45eceb13c1e572c3a86aafa147d52481af764
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jan 4 03:05:39 2020 +0200

    core/POTFILES.in: Add gui-qt/themes.cpp

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 08f22727996fc67dfd1702677e008c7c5be6949a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 30 16:06:19 2019 +0200

    Meson: Define FREECIV_MSWINDOWS when building for windows

    See hrm Feature #852980

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8381b065cd8036a65d0d420e4520ccea9f31fe2f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 30 16:01:21 2019 +0200

    sdl2.m4: Correct upstream version number to 2.0.10 in comment

    See hrm Bug #854328

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f6e283b57266a6ae6378d51b3897a880d2d96c1a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 31 16:16:21 2019 +0200

    Bump version number to 3.0.92

    See hrm Feature #854448

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit df0aca876f0e0514d66074800f9e16ffc8ae5e5b
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jan 1 14:03:21 2020 +0000

    Add plague risk to SDL client's city dialog

    See hrm feature #854479.

commit 4e35e927be6d7299d7ae2a0a3303594406e2e803
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jan 1 14:02:44 2020 +0000

    Clarify meaning of "plague risk"

    See hrm feature #854478.

commit 699125aef59fd1377722b047168813efb76aeb04
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jan 1 17:08:57 2020 +0000

    SDL2: fix various input event handling

    Some right/middle-click actions were unavailable, and there may have
    been trouble with finger events.

    See hrm bug #854477.

commit 79a7b25b486244212b44060ae6ccb138e9394116
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jan 1 15:28:52 2020 +0000

    SDL2: many keyboard shortcuts didn't work

    Due to testing SDL_MouseButtonEvent union members without first
    verifying that the event was a SDL_MOUSEBUTTON* event.

    See hrm bug #854476.

commit d9a5a2bef23ab64eb60da02f6fc155efbf88c1bc
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jan 1 17:00:34 2020 +0000

    SDL2: fix crash when editing global worklists

    See hrm bug #854475.

commit 29426ad0eab57edcc06adc48c076b6995e78e3f3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jan 3 10:35:38 2020 +0100

    Comment fact fix

commit 55e307c9d19f8d7ee0d68963d12ca20436f1307a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jan 1 15:26:35 2020 +0100

    Travis CI: build the SDL 2 client on OS X.

    See hrm Feature #854481

commit 039c973009da71b6f5fedb8d36d599c7910099ac
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jan 1 04:01:50 2020 +0100

    Travis CI: OS X build.

    Thanks to Marko Lindqvist for pointing out that I had confused CPPFLAGS for
    CXXFLAGS in an earlier revision of this patch.

    Requested by Marko Lindqvist

    See hrm Task #739973

commit d1bb5ba766c4a9f59e1d2849ea989f2ac1021605
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 30 16:08:26 2019 +0200

    make_dir(): Set null character as '\0', not 0

    See hrm Feature #854295

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ae595a16aa5ffef7c918f385d3b18ad6676ece90
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 3 05:41:59 2020 +0200

    Fix -Wtype-limits compiler warning from strvec_index_valid()

    See hrm Bug #853423

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 05368927a22c3ee48009508eb5006798034a96be
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Dec 31 21:54:25 2019 +0000

    Add README.modpack_installer

    Includes some material from
    <http://www.freeciv.org/wiki/Creating_freeciv-modpack_content>,
    which was mostly written by Marko Lindqvist.

    Also, tweak the modpack installer man page.

    See hrm feature #854464.

commit 77989fa7905cdc941d4f456c4d9224d01cf594e1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 30 16:17:22 2019 +0200

    Add configure option --with-cacert-path

    It replaces old Windows CA cert path hardcoding.

    See hrm Feature #854259

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5f0dadd75da7d386d52ab3d7d1212dba5ce8e802
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 31 16:10:30 2019 +0200

    Guard current dev-save-compat savegame loading with a version check

    See hrm Feature #854447

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 53582f5e89f298721a647eea3b283c0c88ab3ecd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 30 08:47:19 2019 +0200

    Meson: Define FREECIV_HAVE_WINSOCK & FREECIV_HAVE_WINSOCK2 on Windows

    See hrm Feature #854236

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 57d6a0eb39afe98b694113296f5e6d3c4fb806d7
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Thu Jan 2 11:09:15 2020 +0100

    Updated French core translation

commit 0500c95ea1d171e13b64f2a4fb07d5dc1a3e35d9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 30 23:12:31 2019 +0200

    sdl2: Fix how utf8_strlen() detects multibyte characters

    See hrm Bug #854367

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9f84952339cd8bb6d574f2008cfc212aaa65b993
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jan 1 14:27:04 2020 +0000

    Improve comments around Gtk emergency highlighting

commit 64e3c39dc42091f14e22df03db451acb483bd961
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 28 11:47:33 2019 +0200

    Add str_to_uint() implementation

    See hrm Feature #854090

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 60690b60cff6506240f41a69cf663c3dc88ef711
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 23 16:37:58 2019 +0200

    Refactor diplomat_infiltrate_tile() switch to avoid 'default' case

    See hrm Feature #853671

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5372003098cceea2c52f3458d918d3672d81a909
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 28 12:57:59 2019 +0200

    msys2: Clean out 'buildable' targets from the Makefile

    See hrm Feature #854100

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7bc311e3584d0b4e8ef3d82d7868655562011f79
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 29 07:46:15 2019 +0200

    Meson: Add tinycthread to include path

    See hrm Feature #854128

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ec0db36b4303c040dac583ab799f3449158304f2
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Dec 29 14:19:51 2019 +0000

    Add attribute __format_arg__ to Q_() and friends

    This is similar to what _() / gettext() gets as standard, and
    suppresses complaints about using the output of Q_("string") as a
    printf format string when "string" has no format specifiers.

    See hrm bug #854307.

commit 92e94ce6e98bad84830f54dc6a04dcd54b9d7853
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Dec 29 11:07:56 2019 +0000

    The city dialog plague chance popup was misaligned

    See hrm bug #854303.

commit 02d60a0a3dbea77be9ca692096e4c103a586ea27
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 29 12:53:09 2019 +0200

    entry_type(): Return new ENTRY_ILLEGAL value on error

    It was returning -1 despite having unsigned return type.

    See hrm Bug #854093

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6c77abeecda447b120d09273446a4321901a59e9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 28 21:50:03 2019 +0200

    installer_cross: Add freeciv-ruledit.cmd to Qt-client package

    See hrm Bug #854125

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a06a83532ad17f76ce471abf1959a83f7810be33
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 26 06:49:46 2019 +0200

    Explicitly mark fc__fallthrough in research_total_bulbs_required()

    See hrm Bug #853520

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ea2c5990cdee218f2e19d7b4ae56250ace57abea
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 23 07:07:48 2019 +0200

    meson-winbuild.sh: Add EXTRA_CONFIG support

    See hrm Feature #853579

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3856c870deb1656afa499dc5a6a08d486fdc3d14
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 25 16:00:04 2019 +0200

    Fix type-limits compiler warning from dai_reevaluate_building()

    See hrm Bug #853783

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c1757fe95b1ba083164fc450e96573d1b586410b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 28 14:31:23 2019 +0200

    Travis CI: Clean out unneeded python setup

    See hrm Feature #854109

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 81eea895a3ba3555158b3019378a323e5a1e4d8b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 23 15:05:19 2019 +0200

    Improve cm.[ch] Coding Style

    See hrm Feature #853665

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fce7b3f74834e05917a1bf1e9a8e2279fca9c1a8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Dec 28 15:56:32 2019 +0100

    Add 3 blank user actions.

    See hrm Feature #852112

commit 3501f10b3846bbf8de6e947cc5ce0af3dd1d9fb1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Dec 28 22:37:01 2019 +0100

    Send actor_consuming_always to the client.

    Have the client take if an action always will consume the action from the
    server rather than relying on per action hard coding.

    See hrm Feature #854126

commit df9357cdc0f367143f690865a5545c0197f39f12
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Dec 2 21:41:34 2019 +0000

    civ1: Minor help text improvements

    The description of Pollution mentioned Solar Plant, which isn't in the
    civ1 ruleset; plus a few other wording tweaks.

    See hrm bug #854117.

commit 7cb3c4fe2aea0ab66b9199e36dff27576d417b14
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 28 11:23:11 2019 +0200

    Check gcc version to be at least 7 for fc__fallthrough

    See hrm Feature #854081

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 72bcd92a1a2da09a4964d3d7c0e2eab521e32606
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 28 03:51:30 2019 +0200

    Meson: Enable nonblocking sockets support when possible

    See hrm Bug #853446

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c0132d1f50636c99df492bd644f123a0dcac5fa4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 27 15:37:51 2019 +0200

    msys1: Fix https usage

    Reported by ZoltÃ¡n Å½arkov and Jacob Nevins

    See hrm Bug #853960

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 763e8814a830d09c15623a0a04152fe4bbb43fde
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Dec 28 11:35:03 2019 +0000

    civ2civ3: Explain why no farmland on bare desert

    Since the autogenerated help has an inviting button implying that it is
    possible.

    (This commit expands the help for Farmland in some other rulesets too.)

    Reported by user "Voland0" on the forum.

    See hrm bug #854105.

commit 1e411725769d3cbadde404d778837e2337e9a925
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 22 19:35:25 2019 +0200

    Improve adjust_terrain_param() coding style

    See hrm Feature #853554

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d3b2007e67735fa685574601456d95308139e93d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Dec 28 01:01:46 2019 +0100

    sandbox: ICBM with unlimited range.

    Demonstrate ruleset defined action max range for "Explode Nuclear" and the
    special action max range value "unlimited".

    See hrm Feature #854014

commit 9002d0af823a61c0a8c7bc03000041abcd3b3cfb
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Dec 27 23:25:53 2019 +0100

    Fix numeric action_max_range saving.

    See hrm Bug #854012

commit a17cff2f166eaf4c6370da7ac953d1cd3d84903b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Dec 27 22:16:11 2019 +0100

    Ruleset defined max range for "Explode Nuclear".

    Allow ruleset authors to set the max range for the "Explode Nuclear" action.
    This makes it possible to allow nukes to "fly over" walls of units blocking
    the way to a high value target.

    See hrm Feature #854013

commit 00fb6766f9f9bafeba249762d8249ab37773599e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Dec 27 22:05:00 2019 +0100

    Fix action_max_range load error handling.

    The switch() for entry types when loading the "actions.bombard_max_range"
    entry would fall through in error situations to error handling in 'default'.
    This would not work for ENTRY_INT, as it would end up in ENTRY_STR and not
    directly to 'default'.

    Rewrite it with if, else if and else.

    Reported by Marko Lindqvist

    See hrm Bug #853675

commit 9dbdc3233f13d9142d8a68bf7d9fa892d436c492
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Fri Dec 27 19:45:37 2019 +0000

    Gtk: use fixed-width font for city dialog popups

    They were using the style name "city_info_label", which doesn't have a
    corresponding font option, so they were not styled. Changed them to use
    "city_label", a fixed-width font.

    (Also comment that "city_happiness_label" has a similar problem, but I
    haven't done anything about that.)

    See hrm bug #854005.

commit ef841a29671a7085e20b2aecd95bc396c0c793a0
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Fri Dec 27 16:30:21 2019 +0000

    Gtk3.22/4: fix huge detach handles

    The detachable widget handles were far too big. Add some custom CSS to
    shrink them to be comparable to Gtk2.

    The Gtk3.0 client will be covered separately by hrm bug #853912, since
    it turns out to be more complicated.

    See hrm bug #854002.

commit b996a92fef4cf136e12d835fe70ba18d7d6da6f9
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Fri Dec 27 13:46:19 2019 +0000

    Script / rally point fixes at unit build time

     - A unit whose creation disbanded its city now emits the
       "unit_built" signal, and honours city's rally point.
     - Fix trouble in city_build_stuff() if script "unit_built" or
       "unit_cant_be_built" handlers destroyed city.
     - Fix trouble in city_build_unit() for pop_cost units if script
       "city_size_change" handler destroyed city.
     - Fix trouble in rally point code if "unit_built" or
       "city_size_change" destroyed city.

    The precise sequence of events around unit building has changed
    slightly.

    See hrm bug #853935.

commit 5d917139aa6bdefe6bc23908548a83ae539ff5af
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 27 07:51:05 2019 +0200

    msys2: Fix https usage

    Reported by ZoltÃ¡n Å½arkov and Jacob Nevins

    See hrm Bug #833269

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b05ccb3ea498078cd35ee1681a343683ebc2c77f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 25 18:16:25 2019 +0200

    Make position fields in struct inputfile unsigned

    See hrm Feature #853704

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1a14bb0cd71a8737ed686cd75132fbc66d35fffd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 22 08:48:48 2019 +0200

    Add initial version of meson-winbuild.sh

    See hrm Feature #853475

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 48dad32a0fb7a0f3bc5cc6ff10c5dc25d29b950c
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Fri Dec 27 13:17:50 2019 +0000

    Document unit population cost better

     - Add description in online help (helpdata.txt), including the rules
       about disbanding cities
     - Generalise description of CITYO_DISBAND in city options dialog
     - Fix the message emitted when attempting to disband last city

    See hrm bug #853987.

commit 5e48586b133b937d46ce6bcb4f9749f5e0bda9cb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 25 18:14:21 2019 +0200

    mapgen: Do not reduce mountains percentage by steepness^2 factor

    Mountains percentage is kept the same with the default steepness
    value of 30. With values different from that mountains percentage
    changes more logically.

    Reported by Akechi .

    See hrm Bug #767003

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5cf18a07c3222d267b4f41a06ae589acb2ab35e9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Dec 18 00:22:30 2019 +0100

    action_get_sub_target_kind(): error value fix.

    The function action_get_sub_target_kind() is supposed to return an
    action_sub_target_kind. Set it to ASTK_COUNT.

    Reported by Hilde Bye (from a Clang warning)

    See hrm Bug #852987

commit 2062845dcb3a743df133c72242c4ebc6a2edfbd9
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Fri Dec 27 02:06:59 2019 +0000

    Gtk: don't clear worklist source tasks on refresh

    In the Gtk3 clients, this caused the worklist source task viewport to
    scroll around annoyingly on actions like adding an item to the worklist.

    Reported by vla22.

    See hrm bug #706351.

commit c6b4d123f91f82ca2e73c27d0c72d536e87ab334
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 25 18:17:25 2019 +0200

    Fix sign-compare compiler warning at fc_has_capability()

    See hrm Feature #853705

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2ed7abbebe2db9b68bb4be613924fec3319ad859
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Dec 26 14:37:48 2019 +0000

    Gtk3/4: make civ-info-and-units box expand

    This stops the detach handle changing size when the contents change size
    (for instance when switching between unit stacks of different sizes).

    See hrm bug #853923.

commit d89bacf0b0d277cf3d6c99faa396faff3caed931
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Dec 26 12:38:45 2019 +0000

    Gtk3/4: ensure overview etc to left of main map

    With "Arrange widgets for small displays" enabled, the pane containing
    the overview map, civilization status etc would appear to the right of
    the main pane containing the main map view, etc. (Unlike Gtk2.)

    See hrm bug #853922.

commit 43d8d8e224884982ef42574b4935460a2ff36aeb
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Dec 26 13:08:25 2019 +0000

    Gtk3/4: set more GTK_ORIENTATION_VERTICAL

    For some GtkGrids that were GtkVBoxes in the Gtk2 client.
    This has no known functional effect; in practice, I think these VBoxes
    never have more than one child.

    See hrm bug #853921.

commit 3ef30b0d3cedebbb44344b8c7623edd97fbea223
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Dec 26 12:38:14 2019 +0000

    Gtk3/4: fix vote bar location

    The vote bar could be displayed in the wrong location, taking up a lot
    of screen space:
     - If "Arrange widgets for small displays" was set; or
     - If that was unset but "Messages and Chat reports location" = "Merged".

    This was caused by not setting GTK_ORIENTATION_VERTICAL when converting
    some Gtk2 GtkVBoxes to GtkGrids.

    Reported by forum user "RsXT.2" and HRM user "S.C. L."

    See hrm bug #656550.

commit 36db010880162f071238ccb9975c7537a0d6396a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 22 08:15:35 2019 +0200

    Meson: Add support for custom cross-compile include and library prefices

    See hrm Feature #853463

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d347bc21afae95ee4076c3f5567a7f322e3a4a88
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 19 04:04:34 2019 +0200

    Qt: Fallback to FC_QT_DEFAULT_THEME_NAME

    If theme set in the settings cannot be loaded at client start,
    fallback to FC_QT_DEFAULT_THEME_NAME.
    The settings can contain theme names derived from freeciv-2.5
    illegal in later versions.

    Reported by Christian Prochaska and Jacob Nevins

    See hrm Bug #853130

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 50d7b1764c55921448b74abefebfaca0d1dccf7e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 16:57:40 2019 +0200

    Set qt5x programs' minimum Qt requirement to 5.12

    See hrm Feature #852900

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a08057e42ce6ee721bc8861750b7379a0606a6b8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 21 14:01:58 2019 +0200

    Add missing breaks to mapgen.c

    They were missing after some supposedly impossible to reach
    cases, also guarded by asserts. The main difference this commit
    makes is cleaning out compiler warnings about those cases
    when -Wimplicit-fallthrough is used.

    See hrm Bug #853422

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f5f7e5fe67c436211a16ade8a394170b4f569eff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 22 06:50:21 2019 +0200

    Meson: Build tinycthread for Windows host

    See hrm Feature #853447

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b72cace8f5065f36785c8d5bb3d3f411b70dbccd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Dec 24 14:27:02 2019 +0100

    Travis: build the Qt-programs again.

    The ppa can be dropped once we move to the next LTS.

    Requested by Marko Lindqvist

    See hrm Feature #853722

commit 69d0932151ab34d05c91dc1a4499afa6742891e5
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Dec 26 12:42:03 2019 +0000

    Fix comment about Gtk overview map size.

commit a94f5a6a7973683f6a6187ce25aa49c9f4e5d4c6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Dec 25 01:09:40 2019 +0100

    Travis: speed up the "make dist" job.

    The slowest current job is make dist. This means that the total build time is
    the build time of make dist.

    Speed up the "make dist" job by not installing GUI stuff, language packs,
    mysql or replacing openssl-dev and by not building Freeciv before running
    make dist. Not building Freeciv becomes possible by installing tolua.

    Thanks to Marko Lindqvist for the tip about how the Freeciv build can be
    avoided.

    See hrm Feature #853746

commit 609ec1d756f56201bd79229479735deacbd0f033
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 22 17:21:20 2019 +0200

    Add implementation of fc__fallthrough

    See hrm Feature #852923

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 455fc7ae818c300028f8f27b5e9a0fbaa5eca3af
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 24 16:26:32 2019 +0200

    Apply lua.org patch #4 to our copy of lua-5.3.5

    Patch for lua-5.3.5 bug #4
    ("Joining an upvalue with itself can cause a use-after-free crash.")
    from http://www.lua.org/bugs.html

    See hrm Feature #853700

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 946d6b5fe78ba9dff67bb9f95fe8f45c9bd1c503
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 23 05:54:29 2019 +0200

    Add configure option --with-qt5x

    See hrm Feature #852870

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 060af1cf6c0e46a56d3d0e7266b722046f044a6a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 22 06:18:18 2019 +0200

    Meson: Define HAVE_IP_MREQN

    See hrm Feature #853445

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b21659d0487647df0bd885f15f9df51fd0e21786
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 25 18:08:31 2019 +0200

    gtk3x: Drop gtk_combo_box_set_wrap_width() call

    See hrm Feature #852693

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1c30311a2a9b9b8c0b63c8906db915b7a6d28ecc
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Dec 24 03:57:54 2019 +0100

    Travis: dependency instal in .travis.yml.

    Stop installing dependencies in the build script. Move that to Travis'
    addons.apt.packages.

    The initial conversion is a blind copy. All the old dependencies, needed by a
    particular job or not, ends up in its addons.apt.packages. This ensures that
    the same packages are auto-detected so the same things are tested.

    Optimizing away unneeded apt packages for each job would probably speed them
    up. That should probably be done in a follow-up patch.

    Reported by Marko Lindqvist

    See hrm Bug #853424

commit 12c9a3d274253cb84fee60e8711a77ecaa76b626
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Dec 23 03:14:25 2019 +0100

    Travis: test meson build.

    See hrm Feature #850242

commit 8c04f3bec3381dbea70d11bede69e9d1f4a54d9b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 25 09:23:56 2019 +0200

    Drop always-true comparison from big_int_to_text()

    See hrm Bug #852941

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fcdbc089cba27570bbdbb827caa5d3a17dbebc4f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 22 11:36:03 2019 +0200

    Make --help to advertise log level names instead of numeric values

    Since the --help output needs to fit in small space, level names
    are abbreviated down to a single letter.

    See hrm Bug #782727

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1ce9f8ac4bd611ef4df773136f568d4e61abb54a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 23 05:24:08 2019 +0200

    Meson: Bump minimum meson version to 0.48.0

    Versions up to 0.47.2 did not have 'debug' core option.

    Reported by Sveinung Kvilhaugsvik

    See hrm Bug #853564

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 38479764f5761269bfe79dbc712de0d08322eff6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 20 18:14:19 2019 +0200

    List values for --enable-sdl-mixer in ./configure --help

    Reported by Jacob Nevins

    See hrm Bug #853375

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7599ccf258f08711767c5f973e3452e5340d8ed5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Dec 20 18:45:18 2019 +0100

    Travis: run "make dist" in parallel.

    Start using a build matrix. Use it to run "make dist" in parallel to the
    rest of the build.

    See hrm Feature #853559

commit e9b755b366a9b62e939557abd960dfa1ee092bd3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 22 17:44:48 2019 +0200

    Fix sign-compare compiler warning in get_tokens()

    See hrm Bug #853540

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aa70b375fbfb676ca69c8cbb761bac12d03351b6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 22 10:36:12 2019 +0200

    Make generic Coding Style cleanup for connection.c

    See hrm Feature #853485

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 74b1f337abce5e64a5890c4d901a3ad12dd8c35e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 22 05:42:51 2019 +0200

    Meson: Check for iconv and use it when available

    See hrm Feature #853444

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 539b44fcb1ded57ed1856861661958d4f33b7346
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Dec 21 13:48:41 2019 +0100

    Fake generalize "Bombard"

    Introduce "Bombard 2" and "Bombard 3", perfect copies of "Bombard". Any
    difference between them should be ruleset defined.

    This could have waited for real generalized actions. It was done now so I
    can add a shorter range bombard to webperimental on top of the current
    "Bombard" and so Lexxie can drop hard coded bombard action rename from the
    web client of fcw.org-server

    See hrm Feature #851451

commit edb5aa3028b6b780084ecb9eab1cb5b6180e07ae
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Dec 18 19:43:02 2019 +0100

    Don't attempt to move to bounced unit's tile.

    The action "Bribe Unit" will in some cases force a move to the target unit's
    tile.

    In certain rulesets a spy unit can bribe a target unit on a tile with a city
    and/or units the target unit won't be able to share a tile with after
    changing  side. In those cases the target unit is bounced after being bribed.

    The code checking if the briber should be forced to attempt to move to the
    victim's tile after a successful bribing would check that the target tile
    only had one unit. This was presumed to be the bribe target. But if two enemy
    units shared a tile and one got bribed and then bounced the target tile would
    contain the enemy unit that wasn't bribed. The briber would then have to
    attempt a forced move to a tile with a non allied unit.

    Never force a move when the bribe target unit was bounced.

    (It may be a good idea to make "Bribe Unit"'s post action forced move
    consistent with the forced post action move of "Attack" for post 2.6 branches
    in a follow up patch.)

    Reported by Jacob Nevins

    See hrm bug #765938

commit e2c81f241de1638dcce215b9dee3f6e0585894c6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 21 11:32:14 2019 +0200

    Cleanup SYS_TOLUA_CMD handling in tolua-5.2 Makefile.am

    See hrm Feature #853406

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9f96cd4bd3d4d829a287fb032bffb794f464bd76
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 21 12:45:05 2019 +0200

    Fix astr_reserve() sign-compare compiler warning

    See hrm Bug #853412

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d3a8c892b11e7febd125f0c2d692e1a24de971dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 19:08:19 2019 +0200

    Meson: Enable tinycthread instead of pthreads in Windows builds

    See hrm Feature #852952

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 659c346418f1e1b45f2b187b31360cb50a05cfcd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 20 07:05:09 2019 +0200

    INSTALL: Document minimum Qt version

    See hrm Feature #853326

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9407d7d094b1f93c14b39826882cbd610e4a2295
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 22 20:13:20 2019 +0200

    Comment typofix: "shortut" -> "shortcut"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 819b1076c06320dc54d8745bb1836273b4465c89
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 18 12:44:13 2019 +0200

    Add missing breaks to reqtext.c

    Erroneous fallthroughs were in handling of some of the
    unsupported requirement ranges.

    See hrm Bug #853037

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5abb072b8b23177afa4dec69d0dbe8b40dca07e7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 20 19:40:27 2019 +0200

    sdl2-client.m4: Clean out obsolete check against SDL_mixer = sdl

    See hrm Feature #853383

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 739fd789f46abd2b5385fa3d5594cfe6a9999cd6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 20:14:30 2019 +0200

    Meson: Define _GNU_SOURCE

    See hrm Feature #852959

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a43d77eab0fa71fe189344b90b5708d36059e392
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 19 06:12:02 2019 +0200

    sell_random_unit(): Return NULL instead of FALSE

    Function's return type is pointer.

    See hrm Bug #852996

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7990a19e514440b8bc3a7bb6b58bee6d621c28d9
Author: Christian Prochaska <cp.ml.freeciv.dev@googlemail.com>
Date:   Fri Dec 20 01:45:48 2019 +0100

    Updated msys1 environment (python3)

    See hrm Bug #851511

commit d6ae14e202b75c0a1c1c28e7156f7ac119577f45
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 16:53:47 2019 +0200

    Add FC_QT autoconf macro to wrap FC_QT5 and FC_QT6

    See hrm Feature #852867

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7b9410649a931faa4c3d68b809ab76bbeb5f3b02
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 15:03:20 2019 +0200

    Enable -Wold-style-declaration in --enable-debug builds

    See hrm Feature #852936

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c92ee61a02536a7d6ac2be89aa717dc7b119c5f0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 19 05:44:23 2019 +0200

    Qt: Use FC_QT_DEFAULT_THEME_NAME theme when clearing custom theme

    It was attempting to use default theme name from settings, but that
    might be custom theme in itself.

    See hrm Bug #853140

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7f54f7782fa97a84d7bbdda1131bb4682181a192
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 16:47:28 2019 +0200

    tcc: Fix conflicting definition of tile_changing_activities

    See hrm Bug #852686

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3ce5c835914f60dadfcfc6bea09e76d00a607339
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 16:49:39 2019 +0200

    qt6.m4: Add initial version

    Initially qt6.m4 is mainly a copy of qt5.m4 with macros and variables
    renamed to their own namespace. Those macros still search for
    the same Qt5 headers and libraries as qt5.m4 macros.
    Darwin specific things have been left out. They have not been
    actively maintained even in Qt5 version, so probably would require
    more than just copying over to Qt6 side.

    See hrm Feature #850961

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 58b2c2f231d1ead7571a0dc7af2e88cc84527e83
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 15:00:13 2019 +0200

    Fix -Wold-style-declaration compiler warnings

    See hrm Bug #852918

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cb2be38ff30d899e9eced77c8e918d9f879c1e59
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 18 04:36:46 2019 +0200

    Fix sell_random_unit() crash with recursive transports

    See hrm Bug #852938

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d249fb981e334bf9a65e3e5c474dce609bcd8391
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 20:40:25 2019 +0200

    Meson: Make debug-build client to spawn server from current directory

    See hrm Feature #852973

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 94b4b68298b59f0fb2a9b6d57f614cf07fb4a472
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 07:28:45 2019 +0200

    Set QT_DISABLE_DEPRECATED_BEFORE

    In master it's set to 5.7 that is latest for which we don't have
    pre-existing deprecated constructions in use. This is less than
    our minimum Qt requirement (5.11)

    See hrm Feature #852856

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5e512073d235142fc803f7ebf7985151b1596eb0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 13:56:51 2019 +0200

    Add missing breaks to universal_value_from_str()

    See hrm Bug #852927

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 392f3ab9ea7e94489bf69777994b694a708533a8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 16 08:47:29 2019 +0200

    gtk3x: Drop gtk_window_set_role() call

    See hrm Feature #852690

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0a4916200f64227c65c983d7fa9562118fe15e50
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Dec 17 10:20:03 2019 +0100

    Rename "Road" action "Build Road".

    It builds a road. Make it consistent with the other "Build X" action names.

    Reported by Marko Lindqvist

    See hrm Bug #851695

commit d2a47d77e1135e1b56b46fc3a9812ed475cc33fc
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Dec 17 10:05:32 2019 +0100

    Split ASTK_EXTRA in existing and non existing.

    Makes stronger sub target validation possible.

    See hrm Feature #852130

commit f5f1b8529d72f64ca0a0ff3b5a1f1847c8c81e4f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 06:20:15 2019 +0200

    Qt: Replace deprecated qSort() call with std::sort()

    See hrm Bug #852857

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9dc5e70b703d3ad21389c210e2425246699597be
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 04:22:38 2019 +0200

    msys2: Convert langstat files to ISO-8859-1 when building installer

    This fixes display of name of the language "Norwegian BokmÃ¥l"

    Reported by Jacob Nevins

    See hrm Bug #681314

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0a093c5e005a5249673de7ff79dcfae64869824f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Dec 16 20:15:37 2019 +0100

    Unique UI names for conventional nuke actions.

    See hrm Bug #852687

commit 5d0d746d3c89245f19148cb6577bf25d4d7486c3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Dec 12 10:58:11 2019 +0100

    webperimental: ban striking city production.

    The Leader can do the "Surgical Strike Building" action. It is not supposed
    to be able to destroy the city production. Ban it.

    See hrm Bug #852163

commit de53b43813bf51e6361e2f73d37722518c4bd283
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Dec 12 22:51:31 2019 +0100

    Split production from building targeted actions.

    Split an action that targets the city's current production from actions that
    targets a building in a city or its current production. This gives finer
    grained control to ruleset authors. It also enables just assuming that a
    building sub target is a building in validation code and in sub target
    encoding and decoding.

    Split "Sabotage City Production" from "Targeted Sabotage City".
    Split "Sabotage City Production Escape" from "Targeted Sabotage City Escape".
    Split "Surgical Strike Production" from "Surgical Strike Building".

    See hrm Feature #852132

commit 809d772602f1f5f3d0c69d77a7aecf32a3bd6316
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Dec 16 21:17:49 2019 +0100

    rscompat: modify copy of effect, not original.

    Modifying the original can trigger an eternal loop.
    Modifying the original can break the result when more than one universal is
    split from the same source universal.

    See hrm Bug #852824

commit 4030a4731be2cdea9a8525e89ee3befeb2379fa4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 16 06:32:48 2019 +0200

    Add C11 threads configure check

    C11 threads are the preferred threading model.

    See hrm Feature #852681

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e2c1d5d5d474eb9690678a32adcfad7a32c9bc2e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 16 08:44:16 2019 +0200

    gtk3x: Replace gtk_window_set_icon() call

    Use gtk_window_set_icon_name() instead.

    See hrm Feature #852689

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f338f3e228d1e6d0ac72468634171ae9572c4549
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Dec 17 21:44:18 2019 +0000

    Updated Polish translation by Hubert Kowalewski

    merged from S3_0 e912c45b69. Stats on master:
    core: 98.4%: 7567 translated, 93 fuzzy, 27 untranslated.
    nations: 100%: 1843 translated.
    ruledit: 89%: 95 translated, 8 fuzzy, 4 untranslated.

    (There is some confusion with UTF-8 msgids in this update; it's ended up
    with extra double-escaped msgids, which have new translations attached,
    also somewhat double-escaped. On this branch, because of the msgmerge,
    all of these have ended up marked obsolete, and the possibly out-of-date
    translations attached to the correct msgids will be used.)

commit 576b56e3d951c313e0cfd8b93e45ad0d817026d5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Dec 16 06:27:32 2019 +0100

    savegame: pad the correct field.

    Padding for a city's rally_point_sub_tgt_vec field ended up in sub_tgt_vec
    for orders after the first order. Use the correct field name.

    See hrm Bug #852685

commit 926569caa77a3eb719a5b9b58d0a2ed2a81e1110
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Dec 13 01:38:10 2019 +0100

    savegame: store order action id as a number.

    The save game format allows storing it as a vector of numbers. This is better
    than storing it as a string converted by num2char(). It allows more actions.

    Remove num2char(). This was its last user.

    See hrm Feature #850504

commit 51141edf99678cd0c52d4bb14d1190e175ae174a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 19:11:06 2019 +0200

    Fix comment capitalization typo

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f68f6be5899b13838f904569e8ed08cb4e7b09c9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 8 13:47:35 2019 +0200

    sdl2: Add Cultivate/Plant buttons

    See hrm Feature #851551

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0d8d3745e719273caf94706f7c2a1b797c993173
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 17 02:09:05 2019 +0200

    AI: Reduce defense building wants by about 20%

    AI with H_DEFENSIVE handicap still suffers same amount
    of handicap as before.

    See hrm Feature #825079

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 78ed272248c9d95f856966a1e04bfd8a3ed7aaa3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 13 23:19:30 2019 +0200

    gtk3x: Turn a couple of GtkButtonBoxes to GtkBoxes

    GtkButtonBox will go away with gtk-3.96. Reduce their usage already
    where possible.

    See hrm Feature #852422

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f434d048680d6ce1f1a529f28c2e6c5f9944f2ff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 13 20:51:27 2019 +0200

    Add support for terrain defined placing_time

    See hrm Feature #851866

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2a8c5e1c4b6f8d5db8b9a711cb556b8b9a98672f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 8 03:17:53 2019 +0200

    Meson: Unconditionally define HAVE_MKSTEMP

    See hrm Feature #851530

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5c4ca841b5eb618bbac58005eb6288ac2cbda904
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Dec 12 11:51:15 2019 +0100

    ai: non production sabotage target support.

    Just pick the last building with equal to or better odds than the previous
    for now.

    See hrm Feature #852204

commit a8a6113bf7be11858163c0ee03079cf8803ac9da
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Dec 5 06:20:29 2019 +0100

    Improve movement cost from action estimation.

    Evaluate movement cost from the action in the state the unit will have after
    the action may have moved it.

    See hrm Feature #850770

commit a5e4ed8580452e85c1e00cbb62fdca9c8708bc8f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 12 01:58:16 2019 +0200

    Fix gcc-10 warning about use of possibly uninitialized variable

    See hrm Bug #851873

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9c2beec181d8f0e4dcba5a4c5606b0e67fda096c
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Dec 11 23:52:22 2019 +0000

    Fix formatting error in freeciv-client(6) man page

    See hrm bug #852070.

commit ce57e819cba63b3af6961cb6bef793bcd65b8af2
Author: Zeko <zeko@freeciv.xyz>
Date:   Tue Dec 10 03:30:36 2019 +0200

    Replace deprecated QFontMetrics::width with QFontMetrics::horizontalAdvance

    See hrm Feature #834390

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f2da7a48499b1f5bd7bcccd8fdb33814521da1f2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 12 01:35:58 2019 +0200

    Refactor code to avoid gcc-10 warning

    See hrm Bug #851728

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8dff16d48c03ce727ec48aafb160bdf1482bc0b5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Dec 10 08:23:18 2019 +0100

    Split "Explode Nuclear".

    Split the new actions "Nuke City" and "Nuke Units" from the "Explode Nuclear"
    action. They handle acting against a city or a unit stack at an adjacent
    tile. "Explode Nuclear" is now only about detonating in place.

    This moves all the weird "Explode Nuclear" special case rules to the ruleset.

    See hrm Feature #850219

commit 84802f56997d6c4bdbc4bad1342052628ca52af4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 10 21:40:07 2019 +0200

    Make sure tile info is sent to owner when placing is set

    See hrm Bug #851529

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit be2862771527faa1d26f814d8fc22c09e80ea98e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 9 00:54:47 2019 +0200

    gtk3x: Replace deprecated gtk_entry_set|get_text()

    They will be dropped in gtk-3.96.

    See hrm Feature #851566

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ab06fcaa66bf874fec24d0349a9f6cfeba95d2b7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 5 01:12:48 2019 +0200

    Bump minimum Qt requirement to 5.11

    See hrm Feature #849444

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a4016b8ca3f4857457280da70704b1ed1fb76d55
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 8 02:25:58 2019 +0200

    Show extras being placed in main map

    Client shows the extras being placed if it knows about them.
    Currently it often doesn't (Bug #851529)

    See hrm Feature #851528
    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 17938c639f239381c0d1fcfcce356b49f5e86100
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 10 07:39:19 2019 +0200

    Terminate format escapes list

    See hrm Bug #851727

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0cdce5681edac55a8843365b8d44aa9ea308bb58
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 5 21:09:48 2019 +0200

    helpdata.txt: Add documentation of cultivate/plant controls

    See hrm Feature #851200

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a4bf4d1e141aa9e6ca143997a233a83974895f9a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 7 00:59:06 2019 +0200

    Travis CI: Disable Qt programs from build

    See hrm Feature #851187

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6de035ac703119b3086f8473934153a6021c5637
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Dec 9 22:38:43 2019 +0100

    GTK clients: improve act sel dlg sub tgt support.

    Make simple_action_callback() able to handle sub targets. This makes the
    custom call backs for "Pillage", "Road", "Build Base", "Build Mine" and
    "Build Irrigation" redundant.

    See hrm Feature #851693

commit 4d6368838f9615739b40f88e0bf6f21f18e69914
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Dec 9 18:56:51 2019 +0100

    GTK clients: general act sel dlg detail cb.

    Replace action specific follow up question detail from server requester
    callback functions with the new request_action_details_callback() call back.

    See hrm Feature #851670

commit a83cf8671b270d9151dc97fa9e20f39b0c30c338
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Dec 9 15:16:38 2019 +0100

    GTK clients: remove redundant act sel dlg cb.

    Use simple_action_callback() in the action selection dialog where possible.

    Delete all the old action specific action selection dialog callback functions
    that don't do anything simple_action_callback() can't do.

    See hrm Feature #851648

commit 1c409f9515813edf062291130e732ba085c588ae
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Dec 9 14:27:13 2019 +0100

    GTK clients: default act sel dlg callback.

    Use simple_action_callback() by default unless an action specific call back
    function is specified for the action.

    See hrm Feature #851642

commit e7a3be20218b4d46031601cc64a2919b6a988860
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Dec 9 09:25:03 2019 +0100

    GTK clients: generic act sel dlg callback.

    Introduce simple_action_callback(). It is to be used as a call back function
    in the action selection dialog for actions that don't require anything
    special in their call back function.

    This reduces the amount of work to introduce a new action.

    The number of actions where this can replace the current call back function
    is large. Only a few known good existing actions have their old action
    specific callbacks replaced here.

    (I made Freeciv-web auto generate its action selection dialog years ago. I
    didn't get around to do it for any C client before now.)

    See hrm Feature #851603

commit ad71fe529bb425072cfbf5c9b821ff087170d798
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Dec 9 12:45:10 2019 +0100

    GTK clients: action id to act sel dlg callback.

    Pass the action id to the action selection dialog button callback function.
    Exploit the fact that the GTK client only can show one action selection
    dialog at a time by making the data shared between actions a static variable.

    See hrm Feature #851635

commit 6510b3d8007782917375f1b285994f80c0718088
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Dec 9 19:46:58 2019 +0100

    autohelp: document sub target kind.

    See hrm Feature #851672

commit cae9f566d4988e31896ece6e23d0e4d39f2980e1
Author: Zeko <zeko@freeciv.xyz>
Date:   Sat Dec 7 20:21:21 2019 +0200

    Allow C++11 lambdas in coding style

    See hrm feature #851519

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a2fd46c96d8b735ac0dbb3f181c91501626913f2
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Dec 9 01:11:33 2019 +0000

    Gtk3.*/4: handle "close" signal in input_dialog

    This is sent when the user hits "Esc" at such a dialog.
    Among other effects, if the user hit Esc at a new city name dialog, that
    settler would subsequently be unable to build a city.

    Reported by Joan Creus.

    See hrm bug #689225.

commit 15f60afa7b44c32d128fc8fb8ad7d1100a5a39df
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 8 00:45:07 2019 +0200

    Make extra placing to last extra build time turns

    Extras that have no build time defined (are supposed to use
    terrain specific build time) still take 1 turn to complete.

    See hrm Feature #851525

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 56b091569a1865657ca155f84e092dbad7b3d43e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 4 23:04:44 2019 +0200

    configure.ac: Drop unused 'AMIGA' variable

    See hrm Feature #850944

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dea2189c7833c9de5bd21d6ecfce6f2237c3039e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 7 18:35:05 2019 +0200

    Restore Ctrl+F for "Find City"

    Ctrl+S is used also by Save Game, so can't use it for Find City.
    Similarly restore Qt-client Full Citybar to Ctrl+F.
    Change Show City Growth from Ctrl+F to Ctrl+O.
    In sdl2-client change Show Pollution from Ctrl+O to Ctrl+Shift+O.

    Reported by Jacob Nevins

    See hrm Feature #850461

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e3b31df011522ece994aa5541a88e2793313c2b5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Dec 10 07:08:54 2019 +0100

    Comment fact fix

commit 9fdffcb489aab7d4bc6ef55d541e5ad027645389
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 7 00:57:30 2019 +0200

    Implement minimal editor support for owned extras

    Goal of this commit is to provide network protocol part
    of editing of owned extras. It does result in minimalistic
    editing support too.

    Requested by Jacob Nevins

    See hrm Feature #851220

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6075f581f95f49492b3019f29fdbf5f055ac41aa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 4 17:11:56 2019 +0200

    gtk: Set sensitivity of Cultivate and Plant menu entries

    See hrm Feature #850833

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit afd14f3a57916aa11fd6de89163d3b7d7549361a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 5 00:59:16 2019 +0200

    qt5.m4: Rename FC_QT52_CHECK as FC_QT5_VERSION_CHECK

    Also the macro's output variable fc_qt52 has been renamed
    to version-agnostic fc_qt5_min_ver.

    See hrm Feature #850950

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 18978a7b61d732d2eb8b6803c4657422d108b2d9
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Dec 7 13:25:53 2019 +0000

    Miscellaneous TRANS comments.

    See hrm bug #851518.

commit 86a5eb74fbaf7d838b57a48c2a286489b251284a
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Dec 7 13:32:36 2019 +0000

    Fix a message about failure to act

    The format string arguments were the wrong way round.

    See hrm bug #851510.

commit c1598d8a2af074cfb14fe9a95a83d2af319ca772
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Mon Dec 9 13:55:21 2019 +0500

    Update for Russian translation.

    core: 7599 translated messages, 51 fuzzy translations, 29 untranslated messages.
    nation: 1843 translated messages.
    ruledit: 107 translated messages.

commit dadb51dc996eec4e16681663be635bafed51652e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 5 20:36:06 2019 +0200

    README: Fix numbers of INSTALL chapters referenced

    See hrm Bug #820728

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d371e6e5d5407679ddc25a47b547810ed213d169
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 4 16:51:16 2019 +0200

    Add menu entries for Cultivate and Plant

    Cultivate and Plant UI added to gtk- and qt-clients.
    No icons added to sdl2-client.

    See hrm Feature #850477

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d55ecacd5f132570e7ea8d4767026903988f046
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Dec 7 00:56:42 2019 +0200

    Send emergency version number in client_info packet

    See hrm Feature #657293

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d521e55701639b1cf1a799471ac37a6f37c8ebe3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 4 22:35:18 2019 +0200

    Update mkstemp.m4 to serial 27 from gnulib upstream

    See hrm Feature #850943

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 193c6a9daff227266dc180e7b8f41ee63a5a5c3f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 4 17:04:16 2019 +0200

    Consider ACTIVITY_CULTIVATE/ACTIVITY_PLANT tile activities

    This makes them to show up in tile info popup

    See hrm Bug #850820

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b6beadd42d93ff2051917b3bb81b23f20ec293f2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 2 06:47:00 2019 +0200

    Sandbox: Make advance clauses to require Writing

    Both parties need to know Writing before techs can be traded.

    See hrm Feature #768209

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4ad3a17dca805a2ac30feaf706fe4b31ac06cb64
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 5 19:14:52 2019 +0200

    Correct comment implying that python > 2.2 wouldn't work

    See hrm Bug #851193

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ef6200480702163a1980f6abdf32e97a2561ea0f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 5 00:13:57 2019 +0200

    Fix tripling of units when copy+pasting tiles in editor

    Reported by Alexandro Ignatiev

    See hrm Bug #850947

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 245002c121673c4f858adc95914e2e73ed34b899
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Dec 6 22:06:57 2019 +0200

    Save ruleset_locked and capabilities when saving scenarios

    See hrm Bug #821959

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bbadbdf0ec1cd49938fc70346118676eef38b509
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 4 21:25:08 2019 +0200

    Update sdl2.m4 to SDL2-2.0.10 level

    Manually rebased upstream changes to our modified version.

    See hrm Feature #850938

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fbda89cf3f74e35d56102501c111b7dbd2989595
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 4 16:33:10 2019 +0200

    Rearrange control keys to make space for cultivate and plant controls

    Reserve Shift+I and Shift+M for Cultivate and Plant.
    Move "Connect With ..." / "... Waypoint" from Shift+<key> to Ctrl+<key>.
    Move "Show City Growth" from Ctrl+R to Ctrl+F ("Food") to make space for
    changed Road connect.
    Move "Find City" from Ctrl+F to Ctrl+S ("Search") to make space for changed
    "Show City Growth".

    Qt only: move "Show Full Citybar" from Ctrl+F to Ctrl+S

    See hrm Feature #850461

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 13b0605a47aa70797516481772c4445fc53bae94
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Dec 4 00:29:37 2019 +0100

    daiactions: consider regular move cost.

    Some actions will always charge the move fragment cost the actor unit would
    pay to perform a regular move to the target's tile. Add this cost to the
    regular action move fragment cost dai_action_value_unit_vs_city().

    See hrm Feature #850769

commit b5d1e127e7f2516a545ba036994e4188bbc88ce7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 3 17:28:45 2019 +0200

    Fix client crash in lua call to city:inspire_partisans()

    Check if the caller is server before executing inspire_partisans()
    parts that would require omniscience. If the caller is client and
    correct answer for the current rules would be available only with
    omniscience, always return FALSE.

    Reported by Alexandro Ignatiev

    See hrm Bug #797679

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6b24cce6604e6248d62153ed5f6ae6d4c1e3b160
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Dec 3 21:35:42 2019 +0000

    Cancel ANIM_NUKE when done

    This was causing permanent sluggishness and high CPU usage in clients
    which use frame_by_frame_animation (Gtk3/3.22/4) after a nuclear
    explosion.

    See hrm bug #850672.

commit 715025fb957d3a0f2c33dfece45e6d6f783f795b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 4 00:22:39 2019 +0200

    savegame3.c: Remove aifill players after rulesets loaded

    Remove aifill players created ruleset loading time so that
    later correct number (maxplayers limitations) of them can be
    created with the correct skill level.

    See hrm Bug #850666

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c145bf90cad3f98f3bae4faf8fb9e46319ebdd62
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 5 12:54:48 2019 +0200

    Remove duplicate word from code comment

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1a43ef9a30abc86ce6a7212ad3daf3fe97ab5a65
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 3 16:44:45 2019 +0200

    Add function headers for civmanual client stubs lacking one

    See hrm Bug #820981

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 165118dec8241385dfec5b032b61364256a833c5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Dec 3 23:07:31 2019 +0100

    civ1: remove lie from land unit class.

    There is no airlift in the civ1 ruleset. Stop claiming that units with the
    land unit class can be airlifted.

    Reported by nef at the Freeciv Forum

    See http://forum.freeciv.org/f/viewtopic.php?f=15&t=597&start=40#p100875
    See hrm Bug #850673

commit 0e290f0e40f208b8e44242f70634c999e6242b5c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Dec 3 22:03:27 2019 +0100

    civ1: improved (dis/)embark move cost.

    Bring the civ1 ruleset's unit embark and disembark cost closer to what it was
    in Civilization. This is just a start the people that know Civilization 1
    better than I do can fine tune.

    See hrm Feature #850669

commit f27f6f14f62ed06bdee261833ff7ee22769b9868
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Dec 3 21:44:06 2019 +0100

    civ2: improved (dis/)embark move cost.

    Bring the civ2 ruleset's unit embark and disembark cost closer to what it was
    in Civilization II. This is just a start the people that know Civilization 2
    better than I do can fine tune.

    This allows diplomats to use their second movement point after landing from a
    ship, so the the tech-pirate strategy that works so well in the real civ 2
    isn't completely ruined.

    Reported by an anonymous Civilization 2 player at our wiki.

    See https://freeciv.fandom.com/index.php?title=Comparison_of_Freeciv%27s_civ2_modpack_and_Civilization_II&diff=19136&oldid=13908
    See gna bug #23782
    See hrm Bug #850668

commit 328ded10dc4eb42e2af556f18499c0079883a877
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 3 18:13:02 2019 +0200

    Qt: Do not try to load without savegame selected

    Do nothing if user clicks Load button without savegame selected.
    Previously game proceeded to loading page where it then stayed forever
    waiting for server to get game loaded.

    Reported by  David Fernandez (bard)

    See hrm Bug #778016

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 91e3bfb70b367a7f14c54389708e9b3b7d3be31c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Dec 3 16:14:12 2019 +0200

    Correct code comment about HutTech unit role

    Reported by Alexandro Ignatiev

    See hrm Bug #823695

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ef49da726b82439025b301d5e26a52f5be65c5b6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Dec 4 20:46:26 2019 +0100

    Comment fact fix.

commit 69ea39e115a6bb0612b7eb2e27902d87c4b74e13
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Dec 3 10:51:12 2019 +0100

    Fake generalize "Conquer City"

    Introduce "Conquer City 2", a perfect copy of "Conquer City".
    Any difference between them should be ruleset defined.

    See hrm Feature #850551

commit 0f7b1ed58d7490463ef21029d367d58deacb843d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Dec 3 10:11:49 2019 +0100

    Fake generalize "Transport Disembark"

    Introduce "Transport Disembark 2", a perfect copy of "Transport Disembark".
    Any difference between them should be ruleset defined.

    See hrm Feature #850550

commit 7c6b5e00691ef9b49b35746458ff46d355ed6885
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 2 05:54:16 2019 +0200

    Add requirement vectors for clause types

    Ruleset can specify requirements for the clause types to be available.

    See hrm Feature #768208

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a1e5167c9a38022fe7aa38c65a8ccc042737d00b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Dec 2 10:32:01 2019 +0100

    A unit can't board a non allied transport.

    Force "Transport Embark" and "Transport Board" action enablers to mention
    that it only can be done to domestic units, units on the same team and allied
    units.

    See hrm Feature #850424

commit 311b40dabe3c81374747407f511d3a48b8aaabee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 2 04:26:58 2019 +0200

    Drop settings_consider_all_changed()

    See hrm Feature #850362

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b6791cb61d5f0719179fd62e198ba11a891dee19
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Dec 2 04:25:12 2019 +0200

    Send server setting defaultness to client

    Requested by Jacob Nevins

    See hrm Feature #692371

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3dc8b22b35d7218d0a5d492c213c893205425a50
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Dec 1 19:38:43 2019 +0100

    A probability can't be above 100%.

    See hrm Bug #850312

commit 256ca3ce73655e1c4ec6149dc8d5c9d2ea72e4c9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Dec 1 09:22:29 2019 +0100

    Auto attack actions to the ruleset.

    Put the actions that autoattack should try in the new field attack_actions in
    the auto_attack section.

    Only allow removing and changing the order of the old auto attack actions for
    now. Other actions need more testing and fixing of issues caused by a worst
    case action probability of 0%.

    See hrm Feature #850300

commit ee74851b81490dc884dea1e5053514b0a13da269
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Dec 2 23:22:04 2019 +0000

    Merge current S2_6 en_GB translation

    From 98adb81658. master stats:
    core: 81%: 6229 translated, 974 fuzzy, 473 untranslated.
    nations: 100%: 1843 translated.
    ruledit: 60%: 64 translated, 18 fuzzy, 25 untranslated.

commit 95284be1a6931295523cb41ca905393aa3928d60
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Dec 2 22:41:33 2019 +0000

    Updated Polish translation by Hubert Kowalewski

    merged from S3_0 f7a336c9f0. Stats on master:
    core: 97.7%: 7496 translated, 131 fuzzy, 49 untranslated.

commit 1c33900b840d584eacf39d1cd3e98104c4692854
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Dec 1 00:36:53 2019 +0000

    Gtk3.22/4: restore mnemonics to most buttons

    Many of these are GTK_STOCK buttons in the Gtk3 client. I've mostly
    chosen the keyboard mnemonics that the Gtk3 client shows on my system.

    See hrm feature #850297.

commit de62f51c88a648df96af4c944470da69f9df1e7c
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Dec 1 03:25:42 2019 +0000

    Gtk3: restore mnemonics to action dialogs

    See hrm feature #850296.

commit 155df9a41a53242932e002305cac53ccb0d23954
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Nov 30 21:33:14 2019 +0000

    Gtk3/4.x: restore Alt+mnemonics to menu system

    See hrm feature #850295.

commit 3fc0988c7a042a88aca55ccd50f0c8134d383db0
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Nov 30 20:20:50 2019 +0000

    Gtk3/4.x: don't use keypad for fullscreen

    Laptops/netbooks often don't have a numeric keypad. Use Alt+Return
    instead, like Gtk2 did.

    See hrm bug #850293.

commit 10f39218cc3b786db69c4459d5a115b632cd0052
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Nov 30 20:13:34 2019 +0000

    Gtk3/4.x: replace META with MOD1 in shortcuts

    This works with the 'Alt' key (on my Linux PC at least), like Gtk2 did.

    See hrm bug #850292.

commit e16afad6a0dad930d7edde6d8d70aa8788903832
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Nov 30 18:32:49 2019 +0000

    Qt: don't cache first theme directory

    The first time a theme was loaded, its directory was cached and all
    future attempts to use themes would try to use the same directory.
    However, the user could still be presented with themes in different
    directories, which would then fail to load.

    See hrm bug #850290.

commit 9f03c4fba88e71d7dfb758322bd7f63983ca8a6c
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Nov 30 14:44:24 2019 +0000

    Add dates to NEWS files.

    See hrm task #850289.

commit 55706fd9de8a46b07fa01d4cc6405d704360fd89
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 5 20:48:25 2019 +0300

    Show unit activity icons for ACTIVITY_PLANT, ACTIVITY_CULTIVATE

    See hrm Feature #825185

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b27bbb6449f0b063112054b63f8fee221202cf0e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 1 06:02:44 2019 +0200

    Meson: Add daiactions module to build

    See hrm Feature #850276

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit edc3c6c9b2ac2ccb677cda812666ba410ba8fb00
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Nov 30 09:46:52 2019 +0100

    Support complex "will never auto attack" rules.

    In 3.0 it became possible to define a user unit type flag NotAnAutoAttacker,
    put it in auto_attack.will_never and give it to every unit type that never
    should auto attack. If only a few unit types should auto attack - say
    Nuclear Mine, SAM and AA Gun - the NotAnAutoAttacker flag would have to be
    added to every other unit type.

    Replace auto_attack.will_never with auto_attack.if_attacker, a new
    requirement vector. This allows a user unit type flag AutoAttacker to be
    defined for the above case. As a bonus support for more complex rules is
    added.

    See hrm Feature #850212

commit 0adbbc46b71b830da2df72f7dce3f23e1a483756
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 28 12:18:38 2019 +0100

    New action "Transport Embark"

    Introduce the new action "Transport Embark". It covers cargo initiated
    entering of a transport on an adjacent tile. It also covers cargo initiated
    transfer to another transport at an adjacent tile.

    See hrm Feature #850022

commit d3a7f59d0fb0ef92f00f08208c6c016f9494e6da
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Nov 30 16:21:24 2019 +0100

    Fix memory leak.

    Make unit_survive_autoattack() free the probability of impossible actions.

    See hrm Bug #850240

commit c3d0dd01bcfe715a26327b0ad6cf482452427c5a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 28 15:32:04 2019 +0100

    Fix the post bribe disembark code.

    Disembark was baked into regular moves before hrm Feature #848682. The code
    to do a post bribe disembark was accidentally committed before it was ready.
    Complete it.

    See hrm Bug #850087

commit 5cfbd48e02017ab81b0c1461eccbdf394e0ce965
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Nov 29 09:37:20 2019 +0100

    Comment clarification.

commit 191be284431a372e5498c4349277d573e4ed08bb
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 28 07:50:26 2019 +0100

    New action "Transport Board"

    Introduce the new action "Transport Board". It covers cargo initiated
    entering of a transport on the same tile. It also covers cargo initiated
    transfer from another transport at the same tile.

    See hrm Feature #848637

commit f5f6074a18750aa992f00bf3058917acae790f82
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 28 09:19:42 2019 +0100

    Non transported units can do "Conquer City".

    Feature #849289 made it look like transported units were the only units able
    to do "Conquer City". Clarify.

    See hrm Bug #849954

commit 3b69933736b8e8d505034ddcb1301e0200c1a582
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Nov 27 17:05:19 2019 +0100

    Introduce the new module daiactions.

    Factor aidiplomat's action sub target selection and action utility evaluation
    into daiactions's initial functions dai_action_choose_sub_tgt_unit_vs_city()
    and dai_action_value_unit_vs_city().

    See hrm Feature #849851

commit d698045a4caa53f7dfa3eb2f5b986755c73bf8db
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 26 10:40:08 2019 +0100

    webperimental: state terrorism.

    Allow sabotage, poisoning and suitcase nuking of non allied units and cities.
    Doing those actions in peace time causes international outrage: everyone, not
    just the victim, gets a Casus Belli against the guilty party.

    See hrm Feature #849540

commit ecd0a53854431d52c8871e235a0fc38801bfe132
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 26 08:12:21 2019 +0100

    AI spy action vs city evaluation: Casus Belli.

    Have dai_action_want_vs_city(), currently only used when evaluating spy
    actions against a city, consider the diplomatic implications (Casus Belli) of
    performing the action.

    See hrm Feature #849459

commit 86fe1b7ee928d7b40d5de2bfd8f1b3fd85f25178
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 26 06:13:03 2019 +0100

    AI: Suitcase Nuke > Sabotage City

    Adjust the utility of "Suitcase Nuke" and "Suitcase Nuke Escape" so they beat
    "Sabotage City", "Sabotage City Escape", "Targeted Sabotage City" and
    "Targeted Sabotage City Escape".

    See hrm Feature #849451

commit 6b31d6952576ff79e163aee464a5167447d71efc
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 14 11:09:26 2019 +0100

    unit_pays_mp_for_action(): add attack cost.

    Move the cost of a successful attack to unit_pays_mp_for_action(). Doesn't
    include the cost of occupychance post attack forced move.

    This cost can't move to the ruleset yet because the support for OneAttack is
    still greater than the support for Action_Success_Actor_Move_Cost. Having it
    in unit_pays_mp_for_action() gives the AI access to it.

    See hrm Feature #849449

commit ca632d05ad2c36ac9e8903719fa7225c5ab2f561
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 26 06:00:05 2019 +0100

    AI spy action vs city evaluation: movement cost.

    Have dai_action_want_vs_city(), currently only used when evaluating spy
    actions against a city, consider the move fragment cost the actor unit has to
    pay.

    See hrm Feature #849448

commit d874447a669e2a7d04c6656deeffe65f982a912b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 26 05:55:52 2019 +0100

    AI: A unit can't pay more than MAX_MOVE_FRAGS.

    MAX_MOVE_FRAGS represents all the movement a unit has. Cap the move fragment
    cost from Action_Success_Actor_Move_Cost and Action_Success_Target_Move_Cost
    when calculating the AI utility they provide.

    See hrm Feature #849446

commit 6e6a2a311090e2ae60af49fc4ba69d4617642767
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Nov 25 17:10:43 2019 +0100

    AI: utility based spy vs city action selection.

    The Freeciv AI will typically make a choice by its utility ("want"). Much of
    its action selection code is hard coded by the order actions are attempted in
    the source code.

    Change the action selection a Spy does vs a city to an utility based selector
    that supports generalized actions. The action it performs is supposed to be
    100% identical to the old code. Value changes, support for things like move
    cost and Casus Belli and support for other actions can be done later.

    See hrm Feature #849343

commit ff04ae67262eb1df9139ada3703deb21b1e108f7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Nov 25 14:05:02 2019 +0100

    Clarify disembark in "Conquer City" documentation

    The hard requirement documentation for "Conquer City" in README.actions
    mentions being able to disembark. Clarify that this doesn't refer to any unit
    exit transport function.

    See hrm Feature #849289

commit 1f066c7ccf4dfa7ab21e24e1f1a9cfa85b6233dd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Nov 24 21:36:58 2019 +0100

    New action "Transport Disembark".

    Introduce the new action "Transport Disembark". It covers cargo initiated
    transport exit to an adjacent tile. It doesn't cover transport exit followed
    by an action. It doesn't cover transport to transport transfer.

    See hrm Feature #848682

commit 4917cf37b3f38ef57fcfa806b90df8515552f7d5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Nov 24 22:22:58 2019 +0100

    webperimental: Leader can destroy buildings.

    The next step to make Dear Leader more powerful is to allow him to destroy
    visible buildings, like city walls, in enemy cities. Doing this has a 50%
    chance of success and ends his turn.

    See hrm Feature #849195

commit 3897610810e14f616ee299e138463860e2912f63
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Nov 24 21:55:43 2019 +0100

    webperimental: add being healed movement costs.

    Charge 1 mp from units being healed by the court physician.

    See hrm Feature #849194

commit 8269e221e8271335698a5c3493da3cf42873dcd6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Oct 31 00:16:30 2019 +0100

    adv_data: clarify what is being counted.

    Rename "missiles" to "suicide_attackers" since that is what is being counted.
    Rename "missile" to "suicide_attack" since that is what is being checked for.

    See hrm Feature #849138

commit 6124fe8effcf4787f33767af7b5631214e4cdf70
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 24 15:22:25 2017 +0200

    New action "Surgical Strike Building".

    A "Surgical Strike Building" is an attack against a player specified building
    in a city.

    The target building must be seen to be targeted. Future work may have
    previous Investigate City actions, Targeted Sabotage City actions, the see
    invisible buildings parts split of those split to a new action or some new
    action representing a Spy with a laser high lighting the target building
    provide the required visibility to do a precision strike against an unseen
    building.

    For now there is no powerful enough defence against this action to make its
    usage common. It will be limited to special actions for extremely high value
    units (like Leader) and probably also spend all movement fragments to leave
    the high value unit exposed. "Use the royal sapper to destroy the city walls
    and pray that you manage to eradicate all opposition before turn change."

    Ruleset defined pre action battle, if introduced, could make this action more
    usable. I think a new battle kind where one unit in the city able to attack
    the actor unit attacks it (shooting version of diplomatic battle) would suit
    this action well. "Precision Bomber tries Surgical Strike Building but is
    interrupted by attack from Anti-aircraft Artillery."

    Another thing that would make this action more usable is the ability to
    exclude certain target buildings, like wonders.

    See gna patch #7683
    See hrm Feature #848643

commit a69c9e441f06b4cb5a6082149c2d98d10cf5dc6f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Nov 22 12:22:38 2019 +0200

    installer_cross: Generate gschemas.compiled at target

    Do not ship gschemas.compiled from build host, but generate
    it when installing.

    See hrm Feature #848649

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d6cce37c5297ca267e246eb428578a82cbd36a1a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Nov 22 20:46:56 2019 +0100

    4 generic unit action events.

    Introduce the generic events e_unit_action_actor_success,
    e_unit_action_target_hostile, e_unit_action_target_other and
    e_unit_action_actor_failure for new (or previously silent) action messages.

    See hrm Feature #848791

commit d927c0a8486aae44a9bf5533738cb312ba73ab02
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Nov 22 08:23:05 2019 +0100

    Make exit transport requirements consistent.

    A unit was forbidden from exiting a transport to its current tile if it was
    fueled or was losing hit points at that tile and the tile didn't have a city
    or an Extra where it could refuel. But it could exit the transport to the
    same tile by waiting for the transport to move one tile and then move to the
    tile it couldn't alight or unload on.

    Make transport exiting to same tile consistent with transport exiting to an
    adjacent tile by removing this hard requirement from "Transport Alight" and
    "Transport Unload".

    See hrm Bug #848658

commit 38ca32702ce19a1980db32e4c18a96f79c842de9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Nov 22 05:45:37 2019 +0100

    New action "Transport Unload"

    Introduce the new action "Transport Unload". It covers transporter initiated
    unloading of a target unit to the current tile. It doesn't cover unloading
    followed by movement to another tile or followed by an action. It doesn't
    cover cargo initiated unloading. It doesn't cover transferring directly
    to another transport.

    See hrm Feature #848492

commit 37e8ec55499f3d473b5845e875a5eedd52894e14
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 21 13:29:49 2019 +0100

    New action "Transport Alight"

    Introduce the new action "Transport Alight". It covers cargo initiated
    unloading from a transport to the current tile. It doesn't cover unloading
    followed by movement to another tile or followed by an action. It doesn't
    cover transport initiated unloading. It doesn't cover transferring directly
    to another transport.

    See hrm Feature #848430

commit fa6683ebd50e2f39748b801cf467ee7e16d34f8e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 21 11:09:29 2019 +0100

    New effect Action_Success_Target_Move_Cost

    Introduce the new effect Action_Success_Target_Move_Cost and use it to soft
    code successful action target move cost for the action "Expel Unit".

    See hrm Feature #848435

commit 94c41483f6c5d49512cdd9c17b5464a31555d311
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Nov 20 06:12:56 2019 +0100

    Clarify Action_Success_Actor_Move_Cost docs.

    Specify that the move fragments subtracted by Action_Success_Actor_Move_Cost
    applies on top of any movement fragments the action itself subtracts.

    See hrm Feature #848229

commit 028e38f53703d8a248bd9731e67c1f059f6b26a2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Nov 20 18:01:19 2019 +0100

    Auto help: document will never autoattack.

    See hrm Feature #848344

commit 86569c660fcac986d62c610ea7d68deabaf496f6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Nov 20 16:56:42 2019 +0100

    Auto help: mention how much "Heal Unit" heals.

    See hrm Feature #848326

commit d6110db7693cf41087f6209e0a912bbd3d445adf
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Nov 20 09:49:36 2019 +0100

    Load and store OutputType reqs by rule name.

    Read and save OutputType requirements by rule name rather than by (translated
    in the case of writing) vernacular name.

    See hrm Bug #848260

commit 2364e2a6d61c962c86cd6d2aaf98c9349645145d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Nov 20 06:57:37 2019 +0100

    Auto help for death inside nuclear blast.

    The nuke_pop_loss and nuke_defender_survival_chance_pct ruleset settings were
    added in hrm Feature #801780. Auto document them.

    See hrm Feature #848233

commit 7cf73c9ce29906545d3228ca6acf50cd16dcfa7b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 19 15:01:54 2019 +0100

    Attempted BokmÃ¥l translation of new strings.

    My attempt at translating the strings introduced in hrm Feature #848070 to
    BokmÃ¥l. Marked as fuzzy since I'm a Nynorsk (not BokmÃ¥l) user and the
    translation was quick.

commit f4be6c443dbffc20b18a65b454abb5c3bd621bd7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 19 15:00:41 2019 +0100

    Auto help: document Casus Belli for unit actions

    See hrm Feature #848070

commit 3d0acf5cdd5995608a22beeb5280dfb5f59d50a2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 19 13:14:24 2019 +0100

    Set counter to 0 before use.

    The code that adds text to unit actions explaining that an action can't be
    done if another action is legal uses "i" to count the number of blocking
    actions. It assumed that i was 0. But code may be added above that writes to
    i without setting it back to 0. Set i to zero so such code won't cause
    problems.

    See hrm Feature #848052

commit 3f7d417daf4910d3801e11aecab2f0787e1489b8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 19 11:16:13 2019 +0100

    universal_fulfills_requirement: support DiplRel.

    See hrm Feature #848034

commit 03f4b02ab5d78c1476d5dc8ae70ce0b007d457c5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 19 09:12:15 2019 +0100

    Improve no universal found function handling.

    See hrm Feature #848027

commit 77680913120f67710b3af00101f83ff314174402
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 19 07:12:24 2019 +0100

    Replace magic number of EFT_CASUS_BELLI_* amount

    ...with the macros CASUS_BELLI_VICTIM and CASUS_BELLI_OUTRAGE.

    See hrm Feature #848015

commit 18f08b5b36e2535f421e8f0f0c86eefd2cd38ff8
Author: Zeko <zeko@freeciv.xyz>
Date:   Sun Nov 17 07:45:49 2019 +0200

    Call get_tooltip_improvement in Qt client with city pointer

    Reported by Marko Lindqvist

    See hrm bug #846914

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 945a27c649e08657f7edf8282dc42726250b0873
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Nov 17 06:08:34 2019 +0100

    webperimental: adjust "Heal Unit" cost.

    The only unit that can do "Heal Unit" is the Leader. Spending all his
    movement points to heal up to 25% of some unit's hit points is too expensive.
    Reduce the cost to a single move.

    Feature #847689

commit 8dcf0aa583e939568f63bf28a790c3ea946499c1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jan 13 14:03:33 2019 +0100

    Ruleset saving (ruleup) test.

    See hrm Feature #752136

commit b6e01c4068e364d9f375971d8f4de9a6d7776f47
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 16 07:09:26 2019 +0200

    Switch from python to python3

    See hrm Feature #842994

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 25a386b3fd3bc9f5df54c0bc0685d000b2128f2e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Nov 15 13:57:58 2019 +0100

    Clarify that actor unit may be a non diplomat.

    The unit action server query code started by reusing the existing spy action
    code. The actor unit was therefore often referred to as diplomat. Change
    names to make it clear that other kinds of actor units may use this system
    too.

    See hrm Feature #847398

commit f2173409a8e09fea9fecfb79ddf7dcf64fdab425
Author: Andreas RÃ¸sdal <andreas.rosdal@gmail.com>
Date:   Wed Jun 14 22:44:10 2017 +0200

    Set MAP_MAX_SIZE to 38 for Freeciv-web.

    Freeciv-web has carried a patch to increase max map size for Freeciv-web
    since 2017. MAP_MAX_SIZE is inside an ifdef FREECIV_WEB in Freeciv. Apply the
    patch Andreas added to Freeciv-web to Freeciv so Freeciv-web can drop it.

    See hrm Feature #847376

commit 23ae684640fc1995301f3a427ce8ffbafcbf19ae
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 14 04:36:42 2019 +0100

    Auto help: document unit turn ending actions.

    Document actions that ends the actor unit's turn because of the effect
    Action_Success_Actor_Move_Cost. This makes it consistent with how "Attack"
    ending the actor unit's turn because it has the OneAttack unit type flag is
    documented.

    See hrm Feature #847267

commit 28a69a38ec6a368b91b5a3d5cb0c0c28dd8a07ab
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 14 10:03:51 2019 +0100

    universal_fulfills_requirement: support actions.

    See hrm Feature #847262

commit 9c7607db530480fb1ad6590b7fbeb8538708159d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Nov 13 07:32:24 2019 +0100

    New effect Action_Success_Actor_Move_Cost

    Introduce the new effect Action_Success_Actor_Move_Cost and use it to soft
    code successful action move cost for the actions "Establish Embassy",
    "Investigate City", "Bombard", "Capture Units", "Expel Unit" and "Heal Unit".

    See hrm Feature #846773

commit cfa2ebccba99605c193045b153d449bef4a3ac6f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Nov 13 14:49:14 2019 +0100

    Include terrain_control in movement.h.

    SINGLE_MOVE and MOVE_COST_IGTER in movement.h refers to terrain_control.
    Include it.

    See hrm Bug #847090

commit fa071cd3aae5506330e23088c34c341bec588108
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 12 10:46:27 2019 +0100

    Centralize successful action move cost.

    Successfully performing certain actions has a movement price that is
    subtracted after the action is done. Centralize this subtraction for the
    actions "Establish Embassy", "Investigate City", "Bombard", "Capture Units",
    "Expel Unit" and "Heal Unit".

    See hrm Feature #846967

commit 423625c68619eb32585aa762c596bbecf49642b5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 12 13:05:45 2019 +0100

    freeciv-manual man page: document tech output.

    See hrm Bug #846835

commit 4e57e3b9332b6c1dfdb37362394351bcaf140545
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 12 10:30:26 2019 +0100

    Replace magic number of max move frags...

    ...with the macro MAX_MOVE_FRAGS.

    See hrm Feature #846809

commit 0a92b6869180ae94dd23840f9ed36716bc1431d9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Nov 10 18:05:42 2019 +0100

    Move unit_type's need_improvement to build_reqs.

    Move unit_type's need_improvement to the internal build_reqs requirement
    vector.

    Don't change the ruleset format. The requirement vector support for unit_type
    isn't ready to be exposed yet.

    See hrm Feature #846539

commit 6a56d14d4aa880a827916a1842029536beb488d3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Nov 11 00:25:35 2019 +0100

    CanPillage unit class flag to the ruleset.

    See hrm Feature #846557

commit b18930195a8cbe9bf05fac1705501c9ee9043e0b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Nov 6 18:46:39 2019 +0100

    Internal unit type requirement vector.

    Add the requirements vector build_reqs to unit_type. Store unit type's
    government requirements in it. Replace use of unit_type.need_government with
    use of the requirement vector.

    Don't change the ruleset format. The requirement vector support isn't ready
    to be exposed yet. (When it becomes ready it will probably have another form,
    like an action enabler for an action with a city actor.)

    See hrm Feature #846538

commit 997edc7cddbd0f51fece3eef8bf0307f352407ff
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Nov 10 14:59:28 2019 +0100

    Fix city worklist building postponing.

    Make building postponing happen again.

    See hrm Bug #846514

commit 2cc1bb29ccdca168cf12831db849f45ccc132f65
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 7 12:25:53 2019 +0100

    Factor out postpone build req vec reasoning.

    Factor out worklist_change_build_target()'s logic that goes over an
    unbuildable building's requirement vector to see if it should be postponed or
    canceled.

    See hrm Feature #846513

commit d3bcfd37fb1f4b3f8fb427aa1c2cca2635ac9e82
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Nov 8 07:20:05 2019 +0100

    Comment fact fix

commit 6d125fcde6d8905b4b651e94af7f54a513a299bd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 7 08:04:26 2019 +0100

    Add more unit class user flags.

    "Missile" moved to the ruleset. A 3.0 ruleset may use all 8 itself. Add more.

    See hrm Feature #846122

commit 639b2667030309fd0b0b362e0ed9c7b29968ed7b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 7 08:09:04 2019 +0100

    Fix comment typo

commit c99f29bd4f0130276f0713ea8e655da48fb8ff22
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 5 13:31:28 2019 +0100

    protocol: standardize action main target fields.

    Action sub target fields are already transferred as ACTION_SUB_TGT. Do the
    same for main targets by introducing ACTION_TGT. It is large enough for all
    main target kinds.

    See hrm Feature #845766

commit 745a2a230e923c07a3f24d849f2c740338a1651b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Oct 30 23:46:44 2019 +0100

    adv_data: stop claiming utype flag control...

    ...over the action enabler controlled unit abilities "Paradrop Unit",
    "Airlift Unit" and "Suicide Attack".

    See hrm Feature #845488

commit e9436a809f6f6630835cef0d15cff42698f13f7c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Nov 17 17:26:42 2018 +0100

    Missile uclass flag to the ruleset.

    Move the Missile unit class flag to the ruleset and lift the restriction that
    a unit that can perform "Suicide Attack" can't perform regular attacks.

    This makes units that can attack the normal way but also perform suicide
    attacks possible. Rules for what circumstances permits regular attack and
    what circumstances permits suicide attacks are action enabler controlled.
    Example rule: an air unit that has to perform a Kamikaze attack to fight sea
    units. It has combat bonuses against sea units to make the Kamikaze attack
    worth performing.

    See hrm Feature #787111

commit 8b2989b6680c94400aa87b1ded219a141123af6a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 5 13:00:31 2019 +0100

    Fix incomplete comment.

commit 26b61a8bb2ba7ea04203dffd3cee5d1b48f25032
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 20 04:39:33 2019 +0300

    Update included lua-5.4 to version 5.4.0-beta

    This is only a version number update in documentation.

    See hrm Feature #842591

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a0cb02cf37a2ed9fd49fd87048ea5e4b3ccf5e9b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 12 19:19:35 2019 +0300

    Update msys2 environment to 191012 level

    See hrm Feature #841414

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a9b94235d1677a86a8a4b2902be1bdfa6528e518
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 12 05:37:42 2019 +0300

    Update included lua-5.4 to version 5.4.0-beta-rc2

    See hrm Feature #841262

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ac45f28be09dc3bf14a2604c1871f6939ee0fbec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 12 05:22:39 2019 +0300

    Make extra placing to take place at turn change

    Extra placing is no longer an immediate action.

    See hrm Feature #826830

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dcc3eb32d7cc68431eac573ad760e73bbcccb934
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Fri Oct 11 11:27:12 2019 +0200

    Updated French translations

commit ab1c8f2a914300783f769819bed37c848c66721a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 7 15:25:42 2019 +0300

    Fix segfault at loading older format savegame

    Conversion of the action_vector was trying to save excess, uninitialized,
    elements.

    See hrm Bug #840623

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 94a27480f3a66b79bbaefd4cc79847a57ef32770
Author: Louis Moureaux <m_louis30@yahoo.com>
Date:   Mon Oct 7 01:43:15 2019 +0300

    Replace Qt client-side rally points with server-side ones

    Server-side rally points have numerous advantages. Shortcomings to be addressed in future patches:

    * Possible crash if a city is destroyed while setting its rally point (issue #830553)
    * Orders are not displayed while setting the rally point
    * Only supported by the Qt client

    A shortcoming of server-side rally points is that they can only be set if an unit is being built.

    See HRM feature #840514

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7176e19a7fb8317767d533320a00f63cfa770a92
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 5 23:50:29 2019 +0300

    Update included lua-5.4 to version 5.4.0-beta-rc1

    See hrm Feature #840145

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 243d5ad0745e2409667d4398c5814d7d2ec918c0
Author: Louis Moureaux <m_louis30@yahoo.com>
Date:   Fri Oct 4 09:28:11 2019 +0300

    goto.[ch]: add support for rally points

    Add functions to send rally point packets to goto.[ch]. The interface
    mirrors the one used for normal goto orders.

    See HRM task #838543

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 461b045bff0ddc5cb740ef76de29c315cf7b30d4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 4 09:05:07 2019 +0300

    Set RULESET_COMPAT_CAP to "+Freeciv-3.0-ruleset"

    See hrm Feature #820799

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 841ad229df9e1bae5350046145e2d47045a7e439
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 4 08:21:10 2019 +0300

    Set master soundset capstr to "+Freeciv-3.0-soundset"

    See hrm Feature #820798

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5b160a5990561219dac7f7cc4e2f00515216752e
Author: Louis Moureaux <m_louis30@yahoo.com>
Date:   Mon Sep 23 06:10:53 2019 +0300

    Factor out make_path_orders in client/goto.c

    The new function will be used for rally orders.

    See hrm Feature #835674

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e9164a6f71bdcc7093e4aae8abb09d9b9d377faa
Author: Louis Moureaux <m_louis30@yahoo.com>
Date:   Thu Sep 5 14:20:56 2019 +0300

    Update README.delta with information about struct fields

    See hrm Feature #834328

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6f6d707e827bdc6d2f85712b2b3bd35497d79c96
Author: Zeko <zeko@freeciv.xyz>
Date:   Wed Sep 4 01:45:33 2019 +0300

    Remove unused function: tile_{add,remove}_{base,road}

    See hrm #831057

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e32e134c64dfcec56cd435804eab6c565bf1c648
Author: Louis Moureaux <m_louis30@yahoo.com>
Date:   Tue Sep 3 15:59:48 2019 +0300

    Network protocol: turn unit orders into array of struct

    Unit orders were sent as 5 distinct arrays:

      ORDERS orders[]
      DIRECTION dirs[]
      ACTIVITY activities[]
      ACTION_SUB_TGT sub_targets[]
      ACTION_ID actions[]

    This combination was used four times in the protocol. This commit turns
    all of them into a single array:

      UNIT_ORDER orders[]

    This change simplifies the interface of some orders-related functions,
    making it possible to share code between goto and rally points.

    See hrm Feature #833667

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e78bf3730c6e8f62b080008116e364885f333c5b
Author: Zeko <zeko@freeciv.xyz>
Date:   Fri Aug 30 05:01:21 2019 +0300

    Remove unused function: zoc_ok_move

    See hrm #831056

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit faf49be4fc5a85283294a8a8e9060cdbc6329bfb
Author: Zeko <zeko@freeciv.xyz>
Date:   Thu Aug 29 17:28:16 2019 +0300

    Add handling of SDL_FINGERDOWN events

    See hrm #831742

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 819a49c7973fdbf19f0e0de05e6a174872d74ba3
Author: Louis Moureaux <m_louis30@yahoo.com>
Date:   Thu Aug 29 13:49:35 2019 +0300

    Move do_make_unit_veteran() to common/city.h

    Also rename it to city_production_unit_veteran_level since it doesn't
    do anything to the unit.

    This function is needed in the client in order to set rally points.

    See hrm Feature #830557

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 67a9b6ae8e197e71115a8bfbdb5d5db6ba5538d9
Author: Zeko <zeko@freeciv.xyz>
Date:   Sun Aug 25 08:28:51 2019 +0300

    Remove gui_iconv because it is dead code

    See hrm #831012

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 598d2dc388b73d84550c5573c10b8b6209fdad61
Author: Zeko <zeko@freeciv.xyz>
Date:   Sat Aug 3 10:05:03 2019 +0300

    Fix multiple declaration of pOptions_Button

    See hrm #829535

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a255f35f41ffb55dc4e6c1bf9864714c5d8b2c7e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 3 09:49:05 2019 +0300

    Fix gcc9 warning in mapimg_generate_name()

    See hrm Bug #830116

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a53ac41fc25ae24b2f768db863374c5965e73738
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 30 21:51:41 2019 +0300

    Meson: Install stdsounds

    See hrm Feature #829523

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 445c845c13cb5a6c27d961c3277f04960af3d036
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 18 11:54:19 2019 +0300

    Granularity: Use default nationlist

    See hrm Feature #827548

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3639cd98396d7ae17a9400d5fa068204d44d1c1f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 26 23:48:14 2019 +0300

    Travis CI: Use 'apt' instead of 'apt-get'

    See hrm Feature #829052

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 95346174b81240dd78663df1a1694bc145d89107
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 18 12:04:31 2019 +0300

    Add AI trait "Builder"

    See hrm Feature #825086

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8373f31c0e40fd70cbd37eb45a3e5785dc166b96
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 27 09:43:00 2019 +0300

    Update msys2 environment to 190727 level

    - Updated to use upstream snapshot 190524
    - Empty package cache

    See hrm Feature #826810

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c93f95b6ccbf13ee521bf1496538263ffe43e8ae
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 17 07:44:18 2019 +0300

    Granularity: Multiply move costs and rates by 5

    Make units subject to terrain move costs for the correct costs
    to apply to them.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 503b5e2cf6168f9593482a52db125bda2a98b50b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 18 09:38:38 2019 +0300

    Alien: Replace ui_name_irrigate_tf by ui_name_cultivate

    See hrm Bug #827524

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2704537a7f3a988bbc0f9abd2f4d4756d0fce67f
Author: Yaron Shahrabani <sh.yaron@gmail.com>
Date:   Thu Jul 18 10:01:37 2019 +0300

    Female Kibutznik is Kibutznikit

    Changed to the correct form

    See hrm Bug #829168

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7e583860621cfae0a0fa7ae24711e9be6d9d3307
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 16 05:37:33 2019 +0300

    Granularity: Set base Max_Rates effects

    See hrm Feature #826832

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3e6fab18db4410c046cb023e4e2316f421849389
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 18 08:51:39 2019 +0300

    Meson: Install gtk3.22_menus.xml

    See hrm Feature #827508

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b1ec8176c8fcab4f64f0e23660a4461a3a3b8c79
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 17 12:44:18 2019 +0300

    civ1: Remove max rates limits for tax/sci/lux

    Reported by nef

    See hrm Feature #827329

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f6cca34be04f811cab76027a0b8684bc3fbaa182
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 16 02:21:51 2019 +0300

    Granularity: Setup Grassland terrain

    Replace Generic terrain with Grassland. Make it to provide 200 food.

    See hrm Feature #826807

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 85016b1ca4f24092aec3b154a64ec61fe1296fb2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 15 20:28:10 2019 +0300

    Granularity: Multiply attack/defense values by about 10

    Nomads have attack & defense of 7 instead of 10.

    See hrm Feature #826739

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0f1ddb15357291f5703ed329a23bd7d9532732c6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 8 00:57:00 2019 +0300

    Disallow placing extras where also workers are making changes

    See hrm Feature #825236

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 145acd4429f0bc48c84ed740a6ed71aa12f0a4d1
Author: Zeko <zeko@freeciv.xyz>
Date:   Fri Jul 26 21:22:48 2019 +0300

    Remove unsafe QString construction from uninitialized char array

    See hrm bug #827171

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 965af7e322d25e41e14a2bedb1a4041a2d68f070
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 15 09:15:33 2019 +0300

    Meson: Install large flags

    See hrm Feature #826396

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e6d87fe0003a8ef821029a768caaba7d6bbbbd95
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 8 01:41:10 2019 +0300

    README.scenarios: Add chapter about savegame compatibility

    See hrm Feature #825240

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 828ee717266f9619e63c73a61adb55e8acd4e874
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 7 12:01:55 2019 +0300

    Granularity: Add base "Size_Adj" effects

    See hrm Feature #825214

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3945c3da2f842c1df07fd17952459beab41d9b1b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 17 05:57:48 2019 +0300

    README.packaging: List tex ai being built in by default in new features

    See hrm Feature #827157

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cfa277790d74cae0ee4d0ec1c5a46d8af1882e2c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 7 01:02:20 2019 +0300

    Rename comments.txt as comments-3.1.txt

    See hrm Feature #825209

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 267f259abac3301f9e48303f61f2c849e98b5cd5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 5 09:17:07 2019 +0300

    Add adv_choice_get_use()

    See hrm Feature #825091

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4967e4a153e8575aaddb801df2de1e722b211c8f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 22 21:40:53 2019 +0300

    Fix stringop-overflow compiler warning in xml registry

    See hrm Bug #828263

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 99feab328d942777b97d7080f1fd97fe491d6f8d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 20 16:42:52 2019 +0300

    Update to crosser-1.8

    See hrm Feature #827999

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1b701966a50bfb57378094d1441ae2e7ef3b6f44
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 23 10:16:51 2019 +0300

    Comment typofix: "is is" -> "is"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 174830b7e30a051f21c0cc1c2e2d2a4543079a78
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 23 09:51:38 2019 +0300

    Typofixes: "Is is" -> "It is" / "Is it"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9e82a78d3cd219b72f8fde411c632eaba6ed4686
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 9 02:02:13 2019 +0300

    Meson: Install building and wonder icons

    See hrm Feature #825445

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 24e761e11c4080c2ecc00a828e10f1aaf5b7f886
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 5 19:33:24 2019 +0300

    Disable FIELD_RANGE_ASSERT

    It has been enabled by accident.

    See hrm Bug #825126

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c8d550a8acbff66cb52b44e04cc6604820bc471b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 5 04:12:51 2019 +0300

    find_something_to_kill(): Count considered unit as one more attacker

    When counting how many units there would be to attack enemy city,
    and considering an unit to be built, count the considered unit in.
    Maybe attack is worthwhile with the new unit.

    See hrm Feature #825074

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b03849f0a3823ebf5bbf2535a0308174aa0f85c3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 5 02:06:09 2019 +0300

    Help: Do not claim that extra is placed by generator when it's not

    If extra has 'generated = FALSE' help should not say it's placed
    by map generator. Also, made it to say that generated extras
    of resource kind are placed by map generator.

    See hrm Bug #825071

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e768799056e99738debe16dca2bb676b24922ee9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 18 11:50:08 2019 +0300

    Do allowed_terrains check against original city name hint

    The code to check if terrain given as city name hint exist modifies
    the name to check also non-plural form if the terrain is not found
    with original. Later allowed_terrains check should be against the
    original name given in as the hint regardless.

    See hrm Bug #827555

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a1bae5a16c0c38a07722a2764b552df4f0150e84
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 4 20:01:08 2019 +0300

    Meson: Build freeciv-mp-cli

    See hrm Feature #825023

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 53913c2e6fada531c555ff13a1a4cb39d287b920
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 4 21:41:24 2019 +0300

    Granularity: Add first techs

    Set tech requirements for existing units.

    See hrm Feature #825029

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1aaa409d6748d68703e669652895995d86e99c51
Author: Louis Moureaux <m_louis30@yahoo.com>
Date:   Thu Jul 18 03:13:26 2019 +0300

    Fix negative array index in send_path_orders

    i can be equal to 0 after the loop when a final_order was given without a path.
    This caused p.orders[-1] to be read. Prevent it by requiring i > 0.

    See HRM issue #827156

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d15a8e054fd2b203a2a4799d2355fb0492c5dd3c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 5 03:53:42 2019 +0300

    Fix military advisor to consider sea attacker instead of land attacker twice

    See hrm Bug #825073

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ea15fc761acc4145ed984cab87dcf8e135360071
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 4 01:52:55 2019 +0300

    Meson: Install techs.png

    See hrm Bug #824833

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5975091fb230233c3eefbb9d708da10b0a265a02
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 2 17:26:58 2019 +0300

    Granularity: Set output_granularity to 100

    Multiply output values by 100 everywhere.

    See hrm Feature #824526

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1b9627a677fe9c4bd7215ba0919652899a1037fc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 4 17:55:21 2019 +0300

    Update included luasql files to luasql-2.5.0 level.

    See hrm Feature #824990

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4655d120a7f70187a63459653eea45cc289d920d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 29 18:54:07 2019 +0300

    PF: Support move costs bigger than 253 in fuel maps

    See hrm Bug #824102

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1a506932ed2c5c18e136a353eab5be57f5abdf74
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 4 01:43:14 2019 +0300

    Meson: Add checks for functions

    See hrm Feature #824830

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1fbca91d97f2cca603a09fac992c5cbf308329e2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 18 11:59:38 2019 +0300

    Adjust network protocol for high granularity

    See hrm Feature #826808

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a2c9db1b27dcf7c08c97658419626613eb926881
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 4 00:10:13 2019 +0300

    Alien: Give "NeverProtects" flag to Burrowing units

    See hrm Feature #824810

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 428a9388839c5d64a2a256691e3d4e749444d4cf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 15 03:21:24 2019 +0300

    Bump .modlist, .mpdl capability string

    See hrm Feature #826215

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a527d19d529f620d69570a5d84945f64781d21d5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 3 22:57:26 2019 +0300

    Sandbox: Do not call default.lua hut handling for Hermit's Place

    Reported by Alexandro Ignatiev

    See hrm Bug #824818

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit af5ff75b5b907416a90c5f784cc7617cd6a4ba6e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 8 01:25:15 2019 +0300

    civ1: Don't allow planting Forest to River tile

    Reported by nef

    See hrm Feature #825239

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 88dedbc15d26b8c0ddddbc1225367742fc0c5db5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 3 03:52:49 2019 +0300

    Granularity: Set base City_Unhappy_Size effect

    See hrm Feature #824596

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6591a59eca999c4726c30381da767928f592f50d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 2 22:59:20 2019 +0300

    Tex: Use tex map unit list when evaluating city worker tasks

    Use worker thread's copy of player unit list when evaluating city worker
    tasks, to avoid trouble when workers get killed in main thread while worker
    thread is going through tasks they could be doing.

    See hrm Feature #824565

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8ccf0ccb6a55961c7217573a9576b81daeb63d13
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 3 04:44:56 2019 +0300

    INSTALL.meson: Document important upstream implemented configure options

    See hrm Feature #824597

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 060e6bef5379c373f1d852b3caf057d3ee7a35e2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 16 00:46:56 2019 +0300

    Rename aicity.c as daicity in POTFILES.in

    See hrm Bug #826803

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fe0c5da47043d2993a62a4c0275e00aece008dec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 29 21:15:41 2019 +0300

    Rename ai/default/aicity.[ch] as daicity.[ch]

    See hrm Feature #824110

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f9fbee362750bda9288d738d0215203a8381a203
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 7 13:59:55 2019 +0300

    Granularity: Set summary text to granularity ruleset one

    Replace summary text derived from stub ruleset, and specific to
    stub ruleset, with a text suitable for granularity ruleset itself.

    See hrm Feature #825217

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c9251a5ef4795c7bfbae30271a4ef62f6e852c6e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 3 00:39:45 2019 +0300

    Meson: Check for fork() and vfork()

    See hrm Feature #824588

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 46cb1b65593792fcbfce039008127c07407e2e75
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 29 16:54:05 2019 +0300

    AI: Consider "Coast" units usable boats

    Relax is_boat_free() check against fuel using units to allow
    UTYF_COAST units to be used as boats.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ede67b466ad1319daad2f2a59c121b09aae13d2b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 2 22:38:50 2019 +0300

    Bump .tilespec and .spec capstrings

    See hrm Feature #824555

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 319847140ba4e54ba2e607409c38895844913e72
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 7 12:38:25 2019 +0300

    Adjust max values for ruleset settings for high granularity

    See hrm Feature #825215

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9bb4349d07b4198f89f46932eff55f3cdd47d2c6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 29 18:52:26 2019 +0300

    PF: Correct check against impossible move in pf_fuel_map_iterate()

    See hrm Bug #824100

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c88ffff5694be8375c4104baf168419db8efa486
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 13 23:23:30 2019 +0300

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e76d82582490e249aea5c339c988f290d2ef6b0c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 30 11:42:18 2019 +0300

    civ1: Correct River helptext

    It was claiming that River can exist on any land terrain when in
    reality it can exist only on Grassland.

    Reported by nef

    See hrm Bug #824129

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f609fa628407e534ea15676d7e38844b0d419acd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 13 06:28:42 2019 +0300

    Add history_interest_pml ruleset setting

    See hrm Feature #823245

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 586ad2253a683eb22ba0c3b2ebd8811422c64868
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 29 09:41:29 2019 +0300

    Meson: Set IS_DEVEL_VERSION

    See hrm Feature #824085

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 02419650ebdb8ebb455c2e74257640281a021b63
Author: Zeko <zeko@freeciv.xyz>
Date:   Sun Jul 7 10:27:38 2019 +0300

    Clarify helptext for airliftingstyle setting

    See hrm #825210

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a38a2d3ff140d837952597f8bfd5ed67d4bba54c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 29 18:48:01 2019 +0300

    PF: Handle FC_INFINITY move cost in fuel maps

    tile_move_cost_ptrs() uses FC_INFINITY to flag that all
    movement is spent. Handle that special value if received
    in pf_fuel_map_iterate()

    See hrm Bug #824099

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 78839df322cad1532ca33f5f66d986673f77cb68
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 29 06:12:01 2019 +0300

    README.scenarios: Add chapter 'Luadata'

    See hrm Feature #824071

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6082bd4886ed1459f411617ee3da7395a756278e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 8 02:18:53 2019 +0300

    Fix gcc9 warning in NDEBUG build

    See hrm Bug #825241

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f76f6c8a63e91412bd033ccbe2b8f8694fc7acac
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 29 10:39:58 2019 +0300

    Allow placing extras to own territory only

    See hrm Feature #824087

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6270ecb8971e36c66be022668ae24c2a57fd7882
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 28 06:42:11 2019 +0300

    Meson: Install stdmusic

    See hrm Feature #823707

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cc98cbafeb3ea674e9f0102c312c1b31a8ff01c9
Author: Zeko <zeko@freeciv.xyz>
Date:   Thu Jul 11 02:54:48 2019 +0300

    Implement server side of the rally points

    See hrm Feature #822928

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 782f25c8fcdc9c14803cffa03b7cc75e0b6dd591
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 7 23:06:34 2019 +0300

    Qt: Correct display of adversary luxury rate

    Reported by Jacob Nevins

    See hrm Bug #825218

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5629c729c0b78a467f6930ae13860f1ef4f01ca3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 29 09:26:40 2019 +0300

    Granularity: Add Nomad and Warriors unit types, remove Generic

    See hrm Feature #824080

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7b5461cbbac874bb7773ec5dfefe23d5be899421
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 26 05:26:00 2019 +0300

    README.scenarios: Document [scenario] fields

    See hrm Feature #823395

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 158b11d4c8e35c3d920ba88b93e5a20e70720f86
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 28 06:38:24 2019 +0300

    Meson: Enable audio

    See hrm Feature #823706

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b6439cb1a93dfd7b2aec5a40b026fa6db7252dd9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 10 00:10:54 2019 +0300

    Add ACTIVITY_CULTIVATE, ACTIVITY_PLANT

    They do only tile transformative part of
    ACTIVITY_IRRIGATE/ACTIVITY_MINE. ACTIVITY_IRRIGATE/ACTIVITY_MINE
    are not changed; they still do both extra building and tile
    transformative forms, as they are still what is actually used in
    most cases. There's no way to initiate the new activities from
    the client.

    See hrm Feature #824074

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2cd6d13c35e4f5c2d2139ddc80ef4dbcd92232d9
Author: Zeko <zeko@freeciv.xyz>
Date:   Sun Jul 7 10:18:44 2019 +0300

    Fix heap buffer overflow when stripping string prefix

    See hrm bug #769012

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a66022307d134249d479b659abf3f07e00f5f330
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 28 21:47:46 2019 +0300

    Add configure option --enable-ruleup

    See hrm Feature #823938

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 647412ee2a9d6e013896c4fabb1229930c05df96
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 24 23:14:08 2019 +0300

    INSTALL.meson: Add chapter about prerequisites

    See hrm Feature #823133

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ff67f1613da6a14c288ad160204bbb8f3d13b4ba
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 28 08:11:40 2019 +0300

    Granularity: Add Settlers unit type

    - Add action enabler for city founding
    - Add Settlers unit type
    - Remove "CitiesStartUnit" role from Generic unit

    See hrm Feature #823714

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 78d2c0175d52d3c72d9bdba1be57121f1ba471c6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 9 00:10:33 2019 +0300

    Add extra rmcause "Enter", use it for huts

    Patch by Alexandro Ignatiev and myself

    See hrm Feature #802768

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ce89223df146dbdc0a637294d192343f95672a17
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 1 16:16:09 2019 +0300

    PF: Fix handling of NS_PROCESSED in fuel map iteration

    In case of fuel map iteration, even already processed tiles can
    be rechecked if they are not refuel point. Make sure that when
    that happens, they do not end to main queue, but only to waited_queue.

    See hrm Bug #824278

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 31d50eb11f054e10e11ff3225ad4c7c3be97dd4c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 1 23:06:53 2019 +0300

    Rename "Irrigate TF" action enabler as "Cultivate"

    See hrm Feature #821921

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 94257d4c010fb5f3d36dca65092878acfaeda645
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 25 19:19:56 2019 +0300

    civ1: Make Great Wall to protect against population loss

    Great Wall is documented to be equivalent of having City Walls
    in every city. City Walls protect against population loss, so
    Great Wall should too.

    Reported by nef

    See hrm Bug #822929

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 14476905b94277d6beb428814acea2b5c29b7803
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 24 07:06:44 2019 +0300

    Meson: Define FREECIV_DEBUG in debug builds

    See hrm Feature #823013

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c43f6bde93034eef1447bf2a99fe47ae0962fa73
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 24 22:30:53 2019 +0300

    Travis CI: Make also C++ compilations with -O3

    See hrm Feature #823123

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit beff81a442e2c769f9eda895c5c0dd4f52f42d2c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 24 17:43:37 2019 +0300

    Tell ruleset section name in ruleset update log warnings

    Converting some 3.0 effects to 3.1 action enablers can result
    in warnings in the conversion log. Tell which ruleset section
    they are about.

    See hrm Feature #823056

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8c9e0d5abd44c43c1eff92a4d563bb78fba71167
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 5 19:07:42 2019 +0300

    Make food_stock signed value in network protocol

    See hrm Bug #661865

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5626f4fec5ee04611589556af2116d4841226681
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 7 17:48:56 2019 +0300

    Add 'infracost' property for extras

    See hrm Feature #823926

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e5d8962bfc5e0cd257bf8efacf13572f133783bb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 23 12:23:10 2019 +0300

    Granularity: Setup file headers and descriptions

    See hrm Feature #822935

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6110ed1472b3dc70a27b88e66ff2f65a6db12f8b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 23 13:42:38 2019 +0300

    Meson: Install data/ruledit/comments.txt

    See hrm Feature #822959

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c37197d79a55feeba99a1aca3c0110dac13865e5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 23 10:57:49 2019 +0300

    Travis CI: Add granularity ruleset loading test

    See hrm Feature #822934

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 35def4fcdb3ee6f1fe0434ea8f511b149784af7f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 3 02:11:03 2019 +0300

    sdl2: Do not try to add callbacks to the list when client is closing

    Reported by ZoltÃ¡n Å½arkov

    See hrm Bug #824593

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d22393f2c2a22ee33ff0dda7f005e60348feaf1d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 23 01:13:04 2019 +0300

    Document --wiki option in freeciv-manual manpage

    See hrm Bug #822921

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 85567c921303df54deb331657a34d3fe3f2af622
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 23 07:54:08 2019 +0300

    civ1: Make only Artillery and Bombers to ignore City Walls

    Reported by nef

    See hrm Bug #822926

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3d94040eb30c36529bf7e6c4770136a78f8f75f3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 3 22:38:14 2019 +0300

    Display remaining infra points in infra placement dialog

    See hrm Feature #822922

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ceaad8dd7a3c7177fe45bfca78604c4ea50b7cc8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 30 01:59:50 2019 +0300

    Improve documentation of terrain.ruleset [extraui] section

    See hrm Feature #824117

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bd5f15b33c0db5e6f2b367ab7e039abe601fc3b8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 23 01:01:43 2019 +0300

    Add manpage for freeciv-ruleup

    See hrm Feature #658078

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 998dd219509f9f43bbb5ec5e2e1200d9602cc948
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 24 05:01:05 2019 +0300

    Meson: Build freeciv-mp-gtk3

    See hrm Feature #822920

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a6e7ac5536820318dab196349f403c16972106ed
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 22 20:45:05 2019 +0300

    Travis CI: Use python3 instead of python2

    See hrm Feature #822909

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0a86c72bdab44756315cbda4b78f3b7cece19f87
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 23 10:34:35 2019 +0300

    Copy stub ruleset as granularity ruleset

    See hrm Feature #822933

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5e73bcd35a8a42fa24a39ad4ac915e7f9f8f2496
Author: Zeko <zeko@freeciv.xyz>
Date:   Wed Jul 3 02:40:42 2019 +0300

    Fix arithmetic error in SDL2 create_line

    Reported by Ignatus and ZoltÃ¡n Å½arkov

    See hrm Bug #824589

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 320d4b6aa6f168da5ed66204628b08658369c040
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 22 21:48:32 2019 +0300

    Build libfreeciv-srv library when freeciv-manual or freeciv-ruleup enabled

    Server library was not built if both server executable and ruledit builds
    were disabled. Also freeciv-manual and freeciv-ruleup need it. When both
    server and ruledit were disabled, freeciv-ruleup build was failing and
    freeciv-manual build was implicitly disabled even if explicitly enabled.

    Reported by MÃ¡ximo CastaÃ±eda

    See hrm Bug #822914

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 46ad49a5363fed5ec2054f5c56e4234d720690f2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 22 20:44:46 2019 +0300

    Travis CI: Install python3.7 instead of python3.5

    See hrm Feature #822907

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d567a724498ec1763168009c637d8b0759c2b367
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 3 22:02:37 2019 +0300

    Add unit type flag "NeverProtects"

    Requested by Lexxie L

    Patch by S.C. L. and myself

    See hrm Feature #809471

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8d89a91194c7667675d57b5cbdd7c2e49ac2c371
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 20 03:50:18 2019 +0300

    Add initial version of README.scenarios

    See hrm Feature #822122

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d1af48588ca2b91dce5b2b0c43845deaf95cf53b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jul 1 22:56:40 2019 +0300

    Rename "Mine TF" action enabler as "Plant"

    See hrm Feature #821916

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 247cc047aff1c9e8a8fe7ec7fd8c4b6636114889
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 22 20:44:26 2019 +0300

    Travis CI: Build gtk3.22-client

    See hrm Feature #822905

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d70503c8a10cdb67cb97cba59f370b0adb4767b7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 18 20:43:20 2019 +0300

    Meson: Install individual nation rulesets

    See hrm Bug #822280

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 508296e673bfefa45625ee4d71e4f7ec4b7195c0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 2 17:24:22 2019 +0300

    Add output_granularity ruleset setting

    See hrm Feature #822932

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9161cc2aa2a77446f1888a994a94b58901f88148
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 29 08:48:58 2019 +0300

    entry_str_set(): Free old entry only after allocating a new one

    This supports the case where the new entry is supposed to be
    copy of the old one. This is useful when replacing only some
    entries of the string vector, i.e., keeping some unchanged.

    See hrm Bug #824076

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ee4d06a3c292ba6891a6b4c3ce4657b7a5ed6739
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 22 20:44:08 2019 +0300

    Travis CI: Update to use Bionic build environment

    See hrm Task #822903

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3a351826c86ca703d6b26daf54cf14563cbc3d2b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 18 19:20:30 2019 +0300

    Meson: Setup data paths

    See hrm Bug #821612

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 485728ee0c4a23233fe2ed41daa600ba113e8cc7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 25 16:46:04 2019 +0300

    Stub: Make styles.ruleset file header template-like

    Replace file header comment in stub ruleset styles.ruleset file
    with a similar comment and template description as in other
    stub ruleset files.

    See hrm Bug #822938

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6664a22584714a912d76f3ea65accd4b42e4b3ad
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 17 03:02:03 2019 +0300

    Introduce player_can_place_extra()

    See hrm Feature #821957

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a80a13faa344bc197454443ab89a94f68d8382f4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 15 04:03:03 2019 +0300

    gtk3: Use gtk_font_chooser_get|set_font()

    Replace gtk_font_button_get|set_font_name() calls with calls to
    gtk_font_chooser_get|set_font().

    See hrm Feature #821847

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 403d91b0a8e800286ad9b39a98311489d35f9ba5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 24 21:53:59 2019 +0300

    amplio2: Add extra_units.png|spec

    Art by XYZ, GriffonSpade, VladimirSlavik, and ngunjaca

    See hrm Feature #822790

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 081154d72a118475a3ac34a827ecfa53e0c6a03f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 18 18:58:10 2019 +0300

    INSTALL.meson: Document configure options

    See hrm Feature #822266

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8bdc68c066faca0e8c4919f5318a77ed5118c906
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 18 17:16:35 2019 +0300

    default.lua: Do not use 'type' as a variable name

    'type' is a name of standard lua function. It should be treated
    like it was reserved word.

    Reported by nef

    See hrm Bug #822189

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f456d213f304615e20750a24c5cc4bb865f1c127
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 29 17:30:23 2019 +0300

    Comment typofix: remeber -> remember

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 92ff326909b211246104f145471be0eea4d52d21
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 29 16:47:28 2019 +0300

    Comment typofix: are -> or

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 865ad341605556a56abce534e051189e98d2df20
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 26 08:07:35 2019 +0300

    rulesave: Fix erroneous newline breaking saved rulesets

    See hrm Bug #823431

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ab5fa13d8682d7ac2f05a9ad0a87bb0de130cd82
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 18 01:35:55 2019 +0300

    Add support for scenario specific luadata file

    See hrm Feature #822120

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5ea7ae00d782a457014cf4e66d40c0667d195148
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 15 04:37:44 2019 +0300

    README: State that gtk+-3.24 is ok for gtk3.22-client

    See hrm Feature #821848

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a7386df74306bb631a89d88ef2e4371920c7c11f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 27 17:00:30 2019 +0300

    Add concept of infrapoints

    In this initial version:
    - Added server setting infrapoints to control how many infrapoints
      players are granted in the beginning. Default is 0 to disable
      infrapoints feature. There's no other ways to get infrapoints.
      When they are gone, they are gone
    - gtk3.22-client is the only supported client. It has crude ui to
      place extras on tiles
    - Each player buildable extra costs 1 infrapoint to place

    See hrm Feature #821956

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6283e34c83ce6f166f090983f37193eceb8a8ac8
Author: Zeko <zeko@freecivweb.org>
Date:   Tue Jun 25 17:55:25 2019 +0300

    Correct off-by-one error in "land ahoy" achievement checker

    See hrm Bug #823174

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 646f4411a194b9bc5303b984067789e4cd3b0c04
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 16 19:48:10 2019 +0300

    Show player culture value in info label

    See hrm Feature #821946

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a150f4f51f57cd272aab5d8c12b8aa2bf49acaed
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 15 05:42:48 2019 +0300

    Document ruleset alt_dir support

    See hrm Feature #821831

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f5f8cc645c38c9e0b4294cc2e66b0e1e77df4f89
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 24 17:10:56 2019 +0300

    Add extra.units.png|spec for trident

    Art by XYZ, VladimirSlavik, ngunjaca, and danau

    See hrm Feature #823068

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 279bc26fdfd4ea5437aac8430a65b19b14e39ded
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 20 07:56:44 2019 +0300

    gtk3x: Replace gdk_window_...() calls with gdk_surface_...() calls

    See hrm Feature #822558

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c3f95ea2050fa1b4a10d97cff3cb7d2f9a58f3dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 20 07:54:43 2019 +0300

    gtk3x: Avoid gtk_style_context_add_provider_for_screen() usage

    See hrm Feature #822557

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit de4a8d65152effc1264b35327ef2952c2c20f189
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 20 07:52:31 2019 +0300

    gtk3x: Avoid gdk_window_set_cursor() usage

    See hrm Feature #822555

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 427f570d2d4e7a29901377d397a9a54b4b854542
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 20 07:46:59 2019 +0300

    gtk3x: Avoid gdk_cursor_new_from_pixbuf() usage

    See hrm Feature #822554

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f60de7974b3ea23721eca541fe9d2bdca36b71f1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 20 07:44:14 2019 +0300

    gtk3x: Avoid gtk_widget_hide_on_delete() usage

    See hrm Feature #821834

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e72632552275bd39aec100ed4d95d96bdb6b9067
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 20 07:43:38 2019 +0300

    gtk3x: Replace GDK_WINDOW_TYPE_HINT_... with GDK_SURFACE_TYPE_HINT_...

    See hrm Feature #780506

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4b6b2c08fe6ec2555050182e01e1f727bb85a38a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 20 07:42:56 2019 +0300

    gtk3x: Replace gtk_widget_get_window() calls with gtk_widget_get_surface()

    See hrm Feature #778154

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 97fdae0b084f82e023779e007e961a0915a260a1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 20 07:42:09 2019 +0300

    gtk3x: Replace GdkWindows with GdkSurfaces

    See hrm Feature #767466

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e4c33c9f5b3fe59b861315d971034a8ff414902f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 20 07:40:50 2019 +0300

    gtk3x: Pass GdkTexture to gtk_window_set_icon() calls

    See hrm Feature #780505

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 76f01c8e1a77e40dc2365d43834c883fd709c65a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 20 07:39:58 2019 +0300

    gtk3x: Drop extra parameters from gtk_button_new_from_icon_name() calls

    See hrm Feature #780503

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 750d3b9acf6a86f198ed27d9a84a6def234cea53
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 20 07:39:24 2019 +0300

    gtk3x: Avoid deprecated gdk_cursor_new_for_display() calls

    See hrm Feature #777522

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0ff468c0dc68ec572d74c80fb7aca3cf932b9c1b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 20 07:38:44 2019 +0300

    gtk3x: Drop extra parameters from gtk_image_new_from_icon_name() calls

    See hrm Feature #777529

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b588e3216ae54005c0b1c8fc873db950ade7feb9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 14 23:10:29 2019 +0300

    Set gtk3x-client to use gtk+-3.94

    See hrm Feature #767471

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0019ca2835a342ccd3b6d4761272166c1ecf166a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 15 01:50:51 2019 +0300

    Meson: Install hexemplio

    See hrm Feature #821844

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b1fa4245898c2ef5da5f7d4e12e5055583c95292
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 14 18:31:59 2019 +0300

    INSTALL.Cygwin: Document audio support building

    See hrm Feature #821798

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c4288a9d1b6de4b63f5f1135f9c38960323fef28
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 15 00:50:37 2019 +0300

    Add server settings for chance of losing inciting money

    Settings incite_gold_loss_chance and incite_gold_capt_chance added

    Patch by Gyubal Wahazar and myself

    See hrm Feature #797697

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4e481111ef32febf0e993ed894a0fc18c7a83514
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 14 23:47:19 2019 +0300

    gtk3x: Disable gtk3-style drag&drop implementation

    gtk4 drag&drop is still not present in gtk+-3.94, but gtk3 one is already
    removed. Disabling drag&drop code from gtk3x-client allows us to compile
    against gtk+-3.94 while we wait for later gtk versions to support
    drag&drop again.

    See hrm Feature #820718

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bcb7105a5621f7692e1bbe8bbf482a4443d420e4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 12 02:11:01 2019 +0300

    Add INSTALL.meson document

    See hrm Feature #821132

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit de64c4ea3c38b6ea6a883886a4491c6573191acb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 25 20:11:21 2019 +0300

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1c7887b8a42fde7152c143a38dcf4b99e2a6b9d6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 14 09:00:41 2019 +0300

    civ1: Do not claim in Barracks help that they heal units

    Units in civ1 have no HP to heal.

    Reported by nef

    See hrm Bug #821646

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5c97588fe2b62d06ea9d119c867e01d994d8b7c0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 14 07:20:29 2019 +0300

    Revert feature to allow scenario to make client show an image and play sound

    Hopefully it will be reintroduced with a better implementation in the
    future.

    See hrm Feature #771485

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 79497bc177b8c484c02403b0ea8bfd6b534bae95
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 14 08:01:40 2019 +0300

    INSTALL: Remove ancient warning against using -O3

    See hrm Feature #821642

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9bf388b6cfa264de7c29c6b69f44bb8afd35df08
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 14 04:58:11 2019 +0300

    Use place_starting_unit() to place nation specific start units

    This makes sure nation specific starting units are placed on a
    tile where they can exist, and any hut extras on the tile will
    get cleared.

    Reported by Jacob Nevins

    See hrm Bug #767129

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3b2568c0f97d64c10180dae71028b49945322f02
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 18 00:24:40 2019 +0300

    Add scenario option to inhibit loading of ruleset luadata.txt

    See hrm Feature #820980

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7daf947b8e6784ecb2fab9742ff6fe82130ebb5b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 11 04:23:55 2019 +0300

    Meson: Install helpdata.txt

    See hrm Feature #820977

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ba61db69fd88edc951c4138678e8de26c58f4379
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 13 17:18:43 2019 +0300

    Update included lua-5.4 to lua-5.4-alpha

    Upstream released lua-5.4-alpha-rc2 as lua-5.4-alpha.
    Nothing in upstream has changed. Only our own documentation
    about the version needed updating.

    See hrm Feature #821519

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e1407b3675ca92ec13b0a953287988a0a22fd114
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 12 01:34:29 2019 +0300

    Show adversary culture in intel dialog

    Requested by Dean Brown

    See hrm Feature #781139

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f2067ff76d346a19bd0d923eb25f0e3804b8a53b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 11 17:45:38 2019 +0300

    INSTALL.Cygwin: Add libsqlite3-devel to the list of packages to install

    See hrm Feature #821034

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1bca8f10203953fbf10881f412d384856871eab3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 11 05:02:54 2019 +0300

    Sandbox: Add example parser.lua and related luadata.txt

    Data contains messages to display in the beginning of the specified turn
    number.

    See hrm Feature #732561

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3f71433381f7c655cc0cfebb871d81b64d0d6d6c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 18 00:14:05 2019 +0300

    Improve ruleset documentation of extra.buildable

    Requested by nef

    See hrm Feature #821817

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit db57683956540b4c83eaf8cb1df79256c8beb23e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 11 01:09:29 2019 +0300

    Meson: Add configure option 'ack_experimental'

    User has to explicitly set the option to be able to build with meson.
    Otherwise it just prints an error message telling that autotools should
    be used for building freeciv.

    See hrm Feature #820964

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 64e6b18226369c59c6b672988c0cea822a7e39fb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 17 16:31:15 2019 +0300

    savegame3.c: Rename player.culture field as player.history

    See hrm Feature #821117

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dbd302c0892575102d4e435f2979bd1c53dbe23b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 15 03:33:31 2019 +0300

    gtk3.22/gtk3x: Avoid deprecated gtk_font_button_get|set_font_name()

    Replace gtk_font_button_get|set_font_name() calls with
    gtk_font_chooser_get|set_font() calls.

    See hrm Bug #821128

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 84cf353806a212ed800df31048d8764a883ae529
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 18 00:21:56 2019 +0300

    Add DefenseMultiplierPct & DefenseDividerPct combat bonuses

    Requested by Lexxie L

    Patch by S.C. L.

    See hrm Feature #809470

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fafae400e1c504bedf03e74d4522b287d517df23
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 17 04:18:45 2019 +0300

    Set all map-only scenarios ruleset_locked=FALSE

    Make them require "+std-terrains" ruleset capability.

    See hrm Feature #821962

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9be04e657b2d40715c2f400f419249e172cd8c8a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 11 00:11:47 2019 +0300

    INSTALL.Cygwin: Add libicu-devel to the list of packages to install

    See hrm Feature #820729

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ac0e2600084ae9e7606cd65e96d58b98a5816c3b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 10 23:31:26 2019 +0300

    Meson: Make client build configurable

    See hrm Feature #820959

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bfeddb8de921b388ded19e554757cfd436eb7d7e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 17 04:06:02 2019 +0300

    Define "std-terrains" ruleset capability

    - Drop never well-defined "minimumu-default-sets" capability from all rulesets
    - Document new "std-terrains" capability in doc/README.rulesets
    - Give "std-terrains" capability to all applicable rulesets

    See hrm Feature #821960

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b5dcb3f443f97e5c0fbc001028f1496e5e12cea5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 10 20:57:06 2019 +0300

    Experimental: Set alt_dir as "goldkeep"

    See hrm Feature #820950

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 72c08a14502fcd46b8616fb2192380cc70a89b03
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 18 22:21:55 2019 +0300

    Send player culture info to players with embassy

    Requested by Dean Brown

    See hrm Feature #820730

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e5479e860b000bda59caabd2c940482c0c949204
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 13 20:12:41 2019 +0300

    README.actions: Document "Capture Units" req that target cannot transport

    See hrm Bug #821573

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ad5769b7ffa4717596a2ebf81632b2d84819ef53
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 18 00:19:39 2019 +0300

    Make city happiness effects on civil war chance ruleset defined

    Requested by ZoltÃ¡n Å½arkov

    See hrm Feature #769075

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1f4b7e14d54e4055447080ad5ef325e7394f55f2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 10 18:53:46 2019 +0300

    Sandbox: Enable multiresearch

    See hrm Feature #820915

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9441a68cbdd72196f08a1e0e75f28d9adf504561
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 9 14:18:58 2019 +0300

    INSTALL: Drop Debian notes

    See hrm Feature #820742

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5ce13d0194d95b591de5672fd1a57c04c5b562c2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 17 03:17:18 2019 +0300

    Add ruleset alt_dir support

    The ruleset can define alt_dir for itself. That definition about
    current ruleset is saved to savegames (along the main rulesetdir definition).
    When the savegame is loaded and loading of the ruleset as defined by
    main rulesetdir definition fails, server tries to load ruleset from
    the alt_dir.

    Purpose of this is to provide a way, though slow - migration happens
    over a version boundary -, to rename ruleset directory. Older ruleset
    version, in the old path, has future path as alt_dir, so future version
    can load from that path.

    See hrm Feature #820924

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 093bd89a887f63be3af5b11952b5920b54e0ff9e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 9 09:59:19 2019 +0300

    sandbox: Demonstrate "Coast" unit type flag

    Caravel needs supplies every third turn.

    See hrm Feature #732562

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ec32381ba20ff275a08046272ac1b9dc12be1b01
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 11 22:20:53 2019 +0300

    Rename player.culture as player.history

    It contains only history, not full culture value. Confusing name has
    already produced issues. Everything remains ABI compatible.

    See hrm Bug #821112

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 50155d66f552ea215adf97c6e04c42a10da7d4f3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 9 04:31:54 2019 +0300

    README.msys2: Document default number of make jobs

    See hrm Feature #820727

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eafd85906d6d0bf77bf699f9610f3a49fda16a74
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 9 09:23:51 2019 +0300

    Alio: Drop duplicate Burrow Tube sprites

    road.burrow tags are completely dropped as this branch
    is not yet in datafile format freeze.

    See hrm Bug #740865

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a3367384d759cdf20bec0a183b034106c11e3154
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 9 04:24:22 2019 +0300

    Add meson.build to release tarball

    See hrm Feature #820726

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fd47d78b4d638dcfc1e56981c613f57150faa33e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 12 01:14:30 2019 +0300

    Editor: Remove possibility to set game start year

    In most cases it wouldn't be respected, and it breaks ruleset driven
    calendars when it is.

    Reported by Jacob Nevins

    See hrm Bug #767130

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d06e8cb537f27c9f4f6ce79bf24f037489ac9a08
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 9 02:11:44 2019 +0300

    gtk3x modpack installer: Set GLIB_VERSION_MIN_REQUIRED to 2_60

    See hrm Bug #820719

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit be09da651af47d85fd95ffbcbf366017417d6783
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 8 12:08:30 2019 +0300

    Meson: Switch to lua-5.4

    See hrm Feature #820586

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 10a427cc6b170888b2086cda910e2eb758d152ad
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 8 19:43:56 2019 +0300

    INSTALL.Cygwin: Add Qt-client build instructions

    See hrm Feature #820664

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2b022a43ee963b5610c49e6ad575cbfcfa48cbc2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 8 22:16:32 2019 +0300

    gtk3x: Disable drawing of mapview overlays

    Temporary solution to make gtk3x-client to compile with
    gtk+ development snapshot gtk+-3.94.

    See hrm Feature #820703

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8e266126ba10bb7ca3c9c3b63dbe60564c0347be
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 8 18:18:33 2019 +0300

    Support moc-command named 'moc-qt5'

    Cygwin has moc named as 'moc-qt5'

    See hrm Bug #820604

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1a44b73ae9c03c4066553cdb0e9ae748f473c7a9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 8 03:09:55 2019 +0300

    Move instances of '&&' or '||' still in the end of line to next line

    See hrm Feature #820479

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0b5e5d855369825b8db2c39d635286e9cdacdd46
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 11 04:17:40 2019 +0300

    Update help_nodes_init code comment

    - Correct variable name; helpnodes_init -> help_nodes_init
    - Correct reference to boolean value; 0 -> FALSE

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 25df840a7f94b66600ad2a19d242406ad008f6f1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 8 01:10:05 2019 +0300

    Update included lua-5.4 to version rc2

    See hrm Feature #820476

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c05768fb6db4a42cf2ba09e882e2e5212cd302af
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 5 03:31:00 2019 +0300

    Update INSTALL.Cygwin

    - Instruct build of gtk3.22-client instead of gtk3-client
    - Minor updates, corrections, and clarifications

    See hrm Feature #819966

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 85297f42b4d229bc525fa86b00938affc4bcc3a7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 3 17:39:03 2019 +0300

    Meson: Build gtk3.22-client

    See hrm Feature #819705

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 25857727a77b5a1bd2161641f7d522aec842ee60
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 4 01:01:17 2019 +0300

    README.msys2: Correct upstream snapshot version to download

    See hrm Bug #819779

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6e1a25c513dcbb0c694df371b14e786b52c610b2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 3 01:23:50 2019 +0300

    Take lua-5.4 to use

    See hrm Feature #743677

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d95a3c10eba1946db50eb83a7e429c51b979acaf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 4 00:51:44 2019 +0300

    INSTALL: Update Windows notes

    See hrm Feature #819778

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5b843139ebbe1189d7efa82447fe076aacc02db4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 4 02:22:49 2019 +0300

    sdl2: Popup full government dialog when about to start revolution

    Removed separate revolution dialog completely. Now we popup the
    government dialog that used to popup in the end of the revolution
    in the beginning of the revolution.
    With some server settings target government must be known from
    the beginning of the revolution, and so server was rejecting
    any attempts of revolution from sdl2-client that did not provide
    that information.

    Reported by Louis Moureaux

    See hrm Bug #794114

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c171b909c9b8a79dec08f927c9352a96e3a88491
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 3 00:51:48 2019 +0300

    Add copy of lua-5.4-alpha-rc1 to git

    See hrm Feature #819534

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8cb1dc301cc066b006b85ccadd405fbd77f15f22
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 9 04:36:46 2019 +0300

    gtk3x-client.m4: Correct comments about source directory

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0218534a6792ad6552230fbfb2b61f7a17c29ff4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 3 16:54:14 2019 +0300

    Improve coding style of do_map_click()

    See hrm Feature #819696

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 576d7c9684e3f9716104c6a5be9614825d95ee0d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 3 01:19:49 2019 +0300

    luascript.c: Update LUASCRIPT_SECURE_LUA_VERSION for lua-5.4

    See hrm Feature #819535

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9926449e299a868135c10803b211c3ed41f33690
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 2 23:54:59 2019 +0300

    Improve coding style of is_*_unit_tile() functions

    See hrm Feature #819532

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c10120900dd3bdf267e56a6566464a3675287e4f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 3 01:48:52 2019 +0300

    Correct lua-5.3 freeciv_lua.patch

    See hrm Bug #819537

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2e6ff67022234d4107be570630502d7538338dbb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 2 23:01:27 2019 +0300

    Improve coding style of is_*_city_tile() functions

    See hrm Feature #819530

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3504cb0c09e55325a12a7c74612a4294a7027690
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 2 03:12:07 2019 +0300

    gtk3x: Avoid gtk_icon_size_lookup() usage

    See hrm Feature #819470

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bb89a3f1d44d8cc3b85055c7b3147e46309da387
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 2 19:34:56 2019 +0300

    Add space between ")" and following "{" where ever it was missing

    See hrm Feature #819488

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1b9f4684bc9215fdec6313bbd57b0b8db89fa0aa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 1 03:12:26 2019 +0300

    Correct ruler title documentation in government.rulesets

    They were documenting nation specific ruler_titles as if those
    were part of governments.ruleset, and failed to document default
    titles that are part of governments.ruleset

    See hrm Bug #741552

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f2fa41a200d72a173a869867bbadefaeaa4dce44
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 2 10:50:13 2019 +0300

    Add space between "else" and following "{" where ever it's missing

    See hrm Bug #819487

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b2a2dc98f4a6f2c5d1877ebd65d9b4a812bb4d7a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 2 01:35:12 2019 +0300

    Ship myanmar_old flag. Use it as alt flag for burmese

    Requested by Jacob Nevins

    See hrm Bug #678456

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1c3bcb49be917abb86d8e9c304be9a33acd22325
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 2 10:40:46 2019 +0300

    Add space between "switch" and "(" in headers, generated files

    See hrm Feature #818955

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f6b597f607f6c157a4a147e6d7b4c609df545f93
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 31 00:25:56 2019 +0300

    Meson: Install documents

    See hrm Feature #819097

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dfecfb7da443eb2ad1967fa3c03008ff6d8a8b6d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 30 15:47:36 2019 +0300

    Move FC_MULTIARCH_TUPLE to new multiarch.m4

    See hrm Feature #819049

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 05d3dded2e3964074107ce1cbe492c14669668eb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 30 02:38:11 2019 +0300

    Disallow capturing occupied transports

    Reported by Gyubal Wahazar

    See hrm Bug #772516

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7df43bbbc733692b06b070575ed45b5f59da027d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 30 12:36:18 2019 +0300

    Replace remaining occurrences of "while (0)" with "while (FALSE)"

    See hrm Feature #819040

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 76fa7722613d1558869310bb209f188ec5add51e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 2 23:02:18 2019 +0300

    Comment typofix: "elsethere" -> "elsewhere"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3829d92a986ffc6b6ebf82225cf28bf6c646cc1f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 30 02:08:13 2019 +0300

    Make event cache settings SSET_META instead of SSET_RULES_FLEXIBLE

    See hrm Bug #778665

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 20b001ec5675722f0f4839d4d971dc98f4526d6c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 29 23:26:46 2019 +0300

    Add space between "switch" and "(" where ever it's still missing.

    See hrm Feature #818955

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit da6a87e9636e20a284b00ea04450b6d0cc792f1b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 31 01:23:16 2019 +0300

    Travis CI: Build in separate builddir

    See hrm Feature #819099

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cdec31270efe8ff395e2aa898f4e5a0501aff026
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 30 00:45:35 2019 +0300

    Update stdlib_h.m4 to serial 48

    See hrm Feature #818968

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e88b78328c7602c72cb3a27749e4ab0846eaf52f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 29 20:17:42 2019 +0300

    Qt-client mapview.cpp: "if(" -> "if ("

    See hrm Bug #818937

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4e84650ddfa5fb6c7769fbfa0a4f14833041f756
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 30 00:43:51 2019 +0300

    Update mkstemp.m4 to serial 26

    See hrm Feature #818967

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 83a04a31dc99e318eb57e196c8563ba16bd7838e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed May 29 20:02:33 2019 +0300

    Improve city_improvement_upkeep() coding style

    See hrm Feature #818935

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9a09ac5a0edf15b11013875fe3362aefe0599aa3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri May 24 06:13:47 2019 +0300

    Update msys2 environment to 190523 level

    See hrm Task #817963

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 53cad9b92b5efcf78ecd53f66a085e92e483e142
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu May 23 13:53:27 2019 +0300

    README.nations: List flags-large.spec and shields-large.spec in flag doc

    Reported by publo

    See hrm Bug #817952

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1ff2bcc71eaf5815a556ed6e79a650407e0c591f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 20 18:00:05 2019 +0300

    Update translations/*/Makefile.in.in to gettext-0.20 level

    See hrm Bug #817521

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b628e0f657ae89bb69d4af72cec2e2911139c003
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun May 19 01:27:32 2019 +0300

    Update gettext bootstrap files to gettext-0.20.1 level

    See hrm Feature #817414

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 525bd768fbf5a216a397c1f513e5214a4c62242b
Author: igx31 <32019629+igx31@users.noreply.github.com>
Date:   Fri May 17 11:13:43 2019 +0200

    Updated French translations

commit 63ebcf394b5fa048c7ebbf39ac64ff448be8c150
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon May 13 18:08:22 2019 +0300

    Update gtk3x modpack installer to use gtk-3.96

    See hrm Feature #816623

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0f8ef309e945f6ea672e9928af0d762ab0118832
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat May 11 04:23:15 2019 +0300

    Fix server crash when ruleset does not define tech_req for a unit

    Reported by Corbeau

    See hrm Bug #816374

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 35dabcd3937cf6e7f8e2989cc999cfaee14e49f0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 4 08:06:34 2019 +0300

    gtk3x: Replace 'gtk+' by 'gtk'

    gtk-4.0 will not have '+' in its name.

    See hrm Feature #811005

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9bc5b56d481db96a216e63545727c209507cffc8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Apr 4 06:51:04 2019 +0300

    installer_cross: Improve build error detection and handling

    See hrm Feature #811004

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 42f85b9f2d566270e005861b6a3e0b8a370c8c73
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 3 16:49:12 2019 +0300

    winbuild.sh: Clear install directory before new build

    See hrm Bug #810308

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 10e66197b616ebd07488b2579583b9303b61a238
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Apr 3 07:14:35 2019 +0300

    Tex: Fix build with clang

    See hrm Bug #810735

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ff5d3fbdeed39410aab4c4f31e2982c22930c2f8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 27 04:28:41 2019 +0200

    Update to crosser-1.7

    See hrm Feature #804423

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e4ead300889ee114d355db9bdbe8669ebc6ddddd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 9 12:06:22 2019 +0200

    Bump .spec -file capability string

    See hrm Feature #804954

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 51188a643b738332a9000620ed5ae654f4a809da
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 17 02:45:43 2019 +0200

    Europe 1900 WWI: Use tex AI for all players

    See hrm Feature #803040

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7ac88fe0325012026e8c4a118012a9d947089c20
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 28 07:24:09 2019 +0200

    Meson: Install most rulesets

    Refactor civ2civ3 installation to be more dynamic, and use that model
    to install also classic, multiplayer, sandbox, alien, civ1, civ2.

    See hrm Feature #804976

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ac1988e707b25759e674a864e08e39636e2bfa18
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 24 08:22:28 2019 +0200

    Notify player when requested multiplier value takes effect

    See hrm Feature #804352

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 04259dac034d83174393b162d008ff3ccb0ec54f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 26 00:59:07 2019 +0200

    Rename 'veteran_raise_chance' as 'veteran_base_raise_chance'

    See hrm Feature #804515

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 37e578d4330fd2eb50cbfa14ed14ca3ab5665425
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 27 04:51:00 2019 +0200

    Meson: Install libfreeciv

    See hrm Feature #804716

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a1e8de43b75e6bc2a6170a439ade3727edb2295e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 28 20:24:32 2019 +0200

    sandbox: Replace deprecated give_technology() with give_tech()

    See hrm Bug #804996

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c56fa447f8a660de53dec6c22c3a5efd2cfdacd2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 25 15:13:59 2019 +0200

    tex/threaded AI: Do not run dai_do_first_activities() on restart phase

    See hrm Bug #804448

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c356dd07c428025a55b9771e9b803c4aa0343687
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 27 07:08:13 2019 +0200

    Replace magic number of turns war mood lasts with a macro

    See hrm Feature #804721

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a5dc3dd9fe79366ea74c115c683cec3992ec8b11
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 27 04:09:48 2019 +0200

    Meson: Install civ2civ3 ruleset

    See hrm Feature #804715

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 997cd0b0fcd5503c28058caa0a8bbc52047f7b56
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 26 01:33:13 2019 +0200

    Update documentation about follow tag update

    See hrm Feature #767041

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a61672c8c41607696ace5e52be7f1ee29d396f31
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 28 05:41:20 2019 +0200

    Notify player when multiplier restored to default value

    See hrm Feature #778819

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b6cf11b204ea42c23a352aa7ba67ff4089e4ae09
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 25 13:53:01 2019 +0200

    Call city_created, city_got AI callbacks for cities loaded from savegame

    See hrm Bug #804440

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 98b43edcba7fa1a0b68d3c3881412fffe8e8e938
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 25 07:04:52 2019 +0200

    Meson: Make executables installable

    See hrm Feature #804393

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f5eb6246ee36f590e674ec9f374402e3e05afa62
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 25 11:53:41 2019 +0200

    version_gen.h: Define VERSION_LABEL, VERSION_STRING only if not already defined

    See hrm Bug #804417

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 89e3f607d54619a7d9035a460486c5e3a17a22e0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 25 07:52:39 2019 +0200

    Call unit_created, unit_got AI callbacks for units loaded from savegame

    See hrm Bug #804394

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a0128822245cca2be28e37a238685abf2515bd93
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 25 03:55:06 2019 +0200

    Meson: Rename libfc_toolutil as fc_toolutil

    See hrm Feature #804381

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 800b9ec878f7fcda99673132a7d80840841079d4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 28 02:21:27 2019 +0200

    sdl2/themespec.c: Correct comment about accepted capabilities

    Neither themespec capability string nor individual spec file capability
    string documentation had been updated from their sdl-client format
    to sdl2-client format. They had wrong format and referred to version
    2.3 instead of current 2.6.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d5756a0f0306bbdf342642648705716f6dcbe33
Author: James Wilson <jwilsoncalderdale@gmail.com>
Date:   Mon Feb 25 02:44:05 2019 +0200

    Display messages when bombarding units or being bombarded

    See hrm Feature #734377

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6ead513ad1f80c01b20ea97a46ec50192fe5d628
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 25 05:07:02 2019 +0200

    Move savegame loading code to new subdirectory server/savegame/

    Also rename savegame.[ch] as savemain.[ch]

    See hrm Feature #804383

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cc3af2dc7071da1b4e3ccf874c8ba8430438a3d6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 25 23:35:03 2019 +0200

    Tex: Ignore messages about cities that are not placed on tex map yet

    See hrm Bug #803041

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 92636f45951268b840abad1487b719f2a2963481
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 27 06:24:41 2019 +0200

    ruleset.h: Correct comment about accepted capabilities

    - Capstring for 3.0 was given instead of 3.1 one
    - For the development capstr, tilespec string was given instead
      of ruleset one

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d8e8fc7bf8db1318e8adf5cd10ad957573d35185
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 24 02:43:01 2019 +0200

    Add nuke_pop_loss and nuke_defender_survival_chance_pct ruleset settings

    Patch by 0xandr 0xandr

    See hrm Feature #801780

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 80ee832d4738b9cc035f890857c90e7661ee9949
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 25 05:28:14 2019 +0200

    Travis CI: Make dist

    See hrm Feature #778378

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c0a7d2547188f8380e9dd9bef1b4a76ba669dd43
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 25 03:52:00 2019 +0200

    Meson: Generate macros for public headers to fc_config.h

    Generate HAVE_xxx_H macros to fc_config.h for headers that
    already have FREECIV_HAVE_xxx_H macros in freeciv_config.h

    See hrm Bug #804380

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 40202dc35116837149e11765423074acddca0487
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 25 01:50:36 2019 +0200

    Update helpdata.txt

    Includes a couple bits of UI info that were lacking.

    1 zooming/scaling the map graphics with the + and - keys.
    2 in the diplomatic dialog, you can remove an item from the list by
    double-clicking on it.

    Update by Dean ddeanbrown@comcast.net

    See hrm Feature #804379

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0571b6710ded83a6d7e1c3fa3e54a6a78f95d5d9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 25 05:50:38 2019 +0200

    Add only_killing_makes_veteran ruleset setting

    Requested by Ignatus

    See hrm Feature #804292

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3c01466cd128b6d2a8671effcf07f4bc08742472
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 24 06:12:46 2019 +0200

    Improve documentation about Age requirement range

    Requested by Akechi

    See hrm Bug #769391

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 98668a77579bcff3925a29b695cd5d1a4f8465fd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 23 14:48:56 2019 +0200

    Tex: Ignore messages about units that are not placed on tex map yet

    See hrm Bug #803038

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 19bbacb84bae46daf4e45f30c87f8b8bb5807178
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 25 04:33:32 2019 +0200

    Update .gitignore files to reflect rearranged fcmp files

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 27ddbdc54d9a97db6de203e71b4ad93a011a7bbc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 25 01:46:17 2019 +0200

    Updated Spanish translation by Jordi Negrevernis i Font.

    msgmerged from S2_6 d0c3a485bc

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1b152f5b023d47021fcccade60628634bf8a4c68
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 24 18:41:24 2019 +0200

    Update Finnish translation

    By Sini Ruohomaa

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ce5fee2b3a53c2b77b7e8972d31bfd818643b391
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 24 07:27:19 2019 +0200

    Comment typofix: generate_specnum.py -> generate_specenum.py

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6a98ea17d52e400ef79a9388d0277884961add6a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 22 00:30:27 2019 +0200

    Meson: Build tex AI

    See hrm Feature #804132

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5c712106e1e2b6ee7533ea7cceeac54bb11d5093
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 21 23:50:45 2019 +0200

    Sandbox: Reduce veteran raise chances

    As number of combat rounds has been limited, and not every battle is to death,
    average number of battles unit partakes during its lifetime has increased.
    To balance that, reduce veteran raise chance from a single battle.

    See hrm Feature #804128

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 25c14374c956c83608dae7905aea610125b158dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 19 02:59:39 2019 +0200

    Meson: Rename libfc_server as fc_server

    This avoids duplicate 'lib' in the name of the produced library file.

    See hrm Feature #803577

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7eb16d48f59e8293a8fe7b602c485eec892d05c7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 17 22:49:48 2019 +0200

    civ1: Prevent Railroads on city center tiles

    Reported by nef

    See hrm Feature #803249

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 724387a9dabbd5cf8bdf990d7ab6f992e46562a0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 19 09:29:14 2019 +0200

    Travis CI: Build stub AI

    See hrm Feature #803598

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cdf4ec4c42f5c04e65640f87502ce0dd48c366c1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 17 12:52:24 2019 +0200

    Tex: Add existing cities/units to tex map when thread starts

    See hrm Bug #803217

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 73180a93b6a73b08fcf16132227e789e4de54cee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 18 20:00:48 2019 +0200

    version_gen.h: Do not redefine FOLLOWTAG if it's already defined

    It's defined in fc_config.h on autotools based builds. Meson
    based builds need it in version_gen.h.

    See hrm Bug #803544

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6f3cfa57d5d8e21dd33c8467a62bbd435af87347
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 17 17:38:50 2019 +0200

    Update msys2 environment to 190214 level

    See hrm Task #801982

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7ca66c7863a9f5847eae4d5b432d458030d721ac
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 16 19:00:11 2019 +0200

    Ruleset update: Do not add action enablers if reqs would contradict

    If generated reqs for a new action enabler contradict, consider it
    to mean that it should never be enabled, i.e., not even exist.
    Old code dropped contradicting requirement, resulting in action
    getting enabled when it should have not.

    See hrm Bug #782316

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0f11eaa3839cb8dc13b306266ddd95ca99383cb3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 17 15:51:53 2019 +0200

    Tex: Update references to 'threxpr' to read 'tex'

    See hrm Feature #803221

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6e47b87f96aabfd8de2d7d40d75eb513425d735c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 17 01:33:06 2019 +0200

    Europe 1900 WWI: Replace threaded AI savegame keys with tex AI keys

    See hrm Feature #803015

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9c1db4f635d6fe590875d65185dfd9d8de6c45f5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 16 13:50:29 2019 +0200

    Tex: Update unit type on tex map

    - Add unit_info callback to AI interface
    - Call unit_info when unit transformed to another type
    - In tex AI implementation of unit_info update unit type on
      tex AI map

    See hrm Feature #803003

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b0eb09baafc0d9a002ddd0263850f5c658f07bf3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 16 01:18:10 2019 +0200

    Enable tex AI by default instead of threaded

    See hrm Feature #802868

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1a172cb6208b7bd11b55ea6d662226bd5eb2bd71
Author: Zeko <zeko@freecivweb.org>
Date:   Sat Feb 16 02:56:17 2019 +0200

    Refactor fcdb login flow to allow better authentication methods

    See hrm #802523

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4fc005d40182c7eccfd03ea6546ab484784e671d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 15 04:24:08 2019 +0200

    Ruleset doc: Mark calendar fragment names for translation in examples

    See hrm Feature #802774

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3bb0c0bc1d732161e374cf9959961347d5529559
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 15 02:33:11 2019 +0200

    Make '-j2' the default MAKE_PARAMS for msys2 builds.

    See hrm Feature #802771

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 52426e58bbd0b7f2786f07300f994747e158d737
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 15 00:20:46 2019 +0200

    Travis CI: Enable mysql database backend

    See hrm Feature #802361

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e8f150c85688b46c4ccb0c5550add6a9ce5ab3aa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 12 18:30:11 2019 +0200

    Combine NETWORK_CAPSTRING_MANDATORY and NETWORK_CAPSTRING_OPTIONAL

    They were originally split for ggz support, but as we no longer
    support ggz there's no need to keep them separate.

    See hrm Feature #780295

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 00e92a4bc712aa7f609806005ea8525af8d8c773
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 11 23:20:24 2019 +0200

    Scripting API: Add hut_frighten signal

    Use lua callbacks to construct user visible frighten messages instead
    of having single message hardcoded to the engine.
    Also add extra name parameter to hut_enter signal.

    Patch by Alexandro Ignatiev

    See hrm Bug #780730

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 213d7d748964da18f00695dcbbc5bb625aa289f4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 13 00:10:20 2019 +0200

    Move fcmp files from tools/ to a new subdirectory tools/fcmp/

    See hrm Feature #802356

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 75aa0d24ce5e71ea94010b9636e14dc6d14dcb44
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 12 02:08:26 2019 +0200

    Show whether tech has been stolen from the city in city dialog

    Gtk- and Qt-clients supported. Information is shown both to city owner
    and diplomat investigating the city. Investigating diplomat gets overall
    information, it doesn't matter who did the stealing.

    See hrm Feature #657146

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eb291ba7345791c907de10980e0889e022c06ce6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 12 03:03:31 2019 +0200

    Do not allow execution of 'lua unsafe' from a read serv file

    Requested by Jacob Nevins

    See hrm Bug #693065

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 75d8823f53d879c4c69a41556db12d983fc7ca29
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 11 01:51:04 2019 +0200

    Tex: Update city owner on tex map

    - Add city_info callback to AI interface
    - Call city_info when city changes owner
    - In tex AI implementation of city_info update city owner on
      tex AI map

    See hrm Feature #801821

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 85b5185fd56ae75e896ba0f768653cf10238c07b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 10 22:09:18 2019 +0200

    Tell tech steal defender if tech was already stolen from the city

    See hrm Feature #801810

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0b6c001e692d052f8003bf51232686d3e1f37006
Author: Zeko <zeko@freecivweb.org>
Date:   Sun Feb 10 11:56:30 2019 +0200

    Add ODBC support to FCDB

    See hrm feature #769096

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a2d161b14d8b4c8fcce715df46d29a8f050ffeed
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 10 01:30:56 2019 +0200

    Do not reduce borders or vision on destruction of base on virtual tile

    When changes to a virtual tile cause extra on it to get destroyed,
    do not change real player vision counts or borders. Virtual tiles
    are most often used by autosettlers when they consider what to do next.
    Such calculations of just considering a change were incorrectly
    reducing player vision and borders.

    Effect on player vision was reported by Lexxie L and MÃ¡ximo CastaÃ±eda

    See hrm Bug #797698

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 75a9a77859f4fd778b27997b5ea89a67d8206c0f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 12 07:39:43 2019 +0200

    Travis CI: Replace python3.4 by python3.5

    See hrm Feature #801791

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2426f0d23777b8d91587e5eeb7d35f39faff940a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 10 15:23:58 2019 +0200

    Travis CI: Use Xenial environment

    See hrm Feature #801791

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 93f1ff023670b2dd25c9b86117ebc1ae8675b9d2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 10 00:20:15 2019 +0200

    Update md5.c to match upstream revision 1.15

    Also update comment about freeciv specific changes for a part
    for which the code change had already been implemented before.

    See hrm Feature #801777

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f12cd431e8528d399b34f25f3ab742704a034004
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 11 19:30:37 2019 +0200

    Update path to default units.ruleset in a code comment

    Replace 'default' in ruleset path with 'classic'

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4966d3db00c3842eb7251880e9a0522db6dfbbea
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 9 22:27:41 2019 +0200

    Update included luasql files to luasql-2.4.0 level.

    See hrm Feature #801775

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cc951e51fb4284b86cd5459573c4e16c904dbfe4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 9 16:20:03 2019 +0200

    Fix gcc9 compiler warnings

    See hrm Bug #801655

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 570c84ca2866bc15db7512189415f3ac5eba6be5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 9 14:27:01 2019 +0200

    Drop duplicate setting of mapimg layer indicator character in client

    See hrm Bug #801661

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 526c53323e1dec332f359126f4cd4274f96ded0f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 11 00:03:16 2019 +0200

    Fix comment typo: "endrturn" -> "endturn"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c955ac8fa21742c3f5624cff83edddf34bd4f025
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 7 19:00:56 2019 +0200

    Document [tileset], [soundset], and [musicset] preferred game.ruleset entries

    See hrm Bug #785647

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cf9216e3024e4e11d8c96a0f8253e4eda0da27e6
Author: Zeko <zeko@freecivweb.org>
Date:   Wed Feb 6 13:55:51 2019 +0200

    Add a multiplier option for spaceship travel time

    See hrm #800950

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c2315e8910f099a239ed24b4e4a7e5fc154cf6d3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 4 14:55:39 2019 +0200

    Do not try to print NULL unit state property for %s

    See hrm Bug #800852

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 05c0e76ce1dc593cd69b8815d73c1fb1c119ff2c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 4 00:11:58 2019 +0200

    Do not try to print NULL terrain property for %s

    See hrm Bug #800781

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b487f15267107f04c7fca77a6e091da2b8cafc4a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 23 10:27:22 2019 +0200

    Do not try to print NULL soundfile for %s

    See hrm Bug #799291

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2824549d00cf294810fbd44e449cb7c35481024c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Dec 29 16:02:16 2018 +0100

    Centralize char2num() in savecompat.

    See hrm Feature #797699

commit 085354a262eed035d0dc5e188927d6301da99943
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 6 09:40:43 2018 +0100

    Survives split the action "Attack".

    Stop relying on the "Missile" unit class flag to decide if performing the
    action "Attack" consumes the actor unit. Split "Attack" in "Suicide Attack"
    and "Attack". The new action will always consume the actor unit. "Attack" has
    a chance of actor survival.

    The Missile unit class flag is still hard coded: "Suicide Attack" units
    must have it, "Attack" units can't have it. The goal is to remove this
    restriction and to unhardcode the Missile unit class flag.

    See hrm Feature #783336

commit 72b852b3be7540513e69de876bb8c33c88215cc7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 10 13:30:00 2018 +0200

    INSTALL: Document building sound support

    See hrm Feature #785520

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a55f0a183f46a96dc3404678afd9bdf1ee0afad3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Nov 13 12:45:58 2018 +0100

    ruleup: handle non existing comment headers.

    A comments.txt that is missing certain comment headers could end up getting
    loaded, for example when setting FREECIV_DATA_PATH to an older version of
    Freeciv in order to upgrade a ruleset that lives there to 3.1.

    Survive a missing comment header. This fixes a crash that happened when 3.1
    ruleup was loaded with a dataddir from 3.0.

    See hrm Bug #786092

commit 81cdb9ef1f7827abc18a608293e28746bac0bfd9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 8 10:03:29 2018 +0200

    Easy to run freeciv-ruleup from the build dir.

    Introduce a new script, fcruleup, that makes it easy to run freeciv-ruleup
    from the build directory. It works like fcser, fcgui and fcruledit.

    Doesn't add storage/datasubdir to an unset FREECIV_DATA_PATH since, as Marko
    Lindqvist pointed out, the user (almost?) never wants to upgrade a ruleset
    from there, but with it included in the path may accidentally load an already
    compatible ruleset from there instead of the ruleset that user meant to
    upgrade.

    See hrm Feature #785461

commit b098ab7bcd1354c86a585fffa2de70abcb0d12f3
Author: Chadwick McHenry <mchenryc@gmail.com>
Date:   Fri Nov 9 23:20:39 2018 -0500

    Fix divide by zero error in mapimg

    Use player_count() instead of player_slot_count() so player colors
    are sized meaningfully. Ensure no division error, or negative
    offset is used.

    See hrm Bug #707912

commit f3fad42b2d86b033b5ed0b82250732cc4829cb6e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Nov 9 20:44:27 2018 +0100

    Utility function to replace universal in req vec.

    Intrduce universal_replace_in_req_vec(), a function that replaces all
    instances of a universal in a requirement vector with another universal.

    See hrm Feature #785466

commit 3705fe0695c02942f3eac6acbeeff967e47e1d9a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 8 19:33:55 2018 +0100

    Common universal is in requirement(s) checks.

    Add universal_is_mentioned_by_requirement(), an utility to check if a
    universal is directly mentioned in a requirement and
    universal_is_mentioned_by_requirements(), an utility that does the same for
    requirement vectors. Utilities to check if a universal fulfills a requirement
    (vector) already exists.

    Replace ruledit's universal_in_req_vec().

    See hrm Feature #785450

commit c154ecffa93c2c6955d05636ae02b4fcfa6d8dda
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Nov 10 00:02:50 2018 +0200

    Consider extras with cause "Hut" enterable

    Whether extra was considered enterable was erroneously deducted
    from its UI category.

    Reported by Alexandro Ignatiev

    See hrm Bug #782719

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8f9a03cff95adf78fcab7b0277765729e9397653
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 8 15:31:18 2018 +0100

    Auto help: document OneAttack under "Attack".

    The OneAttack unit type flag is only used for regular attacks. Document it
    under the "Attack" actionÍ„'s details.

    See hrm Bug #785262

commit 5965428f6155f6587a004ca352f342ae077acd42
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 8 14:56:59 2018 +0100

    Veterans with nukes are still stronger in combat.

    A unit capable of performing "Attack" may become a veteran through performing
    it even if the ruleset permits it to also do "Explode Nuclear". This is a
    consequence of "Explode Nuclear" and "Attack" becoming action enabler
    controlled.

    Update the test before writing the increased strength in combat help text to
    include all units capable of performing "Attack".

    See hrm Bug #785242

commit 6d18ac855f7ea6b9190a34b3c1a256ce4a436f38
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 29 20:48:49 2018 +0200

    meson: Build freeciv-manual

    See hrm Feature #782721

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ee3c012a9749f1eb26dfeefc5f10fa23d1b93a7e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 29 18:42:49 2018 +0200

    ruleup: Add support for --Fatal commandline parameter

    See hrm Feature #781129

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit de049f64abba7341c34f7305231b0b20f7346fe7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 29 19:00:04 2018 +0200

    meson: Build freeciv-ruleup

    See hrm Feature #782714

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e017c68c8cfd61ef1c5fea95ace8eae0f167364c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 26 07:34:25 2018 +0300

    meson: Build client common code to a static library

    See hrm Feature #782106

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7f5287b6661bf5c5b999f077c39e40ae39da0086
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Nov 1 08:17:26 2018 +0100

    Replace the last Missile unit class flag check...

    ...outside of utype_is_consumed_by_action() with a check if the unit is
    consumed by the "Attack" action.

    See hrm Feature #783395

commit 8f71c53103ac45b992bffe0a85c8d405da6e286d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 29 16:40:25 2018 +0200

    autotools: Generate version_gen.h for network capstr

    - Generate version_gen.h also in autotools based builds
    - Drop network capstr from fc_config.h
    - Use capstr from version_gen.h

    See hrm Feature #780298

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d2e2bf57fc7f1afa89de342b15d596c077689254
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 29 21:44:36 2018 +0200

    meson: Fix generating of packhand_gen.h

    See hrm Bug #782738

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2c780c2cf300e74d1b3d58b94d14d972118a2815
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 29 16:32:55 2018 +0200

    Update msys2 environment to 181027 level

    Arch specific meson packages added to the environment.

    See hrm Task #767991

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit be394d4f256078a09c8c01ffc23049e56adf0c90
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 17 07:46:54 2018 +0300

    meson: Build classic AI

    Link it to the server.

    See hrm Feature #780183

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 667a31919022bb33d19db4ce0dea309cb319cf35
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Oct 29 08:41:52 2018 +0100

    AI: check consumed by "Attack".

    Replace Missile unit class flag checks in AI and advisor code with checks if
    the unit is consumed by the "Attack" action.

    See hrm Feature #782841

commit 69a753aae0025c47c8bb053e39024e9051b04629
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 28 23:36:20 2018 +0200

    Explicitly disable sys-lua in msys2 based installer builds

    See hrm Feature #782386

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit afdb1a1ce7d5fe073a00ea71451e0427e2307b9f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 27 14:15:36 2018 +0300

    meson: Detect headers configure time

    See hrm Feature #782311

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8eccf3e6df621662ceea975d2ffea6221483f371
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Oct 22 13:00:07 2018 +0200

    Some actions needs an extra sub target.

    Validate that required extra targets are there when performing an action and
    when loading a savegame containing an order that needs an extra sub target.

    See hrm Feature #782589

commit d1b3a633c25988df0ff5a843fe28fc6186eafa24
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 4 17:04:38 2017 +0200

    Path finding: check consumed by "Attack".

    The path finding code doesn't have to worry about returning a unit that
    doesn't survive an attack. It therefore checks if a unit has the Missile unit
    class flag. Check if the unit is consumed by the "Attack" action in stead.

    See hrm Feature #782581

commit c58f7e5c9f08118c25ff0853440d3e7423cb8875
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 28 11:13:46 2018 +0200

    Qt: Find themes from any data directory

    See hrm Bug #782349

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 76a231fef6f6069150c3a9afc82ecefacf5dfd71
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 20 14:18:13 2018 +0300

    meson: Build minimal server

    There's no AI included, so the produced server will just give an
    error about that and refuse to start.

    See hrm Feature #780179

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9deddf43104e2d4774e742c661477723f2d346e9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 22 16:28:16 2018 +0300

    installer_cross: Set Unicode true

    See hrm Feature #781275

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c771e5cd49cb5d288acabff8ac18891629e756d2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 19 20:18:11 2018 +0300

    meson: Call tolua_..._open() functions by the name they are generated with

    See hrm Feature #780178

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 221283300d5ec881711cb411adb964fd0f23e2c3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 25 17:53:43 2018 +0300

    Make code about ruledit specific 'disabled' properties more self documenting

    - Renamed 'disabled' fields as 'ruledit_disabled'
    - Add 're_' to names of active iterators that should only be used in ruledit
    - Unified names of active iterators to always end by '_re_active_iterate',
      this meant moving '_type' part of some of the names from the middle to
      the beginning

    See hrm Feature #781740

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e7b1c29a85a9d7a055a2d710f8140482d0177bcc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 19 20:10:57 2018 +0300

    meson: Have tolua generated common/ file generation as custom_target

    See hrm Feature #780419

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c0eb563ea6bf68aa37357baef0c661df416753be
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 24 17:20:51 2018 +0300

    Msys2: Create correct link to modpack installer in gtk3.22-client package

    See hrm Bug #781746

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9ba9077e426ee9db4a1ac1ad0dc5d2e015badb0d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 24 17:30:54 2018 +0300

    meson: Explicitly run interpreters instead of relying on shebang

    See hrm Bug #781737

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 54a150afe2674138e729c5e1af39cad6d11e1c13
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 18 19:42:40 2018 +0300

    gtk3x: Avoid gtk_true() usage

    It's dropped from gtk+-3.94

    See hrm Feature #780516

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bf52320e34d7e63bfe384581252139390a983af4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 19 20:04:16 2018 +0300

    meson: Include common/ to libfreeciv

    See hrm Feature #780151

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4f508e24cb45c7a2fc25de052a5d25a3edf3df5b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Oct 25 14:36:01 2018 +0200

    Comment fix: activity too can have a sub_target.

commit 800488852a2e12268ff3b547a24e8942134d8e8b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Oct 20 10:57:16 2018 +0200

    Merge unit action sub targets.

    Certain actions have both a main target and a sub target. Examples of action
    sub targets are what tech to steal from a city and what road extra to build
    on a tile.

    Extra sub targets were for a while split from tech and building sub targets.
    This caused bugs like unit order action extra sub targets not being stored to
    save games since the savegame code only wrote sub targets stored in
    sub_target, where tech and improvement sub targets were stored.

    Treat extra sub targets like tech and building sub targets by merging them
    back together.

    See hrm Feature #780902

commit bd2e2e1bbc2b6ee157d234ef5b1a9deb42e39059
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 19 21:33:26 2018 +0300

    configure.ac: Drop VERSION_WITHOUT_LABEL

    See hrm Feature #780300

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ab8211bc6776a393c63ba004d9bbc167c72000ec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 20 14:11:40 2018 +0300

    meson: Add tolua generator object

    See hrm Feature #780047

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a1c07286f64f1e388a5a00119c01ef583af98e46
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 18 19:53:53 2018 +0300

    gtk: Drop gtk_icon_size_lookup() call with unused results

    See hrm Feature #780526

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bc5aefa1e2c4dbe6c119fd2b4e8bd8d2363e60c2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 22 07:03:11 2018 +0300

    meson: Generate version information header version_gen.h

    See hrm Feature #780185

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cdb6e5326e2b2ab107174a63d49c01a731a37638
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 19 18:16:08 2018 +0300

    meson: Require minimum meson version

    Minimum meson version is 0.36.0

    See hrm Feature #780646

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ef32317e1c44f90110314e56a41583dcd90bc953
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Oct 20 08:12:02 2018 +0200

    savegame3: unit order sub target lookup name fix.

    Look for the unit order field "sub_tgt_vec", not the non existing fields
    "tgt_list" and "extra_list", when loading a savegame.

    See hrm Feature #780772

commit 435b5341b61c686d099bb009ba967978b9936eb2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 18 19:35:44 2018 +0300

    gtk3x: Avoid gtk_image_new_from_surface() and gtk_image_set_from_surface() calls

    They are dropped from gtk+-3.94

    See hrm Feature #780502

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7feac304270d5e8dc91c9c7f5062737c709e1a82
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 19 18:14:00 2018 +0300

    meson: Add dependencies/tolua-5.2/include to include path

    See hrm Bug #780645

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 927fd2bcff232ec2bc48f6259b7b11172d4ffc00
Author: Zeko <zeko@freecivweb.org>
Date:   Fri Oct 19 08:05:37 2018 +0300

    Add fcdb check for "take" and "observe" commands

    See hrm #778018

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a6725e9ffafcb0142fde79e1ecb3e32006b627ae
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 16 16:36:51 2018 +0300

    generate_packets.py: Support generating only subset of source files

    See hrm Feature #780035

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ceccc138e2d061dfef91900e6898f23abb62fb0b
Author: Zeko <zeko@freecivweb.org>
Date:   Thu Oct 18 19:34:16 2018 +0300

    Add fcdb check to "delegate to" subcommand

    See hrm #766520

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1f6ddac02a526211f5eceaa959f4cc682f5c522e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 16 03:44:26 2018 +0300

    meson: Add packets_gen custom target

    It generates packets_gen.h, packets_gen.c, packhand_gen.h, packhand_gen.c,
    hand_gen.h, and hand_gen.c

    See hrm Feature #779816

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8401537386e3d364bf3ccf79faa3f4717bd46da5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 17 20:02:52 2018 +0300

    configure.ac: Use version string from fc_version

    See hrm Feature #780294

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aeb3027592653341d84a00851e3aea753d57cbb5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 16 05:32:13 2018 +0300

    Revert "Server - move AI phase before player activities/orders phase"

    This reverts commit ee0070b2fa965664f08c70e5c00ea9c782804bb2.

    See hrm Bug #769791

commit f7b59c389798c85407f3202ac42cd9db61a7a53b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 15 21:23:49 2018 +0300

    meson: Build dependencies/

    See hrm Feature #779794

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3e30f1859b144197c40414dbdbbf088b1c6a7180
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 16 16:39:16 2018 +0300

    installer_cross: Make sure crosser set is "current"

    See hrm Feature #780036

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e753174f2e7f3459af4b9eca6bf2bdc491536fa6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 15 19:27:14 2018 +0300

    meson: Generate specenum_gen.h

    See hrm Feature #779773

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a45f8429c496cb2e9f30cd314a6813b82aed6176
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Oct 16 08:49:49 2018 +0200

    savegame format: merge order sub targets.

    A unit order can contain a sub target for an action (or for an activity).
    They were for a while stored in two fields: extra_vec and sub_tgt_vec. Merge
    extra_vec back into sub_tgt_vec.

    See hrm Feature #779903

commit 3884eb4e3ac6327a373088e39115e83b547d9051
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 15 05:51:19 2018 +0300

    gtk3x: Drop extra parameters from gtk_box_pack_start() calls

    See hrm Feature #663042

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5363bf6d3c7844e004411d0f4800ee60de0a3edf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 15 05:50:59 2018 +0300

    Set gtk3x-client to use gtk+-3.92

    See hrm Feature #778153

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f767fd044ae28c06601883d0e8c81a325a1d88c4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Oct 15 11:18:58 2018 +0200

    GTK clients: use action_id for action id's.

    The GTK clients, like the rest of Freeciv, used a mix of int and gen_action
    for action id's. The gen_action enum is on its way to only be about the
    result of an action rather than it's id. They are in the process of being
    separated. Using an int doesn't mark the action id as an action id rather
    than - say - a pointer to an action.

    Use action_id for action id's. Rename variables referring to the actor's id
    from act_id (typically used for action id's) to au_id.

    See hrm Feature #779547

commit 7065901425341ed65d7220e1a4663c56d9af17cc
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Oct 13 15:13:41 2018 +0200

    Clarify that action sub target are sub targets.

    Actions like "Targeted Steal Tech" have a target - the city to steal from -
    and a sub target - the tech to steal. Tech and building sub targets have been
    called "target" and "value". This has caused confusion. In the case of
    "target" it also takes up a name that could be used for specifying the main
    target. Use the term sub target in names and comments.

    See hrm Feature #779357

commit 02bb938e4b68dc6ab2a3cf528f1d7cbeb3e7cef5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 15 17:42:30 2018 +0300

    meson: Add initial files

    See hrm Feature #779742

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c25079945c7c20b9b2148a6d8713bee23000591b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 15 05:49:15 2018 +0300

    gtk3x: Get rid of obsolete gtk_event_box_new() calls

    See hrm Feature #778842

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d11769ce79ab8baa902000b5c3f7b3bffab65b75
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Oct 13 13:14:31 2018 +0200

    savegame format: clarify order sub target.

    A unit order can contain a sub target for an action. Tech and improvement sub
    targets were stored in tgt_vec. This name has already caused confusion. It
    also takes a good name to store targets, like the city to steal a specified
    tech from, to unit orders. The name has not been used in any frozen save game
    formats yet.

    Rename tgt_vec to sub_tgt_vec in savegame3.

    See hrm Feature #779339

commit 21cf31633a0439723abaf04924f03a179d96c357
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 13 10:31:38 2018 +0300

    Make server to send its version number to client

    See hrm Feature #735534

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f54c35a134d8d14779f2bf5f84760cca85350ac5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 12 01:51:20 2018 +0300

    Update europe_1900_WWI scenario to 3.0 savegame format

    See hrm Feature #699393

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0e33c67fa03e866c58e7777e4003b71d000667b3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Oct 10 14:22:35 2018 +0200

    SDL2 client: use action_id for action id's.

    The SDL 2 client, like the rest of Freeciv, used a mix of int and gen_action
    for action id's. The gen_action enum is on its way to only be about the
    result of an action rather than it's id. They are in the process of being
    separated. Using an int doesn't mark the action id as an action id rather
    than - say - a pointer to an action.

    See hrm Feature #778826

commit ba8d64326fe4d55c9fa9267924c6c26f6d6abfca
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Oct 10 12:44:35 2018 +0200

    Qt client: use action_id for action id's.

    Include the get*_targeted_action_id() parts that should have been done in the
    original commit of hrm Feature #774228.

    See hrm Feature #774228

commit 241f38eab99a2724b52bd10c02e260873900cfcd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 10 07:58:58 2018 +0300

    Make 'multiresearch' server setting SSET_RULES

    See hrm Bug #778682

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d26e02a7610eacd0c4394f34030a7db0a760f90e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 7 09:33:30 2018 +0300

    Drop buy_gold_cost from web_city_info_addition packet

    The same information is now transferred in main city_info packet.

    See hrm Feature #778078

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2246400179534734cbcf3c7a6fde1e4e410e7a7e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 8 14:16:59 2018 +0300

    Introduce MAX_NUM_BUILDINGS

    Define max number of buildings separately from MAX_NUM_ITEMS.
    No functional change as the value is kept the same.

    See hrm Feature #778280

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4f9f9e3f9dd8d9790044ace5a529224d9f7fdf97
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 10 05:06:15 2018 +0300

    Do not error in savecompat when an < 3.0 scenario has no [random] section

    See hrm Bug #778659

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 772b8b9451f5acb9670f56c452ab09c94e02e68f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 9 03:17:25 2018 +0300

    Consider City_Radius_Sq effects when showing city area for city founding units

    Player and tile wide requirements are considered. There's no city yet, and
    future city will not have unit related requirements fulfilled as founder
    gets disbanded on founding the city.

    Reported by Phil G.

    See hrm Bug #746187

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 21c6563ab1bc7599501cfd585f9771caaeb93ec0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 7 14:28:04 2018 +0300

    freeciv-manual: Make output format selection runtime parameter

    See hrm Feature #657117

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2d190d7db70d925e5c60a4686364ae1706346b48
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 7 09:10:35 2018 +0300

    Move city_production_buy_gold_cost() from common/ to server/

    See hrm Feature #778077

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit acdfcc64bc5d8a8af80b5ca55c388f2449feb84a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 7 07:36:11 2018 +0300

    Drop obsolete is_native_tile_to_base()

    See hrm Feature #778074

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ef9e60e6172ca0ffaf4597ec80d898044b124d57
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 7 05:12:28 2018 +0300

    installer_cross: Implement initial version of gtk4 environment installation

    See hrm Feature #778072

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dca458a14b17d2a75ea1b118c24e95a98802ab13
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 8 22:14:55 2018 +0300

    Alien: Correct action ui name entry names

    See hrm Bug #778327

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 60b1b3c7f9d952b44bb46fbd5e4f956a9ef222ca
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 9 06:15:15 2018 +0300

    Make linking against crosser libSDL2 > 2.0.5 to work

    See hrm Bug #743842

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f2c067da004b94f9439a82f04e4c43ade9d44aa6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 6 04:42:31 2018 +0300

    gtk3x: Avoid nonexistent gdk_get_default_root_window()

    See hrm Feature #777693

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 62305aca36b9949ed3fc3feed31cee583c90c5de
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 7 08:42:38 2018 +0300

    Let omniscient server to calculate city buy cost

    See hrm Feature #767936

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1972beecec0a50689852bfd5070b4f1ba48c9827
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 6 02:44:24 2018 +0300

    Switch multipliers back to default value if requirements are not met

    See hrm Feature #739928

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3e5a1642be470549164b9fb77f4a6a2a65de5c96
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 6 13:05:46 2018 +0300

    Remove base flags retired in 3.0

    See hrm Feature #778036

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c251ddda41d4d9cdcc546f2f1d6d281a239d24f7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 7 03:27:15 2018 +0300

    installer_cross: Add freeciv-gtk3x.cmd

    See hrm Feature #778071

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 40bb417998a415ca9cb7b6b359192dd8b6d4e0cf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 6 09:32:00 2018 +0300

    Increase max number of unit types to 250

    See hrm Feature #778026

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 61d2a70e9ec9c1fefa6cf213c81c5383cb90ed9b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 6 03:48:31 2018 +0300

    Tutorial: Use hex topology

    Reported by Alexandro Ignatiev

    See hrm Feature #778019

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a108966a47daf8987ab6593966c32d4df592b0e9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 6 04:41:32 2018 +0300

    gtk3x: Drop gtk_widget_add_events() calls

    See hrm Feature #686885

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2488e948c9076ec3b85a30111a5c341b82d21f95
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 7 07:48:39 2018 +0300

    Travis CI: Drop dependency libsdl1.2-dev

    See hrm Feature #778075

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 76e44eab84740d931d05d1a061323ff29307aa9b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 4 23:54:23 2018 +0300

    winbuild.sh: Allow user to set GUIP part of the package name

    See hrm Feature #777732

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1fc977d713067789f4790e1cd25b53fdb8c91ef2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 6 09:13:02 2018 +0300

    Drop outcommented MAX_LAST definition

    See hrm Feature #778025

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c13af1ca707a24919dcba2e8a5c1c90f31b4db3a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 6 02:26:48 2018 +0300

    Drop unused really_close_connection_dialog()

    See hrm Feature #731625

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9b8bd4d1a5a034c49a21481ee72b5c41f631b1cc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 4 05:03:19 2018 +0300

    gtk3x: Drop obsolete gtk_toolbar_set_icon_size() call

    See hrm Feature #777527

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 57607037fd23d03fd5f1ea27d32502f38d6592d5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 4 22:23:12 2018 +0300

    winbuild.sh: Add EXTRA_CONFIG support

    See hrm Feature #777731

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d5969bf872adccbd50457077671e590ca4bd4a5b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 4 13:14:08 2018 +0300

    Use B_LAST instead of MAX_NUM_ITEMS where applicable

    See hrm Feature #777624

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f8c994f6af5aad7bc6c98ce4bbfd501362d34acc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 4 08:31:33 2018 +0300

    Make sure second and later games use correct random seed

    Reported by Jacob Nevins

    See hrm Bug #761219

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8cf73f68b72640b296c8d669e33f7459f9054a29
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 4 19:08:34 2018 +0300

    installer_cross: Support building gtk3x-client

    Just building the binaries is supported. Produced installer does
    not contain gtk4 environment.

    See hrm Feature #777722

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4e80c922ca6048eb4945fee2b0f28a2a5657d6b6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 4 17:08:22 2018 +0300

    gtk3x: Replace remaining direct accesses to GdkEvent fields with accessor calls

    See hrm Feature #777701

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 316931c92660b80ebe911e48b2ae074665156657
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 5 03:20:00 2018 +0300

    Add editor support for unit 'stay' property

    See hrm Feature #662672

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ae3a617c6c1a1e665373b330c2c919ffb1fbe3d0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 4 13:36:44 2018 +0300

    Document marking of log_warn() messages for translation

    See hrm Feature #735943

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1221006fc44e5e21b9f7490ba4c6be86488a68ce
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 4 07:51:26 2018 +0300

    Do not give double culture for non-unique achievements to first gainer

    Reported by Akechi

    See hrm Bug #763885

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 82e4339af720aef646730da8b6a9df385dfa7997
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 4 05:17:10 2018 +0300

    Keep current tileset when topology changes between overhead and iso ones

    See hrm Feature #777520

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 62b9b554165ea4e403012b6bcad6596cfc03d79e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 4 05:00:23 2018 +0300

    gtk3x: Avoid deprecated gdk_pango_context_get_for_screen() calls

    See hrm Feature #777521

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f9bc276f8a63289e7c9806ddb1300ad36687913f
Author: Zeko <zeko@freecivweb.org>
Date:   Fri Oct 5 17:53:12 2018 +0300

    Change call signature for luascript funcs to allow any return values

    All fcdb functions in database.lua have been changed to raise
    exceptions rather than return FCDB_ERROR enum, and user_load now returns
    a password hash.

    See feature #769078

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9a60d180c16e0d4c07e91fce52795900d2516b11
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 4 05:11:06 2018 +0300

    Update network capstring documentation in fc_version

    - Update base format
    - Remove instructions to avoid mandatory capabilities in a new
      development branch, as we bump the capability for the version number
      anyway

    See hrm Feature #776785

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cb6c700735f466792f54b443b8df519be56a1fc4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Oct 4 05:10:44 2018 +0300

    Increase max number of ruleset defined advances to 250

    See hrm Feature #776787

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e5e5262763f80bc22139178351a425f2b7c1e777
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 2 16:48:41 2018 +0300

    Fix gtk3x-client compile

    See hrm Bug #777144

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d59c25992e1f9cd838c2af8926ea1067988aecf3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 1 23:31:11 2018 +0300

    Sanitycheck barbarian init_buildings against B_LAST, not A_LAST

    See hrm Bug #776786

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f8e9d2c74d1a3dd242ec9331b0e7b751951cfffc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 1 23:27:31 2018 +0300

    installer_cross: Make build_all_installers.sh to work in two different modes

    Modes are 'snapshot' and 'release'.

    See hrm Feature #740208

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7aa0691cae87b8a22c987cd7b7a5f7e97c729e6d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 1 23:32:09 2018 +0300

    Combine "Overhead" and "Iso" tileset settings to single "Square" setting

    See hrm Feature #776792

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 84e5c90c8b74f21d9e2483e883a99e5bd6869aa8
Author: Zeko <zeko@freecivweb.org>
Date:   Mon Oct 1 23:30:17 2018 +0300

    Save orig_username for delegated players in savegames

    See hrm bug #772657

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7915fbcae1f9b56e69682880fc67799ddf97ed04
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 1 23:30:50 2018 +0300

    Update tech.ruleset comment about max number of advances

    Currently max number of advances in a ruleset is 199. Make documentation
    to match.

    Reported by Akechi

    See hrm Bug #769401

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c0240fc668095f685340647f860079ef312b868b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 29 20:15:47 2018 +0300

    Set hexemplio city sprite tags to point to correct sprites

    Patch by Pierre R

    See hrm Bug #774184

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c16947f15fe96cd69da9e71fdc7b332be6e2acd6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 29 04:21:18 2018 +0300

    Add 'generated' property for extras

    This makes it possible to have properties of causes Resource and Hut
    for an extra without it actually getting placed because of those causes.
    This is especially useful in combination with cause Appear.

    Sandbox ruleset Hermit's Place is fixed to have cause Hut.

    Hermit's Place problem reported by Alexandro Ignatiev

    See hrm Bug #775424

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 84c40c78fe0deff010c9765eeff662de66d217f6
Author: Zeko <zeko@freecivweb.org>
Date:   Sat Sep 29 07:51:39 2018 +0300

    Change all callbacks in update_queue to void (*cb) (void*)

    See hrm bug #775057

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6a61d00c44d1091c9ceb36a7264da777113278c7
Author: Zeko <zeko@freecivweb.org>
Date:   Sat Sep 29 02:05:53 2018 +0300

    Add percentage modifiers to global warming and nuclear winter rates

    See hrm feature #770804

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6f5d4f460bf044eb1cc914866e76f9be64db15e4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 17 10:48:32 2018 +0300

    Add "Unit_Build_Cost_Pct" effect type

    See hrm Feature #768130

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 64c2d72e60c2f4fdb98a5bde66ada1a41a437188
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Sep 24 07:21:22 2018 +0200

    effect_to_enabler() takes an action.

    The function effect_to_enabler() converts an effect to an action enabler. It
    takes an action id, not an action result. Mark it as such by changing the
    type of the action parameter from enum gen_action to action_id. This marking
    helps when an action's result becomes independent of its id.

    See hrm Feature #775500

commit d62428da94364102f6acb187f2d59661b2023d69
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Sep 20 11:07:31 2018 +0200

    ruledit: can't enable invalid action.

    Assert that there is at least one action to enable when adding a new action
    enabler. Also assert that the default action for the new enabler exists. Both
    assumptions are true as long as actions them self - unlike action enablers -
    remain hard coded.

    See hrm Feature #774865

commit 9948951e884a38d8a0a3e0cf992edebebb061f93
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Sep 20 10:51:20 2018 +0200

    Save game actions are actions, not results.

    An action in the list showing the order of action's in a save game is an
    action, not an action result. Make this clear by changing its type from
    gen_action to action_id.

    See hrm Feature #774858

commit bcd501016ad3e32f9fc7b03008821474dbade150
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 17 11:52:02 2018 +0300

    installer_cross: Support win32 crosser setup

    See hrm Feature #774284

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 38217eb9a5777b01c7c7c2e2a7dd48d49fc78222
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Aug 31 21:33:29 2018 +0200

    Qt client: use action_id for action id's.

    The Qt client, like the rest of Freeciv, used a mix of int and gen_action for
    action id's. The gen_action enum is on its way to only be about the result of
    an action rather than it's id since those are in the process of being
    separated. Using an int doesn't mark the action id as an action id rather
    than - say - a pointer to an action.

    See hrm Feature #774228

commit c327fd8c1c0313ad87a6703c54743646be8d4ee1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 17 10:31:06 2018 +0300

    installer_cross: Make build_all_installers.sh to respect CROSSER_QT

    See hrm Feature #774256

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 008564fd153ef424508a56d91ffbd74b34b32dbd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Sep 16 18:56:23 2018 +0200

    gen_action_name() -> action_id_rule_name()

    Use action_id_rule_name() rather than using gen_action_name() directly. This
    prepares the callers for when an action's id no longer predicting its result.

    See hrm Feature #774240

commit 63d3bcfa9d5be77cc34b698587eca07eeccc798a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Sep 16 16:29:27 2018 +0200

    action_target_neg_util(): mark action id param.

    Change the type of the act_id parameter from int to action_id so it shows up
    on code searches for action_id uses.

    See hrm Feature #774229

commit e7932e8ef6c230efd661c17adf62f45f2b623c8d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Sep 3 16:25:39 2018 +0200

    protocol: make gen_action fields action_id.

    The result of an action is (slowly) being separated from it's id. This is
    needed by generic actions. Change the type of packet fields that contains an
    action's id from the gen_action enum to the action_id typedef.

    See hrm Feature #774219

commit fd735f5314a880a0e0f375bfb00e5c4e587f605e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Sep 4 14:22:01 2018 +0200

    unit_perform_action(): mark action id argument...

    ...by changing its type to action_id.

    See hrm Feature #774218

commit 57d4cfd399f9259e3f23ea37dbd582ac772e1ecd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 15 12:32:24 2018 +0300

    Update to crosser-1.6

    See hrm Feature #774117

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7859a96276f52087b84ab7bcdc3b810e95a887d9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Sep 6 12:33:23 2018 +0200

    Stop assuming that action id equals result...

    ...in action not enabled explanation functions. This is needed by generic
    actions. Not done in switch statements. Making the compiler object unless all
    actions are handled is worth not porting them until fully generic actions -
    that can have more than one result - requires them.

    See hrm Feature #772834

commit b01f666b2cfcc2069debae1d64bd9fc75459c4e9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Sep 12 10:12:12 2018 +0200

    Invalid parameter safe action_has_result().

    Secure action_has_result() against bad parameters. Introduce versions that
    are safe to use with non existing actions.

    See hrm Feature #773606

commit fc82dd1a9e330e5bcf89faefb2ebe11b7c52a4f5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 7 07:43:37 2018 +0300

    gtk-clients: Avoid deprecated gtk_css_provider_get_default() call

    See hrm Bug #771103

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 723f376761de3395ea717a3ac7a71f3188fb43a0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Sep 6 10:13:57 2018 +0200

    Coding style changes from hrm Bug #772688

    Various coding style changes done while fixing hrm Bug #772688 in areas that
    turned out not to cause it. Fix indention, remove redundant lines and add
    PORTME comments.

    See hrm Feature #772697

commit 32599783df58197a2625bea5120635d95f14db9f
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Sep 7 01:58:04 2018 +0200

    Server - Fixed stopped rapture when city size changes
    Reported by ZoltÃ¡n Å½arkov

    See hrm Bug #771536

commit dd9a97eb7086afbaa3949ecb06d1f4846ff050ba
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Sep 3 16:19:24 2018 +0200

    Common client code: mark action id arguments...

    ...by changing their type to action_id.

    See hrm Feature #772137

commit b72fbc17c59d499dcfb8cbc55394b1341d60ed77
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Aug 31 21:59:17 2018 +0200

    Qt client: remove pointless argument casts.

    request_do_action() now takes the action id as an action_id, not a gen_action
    enumerator.

    See hrm Feature #772133

commit 561b523f0ba2f3574702728aa983d29b85e90b92
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Sep 6 09:19:43 2018 +0200

    Make the clients build again.

    Hrm Feature #771485 broke the compilation of most (all?) clients. Make them
    build again by dropping the gui_interface stuff.

    See hrm Bug #772688

commit 4ddab7590266dee3c49c3e2bc137b8debf1b20d5
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Sep 5 21:11:43 2018 +0200

    Fix compialtion fail for sdl2 client caused by hrm feature #771485

    See hrm Bug #772658

commit ca702c451ce17a3886f136adbd64fda8d18adead
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Sep 5 21:00:08 2018 +0200

    Added new lua signal - nuke exploded

    See hrm Feature #771917

commit 737f312afe1ef0005445902757a40c5e171909f7
Merge: 2ac75bfa80 5003b33798
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Sep 5 20:43:50 2018 +0200

    Merge branch 'master' of https://github.com/freeciv/freeciv

commit 2ac75bfa80dfbed882a7e7e4f728e15c0fbcbe70
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Sep 5 20:28:10 2018 +0200

    New server lua function to tell client to show image, text and play sound

    See hrm Feature #771485

commit 5003b33798bbb1791a1479f582a51192fa63da65
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Sep 5 20:28:10 2018 +0200

    Qt client - show technology icons in comboboxes and sidebar tech menu

    See hrm Feature #771722

commit a3874cb0468833fad580ae35231f06eab3ada32b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 18 13:39:43 2018 +0200

    Unit may act functions: mark action id arguments.

    Many functions that checks if a unit type (/ unit's type / unit list's unit's
    types) may be able to perform an action takes action id as arguments. Mark
    them by changing their type to action_id.

    See hrm Feature #771896

commit b03cc076a2e238fd991cea6cfa569b8bc85d7041
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sat Sep 1 20:46:45 2018 +0200

    Qt client - show technology icons in comboboxes and sidebar tech menu

    See hrm Feature #771722

commit c2f64cc70b96b782ab593a2cb46af287f1d4486b
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sat Sep 1 20:44:18 2018 +0200

    Qt client - dont update unit label if it not shown

    See hrm Bug #771721

commit 28aa1cdb03a001cd1ac9b2e02c3460fc0a958247
Merge: 948ab6fe3e d08a186003
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sat Sep 1 20:39:02 2018 +0200

    Merge branch 'master' of https://github.com/freeciv/freeciv

commit 948ab6fe3ef0726137c8fd8bde10b5d10610751e
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sat Sep 1 20:37:07 2018 +0200

    Server - added multiresearch option

    See hrm Feature #769897

commit d08a186003b77e17d5602c159d281d6477fe79b7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Aug 30 14:15:10 2018 +0200

    Let Action_Odds_Pct control tech theft odds.

    Allow the Action_Odds_Pct effect to modify the odds of the actions
    "Steal Tech", "Steal Tech Escape Expected", "Targeted Steal Tech" and
    "Targeted Steal Tech Escape Expected".

    Requested by wieder

    See hrm Feature #764943

commit b3dbe2459906e307fac50c76ac79ff7d566f3090
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Aug 28 19:34:58 2018 +0200

    Qt client - made governor area smaller in city dialog

    See hrm Bug #770355

commit 76280f8978b4cdc7922238bb8b75efbc5689f46f
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Aug 28 19:32:07 2018 +0200

    Qt client - Fixed isohex units size in city dialog and unit selector.

    See hrm Bug #770253

commit ee0070b2fa965664f08c70e5c00ea9c782804bb2
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Aug 20 21:57:47 2018 +0200

    Server - move AI phase before player activities/orders phase

    See hrm Bug #769791

commit cc88777d4fb96727eb638db0ec1b6317849aa092
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Aug 20 21:55:44 2018 +0200

    Qt client - dont allow observers to try changing city name or governor

    See hrm Bug #769796

commit 3e2d58d37d01574c7a9f675fe3bea9c917edc346
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Aug 20 21:53:12 2018 +0200

    Qt client - Fixed trying to cancel meetings when leaving game

    See hrm Bug #769764

commit c36311bf5679b9058a107f8d22d180fd07cd1a02
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Aug 20 21:50:27 2018 +0200

    Qt client - updated nation report
    Reported by formalhaut.

    See hrm Bug #769585

commit 98cfc3395bf3e698294156614819954fb282f786
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Aug 20 21:46:42 2018 +0200

    Fixed goto to target indicating one less turn in 2.6+ and wrong number after exhausting moves.
    Reported by Akechi.

    See hrm Bug #763893

commit a8690d3b5967bcbaa701040695252f4606898d8a
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Aug 20 21:41:50 2018 +0200

    Fixed goto path drawing bug with exhausted moves
    Reported by Marko Lindqvist and Jacob Nevins

    See hrm Bug #657396

commit 71e517a89d3179837aaf9c8094dd1294b0d90150
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Aug 17 02:43:38 2018 +0200

    Qt client - use unscaled units in city dialog, unit report, unit orders

    See hrm Feature #769214

commit 1838a03d673cfa6ecb15e251962174a5d256d0bc
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Aug 17 02:39:38 2018 +0200

    Client - draw unscaled tiles in city map dialog

    See hrm Feature #769212

commit 907bab9e4c17ab011357d32d6cfcefa47808a88d
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Aug 17 02:33:40 2018 +0200

    Qt client - added new menu option to scale/not scale fonts

    See hrm Feature #769204

commit 1ad8e134d71b5fcf835861b27d503f05a1515b41
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Aug 13 19:47:39 2018 +0200

    Qt client - use QPixmapCache also to store tileset sprites

    See hrm Feature #768847

commit 26df2cf9370b6ff520493f289acad3fb2cf3fa50
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Aug 13 19:38:34 2018 +0200

    Qt client - remove useless TODO about adding scrollbar

    See hrm Bug #768652

commit d196b8a0131637ce5947c15d04231c493bff03fb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 7 15:52:28 2018 +0300

    civ/2: Disallow "Alliance" clauses

    See hrm Feature #768396

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6fdb3333521898a661c04ede70a115f02518ae25
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 7 15:34:14 2018 +0300

    rulesave: Save clause type documentation comment

    See hrm Feature #768138

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4ce0315ea12594e93b6b4c6669a6ce0abbcc7270
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 7 15:33:02 2018 +0300

    Add "Unit_Buy_Cost_Pct" effect type

    See hrm Feature #767932

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f8ab44f8d0ed281d8229e9455d2ea4b1da1eac43
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 7 15:32:34 2018 +0300

    AI: Value embassy clause when tech leakage style is "Embassies"

    See hrm Feature #767838

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 79b5270e9404874ae0ae082187dd2b57fb5c54bc
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Aug 7 20:12:41 2018 +0200

    Client - Freed effect_list in text_happiness_wonders

    See hrm Bug #767983

commit e2c8a273a49af5d9fa456946d14b02bd0554b1af
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Aug 7 20:08:07 2018 +0200

    Qt Client - fixed some small memory leaks

    See hrm Bug #767837

commit 1ac137664edd08e3029dfe3f9d28d560af59c2bd
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Aug 7 20:04:46 2018 +0200

    Qt Client - Added possibility of bases/roads to build
    Reported by  Marko Lindqvist

    See hrm Bug #684336

commit e84f1a3541c74d0d3fe9fd99699823da8ba55d2e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 4 18:46:29 2018 +0300

    gtk3-clients: Set transient parent for happiness tooltips

    See hrm Bug #768105

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fa63c2a6b39d0d3ff63683fda2268aace248d1c3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 2 21:29:00 2018 +0300

    Introduce clause_info structure

    Initial version of the clause type specific clause_info structure
    contains information whether clause type is enabled in the game.
    This information comes from the ruleset.

    See hrm Feature #765945

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 885e365e0a8f8e132ff483e94c229769248525e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 4 10:48:39 2018 +0300

    Improve ruleset comments about unit convert_time

    Make it clear that time is in movement points, and not in turns

    Reported by frank e

    See hrm Bug #692480

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0084463b2fc660b7b7e777b904069c0f42220de0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 3 01:45:42 2018 +0300

    sandbox: Fix "Turn_Fragments" comment in game.ruleset

    See hrm Bug #767841

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 013c8ba1bcbb2247964974c9f17d26ecebf8f011
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 2 20:33:26 2018 +0300

    Add "Building_Build_Cost_Pct" effect

    See hrm Feature #767451

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5f32a120a9571e34763c2b57f93989b3e258397a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 2 23:31:25 2018 +0300

    AI: Give some value for culture effects

    See hrm Bug #767726

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3d29f94bd68d6aa5c8abec9fb4a4c8f5aae9ba86
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 2 20:33:02 2018 +0300

    Multiplayer: Double buy cost of Small Wonders except Palace

    Requested by S.C. L. (Caedo)

    See hrm Feature #767397

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8b80be74feaabb105586ef8715d32ee393c189ae
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Aug 3 22:06:35 2018 +0200

    Reverted commit "Pathfinding - added workaround for goto path drawing bug with exhausted unit"

    See hrm Bug #657396

commit 2e5aa113b88ac3661525743ce71e4d38ba4821b3
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Aug 3 21:57:41 2018 +0200

    Server - fixed square dispersion 'radius' on hex maps
    Reported by Jacob Nevins<jtn>

    See hrm Bug #767131

commit e25ec09e7e2a240dbe87f43b1333de91bf71bb28
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Aug 3 21:54:32 2018 +0200

    Qt client - dont open city when adding city to trade planning

    See hrm Bug #767095

commit fe1e8cfc102663ff64a048914b42508d5bde11f2
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Aug 3 21:49:21 2018 +0200

    Server - fixed angry citizens not taken into account in HAPPIEST Civilizations report
    Reported by Akechi

    See hrm Bug #763884

commit fc82e7dc6d3464f3b7da4c28802ee08e8372320d
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Aug 3 21:46:03 2018 +0200

    Server - fixed pollution placed 1% more than pollution value of city
    Reported by Akechi

    See hrm Bug #763881

commit 0db870aa1bc26a17c7c55633c82f2edd961ba82f
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Aug 3 21:23:12 2018 +0200

    Pathfinding - added workaround for goto path drawing bug with exhausted unit and maglev
    Reported by Marko Lindqvist and Jacob Nevins <jtn>

    See hrm Bug #657396

commit f0a9245e86b45c3643eb28739998fcd5001e6bf0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 2 20:34:49 2018 +0300

    gtk3x: Replace gdk_threads_add_idle() call with g_idle_add()

    See hrm Feature #767472

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d4190d33604a010520e2b2e294e24962f328de26
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 2 20:32:43 2018 +0300

    Add "Building_Buy_Cost_Pct" effect type

    The main motivation is to allow ruleset to define how to
    handle buy cost of Small Wonders.

    Requested by S.C. L. (Caedo)

    See hrm Bug #756718

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3cfb01dcba83629e9d402840eecd7e5c35d0c88f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 2 20:34:09 2018 +0300

    Fix appending gthread cflags to modpack cflags

    See hrm Bug #767468

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4eb0d77e7d0b23248f0728253f7656b3971e9c49
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Aug 2 20:32:23 2018 +0300

    Add server setting to control tech leakage rate

    Requested by fomalhaut

    See hrm Feature #764944

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 217ce5d27831fcd496ef647c9660a71a93b9cfaa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 31 23:52:22 2018 +0300

    Update freeciv-mp-gtk3x to use gtk+-3.94

    See hrm Feature #767467

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c030014131bb4ad5f0138f83e37ce9e147c79cf8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 31 22:15:24 2018 +0300

    Reveal map for completely dead teams when REVEAL_MAP_DEAD set

    The old behavior was never to reveal map to dead players if they
    were part of any team.

    See hrm Feature #658081

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9e0ea63be47cd1b6aa433142c5cfd720631c0ee9
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Aug 1 21:22:16 2018 +0200

    Reverted Bug #767095: Qt client - dont open city when adding city to trade planning
    Unexpected non working select button at all.

    See hrm Bug #767095

commit 53be69c0616a3b895d03e9112d34fb515097f893
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Aug 1 21:17:35 2018 +0200

    Pathfinding - fixed path drawing for fueled units with fuel > 1
    Reported by Jacob Nevins<jtn>

    See hrm Bug #765079

commit cfe267f944c5ba4b7c3d86d0a7ee6d5f54df3a9b
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Aug 1 21:08:06 2018 +0200

    Qt client - dont open city when adding city to trade planning

    See hrm Bug #767095

commit 990a36787242bd35ec3d7bdc9cbfa0caffda8b51
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Aug 1 21:05:58 2018 +0200

    Qt - always draw virtual cities in trade planning

    See hrm Bug #767094

commit aaed61f3859fed2d71c0e67887e179532d9d7310
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Aug 1 21:03:58 2018 +0200

    Qt - improved city dialog splitters and size policies position on first run

    See hrm Bug #767092

commit 82e9c0b72ec39835c71612f3948903247a4b4549
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Aug 1 20:59:37 2018 +0200

    Qt client - fixed default huge fonts on some small displays
    Reported by Yuri Tretyakov

    See hrm Bug #766497

commit 602b863b87cce52844f4aa8d8f8614ff9ed16c57
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 29 23:15:36 2018 +0300

    Init capabilities for freeciv-manual

    This fixes assert failure because of missing capability.

    Reported by MÃ¡ximo CastaÃ±eda

    See hrm Bug #763694

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7e1f6c8d12e4dfc372187e404f15c0fc696be0cb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 29 22:29:06 2018 +0300

    Increase victory_min_points in rulesets with cultural victory chance

    Experimental: 15000
    Civ2civ3:     18000
    Sandbox:      18000

    See hrm Bug #766716

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2601cb3750184bcc5d92bd5cf205080684788c1f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 29 17:22:07 2018 +0300

    Add "building_lost" signal to lua API

    Requested by Caedo

    See hrm Feature #695007

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 468a9aa3b11c2629d177d19cf9a8de9fd4ea2733
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Jul 30 22:32:55 2018 +0100

    Updated Spanish translation by Jordi Negrevernis i Font

    msgmerged from S2_6 f78349892d. Stats on master:
    nations: 100%: 1843 translated.

commit 5025a38df8f405092ba22c36e861d89118aecb56
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 29 17:09:20 2018 +0300

    README.md: Remove link to play.freeciv.org

    See hrm Feature #767042

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b4de4569a44d1806a56f852647a8b4fcb5c1f620
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 29 17:07:17 2018 +0300

    Windows: just use getenv(APPDATA) for home dir

    Requested by Frank <dunnoob>
    Patch by simsulla <simplicissimus.sulla@gmail.com>

    See hrm Feature #693389

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7443c0be43da6ed64c866fa339309f0adabca9d2
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 28 12:22:37 2018 +0100

    Script to scrape NEWS from Freeciv wiki.

    Cloned and hacked from doc/generate_FAQ.pl by me (in 2012), originally
    for gna patch #3488.

    See hrm feature #767074.

commit 68606e2a4938eb457b00efe7512b8fc2aa26b8bd
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 28 12:06:06 2018 +0100

    Update NEWS for 2.5->2.6 changes.

    See hrm feature #767040.

commit 5128119992b60bcdbb077b399ddccd826669f5f5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 29 17:08:54 2018 +0300

    Make create_vertical_surface() state parameter enum widget_state

    See hrm Feature #735289

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1c91ed222a85701d837404e01a515a778206c52e
Author: Zeko <zeko@freecivweb.org>
Date:   Sun Jul 29 09:55:56 2018 +0300

    Port caravan bonus style and trade revenue style options from warclient

    See hrm #765978

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a7059d5a82546031f7662a7cb87076bd0eacdca2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 22 00:10:48 2018 +0300

    Try glibtoolize if libtoolize is not found

    On Mac libtoolize might be called glibtoolize.

    Reported by Daniel Markstedt

    See hrm Bug #714899

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 05186c5695f6ebd5dc94802f0fd2f99644234736
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 22 01:01:46 2018 +0300

    msys1: Build only stub AI to ruledit installer

    See hrm Feature #656443

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fd94615013604b980a29de4fe7268f4e52f090f4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 22 19:22:10 2018 +0300

    sdl2-client: Correct freetype minimum version detection

    Reported by Lars Wendler

    See hrm Bug #765927

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 410d05e71480798423505a9a5c2e1b8a29735f3a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 21 19:31:23 2018 +0300

    Fix editing research while one is researching Future Tech

    Reported by fomalhaut pa

    See hrm Bug #765089

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a5fd4617b58322f41dfd4ce491042628da70ad49
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 22 01:19:41 2018 +0300

    msys2: Build only stub AI to ruledit installer

    See hrm Feature #656441

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eaece30292990612abb79e4cd8e6341851c60915
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 21 11:43:31 2018 +0300

    Add function header for tilespec_reread_frozen_refresh()

    See hrm Bug #735284

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 145ab0907383ba328b4060f5b6f1ec631309a571
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 21 01:43:19 2018 +0300

    Respect forced_tileset_name when starting a scenario game

    Reported by javaxubuntu

    See hrm Bug #765923

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f5157e5d2cfdf1d96206a9d6e23a5951ca7a43ba
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 21 18:40:34 2018 +0300

    Mention "Turn_Fragments" effect on game.ruleset documentation about fragments

    See hrm Feature #765121

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit efb0d0a6a9781f24f4c686798f17c93a6039b63e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 21 12:26:23 2018 +0300

    Update included lua to version 5.3.5

    See hrm Feature #765936

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 36f36e8dcc1c0b46b50d386c58c2fb1781d656ef
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 21 02:38:50 2018 +0300

    Save advance root req only if it's not inherited

    Reported by Jacob Nevins

    See hrm Bug #758958

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ed849c3d2bf9c8c61477bff7b3dc163e15892701
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 21 02:03:19 2018 +0300

    Qualify extra owner format string

    See hrm Feature #765598

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit af21962e8fa5631bff82d3a30f8695a6bb4f52c4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 21 00:01:49 2018 +0300

    Fix stringop-truncation warnings on C++ code

    See hrm Bug #765910

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 32abe86c3b276d74d314ec92561c97ce5983056a
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jul 15 16:39:21 2018 +0100

    Keep pregame AI level dropdown in sync with server state.

    It's been a longstanding bug that this dropdown, in clients which have
    it, doesn't track server state, and often the initial state doesn't
    reflect the server's.

    Reported by lots of people, including Frank (dunnoob@gna) in
    gna bug #24899.

    See hrm bug #765061.

commit 8b1b89b09f57f3f186daee0e44bd8d1250234054
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jul 15 00:10:06 2018 +0100

    Suppress "wonder will be finished" notices once obsolete.

    They could be printed even if the wonder could no longer be built,
    for instance due to becoming obsolete. (And would be printed every
    turn until the city production was changed.) This was a regression
    from 2.5.

    Reported by "fomalhaut pa".

    See hrm bug #764965.

commit 382c13064dab8baa00fc04f8b6ef4f6a58a42ed4
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 14 13:56:33 2018 +0100

    More warning for unit disband due to peace treaty.

    Make the initial message clearer that units will be disbanded, and
    send a followup warnings once per turn to any player who has units
    still at risk of disband.

    After a suggestion by David Lowe (doctorjlowe@gna) in gna bug #16000.

    See hrm feature #764959.

commit b1c56df7186c843ec705b16e4a89d63d08c59d61
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 14 12:00:13 2018 +0100

    Notify of endturn/spaceship arrival next turn.

    This gives players a chance to react (for instance, by changing server
    settings to prolong the game).

    See hrm feature #764421.

commit 6cd26d623497a3db833ad2dc80fe1c558a230c7c
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 14 11:24:43 2018 +0100

    Allow game_next_year() without side effects.

    See hrm feature #764956.

commit 2ae0186feb33f4268007d3ee0afc29dae07b07fd
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jul 8 10:12:23 2018 +0100

    Fix docs for civ2civ3 Cure for Cancer.

    The description of the effect on plague risk was misleading.

    See hrm bug #763957.

commit 5aee4135af1e8eaf8f3183c79ce2744f5b88d087
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jun 30 17:33:30 2018 +0100

    Don't clear cities' worker tasks on /away.

    See hrm bug #685253.

commit f91b1f175a9fcd8523c24292eb5a823846392212
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 21 22:17:13 2018 +0100

    Update FAQ for 2.6.

    Semi-manually updated from http://www.freeciv.org/wiki/FAQ_2.6, which
    will shortly be moved to the main FAQ URL.

    2.6 FAQ started by frank e, with further updates from me.

    See hrm feature #696454.

commit 66fd19c7dedd19b50096aeb005ebf31ca5284b75
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Jul 20 19:05:33 2018 +0200

    Reverted temporarily due to Bug #765892

    See hrm Bug #765390

commit 2db92244af33102c4606e4981890624344729233
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Fri Jul 20 00:50:11 2018 +0100

    Updated Spanish translation by Jordi Negrevernis i Font

    msgmerged from S2_6 3b081427c2. Stats on master:
    core: 80%: 6014 translated, 954 fuzzy, 532 untranslated.

commit c704667054a2b7dbbc03fd0f352edd73ae228f6c
Author: mir3x <mlewczuk80@gmail.com>
Date:   Thu Jul 19 22:25:36 2018 +0200

    Qt client - fixed not null-terminated string used for showing tooltip in city dialog

    See hrm Bug #765390

commit 61def3763753c973306218f4605e62143bb9cc31
Author: mir3x <mlewczuk80@gmail.com>
Date:   Thu Jul 19 22:22:13 2018 +0200

    Qt client - button for canceling production dialog was invisible and inactive in Qt5.11

    See hrm Bug #765387

commit d8663db64044c0748fa9da336c158248e2ec797e
Author: mir3x <mlewczuk80@gmail.com>
Date:   Thu Jul 19 22:18:50 2018 +0200

    Pathfinding - show number in correct place on mapview for unit being out of fuel for given turn
    Reported by Jacob Nevins

    See hrm Bug #765079

commit d6809f4a3223d1f4127a75d9c6420d86287b90a4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 19 09:10:39 2018 +0300

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c17ceaccd9eab8fc1f5ff4de58bfef0a84d4e94a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jul 18 13:12:58 2018 +0200

    Comment clarification: fake action id.

commit e2def982adf9f4104d76473bff4ece116d64c8ce
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Jul 17 09:32:04 2018 +0100

    Updated Japanese translation by "fomalhaut pa"

    msgmerged from S2_6 deac9014aa. Stats on master:
    core: 77%: 5748 translated, 1025 fuzzy, 727 untranslated.
    nations: 95.8%: 1766 translated, 11 fuzzy, 66 untranslated.

    See hrm feature #765297.

commit 3e1d8a92aa426de7ca6e0a072375fc06b0f21f68
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jul 15 13:12:23 2018 +0100

    More visible Pollution sprite for Amplio2/Cimpletoon.

    By Gyubal Wahazar on the forum.

    See hrm feature #765046.

commit 18b78878ec5504f817f8d7a8f01acab80ef2c533
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jul 10 12:54:43 2018 +0200

    Assert correct input in utype can act functions.

    Inspired by hrm Bug #759773 that was reported by ZoltÃ¡n Å½arkov

    See hrm Feature #764308

commit f75aa738c20736cbb24d83b1a6a9be7dbf3c42fe
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 14 21:06:45 2018 +0100

    Fix server crash loading worker tasks.

    A savegame where a city had a terrain-conversion type worker task was
    loaded with an uninitialised pointer, potentially causing a server
    crash later.

    Crash reported by mir3x.

    See hrm bug #764223.

commit 1b39f996175f69d41b79efa8f8fd3bbf64cd12a2
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 14 00:52:26 2018 +0100

    Updated Spanish translation by Jordi Negrevernis i Font

    msgmerged from S2_6 6136abb34e. Stats on master:
    core: 76%: 5733 translated, 1165 fuzzy, 602 untranslated.

commit 56fa2d848d59e8214e8e379c7d71506c79cf4770
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Jul 13 14:51:21 2018 +0200

    Qt client - display help text in build queue & Improvement List
    Requested by Griffon Spade

    See hrm Feature #735308

commit d34cfcfbc2dd2d2fdc55f5f5bc1f401a85df04b5
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Jul 13 14:44:29 2018 +0200

    Server - Fix global warming occurring at 0 accumulated value
    Reported by Akechi.

    See hrm Bug #763882

commit e3fdeb72b121045b8b29612bda8e8c27d5a59cc0
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Jul 13 14:40:30 2018 +0200

    Client - Drawn goto turns to target is incorrect on mapview

    See hrm Bug #763943

commit fa1ff3b0decbcc7d9893768ba7c9d269021cf52f
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Jul 13 14:32:21 2018 +0200

    Qt client - fix Shift-E shortcut clash
    Reported by Jacob Nevins

    See hrm Bug #764407

commit dc3841b76ba16e45fbb0ba205bef383f53419dc3
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Jul 13 14:29:42 2018 +0200

    Qt client - use QPixmapCache for faster loading pixmaps

    See hrm Feature #764525

commit 8c4cb86580a66d61e8ba4840b9191977c8d24da0
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Jul 13 14:27:20 2018 +0200

    Qt client - show extra moves left for fueled units
    Request by Jacob Nevins somewhere on gna.

    See hrm Feature #764524

commit 61b96b9449c5b0686ee016e76c9d3f65297bf0f8
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Jul 13 14:24:04 2018 +0200

    Qt client - Save help dialog position and geometry

    See hrm Feature #764218

commit 5d22e74f9f8de2a0b8937033a25065b661c3eed5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 15 12:42:00 2018 +0200

    Support extra targeted unit action orders.

    Support actions that requires an extra sub target in ORDER_PERFORM_ACTION
    unit orders.

    No client side usage added. No automatic extra target finding is done when no
    extra sub target is found.

    See hrm Feature #761724

commit 01879cc27f8151ee6fe411890c0cb3bbbdc7e55c
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jul 8 12:19:42 2018 +0100

    Lua find.role_unit_type() considers flags too.

    Fixes a regression in 2.6 where you could never get Settler-type units
    from huts.

    Reported in various forms by frank e and Akechi.

    See hrm bug #700906, hrm bug #763890.

commit ab6e7951aeac8bd5f19a56485d770dad1c292bd2
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Jul 10 21:29:10 2018 +0200

    Qt client - Left-Align Header Text for Present Units, Supported Units, and Improvements in city dialog
    Reported by Griffon Spade

    See hrm Bug #735301

commit 7a49951cebe0f997fe94ec58254399ca61b80387
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Jul 10 21:24:38 2018 +0200

    Qt client - added option to resize battle log widget

    See hrm Feature #764025

commit 23c3ed1c6b34669b7432a509b694b64dc2ad95dd
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Jul 10 21:21:14 2018 +0200

    Qt client - fixed crash when observing player with diplomacy meetings open

    See hrm Bug #764026

commit 281305614bee3acf8b4d046f36ff914b70a85340
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Jul 10 21:18:18 2018 +0200

    Fixed incorrect "bribe cost" for damaged units.
    Reported by Akechi

    See hrm Bug #763896

commit 4b8faf2145ca0044124173350df42c45e76cb160
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Jul 10 21:14:51 2018 +0200

    Server - fixed "Largest Civilizations report" not being created
    Reported by Akechi

    See hrm Bug Bug #763883

commit 022dea17a7cdcf5b6116307f59aa70e8db65ea76
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Jul 10 21:10:13 2018 +0200

    Server - fixed resources placed 0.1% more than setting value
    Reported by Akechi

    See hrm Bug #763879

commit 31256a94f94d1eef175798785a1ae2b2c52fa5d6
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Jul 10 21:05:00 2018 +0200

    Qt client - link for terrain in buidlings help not working
    Reported by MÃ¡ximo CastaÃ±eda

    See hrm Bug #763708

commit 1290e1bae386a9a95c52a5a1e26701692950dbb8
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Jul 10 21:01:22 2018 +0200

    Fixed crash when unit goto is active and mouse is leaving bottom of unit actions widget.
    Reported by Jacob Nevins<jtn>

    See hrm Bug #761748

commit 3fd93791e8217969a21be2e3323328a4d55ec38a
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jul 8 14:38:55 2018 +0100

    Fix network protocol for rulesets with lots of units.

    There was a longstanding bug if a ruleset has 129 or more units,
    and one of the 129th-or-later units is an upgrade or convert target,
    the client wouldn't register that, so players couldn't initiate the
    affected upgrade or conversion. This was due to use of SINT8 in the
    network protocol.

    Change the network protocol definition to UINT8. It so happens that
    this doesn't actually change what the server sends on the wire, just
    how the client interprets it, so there's no need for a capability
    bump, and new clients will now do the correct thing even with old
    servers.

    Reported by Akechi.

    See hrm bug #763894.

commit 2c0fe0c02d3d7a6c0ca6275af426a3f66e157de7
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Jul 3 09:34:36 2018 +0100

    Mark 'default' command as translatable.

    Reported by MÃ¡ximo CastaÃ±eda.

    See hrm bug #763068.

commit e88332576d9f748c0e7851e98dd1247f86267a7a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 29 10:00:24 2018 +0300

    Update msys2 environment to 180624 level

    See hrm Task #724669

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8697f3a9b120b5642b35fa83dca480caeea8e1e0
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Jul 3 21:56:51 2018 +0200

    Qt client - make sidebar width dependent on screen size not application size.

    See hrm Feature #760162

commit 2a6f2fcea0c19ad1de9d85ef269716551132c2f9
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Jul 3 21:52:47 2018 +0200

    Qt Client - when scaling tileset make tile information size not changeable.

    See hrm Bug #759976

commit 002ad1304708c32f072ba537df7439053dc49a46
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Jul 3 21:49:08 2018 +0200

    Qt Client - reverted policies dialog to normal QDialog, due to crash on
                earlier versions of Qt.
    Reported by Jacob Nevins <jtn>

    See hrm Bug #759242

commit 1d3d0acb27d0c987a39d8442859f3720ed2e8df5
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Jul 3 21:43:49 2018 +0200

    Client - fixed displaying borders when using scaled tileset.
    Reported by Jacob Nevins <jtn>

    See hrm Bug #756115

commit b4640fc7e815ada6ba58d156b8370637e8676218
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jun 30 15:32:42 2018 +0100

    Activity icons and other tweaks for Isotrident/Isophex.

    Add activity icons for all extras in shipping rulesets.
    Removed piecewise nuke sprites (not used since r7322 in 2004).

    By GriffonSpade with spec tweaks by me.

    See hrm feature #762839.

commit daec00a08637c2e0bfccc205164e01d3b2d181fc
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jun 30 15:30:57 2018 +0100

    More unit activity icons for Amplio2/Cimpletoon.

    Added irrigation, farmland, mine, oil_mine, oil_rig.
    These tilesets now have specific activity icons for all extras in shipping
    rulesets.

    By GriffonSpade.

    See hrm feature #762838.

commit 4579d6b23752de1b55f235ef37e1be22e7636803
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jun 27 22:25:12 2018 +0100

    Fix spaceship score contribution.

    Don't give points on spaceship arrival for population in habitation
    modules that weren't actually attached to the spaceship when it was
    launched.

    Reported by "fomalhaut pa".

    See hrm bug #757442.

commit 7828350ae98f05d07bee694eacfa56bcb8461597
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 27 05:46:10 2018 +0300

    tinycthread.h: Don't mess timespec definition

    See hrm Bug #762124

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3a00662d26809568ec9b9ed2316ab6765cf2ceee
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Jun 26 23:47:04 2018 +0100

    Fix Future Tech messages.

    When getting Future Tech as a free tech, some of the messages
    displayed the wrong Future Tech number.

    Define separate functions for choosing a free tech and granting it.
    (This allowed some unrelated cleanup.)

    Wrong messages reported by "fomalhaut pa".

    See hrm bug #761977.

commit 7d891a9895ca4796ace14c527711721a7a2364d3
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Jun 26 22:47:31 2018 +0100

    Fix cargo teleport on transport homecity loss.

    When a gameloss/undisbandable unit such as a Leader is cargo on a
    transport that is lost with its home city, avoid teleporting the
    Leader to that city. This could cause non-allied units on the same
    tile (Leader and city's conqueror), and prevent the Leader teleporting
    to a more distant, safe city.

    Non-allied units reported by "fomalhaut pa".

    See hrm bug #761808.

commit 8eb47c130254dfceb6182b6794b9cb6e8f28d757
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 24 07:41:20 2018 +0200

    More detailed unit order logging.

    See hrm Feature #761786

commit aeafac7ff4747d3e6150b881f83d152b253ec467
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 20 13:30:33 2018 +0200

    Add a "how long will this action take" finder.

    Some actions are activities. Those aren't done until enough work (stored in
    a unit's activity_count) has been performed. The work is done at turn change.
    Other actions are instantaneous. They are performed (or fails) at once the
    unit is ordered to perform them.

    Introduce the constant ACT_TIME_INSTANTANEOUS and the function
    action_get_act_time(). The constant ACT_TIME_INSTANTANEOUS symbolizes that an
    action is instantaneous. The function action_get_act_time() returns
    ACT_TIME_INSTANTANEOUS for instantaneous actions and the amount of work (done
    at turn change) required to complete it for activities.

    Move the activity time calculations of ACTIVITY_FORTIFYING and
    ACTIVITY_CONVERT from update_unit_activity() to action_get_act_time().

    See hrm Feature #761781

commit 27a777a32ef0faa0bcca819c10f2fab4dcf15d51
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Jun 25 00:01:20 2018 +0100

    Fix Amplio2/Hexemplio industrial cities.

    The Amplio2/Cimpletoon/Hexemplio/Toolhex tilesets was using the wrong
    graphics for large unwalled cities with the "industrial" style.

    Reported and diagnosed by "fomalhaut pa".

    See hrm bug #761751.

commit 93c68466858b7ac5f6811a27d6df098b970f8390
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 20 13:33:23 2018 +0200

    Fix tech/building targeted unit order execution.

    The tech or building sub target and the extra sub target arguments to
    unit_perform_action() was in the wrong order when executing a unit order with
    a specified action. The tech or building sub target was replaced by
    EXTRA_NONE while the tech or building sub target was sent as an extra target.

    This broke the execution of the city targeted orders with a tech or building
    sub target. Example: An order for a Spy to go to a city and sabotage its City
    Walls would be interpreted as an order to go to the city and sabotage its
    current production.

    No GUI supports sending a go to and perform action order against the
    specified sub target yet.

    See hrm Bug #761527

commit 86fce03a3a92646747c7017dd316fdd3ba330218
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Jun 21 00:22:22 2018 +0100

    Shuffle players earlier in a new game.

    give_initial_techs() was using the shuffled players order before it
    was initialised. The most obvious effect was that with high
    techlevels, the first player would be told about government-enabled
    technologies 160 times, and everyone else not at all.

    Games started from a fixed random seed may not proceed the same before
    and after this change, although map generation is unaffected.

    Excessive messages reported by "fomalhaut pa".

    See hrm bug #759020.

commit 7cbb83d70a9403107e29bc7186bd8a4ac51f74e9
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jun 20 21:38:03 2018 +0100

    Tweak secfile comment output format.

    Add a few spaces, to make it clear that it's a comment.
    This is used for instance in the client rc file.

    See hrm bug #761206.

commit d5ffa0c98628e4b009a40dcab17006aae3941993
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jun 20 20:49:02 2018 +0100

    Misc terrain.ruleset comments about 2.6+ changes.

     - Describe how extra ownership works.
     - Describe integrating roads.
     - Note that pythagorean_diagonal has no effect with hex topologies.
     - After gna patch #4346, terrains are looked up by name, not section.

    See hrm feature #761202.

commit 44b9f424eac7bc7cfc7fb68983a0cd322921d1d3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 20 02:56:54 2018 +0300

    Refresh sdl2.m4 to upstream release 2.0.8 level

    See hrm Feature #750895

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 85aee6587bd076e2b69697727b75b89e60dfd699
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Jun 18 00:43:08 2018 +0100

    A couple of string tweaks.

    See hrm bug #689474.

commit 6db6d5d01ec2e362f922391f0be9f7485552fc67
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Jun 18 00:43:23 2018 +0100

    Some corrections to rules help for 2.6+.

    See hrm bug #760497.

commit e4c51cb8a0f16b5c10192da7db89806bdfe2b736
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jun 17 15:40:46 2018 +0100

    Remove font sizes from tileset format.

    The city and production font sizes clashed with client font configuration,
    and were already ignored by the Qt client.

    Clash reported by "Grendel" (gna bug #18802). Symptom also reported in
    gna bug #19327 and Launchpad #816197, and by Hans Lemurson on the
    forum.

    See hrm bug #760420.

commit d62199c707eb3e5c9eb8b481a829bfbced1090a7
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jun 17 13:59:42 2018 +0100

    (Very) minimal font configuration in SDL2.

    Allows setting the size (only) of the city name and production text (only)
    on the main map view.

    See hrm feature #760428.

commit 894bbf0aa83b3a2af8d4977711dc2dbfb84ee602
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jun 16 22:11:41 2018 +0100

    More logging for autosettlers.

    Log their target tasks and progress toward them, in a way that
    '/debug unit' can show.

    See hrm feature #760370.

commit b6eb67b7b1534b09465a5844f234ccbbf8ead956
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jun 16 22:10:48 2018 +0100

    Fix '/debug unit|units'.

    The logic in UNIT_LOG() prevented '/debug' from showing most of a unit's
    debug messages.

    See hrm bug #760368.

commit 7c78d25b54f1f8d07ab213bf9f468d7885033bbc
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jun 16 22:47:50 2018 +0100

    Client: allow cleaning as worker task.

    The Gtk/Qt clients now allow requesting Clean Pollution/Fallout via the
    worker task interface.

    Requested by vla22.

    See hrm feature #760367.

commit 5759d686bf117ead4a8488cb0da90bda588aabad
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jun 16 22:19:34 2018 +0100

    man pages: note that --log appends.

    See hrm bug #760366.

commit 10542d5d00303847bb5dbb4081e251a1f1c1a388
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 9 22:41:33 2018 +0300

    Add deprecation warning about use of numeric log levels

    Patch by simsulla <simplicissimus.sulla@gmail.com>

    See hrm Feature #735948

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eb5c0f9975513f0ff8f2bf414187e212368fc88a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 13 23:46:04 2018 +0200

    Assert that unit action orders have an action.

    Inspired by hrm Bug #759773 that was reported by ZoltÃ¡n Å½arkov

    See hrm Feature #759786

commit c92f52c83791f1d18a1d44b26be9032e445fa1bd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 12 09:08:14 2018 +0200

    actiontools: tighten incident type information.

    See hrm Feature #759298

commit 35f7f500943be3d53b2c8a5e53ef778804520082
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 12 08:50:10 2018 +0200

    api_find_action() takes an action id. Mark it.

    See hrm Feature #759295

commit b7f6adb032303320082759289f92db5f0517b35e
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jun 13 21:42:20 2018 +0100

    Prevent partisans from most city transfers.

    Partisans are only supposed to show up when a city is conquered, but
    due to a precedence issue in the Lua script, they could show up
    whenever a city changed hands for any reason.

    Reported by "fomalhaut pa".

    See hrm bug #759770.

commit ef480bd525f2672ff0912ac3ee2b92f988d53b0d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 9 18:13:50 2018 +0300

    civ1: Remove Airlift action enabler

    Patch by simsulla <simplicissimus.sulla@gmail.com>

    See Feature #741526

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0630ce3fa9e85d92df43c9da398d096737f8ebba
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Jun 11 08:36:45 2018 +0100

    Use same extra graphics and extrastyle.

    Tileset loading code now only does 'graphic'/'graphic_alt' fallback on
    the extra style, and always loads the graphics corresponding to the
    extra style it found. (Instead of supporting independent fallback of
    the extra style and each of various graphics used to draw the extra,
    which was confusing.)

    See hrm bug #758989.

commit c701de83766b9b9267669316b9fa8037aa265c81
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 8 14:30:37 2018 +0200

    Assert that ACTIVITY_LAST isn't considered.

    See hrm Feature #759099

commit 8e2801d583e1aaaee2bfaf3229e2ba233b518ff3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Jun 9 20:44:48 2018 +0200

    Fix all can_unit_do_activity_targeted_at() calls.

    A call to is_action_enabled_unit_on_*() replaced the hard coded checks in
    can_unit_do_activity_targeted_at() for each activity that became action
    enabler controlled. is_action_enabled_unit_on_*() cares about distance
    between actor an target. This caused can_unit_do_activity_targeted_at() to
    lose it's ability to speculate about the actor unit's tile for action enabler
    controlled activities.

    Actor unit tile speculation with can_unit_do_activity_targeted_at() is only
    used in the auto settler code of ai/tex, ai/threaded and
    advisors/autosettlers. Its remaining users can't be ported to use speculative
    action enabler evaluation until all the activities they may consider have
    corresponding actions.

    Introduce auto_settlers_speculate_can_act_at(). It calls the correct
    speculative evaluation function based on if the specified activity has a
    corresponding action or not: can_unit_do_activity_targeted_at() when no
    corresponding action is found. action_speculate_unit_on_*() when it is.

    Port remaining actor position speculating can_unit_do_activity_targeted_at()
    calls to auto_settlers_speculate_can_act_at(). Assert that calls to
    can_unit_do_activity_targeted_at() for action enabler controlled activities
    don't speculate about actor unit position.

    See hrm Bug #758450

commit 2091be8ce07ff88e20bc824f4fbf1a5b72827018
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Jun 12 19:59:20 2018 +0200

    Fixed tileset zoom activity fffset bug
    Reported by Griffon Spade

    See hrm Bug #731629

commit 97c12d393ba00ce5da72d56d05b27174758ed6c0
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Jun 12 19:45:05 2018 +0200

    Qt client - fix zooomed flags in nations menu.
    Reported by Griffon Spade

    See hrm Bug #738921

commit b538e4d429f8c307ed5ad21ce0fe1b159be48c37
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 9 23:15:01 2018 +0300

    Make '/list scenarios' to list scenarios only

    It was listing also regular savegames

    Patch by simsulla <simplicissimus.sulla@gmail.com>

    See hrm Bug #731199

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1e6e2145e3a0e91e7c5abb0a81f4376e0db191fc
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jun 10 13:27:07 2018 +0100

    Fill in missing extrastyles in supplied tilesets.

    Many tilesets defined sprites without defining extrastyles for them.
    The engine doesn't currently warn about this, so trouble could be hidden
    until you use a ruleset with unusual fallbacks (such as 'alien').

    Trouble with 'alien' ruleset reported by vla22.

    See hrm bug #758964.

commit 96aebb40b683b17398462abcf1fcb785a833d865
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jun 3 14:07:33 2018 +0100

    Editor: use bv_techs instead of bool array.

    See hrm feature #758952.

commit c3d9028d37473348458eb80650739a5a0836236e
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jun 9 17:40:55 2018 +0100

    Show effect of tech root_reqs in help.

    Also, tweak some wording to clarify restrictions on research versus
    acquiring tech by other means.

    Requested by Marko Lindqvist.

    See hrm feature #758951, gna patch #4428.

commit 7e1045fef8164007487148dec830e67c68acd1b6
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jun 3 16:43:51 2018 +0100

    New bitvector utility BV_CLR_ALL_FROM().

    See hrm feature #758950.

commit 78915e73d0c850e3c4bfd47a7c8911ea126362c7
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jun 9 15:54:57 2018 +0100

    New utility advance_root_req_iterate().

    Using algorithm extracted from research_get_root_reqs_known().

    See hrm feature #758949.

commit 9aa056221dc79829e7fe8fb6e9d7e672c4c2dc4d
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jun 3 12:34:35 2018 +0100

    More comments for advance_req_iterate().

commit 53a85c48f176252cb1a642fb53d3bf46afa012c3
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jun 9 20:17:06 2018 +0100

    Rework comments about tech root_reqs.

    See hrm feature #758948.

commit 05e4e6c819828eb102f308faa4ef4a6d4a4d5cad
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 8 10:38:31 2018 +0200

    Port auto settler transform code to actions.

    Port agent controlled workers (ai/autosettlers) terrain transformation
    evaluation from activities to actions. This should make its speculation about
    whether the worker can transform a tile other than the one it currently
    occupies work again.

    A call to is_action_enabled_unit_on_*() replaced the hard coded check in
    can_unit_do_activity_targeted_at() for each activity that became action
    enabler controlled. is_action_enabled_unit_on_*() cares about distance
    between actor an target. This caused can_unit_do_activity_targeted_at() to
    lose it's ability to speculate about the actor unit's tile for action enabler
    controlled activities.

    Change as_transform_activity_iterate to as_transform_action_iterate and make
    it iterate over actions rather than activities. Make its users evaluate
    terrain transformation by using action_speculate_unit_on_tile() rather than
    can_unit_do_activity_targeted_at().

    See hrm Feature #758738

commit fc74950644cb7c86f118a8fb8ac47b1f007ed0e3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 7 16:48:51 2018 +0200

    Hard coded activity to hard coded action.

    Replace two can_unit_do_activity_targeted_at() calls where the activity is
    hard coded with action_speculate_unit_on_tile() calls with the corresponding
    action.

    See hrm Feature #758536

commit 78308435f8f3d031e8eed11d5d4d510ea490625e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 9 14:16:49 2018 +0300

    Fix syntax error when Windows start scripts run without a parameter

    Reported by frank e

    See hrm Bug #700914

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f44f8a8f9e833626441bc0c481f360b248378b9e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 8 09:56:07 2018 +0200

    Remove outdated comment.

    ACTIVITY_BASE hasn't been mentioned here for a while.

    See hrm Feature #758725

commit a063d701e589fb2a50e3915f74bcc6f62c2721a3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 28 14:47:18 2018 +0200

    Make agents build mines and irrigation again.

    Workers controlled by autosettlers stopped building mines and irrigation once
    action enabler controlled mine building (hrm Feature #753716) and action
    enabler controlled irrigation building (Feature #754873) landed. Fix it.

    A call to is_action_enabled_unit_on_*() replaced the hard coded check in
    can_unit_do_activity_targeted_at() for each activity that became action
    enabler controlled. is_action_enabled_unit_on_*() cares about distance
    between actor an target. This caused can_unit_do_activity_targeted_at() to
    lose it's ability to speculate about the actor unit's tile for action enabler
    controlled activities.

    Actor unit tile speculation with can_unit_do_activity_targeted_at() is only
    used in the auto settler code of ai/tex, ai/threaded and
    advisors/autosettlers. Its users can be ported to use speculative action
    enabler evaluation once all the activities it considers are action enabler
    controlled.

    Change as_extra_activity_iterate to as_extra_action_iterate and make it
    iterate over actions rather than activities. Make its users evaluate extra
    creation by using action_speculate_unit_on_tile() rather than
    can_unit_do_activity_targeted_at().

    See hrm Bug #758450

commit 20a0951c8860eb258bd42e57b920b6e4c1511c8c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 7 12:21:59 2018 +0200

    Speculative action enabler evaluation for all.

    Implement speculative action enabler evaluation for each target type.

    See hrm Feature #757520

commit 9dc933fb7374af8ffe73f09572a216aa8f98399d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 8 14:43:47 2018 +0200

    action_speculate_unit_on_city(): use actor_tile.

    Evaluating action_speculate_unit_on_city() in non omniscient mode would cause
    it to calculate the distance to the target tile using the actor unit's real
    tile rather than the (potentially different) user provided actor_tile.

    It was not yet used in non omniscient / cheat mode.

    See hrm Bug #758807

commit c59ac31e091e33fd9ba25ddac172d33b7b6be397
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 7 13:56:07 2018 +0200

    webperimental: avoid Freeciv-web error message.

    The Freeciv-web client sets the nationset setting automatically. This
    resulted in an error message while it was locked. Unlock it.

    See hrm Bug #758445

commit 055c071e7a1b053da866fb2706d265b2c8c38983
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Jun 7 12:31:42 2018 +0200

    Shorter unit home city look up.

    A unit's home city is stored by its city id. This makes getting a unit's home
    city as a city struct require the developer to call game_city_by_number()
    with the unit's homecity. Introduce the new macro unit_home(). It automates
    looking up a unit's home city.

    See hrm Feature #758434

commit 89e3ed8d9bbbee7fe779a078f51fa19cc819f238
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 9 14:14:04 2018 +0300

    msys2: Build and install freeciv on one pass

    See hrm Feature #656417

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dd6a418ae75b3583f06559ed1095956b47e2e9eb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 9 14:13:33 2018 +0300

    Enable effect_edit dialogs in non-experimental ruledit

    See hrm Feature #737625

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cb27bf173f08d25fcaff17ff1fb93922b0c13a8b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 4 10:04:43 2018 +0200

    protocol: causes and rmcauses are bit vectors.

    The extra fields causes and rmcauses are bit vectors but they don't use the
    bitvector type. Mark them as bit vectors in the network protocol. This makes
    the JSON protocol transfer them as Freeciv-web readable bit vectors.

    See hrm Feature #757429

commit 944944e051276c6fca37806298df66c1c8b40265
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 1 12:56:51 2018 +0200

    Speculative action enabler evaluation.

    Start by allowing speculation about actor position and home city. Use that to
    replace is_action_enabled_unit_on_city_full().

    See hrm Feature #755356

commit 31dce8c6f2a03b53c19a1f90d65c7fd1c2f7fa96
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 3 16:07:47 2018 +0200

    Validate extra target of incoming unit orders.

    Some actions that can appear in unit orders requires an extra target.

    See hrm Bug #757307

commit 2198fed29699bf92d55c49c229a7659b8987200d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Jun 3 15:17:45 2018 +0200

    Centralize action ui ruleset variable name.

    Until actions becomes ruleset defined the ui_name must be defined via an
    action specific variable. Centralize the name of this variable for each
    action in action_ui_name_ruleset_var_name() to remove the need to add it
    twice per action.

    See hrm Feature #757304

commit 02cf897f4adbac080a2301b67ffee94e7acc7807
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 1 12:38:01 2018 +0200

    action module: mark action id variables.

    Use the action_id typedef to mark action ids. Adjust other places to keep
    ruledit and the Qt client compiling with the type change.

    See hrm Feature #757298

commit be9c21e953dd1e2b5aa9ea534b7d563654cae425
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jun 3 09:14:09 2018 +0100

    Reinstate sending policy names to client.

    This was accidentally lost in hrm feature #732522.

    See hrm bug #757296.

commit d60ca304c3d57c7b428ee3ebf9fd6445330c22ee
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jun 3 00:35:18 2018 +0100

    Rework civ2civ3/sandbox government help.

    Add some handwritten text, and use 'quiet' attributes to suppress
    autogenerated help for parts that are covered by the fixed text.

    See hrm task #657407.

commit 02ee5ca217c14166c84ea60a4304d10555b5ea17
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jun 2 18:29:47 2018 +0100

    Fix various bugs in unit orders.

    These were a consequence of hrm feature #741273 splitting target from
    extra in unit orders.

    I think the following visible bugs have been fixed:
     - Loading a pre-3.0 savegame could give network truncation errors.
     - Connecting with irrigation could give the wrong result if irrigation
       did not happen to be extra 0. (It is in all our rulesets.)

    See hrm bug #757270.

commit 7172b0ac86902642d4f8504a121371808f0e49c1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 4 10:17:02 2018 +0200

    Comment grammar fix

commit fd13f041d6c581f0c0c2009cb83f32a3aeb7d153
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jun 2 09:57:24 2018 +0100

    Fix double spaces in Airport description.

    I introduced most of these while fixing hrm bug #727051.

commit a713ecaa35967b965f3a6fc9a53c58483cbe9480
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 1 14:09:10 2018 +0200

    is_action_enabled(): parameter tabs to spaces.

    Convert the tab indention in is_action_enabled()'s parameter list to spaces.
    This gets it out of the way so it can't cause merge conflicts for work in
    that area.

    See hrm Feature #757062

commit 93c7eaf1ab544de60afa6ec21fb50d38e77fefe9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 1 13:44:41 2018 +0200

    Comment fact fix.

commit 748a914df7b2da2cd01a9ea7ba8950928aa9dcdb
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 28 13:57:19 2018 +0200

    Introduce the action_id typedef.

    Introduce a type definition for action ids. This should increase the
    readability in cases where the action id variable should have a different
    name.

    See hrm Feature #756188

commit b1dc697da52c261d87076b017d443688a5f25f4f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 1 12:20:50 2018 +0200

    client/*: avoid using the name "action_id".

    See hrm Feature #756893

commit 8b5873e3f3533d3fea14329192ada3d02d4b22ee
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Jun 1 12:12:51 2018 +0200

    Qt client: avoid using the name "action_id".

    See hrm Feature #756892

commit 83be09b4357b4316809387a47afc8819fb990d99
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 31 16:15:52 2018 +0200

    SDL2 client: avoid using the name "action_id".

    See hrm Feature #756880

commit 9b66b16b77b7c93abcb3b727cb125f22e4f11b97
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 31 08:25:14 2018 +0200

    GTK clients: avoid using the name "action_id".

    See hrm Feature #756736

commit b482beec6fbe4d44e73f0f57abf32002edd74255
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 31 08:11:56 2018 +0200

    server/*: avoid using the name "action_id".

    See hrm Feature #756731

commit b369c5e1e7b758427fbc8e4d319da7f468d4c2b2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 30 11:41:55 2018 +0200

    ai/*: avoid using the name "action_id".

    See hrm Feature #756596

commit 94221a8b3b474616df13079c99c6d7b271789c2e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 30 11:14:18 2018 +0200

    common/*: avoid using the name "action_id".

    See hrm Feature #756589

commit 68e18d48c3b3c5d48f918b861ed747c0e48cbafd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 29 12:48:03 2018 +0200

    action module: avoid using the name "action_id".

    See hrm Feature #756330

commit 87094497b0fb5ce34ffd968447dbc6a4650cd014
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 29 12:15:50 2018 +0200

    Allow a unit to continue pillaging.

    Reported by Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>

    See hrm Bug #756325

commit e97c48ea46891180b749d1326bab123639798bfd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 29 02:35:26 2018 +0200

    GTK clients: intuitive unitsel*dlg button order.

    Make selection the rightmost button in the unit select extra / unit dialog.
    They are used for unit transport selection, pillage extra selection and for
    the action selection dialog's target unit/extra switchers.

    Requested by Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>

    See hrm Feature #756225

commit 48799cd192e80aff9fc7b7780cc8c1042caff8e3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 28 15:58:15 2018 +0200

    protocol: avoid using the name "action_id".

    See hrm Feature #756189

commit e04f210c88457a7d1357e0962372fa3211263dce
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 28 14:32:33 2018 +0200

    Non action auto performer action list iteration.

    Factor out action_auto_perf_actions_iterate's action list iteration code to
    the new action_list_iterate iterator.

    See hrm Feature #756170

commit 663c0a9d7fe66483a74fae4f9c766dbdb5874e18
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 25 13:20:21 2018 +0200

    Introduce action_get_activity()

    Introduce the new function action_get_activity(). It returns the unit
    activity an action may result in, or ACTIVITY_LAST if the action doesn't
    result in a unit activity.

    See hrm Feature #756123

commit 4ccf08b0dc39d444b4dea38cda6005592260ba63
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon May 28 17:58:39 2018 +0100

    Better forecasting of tech loss in client UI.

    Mainly, take the 'techlossforgiveness' option into account.

    See hrm bug #756203.

commit 51261a7d517eb5fc5d8e15e284c599e4c462d2ab
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon May 28 16:22:40 2018 +0100

    Send techloss_forgiveness to client.

    This is a change to the network protocol.

    See hrm feature #756202.

commit ca959cc78281caaf505b8c0f43e24e402772fe9e
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon May 28 14:32:33 2018 +0100

    Qt: fix assertion failure in science report.

    If the science report was drawn or refreshed while the player had no
    advance selected, or was researching future tech, an assertion failure
    message was printed on the console.

    Reported by Marko Lindqvist.

    See hrm bug #732483.

commit 96025231372d6f7b42891d91f9d14021f8a2a1fe
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon May 28 12:40:19 2018 +0100

    Document that Airports give veteran missiles.

    Reported by UukGoblin on IRC.

    See hrm bug #727051.

commit 3145c3050ec2709756f883356fb1a9232f5aeb03
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon May 28 12:23:53 2018 +0100

    Document the 'quiet' flag in requirements.

    Reported by GriffonSpade.

    See hrm bug #733917.

commit 3bf91db51225d78300f6bd35d097af84c613b86d
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon May 28 11:32:39 2018 +0100

    Use more focused git dirty check when building.

    This avoids invoking custom diff engines, etc.

    See hrm bug #756106.

commit 0f650574b23125a6d52ac8c70f012111faf9a859
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon May 28 11:31:35 2018 +0100

    Qt: zealous_crop_rect() was too zealous.

    It would crop off the right/bottom row of pixels. (It's mostly used
    for displaying unit sprites off the main mapview.)

    See hrm bug #756105.

commit beb299287f4447a2e8fa9078e2b44f5f6aca88c3
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun May 27 16:25:28 2018 +0100

    Qt: fix unit info bar for scale changes.

    The amount of space reserved for the unit sprite would change, even
    though the unit sprite itself remained about the same size.

    Also, ensure that it's refreshed whenever the scale changes.

    First symptom reported by GriffonSpade on the forum.

    See hrm bug #738922.

commit f398c2690fb10031f8e811cd3b396a3489e38b09
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 24 23:54:58 2018 +0200

    Simplify request_unit_pillage().

    Simplify the can_unit_do_activity_targeted_at() call to a
    can_unit_do_activity_targeted() call.

    See hrm Feature #755727

commit e83038042e70624b213f934d940f5a4f4feca3ac
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 24 23:54:40 2018 +0200

    Qt client: don't look up EXTRA_NONE.

    The patch for hrm Feature #750605 accidentally had the Qt client's action
    selection dialog look up the target extra without checking if it was there.

    See hrm Bug #755724

commit 4632934a933e6470d548ca3b2adb65e3cb603f50
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 8 11:38:10 2018 +0200

    GTK act sel dlg: extra target selection.

    Make it possible for the GTK clients to switch the action selection dialog's
    extra target like they already can switch its unit target.

    See hrm Feature #753303

commit 1706932937d58ba8784286fca16a6d60cc7060d4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 23 14:52:58 2018 +0200

    Make irrigation building enabler controlled.

    Introduce the new action "Build Irrigation". Use it to replace the
    Irrig_Possible effect.

    See hrm Feature #754873

commit 289450f6e1b350d88db2e5e58fec0c09a0f4bc90
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 22 10:34:58 2018 +0200

    GTK clients: fix radio button group issues.

    The unit select extra dialog and the unit select unit dialog in the GTK
    clients supports specifying a default target. The target selection is done by
    using radio buttons.

    The old implementation had radio button group issues (at least in some
    versions of GTK). This meant that more than one radio button could be/was
    selected at once. Change it:
     * Don't toggle any radio buttons before all radio buttons are added.
     * Specify radio button group by using the first radio button rather than by
       specifying the group manually.
     * assert that radio buttons for all target belong to the same group.

    See hrm Bug #754966

commit 96691a1166c0fda130d8bc48a6c8453ec10a96c9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 22 00:22:52 2018 +0200

    action_to_incident(): correct "Pillage" mapping.

    "Pillage" has its own incident type.

    See hrm Feature #754874

commit a6e2ebcba3bb605fbf1511afb3ac2aef3057d172
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 22 00:09:15 2018 +0200

    civ2civ3/sandbox: refactor irrigation enabler.

    Introduce two new extra flags to reduce the complexity of enabling
    irrigation extra building.

    See hrm Feature #754872

commit 2a7ce4927930051d0d504f5f19270a2724434137
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 16 08:28:01 2018 +0200

    Make mine building action enabler controlled.

    Replace the Mining_Possible effect with the new action "Build Mine".

    See hrm Feature #753716

commit 7f495a10103000ec96dc5203d70b764a6adc441a
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 16 10:48:02 2018 +0200

    Comment fix

commit b458f804db5d6019de06def5b8c4d87280135a22
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 16 10:02:32 2018 +0200

    Constify can_build_extra()'s pextra parameter.

    See hrm Feature #753754

commit a50cfa9f40cbaf0c8cc4d3284ad767fc213b141d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 14 11:04:00 2018 +0200

    GTK clients: more informative pillage dialog.

    Use the unit select extra dialog to select target in the pillage dialog. This
    informs the player about the extra owner. It also shows how the target extra
    looks to help the player remember what the extra is.

    See hrm Feature #753305

commit 0c4771deabcfd592d4fd37e45f74d56e2638e091
Author: Christian Prochaska <cp.ml.freeciv.dev@googlemail.com>
Date:   Fri May 11 23:27:39 2018 +0200

    Updated msys1 environment (cairo 1.14.12, pixman 0.34.0)

    See hrm Bug #736230

commit 5e458d8040bb9c708567c7e9994936089f72de4f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 15 08:19:30 2018 +0200

    SDL client: act sel dlg buttons for all actions.

    Add action selection dialog buttons for the new actions recently added to
    Freeciv.

    See hrm Feature #753517

commit 3aad9aa262bf6cbef7e20f3c952829a82d2bf69b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 8 11:33:11 2018 +0200

    GTK clients: unit select extra dialog.

    Add a unit select extra target dialog to the GTK clients. It is based on a
    copy of the unit select unit dialog. It includes the extra's icon and tells
    if the extra is present at the tile (or is targeted to be built) and who owns
    it.

    It is intended to be used in the action selection dialog as a "Change target
    extra" dialog in Freeciv 3.1. It could also be used to replace various action
    specific target extra selection dialogs with less information both in 3.1 and
    in earlier branches.

    See hrm Feature #753268

commit 643d6b300efab022c47de4b8d6ee8de0c19ff75e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 11 21:52:29 2018 +0200

    Qt client: act sel dlg buttons for all actions.

    Add action selection dialog buttons for the new actions recently added to
    Freeciv.

    See hrm Feature #753157

commit a6dd8959e70d746f5adc95474fefe89475de5ba9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 9 11:13:59 2018 +0200

    Document "Road" in README.actions

    See hrm Bug #752361

commit 9403bee0fcb58c543cbcc986a109d9904f8bf2d8
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 9 11:09:55 2018 +0200

    Interpret move as action: support extra targets.

    Note that no current tile extra targeted action can make use of it. The
    "move to tile is illegal - try to act" handling can't be done because they
    all require that the actor is at the target tile. A move to a tile the unit
    legally can move to is always interpreted as a move since they all set the
    rare_pop_up action field.

    Included for consistency to avoid confusion if someone should create a tile
    extra targeted action that can make use of it.

    See hrm Feature #752360

commit 1b25722c29bd52f8f6c1d8cc25756d1557ea6869
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 9 10:02:01 2018 +0200

    Comment grammar fix

commit 2064ab975de604525c0db342acd94f65d930c480
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 9 10:00:13 2018 +0200

    Sync header comment with Freeciv-web.

    Sync utype_can_do_action()'s header comment with Freeciv-web.

    See hrm Feature #752336

commit 85539992737affe1e7182a81ec38262fe75fae7e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 8 11:18:49 2018 +0200

    GTK clients: Share editgui's create_extra_pixbuf().

    Make editgui's create_extra_pixbuf() non static and move it to sprite so it
    can be reused.

    See hrm Feature #752141

commit 8e77d394158f4a3335e6372f8cd2d748d1b5f035
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 7 20:43:43 2018 +0200

    GTK clients: act sel dlg buttons for all actions.

    Add action selection dialog buttons for the new actions recently added to
    Freeciv.

    See hrm Feature #752063

commit 22371811ff521cb6d2e394be729ce4c227103ea3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 8 09:28:45 2018 +0200

    unit_get_actions: guess "Pillage" extra tgt too.

    See hrm Feature #752062

commit 91ed2bb04badcc674d8d188bd1b27628b0b30782
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 8 08:57:16 2018 +0200

    Introduce action has a sub target check.

    The function action_requires_details() is about mandatory client specified
    sub targets. Action's like "Pillage" has a sub target (the extra to pillage)
    but the server will pick a sub target if the client don't specify one.

    Introduce the new function action_id_has_complex_target() so it becomes
    possible to check if an action has a sub target at all.

    See hrm Feature #752058

commit 862e558224e04d0bfc7700604b97424621a9b39e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Apr 29 15:52:56 2018 +0200

    Make base building action enabler controlled.

    See hrm Feature #750400

commit 4be09698c40489b2c38cea6650ca8bf1e15bf752
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 7 14:44:12 2018 +0200

    Freeciv-web: send unit type can do action cache.

    Freeciv-web is unable to calculate what actions a unit type may be able to
    perform. This makes it hard code what ui elements to show when a unit is
    active based on its unit type name.

    Introduce the new packet web_ruleset_unit_addition. Send the unit type can do
    action cache in it.

    See hrm Feature #750505

commit 5ce491d70bb522e5cf6d0e85042e26a8eba73ed7
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat May 5 18:39:16 2018 +0100

    Use "Linear" tech_cost_style in civ2civ3/sandbox.

    This is the same formula that was previously set in the ruleset by hand,
    so there's no functional change.

    See hrm feature #731498.

commit 5b941ee273ca2e0cd2adab72c74c8d7972a70ecf
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 3 00:54:06 2018 +0200

    Freeciv-web: send expected income to the player.

    Freeciv-web is unable to calulate expected income. It therefore patched an
    extra field into the player_info packet.

    Introduce the new packet web_player_info_addition and give it an
    expected_income field.

    See hrm Feature #751250

commit 53bf515bda33d36f93c7f69a91f385dbe4b1cf91
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 3 18:07:50 2018 +0200

    GTK clients act sel dlg: add "Road" button.

    Add a button for the "Road" action to the action selection dialog of the GTK
    clients.

    See hrm Feature #751196

commit ad508e43d0fc18c5238da0ef109a932170a059c0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 3 20:56:59 2018 +0200

    unit_get_actions: guess when no extra tgt.

    The unit_get_actions packet asks the server what actions a unit may be able
    to perform against certain targets. If no target unit is specified the server
    will pick the first unit at the target tile the actor unit may be able to
    perform any action against. Do the same for target extras.

    See hrm Feature #751193

commit 3af711e2501db0044af832b2c43efcde4d27b1a0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 3 17:44:07 2018 +0200

    GTK gui act sel dlg: 0 -> IDENTITY_NUMBER_ZERO

    Replace the magic number 0 with IDENTITY_NUMBER_ZERO for city and unit ids in
    the action selection dialog of the GTK clients.

    See hrm Feature #750939

commit f0c0487e2373949a2f14d62aa54ab1024b7af8e2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 2 23:07:35 2018 +0200

    Act sel dlg: 0 is a valid tile id.

    The action selection dialog of the Qt client and of the GTK clients used
    IDENTITY_NUMBER_ZERO to represent "no tile". But IDENTITY_NUMBER_ZERO is 0, a
    valid tile id.

    Use TILE_INDEX_NONE in stead. It is set to -1, an invalid tile id.

    See hrm Bug #750777

commit 176991381ac400ee42242ce83c803fab325dcb35
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 4 15:50:21 2018 +0200

    Comment grammar fix.

commit e6882dc3ed4255da3b114ee67747021dc5a6a5a4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 4 00:23:59 2018 +0200

    Fix segfault with non road extra.

    Fix server crash when a non road extra is given as the extra target of the
    "Road" action.

    See hrm Bug #750987

commit e9e937654f4e970a03c9b9942cb996195d4a1df1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri May 4 00:15:07 2018 +0200

    Comment grammar fix.

commit c80aebf5bec5591e3b2d200c3d102be07ffb0a2d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 1 19:17:41 2018 +0200

    ruleup: set name to game.control.name.

    Set it to the ruleset's name field like ruledit does. It used to be set to
    the ruleset directory (game.server.rulesetdir). Changing this removes a
    source of variation in the upgraded ruleset.

    See hrm Feature #750642

commit 94240ca254b29984563c6e003a7de1518469204d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 1 19:17:28 2018 +0200

    ruleup: log failure to load comments.

    See hrm Feature #750637

commit d2b2a72fd0102993049545a315237de999574664
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 1 12:42:01 2018 +0200

    act sel dlg: keep extra target information.

    A refresh of a client's action selection dialog would throw away the extra
    target id. This could make extra targeted actions illegal or accidentally
    switch their target. A refresh could be triggered by something completely
    unrelated to the extra targeted action.

    Keep the extra target information in the action selection dialog. (No bundled
    client has an action selection dialog that supports extra targeted actions
    yet.)

    See hrm Feature #750605

commit 7f7e436ae89819448058b6cf228ed64e22f76dd6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 30 05:02:15 2018 +0200

    Consistent act sel dlg diplrel change refresh.

    Unit and city targeted actions refreshes an open action selection dialog when
    the diplomatic relationship to its owner changes. (The action selection
    dialog isn't refreshed on owner change.) Make a change in the diplomatic
    relationship to the owner of the action selection's target tile do the same.
    (An owner change may make the player's diplomatic relationship to the owner
    different. This, like many other changes that can make an action (il)legal,
    doesn't refresh the open action selection dialog. If the specific case of
    owner change is worth an action selection dialog refresh it can be added in a
    follow up patch.)

    See hrm Feature #750435

commit aa2180a1145456e3d72c0203d4e17f92e2826e91
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu May 3 14:40:34 2018 +0200

    Comment grammar fix.

commit a13f6fdeecbe31bef081be8bee83d8ac9002c698
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 1 00:35:46 2018 +0200

    Use extra target when performing action.

    Use the extra target parameter given to unit_perform_action() when starting
    an action that requires (or wants) an extra target.

    See hrm Bug #750547

commit 1e51b115de50d55adfb1bf75b95e6f7333ee0287
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 25 03:45:43 2018 +0200

    protocol: add target_extra_id to unit_actions.

    Return what extra the packet unit_get_actions asked about when replying in
    the unit_actions packet.

    Only the minimum required for adding it to the protocol is done. No server
    side target extra selection added even if doing so is possible. The
    information isn't used by the C clients yet.

    See hrm Feature #750401

commit 832a08803550d617a01d488f1f4a2b901ee6d38b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 30 11:37:08 2018 +0200

    Send correct "no extra" value.

    Send EXTRA_NONE, not MAX_EXTRA_TYPES, when requesting an update to the action
    selection dialog because a diplomatic relationship changed.

    See hrm Bug #750478

commit fb855bafe678c6edce5b6a9d7bf6c49fbda4f623
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 30 02:48:32 2018 +0200

    Don't do "Road" because "Pillage" is illegal.

    When an action is illegal in unit_perform_action() it won't return. Handling
    of an action in its switch statement should therefore break. Without a break
    an illegal action could continue into the handling of the next action.

    Add break after the handling of the "Pillage" action and after the handling
    of the "Road" action.

    See hrm Bug #750426

commit f792f50b657169f19cf5c01e808c23b758d3cf3c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 25 16:02:01 2018 +0200

    Make the "Fortify" action self targeted.

    The "Fortify" action has an effect on the actor unit, not the target tile. It
    can get all the requirement information it needs about the tile from actor
    requirement vector.

    See hrm Feature #750403

commit 19c03509d8912c9b6e1b13314be3e07a9c753326
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 30 10:12:42 2018 +0200

    Introduce TILE_INDEX_NONE.

    IDENTITY_NUMBER_ZERO can't be used for tiles since 0 is a valid tile index.
    There are probably remaining instances of magic numbers representing an
    invalid tile index. Introduce it anyway so new code can use it rather than
    making the problem worse.

    See hrm Feature #750470

commit 06b7c913023706d2262c3eb266ae01e1629455ac
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Apr 29 17:28:35 2018 +0200

    Prepare for more ruleset tests.

    Create a new folder rs_test_res for ruleset test resources so they won't
    appear to be independent tests. Move ruleset_is.lua, the script responsible
    for reporting if a ruleset loaded, to the new folder.

    Factor out the list of rulesets to check when no ruleset is given on the
    command line from tests/rulesets_not_broken.sh. Do the same for it's check
    that a single ruleset loads.

    See hrm Feature #750406

commit d1652fdbd722e2186de2faabf83a80b0bf5a41d2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Apr 29 14:59:13 2018 +0200

    Freeciv-web: user changeable game and map seed.

    A player connected via the web client don't have hack access. But Freeciv-web
    needs a reproducible game for its benchmark. It therefore allows its users to
    set the server settings mapseed and gameseed via a custom patch.

    Give Freeciv-web players the ability to set the server settings mapseed and
    gameseed. The new more liberal access rules only apply when FREECIV_WEB is
    defined.

    See hrm Feature #750402

commit 243bcac8dc9814f65f372cced2b7c3a052f3f9c9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 29 15:35:03 2018 +0300

    Refactor network stream uncompressing

    Retry uncompressing with bigger buffer if it first fails
    due to to small buffer. Made initial buffer size smaller than
    old one that was meant to be big enough for all cases without
    retrying.

    Patch by simsulla, with minor changes by me

    See hrm #747319

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 454a22a66ef8b7cef358b05baa5543520bb53ddd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Apr 27 14:51:45 2018 +0200

    protocol: simplify away CITY_COORD.

    Freeciv sent city relative tile coordinates in the packets
    CITY_MAKE_SPECIALIST and CITY_MAKE_WORKER. Freeciv-web sent global
    coordinates.

    Unify by sending the tile id. This simplifies away the CITY_COORD packet
    field (type alias).

    See hrm Feature #750254

commit 417f1f3a74d9c4651ebaf9061fea85385d4936f6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Apr 29 10:34:10 2018 +0200

    Comment fix: make corner case reason clearer.

    Add example solution to the corner case about how the flags "CanFortify" and
    "Cant_Fortify" interacts with the "Fortify" action to make why it is a corner
    case obvious.

commit a9b377ab5dc28544043352097d81a97b632f03f2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Apr 27 01:39:08 2018 +0200

    Action selection dialog button for "Convert Unit"

    to all bundled clients.

    See hrm Feature #750155

commit 39439bd95f74b38b0b8688cb604f3a6aa63736f0
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 26 13:30:48 2018 +0200

    "Fortify" action: be consistent WRT flags.

    The unit class flag "CanFortify" and the unit type flag "Cant_Fortify" have a
    similar effect on the "Fortify" action. Handle them the same way. (Make them
    both obligatory hard requirements for now.) Document the current situation.

    See hrm Feature #750025

commit f3d4c12bbb3ef6a382ecdaa3e216abad33bb7fe7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 26 00:51:17 2018 +0200

    webperimental: introduce oceanic Leader unit.

    Make the Leader unit able to convert to the new oceanic "Leader Yacht" unit
    type (and vice versa.) This allows the Leader to move on shallow water
    without being transported.

    This can be used as a last desperate means of escape from a land only attack.
    The main reasons for introducing it is to allow the player to trade the risk
    of game loss by having his Leader killed for early game exploration before a
    Trireme can be built. (Planned future patches will extend the benefits of the
    risk beyond exploration.)

    See hrm Feature #750031

commit 431e679714ddeccf63dac3c0202d71c4f5922159
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 25 15:47:32 2018 +0200

    Call global Casus Belli "international outrage".

    Use the term "international outrage" to describe when an players action gives
    every other player a Casus Belli against him. A name and a description is
    easier to remember than just a description.

    See hrm Feature #749404

commit 4df361157639321cc98e55808436492c6e3a5330
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Apr 24 00:29:28 2018 +0200

    protocol: drop hard coded impr list field type.

    The Freeciv protocol has had building_list, a custom network protocol field
    type for transferring lists of city improvemetns (building). It had no JSON
    implementation. Freeciv-web patches out all its users. The lack of an JSON
    implementation caused a segfault in the help system in Freeciv JSON builds.

    Replace the building_list field type with arrays of IMPROVEMENT. This keeps
    the type information intact. It uses the same amount of space in the binary
    protocol. It makes Freeciv's JSON protocol transfer its fields. It becomes
    possible to view the Nation help text in JSON clients.

    See hrm Feature #748929

commit a07570b62dfceec7a286da69a560f0509cd567fd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 23 09:49:24 2018 +0200

    protocol: drop hard coded tech list field type.

    The Freeciv protocol has had tech_list, a custom network protocol field type
    for transferring lists of techs. It had no JSON implementation. Freeciv-web
    patches out all its users.

    Replace the tech_list field type with arrays of TECH. This keeps the type
    information intact. It uses the same amount of space in the binary protocol.
    It makes Freeciv's JSON protocol transfer its fields.

    See hrm Feature #748774

commit 835f665ba2239e89321bf2232d0a4ba2e44628c6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Apr 22 21:19:09 2018 +0200

    protocol: drop hard coded unit list field type.

    The Freeciv protocol has had unit_list, a custom network protocol field type
    for transferring lists of unit types. It had no JSON implementation. This
    caused a segfault in the help system in Freeciv JSON builds. Freeciv-web
    patches out all its users. The unit_list field type was only used in one
    packet.

    Replace the unit_list field type with an array of UNIT_TYPE. This keeps the
    type information intact. It uses the same amount of space in the binary
    protocol. (The elements-to-transfer field takes up the same amount of space
    as the termination code value.) This makes Freeciv's JSON protocol transfer
    its fields. It becomes possible to view the unit help text in JSON clients.
    (Nation help will still crash because of other missing information.)

    See hrm Feature #748728

commit 695b5fb68ebe2b17197f4fced99e7333b319c12e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 23 05:22:29 2018 +0200

    Assert that data->result is there.

    Add assertion that data->result is there before reading data->result->dest.

    See hrm Feature #748740

commit 476103c1946c52893280682850c80fc7ec354805
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Apr 21 20:11:25 2018 +0200

    JSON protocol: log unimplemented field types.

    Logging unimplemented field data types makes their absence more visible. This
    helps warn people experimenting with build settings when missing packet
    fields cause trouble in non web JSON builds. Logging will also help a
    Freeciv-web developer that tries to use a new part of the Freeciv protocol
    realize that the cause of his problems lies in the Freeciv server's JSON
    support rather than in a bug in his web client code.

    See hrm Feature #748545

commit f7c91b1b3fe2747f9ffe6bcf68e83bca80cbed1d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 16 07:33:08 2018 +0300

    installer_cross: Update to crosser-1.5

    See hrm Feature #739266

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 59a6267a8e17f97e3d298fced7eab09d5f451b52
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Apr 20 21:55:01 2018 +0200

    Properly break "Attack" unit help generation.

    The custom action help generated for the "Attack" action in the unit help
    would only break if tired_attack was enabled. This would cause a segfault on
    master when generating action help for a unit able to do "Attack" but not
    "Convert Unit" in rulesets (like Classic) that didn't set tired_attack.

    Break at the correct location.

    See hrm Bug #748407

commit 8e1bb904e1d2351d77f9ca5fc714b33d8b3bd225
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Apr 20 01:54:22 2018 +0200

    Continue reading 3.0 effects after upgrade.

    Continue reading effects after a 3.0 effect replaced by an action enabler is
    upgraded to the enabler.

    See hrm Bug #747770

commit ee71376e684a520812134891f99121692249cb2b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 19 02:59:36 2018 +0200

    Add compat enablers when upgrading 3.0 ruleset.

    Compatibility action enablers for actions that recently came under enabler
    control was created but not added when upgrading a 3.0 ruleset. Add them.

    See hrm Bug #747767

commit 4f88569016c17aaf7677d1504fd02207cfe8c612
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 19 02:08:46 2018 +0200

    Make utype conversion action enabler controlled.

    Control the unit type conversion activity with the new action enabler
    "Convert Unit".

    Requested by Marko Lindqvist (see gna patch #5605) and by Caedo (see
    gna patch #5953)

    See hrm Feature #747765

commit a29f03cdfb5ab358dea39d5ef9017b43aca68609
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 18 01:22:21 2018 +0200

    Let "Attack" cause a diplomatic incident.

    Allow the action Attack to cause a diplomatic incident via the effect
    Casus_Belli_Success.

    Note that the "Attack" action currently only can be performed against enemy
    unit stacks. This limits the use of the Casus_Belli_Success effect with
    "Attack" to international outrage (give all players a Casus Belli against
    the attacker) and the "DiplRel" requirement type's "Has Casus Belli" and
    "Provided Casus Belli" properties.

    See hrm Feature #747549

commit c94c2f2aef9b4bf6e4b762ac106768b667bed824
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Apr 17 14:49:21 2018 +0200

    Clean up client specific action selection state.

    The GTK clients, the Qt client and the SDL client supports only one unit at
    the time in their action selection dialog process. (More than one would,
    given their current UI design, be confusing.) To prevent a new action
    selection dialog from popping up before the player is done with answering
    follow up questions a client specific variable, currently named
    is_more_user_input_needed in all of them, is set.

    When the answer to a follow up question failed to arrive, say because it was
    illegal, the before mentioned clients wouldn't be informed. The would
    therefore keep is_more_user_input_needed set. This would trigger an assertion
    failure when the next action selection dialog popped up.

    Introduce action_selection_no_longer_in_progress_gui_specific(), a new GUI
    specific call back function that lets the client know that the specified
    unit's action selection process is over. Make the clients with this bug unset
    is_more_user_input_needed unsets it in their implementation of it. Call it
    from action_selection_no_longer_in_progress().

    See hrm Bug #747465

commit b0f65a69d798f43bc592aaae7567c21101c48454
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 16 07:31:33 2018 +0300

    installer_cross: Fix creation of ruledit link for Qt-client packet

    See hrm Bug #747102

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3b487f71db78663c7fc6c9e6a0a2b9f0b483942f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 16 10:51:13 2018 +0200

    Remove obsolete "unit can act"-checks.

    Practically all unit types from 3.0 are able to perform some action.

    See hrm Feature #747185

commit c5a8c0526aac24f6b3d459b54b1c5c6f601aae10
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 11 14:52:18 2018 +0200

    protocol: allow background action info requests.

    Add the disturb_player field to the packets used for getting information
    required for action related follow up questions. It works like the packets
    used to get information about what actions a unit may be able to perform.

    Example use case: asking about many units at once and presenting the answer
    in  a single dialog.

    See hrm Feature #747147

commit 10982d7fff9bdcc1cf27c9929cd0f363830b39ae
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Apr 15 19:32:36 2018 +0200

    Notify owner(s) of healing/healed units.

    All that the feed back given when the "Heal Unit" action happened was that
    the healing unit would run out of moves and the healed unit would display the
    added hit points. This made it easy to miss that the "Heal Unit" action
    actually happened. Add notification messages to make it clearer.

    See hrm Feature #747034

commit 620e0ee2c36d989349e04da4643daad8d5a28abc
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Apr 15 15:18:47 2018 +0200

    Inform player about illegal action punishment.

    Notify the player when the Illegal_Action_Move_Cost effect causes one of his
    units to lose movement points.

    See hrm Feature #747005

commit da9b2000e4fe48fc287a107edb0a157fe6a6113c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 11 14:01:26 2018 +0200

    SDL2 and stub: add popup_upgrade_dialog().

    The function popup_upgrade_dialog() is declared in dialogs_g.h but it was
    missing from the clients stub and sdl2.

    See hrm Feature #746988

commit 534a449ff7eab1bc8245c9e89dc5ef3e4900d2d9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Apr 13 18:21:58 2018 +0300

    Make uncompressed buffer size 150 x compressed size

    Old uncompressed buffer size of 100 x compressed size for zlib in
    network packet uncompressing was not big enough.

    Reported by Meynaf

    See hrm Bug #746878

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3181d2067a0bf0492c9b26c63ee65fa7cd9a5ea1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 3 01:12:06 2018 +0300

    civ1: Disallow unit upgrading

    See hrm Bug #741525

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d1fb43d496ff08cd5a3eafa43f5f06d0f370fa97
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 15 17:09:14 2018 +0300

    Autodetect JSON mode on the server side

    Patch by Louis Moureaux

    See hrm Feature #745597

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9aade90203c5b0bdedf258379089eb5b978e6f18
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 12 08:54:39 2018 +0200

    SDL2 client: action dialog isn't city dialog.

    The function popup_unit_upgrade_dlg()'s city parameter is whether it is
    called from the city dialog. Stop setting it to the target city.

    See hrm Bug #746510

commit 8c327a1acac38ed157353e2cb9a3dc9a6a87f68d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 11 10:55:23 2018 +0200

    Move comment next to what it documents.

    Move documentation comment in dai_upgrade_units() about how only the player's
    own units should be upgraded right below the check that a unit is domestic.

    See hrm Bug #746481

commit d07ba8f83652f64b813a81b16969f827d8f5dfaa
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 11 10:50:59 2018 +0200

    Document non bug with assertion.

    Document and assert that tgt_utype in handle_unit_action_query()'s unit
    upgrade price sending can't be NULL.

    See hrm Feature #746479

commit 00a368386f408e01e7e27d464c2292acf3572847
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 14 13:24:24 2018 +0300

    Make Road building action enabler controlled

    See hrm Feature #742986

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 40b53efb124bf8481f453868f9d3478ff05e6b42
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Apr 14 09:36:43 2018 +0300

    Make it possible to switch between JSON and native on a connection basis

    Patch by Louis Moureaux

    See hrm Feature #745596

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6fd886d655fe04c5b5534f0f3c491015e7269243
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Apr 11 09:22:32 2018 +0200

    Drop action_id_consequence_caught().

    It had no users.

    See hrm Feature #746211

commit e5ed607069a735fd448f6984a1b98020b26aa5df
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Apr 10 08:36:30 2018 +0200

    Drop action_id_consequence_success()...

    ...and make its last remaining users, the action performers of "Heal Unit"
    and "Help Wonder", use action_consequence_success(). This requires them to
    take the action as a parameter rather than hard coding what action was
    performed based on the action performer. Getting the action explicitly will
    be useful if actions become generalized.

    See hrm Feature #745951

commit eb878977b3163153c71ee77a505386c3d7920f85
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Apr 13 14:37:43 2018 +0200

    Comment fix: "Lates" -> "Latest"

commit e2c88bcc93c6e921562d4c9b58e76e8c9eca20ae
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 9 00:02:42 2018 +0200

    Settling action performers: unhardcode action kind.

    Take the action as a parameter rather than hard coding what action was
    performed based on the action performer. Getting the action explicitly will
    become useful if actions become generalized.

    See hrm Feature #745647

commit 02e9317ec276fafc96e67e889fd417cb4e66fb2c
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Apr 7 19:54:44 2018 +0100

    multiplayer: Allow caravans to help small wonders.

    But not the Palace, only the ones that are analogues of great wonders in
    other rulesets.

    This ability was lost in hrm bug #705580.

    See hrm bug #745360.

commit 46757f35a372e7ec3e3d8839be8886ed0e1bae72
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 3 01:59:48 2018 +0300

    Use accessor functions for GdkEvent fields

    See hrm Feature #743786

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 539676f4b336156d4733a572434c726bbd529031
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Apr 9 04:06:09 2018 +0200

    Comment indention fix.

commit c054703aca998076f6437b373728a9ff83cf4abd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Apr 6 10:04:41 2018 +0200

    Make Git ignore generated test script...

    ...when the build tree is in the same directory as the source tree.

    Reported by Akakij Bzdrishchenko

    See hrm Bug #738661

commit 785e5fe463e6a385f001e787c6d6fa64eb4ef631
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Apr 6 04:51:08 2018 +0200

    Attack action performers: unhardcode action kind.

    Take the action as a parameter rather than hard coding what action was
    performed based on the action performer. Getting the action explicitly will
    become useful if actions becomes generalized.

    See hrm Feature #744801

commit 6e4ddd69b708b1f9c99717220c03e2329f0eca35
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 5 14:34:10 2018 +0200

    Trade route action performer: drop est_if_able.

    The function responsible for performing the actions "Establish Trade Route"
    and "Enter Marketplace", do_unit_establish_trade(), used to find out its
    action kind based on est_if_able, a Boolean parameter.

    If the actions them self rather than just their enablers becomes generalized
    more than one marketplace entering and/or trade route establishing action
    will be able to exist at the same time. This will make it impossible to find
    out what action was taken based on est_if_able.

    Replace est_if_able by directly taking the action being performed as a
    parameter.

    See hrm Feature #744702

commit 8fc4757539acd969b86b8b43ab52fa5fde1382aa
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 5 13:20:09 2018 +0200

    Nations: "the the" -> "the" in Suebian legend.

    See hrm Bug #744672

commit ea82b428cb73f5a7bc4363531c95506694090dd6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 5 13:01:25 2018 +0200

    Developer documentation: "the the" -> "the"

    See hrm Bug #744666

commit 46d2774b34d62fac6a40fb47ed491c2336e50bb1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 5 12:16:25 2018 +0200

    License summary: "the the" -> "the"

    See hrm Bug #744655

commit 31d04fa74056bfb46fb531d98b87f4d739d2031f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 5 11:40:04 2018 +0200

    Inline key_unit_nuke().

    The function key_unit_nuke() was only used by the SDL2 client. Inline it.

    See hrm Feature #744640

commit e67071564e272e123523296458cd443d073af365
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Apr 8 06:42:02 2018 +0300

    Replace Conquer_Techs_Min and Conquer_Techs_Max with Conquest_Tech_Pct

    See hrm Feature #743602

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2c46adba1094891ed5762a86e026980f23d18305
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 5 13:32:37 2018 +0200

    Comment fix: "the the" -> of/that/to the

commit ab6b68c887bc79cb5bdb6e6ef4dbcd891640de7f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 5 12:09:50 2018 +0200

    Comment fix: "befor" -> "before"

commit b03bf402932a020c723d9ed7807d4388431a1085
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Apr 3 12:43:00 2018 +0200

    Qt client: Deduplicate "Go to and..." menu items.

    Remove the independent "Go And..." menu entries for city founding, for
    joining a city and for detonating a nuke. They duplicate entries in the "Go
    to and..." menu.

    Add the keyboard shortcuts of the old independent menu items to the items in
    the "Go to and..." menu to keep them working.

    See hrm Feature #743992

commit 91329e6801c7ecc105bb27c7c1e08312d4ceed7f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Apr 3 11:49:27 2018 +0200

    Qt client: Configurable goto Build/Join shortcuts.

    Make the shortcuts of "Go And Build City" and "Go And Join City" user
    configurable.

    See hrm Feature #743990

commit 22347a035998f77174b0d92c40ffa3b16ac7f9c1
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Apr 5 10:45:44 2018 +0200

    Comment fix: "the the" -> "the"

commit 0e96eee2c3ba91fb62a7bb034a42fe30d9b75699
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Apr 3 01:12:27 2018 +0300

    Make Fortifying action enabler controlled

    See hrm Feature #742419

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit faeabc176df43f16043169dd12a943e855b21765
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 31 13:13:30 2018 +0300

    Make Pillaging action enabler controlled

    See hrm Feature #741274

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c9c5d3d9c90ab9c8dcdb991ddff97866fbe59c99
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sat Mar 31 20:47:00 2018 +0200

    AI: Fix city targeted spy actions.

    Stop confusing the target city with the target extra.

    See hrm Bug #743594

commit fd73486598b10401fb9e4faffa718452135e2120
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Feb 28 20:49:40 2018 +0100

    GTK clients: Deduplicate "Go to and..." menu items.

    Remove the independent menu entries for city founding, for joining a city and
    for detonating a nuke. They duplicate entries in the "Go to and..." menu.

    Add the keyboard shortcuts of the old independent menu items to the items in
    the "Go to and..." menu to keep them working.

    See hrm Feature #743592

commit f708414d599873f77de17f60c77732d892cb5863
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Apr 2 09:51:25 2018 +0300

    dos2unix all .spec files

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e3a00e7808ba03e682387a6b03b6cccbfce72cc4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 31 13:11:28 2018 +0300

    alien: Use indexed sprites as specialists' graphic_alt

    See hrm Feature #740505

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b14ccf00c20b4d8f470b5335d89a986c2a78b5ad
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 28 18:43:44 2018 +0300

    Drop check against leftover acinclude.m4 from an ancient build

    See hrm Feature #733584

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 667d973feffe0907dc9e221435f2ab7fb59ab495
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 31 03:03:37 2018 +0300

    Fix accidental syntax-breaking change to sandbox ruleset

    See hrm Bug #743523

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 038c5746ab71e08f99bb1fa4340bb9d355c35a23
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 28 18:46:44 2018 +0300

    Unify action ui_name ruleset entry prefix to 'ui_name_'

    See hrm Bug #740114

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0e458ff09d450932523095d59117296c4ed1d668
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 28 18:07:05 2018 +0300

    Add support for actions targeting also extras

    This makes it possible to have action enablers for actions
    that affect extras.

    See hrm Feature #738333

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit de5a5b267b3116b3223515e15747f0dd38c40a86
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 25 12:25:10 2018 +0300

    installer_cross: Remove extra space from the path to freeciv-gtk3.22.exe

    See hrm Bug #742075

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 91578bac5688ccef48a755f4dbce3265708225eb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 22 00:13:41 2018 +0200

    alien: Make bombarding units stronger

    Increase attack value and bombard rate of all bombarding
    units.

    See hrm Feature #740487

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 10c56d613a1d76f0c2d83e368d677d6f75633aec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 21 00:40:49 2018 +0200

    Separate extras from action targets in unit orders structures

    See hrm Feature #741273

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d2801e2b25e9e0c0bdaa07ecc2f53793ecdb91ff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 21 06:32:08 2018 +0200

    alio: Add Force Fortress and Tower

    Art by GriffonSpade

    See hrm Feature #741300

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9bdc6eef514b0d624462dc94f53b85a9f8200f80
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Mar 4 15:55:10 2018 +0000

    Refresh open city dialogs for changes in worked tiles.

    It was possible for the city dialog not to get updated when workers
    got auto-arranged, if the worker pattern changed without any net
    change to the city output. Now PACKET_TILE_INFO has the side-effect of
    refreshing those cities that are/were working a tile.
    (There remain types of tile change that ought to cause a city dialog
    refresh but do not.)

    Reported by "Pierre R".

    See hrm bug #736822.

commit bb03374dc76e217c90a3936b13b9469e1c6585f3
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Mar 24 11:22:26 2018 +0000

    Updated Polish translation by Hubert Kowalewski
    merged from S3_0 b5e7cad812. Stats on master:
    core: 98.0%: 7318 translated, 88 fuzzy, 60 untranslated.
    nations: 99.9%: 1842 translated, 1 fuzzy.
    ruledit: 88%: 94 translated, 7 fuzzy, 6 untranslated.

commit 8611baf0a2e3beb39201aa9c6294fdea3e7760b4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 17 18:10:26 2018 +0200

    rulesave: save action ui_name only if it's different from default

    See hrm Feature #740121

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8dffcc4668368dff14683b8c2a84e4f6ff7060b9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 21 05:19:38 2018 +0200

    alio: Copy roads.png from hexemplio, use highway sprites

    See hrm Bug #740425

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4423a3719bcfc0d9cc22d878c5cf4689bf222225
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 20 19:25:52 2018 +0200

    Rename themes/gui-gtk-3.0 as themes/gtk3

    Total filepath length needs to be shortened for the tarball
    creation to work.

    See hrm Bug #740207

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9892cd586c3f0ee7655667e33c1ae4797ab533f2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 17 17:27:48 2018 +0200

    Introduce action_ui_name_default()

    Move actions' default ui_names from ruleset.c to a new function.

    See hrm Feature #740464

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e5627c3d7f76f6387dda0f5a99b01d50a185174c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 18 09:30:21 2018 +0200

    Use "specialist.entertainer" graphic tag in supplied rulesets

    See hrm Feature #739924

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ae6fc482e67a9734cab6e2ef56af7de293dd9dbf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 19 15:37:38 2018 +0200

    Update hexemplio

    GriffonSpade's Hexemplio updates as of 14-Mar-18

    - Make Lakes to correctly match lands
    - Dirty pixel cleaning on water images
    - New sprites for Lakes, Oceans, Deep Oceans
    - New River outlet sprites

    Art by GriffonSpade

    See hrm Feature #731454

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fa459b8f421953336c3839e8bd4a6b11e5bf5a3d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 18 19:46:54 2018 +0200

    README.msys2: Update list of make targets

    - Document default target "all"
    - Remove unsupported target "gtk3-installer"
    - Improve documentation of "snapshot" target

    See hrm Feature #740593

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 312be3c8cf9a4f26c85da5e4e7dda3d16d2be934
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 18 06:22:09 2018 +0200

    installer_cross: Drop svn repository support

    See hrm Feature #740489

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 016250979f0283ea525a7cf56b0c91d943864cb4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 18 04:44:52 2018 +0200

    Rename themes/gui-gtk-3.22 as themes/gtk3.22

    Total filepath length needs to be shortened for the tarball
    creation to work.

    See hrm Bug #740207

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4914307cccd249b79314d5aac2992cbf68f44090
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 17 09:59:47 2018 +0200

    Replace "Irrig_TF_Possible" and "Mining_TF_Possible" effects with enablers

    See hrm Feature #735703

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3691c6b335a7c0a24ae2bc3053cf9b1048404176
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 17 10:32:58 2018 +0200

    Recurse to gen_headers subdir first

    If freeciv_config.h or fc_config.h header needs regenerating, it should
    be done in the beginning of the build, so that no part of the build
    uses outdated versions.

    See hrm Bug #740444

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b764567ba28eb70f672a697b2f0b4afe1da52300
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 17 09:46:42 2018 +0200

    Drop effect "name" backward compatibility code

    See hrm Feature #733008

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8db5b774d173501786bbe1961de746b6bc25d19c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 17 09:48:35 2018 +0200

    ruledit: Add multipliers tab

    See hrm Feature #735247

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1a04b308a70aa95161e4f7af204b02988e5d1b53
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Sun Mar 18 03:32:11 2018 +0500

    Update of Russian translation.

    core: 7465 translated messages.
    nations: 1843 translated messages.
    ruledit: 103 translated messages.

commit b0e98630e1c6707ad56aab0a805e2ff0cac1b276
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 15 16:07:38 2018 +0200

    Add ui_name support for Transform_Terrain action

    See hrm Bug #739976

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8b4409afca9e63a96e40dffaa382c84c5599f421
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 01:14:34 2018 +0200

    Add ruleset conversion log dialog for ruledit

    See hrm Feature #733556

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d46e48aa0fabdc92a59275fe8e31a2295965df36
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:30:11 2018 +0200

    Add "All effects" effect_edit dialog

    See hrm Feature #737478

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5153fcaa3787348052d242a688a671b3b7779469
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:24:26 2018 +0200

    rscompat: Add "Settler" requirement to actions created from _Possible effects

    When _Possible effects from 3.0 format ruleset are converted to actions,
    add "Settler" unittype flag requirement for them.

    See hrm Feature #734361

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c2e6673f097c77d922f853dbabe0f055cdfc3422
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:29:25 2018 +0200

    sandbox: Set max length of combats to 15 rounds

    See hrm Feature #735849

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 831b9a5c3a4f6324a69b775ed153a8be331c5f4f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:15:53 2018 +0200

    Refresh all effect_edit dialogs when effect in one changes

    See hrm Feature #732499

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3ed4626cdb0f36ec7be6022c035d83cfb8f7b816
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:32:45 2018 +0200

    Unify behavior of primary specialist graphic tag and alt tag

    Support images indexed by citizen number in specialist alt tag
    Support plain tag in primary tag.
    Indexed images are preferred.

    See hrm Feature #738278

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 66057ceb66363187ec75afc4f84e1066b7907a1f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:19:16 2018 +0200

    tex: Use tex ai player data unit list in military_advisor_choose_build()

    See hrm Feature #732767

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b79cdd240a3df0077f2e82c028ab67e863dfa5a8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:24:07 2018 +0200

    Add ruleset conversion log callback support

    When ruleset is loaded in compatiblity mode, and automatic conversion
    can't work perfectly, pass messages from the ruleset loading module
    to the tool using it with a new logging callback.

    freeciv-ruleup is currently the only user implementing an callback.
    It push received messages to log_normal()

    See hrm Feature #733496

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b62fa1820b0e8062c0cde110c4e87bf2af952135
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:30:52 2018 +0200

    freeciv.project: Fix typo

    See hrm Bug #737996

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4ff4beff9c55b028a957af618c5e2f18b52b2009
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:17:37 2018 +0200

    Give an error if suggested tileset cannot be loaded after user accepted

    See hrm Bug #657414

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit df7f406039c5891a09a52d54ce74b119e3d72f6e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 14 15:25:02 2018 +0200

    Make combat rounds effect controlled

    See hrm Feature #732541

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4e444011773ef670208741e8719d8a5f0862fc1f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 14 00:36:03 2018 +0200

    Separate specialist rule_name and graphics tag

    Add separate graphic tag for specialists. This far they have
    been using tag derived from their rule_name.

    See hrm Feature #738265

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f0daa082df4883dc0e305c151f19c0007dcc6939
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:11:12 2018 +0200

    client/t*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5b4f9e0430dd4573a0dacb0d4efe194a63bba119
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:33:10 2018 +0200

    Use 'nullptr' instead of '0' in update_xxx_info() calls

    See hrm Feature #738301

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2f8d0965abb04e649a3782df5daf0ee446f1bef0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:14:17 2018 +0200

    client/gui-gtk-3.0/[uvw]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 667e9eff7e0cc7ebb2a51a93d27e381ebd0da244
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:18:12 2018 +0200

    Fix gcc8 warnings

    See hrm Bug #731162

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0df1fac49aa81715e8f0003878d85bbdc16fab1a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:13:54 2018 +0200

    client/gui-gtk-3.0/[st]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7969b39e6c7fcb93eab9ddc9be4afe8980119b9c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:23:31 2018 +0200

    Replace "Transform_Possible" effect with "Transform_Terrain" enabler

    See hrm Feature #732503

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fd11f5135f0f03c3023f6a021458232802d60f06
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:13:32 2018 +0200

    client/gui-gtk-3.0/[opr]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b17e4f684b729da1e384dbff7708cbc50a3c4c0f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:33:52 2018 +0200

    Fix 'unterminated character constant' warnings

    See hrm Bug #738908

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d9975bcdd052e3c18b437a79d05d1cd54aef5b86
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:13:13 2018 +0200

    client/gui-gtk-3.22/[uvw]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit df51252f5d0eb7fb06f66d0a926da82e9c485277
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:19:43 2018 +0200

    installer_cross: Run exes with path

    Make .cmd files to look up exes with dynamic path instead of assuming that
    working directory is freeciv installation root. Running from other
    directories still doesn't really work for the reason that data files
    won't be found.

    See hrm Feature #731495

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6f6f3fe9ea0d804e303d8effb51792cd73fc8d8f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:12:52 2018 +0200

    client/[uvz]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 599925eadf1e96feb1e185961bd516cc57d193ea
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:26:01 2018 +0200

    ruledit: Show multipliers count in ruleset stats

    See hrm Feature #735246

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0752c7260d4b9fdb395bcdb31a787b85bd99c53f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:12:33 2018 +0200

    client/gui-gtk-3.0/m*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5909b63aaee81dc4571822cd238caf5478d5c645
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:29:46 2018 +0200

    Rename E_UNIT_WIN as E_UNIT_WIN_DEF

    See hrm Feature #734544

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f00f9ba6e7a8dbd2f35a1f4704a0ca0b1b9dbe8c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:12:13 2018 +0200

    client/gui-gtk-3.22/[st]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e57202cc43e8c60d24856d70fb060ff7cf24c6ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:20:50 2018 +0200

    Send whether unit type is suitable for autosettler activities to client

    See hrm Feature #734637

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a0bda9cfd403a2c5182e86d7ddb3e805c9345d72
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Mar 13 00:11:51 2018 +0200

    client/gui-sdl2/w*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b9dcefaf21160082ad7d68af1be9307b8c6a9bac
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Mar 12 18:44:15 2018 +0200

    Increase Output_Waste_By_Distance granularity

    Make value of the effect 1/100 of a point of output / tile of distance

    See hrm Feature #733815

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fecc0d4078e47c90c7e80e1a2ad5543fc421103a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 05:07:52 2018 +0200

    client/gui-gtk-3.0/[hil]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1f562e5d8a23547f7baff14a1719dd6569ce956e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 05:21:26 2018 +0200

    Travis CI: Enable NLS

    See hrm Feature #735952

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 418325f86ef9eae15c4212c7e2ba0fb8fc63c652
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 05:07:31 2018 +0200

    client/gui-gtk-3.22/[opr]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 23b29e515b1cd9d138091258b3f95f6ec4ee92f1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 04:55:35 2018 +0200

    Add requirement vector for multipliers

    See hrm Feature #732522

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4285ffd783373e6907a2df9a99dd9a5df979bf43
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 05:07:12 2018 +0200

    client/gui-sdl2/[uv]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 015a17ce1b910553ccfcc553038d78d425831a24
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 04:52:39 2018 +0200

    Disallow opening multiple effect_edit dialogs for the same object

    See hrm Feature #732266

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a4d59017d4042247484a4d2d253decd357b4b616
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 05:06:53 2018 +0200

    client/gui-gtk-3.0/g*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b4c3fdedc7586fd7e499e84e1e5ec3d2ab5f615c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 04:51:09 2018 +0200

    tex: update world object instance by unit moves

    See hrm Feature #731235

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fb1ba210a5094616702ce8779e5e275acad3894f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 05:06:20 2018 +0200

    client/gui-gtk-3.22/m*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 28240460a15157e7b7aad4869c7694d198cd00de
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 05:02:30 2018 +0200

    Cache unit suitability for autosettler activities at ruleset loading time.

    See hrm Feature #734171

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bf4e0733a8b8d9397d83045eed78357efc3b928a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 05:06:01 2018 +0200

    client/gui-stub/[stvw]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1180060e854f20ef2c1d94975be7ee578fd44830
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 05:25:33 2018 +0200

    Replace tabulators in units.ruleset graphic_alt documentation with spaces

    See hrm Bug #738321

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f519f724038e6d6fb795843561e92bafe41a2a32
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 05:05:40 2018 +0200

    client/[rs]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8bfcd2e51fe96e4984c3ccb01e4bf6da135c9ece
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 04:50:35 2018 +0200

    tutorial: show message on any tech acquisition

    It used to show the tech acquisition messages only if tech
    was researched.

    Requested by Jacob Nevins <jtn>

    See hrm Feature #657359

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6afba6e3f62509a1dd2b98b6a348ca0e950c7083
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Mar 11 05:05:22 2018 +0200

    client/gui-gtk-3.0/[ef]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9c2f164e756256e199ef6ded31cf5c341f03c0b7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 8 17:11:21 2018 +0200

    Use freeciv-gtk3.22.desktop as desktop file for freeciv-gtk3.22.appdata.xml

    See hrm Bug #738290

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7e8feefbb8bb3b734be6595a2504810c17379132
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:10:19 2018 +0200

    client/gui-gtk-3.22/[hil]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6367e335c82a9443694b659bf3192f30ed207fb4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Mar 7 16:18:06 2018 +0200

    Show earlier movement animations even if unit died meanwhile

    See hrm Bug #737277

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5b5979bf26e6c523201a131cba7b7a1c97d91161
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:10:00 2018 +0200

    client/gui-sdl2/[st]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e49c1941c486a1e43a2a170b0a42edf8171dfd7d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 00:41:04 2018 +0200

    Make fc_strlcat() utf-8 aware

    See hrm Feature #731228

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 37e7f4f326be988646b3cab367321d68cceb7a9d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:09:39 2018 +0200

    client/gui-gtk-3.22/g*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 574c66135b5d559f20d24813227014462cc3e579
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Mar 8 16:39:04 2018 +0200

    Add server setting combatrounds

    Requested by Dalibor Perkovic

    See hrm Feature #729194

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d8bd5f2c79b8ee409efe3f1ed7c50c8889e6baf2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:09:20 2018 +0200

    client/p*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 91f6ab0f3dbd145a5c306d7481b0561d5a67fba6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:29:46 2018 +0200

    sandbox: Convert 25% of the citizens to the nationality of the conqueror

    See hrm Feature #733781

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c0eb97cb1ddb04108c1401c71eac2d5b75e0785b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:09:02 2018 +0200

    client/gui-gtk-3.0/d*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f6a1046dd7b9fac1a36e8bebbd4672c79cdf4dd0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 00:40:05 2018 +0200

    Make freeciv-web specific topology documentation say it's about freeciv-web

    See hrm Feature #730987

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4e8522e4ee020d2af37734af25c4c30e12ca8c6a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:08:44 2018 +0200

    client/gui-gtk-3.22/[ef]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fde8b5abb4a69fe2289a115ab68dbd3596bc9e12
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 00:42:00 2018 +0200

    msys2: use snapshot.project only when building snapshot build

    See hrm Bug #656537

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1e286aef1054170274388c600d4a2b544c6eeb1e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:08:25 2018 +0200

    client/gui-gtk-4.0/[uvw]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 59e9640cd6f7497d2161ed77b70ac4d9958547e4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 00:53:23 2018 +0200

    Add univs_have_action_enabler() utility function

    See hrm Feature #732794

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d39a13df5e215432d8de49f1e978148c5883c2c4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:08:07 2018 +0200

    client/gui-sdl2/[opr]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 43ec8f6ff8188289c5bce1dd9ddb489dbb871125
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 00:41:42 2018 +0200

    tex: maintain player specific unit lists

    See hrm Feature #731242

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c9924666a6d86a2355612f20884a9435b1abf1d8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:07:46 2018 +0200

    client/gui-stub/[mopr]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1c5ab25d688b18607514ac0e1cc876cbe1f68978
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 00:40:46 2018 +0200

    Add ruledit_gui::open_effect_edit()

    Use it instead of opening effect_edit dialogs directly from various places.

    See hrm Feature #731171

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9f39b8517b62a7342a080910cc9d1d0a326a553a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:07:28 2018 +0200

    client/gui-gtk-3.0/c*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit edb78e938fed62270691e8c4de6a64b648b7f921
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:36:47 2018 +0200

    Travis CI: Build stub-client

    See hrm Feature #735951

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a4d6f821c786ea72afe8f4c75a56e87b3febfdaf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:07:05 2018 +0200

    client/gui-gtk-4.0/[st]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4661bce6beceb6bf7285aead5855ca8e9ebe4b94
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 00:40:28 2018 +0200

    README: Update log levels documentation

    - Document literal log levels, and recommend them over numeric
      values.
    - Document new "warning" log level

    See hrm Feature #656464

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 93c82a4935b8ae7c1addc89459b6225b094f9b68
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:06:47 2018 +0200

    client/o*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6c038848f27c3b82eedc12c7adeba6bfb1b3a078
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 23:38:28 2018 +0200

    Fix a bug that when steal_a_tech() gives future techs, it gives two of them

    Reported by javaxubuntu

    See hrm Bug #736836

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f4b9a569956cf59e2245e13506504e53f028fa96
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:06:29 2018 +0200

    client/gui-gtk-3.22/d*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3f8b5ae970c1f222f05df9167e276fbb93a79326
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Mar 3 20:51:39 2018 +0000

    More ruleset checking for resource/base/road sections.

    Check that an extra with cause "Resource", "Base", or "Road" has a
    corresponding [resource], [base], or [road] section.
    (Previously, failure to do so would cause an assertion failure and
    server crash.)

    Check that the extra referenced in a resource, base, or road section
    has cause "Resource", "Base", or "Road" respectively.
    (Previously, if they didn't, the resource/base/road section would be
    quietly ignored.)

    See hrm bug #736838.

commit 322b088428904c857f62c7a6ef278c7717eae475
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Mar 3 20:55:00 2018 +0000

    Document extra causes vs sections.

    Extras with "Resource"/"Base"/"Road" in 'causes' require corresponding
    [resource_*]/[base_*]/[road_*] sections.

    See hrm bug #736837.

commit b8141b7f09a0b0195c9d99cee383b9d025cfcaf2
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Mar 3 19:58:24 2018 +0000

    Extra help: state how to build them.

    Also, rearrange autogenerated extra help into a more logical order.

    See hrm feature #736833.

commit a90bcd2f0036a7085ba6b93aecbfa7b21b7c3d8f
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Mar 3 16:56:08 2018 +0000

    Help: more control over bullet points.

    Caller can decide whether insert_allows() or req_text_insert*()
    clauses have a bullet point before each line.

    Generated nation helptext has had some bullets removed.

    See hrm feature #736830.

commit 8f67c96652487a09a76075731e0b4a2443986f18
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Mar 3 15:13:59 2018 +0000

    Fix typo about oil wells in classic-derived rulesets.

    Reported by Joan Creus.

    See hrm bug #736795.

commit 8ac9fd3ec642fea65a1303979e3c0b60efd83979
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:36:00 2018 +0200

    scripts/capabilities: Update soundspec/musicspec capstring format

    Make development version soundspec and musicspec capstring formats
    capabilities-script documents to match current practices.

    See hrm Feature #735940

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 189430762eab1ca4de53620050858645ccaf8041
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:06:10 2018 +0200

    client/gui-gtk-4.0/[opr]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f87f5d6e9d2d0f5c62f9c6b1751e72a031f8ae2a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:35:23 2018 +0200

    Distribute freeciv.supp

    See hrm Feature #735850

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 979deb0815940882f8164b20f76da9c5f7ed9ebc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:05:52 2018 +0200

    client/gui-gtk-3.0/a*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cd3b8922c32894124bd8beeef5ea01a58070996d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:30:06 2018 +0200

    Improve tech cost documentation

    Patch by S.C. L. (Caedo) and myself

    See hrm Bug #699149

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d4bc6e1eb3491e40bb4038267c63087c1b5d12bd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:05:33 2018 +0200

    client/gui-gtk-4.0/m*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 93ded081ee5e60406dcecba31ba740e18de2348b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:30:25 2018 +0200

    sdl2: set width of empty string to 0 in utf8_str_size()

    See hrm Bug #684183

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b45a099a1ca95b4e2490ad52bbcc28639c7051fd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:05:15 2018 +0200

    client/gui-sdl2/m*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c30a740ca36302e554adecfba3436b821035b786
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 00:42:57 2018 +0200

    sandbox: Add Conquest_Techs_Min and Conquest_Techs_Max rules

    Getting a tech with city conquest is never guaranteed to give techs.
    In early game you randomly either get no techs, or one tech from
    the player losing the city. After University is known, no techs are
    got from the city conquest.

    See hrm Feature #732488

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9519d84e7789a08c52e2b90bf59f9dbf76eedf2f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:04:57 2018 +0200

    client/luascript: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b4f5470a40a95091fae02b913c6a7ca46ec3a675
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:01:05 2018 +0200

    Fix actiontools.c TRANS: comments syntax

    See hrm Bug #731568

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1ca8f477ccb92e225296e6519676840b7fce44ac
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:04:36 2018 +0200

    client/gui-gtk-3.22/c*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2bcbd41a335af337bd7632c5a495c289105c450f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:32:22 2018 +0200

    Free worker tasks

    See hrm Bug #735637

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cbebe0ca67af7f848205abcab4354a5bec1f69e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Mar 3 01:04:19 2018 +0200

    client/gui-gtk-4.0/[hil]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f77923d1a2e2f290098e0488125bd184809ddcf1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 20:49:07 2018 +0200

    Double movement rates for multiplayer ruleset

    Patch by Andreas RÃ¸sdal

    See hrm Feature #654404

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8aa680f164029a1abfa6605f42e6037aaf0e0eed
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:26:33 2018 +0200

    client/gui-sdl2/[hil]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 58cf7c83a88467cb59967360d6bb75c2606dcb75
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 27 20:16:14 2018 +0200

    Correct event type for attacker victory messages

    Couple of messages referring to attacker's victory were sent
    with event type E_UNIT_WIN that means specifically defender's
    victory. Send them as E_UNIT_WIN_ATT instead.

    See hrm Bug #735934

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c472a2f99ff5513c85ba36184a984e15fe5019ec
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:26:15 2018 +0200

    client/gui-qt/[vw]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a2c6af004ec68aaf3b7d2c7a58eaa5e19b84fbe7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:05:02 2018 +0200

    Make fc_strlcpy() utf-8 aware

    See hrm Feature #731220

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fe6941a825808a1f00aaef27bddc1f6e58701efb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:25:58 2018 +0200

    client/m*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit df458da2ee333313db70519490c0a8080db097a0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:04:22 2018 +0200

    Fix alien ruleset typos.

    Patch by Konstantin Vedeneev and myself

    See hrm Bug #730591

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4aacff4119b59d9046278329049d590709bec8b0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:25:40 2018 +0200

    client/gui-gtk-4.0/g*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 51db0bd8c1c89ed922bfa86e194c0fec27c8e441
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:10:52 2018 +0200

    Update appdata file format

    See hrm Bug #690231

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5be5d498f0e967e9ee350868938c8ce30fb80d73
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:25:22 2018 +0200

    client/gui-sdl2/g*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 22072da6302057edaaf2c417ea7acc76f36eb2d9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:11:12 2018 +0200

    Fix clang-6 warnings

    See hrm Task #733013

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6433274bfa1bac65214baaf92ccfa3fe75d62a2c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:25:00 2018 +0200

    client/gui-gtk-3.22/a*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 745f2aeebda01b9ce4b808ce53799069770307ce
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:09:22 2018 +0200

    civ1: correct calendar progress

    Reported by meynaf
    Correct behavior researched by Akechi

    See hrm Bug #731631

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3787516fb654055aefad32f72308f11657a23d8d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:24:39 2018 +0200

    client/gui-qt/[rst]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5f80b007237bcfd60744dae3944d480a373e5dde
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:00:43 2018 +0200

    Correct handling of action names with length of MAX_LEN_NAME

    See hrm Bug #729806

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9ae840ff2988016bafea49d47bfc2faf7ba6543f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 26 18:11:05 2018 +0200

    Revert "Updated msys1 environment (cairo)"

    This reverts commit 1fd2fc4f9b60355fa61d1195bf2076954189dce4.

    The cairo update was causing UI crashes.

    Reported by Kryon

    See hrm Bug #735238

commit 6a11c149f0a037d15e4f960a6a47908d488c65d1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:24:19 2018 +0200

    client/gui-gtk-4.0/[ef]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e47be384d531d41f570595197f171483e73cb2a7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:03:32 2018 +0200

    Convert some citizens to the nationality of the conqueror

    When city is conquered, convert ruleset defined percentage of
    its citizens to the nationality of the conqueror.

    Patch by Matthias Pfafferodt <syntron> and myself

    See hrm Feature #657145

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aae9c759836b2296101e92475b237ac33168a3ba
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:01:16 2018 +0200

    classic: Clarify summary claims about classic rules

    Don't make it look like having classic ruleset in use would automatically
    mean that all the rules are in their classic values. Make it clear that
    server settings affect that too.

    Reported by Joan Creus

    See hrm Bug #730586

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5019ad290149834b1f9f48ac10926ae69201768c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:23:59 2018 +0200

    client/gui-stub/[ghil]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 24e7df82f47023ff28ba5077a3eeec7bfe34f506
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 25 14:25:19 2018 +0000

    Fix conflict markers left in civ2 Airbase help.

    Reported by Marko Lindqvist.

    See hrm feature #733913.

commit 9058db4e259d12da3295537eb5a5e59a3a8a4b93
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:18:27 2018 +0200

    Rename fc_client::main() as fc_client::fc_main()

    This works around an problem that when SDL headers are included,
    they define 'main' as a macro that mess call to fc_client::main()

    Reported by nctrd

    See hrm Bug #734798

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit df396e84855715aa3916d88e261192fcbf583968
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:23:36 2018 +0200

    client/[hl]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 557f950dbc69dd997ab4cfb27aea7fa98bb887a7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:13:48 2018 +0200

    Refactor Farmland effects

    Instead of negating extra effect on city center,
    negate city center special bonus if also extra is present.

    See hrm Feature #733792

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6d5c4c58505086b11cb0af8ea0fc3363ec92d2da
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:23:13 2018 +0200

    client/gui-qt/[opq]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6815e85d31f40120d134bfa43ed7e36727efea60
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:08:03 2018 +0200

    Make it possible to load unit to another transport at the same tile

    Requested by Jacob Nevins

    See hrm Feature #732489

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4617b6955aa2f2b6269ccd3d87e5ea9d2d5ffea7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 02:22:51 2018 +0200

    client/gui-gtk-4.0/d*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0f4cee1567d63018821e0c0f21f07682174cb32a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 24 18:46:54 2018 +0200

    Comment fix: tech_precalc_data() -> techs_precalc_data()

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7ba7b15d7348605a616087820c8c4955503ac650
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 03:19:41 2018 +0200

    Fix remaining uses of 'F_' prefix flags to 'UTYF_' prefix

    A couple of instances found in a comment and code commented out.

    See hrm Bug #729900

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 986838fc6a53650b579fb5f69bb9394f81b7783f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 03:36:57 2018 +0200

    client/agents: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 15e801cde2bb314b530e62926d0f8f4f86daf448
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 03:26:03 2018 +0200

    Error out if tileset requested with --tiles can't be loaded

    See hrm Bug #730777

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d0684422348c46e52dd2419d00697f2e8621a302
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 03:36:38 2018 +0200

    client/gui-sdl2/[df]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8f27dec7748eea281e87b8944eb5a5c097d7b070
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 03:00:57 2018 +0200

    Remove remainders of the special handling of "unused" terrain name

    See hrm Feature #707585

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 83a713146d0f017edd5ac5ae4a40ffb8e0fd857b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 03:36:17 2018 +0200

    client/gui-qt/m*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2f726dcab7be0fda2ca8afa524d0d396be19f3ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 03:32:58 2018 +0200

    Make adv_settlers_road_bonus() to return adv_want

    See hrm Feature #733050

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2036f06397a34e638ca60e3f7655a0e501cc7990
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 03:35:59 2018 +0200

    client/gui-stub/[cdf]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 28932f158513f7a6516877809f7f5d962aed3ec3
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 17 19:28:08 2018 +0000

    Brief help for the Policies concept.

    See hrm feature #733929.

commit 4c29265d13f3f687185f3d4a9eec947454b8b0af
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 17 19:27:03 2018 +0000

    Move extra help from helpdata.txt to rulesets.

    The onus is now on rulesets to describe irrigation, mining, and pollution.

    Also, various corrections and additions about extras in supplied rulesets.

    See hrm feature #657410.

commit 3d14bf2726016d9e35c0efd547ada6cd0ec1214b
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 17 19:51:33 2018 +0000

    Reduce clutter in extra help with 'quiet' attribute.

    Apply it to CityTile requirements preventing bases in cities, and to
    civ2civ3/sandbox requirements restricting what Transports can build.

    See hrm feature #733913.

commit 2dab45ac7de007498134ded87a4dbfb4e4ba6814
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 18 11:48:08 2018 +0000

    Help: document extra removal time (simple cases).

    Terrain-dependent removal time is still not documented.

    See hrm feature #733898.

commit 9d9a19ce09513eef26b7ee2c772de43f48d3119e
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 18 10:07:14 2018 +0000

    Add pillage time to Terrain Alterations help.

    See hrm feature #733895.

commit edaed5576a61c2a7caa93b739db5c3d5dd119e6a
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 18 12:11:04 2018 +0000

    Terrain Alterations help: fix omission of cleaning activities.

    Only cross-check a terrain's cleaning time if the cleaning activity can be
    done on the terrain at all. The prevention of cleaning activities on the
    Inaccessible terrain was stopping the activities' time being listed in the
    help in some rulesets.

    See hrm bug #733902.

commit 1cf1286a181eb669e5171fd7ce7d09eb5a8237e7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 03:18:17 2018 +0200

    msys2: Run exes with path

    Make .cmd files to look up exes with dynamic path instead of assuming that
    working directory is freeciv installation root. Running from other
    directories still doesn't really work for the reason that data files
    won't be found.

    See hrm Feature #696674

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c551f63a385c4be57db94b26c4d16c3c20f39d99
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 03:35:39 2018 +0200

    client/g*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9e61e3391e268936a095eb5aec89ead691c13120
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 17 20:55:39 2018 +0000

    Extra help: prevent orphaned "Requirements to build:"

    See hrm bug #733865.

commit a5f160c5674de3081b5f60dfa176355346cf6459
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 17 19:28:18 2018 +0000

    Help: don't list extras forbidden by terrain *_time=0.

    This stops spurious extras showing up in Inaccessible terrain help.

    See hrm bug #733863.

commit 224d90ceebee99e6e634995bbfb045a335a8a310
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 03:21:00 2018 +0200

    Unload unit from current transport when it tries to move to new transport

    The unloading was erronously attempted from the new transport.

    Reported by Jacob Nevins

    See hrm Bug #693380

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 465d969ceda3a7183904018f3e8188befa325d0d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 03:35:17 2018 +0200

    ai/default/d*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b30680f01a71d796ddbad02b02ffaf7f9aff7af4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 03:19:02 2018 +0200

    alien: Fix references to civilizations to factions

    See hrm Bug #729810

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6abdda586fe20da10f75a1f6c28ea3ec516073df
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 03:34:54 2018 +0200

    client/gui-qt/[il]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f130b2883c15e005f8b00b030b3a6e46cbef14de
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 17 05:23:22 2018 +0200

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1dfc9edceb169ed8af2cd7b20a082410b29c4572
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 13:19:22 2018 +0200

    Clean out dirty pixels from most amplio2 files

    Patch by frank e and myself

    See hrm Feature #692596

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2435f723eb30cb979435c46ac9805ea157d59bd6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 13:25:55 2018 +0200

    client/gui-sdl2/c*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 52dfda2b413fa68d8b65b4a0971244720d230502
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 13:17:00 2018 +0200

    ai: set tech goal to A_UNSET when there's no possible goals any more

    Reported by Jacob Nevins

    See hrm Bug #695971

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5ae950bd95c95b8d728ac32e9afc3004687d3a54
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 13:25:37 2018 +0200

    client/gui-qt/[gh]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 271e4e77eb4f92f52fef5e14cfa06342ce18bc3a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 17:45:42 2018 +0200

    Add missing xgettext:no-c-format comments to rulesets

    Patch by Konstantin Vedeneev and myself

    See hrm Bug #721454

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit be7aaaee025d9e7bfbc37f528e3d43d0189a1190
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 13:25:19 2018 +0200

    ai/threaded: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ea47e8f1de7e6a9bfc794fc69ad9850feca6a31b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 13:12:59 2018 +0200

    alien: Split Space Module helptext

    See hrm Feature #730504

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f670ee24e2e5383649b13f4d19df22eb38e85f9d
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 11 16:17:41 2018 +0000

    Tweak Gtk terrain conversion help.

    Remove the fixed header of mining/irrigation/transform results in favour of
    rows added alongside the available extras, as needed (similar to the Qt
    client).
    This means that we no longer have "Mine Rslt/Time: n/a" when the result of
    mining is extra(s), and also means that the resulting terrain from
    conversions is hyperlinked.

    See hrm feature #732512.

commit 9f71d9ec220628702758527b03e3ae183788a0d6
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 11 10:33:55 2018 +0000

    Help: document per-terrain extra bonuses.

    Each terrain's help for the Gtk and Qt clients now indicates, in
    addition to which extras can be built, what production bonuses they
    can be expected to give (if the relevant effects are straightforward
    enough).

    See hrm feature #732512.

commit 072c2e6f8f674a61be41ea339b6ff58d74c1d7f7
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 11 13:55:18 2018 +0000

    Rejig Irrigation_Pct effects in rulesets.

    No functional effect, but the city centre auto-irrigation effect is now
    treated as more of a special case, making the main irrigation-like extra
    effects simpler. This will assist the autogenerated help (and perhaps
    the AI?)

    See hrm feature #732512.

commit 0b20a460ab091f7c579d96e406594992b6f0d3fd
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 11 11:31:08 2018 +0000

    New function effect_value_from_universals().

    This evaluates only effects that match a specific template of
    requirements, ignoring more complex effects with other conditions.
    It can be used to evaluate what intrinsic properties a source or
    combination of sources (such as extra+terrain) has, independent of any
    other game state; this is useful for autogenerated help.

    See hrm feature #732512.

commit fd68766e1c68ccbe3b639072e9c8f8794c6a18fe
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 10 21:16:11 2018 +0000

    More types for universal_fulfills_requirements() etc.

    These functions can now work with extras and output types.

    See hrm feature #732512.

commit 28e7513b8bdca5d81b31c8b7815fa1f193a5fe1c
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 11 14:24:45 2018 +0000

    New universal_fulfills_requirement().

    This exposes the ability to check the detailed relevance of a single
    requirement to a source.

    Note, the previous function with this name has been renamed to
    universal_fulfills_requirements() (plural). (It has a different number
    of arguments, so old users will fail to compile.)

    See hrm feature #732512.

commit 9c3e627f6a2097a4a74a66ce1fe5a91b14516c06
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 10 20:46:39 2018 +0000

    Expand comments for universal_fulfills_requirement().

commit 0845fb215e9fdccfe2365d6e7e1db6885f0ae7e6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 13:24:58 2018 +0200

    client/gui-gtk-4.0/c*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7b99b9676f6869acbc17753b2da59b084375d889
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Feb 13 20:43:43 2018 +0200

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 04a334f989f2329e6b756218a863496d2e0b6b3d
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Feb 11 13:53:06 2018 +0000

    Fix errors in Qt help for terrain conversion.

    See hrm bug #732507.

commit 3a925a52e5ce35de9be37c2e4f3772301889d1b1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 13:10:36 2018 +0200

    Hexemplio: Add cities graphics

    Also hexemplio derivatives (toonhex, alio) updated

    Art by GriffonSpade

    See hrm Feature #729137

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 85cf68b6b5687f838c02052414d166e782311b49
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 13:24:39 2018 +0200

    client/gui-qt/f*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 95d2f010c528ee8f5f4ca4c033341e29fb6d56a9
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 10 19:10:51 2018 +0000

    Document further sandbox ruleset liberties.

    We don't guarantee graphics availability or savegame compatibility.

    See hrm feature #732480.

commit e890e2674dc73daaa5b4dc869beac00a6b97a8d8
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Feb 10 16:57:40 2018 +0000

    Improve ruleset docs for mining/irrigation bonuses.

    See hrm bug #732479.

commit 07df27b1767b69b34c8d46fa76498864dddeb2a7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 13:11:35 2018 +0200

    Setup drawing_data even if the terrain has empty rule_name

    See hrm Bug #729532

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9cef2d8616ab55d01db863e6c2d285f49e686b3d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 13:24:18 2018 +0200

    client/e*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b8d158e94d1ad123c3c2bf3f4b347c69b5ab364e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Feb 11 22:57:33 2018 +0200

    Fix typo preventing loading of civ2 ruleset

    See hrm Bug #732538

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ad65d93390301a5ad6166ec219c0b0014f5036b5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 13:14:36 2018 +0200

    Add tech_cost_style "Linear"

    Requested by Jacob Nevins

    See hrm Feature #695972

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1eef7fc330705a76200bb04d277199a289de7da3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 13:11:10 2018 +0200

    Fix erronous error message about invalid research goal

    If a savegame has invalid current research, loading it gave
    an error about research goal too even if it was ok.

    Reported by Jacob Nevins

    See hrm Bug #729275

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 04a0eb22a5a26adfac9aedc19fe2ad79b808e3ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 13:23:55 2018 +0200

    ai/default/ai[tu]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6b66ed0f5c7cc0a6cf7d1d3e540c17c1c6b8ae6d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 10 12:58:37 2018 +0200

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 136a67380d0b15feb4cef38ce76188d1a697c1c3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 7 16:49:03 2018 +0200

    Update help about Great Wonder obsoleting rules

    Reported by Jacob Nevins <jtn>

    See hrm Bug #660409

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 37af87e73d38bf9bc7e2b6d38aeee00940d0e90d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 3 07:12:32 2018 +0200

    client/gui-sdl2/a*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 481c130b8a19191d4662c04fcc2cd03d0809e95c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Feb 7 16:48:43 2018 +0200

    Disallow tech tree holes in civ1 ruleset

    Reported by meynaf

    See hrm Bug #729171

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 73ebb21fde8bb84735c745e6be811286351ee4ff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 3 07:12:10 2018 +0200

    client/gui-qt/d*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ccbeb5a9ea93f0433104e28dffccdf1fc04c1313
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Feb 8 02:09:05 2018 +0200

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 214643ba0e1833f229a606d7b1e216ef4f88f132
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 3 07:00:46 2018 +0200

    Qualify alien ruleset tech "Mining" name

    See hrm Feature #729109

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bf49427d465b53c07b8fab275d71adb28cfd433c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 3 07:11:47 2018 +0200

    client/gui-gtk-4.0/a*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a9b0e350ef809bb9957b973fde100bc1fef88d4c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 3 07:08:40 2018 +0200

    fc_version: update followtag update instructions

    - Correct option name ('--follow-tag' -> '--with-followtag')
    - Update followtag value ('win32' -> 'windows')

    See hrm Feature #730564

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1707e1f30afda086e3014bedce25214105176657
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 3 11:19:46 2018 +0200

    Don't restart music from audio_finished callback in case of complete stop

    See hrm Bug #730597

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4045c1cce279c4afbc840f4cbbaa7c87eb826c64
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 3 07:02:37 2018 +0200

    Make amplio2 ruins smaller

    Art adjustments by GriffonSpade

    See hrm Bug #697692

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 898d2fbb1ebf6c2533641f3c09f5604442682c9d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 3 07:11:28 2018 +0200

    ai/tex: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ea0cadd918402de268ee549656e2c42a5d626004
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 3 07:04:18 2018 +0200

    Add Conquer_Techs_Min and Conquer_Techs_Max effects

    Requested by wieder

    See hrm Feature #699156

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 154f2466bf38ca481fc80f53f237876e5fa8c48a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 3 07:05:13 2018 +0200

    Save luadata.txt

    See hrm Bug #673655

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 138c5ec02c8064e7834f0f60a03b1206a73f6db6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 3 07:10:57 2018 +0200

    client/c*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e639a97354bdd178702f39ae74e5fea8509cca20
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Feb 5 15:12:47 2018 +0200

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0588f14e4d3ab2ce8a4a636f8e946029c05fd036
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 29 17:30:48 2018 +0200

    convert_png: use absolute path to input files

    Works around MacOSX bug.

    Patch by Daniel Markstedt

    See hrm Bug #715161

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8772c09c2162600fb6bcdfd5cb7fb59aab70e36e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 3 07:10:38 2018 +0200

    server/[uv]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bbe5bb24124b8354fb08b754359df09e14190fda
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 28 13:35:57 2018 +0200

    helpdata.txt: fix outdated reference to 'spacerace' option

    Reported by Joan Creus

    See hrm Bug #691877

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 00ed967da8891210c095ed4afec77fcbb0535b90
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Feb 3 07:10:09 2018 +0200

    ai/default/ai[ps]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0843f0f2116301355a5b77c7ea49bbdf1f799be1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 28 15:58:47 2018 +0200

    Correct amplio2 and Hexemplio ruins credits

    Reported by GriffonSpade

    See hrm Bug #729141

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 82c4a22ea47426bc48d7742e1018ac451d6d99c0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 28 20:37:07 2018 +0200

    client/gui-qt/c*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4251747bf3d97f4f76ef45aec22e51d59db56f8e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Feb 2 15:40:43 2018 +0200

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c2cf538e336eef4ba93eaaf2d2ad1a7331b3f9d5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 28 20:30:54 2018 +0200

    Fix "change you mind" typo -> "change your mind"

    See hrm Bug #729103

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit be6270a29690b51193dc9aa9198f9ced32fc274d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 28 20:36:33 2018 +0200

    server/t*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e2527359eeecb20cd59a3d2a439771bfdcef7da0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 28 20:33:14 2018 +0200

    Update Hexemplio bases

    - Less obscuring ruins
    - Hex shaped outpost and fortress

    Art by GriffonSpade

    See hrm Feature #729151

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c1d368e96b4d022425ba2258b69fbf83286c7e4d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 28 20:36:14 2018 +0200

    ai/default/ai[hl]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5059016969e1bcb22066ceac712e07f0e2b3f3f7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 28 20:32:03 2018 +0200

    Disallow units from helping building of small wonders

    See hrm Bug #705580

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1e16acf621664c328dd7746b785584e065a81438
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 28 20:35:54 2018 +0200

    client/a*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f6b587b947649e1ef5d08f228061591901d3a750
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 30 20:05:26 2018 +0200

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit af1ea6308b717d2f214dde116f488a24efa1c504
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 30 15:10:59 2018 +0200

    Update comment about hut placement limitations

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 80eae85e05f8b6d2548a825e8dfe4803a57ce50b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 28 20:30:35 2018 +0200

    alien: improve Protector helptext

    Make clear that even with Protector, Basic Infrastructure is needed
    for a base to grow over size 2.

    See hrm Bug #729102

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e04c3b5e07ef6a934456e6ffbc3bc14cc8dd06b5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 28 20:34:45 2018 +0200

    tools/ruledit/[uv]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d379cb5e2e5149f43a07e804f2f18d6b571eb8ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 29 09:29:35 2018 +0200

    Update comment about UTYF_BADWALLATTACKER

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eb6961a4ded97af271c3dbe22b6ed45a28a7f9dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 28 20:34:26 2018 +0200

    ai/stub: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7699a84e4d88d79cf6d7f7568e63858a90ae5b24
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 28 12:03:06 2018 +0200

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 97ebf4aa2044da7aef904db6955bca91608232bb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 18 05:08:26 2018 +0200

    server/s[rt]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ced208cfc8af384ae6bd9c5fb8b058abaed9c140
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 18 05:08:07 2018 +0200

    ai/default/ai[dfg]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 784ef8f402a42d589eb806958ada39e660e3ac47
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 18 05:07:33 2018 +0200

    tools/ruledit/t*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a3b02be0ef5f8723b394c1e0bc5afd2cfb1e3c55
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 23 03:50:47 2018 +0200

    Document game ending to cultural or scenario specific victory

    See hrm Bug #696673

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0fe07df6a21f548435ac504ee5d93ac0049f2f49
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 18 05:07:00 2018 +0200

    utility/[st]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9e72095299fee56f99d295e50d6919165fb4dbb0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 22 03:01:48 2018 +0200

    Gtk3-client: Set frame_by_frame animation mode

    See hrm Feature #726552

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1344b952593011e61589aa43da4fff5ccd39c996
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 18 05:06:35 2018 +0200

    server/s[ep]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d9d20786349ddc3cbb3a9d8619f5982035c1c1eb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jan 22 04:29:05 2018 +0200

    Do not claim that ai-types are available only with loadable module support

    Consider possibility of statically built-in ai modules in the
    help of "create" command.

    See hrm Bug #699164

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7ac48c37a6fc960d52bff181c0b0080e7ffcaffa
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 18 05:06:08 2018 +0200

    utility/r*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bf698843ac4f6ac8f735ae6af2fc5e0b8fb6e74d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 18 05:05:48 2018 +0200

    server/s[ac]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 09142246c7674edb844494196f5a514f674a1988
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 18 05:05:22 2018 +0200

    ai/classic: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 68e70a782cfe6f32f311c17bd70b83659aa33066
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 20 01:23:33 2018 +0000

    Revert "Update usa flag to valid SVG version from Wikimedia Commons"

    This reverts commit 8e7556d412. This reintroduces format errors but
    restores the aspect ratio to our standard 2:3.

    See hrm bug #707595.

commit bdb4dc8aec0261e196f940381de46cbfacb1f263
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jan 20 01:23:17 2018 +0000

    Revert "Update liberian flag to valid SVG version from Wikimedia Commons"

    This reverts commit f2fd852bc6. This reintroduces format errors but
    restores the aspect ratio to our standard 2:3.

    See hrm bug #707576.

commit 6aa3435fb487d651aa8bbc7bf8e18d6a93b42646
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 18 05:05:02 2018 +0200

    ai/default/ai[ac]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e3a8bb12f49f0377d32a06682f8d8a7e147be060
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 18 05:04:35 2018 +0200

    tools/ruledit/r*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 23573a4dff4316b49b7145ae4b549fa5e45943dd
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Jan 18 00:14:37 2018 +0000

    Updated Polish translation by Hubert Kowalewski
    merged from S3_0 6a745ae83b. Stats on master:
    core: 99.4%: 7368 translated, 33 fuzzy, 10 untranslated.
    nations: 100%: 1843 translated.
    ruledit: 91%: 90 translated, 6 fuzzy, 3 untranslated.

commit 6f5af6a375ba6a4c473474368ec64ef27549f94e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 11 22:49:04 2018 +0200

    tools/r*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7cd611164457f5a9f320e5fcbdaac8c83671292a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 17 02:02:19 2018 +0200

    Update Finnish translation

    This is S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3074c6c6f643e4478e801c87113b91b65bd9cc06
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 11 22:46:42 2018 +0200

    utility/n*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 36dbfb769de93ded029e5aa7344c3c70e827afce
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jan 14 16:11:47 2018 +0000

    Europe 1900: make all players "Unassigned" initially.

    See hrm bug #724926.

commit 3a842b3f8b3d2a174aab97048ec9ff8c6aa12737
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jan 14 15:52:47 2018 +0000

    Fix some city name typos in Europe 1900 scenario.

    See hrm bug #696031.

commit c13f4915ad7123972e209632ee726252f85ba8f0
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jan 14 15:31:55 2018 +0000

    Replace hardcoded pluralisation with PL_().

    Reported by Marko Lindqvist.

    See hrm bug #698844.

commit c49d96067e84d7b6e994098dac67df6ac3222790
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jan 14 15:18:27 2018 +0000

    Wording tweak in Qt advanced unit selection.

    A candidate unit can't be "Everywhere" but it can be "Anywhere".

    Requested by Marko Lindqvist.

    See hrm bug #699161.

commit 541cd8c53c1accb37103837bb0759735b63e51f6
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jan 14 14:21:07 2018 +0000

    Geographical correction in Cuyavian description.

    Patch by Rhue of L.

    See hrm bug #706252.

commit 0d4e8dbf22614fc4d28e5895cb9d5f6a07168603
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 12 00:03:39 2018 +0200

    Allow loading ruleset without parser.lua in compatibility mode

    See hrm Bug #706262

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2c3efb3d83294bc2a6ab96948a531b70f51585b2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 11 22:46:08 2018 +0200

    server/r*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 101c3e9a00cfba51922b8e72f2c1fb2e9b717bae
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 11 22:45:49 2018 +0200

    tools/ruledit/e*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 45f9a122132f064964d241da5a9957f4c345e32f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 11 22:45:27 2018 +0200

    ai/*.c: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f2184bbcc66084eae72d40e110c33d93910567d7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jan 14 02:18:01 2018 +0200

    Update Finnish translation

    This is S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2b6e349c7a5a76847fd8b76578e4f530be780d4f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 11 22:45:09 2018 +0200

    tools/shared: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 329b395a7ef9320f77704ebac0977480f0a6e41f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 12 16:29:56 2018 +0200

    Correct tab_unit constructor function header

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 398ea923fee7e9dc5d864b89c01ff03572674b07
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 12 16:24:29 2018 +0200

    Correct tab_gov constructor function header

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0da4950454b4549437a5583018af45fc8fd958a7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 11 22:44:44 2018 +0200

    tools/m*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 42bf6e9372fec094b08e69e2125e5ef211c7690a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 3 17:01:35 2018 +0200

    utility/[lm]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 047e8abeb30bd524714ca64b573552d7bcaf5d64
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jan 3 18:04:01 2018 +0000

    Speed up loading of savefiles with shared vision.

    This process was doing of the order of number-of-players times more work
    than necessary, for savegames where a lot of players share vision with
    each other.

    See hrm bug #723442.

commit a5d5da35135d75b8276aac147d0a7bc19e1554e5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jan 5 22:22:56 2018 +0200

    Unset capturer last_activity, update action time

    Reported by Donnie Anon

    See hrm Bug #692282

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dd6c1367e4a7b546e839ad2d1b6135a07089ca77
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 3 17:01:13 2018 +0200

    server/[np]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8dcb0d7565004402aa975483f3c29517dab87bd2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 3 17:00:46 2018 +0200

    tools/[cd]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fc4d5b3f262d21da0938c83d043230a6ac54037d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jan 4 17:46:49 2018 +0200

    Fix crash when passenger leaving aiferry dies

    Reported by Martin SchrÃ¶der

    See hrm Bug #714453

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 40b5bd485f418b6b5ce8432546f227b3f9b3f86d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 3 17:00:22 2018 +0200

    utility/i*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bf7c60907dd41be941ffffc7c9194e120d364c0f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 3 16:57:40 2018 +0200

    installer_cross: Add crosser component versions list to installer packages

    See hrm Feature #722495

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f03bfe46a6a694f2c8cdd7a4a0cee8716713678b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 3 17:00:02 2018 +0200

    server/m*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b616c19d9187357b82d0da06f1eba6183a3f3f6b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 3 23:30:17 2018 +0200

    Mitigate problems of overlong map label

    - Print an error when overlong (too long to be sent over network)
      label is set for a tile
    - Make sure the label sent over network is null-terminated even
      if it's truncated

    Reported by Alexandro Ignatiev

    See hrm Bug #720199

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 04bcb0dda00bd25e6b353b5aa5801f86e38c1aa9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 3 16:59:43 2018 +0200

    tools/ruleutil: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 50057205d31115fd08881cdab4b53b0bc4579a1d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 3 23:14:51 2018 +0200

    Increase max length of tile label to 64 bytes

    Requested by Alexandro Ignatiev

    See hrm Feature #722788

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4a53da2f574eac2ea795e8702d8a32ea32532ebe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 3 16:59:21 2018 +0200

    server/[gh]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 67ee8277f82979f1dd197a8357652d472b2ea003
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Jan 1 22:31:35 2018 +0000

    Don't use nonexistent event in tutorial scenario.

    After a report by Alexandro Ignatiev.

    See hrm bug #723052.

commit 9f83a6d2f70dcc22427061cfdcc556b3c9748af0
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Jan 1 23:00:10 2018 +0000

    Fix Lua object save format.

    They were being saved in a locale-dependent real-number format
    ("p=find.player(0.0)", which worked, or "p=find.player(0,0)", which didn't).
    Now the ID is saved as an integer ("p=find.player(0)").

    See hrm bug #722288.

commit e3ed1d01bf6cb5a94f4c5fe2872868c0ab32878f
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Jan 1 22:35:27 2018 +0000

    Load script data from savegame last.

    The "vars" state section may need to reference other game objects.

    See hrm bug #722287.

commit 3dd96476cb5a61e4f2a27d4941389ddb41016561
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 3 16:58:07 2018 +0200

    Fix crash when former ferry leader activates

    Reported by Alexandro Ignatiev

    See hrm Bug #721949

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1d5ea089ae0a65408f5c9ea137853e2bf49ff2fc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 3 16:58:57 2018 +0200

    utility/g*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e15ac6436668cd39786043bcec1e538cb9d3a7b3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 3 16:44:13 2018 +0200

    Fix some function header typos

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 86570f506aded04f5c41fdd5aa71cba95b785e17
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jan 3 16:41:58 2018 +0200

    Correct send_ruleset_trade_routes() function header

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 050393d69b678c3b729d3518d9acca7b40fcd91a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 31 13:22:17 2017 +0200

    server/[ef]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 30c166b5b519a4b6395aee56bb0fd50d05184577
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jan 2 19:57:00 2018 +0200

    Correct edit::utype constructor function header

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8359c9ba603893deafc5244b725ed57fb5630fb4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 27 12:47:23 2017 +0200

    installer_cross: Update to crosser-1.4

    See hrm Feature #705363

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 25f6e394b098c8509dc1187fed322e2f8d3e64e3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 31 13:21:52 2017 +0200

    utility/f*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0eabc2ce523e30ec7a73a6526aa71404fd13d447
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Dec 31 12:33:16 2017 +0200

    Bump version number to 3.0.91

    See hrm Feature #722200

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eecd9c64efa406f4e73d8135ceb7a191b70e980b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 20 16:56:59 2017 +0200

    server/d*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d42d0d9a98ca1ef435da2a59e5713e0ff3c6fe9c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 20 16:56:37 2017 +0200

    server/scripting: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 56c0e5f54f9921eec476ae574c805de12b6394cf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 20 16:56:14 2017 +0200

    server/c*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 400fb1d16f11138708c7ace30fbcf4cadd5463ed
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Tue Dec 26 21:51:01 2017 +0500

    Update for Russian translation.

    core:    7411 translated messages, 1 fuzzy translation.
    nations: 1843 translated messages.
    ruledit: 99 translated messages.

commit 577fec23e08de2a0cac761d280ec65e2337e8c74
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 20 16:48:27 2017 +0200

    Use adv_want type for autosettlers activity want

    See hrm Feature #719512

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b40596b246f98eee0c2eeeb909b550153501a7e9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Dec 20 16:55:37 2017 +0200

    utility/[cd]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dba8270fdd9bbe0afcab3df2a88e4ea29afcf39c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 14 13:57:53 2017 +0200

    Correct autosettler logging of Frost

    See hrm Bug #718497

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5f191830edabd0f9f6094c119b9262d71a6a8181
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Dec 14 08:21:57 2017 +0200

    Take "extra" want for autosettler activity in to account in final want

    See hrm Bug #719516

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8e7556d412cb125899a559a8dd51b56221c3f307
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Nov 5 21:52:50 2017 +0200

    Update usa flag to valid SVG version from Wikimedia Commons

    Reported by frank e

    See hrm Bug #707595

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 34589f24e3df8264798d796263746ec4e8c45aac
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 29 23:06:11 2017 +0200

    Fix unithand.c "to far" and "to near" typos

    Reported by Lachu
    Patch by frank e

    See hrm Bug #706821

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8796504f2575028739e0355b30d9ba7812483f68
Author: mir3x <mlewczuk80@gmail.com>
Date:   Fri Nov 17 19:08:44 2017 +0100

    Qt client - allowed styling titlebar of dialog.

    See hrm Feature #710896

commit 26a9af681737fd511173923e37d768e3c6639603
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 29 23:08:39 2017 +0200

    utility/[ab]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bf77399b375d99678c6659570e98d60d800eecb2
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Nov 7 10:06:07 2017 +0100

    Qt client - diplomacy dialog - added possibility to accept/reject deals with keyboard

    See hrm Feature #709337

commit 92b9d9dd44a2ce201a0f6d710cc1d92d987f1bb2
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Nov 7 10:03:52 2017 +0100

    Qt client - added city dialog shortcuts

    See hrm Feature #709335

commit a9fcf209bbd280cae9f97d3570c6ef838c18b464
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Nov 7 10:00:42 2017 +0100

    Qt client - fixed not available special improvements to build.

    See hrm Bug #709338

commit 9e5b4056948cc904e13bb6b8ff08c69e9941f5f1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 29 23:08:18 2017 +0200

    server/b*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c233fbb236c39f36fa009b24ce1208e11d2b74ce
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 29 23:07:58 2017 +0200

    server/a*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 80fc79ada564dfefdf7fbea76834d3f0fef01bac
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 30 16:42:45 2017 +0200

    Update papuan flag to valid SVG version from Wikimedia Commons

    Reported by frank e

    See hrm Bug #707576

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f2fd852bc6bb9bfcce29fb264de92c5d7db6e3f5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 30 16:34:43 2017 +0200

    Update liberian flag to valid SVG version from Wikimedia Commons

    Reported by frank e

    See hrm Bug #707576

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cbaaa3f34bd6f83cfd2a9014ffd06be0bf580a59
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sun Nov 5 13:17:43 2017 +0100

    Qt client -fixed segmentation fault when lost connection to server.

    See hrm Bug #709134

commit 987ecab5bdab03dec3d26425f651f9077457679d
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sat Nov 4 00:10:48 2017 +0100

    Qt client - make prev/next help history buttons sensitive.

    See hrm Feature #708258

commit d49d92cb2de265b604c071f91cae4b56e5b32082
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sat Nov 4 00:08:01 2017 +0100

    Client - Fixed savegame not loading for ruleset with preferred_tileset with "-f"
    Reported by Jacob Nevins

    See hrm Bug #706353

commit e33d4b21b89548c18abc164770888340605056c0
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sat Nov 4 00:02:41 2017 +0100

    Qt client - fixed closed research dialog after choosing current reserach or goal

    See hrm Bug #708554

commit 7edd7274876477f4db1d22fb1fcb2ba090f8c2bf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 29 23:07:37 2017 +0200

    server/generator: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 41464a91df74a9cdd8ad67ee6100a2dfe93ac6cf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 30 00:30:53 2017 +0200

    Add HP reduction part of frame_by_frame mode battle animation

    See hrm Feature #707623

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3a45beb1f3439a53813336b6e8711953853fb98b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 29 22:53:46 2017 +0200

    Update msys2 environment to 171027 level

    See hrm Task #701180

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4c1eaa26aff3924164f55b6c4aefff1417858a78
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Oct 30 19:56:05 2017 +0100

    Qt client - made socket notifier as blocking ( as fix of bug - can't load savegame from ruleset with preferred_tileset )
    Reported by Jacob Nevins

    See hrm Bug #706356

commit 9e22aec9cd4c34b9ba51860bf5899590d6d39fdd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 27 23:43:39 2017 +0300

    common/[vw]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e17a0910ec2e421279d1c7f7a76fa448f9a0e2ff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 27 23:41:14 2017 +0300

    Add frame_by_frame mode nuke animation

    See hrm Feature #706322

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ee51f0a00427fbbeffa19d4de3107981519e8925
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 27 23:15:07 2017 +0300

    Do not use @abs_top_srcdir@ or @abs_top_builddir@ in wrapper scripts

    See hrm Bug #705468

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 63369a0e5e9890acab60b9d91c4733ca922ad37d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 27 23:43:16 2017 +0300

    common/u*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 54de1bdf562452cb36ccf69ec761257b939a4534
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 27 23:42:36 2017 +0300

    common/t*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1ee1cef19194982509aea7d12f057cd3df958251
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Oct 27 23:41:33 2017 +0300

    Do not double buy cost of Small Wonders

    See hrm Bug #706727

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit db6c5f4c94370ca95676466a98a3243ed513c2e7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 24 21:23:10 2017 +0300

    Fix type "Recyled" -> "Recycled"

    See hrm Bug #705991

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e2e37f1de84a760c613bfefca41edf84bd0ad157
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 24 21:19:30 2017 +0300

    Reduce autosettler want for road connectivity on hex map

    As there's a limit how low we can make the road connectivity bonus,
    especially with integer math, also increase wants for other autosettler
    activities to make them more wanted in relation to road connectivity.

    See hrm Bug #703839

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2dc87be216731cf21abce012ec793d3e44993539
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 24 21:25:14 2017 +0300

    server/advisors: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 830707ef435412bb33bd81fe1e2015a897a84c48
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 24 21:16:07 2017 +0300

    Threaded settlers: Do not count road connectivity bonus to city benefit

    See hrm Bug #706211

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 39e78f040d4628a75805b6d13509d2bd8a69b1a4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 24 21:24:27 2017 +0300

    common/s*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2af50146577f113dabd79900c1a97109ec665259
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Oct 22 12:35:21 2017 +0100

    Reword ruleset comments about rule_name.

    Spell out more explicitly what you need to do if you're renaming something.
    Reported by GriffonSpade on the forum.

    Some unrelated formatting changes to make rulesets consistent with each
    other.

    See hrm bug #705526.

commit fac0792b0137ce043eae3967fbd24fa406d4f8b3
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Oct 22 12:25:39 2017 +0100

    Add scripts/spec_propagate.sh.

    This is a development script to propagate changes across all rulesets on
    a branch.

    See hrm feature #705525.

commit 8ae2d858c1b3223f8ebd173341e970fdeb79a2b5
Merge: d4ee3243ae a8593c43d8
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Oct 24 23:26:01 2017 +0200

    Merge branch 'master' of https://github.com/freeciv/freeciv

commit d4ee3243ae0f5fcaca385488073b68b40e7e1604
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Oct 24 23:25:44 2017 +0200

    Fixed SDL audio playing only 1 sound,broken in hrm Bug #695946

    See hrm Bug #705553

commit a8593c43d8a86994e423a8452a0a2832d7c3fabd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 21 13:07:00 2017 +0300

    common/r*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ac43f31cb9c799973f7247751132ef8941f6f4ee
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 21 12:53:56 2017 +0300

    Add frame_by_frame mode explosion animation for battles

    Traditional hitpoints reduction part of the battle animation
    is left to later ticket.

    See hrm Feature #704182

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b21332a7e6f93e23ccead15eeeb1b710d81cc6f0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 21 13:01:22 2017 +0300

    Make Bridge requirements property of Extras

    - For extras, add 'bridged_over' list of other extras that prevent
      building it if no bridge building tech is known.
    - Remove thus obsoleted road flags "RequiresBridge" and
      "PreventsOtherRoads"

    This required rearrangements to functions used to query if
    extra, base, or road can be built as now all of them have to check
    if extra bridging requirements are fulfilled.

    See hrm Feature #704288

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bbbf498fe5976c356759b0abf7cb9994a8d9c575
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 21 12:52:17 2017 +0300

    Avoid duplication of '+' in VERSION_REV when VERSION_LABEL ends to one

    Old implementation only considered the case where VERSION_LABEL was
    exactly "+", not for example "beta1+"

    See hrm Bug #705391

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d65cd050d87f8e7fe78b175d6d1f92249737be87
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sun Oct 22 21:33:14 2017 +0200

    Qt client - fixed height of line in chat.

    See hrm Bug #704929

commit f1f36484d19ca1a889b8c8d2ff0f215cb0b30687
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sun Oct 22 21:26:29 2017 +0200

    Qt client- fixed segfault at show_tileset_error when qapp is not running.
    Reported by Christian Knoke.

    See hrm Bug #704711

commit 01d268a3813ef41d398a64fcdaa0c8845864cfb7
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sun Oct 22 21:22:01 2017 +0200

    Qt client, progressbar - draw text after icon

    See hrm Bug #704608

commit 7ec513414edc3f3f0ae34dbade45f5a9fd9be01b
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sun Oct 22 21:18:46 2017 +0200

    Qt client , city worklist - move attack/def/movement values to tooltip

    See hrm Feature #704607

commit 43a9bdd49084345dbde7b0debbe053b260e56cdb
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sun Oct 22 21:14:55 2017 +0200

    Qt client - connect on double click in network page

    See hrm Feature #704602

commit 0686396224825641c5996ce9aec143f7f8dfa973
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 21 20:36:24 2017 +0300

    Correct astr_buffer_free() header comment.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 73351ab2615adec72f6f2652657bbccd95a610bc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 16 20:22:24 2017 +0300

    common/[np]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ae1b94c99c2476e4f8ec1c39230b120409704905
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 16 19:57:18 2017 +0300

    msys2: Install gschemas.compiled as part of gtk3 environment

    Reported by Andreas RÃ¸sdal

    See hrm Bug #701889

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5c262264b6546daaa120a8a633bbd378989b1391
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 16 19:59:33 2017 +0300

    README.AI_modules: Update to the fact that threaded AI is built by default

    See hrm Bug #703843

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9dade259765dd99cf772ce6a743f8abaf8c074d2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Oct 16 07:51:05 2017 +0200

    Update "Spy" utype flag ruledit comment

    so it matches the changes done in hrm Feature #694112.

    Reported by Marko Lindqvist

    See hrm Feature #694112

commit 79d628ed50724503966f82e02e5d1a9843dcad63
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 16 20:07:11 2017 +0300

    Update large Earth scenario

    - Fix typos in startpositions
    - Enable 'startcity'
    - Adjusted Aborigines startpos
    - Added startpos for Polish

    Patch by Rhue of L

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6bf957b458ff9627fd63ded0f2100f2b3380a7c8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 16 20:22:05 2017 +0300

    common/m*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dd1466a2810505ee1b59b69dff2fdac6ca608b0c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 16 19:28:35 2017 +0300

    gtk3-clients: Set transient parent for city dialog popups

    See hrm Bug #703869

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 38bd3cb7601b7658dd00315b13c2e62e8cf765e8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 14 19:45:33 2017 +0300

    common/i*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4af6608a0502de9f3c4958b59eca45b0ea58df3d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 14 19:44:27 2017 +0300

    Gtk3.22-client: Set frame_by_frame animation mode

    See hrm Feature #700641

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9436f776839a23833f61b479707573aeaedab14d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 14 19:43:30 2017 +0300

    installer_legacy: Install gschemas.compiled as part of gtk3 environment

    Reported by Andreas RÃ¸sdal

    See hrm Bug #701751

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d2ac8fd59ce4e9bbc16b09ee09a5479872249aef
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 11 06:57:12 2017 +0300

    common/g*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6938051297f242b6000c78062d8d41c307714e5f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 11 08:05:15 2017 +0300

    installer_cross: Add GSettings schemas to gtk3 environment

    Reported by Andreas RÃ¸sdal

    See hrm Bug #701890

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1078819b08576c3540a539b2b8f6821293315505
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 11 07:32:20 2017 +0300

    winsock2.m4: Restore correct value for ac_includes_default

    See hrm Bug #702806

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3aa0711545b3f4e7f63bfcefa562df09d794c781
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 7 06:18:09 2017 +0300

    Be prepared for "city_size_change" lua script to destroy a city

    See hrm Bug #701045

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a1d7508395e557a49597f3ae10c771a233f1af83
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 7 06:20:26 2017 +0300

    common/networking: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cfd559a4ba2db94c09843c2ad9e9162b4295e07c
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Oct 10 10:21:41 2017 +0200

    Qt-client - Fixed Travis build failing for qt client.
    Reported by  Marko Lindqvist.

    See hrm Bug #702406

commit ff8e09dc31d8d4f8f826e2e79e9bd60232f795e8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 7 06:18:31 2017 +0300

    Tutorial: Listen city_size_change signal instead of deprecated city_growth

    Reported by frank e

    See hrm Bug #700909

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d86c969dfff6063c55114e8f56f7ec05da84de8e
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Oct 9 19:50:24 2017 +0200

    Qt-client - updated signal-slot syntax to Qt5 style

    See hrm Bug #701840

commit 30b1712be5d77011f8715acd40571f1d1dfd2856
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 7 06:20:04 2017 +0300

    common/f*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 06ae20f9d7a757ca47ac842ab622d8fa4d9df4f4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 7 06:19:34 2017 +0300

    common/scriptcore: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 02ccfc927f2077524c362e177e19bd7036d1690a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 7 06:17:05 2017 +0300

    Add movement animations support to frame_by_frame mode

    See hrm Feature #700642

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9dbc563882509d55ec7e78aa4013871388365d50
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 7 06:56:04 2017 +0300

    Copy trident.tilespec as baseline for 3d.tilespec

    Initially the only difference between 'trident' and '3d' is that
    latter has type="3D"

    See hrm Feature #697710

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 322224a74f34f922d1b883296c008c49b708492c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 7 06:19:03 2017 +0300

    freeciv-server man-page: Update list of rulesets

    See hrm Bug #700291

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b1fb9d41dab5a58e454ad523520f4078f9f4cdbc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Oct 7 06:17:47 2017 +0300

    Emit "city_size_change" only after city size change has taken effect

    Reported by Jacob Nevins

    See hrm Bug #690756

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8f433b15f8a1fd26637e03a2d18978b2b4afef8f
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sat Oct 7 22:35:40 2017 +0200

    Fixed Qt-client: assertion 'action_id_exists(action_id)' failed.
    Reported by Marko Lindqvist

    See hrm Bug #696006

commit 353a515d689bc54dd1959e9601c6d22e5bf8dfe6
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sat Oct 7 22:30:09 2017 +0200

    Client - Remove dead code.

    See hrm Bug #695946

commit a7316a9e2a58d246c7a0a3cf1494dabb45a47d4a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Oct 4 04:45:41 2017 +0300

    Disable the "Turn Done" button in fixed-length gameplay

    Requested by S.C. L. (Caedo)

    See hrm Feature #700675

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8604dcd0bcd0821a1095648ad3bf129272565af9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 3 04:16:08 2017 +0300

    common/e*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ddfbc0b3e2f12b8ac3410ab0dbd2c3880f87b5dd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 3 06:12:16 2017 +0300

    TODO: Do not refer to non-existent www.freeciv.org TODO page

    See hrm Bug #700718

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e4e2c01d438438459d7f0b7420a8cbfe15101466
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 3 04:05:17 2017 +0300

    Emit city_size_change signal only after successful size change

    Reported by frank e

    See hrm Bug #700910

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1b99a0800cfc02e545e6526519131eb996e05098
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Oct 3 04:27:57 2017 +0300

    Tex AI: Run military advisor in worker thread

    See hrm Feature #697715

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 258202df4e22dedc23cc2ab136f5c959b0af4401
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 1 04:20:01 2017 +0300

    common/d*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1500a433a7141bd33392b0494eea832d3059b51b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 1 04:18:01 2017 +0300

    Clear full mapview with below one zoom levels

    See hrm Bug #638737

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1030d83e26ada57e624bd8f94f8213184de1da8d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 1 04:15:26 2017 +0300

    Send no-resource info of a tile as MAX_EXTRA_TYPES

    Reported by Jacob Nevins

    See hrm Bug #681864

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dfacded8d4da7df0f6e6e622794ed68d9ccddcc4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 1 04:16:52 2017 +0300

    Alien: Rename Irrigation as Greenhouses, Farmland as Protein Houses

    See hrm Feature #700626

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a9209c6d43d55477ca8dedb1bb274106eb5db646
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 2 01:27:18 2017 +0300

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 410f29902729d3e1f0035e75161b0db545b05f91
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Oct 2 01:24:50 2017 +0300

    Sandbox: Mark Hermit's Place's helptext no-c-format

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b0ec84e8517735145428dceabe54ed6d688fdde6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 1 04:17:12 2017 +0300

    Fix pluralization of trade bonus message

    See hrm Bug #657416

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4364f730f851e10a0938378b5b390ff10f0603d5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 1 04:17:31 2017 +0300

    Fix converting pre-2.6 savegame specials to extras

    Reported by Sveinung Kvilhaugsvik

    See hrm Bug #657401

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 754f684c8f879f5b2ee54f37ccbab24ba247641d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 1 04:44:00 2017 +0300

    Add mostly dummy set_frame_by_frame_animation()

    In the future this will be needed for gtk4 drawing model.

    See hrm Feature #696457

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit eef6b23c19fdbc3686d8a1b8413e373075dda127
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 1 04:16:01 2017 +0300

    Enable AI to build ocean workers

    See hrm Feature #664183

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fe14b722fbcd352071acb2caaf81963a2959acab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 1 04:16:21 2017 +0300

    Increase AI want to win the game via spacerace

    See hrm Feature #660489

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ea20305391239807a8c25814d721e962750dba0e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 1 04:18:38 2017 +0300

    Tex AI: Allocate advisor data structures for cities on tex map

    See hrm Feature #700049

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9c700cfea1188799e01a22167101b64ecd20e22a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Oct 1 04:19:42 2017 +0300

    common/c*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cfe799d79d55e72cce524d9b7ed6b95141199609
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 30 01:54:48 2017 +0300

    Comment typofix: sucess -> success

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2dbf0d3fcb36ee2a978158b7ebdc8e73bdd47825
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 29 23:26:18 2017 +0300

    README.nations: Correct minor details

    - data/default/nations.ruleset -> data/default/nationlist.ruleset
    - data/scenario/               -> data/scenarios/
    - tranlations                  -> translations

    See hrm Feature #700290

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a855119ec34f5db7059f8ace480879b17b48f5c5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 29 00:10:24 2017 +0300

    common/aicore: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 15d62ab823a82fdb88a37231ca4433f03ae36fb8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 28 23:59:53 2017 +0300

    Alio: Add Hills

    Art from GriffonSpade's AmplioHexBig tileset

    See hrm Feature #699504

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5004c3bb6b13f6844dcc4d53f611cca766e9f7dd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 29 02:01:26 2017 +0300

    Comment typofix; exept -> except

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 16a06b27165300544440c0d7fd202a0e59cbbf1a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 29 00:06:43 2017 +0300

    Tex AI: Remove destroyed unit from tex map, not main map

    See hrm Bug #700050

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0cced005a8de44b3464936b150f90c13a18bee2d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 29 00:10:01 2017 +0300

    CodingStyle: Update for doxygen format function header

    See hrm Feature #699771

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ed44d64f00af9ba75cd2c88f2e0d03971eb0f07f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 29 00:04:27 2017 +0300

    Save list of ai types to the savegame if game already running

    Do not save them in map-only scenarios

    See hrm Feature #697656

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c5b4a3d63852fad0a21c279c6626b30cb474b3cc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 28 05:03:16 2017 +0300

    common/[ab]*: Mark function headers as doxygen function descriptions

    See hrm Feature #699770

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit af206b9f9e19c2eadc8678887be589dde5185d56
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 28 05:00:49 2017 +0300

    Fix malformed error message format

    See hrm Bug #697541

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3f7452180bc573cfe3445463a1bcfa487d32141d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 28 05:01:40 2017 +0300

    Hexemplio: Locate patrol icon like autosettler icon

    See hrm Bug #686635

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 70018f2a77f62604b5a952ce011a05346f7e602a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 28 05:02:36 2017 +0300

    README.packaging: List gtk3x-client as new feature

    See hrm Bug #699708

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bc65c3362635f11ae1f3f992e99aa07f87b1492d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 28 06:26:31 2017 +0300

    alio/burrowtubes.spec: Correct capability string

    See hrm Bug #700055

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 749732c1f3ab4fd63bd4458379c5e141fbed752e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 26 04:14:34 2017 +0300

    Show popup for server operator messages by default

    See hrm Bug #690212

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b7197b613615b786ef910d4fe33ec5f1b4f32d27
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 28 02:38:57 2017 +0300

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f933a8b9ae5c134646a89d3ffcf66feda6bfa25d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 26 04:13:01 2017 +0300

    Sandbox: Unify Fortress and Airbase helptext with civ2civ3

    See hrm Feature #698845

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f72c08bf881c67ab352ed7e2e72e27b3ffa6e638
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 26 05:32:07 2017 +0300

    gtk3-clients: set transient parent for info popup windows

    See hrm Bug #699488

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0b333186827fa66ef03dbf80414226441fefe0a7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 26 04:15:54 2017 +0300

    dos2unix alio.tilespec

    See hrm Task #699482

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f19e36a69eb7a3b6f08f3517436046937070daf4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 26 04:15:20 2017 +0300

    Alio: Add burrow tubes gfx

    Art from GriffonSpade's AmplioHexBig

    See hrm Feature #699480

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3db9ab166d4122ef0c55c0dc72dad59e388f06a3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 26 04:08:48 2017 +0300

    Tex AI: Copy all tiles to tex map once map generated or loaded

    See hrm Feature #699485

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c660c2605ab312ac63bec1965aa574ec638957ef
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 26 04:13:23 2017 +0300

    savecompat: Fix converting of separate victory settings to victories array

    See hrm Bug #698566

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a2f707d6eace2d3b34f5dc549037de040667d63f
Author: Konstantin Vedeneev <konved@gmail.com>
Date:   Wed Sep 27 16:03:55 2017 +0300

    Add Russian translation to the desktop shortcuts.

    See hrm Feature #697576

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bc8e74a9295b85161bcee91d0693d2699609a978
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 26 04:12:20 2017 +0300

    Support extrastyles other than Single1 for resources

    See hrm Feature #698981

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f0ad99812474ae58a1e7d923180a1b989f2cf8ed
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 23 21:25:12 2017 +0300

    tarball: Include europe_1900_WWI scenario instead of europe_1901

    See hrm Feature #698841

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e1e1a576f7aeed663ef5cb12e27833bc371dc937
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 25 02:23:48 2017 +0300

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3efcc4ce6fc60d7a11f397c9b73a0d466336a3c3
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Sep 24 22:19:09 2017 +0100

    Updated Spanish translation by Jordi Negrevernis i Font

    msgmerged from S2_5 ee904817b6. Stats on master:
    core: 74%: 5480 translated, 1217 fuzzy, 716 untranslated.

commit 1a00315cd3f6a327746e33ab2489dc7bdbc7ee77
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 22 23:20:06 2017 +0300

    doxygen: Document tools/

    See hrm Feature #699017

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 065a6433f129f2e1a222c3ff2dd0bcdeab653bba
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 24 01:06:47 2017 +0300

    nations/fi.po: Replace 'trunk' with 'master'

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8733562b2ad50b7c7e2aece75a88e86765f5bccb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 24 00:18:05 2017 +0300

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit efe119c0e61818c0ba47080ae2d2b37d8c50be78
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 21 23:46:01 2017 +0300

    europe_1900_WWI: Miscellaneous string-related tweaks

    See hrm Feature #698539

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8121d872e6483fb27408a58518eddc9dcb473ed3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 21 23:44:43 2017 +0300

    europe_1900_WWI: Set last_updated_as_year to FALSE

    See hrm Feature #698539

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 531b8211f1db4d31263b4bcec3f307d02e1225c2
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 21 23:43:15 2017 +0300

    europe_1900_WWI: Remove gameseed setting

    See hrm Feature #698539

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 199f996112e0b04e3cf751cf7827d7eab1b86fd6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 21 23:41:46 2017 +0300

    europe_1900_WWI: Move authors information from description to its own field

    See hrm Feature #698539

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0cb597255ab8b5466ebe556f78a97f58d9348b1b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 21 23:39:07 2017 +0300

    europe_1900_WWI: Don't use preset random

    See hrm Feature #698539

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1cbfafc6e2b547392e8c6aae1b95e0e8c59e6bd4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 21 23:36:38 2017 +0300

    europe_1900_WWI: Set cities to build Riflemen instead of Warriors

    Some cities were building obsolete Warriors

    See hrm Feature #698539

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 4168b92c30d2a52271e001aef582bc4f9729dfdd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 21 23:34:45 2017 +0300

    europe_1900_WWI: Set AI level to Hard

    See hrm Feature #698539

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0237a5393ab2b7e02fb1ae6d3e0a54821a13facb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 21 23:30:30 2017 +0300

    europe_1900_WWI: remove save name setting

    Use Freeciv's default in stead.

    See hrm Feature #698539

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 06aac9b4265d82b5d1f82fe47b08f6a4aeeecf85
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 21 23:28:37 2017 +0300

    europe_1900_WWI: remove score log settings

    Use Freeciv's default in stead.

    See hrm Feature #698539

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6a6b9b4758bd997d31c21d7b4ef18bb9baaef86e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 21 23:27:01 2017 +0300

    europe_1900_WWI: remove compression settings

    Don't specify compression level or kind. Use Freeciv's default in stead.

    See hrm Feature #698539

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c1ca57f0b8b37483c5f662c58b782ce5dc5c99d0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 22 22:54:08 2017 +0300

    Update Finnish translation of ruledit domain

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 812709fd4d742a9575e214fe7bd975031dc7bcba
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 22 01:24:39 2017 +0300

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d62f1bf6bb4b9792fd08693837b71d2c2c4f1e2f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 20 00:57:19 2017 +0300

    europe_1900_WWI: Add Roads to all tiles with Railroads

    See hrm Bug #698206

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1371160efac5c6406e82ca578e907085ac46d538
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 20 01:16:56 2017 +0300

    Correct path to packets.def in documentation

    See hrm Feature #698196

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit cf29f0bf91b6224411b6ebea064f8290d34d88af
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 20 01:10:53 2017 +0300

    INSTALL: Drop Solaris libXpm notes

    libxpm notes are no longer relevant as xaw-client has been dropped.

    See hrm Feature #698207

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 42a7e38059b1b940a99ccc411cb6af63b042aea9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 20 00:47:38 2017 +0300

    Add europe_1900_WWI.sav under version control

    Scenario by Ferdinand SteinkrÃ¼ger (a.k.a XYZ) and
    Jamie Troini (a.k.a. Nimrod)

    See hrm Task #698014

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit adf01b2d8ac2e099027db87e2c1332f0e0832772
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 20 00:47:03 2017 +0300

    Autosettlers: Calculate road bonus sensibly on hex map

    See hrm Bug #695738

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 202757ae461ddb5cd64cea95a6e4ff27f008d214
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 20 01:18:30 2017 +0300

    assess_danger(): Take civ_map as parameter and create reverse pf_map with it

    See hrm Feature #696910

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2afe0b92b4a9467cb4ffbdfb83b085fb16e24449
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 19 23:39:04 2017 +0300

    sdl2-client: Fix cma compilation

    See hrm Bug #695022

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 53424e56e84da0406e12eee8269a9052297d5c65
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 18 00:29:01 2017 +0300

    cm: Accept negative value in emergency situation

    See hrm Bug #695022

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c0f49b26a385ae3ab91a9f1d2752010e43e9dba7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 18 00:40:06 2017 +0300

    Allow building without tolua

    Tolua is not needed when building from tarball.

    See hrm Bug #675964

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0f58d6eb8d6b83bb9c2b8a0c0057515134f40b9d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 19 17:11:53 2017 +0300

    fc_version: Update Windows follow-tag comment

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b0ba680035ad6a0d0ecc33c679f58460aa811876
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Sep 17 14:38:41 2017 +0100

    Add another female Pirate leader.

    See hrm feature #697682.

commit 99c31262f741095e8fb7e8276e0eab9f15f36d62
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Sep 17 14:35:15 2017 +0100

    Fix Polynesian plural.

    See hrm bug #697681.

commit b12795e1d06c8290b3dc10b7320ac89b5781b1d1
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Sep 17 14:22:21 2017 +0100

    Rename culture "acts" as "points".

    See hrm feature #697680.

commit 6888c017edee7b7f94c4ea805f749d1c004b2187
Author: mir3x <mlewczuk80@gmail.com>
Date:   Sun Sep 17 11:19:39 2017 +0100

    Fix Gtk3 minimap refresh.

    Reported by Christian Knoke.

    See hrm bug #697658, gna bug #25318.

commit 01a1d10a2ea41ffb1522cd047ae9e05891d65af0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 13 21:07:41 2017 +0300

    Make AI to value science more than gold

    See hrm Feature #662670

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 91bf9a3dcfff152649565f985b84e06bdddc07bc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 13 21:59:39 2017 +0300

    is_my_zoc(): Take civ_map as parameter

    Replace hardcoded use of wld.map.

    See hrm Feature #696874

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f9a3f4010d8f067346748c18a2fa3d17e65d86f4
Author: Benno Lang <transmogribenno@gmail.com>
Date:   Sat Sep 16 01:02:53 2017 +0100

    Merge Esperanto core strings from S2_5.

    From commit 32c31dc577. Stats on master:
    core: 29%: 2178 translated, 2416 fuzzy, 2819 untranslated.

commit 2398a8ee54e4d98231a58bca0cbe2a205d15f89e
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Sep 14 00:38:24 2017 +0100

    Merge current S2_6 core en_GB translation

    From 9c14973479. master stats:
    core: 82%: 6082 translated, 904 fuzzy, 427 untranslated.

commit 221411d7fe7a761d1a45d7f1fb18693931e4db7d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 16 03:15:12 2017 +0300

    Add langstat files to .gitignore

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 49e5ac84e18a90b7f8449eb9949ff035cd21e00a
Author: dftec <dftec.es@gmail.com>
Date:   Mon Sep 11 20:02:04 2017 +0200

    civ2civ3: Lua script to place more labels on the map.

    It generates randomly one label for each different terrain (rivers
    included), taking a bit into account the surrounding terrain (mainly
    if coastal, isolated, or surrounded by same terrain).

    See hrm feature #659517.

commit 6eb2268d436e99456d47c26a284c460a5c1b02c3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 16 02:25:30 2017 +0300

    Add missing files to POTFILES.in

    gtk3x-client files are still left out intentionally.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 03884521955d3c3dd337f6c928b1d1b8e8e6ce60
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 16 01:33:27 2017 +0300

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c84ce356f5837b1c0a55895f6d32bfde9c069281
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 13 21:16:31 2017 +0300

    Check if military_advisor has already run before running it

    Currently AI always runs military_advisor in last_activities.
    To prepare for the future where texai may run it mid-turn, check
    if it's already run before running it in last_activities.

    See hrm Feature #696479

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 27b5a6fd4553f901bc5d9ffc235017c302e7d067
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 13 21:08:16 2017 +0300

    Add --with-3d configure option

    See hrm Feature #693692

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 944142c044acde41f54d61a839ebee3afc043de0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 13 21:14:23 2017 +0300

    Drop IPv6 Support check from the missinglist

    It's an hard error if IPv6 support cannot be enabled when not
    explicitly disabled, so there's no point in having it in missinglist.

    See hrm Feature #696615

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6bbddf96c032185fd7af3cbfd24861b567cc34d1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Sep 13 21:12:10 2017 +0300

    README: Do not list clients capable of starting server

    All the clients are able to start the server, so no need to list
    all of them individually.

    See hrm Feature #696614

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7f6c21522ec588f71d30fe8f7c478b608778b04f
Author: mir3x <mlewczuk80@gmail.com>
Date:   Thu Sep 14 23:17:19 2017 +0200

    Scaling - Fixed some offsets which were not scalled.

    See hrm Bug #696435

commit 56694daa0deda4bf93103ab967d05fd44e46dc66
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 14 17:11:09 2017 +0300

    dos2unix README.civ2civ3

    See hrm Task #695996

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0fde76e645bc62ab28ea8ecf1cb925d3618a3a29
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Sep 14 00:38:24 2017 +0100

    Merge current S2_6 en_GB translation

    From 0ef03b0634. master stats:
    core: 82%: 6032 translated, 869 fuzzy, 430 untranslated.
    nations: 100%: 1843 translated.
    ruledit: 72%: 63 translated, 10 fuzzy, 15 untranslated.

commit 43360a83c810f121400688b7f36b7691c298cf3c
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Sep 14 00:33:12 2017 +0100

    Update POTFILES.in after hrm feature #688329.

commit 55945b78d059ac12173005430ab94291c1adc433
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Sep 12 10:22:16 2017 +0100

    Miscellaneous string-related tweaks.

    Rewordings, pluralisation, correct parts of speech in substitution.

    See hrm bug #689474.

commit fe899dabede9306f33a58241e1eb23eaa326546f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 12 07:51:16 2017 +0300

    Use pf_parameter->map consistently

    Change all the hardcoded pathfinding references to &(wld.map)
    to use pf_parameter->map instead.

    See hrm Feature #696474

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7c8d193d062834afd6aa6c91fdd5e2018546d34a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 12 03:42:33 2017 +0300

    Ruledit: Add effect value editing

    See hrm Feature #696455

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aa913b9244f8b244e69649a7f5986254e77fc3c6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 12 00:03:25 2017 +0300

    README.effects: Use 'type' instead of 'name' in example

    See hrm Bug #696433

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 67df02f4d8e36e028a2814701e5a60a2eb0d6582
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 11 23:12:58 2017 +0300

    Travis CI: Build sdl2-client

    See hrm Feature #696426

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a90e4087d43fce227d266847a093c248865a1744
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Sep 11 23:09:28 2017 +0300

    Notify clients if saving of the game fails

    Reported by Christian Knoke <chrisk>

    See hrm Feature #657139

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit db52ed80323f956d0a318c74b564fe3ad010a277
Author: dftec <dftec.es@gmail.com>
Date:   Mon Sep 11 01:43:18 2017 +0300

    civ2civ3: Tribal +1 content, Federation +2 luxury.

    Tribal gets 1 extra content per city instead of martial law.
    Federation gets 2 extra luxury per city instead of 3.
    Switch empire size of Tribal (now 12) and Monarchy (now 14).
    Set Monarchy as better than Despotism for the AI, and Republic better than Tribal.

    See hrm feature #696065.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 42d6cb1a38bf2dd8dbb8d9d778688caa401edd78
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Sep 10 16:41:15 2017 +0100

    Graphics for Ecclesiastical Palace.

    Source is public domain photo of Potala Palace in Lhasa, Tibet,
    by (WT-en) SONORAMA at English Wikivoyage (Own work), via Wikimedia Commons.

    Adapted as large building by David Fernandez (bard@hostedredmine) and
    as small building by "frank e" (aka dunnoob). Spec/Makefile changes by me.

    See hrm feature #657388.

commit 79d4dd8fc783f65e5c8593dfc44d0a7ff2ffc627
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Sep 10 13:53:45 2017 +0100

    Add oil_rig to Amplio tileset.

    This is the last tileset in git without distinct graphics for civ2civ3's
    Oil Platform.

    See hrm feature #696028.

commit 7ada6f22edafb16a5cd6694eaff6ca490582a695
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Sep 10 13:35:44 2017 +0100

    Enable client heartbeat by default.

    See hrm feature #693269.

commit fe525de0296ef6e38936905305804286a1613b48
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Sep 10 12:43:29 2017 +0100

    Fix full city bar drawing with non-default zoom.

    Also, comment that canvas_put_line() has different semantics wrt zoom
    than other canvas_put functions (I wasn't quite brave enough to fix it
    now).

    See hrm bug #685277.

commit 0cb246717ef8932db286eddeba3f1a0a37206dbb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 10 03:23:41 2017 +0300

    Limit number of gold-upkeep military units AI builds

    See hrm Bug #696007

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 96f755bd3096f6ef4e71433ff09d72fdbd41f4ef
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Sep 11 20:37:53 2017 +0200

    Qt client - crop pixmap in progressbar

    See hrm Feature #696000

commit 9fb052ece46bff049cbd9d429bb1e2dfdf2fe67d
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Sep 11 20:35:27 2017 +0200

    Qt client - city dialog - use smooth scaling for items in production widget

    See hrm Feature #696001

commit 9313035def3ed5a8e485d8e4475dcf16387f96c3
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Sep 11 20:32:34 2017 +0200

    Qt client - toggle reports visiblity with shortcuts/icons instead just showing

    See hrm Feature #695926

commit 8591c3240ebba1517d22ca14ee045a2be643e2c7
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Sep 11 20:29:20 2017 +0200

    Qt client - remove deadstores (useless intitializations)

    See hrm Bug #695732

commit 98ed7f8a2bf508b73beded5ef3c560d8942f3cae
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Sep 11 20:25:34 2017 +0200

    Qt client - city dialog - fixed 3 potential memory leaks

    See hrm Bug #695360

commit ccd63f36ae195248e0c041b59c16e9f5e31f27bd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 9 23:27:00 2017 +0300

    Travis CI: Build tex AI

    See hrm Feature #696003

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f68898d53cc6df542b3be136079002ac8914ca26
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 9 19:47:38 2017 +0300

    Add dummy "3D" tileset type

    See hrm Feature #684342

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 96eb2548b34746c2799ab06004fa3c9c93bbdc61
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 10 04:04:15 2017 +0300

    Clarify that coast for UTYF_COAST unit must be SAFE coast

    See hrm Feature #696008

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8fbb5224246d98e678b87f4f9162a68de85554ab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 9 22:15:42 2017 +0300

    installer_cross: Build default AI types

    See hrm Feature #656548

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9317705e0b6d0de4d64a22ef0f5ee2912204ae3f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Sep 9 19:45:35 2017 +0300

    Travis CI: Build sound support

    See hrm Feature #695983

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 10340b0b9a076fab1f8131ecf5617e1d09a04c08
Author: dftec <dftec.es@gmail.com>
Date:   Sat Sep 9 23:31:18 2017 +0300

    civ2civ3: No upkeep for pop units.

    Units with cost of population (Settlers, Migrants and Fanatics) do not pay
    upkeep of Shields or Gold. But are taken into account for the upkeep of
    Food (except Fanatics under Fundamentalism).

    See hrm Feature #681977

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 47eb1af6aacb93e3886724bda02d58480d77b739
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Sep 7 14:01:01 2017 +0200

    Bad luck isn't expected tech theft.

    A tech thief can get caught because of bad luck or because the victim is
    expecting the tech theft and the action always gets the thief caught when the
    theft is expected. A tech theft is expected when the number of previous tech
    thefts is higher than the limit set by the the Stealings_Ignore effect
    allows.

    When a tech theft fails because the tech theft action can't steal if expected
    the thief's owner gets a special message that informs him that this is the
    case. This code wouldn't consider the Stealings_Ignore effect when deciding
    the reason for the failed theft. The consequence was false positives when the
    actor unit got caught because of bad luck in a city with one or more tech
    thefts even if the Stealings_Ignore effect made the tech theft unexpected.

    Correct the code responsible for informing a tech thief's owner that the
    reason why it was caught was the number of previous tech thefts.

    See hrm Bug #695662

commit 18dca0cc173386c8e8681f49693359801ee633c0
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Sep 2 15:53:06 2017 +0100

    civ2civ3: let Carriers transport Land units.

    Since Helicopters can transport Land units, and Carriers can
    transport Helicopters and their cargo at the same time. (There are
    however restrictions on embarking/disembarking land units.)

    Also, fixed the helptext of Helicopters that says "infantry units"
    because they can actually carry any unit of Land class, including
    infantry and cavalry.

    Patch by David Fernandez.

    See hrm feature #681866.

commit 03adf0b27efb5a4a8bc9cd79ee0eca71842b1677
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Sep 9 16:27:08 2017 +0100

    civ2civ3: Simplify Super Highways rules.

    City center tiles get the trade bonus (if they are generating any trade)
    regardless of whether they are also enjoying a farmland bonus.

    Suggested by David Fernandez (bard@hostedredmine).

    See hrm feature #695978.

commit 40241196a48b7c7e73dc1151f50e0b4279b51d13
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Sep 9 15:57:57 2017 +0100

    civ2civ3: fix Nile floods effect.

    Since hrm feature #681980, it was giving an irrigation bonus to Desert+River
    tiles even before irrigation was built on them. This change restores 2.5
    behavior (albeit with a different underlying implementation).

    See hrm bug #695979.

commit 064ca6f2fdecebe7ef83f26a9bc6126cdf1b93be
Author: Andreas RÃ¸sdal <andreas.rosdal@gmail.com>
Date:   Sun Sep 10 16:59:58 2017 +0200

    Speed up AI on Freeciv-web by limiting the distance it will search for threatening enemy units.

    See hrm Bug #695447

commit f93f3398c5172bdd2c8ba5e9c1496ff2a530298c
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Sep 10 14:41:20 2017 +0100

    Refresh NEWS for old versions from S2_5.

commit 20d6b9996666d440bff221021a6580f692a520ad
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 8 01:03:09 2017 +0300

    Avoid featured text control sequences in CITY_LOG() and UNIT_LOG()

    See hrm Bug #661108

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f825ccf634f0e749e9c8870771110ce474f85dcc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Sep 8 00:52:09 2017 +0300

    ruledit: Consider conflicting and hiding extras needed

    See hrm Bug #658576

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 04fbc36cbcaadd54dcb252cf84fcb595f3df9e6f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 7 23:43:35 2017 +0300

    Update README.fcdb to the fact that sqlite3 backend is built by default

    See hrm Feature #656098

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3c16ba4ce510890416801c779b037c1d1ce43a19
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 7 16:06:06 2017 +0300

    multiplayer: Darwin's Voyage gives only one advance

    Darwin's Voyage's balancing requested by mir3x

    See hrm Feature #692110

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1fd2fc4f9b60355fa61d1195bf2076954189dce4
Author: Christian Prochaska <cp.ml.freeciv.dev@googlemail.com>
Date:   Sat Sep 2 22:49:12 2017 +0200

    Updated msys1 environment (cairo)

    See hrm Bug #693241

commit c2a4848f947715e5f85cb87fd68a83e8bf2d9656
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 7 01:29:42 2017 +0300

    Travis CI: Build modpack installers

    See hrm Feature #695497

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a22f6385b6ef8164dadc093027465f1220a98336
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Sep 7 01:20:25 2017 +0300

    civ2civ3: Adjust Cheating AI effects

    Patch by David Fernandez (bard)

    See hrm Feature #681976

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0a414616886b1379e643a02f23e9119954e7dea0
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Sep 2 10:32:05 2017 +0100

    Gtk3.x: don't set info popup as app_paintable.

    Expected to solve a problem where the background of the popup is not drawn
    at all with some versions of Gtk3 on Windows.

    (These calls were already removed from gui-gtk-4.0 by hrm feature #647932.)

    Reported by S.C. L. (Caedo), based on a previous fix by
    Marko Lindqvist (cazfi).

    See hrm bug #694328.

commit 39f4256065532b720e39d91caea104242373e120
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Sep 5 10:18:21 2017 +0100

    Remove changes section from README.civ2civ3.

    This will be covered by the NEWS file instead.

    See hrm bug #685285.

commit f05019b33720624e6c46c2551f5682dd52ce5865
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Aug 30 13:31:20 2017 +0200

    "Spy" utype flag is dipl battle strength only.

    Document that the only remaining use of the "Spy" unit type flag is to make a
    unit stronger in diplomatic combat.

    See hrm Feature #694112

commit 2e84c5c03166753ddcfb3fffcd09706660ee4997
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Aug 28 10:09:11 2017 +0200

    Make expected steal depend on the action.

    Stop using the "Spy" utype flag to signal that a unit can try to steal a tech
    from a city even when expected. Start using the action in stead. Rename
    "Steal Tech Escape" to "Steal Tech Escape Expected" and
    "Targeted Steal Tech Escape" to "Targeted Steal Tech Escape Expected" to
    reflect this. (This isn't an action split.)

    Tech theft is expected when the number of previous tech thefts from the
    target city is above the limit set by the "Stealings_Ignore" effect. When
    tech theft is expected the difficulty of stealing a tech goes up. Certain
    units, like the classic ruleset's Diplomat unit, will always fail when this
    is the case.

    The actions "Steal Tech Escape" and "Targeted Steal Tech Escape" was
    introduced in 3.0 to cover post steal escaping, an ability that used to
    depend on the "Spy" unit type flag. By making them cover expected theft too
    in 3.0 there is no backwards compatibility need to cover variants like
    "escape after stealing a random tech but always caught when expected". Had
    this waited for 3.1 4 new actions (all combinations) would have been needed
    for backward compatibility.

    Should a combination of targeted/random, escape/non escape and "always caught
    when expected"/"sometimes not caught when expected" not covered in this patch
    be wanted for 3.0 it is possible to introduce them as new actions in follow
    up patches.

    See hrm Feature #694097

commit d714f58c78039c246e176af26b0af185e38df9cb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 5 02:49:09 2017 +0300

    civ2civ3: Replace Output_Inc_Tile by Mining_Pct and Irrigation_Pct

    Patch by David Fernandez (bard)

    See hrm Feature #681980

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 55b8aa1871e150c9b241db88bbc1e9666695bab0
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Sep 6 11:39:06 2017 +0200

    Qt client - fixed "Reset zoom to default" not restoing origianl font sizes.
    Reported by Jacob Nevins <jtn>

    See hrm Bug #691751

commit 358e04e30fa00c04cbd70671cc7f7fb42b2012ed
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 5 02:47:59 2017 +0300

    Drop version number and dimensions from names of scenario files

    See hrm Feature #688329

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 614d6f44155bbd6c543b7c5cf3a31dad9341f93a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 5 02:46:41 2017 +0300

    Travis CI: Build qt-client

    See hrm Feature #694803

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 65df080f59609cd37e098d86d39692c0c795a0f0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Sep 5 02:47:15 2017 +0300

    Fix tutorial description to speak of civ2civ3 ruleset

    See hrm Bug #694800

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 47111fb3ac855bb18439eeb741f15ae344aee8a7
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Sep 2 18:10:06 2017 +0100

    Look at more effects in city_tile_output().

    Many effects were skipped if not called in the context of a specific
    city/player, even though they weren't inherently tied to that
    context.

    This makes the values shown in the middle-click popup more accurate
    in some cases, and also affects the selection of start positions.
    Notably, civ2civ3's Desert+River irrigation bonus and Oil Well
    bonuses are now accounted for in these places.

    The specific effects are Output_Add_Tile, Output_Inc_Tile,
    Output_Per_Tile, Output_Penalty_Tile (unlikely to happen in practice),
    and Output_Inc_Tile_Celebrate (but no callers currently check this
    hypothetical case, so this one has no effect currently).

    See hrm bug #694736.

commit b097513ea57b2783a08e6138860e7a72592311ff
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Sep 2 15:56:57 2017 +0100

    experimental ruleset: enable cultural victory.

    (Just changing a setting default, so players can change this.)

    See hrm feature #694732.

commit 7a318e8a46c3ac60dc6efaf21d107e9efc8a73c2
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Sep 2 15:33:22 2017 +0100

    civ2civ3: remove NoPollution from Forest/Jungle.

    Because (a) as currently implemented it was preventing fallout on those
    tiles too, (b) it doesn't generally do anything to reduce the overall
    chances of pollution, which was the original intent.

    Patch by David Fernandez.

    See hrm feature #681860.

commit e9e960bd9504e022faf181e477fa83dc27229e92
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Sep 2 15:24:58 2017 +0100

    civ2civ3: Disable city centre minimum food.

    The only effect this has is that city centre tiles which are Desert will
    lose 1 food if mined.

    Patch by David Fernandez.

    See hrm feature #681856.

commit cf56e9ae4dedeac0c1f7048351636bece20f1a37
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Sep 2 14:42:13 2017 +0100

    Specify unit.outpost/airstrip for all tilesets.

    The tilesets changed here don't have distinct unit activity icons, and
    civ2civ3 was already using them via fallbacks, so there's no functional
    change for civ2civ3; but this means that some other ruleset can safely
    use outpost/airstrip as a fallback for something else.

    See hrm feature #657385.

commit 83bc4f138722aada4b7dc79ecc3a05155eb1c4da
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Sep 2 14:10:37 2017 +0100

    Airstrip/outpost graphics for isotrident/hex2t.

    Since isophex uses isotrident graphics, this completes support for these
    bases in the supplied tilesets.

    Airstrip is taken from Trident (and the recoloured airbase too, for contrast);
    outpost graphics were drawn by me.

    See hrm feature #657384.

commit 16a7729276c3f448413b465e27b4022742042c7f
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Sep 2 12:21:10 2017 +0100

    oil_rig graphic for trident, isotrident, hex2t.

    Copied from isophex (whose oil_rig is in turn based on oil_mine, and was
    adapted by GriffonSpade).

    See hrm feature #694717.

commit 6bde54a51de7da40c463c154795b20a8ee48f363
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Sep 3 23:24:00 2017 +0300

    Update Finnish translation

    This is just S3_0 fi.po msgmerged against master strings.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ce4f81cc9f265d9c2126196efc0713ee28601266
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 28 22:11:31 2017 +0300

    gtk3-client: Do not use CAIRO_OPERATOR_DIFFERENCE on windows with ancient cairo

    Crash reported by Griffon Spade

    See hrm Bug #693241

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 857c4fe6af4b13f99a5381dcf37d70510398ac15
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 29 00:04:27 2017 +0300

    Add tileset_type_set()

    See hrm Feature #693687

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6618f1d2d9219f5fbaf5a48c756a8a6f4265b090
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Aug 28 14:41:31 2017 +0100

    Update combat help for some 2.6 changes.

    Also note in comments where each described combat modification comes from.

    See hrm feature #693658.

commit f08238bb542c45b276303a95be80edca250c06f6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 28 22:20:17 2017 +0300

    Achievement Literate is about literacy percent, not absolute score

    Requested by David Fernandez (bard)

    See hrm Bug #685252

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bfe299eb02e547f1a5c1f07916c7c9a0f2aa1480
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 28 22:11:52 2017 +0300

    Explicitly set size of sequences array in generate_save_name()

    See hrm Bug #693442

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bbc45fc646fa353bf448a73ccd5c692949f947b8
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Aug 27 15:46:50 2017 +0100

    Fix typo'd comment in stub ruleset.

    See hrm bug #693398.

commit c900e803ef7c7243a4c1a9e5a18ee097a8bba25f
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Aug 27 12:48:20 2017 +0100

    Hexemplio Hills/Mountains tweak by GriffonSpade.

    "Removes the protruding 'tab' that extends from the top half of the left
    and right male connectors, reducing it to the rounded hill section."

    See hrm feature #693375.

commit 014ccf72e71ebfb39068901175b614c572b42fab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 29 00:07:06 2017 +0300

    dos2unix toonhex.tilespec

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0f4d0042db97acda69cd086639cb28aed42a821a
Author: Joan Creus <joan.creusandreu@gmail.com>
Date:   Mon Aug 28 19:28:52 2017 +0200

    Update to Catalan ruleset translation

commit aa81f0b2a93de1fa41a038fa0f42006dde4755d4
Author: Joan Creus <joan.creusandreu@gmail.com>
Date:   Mon Aug 28 19:14:11 2017 +0200

    Catalan translation update

commit d4f2767284ebebc1f2eee29dafd59aebcd04d4d3
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Aug 26 19:23:10 2017 +0100

    Stop referencing "airfield" in tilesets' extrastyles.

    It should be 'airstrip'. (For the civ2civ3 ruleset at least, we were
    getting away with no ill effects.)

    Reported against Hexemplio by GriffonSpade.

    See hrm bug #693242.

commit 15720d55ef50d3f1c5d45bc705d9b9115b491474
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Thu Aug 24 07:14:12 2017 +0200

    AI: consider the Stealings_Ignore effect.

    A city's server.steal is now modified by the Stealings_Ignore effect. Stop
    checking server.steal directly in the AI. Factor the code that modifies it
    into the new function diplomats_unignored_tech_stealings() and use it in the
    AI.

    See hrm Bug #691824

commit 8b9ca1a51850ca0ea00c9a9226595c62f1035f3e
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Aug 26 18:22:33 2017 +0100

    Fix error in comment about city radius.

    Report and patch by frank e (aka Dunnoob).

    See hrm bug #692486.

commit 71f3841e86c78f5c185e5f90f5d9607e98a5d469
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Aug 23 23:07:20 2017 +0100

    Hexemplio: fix glitches in numbers.

     - city/goto numbers: 1 and 9 one pixel too narrow
     - F/P/T: overflow "X" misaligned by one pixel

    Also remove long-unused "explode.nuke_00" etc.

    See hrm bug #692651.

commit 7f76a1c9c55d0d6d7001445dbde3dd7213aafbb3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Aug 21 13:01:37 2017 +0200

    Check rulesets as a part of Travis CI builds.

    Make Travis CI complain about rulesets to broken to load.

    See hrm Feature #692598

commit b3dc61c7a1e3e3fe0296021e2f5c8d912a35ea1c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Aug 21 15:11:52 2017 +0200

    Add the new rulesets_not_broken.sh test script.

    Manually checking that each ruleset developed with Freeciv loads is error
    prone. It is easy to forget a ruleset or to misread an error message followed
    by the loading of another ruleset as a successful load.

    Introduce the new script rulesets_not_broken.sh. It makes it easier to detect
    ruleset errors.

    Not hooked up to the build system or to Travis CI yet.

    See hrm Feature #692021

commit 96d3eec093dbb5f177300fd0cf3b11f82135bb49
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Aug 23 13:52:24 2017 +0200

    The fcdb server command needs --auth.

    Have the fcdb server command tell that it needs to be activated when the
    Freeciv server start when someone tries to use it without having activated it
    first.

    See hrm Bug #692525

commit 032c0fab7031db8dbc45c2588e1e46c41589dad2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Aug 22 18:25:31 2017 +0200

    Include <stdarg.h> to actions.c

    Found by tests/va_list.sh

    See hrm Bug #692342

commit 71d30ef4cf4bed00c5880fbbbb4cb3e32e57bb17
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Aug 21 13:32:59 2017 +0200

    Add an unsafe Lua environment example.

    Add the new ruleset_is.lua check. It checks the current ruleset directory and
    uses its exit status to signal if the ruleset is as expected.

    This serves as an example of what can be done with the lua server commands
    unsafe-* sub commands. I also intend to use it in test that checks that all
    the rulesets that lives in Freeciv's version control loads.

    See hrm Feature #692310

commit b5d03567c2dced27e0b591db9d7b6ea17e7ebb04
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Aug 21 14:34:45 2017 +0200

    Allow running unsafe Lua via server commands.

    Add the two new sub commands unsafe-cmd and unsafe-file to the lua server
    command. Limit access to it to the console and connections with cmdlevel
    'hack'.

    The new sub commands runs the script in an instance without the security
    restrictions of the instance where the ruleset, scenario and other lua sub
    command runs.

    Lua code from scenario savegames and rulesets will obviously not run in this
    context. (A user could be tricked to load an edited ruleset or savegame.)

    My main motivation for this feature is that I want the ability to write tests
    in Lua that communicates with the outside world.

    No signal support is currently included. Not sure if should be included. One
    the one hand it would make it easy to write certain tests. On the other hand
    its has security implications. Supporting the game signals allows a non hack
    player to run unsafe Lua code by triggering the signals it listens too. (The
    unsafe Lua that listens for signal must already be put there. Think social
    engineering and/or buggy unsafe Lua code.)

    See hrm Feature #692001

commit 68a3f97be1fec34f26b36d8ad1f89c0497624c2e
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Aug 21 21:27:16 2017 +0100

    Fix multiplayer ruleset Darwin's Voyage.

    An edit was missed during gna patch #6531, leading to a Lua error
    upon building Darwin's Voyage, and no free techs.

    Reported by "pungtryne" on the forum.

    See hrm bug #692096.

commit 1a5e494df91b10e2b937d51ac375c7b155b69c39
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Aug 21 16:27:33 2017 +0200

    Unit with "Spy" may not be able to escape.

    A unit type with the "Spy" utype flag may be unable to perform any actions
    where it can escape when done. Check for ability to perform escape actions
    rather than UTYF_SPY when determining if a "SuperSpy" can use it's ability
    to always escape.

    See hrm Bug #692039

commit 2eb551044cc58aeb5008524c67fc170ea23b0a8e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Aug 21 13:07:00 2017 +0200

    Fix civ2 ruleset syntax.

    Add missing comma. Already fixed in 3.0.

    See hrm Bug #691976

commit ecae69f14382e6586617a483c40c8aa792fe1dfd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun Aug 20 16:11:44 2017 +0200

    AI: check for Escape actions, not "Spy" flag.

    The AI tries to determine if a unit may survive a tech theft mission by
    looking if it has the "Spy" unit type flag. But surviving tech theft is now
    determined by what action is performed. Check for the ability to perform an
    tech theft action that involves escape instead.

    See hrm Bug #691825

commit b5012f25acbb5c6eb00744a6716665c8eef1688e
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Aug 20 12:49:29 2017 +0100

    Scenarios: add authors, update descriptions.

    See hrm feature #691819.

commit 4fc4be1453892c2a5990abedef5f3587cb24052c
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Aug 18 16:20:51 2017 +0200

    Escape split the action "Poison City".

    Stop relying on the "Spy" unit type flag to decide if performing the action
    "Poison City" consumes the actor unit. Split out a new action called
    "Poison City Escape" from the original action. The new action will have
    its actor try to escape. The original will always consume the actor unit.

    This is the last use of the "Spy" utype flag to determine if an action
    consumes a unit.

    See hrm Feature #691637

commit 4a3ff8dbe9c7038a835a5fe418b39c635c1024fc
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Aug 18 15:24:46 2017 +0200

    "Spy" utype flag implies "Diplomat".

    This in enforeced in sanity_check_ruleset_data(). Checking for the "Spy"
    unit type flag when the "Diplomat" unit type flag isn't found is therefore
    redundant.

    See hrm Feature #691620

commit e52d28737fd9f90e4a476ed042ef2adec4cfc3c4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Aug 18 14:37:03 2017 +0200

    civ1 and alien don't have city poisoning.

    Don't configure it.

    See hrm Bug #691609

commit a9e9227b2167087d3529b2d7bd64461ef7ead9dd
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Aug 19 23:16:43 2017 +0100

    Fix Qt format error in freeciv/fr.po.

    In consultation with "Igx The Dreaming Drummer..."

commit 1b65f10d324248f357fad214f027afe5eaaa806b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Fri Aug 11 02:50:24 2017 +0200

    Escape split the action "Sabotage Unit".

    Stop relying on the Spy unit type flag to decide if performing the action
    "Sabotage Unit" consumes the actor unit. Split out a new action called
    "Sabotage Unit Escape" from the original action. The new action will have
    its actor try to escape. The original will always consume the actor unit.

    See hrm Feature #691360

commit 17f6cc4a6d055a51e1a85d71ba6d29fea68746dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 14 06:58:36 2017 +0300

    Drop gratuitous i18n marking around muskogee.ruleset nation groups

    Reported by Jacob Nevins

    See hrm Bug #690152

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 82657195c185763779b3c4d5c1bcd74c842364c0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 13 23:19:25 2017 +0300

    Make max scorelog line length 120 bytes

    Reported by MÃ¡ximo CastaÃ±eda (lonemadmax)

    See hrm Bug #690381

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a8c65e848d54d1324c5895497b4902b1e5cd8c1b
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Aug 14 10:32:51 2017 +0200

    Explicitly set ui_name_steal_tech_escape

    so it is easy to discover how to rename the action.

    Reported by Marko Lindqvist

    See hrm Bug #690532

commit 744b109e7e359fe6382d6265ca67c05dee8394da
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Aug 13 15:27:28 2017 +0100

    Add "Performance" column to city report.

    Also, cope with incomplete client knowledge when breaking down culture
    in the city dialog.

    See hrm feature #690343.

commit cb3dec612fdc9460c0335dd48219ba7bd9681a71
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Aug 15 06:53:37 2017 +0300

    Copy FAQ version from S2_5

    See hrm Feature #690215

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3c271ed464f7660a32269b05955b29ff5fd7dc2b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 13 23:12:28 2017 +0300

    Fix civ2/game.ruleset syntax

    See hrm Bug #690203

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 354f15fd8438e63391c98fcaf33b69a7702852bd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Aug 14 01:50:38 2017 +0300

    Update Finnish translation of ruledit domain

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a25964c9ec88a285b574b86c025638b48e173f51
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Aug 13 08:41:46 2017 +0300

    Add startpositions for up to 89 nations to large earth scenario

    Patch by Rhue of L

    See hrm Feature #688280

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 78a7615007ccd92b899bce090bc55aae0e6c02e6
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Aug 7 23:14:59 2017 +0100

    es.po spot fix: fix "Migrants" translation.

    A stray leading space in the translation was causing this unit to
    appear nested in the help when using the Spanish translation.

    Report and fix by David Fernandez.

    See hrm bug #662732.

commit 5b5876f5ffad75cdd1fec14d13b0095302625757
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Aug 12 10:03:15 2017 +0300

    Update Finnish translation of nations

    Translations by Sini Ruohomaa

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d02bc3fad23d8d70cc0a6a4f346fb71c3d93299c
Author: Andreas RÃ¸sdal <andreas.rosdal@gmail.com>
Date:   Fri Aug 11 17:35:26 2017 +0200

    Test Travis CI build.

commit 5c911f6cf1052493d93a622d275038497f386a5c
Author: Andreas RÃ¸sdal <andreas.rosdal@gmail.com>
Date:   Fri Aug 11 17:32:08 2017 +0200

    Run server autogame as a test on Travis CI and add Travis CI build status to README.md.  See hrm issue #689652.

commit a3679329f965400d99e1c1639f892789f7287ca7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Aug 9 10:25:23 2017 +0200

    Escape split the tech theft actions.

    Stop relying on the Spy unit type flag to decide if performing the action
    "Steal Tech" or "Targeted Steal Tech" consumes the actor unit. Split the new
    actions "Steal Tech Escape" and "Targeted Steal Tech Escape" from the
    original actions. The new will have its actor try to escape. The original
    will always consume the actor unit.

    See hrm Feature #689526

commit c2eb422440afcb44b671c10212a55572c2a929c4
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 16 00:08:06 2016 +0100

    Miscellaneous string-related tweaks.

    Typo fixes, rewordings, TRANS comments, etc.

    See hrm bug #689474.

commit 2f24fe524fb112b9318f3a047c83b2a775b8973d
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Tue Aug 8 23:34:19 2017 +0100

    Fix strings using Lua research_name_translation().

    See hrm bug #689470.

commit 955282da10834f5c569b1b749a2d721b7cf738da
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Mon Aug 7 22:50:11 2017 +0100

    Add freeciv-gtk3.22 to .gitignore.

    Patch by Marcel Admiraal in hrm bug #688807.

commit edc1525206a0ad121b736a5cbe6cdc97306ba61b
Author: Christian Prochaska <cp.ml.freeciv.dev@googlemail.com>
Date:   Sun Jul 30 21:40:28 2017 +0200

    Updated msys1 environment (toolchain)

    See hrm Bug #682703, Bug #681877, Bug #681643

commit 43da82865bae8623c5d8f906ea6c25a08e34e83a
Author: Andreas RÃ¸sdal <andreas.rosdal@gmail.com>
Date:   Sun Aug 6 10:38:09 2017 +0200

    Test of Travis CI.

commit 76db9c418f7649fce890973fa55266d7e524ae14
Author: Andreas RÃ¸sdal <andreas.rosdal@gmail.com>
Date:   Sun Aug 6 10:33:36 2017 +0200

    Add support for building Freeciv on Travis CI.

    See hrm Bug #688359.

    Signed-off-by: Andreas RÃ¸sdal <andrearo@pvv.ntnu.no>

commit 33f347b05e47815f482ab8483367dc8d4573401e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 4 17:31:26 2017 +0300

    Hexemplio: Move patrol icon to unitextras.png

    Activity offset is not applied to patrol icon, so it should not
    be in activities.png

    Reported by Griffon Spade

    See hrm Bug #686635

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b1d431695ea593945a3380e3b7b2ba42e2dfd7c0
Author: Joan Creus <joan.creusandreu@gmail.com>
Date:   Sat Aug 5 18:57:24 2017 -0700

    Updated Catalan translation

commit 1c315e037d6974cdbbef244fa0de5ec222a9643d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Aug 4 17:10:18 2017 +0300

    dos2unix hexemplio spec-files

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7ae3c00aaf8bef292ebe87670e50f3c28f4abdef
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 30 11:11:17 2017 +0300

    Document what icons are considered "Auto" for activity_offset purposes

    Reported by Griffon Spade

    See hrm Bug #686635

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit e510bd76eb74054ea1d8a9215b505fb233adf1d4
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Aug 1 21:58:29 2017 +0200

    Qt client - fixed icon aspect ratio not preserved in progress bar

    See hrm Bug #683173

commit f1d026ed5ee2dc975e7789756a8fafd7ffb88a53
Merge: bb3264f29b 90868129a4
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Aug 1 21:28:22 2017 +0200

    Merge branch 'master' of https://github.com/freeciv/freeciv

commit bb3264f29bd0e41d7e45d0e3b5b8cd6ab9d7c569
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Aug 1 21:22:43 2017 +0200

    Qt client - add menu option/shortuct to reset tileset to default scale
    Suggested by 'Griffon Spade'
    See hrm Feature #683166

commit 90868129a4c63df17663adf90e379a2b21f4ecd7
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Aug 1 21:22:43 2017 +0200

    m.txt

commit 378e3d5c641481edbd3aad85f896a1eaab748280
Author: mir3x <mlewczuk80@gmail.com>
Date:   Tue Aug 1 21:11:34 2017 +0200

    m.txt

commit d3425f0a38637471fb507279850e9ebb013cd229
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 29 08:03:38 2017 +0300

    Fix crash on audio tag selection

    Wrong version of the Bug #683571 has been committed, resulting in a
    segfault in audio tag selection. This fixes it.

    See hrm Bug #683571

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 786587c6d4eba4696b410dea1b7253b1b8a71909
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jul 23 13:08:35 2017 +0100

    Remove unused isotrident/ocean.{png,spec}.

    These were added in 2007 (PR#35908), but never used or shipped.

    See hrm bug #678446.

commit fdbcade407d2808977796116feeef7fb2cab67e7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 23 00:10:33 2017 +0300

    Add topology compatibility levels

    Incompatibility of the non-hex iso and non-hex overhead topologies
    is considered only soft one, and causes no warnings. All other
    incompatibilities are hard ones and cause warnings.

    Requested by David Fernandez (bard)

    See hrm Feature #653727

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 50bc1d698b588a9545edaf72b5236ec79b00057c
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 22 09:59:11 2017 +0100

    Comment that citizens_graphic/alt don't work.

    They were defined in 2003, but never implemented.

    See hrm bug #685211.

commit 9c8d453d727529008c0e57509ee327e14e66102f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 19 13:25:53 2017 +0300

    Add missing dlls to msys2 based installers

    Reported by GriffonSpade

    See hrm Bug #684472

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c581592201bc65e5dbd0e94dd169d0edca8dd08c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 19 02:27:19 2017 +0300

    Fix track selection

    - Fix reselecting the only track matching the tag
    - Return correct track number when newly selected track
      has lower number than excluded track

    See hrm Bug #683571

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ad7e36950018b13576c25ae40c71626e127797e0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 19 17:23:25 2017 +0300

    Increase max number of players to 500

    See hrm Feature #677144

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit b5f94c4b83c3d71c8fdd49075a77516225e26fcf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 19 02:26:34 2017 +0300

    Reinitialize have_huts to FALSE when generating new map

    See hrm Bug #682576

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 7a9d3acfc9b6fe638a09de4fc3c4ccf96ff07aab
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 19 02:26:16 2017 +0300

    Occupied enemy cities always impose ZoC

    Even if there's only UTYF_NOZOC units inside.

    See hrm Bug #657406

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dd7764830e0a01be68fb6f49fb902f26d16b19fb
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 18 00:08:07 2017 +0300

    Set submarines to "Subsurface" vision layer in supplied rulesets

    See hrm Feature #682506

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0d789034c2415002571376d46db3698bd4e3c42f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 18 00:07:49 2017 +0300

    Add "vision_subs_sq" property to bases

    See hrm Feature #682512

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 71e428f643d3dea7c02ae968a9a966da146c952e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 18 00:07:28 2017 +0300

    Hide units at "Subsurface" vision layer

    See hrm Feature #682511

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6bc816b3c3f38ed8b92da1b911e26ab23a00326b
Author: dftec <dftec.es@gmail.com>
Date:   Sun Jul 16 10:52:15 2017 +0200

    civ2civ3: non consuming inv. city and est. emb.

    Having to waste 30 shields to know the defenders of an ancient city
    encourages blind attacks that are more based on the knowledge of the enemy
    player (or the AI) than on the actual situation of the game.

    Fix this by making agents survive city investigation.

    If tech leakage was enabled (and linked to embassies), a game against few
    players was different compared to many players when you needed to build one
    diplomat per embassy. (This affected the value of the Marco Polo wonder too)

    There was a huge difference when players could receive the embassies for
    free from a treaty compared to players that had to waste 30 shields per
    embassy.

    Fix the tech leakage issue by making agents survive embassy establishment.
    The alternative was to change tech leakage method. This way, where you have
    to visit a city of each player in order to reduce the cost of his known
    techs, is better.

    The AI likes to create embassies with every player. Non consuming embassy
    establishment may help it.

    Patch by David Fernandez

    See hrm Feature #683542

commit a3eae6467664f6e547b59631cc7c20ea01e0e0fd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 6 12:43:41 2017 +0200

    Make it easy to check act prob certainty.

    The new function action_prob_certain() checks if an action probability is
    certain the the action is enabled.

    See hrm Feature #674443

commit b2901867697c9c1a591b48b462ac3ec6285ee4e9
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jul 16 15:36:10 2017 +0100

    Casus belli changes player mood to combat.

    This affects the music system. It is provoked by a diplomatic incident
    (unit actions) or an alliance breaking due to an ally ending up at
    war, and naturally lasts for a turn or two.

    See hrm feature #683573.

commit 8762c8af7cb3f2250f355155ceb7c826084e8362
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jul 16 01:49:44 2017 +0100

    Refresh client on entering combat mood.

    This ensures that the music changes at the right time.

    See hrm bug #683572.

commit 1129b2931ede64b73520cd4105ceced69be2d5b0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 16 23:53:00 2017 +0300

    Check that "Fusion" style has been succesfully created

    See hrm Feature #683528

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d626b611306e1d04f555570f112d3d94c08fba5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 16 23:50:22 2017 +0300

    Add missing space to AI log message

    See hrm Bug #683175

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit df2916cf993c4090f11b57f8923795c961bd8228
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 16 23:50:03 2017 +0300

    Make help_widget::add_extras_of_act_for_terrain() label parameter const

    Reported by David Fernandez (bard)

    See hrm Bug #683512

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit a9d9c9a1bbe8f6de0486280c42bf7688646a186b
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 15 19:54:00 2017 +0100

    Document AI skill level handicaps etc in help.

    See hrm feature #683525.

commit 4beb5c163edc716da17b090b3352d798e557859e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 16 22:21:31 2017 +0300

    Add Subsurface vision layer

    See hrm Feature #679427

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ef6e8fabb7f7dfec35f3ee030bfdabc7aebdca80
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 15 19:54:35 2017 +0300

    Update tileset-demo scenario to S3_0 format

    See hrm Feature #677616

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f945c863f89944e3a98d340ac7d55f0cd835207d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 15 19:54:08 2017 +0300

    Update tutorial scenario to S3_0 format

    See hrm Feature #677617

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0160c227d971d4952a687ed9cd8422203eb6166d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 15 19:53:49 2017 +0300

    Update north america scenario to S3_0 format

    See hrm Feature #677615

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit bbf4ec9bd96291466e3f3032994f5c2956e91f51
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 15 19:53:27 2017 +0300

    Update japan scenario to S3_0 format

    See hrm Feature #677614

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 18fa4d1123f7fb03bbd2e2f4e3d5317a80be14c6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 15 22:18:48 2017 +0300

    Add exchndl.dll to msys2 installer packages

    See hrm Feature #683174

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 813e3fc064a35d2bc8e24bb093621a135e799b8a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 15 22:18:27 2017 +0300

    Update msys2 environment to 170714 level

    See hrm Task #682538

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2418b284a66659043bb9941c94df0ebda2b9675b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 14 02:28:22 2017 +0300

    Add librsvg-2-2.dll to msys2 gtk3- and gtk3.22-client installers

    Reported by GriffonSpade

    See hrm Bug #682832

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8ef8bb0bd74825aade4603b46ba75e6fc0be77a7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 14 01:49:42 2017 +0300

    Respect 'directory' parameter at qtg_get_useable_themes_in_directory()

    See hrm Bug #682731

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit db5eb4d69ad21ee1f510b314807f9cd67e7f3994
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 14 02:27:02 2017 +0300

    Make all river outlet sprites mandatory

    See hrm Feature #657130

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fdd25820e6523c4499a98244005cbf2c47fb8d8b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jul 14 02:26:39 2017 +0300

    Fix qt-client get_gui_theme_directories()

    Stopgag fixes
    - Call fileinfoname() with NULL second parameter, not ""
    - Support directory names longer than 255 bytes
    - Copy correct number of chars as name of the directory

    See hrm Bug #681311

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fedf6e2698a6cb06bf34c9000a4295c7c7d069d3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 12 07:45:42 2017 +0300

    Remove compress and compresstype settings from tileset-demo scenario

    See hrm Feature #682572

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 955bf3bca4437646c666d045f31133a5ebce7a4c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 12 03:51:11 2017 +0300

    Fix fileinfoname() crash in WIN32_NATIVE

    See hrm Bug #682522

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 56beb4419576749c81a451b1604ff15ca9c0ac0b
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 12 02:37:12 2017 +0300

    Use phase_seconds from the savegame

    Requested by Andreas RÃ¸sdal

    See hrm Feature #662023

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f5470150cfd038dfb6c0e20ab9f39095c849f3bf
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 12 02:38:28 2017 +0300

    Rulesave: Save base "vision_invis_sq"

    See hrm Bug #682513

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 20437a1535acda505f2fb8925ea1c09f5ddf4103
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 12 00:48:56 2017 +0300

    Update italy scenario to S3_0 format

    See hrm Feature #677613

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 58db60cf3cbd5edf6d627f5f3fe1977c6ca08915
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 12 00:48:39 2017 +0300

    Update iberian peninsula scenario to S3_0 format

    See hrm Feature #677612

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1437703779b40fdddeb2a150224f371bbcea018a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 12 00:48:22 2017 +0300

    Update hagworld scenario to S3_0 format

    See hrm Feature #677611

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 84233959d20b7300549c0a300c476f1f3060e2de
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jul 12 00:48:04 2017 +0300

    Update france scenario to S3_0 format

    See hrm Feature #677610

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit f7c27836fc1904a8241d187732785a5aaad8b0b3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jul 11 10:05:33 2017 +0200

    Split the building sabotage actions.

    Stop relying on the Spy unit type flag to decide if performing the action
    "Sabotage City" or "Targeted Sabotage City" consumes the actor unit. Split
    the new actions "Sabotage City Escape" and "Targeted Sabotage City Escape"
    from the original actions. The new will have its actor try to escape. The
    original will always consume the actor unit.

    See hrm Feature #682342

commit e65198e55b29155069de0050746a94d3e58575a7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jul 13 12:28:38 2017 +0300

    Update Finnish translation

    This is just S3_0 translation msgmerged to master.

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8911d272fabceac5fbe7717a1b4645c952e8b1fc
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 8 23:02:40 2017 +0100

    Isophex update from GriffonSpade.

     - Added lake terrain
     - Updated floor and coast
     - Changed river mouths to new versions
     - Fixed river connectors to all properly connect
     - Added new NW and SE river mouths (fixes hrm feature #657132)
     - Add distinct tx.oil_rig
     - Add ts.aluminum, elephant, rubber, saltpeter, uranium
     - Reorganise graphics/grids

    See hrm feature #680743.

commit 79ce0d89d665cfd568bbf0a19aac8769247b0870
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 11 18:46:05 2017 +0300

    Make PLAYER UINT16 type

    See hrm Feature #673993

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 603ee5ef00037c0fcb323b53cdc8810723fb1850
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 11 18:45:38 2017 +0300

    Do not make tile info window app paintable

    Reported by S.C. L. (Caedo)

    See hrm Bug #656549

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5702ad8fcfb267bdbb1e954b1bdb7083306d6624
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jul 11 18:45:10 2017 +0300

    Fix msys1 ruledit installer build

    See hrm Bug #680074

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ba2073703806fcbc4a9d483f8a1d19d2732bce84
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 8 19:57:05 2017 +0100

    Remove ZOC flag from civ2civ3/sandbox Sea units.

    It was mostly ineffective (deliberately) but caused misleading help.

    Patch by David Fernandez (bard@hostedredmine).

    See hrm bug #657408.

commit 92b8ab1a3b04e1ca36807d6f301c6bdfb7decd15
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 8 19:03:13 2017 +0100

    Fix client-side accounting for Traderoute_Pct.

    Was causing city dialog trade popup to contain "(unknown)" and sums not to
    add up.

    Reported by Marko Lindqvist (cazfi@hostedredmine).

    See hrm bug #660936.

commit 294257fd7426cc3464faeb3b0ddd04b24d3b5de8
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 8 16:42:39 2017 +0100

    Fix typo 'Andew Johnson' in american.ruleset.

    See hrm bug #681847.

commit 8e68cf96023f28d48bd7533adf96422800627145
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 8 16:08:52 2017 +0100

    Fix sandbox ruleset for Partial_Invis removal.

    This was missed in hrm feature #673389.

    See hrm bug #681855.

commit 47b040a3e3bec3fefe01d5ab3919ca757040ab64
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 9 00:58:29 2017 +0300

    Update europe-200x100 scenario to S3_0 format

    See hrm Feature #677618

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6c0e5401889a6a2864ad84c859f9b565fb03608f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 9 00:58:12 2017 +0300

    Update europe_1901 scenario to S3_0 format

    See hrm Feature #677609

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 820d4bf686bb275efa57377fd3d6e0f820aae2f9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 9 00:57:51 2017 +0300

    Update earth-80x50 scenario to S3_0 format

    See hrm Feature #677608

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 50e00749e7e86409a237efdfabe73ab967466678
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 9 00:57:29 2017 +0300

    Update earth-160x90 scenario to S3_0 format

    See hrm Feature #677607

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 69a5015fd183eebe129568f965f683df2052031d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 9 00:57:12 2017 +0300

    Update british-isles scenario to S3_0 format

    See hrm Feature #664358

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 675551cf90c23c7df9921196f81550e4b5dc4c8f
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 8 20:30:22 2017 +0100

    civ2civ3/sandbox: roads are AlwaysOnCityCenter.

    This is mainly to fix a gameplay glitch that Big Land units could not
    attack cities on rough terrain whose owners did not know
    Bridge Building, because their city had no roads. The side effect is
    that cities can be built to bridge rivers once again.

    Patch by David Fernandez (bard@hostedredmine).

    See hrm feature #676162.

commit ae6ece86e77b24c30b9c446c47457d8432f00197
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jul 8 22:48:04 2017 +0300

    Update msys2 environment to 170707 level

    See hrm Task #678380

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 471eb9c743aa8c3f649d3620edba0da3df95c774
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sat Jul 8 15:42:47 2017 +0100

    Prerequisites for civ2civ3/sandbox Oil Platform.

    Add extra requirements Miniaturization + Deep Ocean; this only
    reinforces what is already in effects.ruleset as Mining_Possible, but
    gives better online help.

    Also, conflict with Buoy, because having both in the same tile does not
    look good.

    Patch by David Fernandez (bard@hostedredmine).

    See hrm bug #650195.

commit d428d60e1e90e78cc1c8f015548e81f2f88447b7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jul 4 12:28:53 2017 +0200

    SDL client: centralize untargeted action choice.

    See hrm Feature #680862

commit 4160f5ea3e4e2fd6a7210a5ed18a7119a305c1bd
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Wed Jul 5 21:34:50 2017 +0100

    Add parent argument to some QAction constructors.

    Compile fix after hrm feature #675927, by mir3x and myself.

commit c4e2937922b536cb74e75d430406183eb0a62e6d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jul 3 14:33:31 2017 +0200

    Qt client: centralize untargeted action choice.

    See hrm Feature #680663

commit f70a58f1300ad5214c2eb9c3374b9d0d77a21f1f
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jul 3 15:03:02 2017 +0200

    GTK clients: centralize untargeted action choice.

    See hrm Feature #680662

commit 4ca3c27dc125e5b07bddbaa600281f06752d1511
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Jul 5 09:41:36 2017 +0200

    Qt client - add icon to progress bar
    Suggested by 'bard'
    See hrm Feature #677588

commit 758d43ffb759b71b06961cab5099553fbef470d7
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Jul 5 09:38:13 2017 +0200

    Qt client - added button with menu to change ai mode and ai level in player dialog
    Suggested by 'bard'
    See hrm Feature #675927

commit a148b8332082be6cb7df449b40ab5189f7a330b0
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Jul 5 09:34:29 2017 +0200

    Qt client - add information to tooltip about unit/improvements obsolescence
    Suggested by 'bard'
    See hrm Feature #673358

commit 674951a45f81b71feb7d222f2622b00f47737efb
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Jul 5 09:30:41 2017 +0200

    Qt client - added apply button to tax rates dialog.
    Suggested by 'bard'
    See hrm Feature #673361

commit 64597b7bf8575932d303f2d7985fbc2ca8530370
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Jul 5 09:15:02 2017 +0200

    Qt client - allow maximizing/minimizing chat via double click
    Suggested by 'bard'
    See hrm Feature #673598

commit b05db20fb2c6a884524fc93fa507d5e8e6618a05
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Jul 5 09:03:22 2017 +0200

    Qt client - governor not updated on first double click
    Reported by 'bard'
    See hrm Bug #673597

commit 2efe6b2d5954114d6f0110083b00d07b89300ede
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Jul 5 08:58:14 2017 +0200

    Qt client - recenter map shortcut not working during keyboardless goto
    Reported by 'bard'
    See hrm Bug #673353

commit b5ce211ef1d5a7873b91c83921efb74f47b48a34
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Jul 5 08:29:35 2017 +0200

    Qt client - added all missing links to help page
    See hrm Feature #663031

commit 77a52d45f39c468024fa23b5d01077ba94c7119d
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Jul 5 08:07:13 2017 +0200

    Qt client - add buttons next and previous topic in help dialog

    See hrm Feature #662639

commit 5538707932516cf046d236cfb23fcadd50a34d9f
Author: mir3x <mlewczuk80@gmail.com>
Date:   Wed Jul 5 08:02:58 2017 +0200

    Qt client - add scrollbars to unit selector

    See hrm Feature #662270

commit d834cc701e3a40c3f315ee7e007da91f82488008
Author: mir3x <mlewczuk80@gmail.com>
Date:   Mon Jul 3 23:36:43 2017 +0200

    Qt client - added loading/reloading lua script

    See hrm Feature #661842

commit 31dc99d42e00c1b96d8def8eb3b7025bb2c193a9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 2 23:33:08 2017 +0300

    Place cities and units to tex map

    See hrm Feature #664482

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d404227880c2f0c43e6faf1cd15e4afe0dd878dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 2 23:32:31 2017 +0300

    Add ocean workers count to default AI stats

    See hrm Feature #664181

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 30d43a885eca3482c1c32534c59a7d7cdd345849
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 2 00:53:38 2017 +0300

    Drop svn repository support

    See hrm Feature #679223

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3f2eaae60ebffccde812de11c9a688e400eec8a4
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jul 2 00:53:07 2017 +0300

    installer_cross: Execute gtk-update-icon-cache.exe when installing

    See hrm Feature #663289

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6a2c74f530dc6f62b2c98cd2a1664192bf1fc1cb
Author: Christian Prochaska <cp.ml.freeciv.dev@googlemail.com>
Date:   Sun Jun 25 23:25:53 2017 +0200

    Updated msys1 environment (git)

    See hrm Task #660908

commit af18a18f9338d853efe51bb912fcab25405cc029
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 28 22:07:59 2017 +0200

    Split the action "Steal Gold".

    Stop relying on the Spy unit type flag to decide if the "Steal Gold" action
    consumes the actor unit. Split the new action "Steal Gold Escape" from
    "Steal Gold". The former will have its actor try to escape. The latter will
    always consume the actor unit.

    See hrm Feature #679864

commit 5e299d90c1ea0014404bd970dbb8699b4ef9f3dd
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 6 11:33:39 2017 +0200

    Clarify that try_to_save_unit() is static.

    The function try_to_save_unit() is declared to be static in its prototype.
    Declare it static in its definition too.

    See hrm Feature #674435

commit 96f9104a69288ea82e0fe66559acfe153d4a5753
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun May 28 12:55:03 2017 +0200

    diplomat_bribe(): demote unique to assertion.

    The hard requirements of the "Bribe Unit" action includes a check that the
    target unit isn't an unique unit the actor player already has. The function
    diplomat_bribe() are never called with target unit like that. The check that
    the target unit isn't a unique unit the actor player already has can
    therefore be demoted to an assertion.

    See hrm Feature #664862

commit 70e9af01ee8ae0cc1eac9cb5ee3b1b5ba6d12f8e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 30 08:16:11 2017 +0300

    Replace unit type flag "Partial_Invis" with "vision_layer" field

    See hrm Feature #673389

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 183183683327a1bfbf2514aa0465bf1d76e266b5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 30 08:14:20 2017 +0300

    Upgrade pkg.m4 to serial 12

    See hrm Feature #677621

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ab21c336f305f5533ea7a71b432cd2a1427a2e5d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 30 08:13:48 2017 +0300

    Make aifill value PLAYER type

    See hrm Feature #677122

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 748378024f2fe68bd15d143160afe1056541b4c0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Fri Jun 30 08:13:13 2017 +0300

    Comment typofix: non-nantive -> non-native

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0d6c5d7d92bee377e8c477b7c6a81d3d323fb910
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 29 18:22:07 2017 +0300

    Send veteran system info raise_chance and work_raise_chance to the client

    Requested by Jacob Nevins <jtn>

    See hrm Feature #657285

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d5afb27ac7e65b707c12f41145eb41ded3c86ce7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 29 18:20:52 2017 +0300

    Comment typofix: "fullfilled" -> "fulfilled"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ab540b307038f0bbb8d98811acf4c77cd21d4529
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 29 18:20:08 2017 +0300

    Refresh stub ruleset units.ruleset embarks/disembarks documentation

    See hrm Feature #673640

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9e8b5652af8c0088db664dc3cc64452e70e7117a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 29 18:19:23 2017 +0300

    Make team number PLAYER type

    See hrm Feature #677112

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3775b922336cdf9f2b9fb556e07f36a3dfe9f1fd
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 29 18:18:38 2017 +0300

    Save seconds since phase begun to savegame

    Requested by Andreas RÃ¸sdal

    See hrm Feature #662023

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d2d87fa7725393e750d80de2b202b7cdad410ee6
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 29 18:18:17 2017 +0300

    installer_cross: place 7zipped build package under Output/

    See hrm Feature #664747

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 83760552f47ee7591cc38a5e4cca318903de91ff
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Thu Jun 29 18:17:28 2017 +0300

    Allocate tex map in 'map_alloc' callback

    See hrm Feature #664480

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 8701427e5c1c41f8b29db1294451cbc4767bbc00
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Thu Jun 29 00:19:16 2017 +0100

    Add some missing .gitignores.

commit 326d51a65bbaa6050421d56d7cc99a2990fb5e8d
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 26 16:46:41 2017 +0200

    Non enemy city blocks "Bombard" and "Attack".

    Hard coded rules prevents any unit from doing "Bombard" or "Attack" to units
    in non enemy cities. Detect this during action probability calculation
    before returning unknown because the units in the non enemy city aren't
    seen.

    See hrm Bug #679455

commit a8ed190fa0ea96767468a331d11d66daa0610868
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 6 08:46:58 2017 +0200

    Fix GTK client unit selection dialog memory leak.

    Don't leak memory when more than one unit is selected at once in the GTK
    clients' unit selection dialog.

    Found with Valgrind.

    See hrm Bug #674321

commit 8a65724f06fee3ea09493f89bfc4a1ddd7076fd3
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 28 10:18:55 2017 +0300

    Add ocean cities count to advisor stats

    See hrm Feature #662394

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0111a8b385aec3999670edfe103cfa076fa80f27
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 28 10:17:33 2017 +0300

    Do not draw to screen from map_canvas_resized()

    See hrm Bug #678972

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 3327b6a8ecd6f999382d95af906212565649a59c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 28 10:17:00 2017 +0300

    Connect mapview to "size-allocate" signal instead of "configure-event"

    See hrm Feature #678973

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 54950800e1be2d755ca4949ed6d01bfce678754a
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 28 10:16:27 2017 +0300

    Add "-pg" to LDFLAGS when profiling enabled

    See hrm Feature #678905

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 690415e471a784373d1e37fdaa782ec293c62224
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 28 10:16:06 2017 +0300

    Distribute tolua.pkg

    Reported by Jacob Nevins

    See hrm Bug #678447

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 912c47f779fcbbd0d09db3d7ceb7fc94f1c9f47c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 28 10:15:33 2017 +0300

    Do not list no longer existing gtk2-client

    See hrm Bug #677553

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ffbd3351b7ebde57ad3e8bddd9c7b99e195aed78
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 28 10:15:11 2017 +0300

    Increase priority of hexemplio to 30

    Reduce priority of amplio2 and cimpletoon to 25 to have highest
    priority on exemplio only, now that hex is the default.

    See hrm Feature #677149

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d40afb538c485921765c198ab458bb18fb31dfb0
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 28 10:14:44 2017 +0300

    Update crosser version to 1.3

    See hrm Feature #664435

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 465b290280708093c5bd6d7d440c40f8da776ae8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 28 10:13:52 2017 +0300

    Replace documentation references to subversion with git references

    See hrm Feature #664195

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit aa920684c2b3e372749d1b3b3c8c024d9a0b5cbc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Wed Jun 28 10:13:17 2017 +0300

    Clean out GGZDMOD flag references from freeciv-manual build

    See hrm Feature #665006

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 80cb578d401b99682d7cb99107531f69ef27bffe
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 27 18:52:22 2017 +0300

    Increase plain file buffer size to 8MB

    Reported by Andreas RÃ¸sdal

    See hrm Bug #679197

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d9c7ca653c2d0a9ccbbf458a361185e03e05bc50
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 27 18:51:56 2017 +0300

    Distribute README.tilesets

    Reported by Jacob Nevins

    See hrm Bug #678449

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 6a53fd740599d52a1635b32d1300534b1896df27
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 27 18:51:32 2017 +0300

    Fix "fullfilled" typo

    See hrm Bug #677799

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1692ed3615cee4e13794fcd9578251ed619f2a56
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 27 18:51:08 2017 +0300

    Comment typofix: "possiblity" -> "possibility"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 0c6877c64190488d141d18dc74b655324f713423
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 27 18:50:44 2017 +0300

    Cache is_server() in is_my_zoc()

    See hrm Feature #675731

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 69a00b375de637b6577de9f33807f017e39e4728
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 27 18:50:22 2017 +0300

    Use GTK3_22 CITYDLG_MIN|MAX_X|YSIZE in gtk3.22-client

    See hrm Bug #673892

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9534ac3e2aed77a075e7354624d0db11355f998d
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 27 18:49:00 2017 +0300

    Use gtk_drawing_area_set_draw_func() for map canvases

    Replace use of "draw" signal with gtk_drawing_area_set_draw_func()
    for map_canvas and overview_canvas.

    See hrm Feature #673887

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 90a7dba6dd7b5965ab1ebcb16d334e8cac7fb0dc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Tue Jun 27 18:48:26 2017 +0300

    Add 'map_alloc' and 'map_free' to AI callback API

    See hrm Feature #664479

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5dee3a20d07cb83071dbfd5455071d134c324520
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 13 14:57:14 2017 +0200

    webperimental: allow giving units to allies.

    See hrm Feature #676403

commit ba6796750d4858d207dbd34c94e4480f31e284be
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 13 16:00:13 2017 +0200

    Inform foreign unit receiver.

    A unit can be transferred to a foreign nation by setting its home city to
    a city owned by another player. Let the receiver know about the unit he was
    given.

    See hrm Feature #676658

commit 6ebac87a1111aa00b930f93d7967147e65b199c6
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed Jun 7 11:50:05 2017 +0200

    action_prob_vs_*(): detect known blocked actions.

    The probability of an action that is blocked by a known legal action being
    enabled is 0%. Detect this before potentially returning unknown for target
    specific reasons.

    See hrm Feature #674850

commit 5ba4cf3f3554dd51ef1455292ec00441f2b72170
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue Jun 6 09:43:28 2017 +0200

    More accurate unit_attack_unit_at_tile_result().

    A unit may be non civilian and have attack strength but still be unable to
    attack if it lacks the ability to perform any attack actions.

    See hrm Feature #674466

commit 7d78f65047609c3cfe189f8fca20795b685affc4
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 31 02:18:03 2017 +0200

    Tiles, not unit stacks, are owned by tile owner.

    See hrm Bug #672734

commit a3c03276cc5b7c97b37ea0a378427d4024b139f9
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 30 19:03:19 2017 +0200

    Remove redundant attack checks.

    Checking if a unit type can perform the "Attack" action or any (hostile)
    action is redundant after "Attack" became an action.

    See hrm Feature #672664

commit 09b3a68dd50db2f7ed23fb02837ccf6f4685d1c2
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 26 13:11:03 2017 +0200

    Action not enabled explain has unique target.

    Make the action not enabled explanation system detect that a target unit
    can't be bribed because it is unique and the actor player already got one.

    See hrm Feature #664843

commit ae86993e36db2c21a6f001b14eb8dd910f0016e7
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Wed May 31 17:59:09 2017 +0200

    Make can_player_attack_tile() static.

    It has no users outside the combat module.

    See hrm Feature #672917

commit 47ecb7718e8a044b019fdc5af092d3d7f0e87022
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 30 14:54:48 2017 +0200

    Make the "Attack" action unit stack targeted.

    When the "Attack" action was introduced in gna patch #7260 it was made tile
    targeted until the proper target class to evaluate its action enablers
    against could be determined. Releasing a version of Freeciv where the target
    is a tile would bind us to support DiplRel requirements against the owner of
    the tile the target unit is located at in future versions.

    The "Attack" action's current target requirements are made against three
    different target classes. Two of the target classes, "individual cities" and
    "unit stacks", are supported as action enabler target kinds. The last class,
    "any or, if the unreachableprotects server setting is enabled, all
    untransported units", has no current support in the action enabler system.

    The two candidates for the target to evaluate the "Attack" action's target
    requirement vector against are those about units. Each has a currently
    hardcoded unit requirement it alone can express. The unit stack target kind
    can express the "must be at war with all units in the stack" rule. The other
    target kind could, combined with the introduction of a new requirement type,
    have expressed the requirement that each/any non transported unit must be in
    a city, be in an extra native to it, not have the "Unreachable" unit class
    flag or belong to a unit type listed in the actor's targets.

    Choose the unit stack action target kind. Move the "must be at war with all
    units in the stack" rule to the action enabler as an obligatory hard
    requirement.

    A unit stack targeted "Attack" action makes ruleset authors able to specify
    requirements for all units in an attacked unit stack. Requirements for all
    non transported units in an attacked unit stacks can be achieved via the
    "Transported" UnitState requirement type property (and an action enabler
    that enables the action for a transported unit no matter what the non
    transported only requirements are).

    Should having "Attack" action enabler target requirements closely following
    the unreachableprotects server setting become important in the future it can
    still be implemented. One potential way to do it is by introducing a version
    of "Attack" that targets individual units. Its and Attack's action enablers
    should then be able to use the "ServerSetting" requirement type to determine
    what action should be enabled based on the unreachableprotects server
    setting value.

    See hrm Feature #672612

commit 50c2ade737d72dfcad1457a25fbbc7377d576400
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 29 10:10:23 2017 +0200

    Give freeciv-web access to unit upgrade cost.

    Make it possible to ask about unit upgrade cost in the unit_action_query
    packet and get a reply in the unit_action_answer packet. The bundled clients
    should be ported to make use of it if the upgrade cost starts relying on
    factors the player can't see.

    See hrm Feature #664985

commit 691c4796e93724ebe4fff1171bbd3bfb39320fda
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon May 29 09:55:34 2017 +0200

    Auto help: document action battle causing.

    Some actions can be stopped when a defender takes a risk in a battle against
    the actor to prevent the action. A regular attack gives the intended victim
    a chance to fight back. Some spy actions can be stopped by a defending
    Diplomat. Document what actions can be prevented by a battle.

    See hrm Feature #664955

commit 56566e7cb849d6861188a502e9e8d03283857146
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Sun May 28 12:36:03 2017 +0200

    Remove noop function do_unit_disband().

    The consequences of the action "Disband Unit" are handled by the action
    system. The function do_unit_disband() is therefore no longer needed.

    See hrm Feature #664845

commit 8b2c6fe68e30b7dea6a8aa9d7080d7c1eea63311
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 26 09:18:14 2017 +0200

    Comment spell fix: FLASE -> FALSE.

commit c68010aae97a3aacec0d1f8ec270824ae7f49f1e
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 26 09:10:00 2017 +0200

    Comment spell fix: untis -> units.

commit a7fb5df36cfeee5f728341f0f53e74095dafb885
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 26 09:03:50 2017 +0200

    Number header comment like the code.

commit a3ce6b4aab512ef7529cc85ee7d73e8316efcac5
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Mon Jun 26 08:43:41 2017 +0200

    Split the action "Steal Maps".

    Stop relying on the Spy unit type flag to decide if the "Steal Maps" action
    consumes the actor unit. Split the new action "Steal Maps Escape" from
    "Steal Maps". The former will have its actor try to escape. The latter will
    always consume the actor unit.

    This makes it possible to create a ruleset where all actor units, including
    those with the Spy utype flag, are consumed when stealing parts of a
    civilization's world map. It makes the opposite (everyone, including non Spy
    units, escapes) possible too. It also makes more complex rules possible.

    See hrm Feature #662943

commit 3022c17fe8178242242e7fb6fb46ff251eaa868f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 26 10:44:08 2017 +0300

    Comment typofix: "consiguration" -> "configuration"

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit fd3a02daef8342a30fde736f044b6001b518fe9c
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 26 10:43:44 2017 +0300

    Alien: List requirements for the tile to irrigate in Irrigation helptext

    See hrm Feature #677205

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 2170a6b60ea100498722fb0bdf25f078b0f88172
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 26 10:42:59 2017 +0300

    dos2unix hexemplio.tilespec

    See hrm Task #678454

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 76dcdf36551a5bf07aaf68505078da7a4a763da7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 26 10:42:33 2017 +0300

    Fix theoretical NULL dereference in base_fc_utf8_strlcpy_rep()

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dfd6f5c11f9a3b6c57a48a5db30faeaeb9d5b740
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 26 10:42:09 2017 +0300

    Macrofy is_extra_caused_by()

    See hrm Feature #675710

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 165ebde11b58063256abe87d519245a2a9579c25
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 26 10:40:54 2017 +0300

    Mark unit type flag Provoking for translation

    See hrm Bug #673388

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 11547e6d8f645a45432bbcb5632d064a369906f7
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 26 10:40:14 2017 +0300

    Add onetime_pct property for goods.

    See hrm Feature #672710

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 528f4a1958ca64ee8c3a5aabb805cfbaa82b9386
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 26 10:38:05 2017 +0300

    Add effects button to all tabs where it's applicable

    See hrm Feature #664438

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 73d22ab2a4c5a619c0278bf0b12299b89f0fcb82
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Mon Jun 26 10:37:31 2017 +0300

    Add internal support for runtime raw/json protocol selection

    See hrm Feature #664002

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 533c3181e79d9ecf2ca7844f24bf54f759578369
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 23 16:29:51 2017 +0200

    Fix typo "workist" to "worklist".

    See hrm Bug #662941

commit ff20b9cab99a30fe946e5bf8c41942cdc1851785
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 23 15:45:56 2017 +0200

    webperimental: reduce Manhattan Project power.

    The Manhattan Project allows its owner's Spy units to perform the action
    "Suitcase Nuke" or, depending on veteran level, "Suitcase Nuke Escape". It
    was made slightly less powerful in hrm Feature #661962 when informants (non
    veterans) and handlers (the first veteran level) lost the ability to escape
    after hiding the nuke in a city. Make it even less powerful by reducing the
    odds of successfully hiding a nuclear device.

    See hrm Feature #662938

commit 00d321c489fea661d6249fabd8d7ca2b18dddda3
Author: Sveinung Kvilhaugsvik <sveinung84@users.sourceforge.net>
Date:   Tue May 23 16:03:45 2017 +0200

    webperimental: introduce README.webperimental.

    Move history and differences from classic to README.webperimental and
    include it as the description file. It is getting to big for game.ruleset.

    See hrm Feature #662934

commit f04c3b4c21d152affe1b23ee52594c4baf7ef4e7
Author: Jacob Nevins <0jacobnk.fcdev@chiark.greenend.org.uk>
Date:   Sun Jun 25 14:57:44 2017 +0100

    Final Subversion-format ChangeLog update.

commit caf0c1a4718bf522739e0b81986ec4b61a4ed1a9
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 25 13:18:20 2017 +0300

    Do not try to update plrmap before it's created

    Reported by David Fernandez (bard)

    See hrm Bug #673767

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit dbcff8d16e9123cf1bbb9dc6fbba83dd6d4c21f8
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 25 13:17:39 2017 +0300

    Add -no-pie to LDFLAGS when --enable-gprof given

    See hrm Feature #675699

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit c7701813211c1b5173a2dafeff6e6d0fb097a7ed
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 25 13:17:15 2017 +0300

    Queue citizen icon draw when they change

    Reported by SMACX2

    See hrm Bug #664730

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 5fe80cac57575407c5b3e439b8afd3d1a47d3d9f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 25 13:16:44 2017 +0300

    Transfer observer player number as UINT16

    See hrm Bug #673898

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit d07c3767d701ba048e3c76da2d5ec471064917d5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 25 13:15:24 2017 +0300

    Do not sanitycheck vision sharing of dead players

    Reported by David Fernandez (bard)

    See hrm Bug #662701

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ca28ac79c7ddb73a6b7c28cf6fadb8f9bf4e0e0f
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 25 13:14:58 2017 +0300

    Fix threaded AI's reverted pollution removal want

    See hrm Bug #664489

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 35e52df0db187de5f84a4b985ebfe6cd9ffd3efc
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 25 13:14:27 2017 +0300

    Check that research is selected before trying to get its cost

    See hrm Bug #664286

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 57c670fc31622d750f707a43f35e5b00ed319949
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 25 13:13:51 2017 +0300

    Drop DEV_SAVE_COMPAT from version < 2.91

    See hrm Feature #664190

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9cf6365c88233e31ded8f140ad19036c798e7c81
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 25 13:13:24 2017 +0300

    Make wonder owners field 16 bits wide

    See hrm Bug #663958

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9d40055fbb391da27035994ec67bb840f7971624
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sun Jun 25 13:12:46 2017 +0300

    Link libsqlite3 to modpack installers

    See hrm Bug #665004

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 1675a5d5ddf2065e0b8843cb0c19787fb97563c5
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 24 22:50:44 2017 +0300

    Update msys2 environment to 170616 level

    See hrm Task #660286

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit ce99423bee5d12ccda22535cb592465a458e13d1
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 24 22:50:15 2017 +0300

    installer_cross: Fix build from 'git worktree'

    See hrm Bug #673863

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit de6c5d6de8ec9f5dc36b5f58386f8ca5bacca106
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 24 22:49:37 2017 +0300

    Fix setting of have_resources when loading savegame2.c savegame

    See hrm Bug #664343

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit 9c40c464603e957e6334cde8365e32c15de6a72e
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 24 22:49:04 2017 +0300

    Update INSTALL to git time

    See hrm Feature #654670

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

commit af25d64ea1d15ca46de24ba46e8c510101dc1d33
Author: Marko Lindqvist <cazfi74@gmail.com>
Date:   Sat Jun 24 22:48:42 2017 +0300

    Use VERSION_REVTYPE git in Windows Installer build

    See hrm Feature #654689

    Signed-off-by: Marko Lindqvist <cazfi74@gmail.com>

------------------------------------------------------------------------
r35704 | sveinung | 2017-05-24 10:55:55 +0100 (Wed, 24 May 2017) | 6 lines
Changed paths:
   M /trunk/data/webperimental/game.ruleset

webperimental: killstack decides stack protects.

Make the killstack server setting decide if a unit in a unit stack can be
bribed or sabotaged.

See hrm Feature #661974
------------------------------------------------------------------------
r35703 | sveinung | 2017-05-24 10:55:46 +0100 (Wed, 24 May 2017) | 25 lines
Changed paths:
   M /trunk/ai/default/daieffects.c
   M /trunk/common/fc_types.h
   M /trunk/common/metaknowledge.c
   M /trunk/common/reqtext.c
   M /trunk/common/requirements.c
   M /trunk/common/server_settings.c
   M /trunk/common/server_settings.h
   M /trunk/doc/README.effects
   M /trunk/fc_version
   M /trunk/server/cityturn.c
   M /trunk/server/rssanity.c
   M /trunk/server/rssanity.h
   M /trunk/tools/ruledit/univ_value.c

ServerSetting requirement type.

Some server settings, like killstack and unreachableprotects, are rules. A
ruleset author may wish to adapt his ruleset to work better with the server
setting rules currently in use.

Other server settings, like autosaves, are purely about the administration
of the Freeciv server. Those are administrative details. Rules shouldn't be
based on them.

Rules should also not be based on settings not visible to all players.

A Boolean server setting is enabled or disabled. It is therefore enough to
specify its name in the requirement syntax. The value is covered by the
requirement's present property.

Introduce the ServerSetting requirement type. It gives access to rule server
settings that has a binary value.

Non binary server settings aren't supported. Support for enum, bitwise and
small int valued settings may be introduced later. That would require
multiplexing the setting value with the setting id and the introduction of
a syntax like "settingname=valuename".

See hrm Feature #648804
------------------------------------------------------------------------
r35700 | cazfi | 2017-05-24 06:31:34 +0100 (Wed, 24 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/default/aicity.c

Make AI less likely to stop building wonder

See hrm Feature #662556

------------------------------------------------------------------------
r35699 | cazfi | 2017-05-23 18:11:08 +0100 (Tue, 23 May 2017) | 4 lines
Changed paths:
   M /trunk/data/alien/Makefile.am
   A /trunk/data/alien/parser.lua
   M /trunk/data/civ1/Makefile.am
   A /trunk/data/civ1/parser.lua
   M /trunk/data/civ2/Makefile.am
   A /trunk/data/civ2/parser.lua
   M /trunk/data/civ2civ3/Makefile.am
   A /trunk/data/civ2civ3/parser.lua
   M /trunk/data/classic/Makefile.am
   A /trunk/data/classic/parser.lua
   A /trunk/data/experimental/parser.lua
   M /trunk/data/multiplayer/Makefile.am
   A /trunk/data/multiplayer/parser.lua
   M /trunk/data/sandbox/Makefile.am
   A /trunk/data/sandbox/parser.lua
   A /trunk/data/stub/parser.lua
   A /trunk/data/webperimental/parser.lua
   M /trunk/server/ruleset.c
   M /trunk/server/ruleset.h
   M /trunk/tools/ruleutil/rulesave.c

Add 'parser.lua' to rulesets

See hrm Feature #661644

------------------------------------------------------------------------
r35698 | cazfi | 2017-05-23 17:43:56 +0100 (Tue, 23 May 2017) | 6 lines
Changed paths:
   M /trunk/common/fc_types.h
   M /trunk/fc_version

Increase max number of regular players to 250

Requested by Andreas RÃ¸sdal

See hrm Feature #654973

------------------------------------------------------------------------
r35696 | cazfi | 2017-05-22 23:09:08 +0100 (Mon, 22 May 2017) | 4 lines
Changed paths:
   M /trunk/server/scripting/api_server_edit.c
   M /trunk/server/scripting/api_server_edit.h
   M /trunk/server/scripting/tolua_server.pkg

Add scripting API control over unit 'stay'

See hrm Feature #661580

------------------------------------------------------------------------
r35694 | sveinung | 2017-05-22 17:27:41 +0100 (Mon, 22 May 2017) | 7 lines
Changed paths:
   M /trunk/tools/ruledit/Makefile.am

Fix srcdir != builddir builds.

Fix copy past error.

Reported by Marko Lindqvist

See hrm Bug #662564
------------------------------------------------------------------------
r35689 | sveinung | 2017-05-22 11:05:49 +0100 (Mon, 22 May 2017) | 1 line
Changed paths:
   M /trunk/common/scriptcore/luascript.c

Comment fix: OS is not excluded from permissive.
------------------------------------------------------------------------
r35688 | sveinung | 2017-05-22 11:05:42 +0100 (Mon, 22 May 2017) | 5 lines
Changed paths:
   M /trunk/tools/Makefile.am
   M /trunk/tools/ruledit/Makefile.am
   M /trunk/tools/ruledit/ruledit.cpp
   M /trunk/tools/ruleup.c

Implement fc_interface for ruledit and ruleup.

Use the tools_fc_interface module.

See hrm Feature #659409
------------------------------------------------------------------------
r35687 | sveinung | 2017-05-22 11:05:33 +0100 (Mon, 22 May 2017) | 1 line
Changed paths:
   M /trunk/tools/civmanual.c

Comment fact fix: header has moved.
------------------------------------------------------------------------
r35686 | sveinung | 2017-05-22 11:05:25 +0100 (Mon, 22 May 2017) | 6 lines
Changed paths:
   M /trunk/data/webperimental/effects.ruleset
   M /trunk/data/webperimental/game.ruleset

webperimental: spy nuke escape is for veterans.

Only let agents and spymasters try to escape after hiding a nuke in a spy
city nuking.

See hrm Feature #661962
------------------------------------------------------------------------
r35682 | cazfi | 2017-05-21 18:07:05 +0100 (Sun, 21 May 2017) | 10 lines
Changed paths:
   M /trunk/server/srv_main.c

Do not try to cancel Team membership

When a player with which we are allied and another with which we
are in the same team go to war, only cancel the alliance. Do not try
to cancel pact with the team member.

Reported by David Fernandez (bard)

See hrm Bug #662059

------------------------------------------------------------------------
r35680 | sveinung | 2017-05-21 10:32:10 +0100 (Sun, 21 May 2017) | 6 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/tools/Makefile.am
   A /trunk/tools/shared
   A /trunk/tools/shared/Makefile.am
   A /trunk/tools/shared/tools_fc_interface.c (from /trunk/tools/tools_fc_interface.c:35668)
   A /trunk/tools/shared/tools_fc_interface.h (from /trunk/tools/tools_fc_interface.h:35668)
   D /trunk/tools/tools_fc_interface.c
   D /trunk/tools/tools_fc_interface.h

Move tools_fc_interface.[c|h] to tools/shared.

Use it to form a new library, libtoolsshared, for stuff otherwise unrelated
(by task) tools may need.

See hrm Feature #661963
------------------------------------------------------------------------
r35678 | cazfi | 2017-05-20 13:28:36 +0100 (Sat, 20 May 2017) | 4 lines
Changed paths:
   M /trunk/common/scriptcore/api_game_methods.c
   M /trunk/common/scriptcore/api_game_methods.h
   M /trunk/common/scriptcore/tolua_game.pkg

Add Tile:is_enemy() to scripting API

See hrm Feature #661538

------------------------------------------------------------------------
r35677 | cazfi | 2017-05-20 12:41:36 +0100 (Sat, 20 May 2017) | 4 lines
Changed paths:
   M /trunk/common/game.c
   M /trunk/common/game.h
   M /trunk/server/ruleset.c
   M /trunk/server/scripting/Makefile.am
   A /trunk/server/scripting/api_server_luadata.c
   A /trunk/server/scripting/api_server_luadata.h
   M /trunk/server/scripting/tolua_server.pkg

Add initial support for optional luadata.txt datafile

See hrm Feature #661635

------------------------------------------------------------------------
r35674 | cazfi | 2017-05-20 12:11:29 +0100 (Sat, 20 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/default/aiunit.c
   M /trunk/server/advisors/advgoto.c

Set ACTIVITY_GOTO persistently for military units heading to target

See hrm Bug #661869

------------------------------------------------------------------------
r35672 | cazfi | 2017-05-20 09:34:06 +0100 (Sat, 20 May 2017) | 6 lines
Changed paths:
   M /trunk/windows/installer_cross/winbuild.sh

Add "-crs" to version number of installer_cross builds

Distinguish installer_cross builds from other build types

See hrm Feature #661802

------------------------------------------------------------------------
r35670 | cazfi | 2017-05-20 08:34:44 +0100 (Sat, 20 May 2017) | 4 lines
Changed paths:
   M /trunk/common/movement.c
   M /trunk/common/movement.h
   M /trunk/common/unit.c
   M /trunk/common/unit.h
   M /trunk/server/savegame3.c

Add "stay" property for individual units

See hrm Feature #661437

------------------------------------------------------------------------
r35668 | cazfi | 2017-05-20 00:35:32 +0100 (Sat, 20 May 2017) | 4 lines
Changed paths:
   M /trunk/tools/ruledit/effect_edit.cpp
   M /trunk/tools/ruledit/req_edit.cpp
   M /trunk/tools/ruledit/req_edit.h
   M /trunk/tools/ruledit/ruledit_qt.cpp
   M /trunk/tools/ruledit/ruledit_qt.h
   M /trunk/tools/ruledit/tab_building.cpp
   M /trunk/tools/ruledit/tab_enablers.cpp
   M /trunk/tools/ruledit/tab_extras.cpp
   M /trunk/tools/ruledit/tab_gov.cpp

Prevent opening multiple req_edit dialogs for the same requirement vector

See hrm Feature #660194

------------------------------------------------------------------------
r35666 | cazfi | 2017-05-20 00:05:45 +0100 (Sat, 20 May 2017) | 6 lines
Changed paths:
   M /trunk/client/luascript/script_client.c
   M /trunk/common/scriptcore/luascript.c
   M /trunk/common/scriptcore/luascript.h
   M /trunk/server/scripting/script_fcdb.c
   M /trunk/server/scripting/script_server.c

Let security restrictions of 'game' and 'fcdb' lua instances differ

Requested by Jacob Nevins <jtn>

See hrm Feature #657141

------------------------------------------------------------------------
r35664 | cazfi | 2017-05-19 23:05:49 +0100 (Fri, 19 May 2017) | 6 lines
Changed paths:
   M /trunk/server/scripting/Makefile.am
   M /trunk/server/scripting/api_server_edit.c
   M /trunk/server/scripting/api_server_edit.h
   M /trunk/server/scripting/tolua_server.pkg

Add edit.change_terrain() to scripting API

Requested by J. M. Gorbach <gorb>

See hrm Feature #657140

------------------------------------------------------------------------
r35660 | cazfi | 2017-05-19 22:27:46 +0100 (Fri, 19 May 2017) | 4 lines
Changed paths:
   M /trunk/server/scripting/api_server_edit.c

Prevent scripting API unit creation from creating stack conflicts

See hrm Bug #661533

------------------------------------------------------------------------
r35656 | sveinung | 2017-05-19 11:37:33 +0100 (Fri, 19 May 2017) | 14 lines
Changed paths:
   M /trunk/ai/default/aicity.c
   M /trunk/ai/default/aidata.c
   M /trunk/ai/default/aidiplomat.c
   M /trunk/client/gui-gtk-3.0/action_dialog.c
   M /trunk/client/gui-gtk-3.22/action_dialog.c
   M /trunk/client/gui-gtk-4.0/action_dialog.c
   M /trunk/client/gui-qt/dialogs.cpp
   M /trunk/client/gui-sdl2/action_dialog.c
   M /trunk/client/helpdata.c
   M /trunk/client/packhand.c
   M /trunk/common/actions.c
   M /trunk/common/actions.h
   M /trunk/common/aicore/pf_tools.c
   M /trunk/common/unittype.c
   M /trunk/data/civ2/effects.ruleset
   M /trunk/data/civ2/game.ruleset
   M /trunk/data/webperimental/effects.ruleset
   M /trunk/data/webperimental/game.ruleset
   M /trunk/doc/README.actions
   M /trunk/doc/README.effects
   M /trunk/fc_version
   M /trunk/server/actiontools.c
   M /trunk/server/advisors/advdata.c
   M /trunk/server/ruleset.c
   M /trunk/server/savegame3.c
   M /trunk/server/unithand.c
   M /trunk/tools/ruleutil/rulesave.c

Split the action "Suitcase Nuke".

Stop relying on the Spy unit type flag to decide if the "Suitcase Nuke"
action consumes the actor unit. Split the new action "Suitcase Nuke Escape"
from "Suitcase Nuke". The former will have its actor try to escape. The
latter will always consume the actor unit.

This makes it possible to create a ruleset where all actor units, including
those with the Spy utype flag, are consumed when suitcase nuking a city. It
makes the opposite (everyone, including non Spy units, escapes) possible
too. It also makes more complex rules, like "only veterans has a chance of
escaping after placing the suitcase", possible.

See hrm Feature #661654
------------------------------------------------------------------------
r35655 | sveinung | 2017-05-19 10:59:32 +0100 (Fri, 19 May 2017) | 6 lines
Changed paths:
   M /trunk/data/civ2/effects.ruleset
   M /trunk/data/civ2civ3/effects.ruleset
   M /trunk/data/classic/effects.ruleset
   M /trunk/data/experimental/effects.ruleset
   M /trunk/data/multiplayer/effects.ruleset
   M /trunk/data/sandbox/effects.ruleset
   M /trunk/data/webperimental/effects.ruleset

"Incite City Escape" is a reason for war.

When "Incite City" was split in hrm Feature #660927 the Casus Belli weren't
given to "Incite City Escape" too. Do it.

See hrm Bug #661539
------------------------------------------------------------------------
r35654 | sveinung | 2017-05-19 10:57:31 +0100 (Fri, 19 May 2017) | 7 lines
Changed paths:
   M /trunk/doc/README.effects

Update README.effects for "Incite City Escape".

When "Incite City" was split in hrm Feature #660927 the documentation of
Action_Odds_Pct wasn't updated to reflect that it can modify the new action
"Incite City Escape" too.

See hrm Bug #661535
------------------------------------------------------------------------
r35651 | cazfi | 2017-05-18 16:24:44 +0100 (Thu, 18 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/default/aicity.c

Multiply AI want for Great Wonders by 1.5

See hrm Feature #661176

------------------------------------------------------------------------
r35648 | cazfi | 2017-05-18 14:23:46 +0100 (Thu, 18 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/default/daidomestic.c

Fix NULL dereference when there's no suitable founder unit type

See hrm Bug #661409

------------------------------------------------------------------------
r35647 | cazfi | 2017-05-18 14:17:19 +0100 (Thu, 18 May 2017) | 4 lines
Changed paths:
   M /trunk/tools/mpdb.c

Create directory for modpack database if it doesn't exist

See hrm Bug #661353

------------------------------------------------------------------------
r35643 | cazfi | 2017-05-18 14:13:00 +0100 (Thu, 18 May 2017) | 6 lines
Changed paths:
   M /trunk/server/unittools.c

Make sure unit vision radius is not negative

Reported by David Fernandez (bard)

See hrm Bug #661313

------------------------------------------------------------------------
r35638 | sveinung | 2017-05-18 10:25:20 +0100 (Thu, 18 May 2017) | 8 lines
Changed paths:
   M /trunk/client/gui-gtk-3.0/action_dialog.c
   M /trunk/client/gui-gtk-3.22/action_dialog.c
   M /trunk/client/gui-gtk-4.0/action_dialog.c
   M /trunk/client/gui-qt/dialogs.cpp
   M /trunk/client/gui-sdl2/action_dialog.c
   M /trunk/client/gui-stub/dialogs.c
   M /trunk/client/include/dialogs_g.h
   M /trunk/client/packhand.c
   M /trunk/common/networking/packets.def
   M /trunk/fc_version
   M /trunk/server/diplomats.c

Prepare targeted sabotage for generic actions.

Return the action id with the lists of buildings that can be targeted in the
target city. Forward the action to the clients in popup_sabotage_dialog().
Have the clients use the specified action (rather than hard coding
ACTION_SPY_TARGETED_SABOTAGE_CITY) when ordering the action to take place.

See hrm Feature #661177
------------------------------------------------------------------------
r35637 | sveinung | 2017-05-18 10:25:08 +0100 (Thu, 18 May 2017) | 9 lines
Changed paths:
   M /trunk/data/civ2civ3/buildings.ruleset
   M /trunk/data/civ2civ3/cities.ruleset
   M /trunk/data/civ2civ3/effects.ruleset
   M /trunk/data/civ2civ3/game.ruleset
   M /trunk/data/civ2civ3/governments.ruleset
   M /trunk/data/civ2civ3/nations.ruleset
   M /trunk/data/civ2civ3/styles.ruleset
   M /trunk/data/civ2civ3/techs.ruleset
   M /trunk/data/civ2civ3/terrain.ruleset
   M /trunk/data/civ2civ3/units.ruleset
   M /trunk/data/multiplayer/buildings.ruleset
   M /trunk/data/multiplayer/cities.ruleset
   M /trunk/data/multiplayer/effects.ruleset
   M /trunk/data/multiplayer/game.ruleset
   M /trunk/data/multiplayer/governments.ruleset
   M /trunk/data/multiplayer/nations.ruleset
   M /trunk/data/multiplayer/styles.ruleset
   M /trunk/data/multiplayer/techs.ruleset
   M /trunk/data/multiplayer/terrain.ruleset
   M /trunk/data/multiplayer/units.ruleset

civ2civ3 and multiplayer are web compatible.

The rulesets civ2civ3 and multiplayer are currently used unmodified in
Freeciv-web. Document the current compatibility.

Thanks to Marko Lindqvist for clarifying that web-compatible isn't a
promise of future compatibility in hrm Bug #660894 comment #8.

See hrm Feature #661168
------------------------------------------------------------------------
r35633 | cazfi | 2017-05-18 10:16:05 +0100 (Thu, 18 May 2017) | 6 lines
Changed paths:
   M /trunk/server/citytools.c

Make sure veterancy of the newly built unit is not negative

Reported by David Fernandez (bard)

See hrm Bug #661193

------------------------------------------------------------------------
r35629 | cazfi | 2017-05-18 10:02:44 +0100 (Thu, 18 May 2017) | 6 lines
Changed paths:
   M /trunk/common/unit.c

Fix division by zero when unit activity rate is zero

Reported by David Fernandez (bard)

See hrm Bug #660342

------------------------------------------------------------------------
r35627 | cazfi | 2017-05-18 00:54:08 +0100 (Thu, 18 May 2017) | 6 lines
Changed paths:
   M /trunk/m4/web-client.m4

Make --enable-fcweb help clearer

Reported by Christian Knoke

See hrm Bug #660894

------------------------------------------------------------------------
r35622 | sveinung | 2017-05-17 11:45:42 +0100 (Wed, 17 May 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-gtk-3.0/action_dialog.c
   M /trunk/client/gui-gtk-3.22/action_dialog.c
   M /trunk/client/gui-gtk-4.0/action_dialog.c
   M /trunk/client/gui-qt/dialogs.cpp
   M /trunk/client/gui-sdl2/action_dialog.c
   M /trunk/client/gui-stub/dialogs.c
   M /trunk/client/include/dialogs_g.h
   M /trunk/client/packhand.c

Prepare popup_bribe_dialog() for gen actions.

Make popup_bribe_dialog() take the action it is a response to as a
parameter. This allows more than one action to use it.

See hrm Feature #660895
------------------------------------------------------------------------
r35621 | sveinung | 2017-05-17 11:45:32 +0100 (Wed, 17 May 2017) | 15 lines
Changed paths:
   M /trunk/ai/default/aicity.c
   M /trunk/ai/default/aidata.c
   M /trunk/ai/default/aidiplomat.c
   M /trunk/client/gui-gtk-3.0/action_dialog.c
   M /trunk/client/gui-gtk-3.22/action_dialog.c
   M /trunk/client/gui-gtk-4.0/action_dialog.c
   M /trunk/client/gui-qt/dialogs.cpp
   M /trunk/client/gui-qt/menu.cpp
   M /trunk/client/gui-sdl2/action_dialog.c
   M /trunk/client/helpdata.c
   M /trunk/client/packhand.c
   M /trunk/common/actions.c
   M /trunk/common/actions.h
   M /trunk/common/aicore/pf_tools.c
   M /trunk/common/unittype.c
   M /trunk/data/civ2/game.ruleset
   M /trunk/data/civ2civ3/game.ruleset
   M /trunk/data/classic/game.ruleset
   M /trunk/data/experimental/game.ruleset
   M /trunk/data/multiplayer/game.ruleset
   M /trunk/data/sandbox/game.ruleset
   M /trunk/data/webperimental/game.ruleset
   M /trunk/doc/README.actions
   M /trunk/fc_version
   M /trunk/server/advisors/advdata.c
   M /trunk/server/ruleset.c
   M /trunk/server/savegame3.c
   M /trunk/server/unithand.c
   M /trunk/tools/ruleutil/rulesave.c

Split the action "Incite City".

Stop relying on the Spy unit type flag to decide if the "Incite City" action
consumes the actor unit. Split the new action "Incite City Escape" from
"Incite City". The former will have its actor try to escape. The latter will
always consume the actor unit.

This makes it possible to create a ruleset where all actor units, including
those with the Spy utype flag, are consumed when inciting a foreign city to
revolt and join the actor's side. It makes a ruleset where no actor units,
including those without the Spy utype flag, will try to escape after
inciting a revolt. It also makes more complex rules, like "inciting a revolt
consumes the unit unless the city belongs to a democracy, possible.

See hrm Feature #660927
------------------------------------------------------------------------
r35620 | sveinung | 2017-05-17 11:45:22 +0100 (Wed, 17 May 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-gtk-3.0/action_dialog.c
   M /trunk/client/gui-gtk-3.22/action_dialog.c
   M /trunk/client/gui-gtk-4.0/action_dialog.c
   M /trunk/client/gui-qt/dialogs.cpp
   M /trunk/client/gui-sdl2/action_dialog.c
   M /trunk/client/gui-stub/dialogs.c
   M /trunk/client/include/dialogs_g.h
   M /trunk/client/packhand.c

Prepare popup_incite_dialog() for gen actions.

Make popup_incite_dialog() take the action it is a response to as a
parameter. This allows more than one action to use it.

See hrm Feature #660843
------------------------------------------------------------------------
r35619 | sveinung | 2017-05-17 11:45:09 +0100 (Wed, 17 May 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-sdl2/action_dialog.c

SDL2 client: add action to small dipl dialog.

Use it in unit bribery and in city inciting.

See hrm Feature #660837
------------------------------------------------------------------------
r35617 | cazfi | 2017-05-17 04:29:09 +0100 (Wed, 17 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/classic/classicai.c
   M /trunk/ai/tex/texai.c
   M /trunk/ai/threaded/threadedai.c
   M /trunk/common/ai.h
   M /trunk/doc/README.AI_modules
   M /trunk/server/srv_main.c

Free ai_type private data

See hrm Bug #660840

------------------------------------------------------------------------
r35613 | cazfi | 2017-05-16 14:33:32 +0100 (Tue, 16 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/default/daidiplomacy.c

Do not set out-of-range AI love towards player launching spaceship

See hrm Bug #660363

------------------------------------------------------------------------
r35610 | sveinung | 2017-05-16 12:31:48 +0100 (Tue, 16 May 2017) | 7 lines
Changed paths:
   M /trunk/client/gui-gtk-3.0/action_dialog.c
   M /trunk/client/gui-gtk-3.22/action_dialog.c
   M /trunk/client/gui-gtk-4.0/action_dialog.c

Gtk clients: add action to action data.

Use it in unit bribery, city inciting, building sabotage and targeted tech
theft. Don't use it in the action selection dialog since the action data of
all actions are shared.

See hrm Feature #660487
------------------------------------------------------------------------
r35609 | sveinung | 2017-05-16 12:31:39 +0100 (Tue, 16 May 2017) | 6 lines
Changed paths:
   M /trunk/tools/Makefile.am
   M /trunk/tools/civmanual.c
   A /trunk/tools/tools_fc_interface.c
   A /trunk/tools/tools_fc_interface.h

freeciv-manual: split out fc_interface code.

Move freeciv-manual's implementation of fc_interface to the new module
tools_fc_interface so other tools may use it too.

See hrm Feature #660443
------------------------------------------------------------------------
r35606 | cazfi | 2017-05-15 22:40:50 +0100 (Mon, 15 May 2017) | 4 lines
Changed paths:
   M /trunk/client/tilespec.c

Apply activity offsets to workertask icons

See hrm Bug #660421

------------------------------------------------------------------------
r35605 | cazfi | 2017-05-15 22:15:19 +0100 (Mon, 15 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/tex/texai.c
   M /trunk/ai/tex/texaimsg.h
   M /trunk/ai/tex/texaiplayer.c
   M /trunk/ai/tex/texaiworld.c
   M /trunk/ai/tex/texaiworld.h

Tex: Un/register units from/to the world

See hrm Feature #659527

------------------------------------------------------------------------
r35603 | cazfi | 2017-05-15 21:47:30 +0100 (Mon, 15 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/tex/texaicity.c

Fix tex compile

See hrm Bug #660664

------------------------------------------------------------------------
r35601 | cazfi | 2017-05-15 19:53:18 +0100 (Mon, 15 May 2017) | 4 lines
Changed paths:
   M /trunk/common/game.c
   M /trunk/common/game.h
   M /trunk/data/alien/game.ruleset
   M /trunk/data/civ1/game.ruleset
   M /trunk/data/civ2/game.ruleset
   M /trunk/data/civ2civ3/game.ruleset
   M /trunk/data/classic/game.ruleset
   M /trunk/data/experimental/game.ruleset
   M /trunk/data/multiplayer/game.ruleset
   M /trunk/data/sandbox/game.ruleset
   M /trunk/data/stub/game.ruleset
   M /trunk/data/webperimental/game.ruleset
   M /trunk/server/ruleset.c
   M /trunk/server/savegame3.c
   M /trunk/tools/ruleutil/rulesave.c

Add ruleset capabilities for !ruleset_locked scenarios to use

See hrm Feature #659482

------------------------------------------------------------------------
r35600 | mir3x | 2017-05-15 18:48:15 +0100 (Mon, 15 May 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/optiondlg.cpp

Qt client - don't call non-const member functions on temporaries.

See hrm Bug #658871


------------------------------------------------------------------------
r35597 | mir3x | 2017-05-15 18:46:06 +0100 (Mon, 15 May 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/chatline.cpp
   M /trunk/client/gui-qt/citydlg.cpp
   M /trunk/client/gui-qt/dialogs.cpp
   M /trunk/client/gui-qt/diplodlg.cpp
   M /trunk/client/gui-qt/gui_main.cpp
   M /trunk/client/gui-qt/pages.cpp
   M /trunk/client/gui-qt/ratesdlg.cpp
   M /trunk/client/gui-qt/repodlgs.cpp
   M /trunk/client/gui-qt/shortcuts.cpp
   M /trunk/client/gui-qt/sidebar.cpp
   M /trunk/client/gui-qt/themes.cpp

Qt client - remove unused not trivial variables.

See hrm Bug #658869


------------------------------------------------------------------------
r35593 | mir3x | 2017-05-15 18:36:32 +0100 (Mon, 15 May 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/cityrep.cpp
   M /trunk/client/gui-qt/menu.cpp

Qt client - dont pass by value in foreach macro.

See hrm Bug #658868


------------------------------------------------------------------------
r35591 | mir3x | 2017-05-15 18:28:58 +0100 (Mon, 15 May 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/shortcuts.h

Qt client - Added Q_OBJECT macro to line_edit class.

See hrm Bug #658866


------------------------------------------------------------------------
r35585 | cazfi | 2017-05-15 18:15:53 +0100 (Mon, 15 May 2017) | 4 lines
Changed paths:
   M /trunk/doc/README.fcdb
   M /trunk/lua/database.lua

Update ticket links in documentation to point to hostedredmine.

See hrm Feature #660271

------------------------------------------------------------------------
r35582 | sveinung | 2017-05-15 01:38:59 +0100 (Mon, 15 May 2017) | 3 lines
Changed paths:
   M /trunk/common/server_settings.h

Change comment style from C++ style to C style.

See doc/CodingStyle
------------------------------------------------------------------------
r35580 | cazfi | 2017-05-14 23:56:02 +0100 (Sun, 14 May 2017) | 4 lines
Changed paths:
   M /trunk/client/client_main.c
   M /trunk/common/game.c
   M /trunk/common/game.h
   M /trunk/server/savegame3.c
   M /trunk/server/srv_main.c
   M /trunk/server/srv_main.h
   M /trunk/server/stdinhand.c
   M /trunk/tools/civmanual.c
   M /trunk/tools/ruledit/ruledit.cpp
   M /trunk/tools/ruleup.c

Reload current ruleset when loading !ruleset_locked scenario

See hrm Bug #659453

------------------------------------------------------------------------
r35578 | cazfi | 2017-05-14 21:07:51 +0100 (Sun, 14 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/default/aicity.c
   M /trunk/ai/default/aicity.h
   M /trunk/ai/default/daidomestic.c

Rename settler_want as worker_want

See hrm Feature #660200

------------------------------------------------------------------------
r35577 | cazfi | 2017-05-14 20:47:15 +0100 (Sun, 14 May 2017) | 4 lines
Changed paths:
   M /trunk/tools/ruledit/effect_edit.cpp
   M /trunk/tools/ruledit/tab_misc.cpp
   M /trunk/tools/ruledit/tab_misc.h

Add editing of always active effects

See hrm Feature #659227

------------------------------------------------------------------------
r35576 | cazfi | 2017-05-14 14:54:06 +0100 (Sun, 14 May 2017) | 2 lines
Changed paths:
   M /trunk/windows/installer_cross/helpers/installer-helper-gtk3.cmd
   M /trunk/windows/installer_cross/helpers/installer-helper-qt.cmd

Set eol-style of new .cmd files to CRLF

------------------------------------------------------------------------
r35573 | cazfi | 2017-05-14 10:14:46 +0100 (Sun, 14 May 2017) | 2 lines
Changed paths:
   M /trunk/translations/core/POTFILES.in

Update POTFILES.in to tex AI rename

------------------------------------------------------------------------
r35571 | cazfi | 2017-05-14 09:59:03 +0100 (Sun, 14 May 2017) | 4 lines
Changed paths:
   M /trunk/windows/Makefile.am
   M /trunk/windows/installer_cross/create-freeciv-gtk-qt-nsi.sh
   M /trunk/windows/installer_cross/create-freeciv-sdl2-nsi.sh
   A /trunk/windows/installer_cross/helpers
   A /trunk/windows/installer_cross/helpers/installer-helper-gtk3.cmd
   A /trunk/windows/installer_cross/helpers/installer-helper-qt.cmd
   M /trunk/windows/installer_cross/installer_build.sh

installer_cross: Execute gdk-pixbuf-query-loaders.exe when installing

See hrm Feature #660105

------------------------------------------------------------------------
r35570 | cazfi | 2017-05-14 09:30:35 +0100 (Sun, 14 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/default/aiunit.c
   M /trunk/ai/default/daimilitary.c
   M /trunk/client/control.c
   M /trunk/client/goto.c
   M /trunk/client/gui-gtk-3.0/action_dialog.c
   M /trunk/client/gui-gtk-3.0/citydlg.c
   M /trunk/client/gui-gtk-3.0/editprop.c
   M /trunk/client/gui-gtk-3.22/action_dialog.c
   M /trunk/client/gui-gtk-3.22/citydlg.c
   M /trunk/client/gui-gtk-3.22/editprop.c
   M /trunk/client/gui-gtk-4.0/action_dialog.c
   M /trunk/client/gui-gtk-4.0/citydlg.c
   M /trunk/client/gui-gtk-4.0/editprop.c
   M /trunk/client/gui-qt/dialogs.cpp
   M /trunk/client/gui-qt/hudwidget.cpp
   M /trunk/client/gui-sdl2/action_dialog.c
   M /trunk/common/actions.c
   M /trunk/common/aicore/pf_tools.c
   M /trunk/common/city.c
   M /trunk/common/combat.c
   M /trunk/common/map.c
   M /trunk/common/map.h
   M /trunk/common/movement.c
   M /trunk/common/movement.h
   M /trunk/common/reqtext.c
   M /trunk/common/requirements.c
   M /trunk/common/scriptcore/api_game_methods.c
   M /trunk/common/unit.c
   M /trunk/common/unitlist.c
   M /trunk/server/advisors/advgoto.c
   M /trunk/server/advisors/advruleset.c
   M /trunk/server/advisors/autoexplorer.c
   M /trunk/server/animals.c
   M /trunk/server/barbarian.c
   M /trunk/server/citytools.c
   M /trunk/server/edithand.c
   M /trunk/server/maphand.c
   M /trunk/server/plrhand.c
   M /trunk/server/sanitycheck.c
   M /trunk/server/savegame2.c
   M /trunk/server/savegame3.c
   M /trunk/server/scripting/api_server_edit.c
   M /trunk/server/unithand.c
   M /trunk/server/unittools.c

Add map parameter to can_exist_at family of functions

See hrm Feature #660079

------------------------------------------------------------------------
r35567 | cazfi | 2017-05-14 00:18:01 +0100 (Sun, 14 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/default/daidomestic.c

Remove hard limitation that AI wonder cities never build settlers

See hrm Bug #660089

------------------------------------------------------------------------
r35563 | sveinung | 2017-05-13 22:24:02 +0100 (Sat, 13 May 2017) | 6 lines
Changed paths:
   M /trunk/client/packhand.c
   M /trunk/common/networking/packets.def
   M /trunk/fc_version
   M /trunk/server/citytools.c

PACKET_WEB_CITY_INFO_ADDITION: be more careful.

Give the packet web_city_info_addition a field with the id of the city the
additional info is for. Cancel it where PACKET_CITY_INFO is canceled.

See hrm Feature #659446
------------------------------------------------------------------------
r35562 | sveinung | 2017-05-13 22:23:55 +0100 (Sat, 13 May 2017) | 7 lines
Changed paths:
   M /trunk/server/settings.c
   M /trunk/server/settings.h

Setting visibility to access level checker.

Make it possible to check if a server setting is visible to any player with
a certain access level rather than checking if a server setting is visible
to a specific player (based on his access level).

See hrm Feature #659408
------------------------------------------------------------------------
r35561 | sveinung | 2017-05-13 22:23:47 +0100 (Sat, 13 May 2017) | 5 lines
Changed paths:
   M /trunk/client/helpdata.c

Auto help: free list of quoted action blockers.

This fixes a memory leak. Found with Valgrind.

See hrm Bug #659405
------------------------------------------------------------------------
r35557 | cazfi | 2017-05-13 19:32:05 +0100 (Sat, 13 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/default/daimilitary.c

Increase AI desire to conquer cities

See hrm Feature #659537

------------------------------------------------------------------------
r35556 | jtn | 2017-05-13 15:25:38 +0100 (Sat, 13 May 2017) | 1 line
Changed paths:
   M /trunk/translations/nations/en_GB.po
   M /trunk/translations/ruledit/en_GB.po

Update my email address in nations,ruledit/en_GB.po too.
------------------------------------------------------------------------
r35549 | cazfi | 2017-05-13 13:30:55 +0100 (Sat, 13 May 2017) | 4 lines
Changed paths:
   M /trunk/doc/README.msys2
   M /trunk/windows/installer_msys2/Makefile

Update msys2 environment to 170422 level

See hrm Task #652797

------------------------------------------------------------------------
r35548 | cazfi | 2017-05-13 13:00:50 +0100 (Sat, 13 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/tex/texaiworld.c

Tex: Free city when it's destroyed from the world.

See hrm Bug #659528

------------------------------------------------------------------------
r35538 | cazfi | 2017-05-13 11:33:35 +0100 (Sat, 13 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/tex/Makefile.am
   A /trunk/ai/tex/texai.c (from /trunk/ai/tex/threxprai.c:35537)
   D /trunk/ai/tex/threxprai.c

Rename threxprai.c as texai.c

See hrm Feature #658487

------------------------------------------------------------------------
r35531 | jtn | 2017-05-13 11:02:18 +0100 (Sat, 13 May 2017) | 10 lines
Changed paths:
   M /trunk/server/savegame2.c
   M /trunk/server/savegame3.c

Bomb out after failing to load ruleset during savegame loading.

Since first parameter of sg_failure_ret() is an assert kind of pattern
to decide if any error handling is needed, having 'TRUE' there is
certainly an error. There is one such case, when loading of ruleset has
failed.

Patch by Marko Lindqvist.

See hrm bug #659503.
------------------------------------------------------------------------
r35530 | jtn | 2017-05-13 11:02:14 +0100 (Sat, 13 May 2017) | 3 lines
Changed paths:
   M /trunk/doc/README

Update README for freeciv-announce move.

See hrm feature #637953.
------------------------------------------------------------------------
r35528 | cazfi | 2017-05-12 18:58:25 +0100 (Fri, 12 May 2017) | 4 lines
Changed paths:
   M /trunk/tools/ruledit/effect_edit.cpp
   M /trunk/tools/ruledit/effect_edit.h

Add editing of effect requirements

See hrm Feature #659223

------------------------------------------------------------------------
r35527 | cazfi | 2017-05-12 16:28:13 +0100 (Fri, 12 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/default/aidiplomat.c
   M /trunk/ai/default/aiferry.c
   M /trunk/ai/default/aiparatrooper.c
   M /trunk/ai/default/aisettler.c
   M /trunk/ai/default/aitools.c
   M /trunk/ai/default/aiunit.c
   M /trunk/ai/default/daieffects.c
   M /trunk/client/climap.c
   M /trunk/client/climisc.c
   M /trunk/client/control.c
   M /trunk/client/editor.c
   M /trunk/client/goto.c
   M /trunk/client/gui-gtk-3.0/mapctrl.c
   M /trunk/client/gui-gtk-3.22/mapctrl.c
   M /trunk/client/gui-gtk-4.0/mapctrl.c
   M /trunk/client/gui-qt/mapview.cpp
   M /trunk/client/gui-qt/menu.cpp
   M /trunk/client/gui-sdl2/dialogs.c
   M /trunk/client/gui-sdl2/finddlg.c
   M /trunk/client/gui-sdl2/mapctrl.c
   M /trunk/client/mapctrl_common.c
   M /trunk/client/mapview_common.c
   M /trunk/client/mapview_common.h
   M /trunk/client/overview_common.c
   M /trunk/client/tilespec.c
   M /trunk/common/actions.c
   M /trunk/common/aicore/path_finding.c
   M /trunk/common/aicore/pf_tools.c
   M /trunk/common/base.c
   M /trunk/common/city.c
   M /trunk/common/combat.c
   M /trunk/common/extras.c
   M /trunk/common/featured_text.c
   M /trunk/common/map.c
   M /trunk/common/map.h
   M /trunk/common/mapimg.c
   M /trunk/common/metaknowledge.c
   M /trunk/common/movement.c
   M /trunk/common/requirements.c
   M /trunk/common/road.c
   M /trunk/common/scriptcore/api_game_find.c
   M /trunk/common/scriptcore/api_game_methods.c
   M /trunk/common/terrain.c
   M /trunk/common/unit.c
   M /trunk/server/advisors/advdata.c
   M /trunk/server/advisors/advgoto.c
   M /trunk/server/advisors/autoexplorer.c
   M /trunk/server/advisors/autosettlers.c
   M /trunk/server/animals.c
   M /trunk/server/barbarian.c
   M /trunk/server/citytools.c
   M /trunk/server/cityturn.c
   M /trunk/server/diplomats.c
   M /trunk/server/edithand.c
   M /trunk/server/gamehand.c
   M /trunk/server/generator/fracture_map.c
   M /trunk/server/generator/height_map.c
   M /trunk/server/generator/mapgen.c
   M /trunk/server/generator/mapgen_utils.c
   M /trunk/server/generator/mapgen_utils.h
   M /trunk/server/generator/startpos.c
   M /trunk/server/generator/temperature_map.c
   M /trunk/server/maphand.c
   M /trunk/server/notify.c
   M /trunk/server/plrhand.c
   M /trunk/server/sanitycheck.c
   M /trunk/server/savegame2.c
   M /trunk/server/savegame3.c
   M /trunk/server/srv_main.c
   M /trunk/server/stdinhand.c
   M /trunk/server/unithand.c
   M /trunk/server/unittools.c

Give map parameter to map_pos_to_tile()

See hrm Feature #659205

------------------------------------------------------------------------
r35519 | sveinung | 2017-05-12 13:55:27 +0100 (Fri, 12 May 2017) | 3 lines
Changed paths:
   M /trunk/client/helpdata.c

Auto help: document tired attack.

See hrm Feature #659208
------------------------------------------------------------------------
r35518 | sveinung | 2017-05-12 13:55:20 +0100 (Fri, 12 May 2017) | 3 lines
Changed paths:
   M /trunk/data/webperimental/buildings.ruleset
   M /trunk/data/webperimental/effects.ruleset
   M /trunk/data/webperimental/game.ruleset

webperimental: ally share A.Smith's Trading Co.

See hrm Feature #659192
------------------------------------------------------------------------
r35517 | sveinung | 2017-05-12 13:55:09 +0100 (Fri, 12 May 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-qt/menu.cpp
   M /trunk/data/civ1/game.ruleset
   M /trunk/data/civ2/game.ruleset
   M /trunk/data/civ2civ3/game.ruleset
   M /trunk/data/classic/game.ruleset
   M /trunk/data/experimental/game.ruleset
   M /trunk/data/multiplayer/game.ruleset
   M /trunk/data/sandbox/game.ruleset
   M /trunk/data/webperimental/game.ruleset
   M /trunk/server/ruleset.c

Change "Establish Embassy Stay"'s UI name.

Change the default UI name of the action "Establish Embassy Stay" from
"Establish embassy (and stay)" to "Become Ambassador".

See hrm Feature #659189
------------------------------------------------------------------------
r35516 | sveinung | 2017-05-12 13:55:00 +0100 (Fri, 12 May 2017) | 3 lines
Changed paths:
   M /trunk/tools/civmanual.c

freeciv-manual: show what unit obsoletes a unit.

See hrm Feature #659174
------------------------------------------------------------------------
r35515 | sveinung | 2017-05-12 13:54:53 +0100 (Fri, 12 May 2017) | 6 lines
Changed paths:
   M /trunk/server/unithand.c

handle_unit_get_actions(): fix target id finding.

A typo caused target id finding to abort after processing the first legal
action if a target unit existed. Fix it.

See hrm Bug #659158
------------------------------------------------------------------------
r35514 | sveinung | 2017-05-12 13:54:18 +0100 (Fri, 12 May 2017) | 8 lines
Changed paths:
   M /trunk/server/unithand.c

Initialize kind before use in check.

Initialize action not enabled explanation kind so it has a value to check
even if a suitable target is present.

Found with Valgrind.

See hrm Bug #659109
------------------------------------------------------------------------
r35513 | cazfi | 2017-05-11 23:08:45 +0100 (Thu, 11 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/tex/texaimsg.h
   M /trunk/ai/tex/texaiplayer.c
   M /trunk/ai/tex/texaiworld.c
   M /trunk/ai/tex/texaiworld.h
   M /trunk/ai/tex/threxprai.c

Un/register cities to/from tex AI world

See hrm Feature #658468

------------------------------------------------------------------------
r35511 | cazfi | 2017-05-11 22:03:46 +0100 (Thu, 11 May 2017) | 4 lines
Changed paths:
   M /trunk/data/sandbox/README.sandbox
   M /trunk/data/sandbox/terrain.ruleset

sandbox: Make Buoys visible only to those player who know Radio

See hrm Feature #658922

------------------------------------------------------------------------
r35509 | cazfi | 2017-05-11 21:05:06 +0100 (Thu, 11 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/Makefile.am
   M /trunk/ai/tex/Makefile.am
   M /trunk/ai/tex/threxprai.c
   M /trunk/configure.ac
   M /trunk/server/Makefile.am
   M /trunk/server/aiiface.c

Rename threxpr AI module as tex

See hrm Feature #658487

------------------------------------------------------------------------
r35507 | cazfi | 2017-05-11 15:15:22 +0100 (Thu, 11 May 2017) | 6 lines
Changed paths:
   M /trunk/ai/default/aitech.c

Restore global_advance_count after AI tech speculation

Reported by wotan <wotan>

See gna bug #24992

------------------------------------------------------------------------
r35505 | sveinung | 2017-05-11 12:06:34 +0100 (Thu, 11 May 2017) | 1 line
Changed paths:
   M /trunk/tools/ruleup.c
   M /trunk/tools/ruleutil/rulesave.c

Comment fact fix
------------------------------------------------------------------------
r35501 | sveinung | 2017-05-11 07:25:46 +0100 (Thu, 11 May 2017) | 5 lines
Changed paths:
   M /trunk/data/webperimental/buildings.ruleset
   M /trunk/data/webperimental/effects.ruleset
   M /trunk/data/webperimental/game.ruleset

webperimental: ally share J.S. Bach's Cathedral.

Apply J.S. Bach's Cathedral's happiness to allies of its owner too.

See hrm Feature #658833
------------------------------------------------------------------------
r35500 | sveinung | 2017-05-11 07:25:37 +0100 (Thu, 11 May 2017) | 8 lines
Changed paths:
   M /trunk/client/helpdata.c
   M /trunk/common/unittype.c
   M /trunk/server/actiontools.c
   M /trunk/server/unithand.c

Missile consumption: use action shared system.

Have the attack action use the shared action system when consuming units
with the Missile unit class flag.

This replaces the custom auto help for the Missile unit class flag.

See hrm Feature #657680
------------------------------------------------------------------------
r35499 | sveinung | 2017-05-11 07:25:25 +0100 (Thu, 11 May 2017) | 8 lines
Changed paths:
   M /trunk/server/citytools.c
   M /trunk/server/plrhand.c

Fix trade route memory leak.

Free the memory of the trade route structs canceled by the destruction of a
city or player.

Reported by Valgrind.

See hrm Bug #658824
------------------------------------------------------------------------
r35497 | cazfi | 2017-05-10 20:14:43 +0100 (Wed, 10 May 2017) | 4 lines
Changed paths:
   M /trunk/tools/ruledit/validity.c

Consider extra, that is visibility_req of another one, needed

See hrm Bug #658575

------------------------------------------------------------------------
r35496 | cazfi | 2017-05-10 17:55:59 +0100 (Wed, 10 May 2017) | 4 lines
Changed paths:
   M /trunk/tools/ruledit/Makefile.am
   A /trunk/tools/ruledit/effect_edit.cpp
   A /trunk/tools/ruledit/effect_edit.h
   M /trunk/tools/ruledit/tab_building.cpp
   M /trunk/tools/ruledit/tab_building.h
   M /trunk/tools/ruledit/validity.c
   M /trunk/tools/ruledit/validity.h

Add initial version of effect edit dialog to ruledit

See hrm Feature #658566

------------------------------------------------------------------------
r35492 | cazfi | 2017-05-10 16:38:47 +0100 (Wed, 10 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/default/aitools.c
   M /trunk/server/advisors/advgoto.c

Avoid double map_move_cost_unit()

See hrm Feature #658612

------------------------------------------------------------------------
r35488 | cazfi | 2017-05-10 16:08:09 +0100 (Wed, 10 May 2017) | 6 lines
Changed paths:
   M /trunk/data/nation/newfoundland.ruleset

Fix typo in the name of Grand Falls-Windsor

Reported by Michael Neil

See hrm Bug #658528

------------------------------------------------------------------------
r35477 | sveinung | 2017-05-10 09:15:16 +0100 (Wed, 10 May 2017) | 6 lines
Changed paths:
   M /trunk/data/webperimental/buildings.ruleset
   M /trunk/data/webperimental/effects.ruleset
   M /trunk/data/webperimental/game.ruleset

webperimental: ally share Sun Tzu's War Academy.

Make Sun Tzu's War Academy give its veteran bonus (combat and production) to
both its owner and to all his allies.

See hrm Feature #658515
------------------------------------------------------------------------
r35476 | sveinung | 2017-05-10 09:15:08 +0100 (Wed, 10 May 2017) | 7 lines
Changed paths:
   M /trunk/server/ruleset.c

Destroy the rs section list of goods.

Destroy the section list used to load goods from the ruleset.

Reported by Valgrind.

See hrm Bug #658475
------------------------------------------------------------------------
r35475 | sveinung | 2017-05-10 09:14:56 +0100 (Wed, 10 May 2017) | 7 lines
Changed paths:
   M /trunk/server/ruleset.c

Destroy the rs section list of achievements.

Destroy the section list used to load achievements from the ruleset.

Reported by Valgrind.

See hrm Bug #658472
------------------------------------------------------------------------
r35474 | sveinung | 2017-05-10 09:14:48 +0100 (Wed, 10 May 2017) | 5 lines
Changed paths:
   M /trunk/common/networking/dataio_json.c

JSON protocol: make estring reading more careful.

The copying of extra bytes was found with Valgrind.

See hrm Feature #658458
------------------------------------------------------------------------
r35473 | sveinung | 2017-05-10 09:14:40 +0100 (Wed, 10 May 2017) | 9 lines
Changed paths:
   M /trunk/common/networking/dataio_json.c

JSON protocol: fix sub field sending memory leak.

Steal the references to values created inline when put inside an object by
using json_object_set_new() rather than json_object_set().

Found with Valgrind.
Reported by Andreas RÃ¸sdal

See hrm Bug #658386
------------------------------------------------------------------------
r35472 | sveinung | 2017-05-10 09:14:32 +0100 (Wed, 10 May 2017) | 8 lines
Changed paths:
   M /trunk/common/generate_packets.py
   M /trunk/common/networking/dataio_json.c
   M /trunk/common/networking/packets_json.h

JSON protocol: fix field_addr memory leak.

Don't leak the memory where a packet's field address is stored.

Found with Valgrind.
Reported by Andreas RÃ¸sdal

See hrm Bug #658389
------------------------------------------------------------------------
r35471 | sveinung | 2017-05-10 09:14:22 +0100 (Wed, 10 May 2017) | 3 lines
Changed paths:
   M /trunk/data/webperimental/game.ruleset

webperimental: allow allied build wonder help.

See hrm Feature #658361
------------------------------------------------------------------------
r35470 | sveinung | 2017-05-10 08:52:44 +0100 (Wed, 10 May 2017) | 3 lines
Changed paths:
   M /trunk/client/helpdata.c

Auto help: say what the unit upgrades to.

See hrm Feature #658346
------------------------------------------------------------------------
r35468 | cazfi | 2017-05-10 06:06:24 +0100 (Wed, 10 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/Makefile.am
   A /trunk/ai/tex (from /trunk/ai/threxpr:35467)
   D /trunk/ai/threxpr
   M /trunk/configure.ac
   M /trunk/server/Makefile.am

Rename 'threxpr' directory as 'tex'

See hrm Feature #658487

------------------------------------------------------------------------
r35467 | cazfi | 2017-05-10 06:02:27 +0100 (Wed, 10 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/threxpr/texaiplayer.c

Fix double threxpr world close

See hrm Bug #658473

------------------------------------------------------------------------
r35466 | jtn | 2017-05-10 01:16:38 +0100 (Wed, 10 May 2017) | 4 lines
Changed paths:
   M /trunk/translations/core/ca.po
   M /trunk/translations/core/de.po
   M /trunk/translations/core/es.po
   M /trunk/translations/core/fi.po
   M /trunk/translations/core/fr.po
   M /trunk/translations/core/gd.po
   M /trunk/translations/core/pl.po
   M /trunk/translations/core/ru.po
   M /trunk/translations/core/uk.po

Manually adjust po-files after hrm feature #637953.

Only touched those translations which already had a non-fuzzy
translation of the affected string.
------------------------------------------------------------------------
r35462 | cazfi | 2017-05-08 14:50:59 +0100 (Mon, 08 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/threxpr/texaiworld.c

threxpr: do world object idex_init() / idex_free()

See hrm Feature #658118

------------------------------------------------------------------------
r35461 | cazfi | 2017-05-08 14:35:43 +0100 (Mon, 08 May 2017) | 4 lines
Changed paths:
   M /trunk/client/climisc.c
   M /trunk/common/game.c
   M /trunk/common/game.h
   M /trunk/common/player.c
   M /trunk/server/citytools.c
   M /trunk/server/unittools.c

Make game_remove_city|unit() to take world parameter

See hrm Feature #658117

------------------------------------------------------------------------
r35459 | cazfi | 2017-05-08 14:24:15 +0100 (Mon, 08 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/classic/classicai.c
   M /trunk/common/ai.h
   M /trunk/doc/README.AI_modules
   M /trunk/server/citytools.c
   M /trunk/server/unittools.c

Add city|unit_created|destroyed() to AI module API

See hrm Feature #658069

------------------------------------------------------------------------
r35457 | cazfi | 2017-05-08 14:17:26 +0100 (Mon, 08 May 2017) | 4 lines
Changed paths:
   M /trunk/tools/ruledit/req_edit.cpp
   M /trunk/tools/ruledit/tab_building.cpp
   M /trunk/tools/ruledit/tab_enablers.cpp
   M /trunk/tools/ruledit/tab_extras.cpp
   M /trunk/tools/ruledit/tab_good.cpp
   M /trunk/tools/ruledit/tab_gov.cpp

Make requirement editing available in non-experimental builds

See hrm Feature #658046

------------------------------------------------------------------------
r35454 | cazfi | 2017-05-08 14:07:16 +0100 (Mon, 08 May 2017) | 6 lines
Changed paths:
   M /trunk/server/techtools.c

Do not access out-of-bounds index A_FUTURE from global_advances[]

Reported by Per M

See hrm Bug #658073

------------------------------------------------------------------------
r35450 | cazfi | 2017-05-08 12:02:27 +0100 (Mon, 08 May 2017) | 6 lines
Changed paths:
   M /trunk/client/client_main.c
   M /trunk/client/mapctrl_common.c
   M /trunk/client/mapctrl_common.h
   M /trunk/client/options.c
   M /trunk/client/packhand.c
   M /trunk/server/srv_main.c

Fix "Manual Turn Done in AI mode"

Reported by Jacob Nevins <jtn>

See hrm Bug #657412

------------------------------------------------------------------------
r35448 | cazfi | 2017-05-07 21:13:55 +0100 (Sun, 07 May 2017) | 4 lines
Changed paths:
   M /trunk/windows/installer_cross/installer_build.sh

installer_cross: Ship gdk-pixbuf-query-loaders.exe

See hrm Feature #657983

------------------------------------------------------------------------
r35447 | cazfi | 2017-05-07 20:06:20 +0100 (Sun, 07 May 2017) | 4 lines
Changed paths:
   M /trunk/client/agents/cma_core.c
   M /trunk/client/gui-sdl2/mapview.c
   M /trunk/server/srv_main.c
   M /trunk/translations/core/POTFILES.in
   M /trunk/utility/Makefile.am
   A /trunk/utility/bugs.c
   A /trunk/utility/bugs.h
   M /trunk/utility/netintf.c
   M /trunk/utility/registry_ini.c

Add bugs.[ch] module

See hrm Feature #657706

------------------------------------------------------------------------
r35443 | cazfi | 2017-05-07 19:53:50 +0100 (Sun, 07 May 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-gtk-3.0/gui_main.c
   M /trunk/client/gui-gtk-3.22/gui_main.c
   M /trunk/client/gui-gtk-4.0/gui_main.c

Fix asserts about top notebook size.

Patch by Bernhard <aldot> and myself

See gna patch #7163

------------------------------------------------------------------------
r35439 | sveinung | 2017-05-07 11:56:54 +0100 (Sun, 07 May 2017) | 8 lines
Changed paths:
   M /trunk/data/civ2civ3/README.civ2civ3
   M /trunk/data/civ2civ3/units.ruleset
   M /trunk/data/sandbox/units.ruleset

civ2civ3: balance naval unit cost with attack.

Reduce the costs of naval units a bit so their cost/attack ratio becomes
similar to the other units.

Patch by David Fernandez <bardo>

See gna patch #8124
------------------------------------------------------------------------
r35438 | sveinung | 2017-05-07 11:56:46 +0100 (Sun, 07 May 2017) | 3 lines
Changed paths:
   M /trunk/server/ruleset.c

Fix error message typo "unkniwn" -> "unknown".

See hrm Bug #657821
------------------------------------------------------------------------
r35425 | sveinung | 2017-05-06 21:59:02 +0100 (Sat, 06 May 2017) | 13 lines
Changed paths:
   M /trunk/data/civ2civ3/README.civ2civ3
   M /trunk/data/civ2civ3/effects.ruleset
   M /trunk/data/civ2civ3/terrain.ruleset
   M /trunk/data/sandbox/effects.ruleset
   M /trunk/data/sandbox/terrain.ruleset

civ2civ3: base defense against all unit classes.

Make units inside bases less vulnerable against one type of attack,
especially at the final stages of the game, by giving fortresses a 50%
defense bonus against air unit and by giving Airbase a 50% defense bonus
against land and sea units.

Increase the vision radius inside airbases to the same value as fortresses
with astronomy.

Patch by David Fernandez <bardo>

See gna patch #8123
------------------------------------------------------------------------
r35424 | sveinung | 2017-05-06 21:58:54 +0100 (Sat, 06 May 2017) | 14 lines
Changed paths:
   M /trunk/common/unittype.c
   M /trunk/server/diplomats.c

Non Spy consumption: use action shared system.

Have the actions where units without the Spy unit type flag always are
consumed and units with the Spy utype flag has a chance to escape use the
shared action system when consuming non spies.

Using the system common to actions makes the auto help system aware that non
Spy units will be consumed.

By using the general action consumes actor system it becomes possible to
split those actions in a unit consuming and a unit escaping version in the
future.

See hrm Feature #657674
------------------------------------------------------------------------
r35423 | sveinung | 2017-05-06 21:58:47 +0100 (Sat, 06 May 2017) | 9 lines
Changed paths:
   M /trunk/client/helpdata.c

Auto help: only show Spy escape when relevant.

Spy actions are action enabler controlled from Freeciv 2.6. There is no
longer a guarantee that a unit with the Spy unit type flag can perform any
of the spy actions where a unit with the Spy utype flag is able to escape.
Since a unit type like that can't perform any of those actions its veterans
aren't more likely to survive missions.

See hrm Bug #657644
------------------------------------------------------------------------
r35422 | sveinung | 2017-05-06 21:58:39 +0100 (Sat, 06 May 2017) | 7 lines
Changed paths:
   M /trunk/server/diplomats.c
   M /trunk/server/diplomats.h
   M /trunk/server/unithand.c

Spy action performers: take action struct.

Have the functions that performs the spy actions take the action struct of
the action they are about to perform as a parameter rather than taking it as
an action id.

See hrm Feature #657611
------------------------------------------------------------------------
r35421 | sveinung | 2017-05-06 21:58:32 +0100 (Sat, 06 May 2017) | 5 lines
Changed paths:
   M /trunk/common/actions.c
   M /trunk/common/actions.h

action_has_result() doesn't modify its action.

Declare action_has_result()'s paction argument const.

See Feature #657600
------------------------------------------------------------------------
r35420 | sveinung | 2017-05-06 21:58:24 +0100 (Sat, 06 May 2017) | 10 lines
Changed paths:
   M /trunk/data/civ2civ3/terrain.ruleset
   M /trunk/data/sandbox/terrain.ruleset

civ2civ3: fix can't build on River typo.

It was supposed to be illegal to build Airbase, not Airstrip, on a tile with
a River.

(I applied the civ2civ3 fix to Sandbox too.)

Patch by David Fernandez <bardo>

See hrm Bug #657572
------------------------------------------------------------------------
r35419 | sveinung | 2017-05-06 21:58:16 +0100 (Sat, 06 May 2017) | 9 lines
Changed paths:
   M /trunk/data/civ2civ3/README.civ2civ3

civ2civ3: improve README.civ2civ3 text.

Happy borders aren't disabled after gna patch #7080. Don't claim it is.
Improve the English by removing capitalization from some words. Expand pop
to population.

Patch by David Fernandez <bardo>

See hrm Feature #657562
------------------------------------------------------------------------
r35418 | sveinung | 2017-05-06 21:58:06 +0100 (Sat, 06 May 2017) | 3 lines
Changed paths:
   M /trunk/server/actiontools.c
   M /trunk/server/actiontools.h
   M /trunk/server/diplomats.c
   M /trunk/server/unithand.c

Use actor_consuming_always to wipe the actor.

See hrm Feature #657310
------------------------------------------------------------------------
r35416 | cazfi | 2017-05-06 07:10:26 +0100 (Sat, 06 May 2017) | 6 lines
Changed paths:
   M /trunk/common/scriptcore/api_game_methods.c
   M /trunk/common/scriptcore/api_game_methods.h
   M /trunk/common/scriptcore/tolua_game.pkg

Add player.controlling_gui() to scripting API

Requested by Jacob Nevins <jtn>

See gna patch #7500

------------------------------------------------------------------------
r35414 | cazfi | 2017-05-06 05:02:30 +0100 (Sat, 06 May 2017) | 4 lines
Changed paths:
   M /trunk/tools/ruledit/Makefile.am
   M /trunk/tools/ruledit/ruledit_qt.cpp
   M /trunk/tools/ruledit/ruledit_qt.h
   A /trunk/tools/ruledit/tab_terrains.cpp
   A /trunk/tools/ruledit/tab_terrains.h
   M /trunk/tools/ruledit/validity.c
   M /trunk/tools/ruledit/validity.h

Add Terrains tab to ruledit

See hrm Feature #657637

------------------------------------------------------------------------
r35412 | cazfi | 2017-05-05 19:32:49 +0100 (Fri, 05 May 2017) | 4 lines
Changed paths:
   M /trunk/server/generator/fracture_map.c

Use '&&' instead of '*' in boolean context.

See hrm Bug #657355

------------------------------------------------------------------------
r35405 | sveinung | 2017-05-05 11:30:17 +0100 (Fri, 05 May 2017) | 9 lines
Changed paths:
   M /trunk/client/helpdata.c

Auto help for action actor consumption.

The help texts of unit types auto documents what actions the utype can
perform. It also lists some additional auto generated information about each
action. Add a warning to the help text of an action when
utype_is_consumed_by_action() detects that it always will consume the actor
unit.

See hrm Feature #657372
------------------------------------------------------------------------
r35404 | sveinung | 2017-05-05 11:30:07 +0100 (Fri, 05 May 2017) | 8 lines
Changed paths:
   M /trunk/common/actions.c
   M /trunk/common/actions.h
   M /trunk/common/unittype.c
   M /trunk/common/unittype.h
   M /trunk/server/diplomats.c
   M /trunk/server/diplomats.h
   M /trunk/server/unithand.c

Add action property actor_consuming_always.

Introduce the new action property actor_consuming_always. It is true if
successfully performing the action always consumes the actor. Have it
replace the spends_unit parameter of diplomat_embassy() and
diplomat_investigate().

See hrm Feature #657303
------------------------------------------------------------------------
r35403 | sveinung | 2017-05-05 11:29:53 +0100 (Fri, 05 May 2017) | 3 lines
Changed paths:
   M /trunk/server/diplomats.c

A non Spy is spent, not caught. It can't escape.

See hrm Feature #657298
------------------------------------------------------------------------
r35402 | sveinung | 2017-05-05 11:29:43 +0100 (Fri, 05 May 2017) | 1 line
Changed paths:
   M /trunk/common/actions.c

Comment typo fix.
------------------------------------------------------------------------
r35395 | cazfi | 2017-05-05 06:51:12 +0100 (Fri, 05 May 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-sdl2/gui_string.c

Fix comparison between pointer and zero character

See hrm Bug #657309

------------------------------------------------------------------------
r35393 | cazfi | 2017-05-05 06:24:13 +0100 (Fri, 05 May 2017) | 6 lines
Changed paths:
   M /trunk/client/helpdata.c
   M /trunk/client/packhand.c
   M /trunk/common/extras.c
   M /trunk/common/extras.h
   M /trunk/common/networking/packets.def
   M /trunk/common/tech.c
   M /trunk/data/alien/terrain.ruleset
   M /trunk/data/civ1/terrain.ruleset
   M /trunk/data/civ2/terrain.ruleset
   M /trunk/data/civ2civ3/terrain.ruleset
   M /trunk/data/classic/terrain.ruleset
   M /trunk/data/experimental/terrain.ruleset
   M /trunk/data/multiplayer/terrain.ruleset
   M /trunk/data/ruledit/comments.txt
   M /trunk/data/sandbox/terrain.ruleset
   M /trunk/data/stub/terrain.ruleset
   M /trunk/data/webperimental/terrain.ruleset
   M /trunk/fc_version
   M /trunk/server/maphand.c
   M /trunk/server/ruleset.c
   M /trunk/server/techtools.c

Add extra property visibility_req

Requested by Jacob Nevins <jtn>

See gna patch #4392

------------------------------------------------------------------------
r35390 | sveinung | 2017-05-04 23:26:49 +0100 (Thu, 04 May 2017) | 7 lines
Changed paths:
   M /trunk/common/actions.c

Explain why the probability is an interval.

Explain that the action probability is a wide interval because the player
don't have access to needed information in the action selection dialog
button tool tip.

See hrm Feature #657217
------------------------------------------------------------------------
r35387 | cazfi | 2017-05-04 16:26:44 +0100 (Thu, 04 May 2017) | 4 lines
Changed paths:
   M /trunk/common/scriptcore/api_game_methods.c
   M /trunk/common/scriptcore/api_game_methods.h
   M /trunk/common/scriptcore/tolua_game.pkg

Add calendar access functions to scripting API

See hrm Feature #656845

------------------------------------------------------------------------
r35385 | cazfi | 2017-05-04 15:59:08 +0100 (Thu, 04 May 2017) | 4 lines
Changed paths:
   M /trunk/windows/installer_cross/winbuild.sh

installer_cross: Store crosser.txt to installer packet

See hrm Feature #656589

------------------------------------------------------------------------
r35382 | sveinung | 2017-05-04 11:22:09 +0100 (Thu, 04 May 2017) | 13 lines
Changed paths:
   M /trunk/client/gui-gtk-3.0/unitselect.c
   M /trunk/client/gui-gtk-3.22/unitselect.c
   M /trunk/client/gui-gtk-4.0/unitselect.c

unitselect: don't create pix twice.

Delete the pre "Gtk3-client drawing code uses cairo" (gna patch #2715)
initialization of the variable pix in usdlg_tab_append_utype(). The original
patch had already deleted it from usdlg_tab_append_units(). No change is
therefore needed in usdlg_get_unit_image(), the current location of
usdlg_tab_append_units()'s unit drawing code.

This fixes a memory leak. (Detectable with Valgrind.)

Reported by Marko Lindqvist <cazfi>

See gna bug #25246
------------------------------------------------------------------------
r35380 | cazfi | 2017-05-03 20:24:55 +0100 (Wed, 03 May 2017) | 4 lines
Changed paths:
   M /trunk/tools/ruleup.c

Add --output DIRECTORY commandline parameter support to freeciv-ruleup

See hrm Feature #656672

------------------------------------------------------------------------
r35378 | cazfi | 2017-05-03 20:19:33 +0100 (Wed, 03 May 2017) | 4 lines
Changed paths:
   M /trunk/tools/ruledit/Makefile.am
   M /trunk/tools/ruledit/ruledit_qt.cpp
   M /trunk/tools/ruledit/ruledit_qt.h
   A /trunk/tools/ruledit/tab_extras.cpp
   A /trunk/tools/ruledit/tab_extras.h
   M /trunk/tools/ruledit/validity.c
   M /trunk/tools/ruledit/validity.h

Add extras tab to ruledit

See hrm Feature #656692

------------------------------------------------------------------------
r35375 | cazfi | 2017-05-03 15:55:12 +0100 (Wed, 03 May 2017) | 4 lines
Changed paths:
   M /trunk/INSTALL
   M /trunk/doc/README

Update documentation to state gtk3.22-client is the default

See hrm Feature #656463

------------------------------------------------------------------------
r35372 | sveinung | 2017-05-03 08:14:35 +0100 (Wed, 03 May 2017) | 10 lines
Changed paths:
   M /trunk/data/webperimental/terrain.ruleset

webperimental: restrict railroads, not roads.

Hrm Feature #653510 enabled the restrictinfra server setting by default. In
return it was supposed to make Road unrestricted by restrictinfra so it only
would apply to Railroad. But the UnrestrictedInfra flag was added to
Railroad rather than Road by accident. Move it where it was supposed to be.

Reported by Jacob Nevins

See hrm Bug #656627
------------------------------------------------------------------------
r35371 | sveinung | 2017-05-03 08:14:27 +0100 (Wed, 03 May 2017) | 5 lines
Changed paths:
   M /trunk/client/client_main.c

Make enum type conversion explicit.

Reported by Marko Lindqvist

See hrm Bug #655955
------------------------------------------------------------------------
r35369 | sveinung | 2017-05-02 13:47:39 +0100 (Tue, 02 May 2017) | 14 lines
Changed paths:
   M /trunk/ai/default/aicity.c
   M /trunk/ai/default/aidata.c
   M /trunk/ai/default/aidiplomat.c
   M /trunk/client/gui-gtk-3.0/action_dialog.c
   M /trunk/client/gui-gtk-3.22/action_dialog.c
   M /trunk/client/gui-gtk-4.0/action_dialog.c
   M /trunk/client/gui-qt/dialogs.cpp
   M /trunk/client/gui-qt/menu.cpp
   M /trunk/client/gui-sdl2/action_dialog.c
   M /trunk/client/packhand.c
   M /trunk/common/actions.c
   M /trunk/common/actions.h
   M /trunk/common/aicore/pf_tools.c
   M /trunk/data/civ1/game.ruleset
   M /trunk/data/civ2/game.ruleset
   M /trunk/data/civ2civ3/game.ruleset
   M /trunk/data/classic/game.ruleset
   M /trunk/data/experimental/game.ruleset
   M /trunk/data/multiplayer/game.ruleset
   M /trunk/data/sandbox/game.ruleset
   M /trunk/data/webperimental/game.ruleset
   M /trunk/doc/README.actions
   M /trunk/fc_version
   M /trunk/server/advisors/advdata.c
   M /trunk/server/diplomats.c
   M /trunk/server/diplomats.h
   M /trunk/server/ruleset.c
   M /trunk/server/savegame3.c
   M /trunk/server/unithand.c
   M /trunk/tools/ruleutil/rulesave.c

Split "Establish Embassy".

Stop relying on the Spy unit type flag to decide if "Establish Embassy"
consumes the actor unit. Split "Establish Embassy" in an actor unit
consuming and in a non actor unit consuming version.

This makes it possible to create a ruleset where all actor units, including
those with the Spy utype flag, are consumed during embassy establishing. It
makes a ruleset where no actor units, including those without the Spy utype
flag, are consumed during embassy establishing possible. It also makes more
complex rules, like "establishing an embassy during war consumes the actor
unit", possible.

See hrm Feature #656188
------------------------------------------------------------------------
r35366 | cazfi | 2017-05-02 13:33:49 +0100 (Tue, 02 May 2017) | 4 lines
Changed paths:
   M /trunk/data/themes/gui-gtk-3.22/Freeciv/gtk-3.0/gtk.css

Drop deprecated GtkMenuBar-internal-padding from the gtk3.22-client theme

See hrm Feature #656560

------------------------------------------------------------------------
r35364 | cazfi | 2017-05-02 13:30:45 +0100 (Tue, 02 May 2017) | 4 lines
Changed paths:
   M /trunk/common/networking/connection.h
   M /trunk/server/sernet.c
   M /trunk/server/srv_main.c

Store client gui_type

See hrm Feature #656558

------------------------------------------------------------------------
r35363 | cazfi | 2017-05-02 13:11:04 +0100 (Tue, 02 May 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/menu.c
   M /trunk/data/Makefile.am
   A /trunk/data/gtk4_menus.xml (from /trunk/data/gtk3.22_menus.xml:35362)

Add separate gtk4_menus.xml for gtk3x-client

See hrm Feature #656561

------------------------------------------------------------------------
r35362 | cazfi | 2017-05-02 07:08:41 +0100 (Tue, 02 May 2017) | 4 lines
Changed paths:
   M /trunk/client/packhand.c
   M /trunk/common/game.c
   M /trunk/common/idex.c
   M /trunk/common/idex.h
   M /trunk/common/player.c
   M /trunk/common/scriptcore/api_game_find.c
   M /trunk/common/world_object.h
   M /trunk/server/citytools.c
   M /trunk/server/savegame2.c
   M /trunk/server/savegame3.c
   M /trunk/server/unittools.c

Add idex hashes to world object

See hrm Feature #656546

------------------------------------------------------------------------
r35358 | cazfi | 2017-05-01 18:45:55 +0100 (Mon, 01 May 2017) | 6 lines
Changed paths:
   M /trunk/ai/default/daimilitary.c

Fix AI crash when there's no suitable ferryboat type

Reported by Eric <koqebwix>

See gna bug #25628

------------------------------------------------------------------------
r35356 | cazfi | 2017-05-01 18:27:34 +0100 (Mon, 01 May 2017) | 4 lines
Changed paths:
   M /trunk/ai/stub/Makefile.am

Fix build when both tinycthread and stub AI enabled

See hrm Bug #656445

------------------------------------------------------------------------
r35355 | jtn | 2017-05-01 17:34:57 +0100 (Mon, 01 May 2017) | 3 lines
Changed paths:
   M /trunk/translations/core/en_GB.po

Update my email address in en_GB.po.

"0jacobnk.gna" is about to look dated (but will still reach me).
------------------------------------------------------------------------
r35349 | sveinung | 2017-05-01 15:30:28 +0100 (Mon, 01 May 2017) | 9 lines
Changed paths:
   M /trunk/ai/default/aicity.c
   M /trunk/ai/default/aidata.c
   M /trunk/ai/default/aidiplomat.c
   M /trunk/client/gui-gtk-3.0/action_dialog.c
   M /trunk/client/gui-gtk-3.22/action_dialog.c
   M /trunk/client/gui-gtk-4.0/action_dialog.c
   M /trunk/client/gui-qt/dialogs.cpp
   M /trunk/client/gui-qt/menu.cpp
   M /trunk/client/gui-sdl2/action_dialog.c
   M /trunk/client/packhand.c
   M /trunk/common/actions.c
   M /trunk/common/actions.h
   M /trunk/common/aicore/pf_tools.c
   M /trunk/data/alien/game.ruleset
   M /trunk/data/civ1/game.ruleset
   M /trunk/data/civ2/game.ruleset
   M /trunk/data/civ2civ3/game.ruleset
   M /trunk/data/classic/game.ruleset
   M /trunk/data/experimental/game.ruleset
   M /trunk/data/multiplayer/game.ruleset
   M /trunk/data/sandbox/game.ruleset
   M /trunk/data/webperimental/game.ruleset
   M /trunk/doc/README.actions
   M /trunk/fc_version
   M /trunk/server/advisors/advdata.c
   M /trunk/server/diplomats.c
   M /trunk/server/diplomats.h
   M /trunk/server/ruleset.c
   M /trunk/server/savegame3.c
   M /trunk/server/unithand.c
   M /trunk/tools/ruleutil/rulesave.c

Split "Investigate City".

Stop relying on the Spy unit type flag to decide if "Investigate City"
consumes the actor unit. Split "Investigate City" in an actor unit consuming
and in a non actor unit consuming version.

Requested by David Fernandez

See hrm Feature #655676
------------------------------------------------------------------------
r35348 | sveinung | 2017-05-01 15:30:13 +0100 (Mon, 01 May 2017) | 6 lines
Changed paths:
   M /trunk/server/savecompat.h
   M /trunk/server/savegame3.c

Use the savegame's action order.

This makes it possible to change the order of the actions without breaking
savegames where a unit has an order to go to a tile and perform some action.

See hrm Feature #655693
------------------------------------------------------------------------
r35346 | cazfi | 2017-05-01 15:00:06 +0100 (Mon, 01 May 2017) | 4 lines
Changed paths:
   M /trunk/windows/installer_cross/winbuild.sh

installer_cross: Build only stub ai to ruledit installer

See hrm Feature #656442

------------------------------------------------------------------------
r35345 | jtn | 2017-05-01 12:53:58 +0100 (Mon, 01 May 2017) | 3 lines
Changed paths:
   M /trunk/translations/core/en_GB.po

Merge current S2_5 en_GB translation for core strings (r35342). trunk stats:
76%: 5514 translated, 1088 fuzzy, 648 untranslated.

------------------------------------------------------------------------
r35338 | jtn | 2017-05-01 12:22:01 +0100 (Mon, 01 May 2017) | 6 lines
Changed paths:
   M /trunk/data/helpdata.txt

Fix truncated help string in freeciv.pot.

An edit made to data/helpdata.txt for hrm feature #637953 for mailing
list changes was malformed.

See hrm bug #656595.
------------------------------------------------------------------------
r35334 | cazfi | 2017-05-01 11:35:40 +0100 (Mon, 01 May 2017) | 4 lines
Changed paths:
   M /trunk/INSTALL

Update links to SDL/2 requirement packages in INSTALL

See hrm Feature #656476

------------------------------------------------------------------------
r35328 | jtn | 2017-05-01 10:26:25 +0100 (Mon, 01 May 2017) | 8 lines
Changed paths:
   M /trunk/bootstrap/freeciv-gtk3.22.appdata.xml.in
   M /trunk/bootstrap/freeciv-gtk3.appdata.xml.in
   M /trunk/bootstrap/freeciv-mp-gtk3.appdata.xml.in
   M /trunk/bootstrap/freeciv-mp-qt.appdata.xml.in
   M /trunk/bootstrap/freeciv-qt.appdata.xml.in
   M /trunk/bootstrap/freeciv-ruledit.appdata.xml.in
   M /trunk/bootstrap/freeciv-sdl2.appdata.xml.in
   M /trunk/bootstrap/freeciv-server.appdata.xml.in
   M /trunk/configure.ac
   M /trunk/data/helpdata.txt
   M /trunk/doc/FAQ
   M /trunk/doc/README
   M /trunk/doc/README.AI

Update mailing list details.

freeciv-dev and freeciv-i18n are confirmed to be moving to
freelists.org.
freeciv-announce and freeciv-commits are not sorted out yet.
Committing early, to get string change in place.

See hrm feature #637953.
------------------------------------------------------------------------
r35326 | cazfi | 2017-05-01 09:04:21 +0100 (Mon, 01 May 2017) | 4 lines
Changed paths:
   M /trunk/windows/installer_cross/winbuild.sh

installer_cross: Support MAKE_PARAMS

See hrm Feature #656458

------------------------------------------------------------------------
r35319 | sveinung | 2017-04-28 11:03:18 +0100 (Fri, 28 Apr 2017) | 9 lines
Changed paths:
   M /trunk/client/gui-qt/dialogs.cpp

Qt client: complete act sel dlg update code.

The code responsible for updating the action selection dialog when actions
change legality (added in gna patch #5365) was unfinished. This resulted in
the "Keep moving" button staying above new actions that becomes legal.

Complete the Qt client's act sel dlg update code.

See hrm Bug #655656
------------------------------------------------------------------------
r35318 | sveinung | 2017-04-28 11:03:11 +0100 (Fri, 28 Apr 2017) | 3 lines
Changed paths:
   M /trunk/server/srv_main.c
   M /trunk/server/srv_main.h
   M /trunk/tools/civmanual.c

Implement fc_interface for freeciv-manual.

See hrm Bug #655527
------------------------------------------------------------------------
r35317 | sveinung | 2017-04-28 11:03:03 +0100 (Fri, 28 Apr 2017) | 6 lines
Changed paths:
   M /trunk/client/helpdata.c

Rewrite building action auto help texts.

Drop act_tgt_city_range_building(). Inline the target city range description
texts where they are used. Rewrite the descriptions that sounds unnatural.

See hrm Feature #655512
------------------------------------------------------------------------
r35316 | sveinung | 2017-04-28 11:02:56 +0100 (Fri, 28 Apr 2017) | 6 lines
Changed paths:
   M /trunk/common/server_settings.c

server_settings: assert that fc_funcs exists.

The common server settings module makes use of functions from fc_interface.
Make sure they are there before trying to use them.

See hrm Feature #655515
------------------------------------------------------------------------
r35312 | jtn | 2017-04-28 00:26:24 +0100 (Fri, 28 Apr 2017) | 3 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/data/helpdata.txt
   M /trunk/doc/BUGS
   M /trunk/doc/FAQ
   M /trunk/doc/TODO
   M /trunk/doc/ca/BUGS.ca
   M /trunk/doc/de/BUGS.de
   M /trunk/doc/fr/BUGS.fr
   M /trunk/doc/ja/BUGS.ja
   M /trunk/doc/nl/BUGS.nl
   M /trunk/doc/sv/BUGS.sv

Update bug tracker URL to hostedredmine.

See hrm feature #655380.
------------------------------------------------------------------------
r35308 | cazfi | 2017-04-27 18:19:55 +0100 (Thu, 27 Apr 2017) | 4 lines
Changed paths:
   M /trunk/bootstrap/generate_gitrev.sh
   M /trunk/fc_version

Use short git revision identifier in version numbers

See hrm Feature #655305

------------------------------------------------------------------------
r35303 | sveinung | 2017-04-27 14:18:49 +0100 (Thu, 27 Apr 2017) | 1 line
Changed paths:
   M /trunk/server/srv_main.c

Comment fact fix
------------------------------------------------------------------------
r35302 | sveinung | 2017-04-27 14:18:40 +0100 (Thu, 27 Apr 2017) | 13 lines
Changed paths:
   M /trunk/client/client_main.c
   M /trunk/common/fc_interface.h
   M /trunk/common/fc_types.h
   M /trunk/common/server_settings.h

Don't include server_settings.h in fc_interface.h

The fc_interface module needs the sset_type enum and the server_setting_id
type to provide its server setting access abstractions. But fc_interface is
supposed to be used where the client and the server does things differently
yet still needs a common interface. It is already used in many non server
setting related places.

Stop pulling in server_settings.h everywhere fc_interface.h is included.
Move the sset_type enum and the server_setting_id type to fc_types.h and
include them to fc_interface.h from there.

See hrm Feature #655355
------------------------------------------------------------------------
r35300 | cazfi | 2017-04-26 19:14:40 +0100 (Wed, 26 Apr 2017) | 4 lines
Changed paths:
   M /trunk/windows/installer_cross/installer_build.sh
   M /trunk/windows/installer_cross/winbuild.sh

Support building installer_cross from a git repository

See hrm Feature #655148

------------------------------------------------------------------------
r35297 | cazfi | 2017-04-26 17:24:05 +0100 (Wed, 26 Apr 2017) | 4 lines
Changed paths:
   M /trunk/m4/no-client.m4

Fail --enable-client=gtk3.22 at configure time when gtk3 not present

See hrm Bug #654979

------------------------------------------------------------------------
r35295 | sveinung | 2017-04-26 12:58:29 +0100 (Wed, 26 Apr 2017) | 8 lines
Changed paths:
   M /trunk/client/helpdata.c

Auto help for the "Provoking" utype flag.

Auto document the "Provoking" unit type flag. The current text may confuse
users unaware that autoattack must be turned on. Explaining what autoattack
is would make the text even longer. Use hrm Feature #654853 to check if
autoattack is enabled. Only show the help text if it is.

See hrm Feature #655118
------------------------------------------------------------------------
r35293 | sveinung | 2017-04-25 22:13:00 +0100 (Tue, 25 Apr 2017) | 7 lines
Changed paths:
   M /trunk/common/server_settings.c
   M /trunk/common/server_settings.h

Server setting module bool value checker.

Make it easy to check the value of Boolean server settings that aren't sent
in PACKET_GAME_INFO by adding a boolean server setting value checker to the
server_settings module.

See hrm Feature #654853
------------------------------------------------------------------------
r35290 | cazfi | 2017-04-25 17:40:09 +0100 (Tue, 25 Apr 2017) | 4 lines
Changed paths:
   M /trunk/windows/installer_legacy/cleanup_checkout.sh
   M /trunk/windows/installer_msys2/cleanup_checkout.sh

Support VERSION_REVTYPE git builds on cleanup_checkout.sh

See hrm Feature #654688

------------------------------------------------------------------------
r35289 | igx31 | 2017-04-24 19:55:46 +0100 (Mon, 24 Apr 2017) | 3 lines
Changed paths:
   M /branches/S2_5/translations/freeciv/fr.po
   M /branches/S2_5/translations/nations/fr.po
   M /branches/S2_6/translations/freeciv/fr.po
   M /branches/S2_6/translations/nations/fr.po
   M /branches/S2_6/translations/ruledit/fr.po
   M /branches/S3_0/translations/core/fr.po
   M /branches/S3_0/translations/nations/fr.po
   M /branches/S3_0/translations/ruledit/fr.po
   M /trunk/translations/core/fr.po
   M /trunk/translations/nations/fr.po
   M /trunk/translations/ruledit/fr.po

Updated French translations


------------------------------------------------------------------------
r35287 | sveinung | 2017-04-24 03:47:27 +0100 (Mon, 24 Apr 2017) | 8 lines
Changed paths:
   M /trunk/client/client_main.c
   M /trunk/common/fc_interface.c
   M /trunk/common/fc_interface.h
   M /trunk/server/srv_main.c

Boolean server setting value access.

Add a function that gives access to the value of bool server settings to
fc_interface. This can be used to implement a ServerSetting requirement
type. It can also be used to check the value of Boolean server settings that
aren't sent in PACKET_GAME_INFO.

See hrm Feature #654153
------------------------------------------------------------------------
r35284 | cazfi | 2017-04-23 21:22:22 +0100 (Sun, 23 Apr 2017) | 2 lines
Changed paths:
   M /trunk/Makefile.am

Remove comment indicating that root Makefile.am would handle config.rpath

------------------------------------------------------------------------
r35281 | cazfi | 2017-04-23 20:12:58 +0100 (Sun, 23 Apr 2017) | 4 lines
Changed paths:
   M /trunk/doc/README.msys2
   M /trunk/windows/installer_msys2/Makefile

Support multiple make jobs in msys2 installer build

See hrm Feature #653645

------------------------------------------------------------------------
r35279 | sveinung | 2017-04-23 14:05:00 +0100 (Sun, 23 Apr 2017) | 6 lines
Changed paths:
   M /trunk/common/Makefile.am
   A /trunk/common/server_settings.c
   M /trunk/common/server_settings.h

Populate the server setting module.

Build server setting access functions on top of the functions exported in
the interface.

See hrm Feature #653904
------------------------------------------------------------------------
r35276 | cazfi | 2017-04-22 21:53:44 +0100 (Sat, 22 Apr 2017) | 2 lines
Changed paths:
   M /trunk/utility/ioz.h

Update comment to speak of freeciv_config.h instead of fc_config.h

------------------------------------------------------------------------
r35275 | cazfi | 2017-04-21 22:57:12 +0100 (Fri, 21 Apr 2017) | 6 lines
Changed paths:
   M /trunk/configure.ac

Fix build when --enable-sys-tolua-cmd=test does not find tolua

Reported by Sveinung Kvilhaugsvik

See hrm bug #653989

------------------------------------------------------------------------
r35270 | sveinung | 2017-04-21 01:56:09 +0100 (Fri, 21 Apr 2017) | 11 lines
Changed paths:
   M /trunk/client/client_main.c
   M /trunk/common/fc_interface.c
   M /trunk/common/fc_interface.h
   M /trunk/common/server_settings.h
   M /trunk/server/srv_main.c

Shared server setting access.

Server settings are stored and accessed differently in the client and in the
server. Introduce primitives for server setting access that works both in
client code and in server code. The plan is to build more complex access on
top of them.

Only access to the common (non value type specific) part of a setting is
included here.

See hrm Feature #653552
------------------------------------------------------------------------
r35269 | sveinung | 2017-04-20 22:40:10 +0100 (Thu, 20 Apr 2017) | 5 lines
Changed paths:
   M /trunk/data/webperimental/game.ruleset
   M /trunk/data/webperimental/terrain.ruleset

webperimental: enable restrictinfra by default...

...but limit it to railroads.

See hrm Feature #653510
------------------------------------------------------------------------
r35268 | sveinung | 2017-04-20 22:18:34 +0100 (Thu, 20 Apr 2017) | 27 lines
Changed paths:
   M /trunk/data/civ2civ3/README.civ2civ3
   M /trunk/data/civ2civ3/effects.ruleset
   M /trunk/data/civ2civ3/game.ruleset
   M /trunk/data/civ2civ3/units.ruleset
   M /trunk/data/sandbox/README.sandbox
   M /trunk/data/sandbox/effects.ruleset
   M /trunk/data/sandbox/game.ruleset
   M /trunk/data/sandbox/units.ruleset

civ2civ3: import some game options from sandbox.

- Avoid overpowered diplomats at the start of the game. Remove reduced bribe
  cost of settlers.
- Remove Illegal_Action_Move_Cost.
- Allow explorers to establish embassies like in sandbox. Allow explorers to
  investigate cities. Restore explorer cost from 20 to 30, so they cost the
  same as diplomats who can also perform those actions. Update the help text
  of Explorer. The ability to perform those actions means that the Partisan
  no longer obsoletes the Explorer.
- Allow the harmless actions "Establish Embassy" and "Investigate City"
  while the actor unit is inside a ship.
- Allow using a caravan to help a team mate build a wonder (like sandbox).
- Make caravan actions coherent by having them require some movement left
  like actions as suggested by Sveinung.
- Sync sandbox with the new changes. (Includes making "Enter Marketplace"
  coherent even if it doesn't appear in civ2civ3)
- sandbox: remove the Writing requirement for the Explorer to establish an
  embassy. The rule permitting explorers to establish embassies was imported
  to the civ2civ3 based sandbox from the classic based experimental. In
  classic (and therefore experimental) Writing is required to build a
  Diplomat. But in civ2civ3 (and therefore sandbox) a Diplomat can be built
  once Alphabet is known.

Patch by David Fernandez <bardo@gna>

See hrm Feature #650794
------------------------------------------------------------------------
r35265 | sveinung | 2017-04-20 12:27:23 +0100 (Thu, 20 Apr 2017) | 5 lines
Changed paths:
   M /trunk/data/civ2civ3/README.civ2civ3

"same than" -> "same as".

Patch by David Fernandez <bardo@gna>

See hrm Feature #653364
------------------------------------------------------------------------
r35264 | cazfi | 2017-04-19 19:15:07 +0100 (Wed, 19 Apr 2017) | 4 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/dependencies/tolua-5.2/src/Makefile.am

Build tolua cmd only if sys tolua not used

See hrm Feature #652961

------------------------------------------------------------------------
r35258 | sveinung | 2017-04-18 06:17:18 +0100 (Tue, 18 Apr 2017) | 3 lines
Changed paths:
   M /trunk/client/helpdata.c

Auto help for building action city protection.

See gna patch #7043
------------------------------------------------------------------------
r35257 | sveinung | 2017-04-18 06:17:10 +0100 (Tue, 18 Apr 2017) | 3 lines
Changed paths:
   M /trunk/client/helpdata.c

Auto help for action city target building need.

See gna patch #7042
------------------------------------------------------------------------
r35256 | sveinung | 2017-04-18 06:17:01 +0100 (Tue, 18 Apr 2017) | 3 lines
Changed paths:
   M /trunk/common/unit.c
   M /trunk/common/unit.h

Remove the unused function is_diplomat_unit().

See hrm Feature #651952
------------------------------------------------------------------------
r35255 | sveinung | 2017-04-18 06:16:51 +0100 (Tue, 18 Apr 2017) | 7 lines
Changed paths:
   M /trunk/common/requirements.c
   M /trunk/common/requirements.h

Universal is relevant to a requirement checker.

Introduce universal_is_relevant_to_requirement(). It uses the requirements
module's universal_found functions to see if a universal is relevant to a
requirement.

See hrm Feature #651673
------------------------------------------------------------------------
r35254 | cazfi | 2017-04-16 17:23:59 +0100 (Sun, 16 Apr 2017) | 4 lines
Changed paths:
   M /trunk/m4/gtk3x-client.m4

Require gtk+-3.90 for gtk3x-client

See hrm Feature #649666

------------------------------------------------------------------------
r35253 | cazfi | 2017-04-16 17:04:51 +0100 (Sun, 16 Apr 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/gui_main.c

Drop parameters from gtk_init() call

See hrm Feature #649543

------------------------------------------------------------------------
r35252 | cazfi | 2017-04-16 16:59:58 +0100 (Sun, 16 Apr 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/editgui.c

Replace gtk_toggle_button_set_mode() calls with modern constructs

See hrm Feature #649542

------------------------------------------------------------------------
r35251 | cazfi | 2017-04-16 16:54:58 +0100 (Sun, 16 Apr 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/action_dialog.c
   M /trunk/client/gui-gtk-4.0/chatline.c
   M /trunk/client/gui-gtk-4.0/choice_dialog.c
   M /trunk/client/gui-gtk-4.0/citizensinfo.c
   M /trunk/client/gui-gtk-4.0/citydlg.c
   M /trunk/client/gui-gtk-4.0/cityrep.c
   M /trunk/client/gui-gtk-4.0/cma_fe.c
   M /trunk/client/gui-gtk-4.0/dialogs.c
   M /trunk/client/gui-gtk-4.0/diplodlg.c
   M /trunk/client/gui-gtk-4.0/editgui.c
   M /trunk/client/gui-gtk-4.0/editprop.c
   M /trunk/client/gui-gtk-4.0/gamedlgs.c
   M /trunk/client/gui-gtk-4.0/gotodlg.c
   M /trunk/client/gui-gtk-4.0/gui_main.c
   M /trunk/client/gui-gtk-4.0/gui_stuff.c
   M /trunk/client/gui-gtk-4.0/happiness.c
   M /trunk/client/gui-gtk-4.0/helpdlg.c
   M /trunk/client/gui-gtk-4.0/inputdlg.c
   M /trunk/client/gui-gtk-4.0/inteldlg.c
   M /trunk/client/gui-gtk-4.0/mapctrl.c
   M /trunk/client/gui-gtk-4.0/menu.c
   M /trunk/client/gui-gtk-4.0/optiondlg.c
   M /trunk/client/gui-gtk-4.0/pages.c
   M /trunk/client/gui-gtk-4.0/plrdlg.c
   M /trunk/client/gui-gtk-4.0/unitselect.c
   M /trunk/client/gui-gtk-4.0/unitselunitdlg.c
   M /trunk/client/gui-gtk-4.0/voteinfo_bar.c
   M /trunk/client/gui-gtk-4.0/wldlg.c

Replace gtk_widget_show_all() calls with modern constructs

See hrm Feature #649541

------------------------------------------------------------------------
r35249 | cazfi | 2017-04-16 16:29:30 +0100 (Sun, 16 Apr 2017) | 4 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/tools/mpgui_gtk4.c

Make freeciv-mp-gtk3x compatible with gtk+-3.90

See hrm Feature #649665

------------------------------------------------------------------------
r35247 | cazfi | 2017-04-16 16:12:27 +0100 (Sun, 16 Apr 2017) | 4 lines
Changed paths:
   M /trunk/tools/Makefile.am
   M /trunk/tools/mpgui_gtk3.c
   M /trunk/tools/mpgui_gtk4.c

Build freeciv-mp-gtk3x out of mpgui_gtk4.c

See hrm Feature #649606

------------------------------------------------------------------------
r35243 | cazfi | 2017-04-16 11:02:06 +0100 (Sun, 16 Apr 2017) | 7 lines
Changed paths:
   M /trunk/configure.ac

Do not consider lack of gtk3 hard error when only testing

When testing which modpack installer gui to build, do not consider
lack of libgtk3 an hard error but move forward to testing next candidate.

See hrm bug #651009

------------------------------------------------------------------------
r35242 | jtn | 2017-04-16 10:17:18 +0100 (Sun, 16 Apr 2017) | 3 lines
Changed paths:
   M /trunk/doc/README.sound
   M /trunk/doc/de/BUGS.de
   M /trunk/doc/de/HOWTOPLAY.de
   M /trunk/doc/de/INSTALL.de
   M /trunk/doc/fr/BUGS.fr
   M /trunk/doc/fr/HOWTOPLAY.fr
   M /trunk/doc/it/HOWTOPLAY.it
   M /trunk/doc/it/INSTALL.it
   M /trunk/doc/ja/BUGS.ja
   M /trunk/doc/ja/HOWTOPLAY.ja
   M /trunk/doc/nl/BUGS.nl
   M /trunk/doc/nl/HOWTOPLAY.nl
   M /trunk/doc/sv/HOWTOPLAY.sv
   M /trunk/tools/modinst.h

Replace download.gna.org with files.freeciv.org.

See hrm bug #652494.
------------------------------------------------------------------------
r35235 | sveinung | 2017-04-12 14:54:12 +0100 (Wed, 12 Apr 2017) | 3 lines
Changed paths:
   M /trunk/common/server_settings.h
   M /trunk/server/settings.c
   M /trunk/server/stdinhand.c
   M /trunk/tools/civmanual.c
   M /trunk/tools/ruleutil/rulesave.c

Count the number of server setting types.

See hrm Feature #651514
------------------------------------------------------------------------
r35234 | sveinung | 2017-04-12 14:53:59 +0100 (Wed, 12 Apr 2017) | 8 lines
Changed paths:
   M /trunk/common/Makefile.am
   A /trunk/common/server_settings.h
   M /trunk/server/settings.c
   M /trunk/server/settings.h
   M /trunk/server/stdinhand.c
   M /trunk/tools/civmanual.c
   M /trunk/tools/ruleutil/rulesave.c

Move server setting kind enum to common.

Move the enum sset_type to common. This makes common code (like a
requirement type) that deals with server settings possible. Host it in the
new module server_settings. Rename sset_type's members so they get a unique
prefix.

See hrm Feature #651397
------------------------------------------------------------------------
r35224 | sveinung | 2017-04-12 10:55:46 +0100 (Wed, 12 Apr 2017) | 17 lines
Changed paths:
   M /trunk/data/civ2civ3/game.ruleset
   M /trunk/data/civ2civ3/terrain.ruleset

civ2civ3: adapt game starting options to v2.6.

- Add one diplomat as starting unit, so you have an alternative if your
  explorer dies, or the option to create an early embassy.
- Set 6 AIs by default (was 12). This halves the map size (set to tiles per
  player).
- Halve razechance by setting it to 10 (default is 20). (Like in some
  longturn games)
- Set revolentype to "Random, max always quicker". (Like in variant2)
- Reduce the size of glacier poles by setting temperature. Set flatpoles to
  0 so they do not always look the same.
- Adjust property_ocean_depth of oceanic terrain so there are less coastal
  oceans (values copied from variant2).

Patch by David Fernandez <bardo@gna>

See hrm Feature #650801
------------------------------------------------------------------------
r35223 | sveinung | 2017-04-12 10:55:24 +0100 (Wed, 12 Apr 2017) | 8 lines
Changed paths:
   M /trunk/data/civ2civ3/README.civ2civ3
   M /trunk/data/civ2civ3/game.ruleset
   M /trunk/data/sandbox/README.sandbox

civ2civ3: make outer workable tiles stealable.

Import sandbox's rule that a city's outer workable tiles can be stolen, but
not its inner tiles.

Patch by David Fernandez <bardo@gna> (README file messing by me)

See hrm Feature #651450
------------------------------------------------------------------------
r35222 | sveinung | 2017-04-12 10:55:03 +0100 (Wed, 12 Apr 2017) | 9 lines
Changed paths:
   M /trunk/data/civ2civ3/game.ruleset
   M /trunk/data/sandbox/game.ruleset

Improve some achievement related texts.

Hrm Feature #650794's improvements of civ2civ3 achievement texts applied to
both sandbox and civ2civ3. Texts copied from Experimental.

Reported by wotan <wotan@gna>
Patch by David Fernandez <bardo@gna>

See gna bug #25589
------------------------------------------------------------------------
r35221 | sveinung | 2017-04-12 10:54:41 +0100 (Wed, 12 Apr 2017) | 7 lines
Changed paths:
   M /trunk/common/actions.c

A visible unit may forbid a stack tgt action.

A unit the player is able to see may make a unit stack targeted action
illegal. Make action_prob_vs_units() use this fact to eliminate false
positives.

See hrm Feature #651396
------------------------------------------------------------------------
r35220 | sveinung | 2017-04-12 10:53:58 +0100 (Wed, 12 Apr 2017) | 6 lines
Changed paths:
   M /trunk/server/savecompat.c

Use 3.0 devel sg compatibility while it is there.

Freeciv 3.1 still has 3.0 development version save game compatibility code.
Use it.

See hrm Feature #651394
------------------------------------------------------------------------
r35219 | sveinung | 2017-04-12 10:53:44 +0100 (Wed, 12 Apr 2017) | 3 lines
Changed paths:
   M /trunk/server/settings.h

settings.h: add header group label comments.

See hrm Feature #651392
------------------------------------------------------------------------
r35217 | sveinung | 2017-04-10 13:13:50 +0100 (Mon, 10 Apr 2017) | 7 lines
Changed paths:
   M /trunk/common/unittype.c

Homogenize ustate unit action cache creator.

Make the unit state unit action cache creator function more like the other
unit action cache creators by moving the setting of ACTION_ANY below the
setting of ACTION_HOSTILE.

See hrm Feature #650568
------------------------------------------------------------------------
r35212 | sveinung | 2017-04-06 09:19:57 +0100 (Thu, 06 Apr 2017) | 6 lines
Changed paths:
   M /trunk/common/unittype.c

Homogenize diplrel unit action cache creator.

Make the diplrel unit action cache creator function more like the other unit
action cache creators by renaming its unit index variable.

See hrm Feature #650078
------------------------------------------------------------------------
r35211 | sveinung | 2017-04-06 09:19:49 +0100 (Thu, 06 Apr 2017) | 5 lines
Changed paths:
   M /trunk/data/webperimental/effects.ruleset
   M /trunk/data/webperimental/game.ruleset

webperimental: Mountain vision bonus.

Give land units a vision bonus on top of Mountains like civ2civ3 does.

See hrm Feature #650075
------------------------------------------------------------------------
r35210 | sveinung | 2017-04-06 09:19:12 +0100 (Thu, 06 Apr 2017) | 6 lines
Changed paths:
   M /trunk/common/actions.c

Detect city blocks unit stack tgt action.

Don't offer to do a unit stack targeted action against the units that may be
hidden in a city when the action can't be done to unit stacks inside a city.

See hrm Feature #650074
------------------------------------------------------------------------
r35203 | sveinung | 2017-04-05 15:22:30 +0100 (Wed, 05 Apr 2017) | 3 lines
Changed paths:
   M /trunk/common/unittype.c
   M /trunk/common/unittype.h

Cache target CityTile state action legality.

See hrm Feature #649824
------------------------------------------------------------------------
r35202 | sveinung | 2017-04-05 15:22:23 +0100 (Wed, 05 Apr 2017) | 7 lines
Changed paths:
   M /trunk/common/player.c
   M /trunk/common/player.h

Make it possible to check if 0 units is certain.

Allow checking if a player can reason that a tile without any reported units
really has no units on it. The presence of units is reported by the units
them self or by an occupied city.

See hrm Feature #649819
------------------------------------------------------------------------
r35201 | sveinung | 2017-04-05 15:22:14 +0100 (Wed, 05 Apr 2017) | 5 lines
Changed paths:
   M /trunk/common/requirements.h
   M /trunk/common/unittype.c

Stop sharing requirement_unit_state_ereq().

Have it live in common/unittype.c where it is used.

See hrm Feature #649817
------------------------------------------------------------------------
r35200 | sveinung | 2017-04-05 15:22:01 +0100 (Wed, 05 Apr 2017) | 6 lines
Changed paths:
   M /trunk/common/unittype.c

Diplrel action cache: non hostile isn't hostile.

Stop the diplrel utype action cache from saying that a diplrel allows a
hostile action when it allows a non hostile action.

See hrm Bug #649816
------------------------------------------------------------------------
r35198 | sveinung | 2017-04-04 13:44:46 +0100 (Tue, 04 Apr 2017) | 1 line
Changed paths:
   M /trunk/common/actions.c

Comment grammer fix
------------------------------------------------------------------------
r35196 | sveinung | 2017-04-03 15:47:34 +0100 (Mon, 03 Apr 2017) | 1 line
Changed paths:
   M /trunk/common/player.c

Comment grammar fix
------------------------------------------------------------------------
r35195 | cazfi | 2017-04-02 17:24:54 +0100 (Sun, 02 Apr 2017) | 7 lines
Changed paths:
   M /trunk/client/Makefile.am
   M /trunk/configure.ac
   M /trunk/m4/gtk3x-client.m4

Plug gtk3x-client to build

It builds against gtk+-3.89.2.
It only builds. It doesn't work yet.

See hrm Feature #647936

------------------------------------------------------------------------
r35193 | cazfi | 2017-04-02 09:53:40 +0100 (Sun, 02 Apr 2017) | 4 lines
Changed paths:
   A /trunk/tools/mpgui_gtk4.c (from /trunk/tools/mpgui_gtk3.c:35192)

Copy mpgui_gtk3.c as baseline of mpgui_gtk4.c development

See hrm Task #649536

------------------------------------------------------------------------
r35192 | cazfi | 2017-04-02 09:41:40 +0100 (Sun, 02 Apr 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/mapview.c

Drop gdk_window_process_updates() call

See hrm Feature #647935

------------------------------------------------------------------------
r35191 | cazfi | 2017-04-01 21:40:00 +0100 (Sat, 01 Apr 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/themes.c

Drop third parameter from gtk_css_provider_load_from_file() call

See hrm Feature #647928

------------------------------------------------------------------------
r35186 | sveinung | 2017-04-01 21:14:14 +0100 (Sat, 01 Apr 2017) | 5 lines
Changed paths:
   M /trunk/doc/README.actions

README.actions: server option spelling fix.

The server setting is called unreachableprotects, not unreachable_protects.

See hrm Bug #648798
------------------------------------------------------------------------
r35185 | sveinung | 2017-04-01 21:13:25 +0100 (Sat, 01 Apr 2017) | 3 lines
Changed paths:
   M /trunk/server/rscompat.c

rscompat: the "Provoking" uflag was added in 3.0.

See hrm Bug #648789
------------------------------------------------------------------------
r35184 | sveinung | 2017-04-01 21:13:16 +0100 (Sat, 01 Apr 2017) | 12 lines
Changed paths:
   M /trunk/client/client_main.c
   M /trunk/common/actions.c
   M /trunk/common/fc_interface.c
   M /trunk/common/fc_interface.h
   M /trunk/server/srv_main.c

Make target-city-must-be-known precise.

The rule that a city must be known to a player before he can perform an
action to it used to be content when the player knew the city's tile. It was
therefore possible to act against an unknown city founded at a tile observed
before the city was founded.

Add player_tile_city_id_get() to the Freeciv interface. This makes it
possible to check if the city it self is known. Use it to make the rule
precise.

See Feature #648787
------------------------------------------------------------------------
r35183 | sveinung | 2017-04-01 21:13:05 +0100 (Sat, 01 Apr 2017) | 1 line
Changed paths:
   M /trunk/server/savegame3.c

Comment improvement
------------------------------------------------------------------------
r35182 | cazfi | 2017-04-01 21:00:05 +0100 (Sat, 01 Apr 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/mapview.c

Add third parameter to gdk_window_begin_draw_frame() calls

See hrm Feature #647934

------------------------------------------------------------------------
r35181 | cazfi | 2017-04-01 19:10:54 +0100 (Sat, 01 Apr 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/gui_main.c
   M /trunk/client/gui-gtk-4.0/mapctrl.c

Drop deprecated gtk_widget_set_app_paintable() calls

See hrm Feature #647932

------------------------------------------------------------------------
r35180 | cazfi | 2017-04-01 18:23:21 +0100 (Sat, 01 Apr 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/colors.c

Remove use of GdkVisual

See hrm Feature #647933

------------------------------------------------------------------------
r35179 | cazfi | 2017-04-01 13:33:13 +0100 (Sat, 01 Apr 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/cma_fe.c

Drop gtk_button_set_image_position() call

See hrm Feature #647931

------------------------------------------------------------------------
r35178 | cazfi | 2017-04-01 11:50:22 +0100 (Sat, 01 Apr 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/citydlg.c
   M /trunk/client/gui-gtk-4.0/gui_stuff.c
   M /trunk/client/gui-gtk-4.0/mapview.c

Drop fourth parameter from gtk_css_provider_load_from_data() calls

See hrm Feature #647927

------------------------------------------------------------------------
r35177 | cazfi | 2017-04-01 10:58:52 +0100 (Sat, 01 Apr 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/choice_dialog.c
   M /trunk/client/gui-gtk-4.0/citydlg.c
   M /trunk/client/gui-gtk-4.0/cma_fe.c
   M /trunk/client/gui-gtk-4.0/dialogs.c
   M /trunk/client/gui-gtk-4.0/diplodlg.c
   M /trunk/client/gui-gtk-4.0/editgui.c
   M /trunk/client/gui-gtk-4.0/editprop.c
   M /trunk/client/gui-gtk-4.0/gui_main.c
   M /trunk/client/gui-gtk-4.0/gui_stuff.c
   M /trunk/client/gui-gtk-4.0/happiness.c
   M /trunk/client/gui-gtk-4.0/helpdlg.c
   M /trunk/client/gui-gtk-4.0/inteldlg.c
   M /trunk/client/gui-gtk-4.0/mapctrl.c
   M /trunk/client/gui-gtk-4.0/pages.c
   M /trunk/client/gui-gtk-4.0/unitselect.c

Replace gtk_container_set_border_width() with modern constructs

See hrm Feature #647929

------------------------------------------------------------------------
r35176 | cazfi | 2017-04-01 10:20:07 +0100 (Sat, 01 Apr 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/chatline.c
   M /trunk/client/gui-gtk-4.0/editprop.c
   M /trunk/client/gui-gtk-4.0/gui_stuff.c
   M /trunk/client/gui-gtk-4.0/voteinfo_bar.c

Replace gtk_button_set_image() with modern constructs

See hrm Feature #647930

------------------------------------------------------------------------
r35175 | cazfi | 2017-04-01 09:17:50 +0100 (Sat, 01 Apr 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/chatline.c
   M /trunk/client/gui-gtk-4.0/editgui.c
   M /trunk/client/gui-gtk-4.0/gamedlgs.c
   M /trunk/client/gui-gtk-4.0/gotodlg.c
   M /trunk/client/gui-gtk-4.0/inputdlg.c
   M /trunk/client/gui-gtk-4.0/optiondlg.c
   M /trunk/client/gui-gtk-4.0/unitselect.c

Drop fifth parameter from gtk_box_pack_start() calls

See hrm Feature #647926

------------------------------------------------------------------------
r35172 | cazfi | 2017-03-31 16:53:21 +0100 (Fri, 31 Mar 2017) | 4 lines
Changed paths:
   M /trunk/dependencies/luasql/README
   M /trunk/dependencies/luasql/Version
   M /trunk/dependencies/luasql/src/ls_mysql.c
   M /trunk/dependencies/luasql/src/ls_postgres.c
   M /trunk/dependencies/luasql/src/ls_sqlite3.c
   M /trunk/dependencies/luasql/src/luasql.c

Updated included luasql files to luasql-2.3.5 level.

See hrm Feature #648391

------------------------------------------------------------------------
r35171 | cazfi | 2017-03-31 14:21:32 +0100 (Fri, 31 Mar 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/gui_main.c
   M /trunk/client/gui-gtk-4.0/gui_main.h

Gtk3x-client identifies itself as one

See hrm Feature #637962

------------------------------------------------------------------------
r35168 | sveinung | 2017-03-28 21:00:40 +0100 (Tue, 28 Mar 2017) | 6 lines
Changed paths:
   M /trunk/data/webperimental/game.ruleset

webperimental: allow airlift to and from allies.

Set the default value for the airliftingstyle setting so it allows
airlifting to and from allied cities by default.

See hrm Feature #647963
------------------------------------------------------------------------
r35167 | sveinung | 2017-03-28 21:00:30 +0100 (Tue, 28 Mar 2017) | 6 lines
Changed paths:
   M /trunk/common/actions.c
   M /trunk/server/unithand.c

unit_get_actions: stop city existence leakage.

Stop leaking if a previously observed city still exists when responding to
a request for action probabilities in handle_unit_get_actions().

See gna bug #25282
------------------------------------------------------------------------
r35165 | cazfi | 2017-03-28 16:57:29 +0100 (Tue, 28 Mar 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-4.0/action_dialog.c
   M /trunk/client/gui-gtk-4.0/canvas.c
   M /trunk/client/gui-gtk-4.0/chatline.c
   M /trunk/client/gui-gtk-4.0/choice_dialog.c
   M /trunk/client/gui-gtk-4.0/citizensinfo.c
   M /trunk/client/gui-gtk-4.0/citydlg.c
   M /trunk/client/gui-gtk-4.0/cityrep.c
   M /trunk/client/gui-gtk-4.0/cma_fe.c
   M /trunk/client/gui-gtk-4.0/colors.c
   M /trunk/client/gui-gtk-4.0/connectdlg.c
   M /trunk/client/gui-gtk-4.0/dialogs.c
   M /trunk/client/gui-gtk-4.0/diplodlg.c
   M /trunk/client/gui-gtk-4.0/editgui.c
   M /trunk/client/gui-gtk-4.0/editprop.c
   M /trunk/client/gui-gtk-4.0/finddlg.c
   M /trunk/client/gui-gtk-4.0/gamedlgs.c
   M /trunk/client/gui-gtk-4.0/gotodlg.c
   M /trunk/client/gui-gtk-4.0/graphics.c
   M /trunk/client/gui-gtk-4.0/graphics.h
   M /trunk/client/gui-gtk-4.0/gui_main.c
   M /trunk/client/gui-gtk-4.0/gui_stuff.c
   M /trunk/client/gui-gtk-4.0/happiness.c
   M /trunk/client/gui-gtk-4.0/happiness.h
   M /trunk/client/gui-gtk-4.0/helpdlg.c
   M /trunk/client/gui-gtk-4.0/inputdlg.c
   M /trunk/client/gui-gtk-4.0/inteldlg.c
   M /trunk/client/gui-gtk-4.0/luaconsole.c
   M /trunk/client/gui-gtk-4.0/mapctrl.c
   M /trunk/client/gui-gtk-4.0/mapview.c
   M /trunk/client/gui-gtk-4.0/mapview.h
   M /trunk/client/gui-gtk-4.0/menu.c
   M /trunk/client/gui-gtk-4.0/messagedlg.c
   M /trunk/client/gui-gtk-4.0/messagewin.c
   M /trunk/client/gui-gtk-4.0/optiondlg.c
   M /trunk/client/gui-gtk-4.0/pages.c
   M /trunk/client/gui-gtk-4.0/plrdlg.c
   M /trunk/client/gui-gtk-4.0/repodlgs.c
   M /trunk/client/gui-gtk-4.0/soundset_dlg.c
   M /trunk/client/gui-gtk-4.0/spaceshipdlg.c
   M /trunk/client/gui-gtk-4.0/sprite.c
   M /trunk/client/gui-gtk-4.0/theme_dlg.c
   M /trunk/client/gui-gtk-4.0/themes.c
   M /trunk/client/gui-gtk-4.0/tileset_dlg.c
   M /trunk/client/gui-gtk-4.0/transportdlg.c
   M /trunk/client/gui-gtk-4.0/unitselect.c
   M /trunk/client/gui-gtk-4.0/unitselunitdlg.c
   M /trunk/client/gui-gtk-4.0/voteinfo_bar.c
   M /trunk/client/gui-gtk-4.0/wldlg.c

Set gui-gtk-4.0 include dir comments correctly

See hrm Feature #647950

------------------------------------------------------------------------
r35164 | cazfi | 2017-03-28 16:35:31 +0100 (Tue, 28 Mar 2017) | 4 lines
Changed paths:
   M /trunk/client/Makefile.am
   M /trunk/client/gui-gtk-3.22/Makefile.am
   M /trunk/configure.ac
   M /trunk/m4/gtk3.22-client.m4

Clean up gtk3.22-client bootstrap variables

See hrm Feature #647949

------------------------------------------------------------------------
r35163 | cazfi | 2017-03-26 18:43:36 +0100 (Sun, 26 Mar 2017) | 4 lines
Changed paths:
   A /trunk/client/gui-gtk-4.0 (from /trunk/client/gui-gtk-3.22:35162)

Copied gui-gtk-3.22 as baseline of gui-gtk-4.0

See hrm Feature #637945

------------------------------------------------------------------------
r35160 | sveinung | 2017-03-26 15:33:14 +0100 (Sun, 26 Mar 2017) | 6 lines
Changed paths:
   M /trunk/client/control.c
   M /trunk/client/gui-gtk-3.0/action_dialog.c
   M /trunk/client/gui-gtk-3.22/action_dialog.c
   M /trunk/client/gui-qt/dialogs.cpp
   M /trunk/client/packhand.c
   M /trunk/common/networking/packets.def
   M /trunk/fc_version
   M /trunk/server/unithand.c

packet_unit_get_actions: don't specify tgt city.

Drop the unit_get_actions packet's ability to specify city id. There is
never more than one city at a tile. Take the city from the tile.

See hrm Feature #647692
------------------------------------------------------------------------
r35159 | sveinung | 2017-03-26 15:33:04 +0100 (Sun, 26 Mar 2017) | 7 lines
Changed paths:
   M /trunk/server/unithand.c

Check that target is at target tile.

Have handle_unit_get_actions() check that target unit and target city is
located at the target tile. Assuming this makes it safe to just check the
tile.

See hrm Feature #647175
------------------------------------------------------------------------
r35156 | sveinung | 2017-03-24 11:44:49 +0000 (Fri, 24 Mar 2017) | 6 lines
Changed paths:
   M /trunk/server/unithand.c

Always initialize probabilities to ACTPROB_NA.

Simplify handle_unit_get_actions() by always initializing the unit_actions
packet's probabilities field to ACTPROB_NA.

See hrm Feature #647145
------------------------------------------------------------------------
r35155 | sveinung | 2017-03-24 11:44:40 +0000 (Fri, 24 Mar 2017) | 8 lines
Changed paths:
   M /trunk/server/settings.c

Allow non hack users to disable timeout.

A non hack user may enable timeout by setting it to a value above 30
seconds. Let him disable it too.

Requested by drdogbot7 at the Freeciv forum.

See hrm Feature #647101
------------------------------------------------------------------------
r35151 | sveinung | 2017-03-22 15:31:32 +0000 (Wed, 22 Mar 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-sdl2/action_dialog.c

SDL2 client: add "Upgrade Unit" to act sel dlg.

Add a button for the "Upgrade Unit" action to the action selection dialog.
This makes the SDL2 client's action selection dialog cover all actions.

See hrm Feature #646483
------------------------------------------------------------------------
r35150 | sveinung | 2017-03-22 15:31:23 +0000 (Wed, 22 Mar 2017) | 6 lines
Changed paths:
   M /trunk/server/savegame3.c

"Able to save all actions" checks actions.

Make the assertion that all actions can be saved in a unit order check the
max number of actions. This prepares it for generic actions.

See hrm Feature #646480
------------------------------------------------------------------------
r35149 | sveinung | 2017-03-22 15:31:14 +0000 (Wed, 22 Mar 2017) | 5 lines
Changed paths:
   M /trunk/client/helpdata.c

helpdata: generate block help for all actions.

Prepare help text generation for action blocked_by for generic actions.

See hrm Feature #646479
------------------------------------------------------------------------
r35144 | sveinung | 2017-03-22 11:02:10 +0000 (Wed, 22 Mar 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-qt/dialogs.cpp

Qt client: add "Upgrade Unit" to act sel dlg.

Add a button for the "Upgrade Unit" action to the action selection dialog.
This makes the Qt client's action selection dialog cover all actions.

See hrm Feature #646168
------------------------------------------------------------------------
r35143 | sveinung | 2017-03-22 11:02:02 +0000 (Wed, 22 Mar 2017) | 8 lines
Changed paths:
   M /trunk/client/climisc.c

act_prob_cache size is ruleset number of actions.

The action probabilities are copied into it using action_iterate. It will
therefore never have to hold more than NUM_ACTIONS actions. This change can
therefore go in before Freeciv stops transferring action probabilities for
non existing actions after actions have been made generic.

See hrm Feature #646167
------------------------------------------------------------------------
r35142 | sveinung | 2017-03-22 11:01:52 +0000 (Wed, 22 Mar 2017) | 6 lines
Changed paths:
   M /trunk/server/unithand.c

Simplify "interpret move as action" handling.

Get the explanation why no action is possible when the client asks what
actions the unit can perform against the target tile.

See hrm Feature #645941
------------------------------------------------------------------------
r35141 | sveinung | 2017-03-22 11:01:41 +0000 (Wed, 22 Mar 2017) | 6 lines
Changed paths:
   M /trunk/server/savegame3.c

Document "able to save all actions" assertion.

Document the absence of an off by one error in the assertion that all
actions can be saved in a unit order.

See hrm Bug #645817
------------------------------------------------------------------------
r35134 | sveinung | 2017-03-20 10:34:27 +0000 (Mon, 20 Mar 2017) | 1 line
Changed paths:
   M /trunk/common/actions.c

Comment fact fix
------------------------------------------------------------------------
r35133 | sveinung | 2017-03-20 10:34:19 +0000 (Mon, 20 Mar 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-gtk-3.0/action_dialog.c
   M /trunk/client/gui-gtk-3.22/action_dialog.c

Gtk clients: add "Upgrade Unit" to act sel dlg.

Add a button for the "Upgrade Unit" action to the action selection dialog.
This makes the GTK clients' action selection dialog cover all actions.

See hrm Feature #645832
------------------------------------------------------------------------
r35132 | sveinung | 2017-03-20 10:34:10 +0000 (Mon, 20 Mar 2017) | 5 lines
Changed paths:
   M /trunk/server/advisors/advdata.c
   M /trunk/server/unithand.c

Assert that value isn't ACTION_COUNT.

Add assertions to switch cases that shouldn't end up handling ACTION_COUNT.

See hrm Feature #645814
------------------------------------------------------------------------
r35131 | sveinung | 2017-03-20 10:34:01 +0000 (Mon, 20 Mar 2017) | 3 lines
Changed paths:
   M /trunk/common/actions.c

Assert what failed rather than FALSE.

See hrm Feature #645804
------------------------------------------------------------------------
r35130 | sveinung | 2017-03-20 10:33:52 +0000 (Mon, 20 Mar 2017) | 3 lines
Changed paths:
   M /trunk/common/actions.c

Prepare action storage for generic actions.

See hrm Feature #645783
------------------------------------------------------------------------
r35127 | sveinung | 2017-03-19 10:07:26 +0000 (Sun, 19 Mar 2017) | 11 lines
Changed paths:
   M /trunk/data/alien/game.ruleset
   M /trunk/data/civ1/game.ruleset
   M /trunk/data/civ2/game.ruleset
   M /trunk/data/civ2civ3/game.ruleset
   M /trunk/data/classic/game.ruleset
   M /trunk/data/experimental/game.ruleset
   M /trunk/data/multiplayer/game.ruleset
   M /trunk/data/sandbox/game.ruleset
   M /trunk/data/webperimental/game.ruleset

Restore "Recycle Unit"'s DiplRel rules.

Hrm Feature #644449 made it legal to do "Recycle Unit" to an adjacent city.
It is possible to be adjacent to non allied cities. This accidentally
removed the old implicit rules that only an allied city could have its
production helped with "Recycle Unit". Restore the old rules by making them
explicit.

Reported by Christian Knoke <chrisk>

See gna bug #25597
------------------------------------------------------------------------
r35126 | sveinung | 2017-03-19 10:06:58 +0000 (Sun, 19 Mar 2017) | 8 lines
Changed paths:
   M /trunk/common/actions.c

action_prob_vs_X(): quick check target distance.

Make all the action_prob_vs_X() functions fail fast if the target is to far
away. This makes the behavior of action_prob_vs_units() (action probability
against unit stack) standard so the remaining action_prob_vs_X() functions
becomes ready for target specific unknowns.

See hrm Feature #644053
------------------------------------------------------------------------
r35124 | sveinung | 2017-03-17 12:02:25 +0000 (Fri, 17 Mar 2017) | 6 lines
Changed paths:
   M /trunk/server/ruleset.c

Load action enabler action by action rule name.

Use the action's rule name. Stop assuming that action rule names will remain
hard coded.

See hrm Feature #645313
------------------------------------------------------------------------
r35120 | sveinung | 2017-03-16 16:57:42 +0000 (Thu, 16 Mar 2017) | 3 lines
Changed paths:
   M /trunk/server/savegame3.c

Prepare action order saving for generic actions.

See hrm Feature #644963
------------------------------------------------------------------------
r35119 | sveinung | 2017-03-16 16:56:26 +0000 (Thu, 16 Mar 2017) | 3 lines
Changed paths:
   M /trunk/client/packhand.c
   M /trunk/server/unithand.c

Clarify "no action" in action details requests.

See hrm Feature #644959
------------------------------------------------------------------------
r35118 | sveinung | 2017-03-16 16:56:18 +0000 (Thu, 16 Mar 2017) | 3 lines
Changed paths:
   M /trunk/tools/ruledit/tab_enablers.cpp
   M /trunk/tools/ruleutil/rulesave.c

ruledit: clarify action counting.

See hrm Feature #644930
------------------------------------------------------------------------
r35115 | sveinung | 2017-03-15 11:30:24 +0000 (Wed, 15 Mar 2017) | 3 lines
Changed paths:
   M /trunk/client/packhand.c

Clarify "no action" in client side auto act.

See hrm Feature #644616
------------------------------------------------------------------------
r35114 | sveinung | 2017-03-15 11:30:16 +0000 (Wed, 15 Mar 2017) | 3 lines
Changed paths:
   M /trunk/common/networking/packets.def
   M /trunk/server/unithand.c

Prepare PACKET_UNIT_ACTIONS for generic actions.

See hrm Feature #644615
------------------------------------------------------------------------
r35109 | sveinung | 2017-03-14 09:39:20 +0000 (Tue, 14 Mar 2017) | 6 lines
Changed paths:
   M /trunk/client/control.c
   M /trunk/client/goto.c
   M /trunk/client/gui-qt/mapctrl.cpp
   M /trunk/client/gui-qt/menu.cpp
   M /trunk/client/mapctrl_common.c
   M /trunk/client/packhand.c
   M /trunk/server/savecompat.c
   M /trunk/server/savegame2.c
   M /trunk/server/savegame3.c
   M /trunk/server/unithand.c

Clarify "no action" in unit order.

Use ACTION_NONE inn all cases that specifies that a unit order has no
action. This is clearer than ACTION_COUNT.

See hrm Feature #644455
------------------------------------------------------------------------
r35108 | sveinung | 2017-03-14 09:39:12 +0000 (Tue, 14 Mar 2017) | 6 lines
Changed paths:
   M /trunk/common/actions.c
   M /trunk/doc/README.actions

Rule change: "Recycle Unit" to adjacent city.

Make the action "Recycle Unit" consistent with "Help Wonder" by permitting
it to be done to an adjacent city.

See hrm Feature #644449
------------------------------------------------------------------------
r35107 | sveinung | 2017-03-14 09:39:03 +0000 (Tue, 14 Mar 2017) | 11 lines
Changed paths:
   M /trunk/common/actions.c
   M /trunk/common/actions.h
   M /trunk/common/networking/packets.def
   M /trunk/server/ruleset.c
   M /trunk/tools/ruleutil/rulesave.c

Prepare action counting for generic actions.

Make it possible to distinguish the number of actions in the current
ruleset from the maximum number of actions. This will be needed when actions
becomes generic.

Introduce the distinction in action auto performers. Introduce the
distinction in action_iterate. Other areas should be clarified in follow up
patches.

See hrm Feature #644446
------------------------------------------------------------------------
r35106 | sveinung | 2017-03-14 09:38:50 +0000 (Tue, 14 Mar 2017) | 7 lines
Changed paths:
   M /trunk/ai/default/aicity.c
   M /trunk/client/control.c
   M /trunk/client/packhand.c
   M /trunk/common/actions.c
   M /trunk/common/actions.h
   M /trunk/common/unittype.c
   M /trunk/server/ruleset.c
   M /trunk/server/savegame3.c
   M /trunk/server/unithand.c

Prepare action ID validation for generic actions.

Rename the function action_id_is_valid() to action_id_exists(). Make it
about the action with the given id, not about the action result. Use
gen_action_is_valid() for action results.

See hrm Feature #644444
------------------------------------------------------------------------
r35104 | sveinung | 2017-03-13 14:19:41 +0000 (Mon, 13 Mar 2017) | 10 lines
Changed paths:
   M /trunk/common/actions.c
   M /trunk/doc/README.actions

Rule change: close "Recycle Unit" loop hole.

The action "Help Wonder" prevents the player from doing it in a city that
has enough shields to finish its current production. This protects against
a cheating player avoiding rules about what items can receive help from it
by receiving the help for a (finished) legal item and then build an item
that can't receive help from "Help Wonder". Give the action "Recycle Unit"
the same protection. This makes it consistent with "Help Wonder".

See hrm Feature #644056
------------------------------------------------------------------------
r35099 | sveinung | 2017-03-12 12:27:09 +0000 (Sun, 12 Mar 2017) | 7 lines
Changed paths:
   M /trunk/common/actions.c
   M /trunk/common/actions.h
   M /trunk/server/ruleset.c
   M /trunk/tools/ruleutil/rulesave.c

Clarify action_auto_perf action list terminator.

Specify that the value that terminates action auto performers' action lists
is ACTION_NONE (no action). ACTION_COUNT, while currently the same value,
can be understood in other ways too.

See hrm Feature #644169
------------------------------------------------------------------------
r35098 | sveinung | 2017-03-12 12:27:00 +0000 (Sun, 12 Mar 2017) | 6 lines
Changed paths:
   M /trunk/common/actions.c
   M /trunk/common/metaknowledge.c
   M /trunk/common/metaknowledge.h
   M /trunk/utility/shared.c
   M /trunk/utility/shared.h

Define tristate "and" near tristate.

Rename the function tri_and() to fc_tristate_and() and define it where the
enum fc_tristate is defined.

See hrm Feature #644166
------------------------------------------------------------------------
r35097 | sveinung | 2017-03-12 12:26:51 +0000 (Sun, 12 Mar 2017) | 8 lines
Changed paths:
   M /trunk/tools/ruledit/tab_enablers.cpp

ruledit: new action enablers go last.

The action enabler list is sorted by action. A user doesn't expect the new
action enabler he just added to end up in the middle of the action enabler
list. Set the default action of a new action enabler to the last action so
it shows up at the end of the action enabler list.

See hrm Feature #644055
------------------------------------------------------------------------
r35094 | cazfi | 2017-03-12 08:46:24 +0000 (Sun, 12 Mar 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-gtk-3.22/mapview.c

Pass valid region to gdk_window_begin_draw_frame() calls.

Reported by Jochen Trumpf <jochent>

See gna bug #25529

------------------------------------------------------------------------
r35088 | sveinung | 2017-03-10 10:36:27 +0000 (Fri, 10 Mar 2017) | 8 lines
Changed paths:
   M /trunk/server/unithand.c

Remove redundant needs war explanation code.

It is impossible to do "Conquer City" to a city that contains any units.
This means that the target city can't contain a unit from a nation the actor
isn't at war with. Remove action specific action not enabled explanation
code that is supposed to detect this.

See hrm Feature #643526
------------------------------------------------------------------------
r35087 | sveinung | 2017-03-10 10:36:18 +0000 (Fri, 10 Mar 2017) | 3 lines
Changed paths:
   M /trunk/data/webperimental/game.ruleset

webperimental: turn off slow invasion.

See hrm Feature #643525
------------------------------------------------------------------------
r35086 | sveinung | 2017-03-09 20:41:32 +0000 (Thu, 09 Mar 2017) | 3 lines
Changed paths:
   M /trunk/server/unithand.c

Give the AI action decision want information.

See hrm Feature #643268
------------------------------------------------------------------------
r35085 | sveinung | 2017-03-09 20:41:20 +0000 (Thu, 09 Mar 2017) | 3 lines
Changed paths:
   M /trunk/server/unithand.c

Inline variables used only once.

See hrm Feature #643198
------------------------------------------------------------------------
r35084 | sveinung | 2017-03-09 20:41:13 +0000 (Thu, 09 Mar 2017) | 5 lines
Changed paths:
   M /trunk/server/unithand.c

Remove obsolete optimization.

Almost all units are actors in 3.0 and later.

See hrm Feature #643196
------------------------------------------------------------------------
r35080 | cazfi | 2017-03-08 16:40:21 +0000 (Wed, 08 Mar 2017) | 4 lines
Changed paths:
   M /trunk/configure.ac

Updated BUG_URL to point to hostedredmine.com

See hrm Feature #637952

------------------------------------------------------------------------
r35077 | sveinung | 2017-03-08 16:10:08 +0000 (Wed, 08 Mar 2017) | 1 line
Changed paths:
   M /trunk/server/unithand.c

Comment spell fix: suiting -> suitable
------------------------------------------------------------------------
r35076 | sveinung | 2017-03-08 16:09:44 +0000 (Wed, 08 Mar 2017) | 17 lines
Changed paths:
   M /trunk/server/unithand.c

Don't advice a player to declare war on himself.

The player can ask what actions a unit can perform to targets located at a
specific tile in two ways. He can ask directly via the unit_get_actions
packet. Ordering the unit to move to the tile is sometimes interpreted as an
indirect question. When no action is possible the server will notify the
player. If able to it will try to explain why no action was possible.

An action may be impossible because the actor isn't at war with the target.
The server will consider this when trying to find an explanation why no
action could be performed. If declaring war may make an action legal it will
let the player know.

A player can't declare war on himself or on a team mate. Informing the
player that a war may make some action legal is therefore pointless.

See gna bug #25551
------------------------------------------------------------------------
r35072 | sveinung | 2017-03-01 10:19:34 +0000 (Wed, 01 Mar 2017) | 8 lines
Changed paths:
   M /trunk/server/unithand.c

Improve explanation for tile targeted actions.

A tile targeted action may be illegal because of the diplomatic relationship
the actor unit's owner has to the tile's owner. Have the processing of an
unit_do_action packet forward target tile owner information to the illegal
action handling.

See gna patch #8122
------------------------------------------------------------------------
r35071 | sveinung | 2017-03-01 10:19:27 +0000 (Wed, 01 Mar 2017) | 10 lines
Changed paths:
   M /trunk/server/unithand.c

Explain unexpected missing target.

Stop failing silently when an unit_do_action packet or an unit_action_query
packet with a missing target arrives.

A target could disappear at the same time the player presses a button in the
action selection dialog. A modified client may specify the target in a bad
way.

See gna patch #8121
------------------------------------------------------------------------
r35070 | sveinung | 2017-03-01 10:19:18 +0000 (Wed, 01 Mar 2017) | 7 lines
Changed paths:
   M /trunk/ai/default/aicity.c
   M /trunk/ai/default/aisettler.c
   M /trunk/ai/default/daidomestic.c
   M /trunk/client/control.c
   M /trunk/client/helpdata.c
   M /trunk/common/actions.c
   M /trunk/common/actions.h
   M /trunk/common/aicore/aisupport.c
   M /trunk/server/advisors/advbuilding.c
   M /trunk/server/advisors/advdata.c
   M /trunk/server/unithand.c

action_get_role(): take action struct.

The function action_get_role() took an action id rather than an action. Make
it take an action structure. Introduce action_id_get_role() for getting role
by ID.

See gna patch #8120
------------------------------------------------------------------------
r35069 | mir3x | 2017-02-28 06:34:11 +0000 (Tue, 28 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/menu.cpp

Qt client - fixed quickairlift unit type not shown after menu update

See gna bug #25533


------------------------------------------------------------------------
r35065 | mir3x | 2017-02-28 06:31:50 +0000 (Tue, 28 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/pages.cpp

Qt client - added connect to server on enter pressed in linedit in pregame

See gna patch #8118


------------------------------------------------------------------------
r35060 | cazfi | 2017-02-23 05:00:12 +0000 (Thu, 23 Feb 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-gtk-3.0/gui_main.c
   M /trunk/client/gui-gtk-3.22/gui_main.c

Fixed zoom out and in to work when '+' or '-' require 'shift'

Reported by Jochen Trumpf <jochent>

See gna bug #25237

------------------------------------------------------------------------
r35057 | cazfi | 2017-02-22 04:11:31 +0000 (Wed, 22 Feb 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-qt/repodlgs.cpp

Fixed 'might be used uninitialized' error from qt-client update_units().

See hrm bug #639513

------------------------------------------------------------------------
r35056 | mir3x | 2017-02-21 14:13:09 +0000 (Tue, 21 Feb 2017) | 6 lines
Changed paths:
   M /trunk/server/report.c

Fixed dead player scores not revealed on game over
Reported by Daniel Markstedt <dmarks>

See gna bug #17248


------------------------------------------------------------------------
r35053 | mir3x | 2017-02-21 14:09:14 +0000 (Tue, 21 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/menu.cpp
   M /trunk/client/gui-qt/pages.cpp
   M /trunk/client/gui-qt/repodlgs.cpp
   M /trunk/client/gui-qt/repodlgs.h
   M /trunk/data/themes/gui-qt/Classic/resource.qss
   M /trunk/data/themes/gui-qt/Necrophos/resource.qss
   M /trunk/data/themes/gui-qt/NightStalker/resource.qss

Qt client - new units report

See gna patch #8117


------------------------------------------------------------------------
r35050 | mir3x | 2017-02-16 20:03:59 +0000 (Thu, 16 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/pages.cpp

Qt client - rearranged page scenario

See gna patch #8116


------------------------------------------------------------------------
r35046 | mir3x | 2017-02-16 20:01:41 +0000 (Thu, 16 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/plrdlg.cpp

Qt client - fixed player dialog not showing new nations

See gna bug #25506


------------------------------------------------------------------------
r35040 | cazfi | 2017-02-16 04:57:55 +0000 (Thu, 16 Feb 2017) | 4 lines
Changed paths:
   M /trunk/bootstrap/generate_gitrev.sh

Replaced typo that caused unnecessary regeneration of fc_gitrev_gen.h

See gna bug #25508

------------------------------------------------------------------------
r35037 | cazfi | 2017-02-16 04:48:18 +0000 (Thu, 16 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/mapview_common.c

Set production text color correctly when city production display is
enabled without city name display being enabled.

See gna bug #25477

------------------------------------------------------------------------
r35035 | cazfi | 2017-02-15 16:17:28 +0000 (Wed, 15 Feb 2017) | 4 lines
Changed paths:
   M /trunk/windows/installer_cross/installer_build.sh

Add dlls needed by Qt based programs to relevant cross-built windows installers.

See gna patch #8106

------------------------------------------------------------------------
r35032 | mir3x | 2017-02-14 08:14:45 +0000 (Tue, 14 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/gui_main.cpp

Qt client - focus might be set incorrectly to map in some cases

See gna bug #25505


------------------------------------------------------------------------
r35029 | mir3x | 2017-02-14 08:11:38 +0000 (Tue, 14 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/gui_main.cpp

Qt client - Changed manual switching to PAGE_START only from PAGE_NETWORK.

See gna bug #25486


------------------------------------------------------------------------
r35023 | cazfi | 2017-02-13 20:16:42 +0000 (Mon, 13 Feb 2017) | 4 lines
Changed paths:
   M /trunk/doc/README.msys2
   M /trunk/windows/installer_legacy/Makefile

Updated gnuwin/msys download URL.

See gna patch #8109

------------------------------------------------------------------------
r35020 | mir3x | 2017-02-12 19:11:06 +0000 (Sun, 12 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/chatline.cpp

Qt client - Fixed 'glued' links in chat.

See gna bug #25499


------------------------------------------------------------------------
r35017 | mir3x | 2017-02-12 19:08:22 +0000 (Sun, 12 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/diplodlg.cpp

Qt client - contrast colors in diplomacy dialog overriden by theme

See gna bug #25495


------------------------------------------------------------------------
r35014 | mir3x | 2017-02-12 19:05:46 +0000 (Sun, 12 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/helpdlg.cpp

Qt client - show nations flags in help tree

See gna patch #8113


------------------------------------------------------------------------
r35011 | mir3x | 2017-02-12 19:03:36 +0000 (Sun, 12 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/diplodlg.cpp

Qt client - added tooltip to diplomacy dialog about state beween civilizations

See gna patch #8114


------------------------------------------------------------------------
r35007 | mir3x | 2017-02-12 19:00:47 +0000 (Sun, 12 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/plrdlg.cpp

Qt client - added information about sharing vision to player dialog

See gna patch #8115


------------------------------------------------------------------------
r35003 | cazfi | 2017-02-11 07:32:01 +0000 (Sat, 11 Feb 2017) | 4 lines
Changed paths:
   M /trunk/windows/installer_cross/installer_build.sh

Add dlls needed by gtk3.22-client and sdl2-client to cross-built windows installers.

See gna patch #8106

------------------------------------------------------------------------
r35001 | cazfi | 2017-02-11 07:24:19 +0000 (Sat, 11 Feb 2017) | 4 lines
Changed paths:
   M /trunk/m4/gtk3.22-client.m4

Prevent things deprecated in glib 2.50 from gtk3.22-client

See gna patch #7705

------------------------------------------------------------------------
r34999 | sveinung | 2017-02-10 08:15:56 +0000 (Fri, 10 Feb 2017) | 3 lines
Changed paths:
   M /trunk/server/unittools.c

Drop custom target missing strings for orders.

See gna patch #8112
------------------------------------------------------------------------
r34997 | cazfi | 2017-02-10 04:58:35 +0000 (Fri, 10 Feb 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-3.22/mapview.c

Replaced deprecated gdk_cairo_create() calls with modern constructs in gtk3.22-client.

See gna patch #7964

------------------------------------------------------------------------
r34995 | cazfi | 2017-02-09 05:33:24 +0000 (Thu, 09 Feb 2017) | 4 lines
Changed paths:
   M /trunk/INSTALL
   M /trunk/client/gui-gtk-3.22/citydlg.c
   M /trunk/client/gui-gtk-3.22/optiondlg.c
   M /trunk/client/gui-gtk-3.22/pages.c
   M /trunk/m4/gtk3.22-client.m4

Replaced deprecated gtk_menu_popup() calls with modern constructs in gtk3.22-client

See gna patch #7876

------------------------------------------------------------------------
r34992 | cazfi | 2017-02-08 04:52:49 +0000 (Wed, 08 Feb 2017) | 4 lines
Changed paths:
   M /trunk/windows/installer_cross/installer_build.sh
   M /trunk/windows/installer_cross/winbuild.sh

Added gui type specific part to the filenames created by winbuild.sh

See gna patch #8105

------------------------------------------------------------------------
r34991 | mir3x | 2017-02-07 15:59:34 +0000 (Tue, 07 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/sprite.cpp

Qt client - crop scaled hex sprites bigger by 1 pixel for scaled tileset.

See gna patch #8110


------------------------------------------------------------------------
r34988 | mir3x | 2017-02-07 15:55:06 +0000 (Tue, 07 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/dialogs.cpp

Qt client - find best transport from correct tile for transport dialog.

See gna bug #25492


------------------------------------------------------------------------
r34983 | cazfi | 2017-02-07 04:43:52 +0000 (Tue, 07 Feb 2017) | 4 lines
Changed paths:
   M /trunk/windows/Makefile.am
   A /trunk/windows/installer_cross/build_all_installers.sh

Added script to cross-build all installers.

See gna patch #8104

------------------------------------------------------------------------
r34980 | cazfi | 2017-02-06 05:10:26 +0000 (Mon, 06 Feb 2017) | 4 lines
Changed paths:
   M /trunk/windows/Makefile.am
   A /trunk/windows/installer_cross/create-freeciv-ruledit-nsi.sh
   A /trunk/windows/installer_cross/freeciv-ruledit.cmd
   M /trunk/windows/installer_cross/installer_build.sh

Added cross-building of Windows Installer for ruledit.

See gna patch #8098

------------------------------------------------------------------------
r34979 | mir3x | 2017-02-05 16:16:43 +0000 (Sun, 05 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-gtk-3.0/sprite.c
   M /trunk/client/gui-gtk-3.22/sprite.c
   M /trunk/client/gui-qt/qtg_cxxside.h
   M /trunk/client/gui-qt/sprite.cpp
   M /trunk/client/gui-sdl2/sprite.c
   M /trunk/client/gui-sdl2/themespec.c
   M /trunk/client/gui-stub/sprite.c
   M /trunk/client/gui_interface.c
   M /trunk/client/gui_interface.h
   M /trunk/client/include/sprite_g.h
   M /trunk/client/tilespec.c

Added option to scale tileset with bilinear algorithm

See gna patch #8108


------------------------------------------------------------------------
r34976 | mir3x | 2017-02-05 15:47:44 +0000 (Sun, 05 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/hudwidget.cpp

Qt client - fixed clang warning - 'has road' - Wsometimes-uninitialized

See gna bug #25487


------------------------------------------------------------------------
r34973 | mir3x | 2017-02-05 15:45:21 +0000 (Sun, 05 Feb 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-qt/gui_main.cpp
   M /trunk/client/gui-qt/pages.cpp

Qt client - Fixed user not able connect to network server
            after failed connection to local server.

See gna bug #25486


------------------------------------------------------------------------
r34970 | mir3x | 2017-02-05 15:42:49 +0000 (Sun, 05 Feb 2017) | 6 lines
Changed paths:
   M /trunk/client/tilespec.c

Fixed some tileset variables which could be scaled 2 times.
Fixed wrong comparision.

See gna bug #25474


------------------------------------------------------------------------
r34967 | mir3x | 2017-02-05 15:38:18 +0000 (Sun, 05 Feb 2017) | 5 lines
Changed paths:
   M /trunk/common/aicore/path_finding.c

Fixed hidden int promotion in pf_pos_hash_val(...)

See gna bug #25449


------------------------------------------------------------------------
r34964 | mir3x | 2017-02-05 15:34:20 +0000 (Sun, 05 Feb 2017) | 7 lines
Changed paths:
   M /trunk/common/combat.c

Fixed rounded down terrain bonus in get_defense_power(const struct unit *punit)

Reported by 'unknown' and Marko Lindqvist <cazfi>

See gna bug #25432


------------------------------------------------------------------------
r34960 | cazfi | 2017-02-05 08:26:42 +0000 (Sun, 05 Feb 2017) | 4 lines
Changed paths:
   M /trunk/windows/Makefile.am
   A /trunk/windows/installer_cross/create-freeciv-sdl2-nsi.sh
   A /trunk/windows/installer_cross/freeciv-sdl2.cmd
   M /trunk/windows/installer_cross/installer_build.sh

Added cross-building of Windows Installer for sdl2-client.

See gna patch #8097

------------------------------------------------------------------------
r34959 | cazfi | 2017-02-04 20:28:47 +0000 (Sat, 04 Feb 2017) | 5 lines
Changed paths:
   M /trunk/data/experimental/effects.ruleset
   M /trunk/data/sandbox/game.ruleset

Corrected some occurrences of "Is foreign" as Diplomatic relation type to read
just "Foreign".

See gna bug #25489

------------------------------------------------------------------------
r34957 | cazfi | 2017-02-04 20:09:21 +0000 (Sat, 04 Feb 2017) | 4 lines
Changed paths:
   M /trunk/configure.ac

Corrected setting initial value for gtk3x modpack variable.

See gna bug #25488

------------------------------------------------------------------------
r34954 | jtn | 2017-02-04 11:17:03 +0000 (Sat, 04 Feb 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-qt/fonts.h

Add declaration of QStringList to fonts.h, which uses it, to fix
compilation failure on some systems.

See gna bug #25491.
------------------------------------------------------------------------
r34951 | cazfi | 2017-02-04 08:33:49 +0000 (Sat, 04 Feb 2017) | 4 lines
Changed paths:
   M /trunk/tools/modinst.c

Respect DIR_SEPARATOR in path to modpack database file.

See bug #25485

------------------------------------------------------------------------
r34949 | cazfi | 2017-02-04 08:23:14 +0000 (Sat, 04 Feb 2017) | 4 lines
Changed paths:
   M /trunk/windows/Makefile.am
   A /trunk/windows/installer_cross/freeciv-mp-qt.cmd
   A /trunk/windows/installer_cross/freeciv-qt.cmd
   M /trunk/windows/installer_cross/installer_build.sh

Added cross-building of Windows Installer for Qt-client.

See patch #8096

------------------------------------------------------------------------
r34946 | sveinung | 2017-02-03 13:56:07 +0000 (Fri, 03 Feb 2017) | 9 lines
Changed paths:
   M /trunk/client/goto.c

Demote walk-through-enemy assertion to a warning.

A player can now give a "Go to and..." order while assuming that the enemy
at the tile the last regular move targets will be gone or converted by the
time the unit reaches it.

Reported by Christian Knoke <chrisk>

See patch #8101
------------------------------------------------------------------------
r34945 | sveinung | 2017-02-03 13:55:56 +0000 (Fri, 03 Feb 2017) | 17 lines
Changed paths:
   M /trunk/client/packhand.c

Fix automatic attack for "Conquer City".

The "Conquer City" action is an attack action. It is city targeted.

A potentially legal attack action should pop up the action selection dialog
if the popup_attack_actions client option is set or if another interesting
action is possible. If the "Pop up attack questions" is unset and no other
interesting action is possible the client should order the conquest without
asking the user.

Make the client able to order city targeted actions (like "Conquer City")
without asking the user.

Reported by wotan <wotan>
Debugged by Christian Knoke <chrisk>

See bug #25336
------------------------------------------------------------------------
r34943 | cazfi | 2017-02-03 05:00:48 +0000 (Fri, 03 Feb 2017) | 4 lines
Changed paths:
   M /trunk/windows/Makefile.am
   A /trunk/windows/installer_cross/freeciv-mp-gtk3.cmd
   M /trunk/windows/installer_cross/installer_build.sh

Added freeciv-mp-gtk3.cmd to cross-built gtk3.22-client Windows Installer.

See patch #8095

------------------------------------------------------------------------
r34940 | mir3x | 2017-02-02 19:56:59 +0000 (Thu, 02 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/tilespec.c

Fixed some tileset variables scaled 2 times

See bug #25474


------------------------------------------------------------------------
r34937 | mir3x | 2017-02-02 19:50:38 +0000 (Thu, 02 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/tilespec.c

Fixed memory leaks when rereading tileset.

See patch #8102


------------------------------------------------------------------------
r34931 | mir3x | 2017-02-02 19:44:22 +0000 (Thu, 02 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/tilespec.c
   M /trunk/client/tilespec.h

Added function to retrieve scale of current tileset

See patch #8093


------------------------------------------------------------------------
r34929 | mir3x | 2017-02-02 19:34:32 +0000 (Thu, 02 Feb 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/hudwidget.cpp
   M /trunk/client/gui-qt/mapview.cpp

Qt client - add movement cost to terrain tooltip

See patch #8099


------------------------------------------------------------------------
r34925 | cazfi | 2017-02-02 05:43:42 +0000 (Thu, 02 Feb 2017) | 4 lines
Changed paths:
   M /trunk/dependencies/lua-5.3/README
   M /trunk/dependencies/lua-5.3/Version
   M /trunk/dependencies/lua-5.3/doc/readme.html
   M /trunk/dependencies/lua-5.3/src/lauxlib.c
   M /trunk/dependencies/lua-5.3/src/lauxlib.h
   M /trunk/dependencies/lua-5.3/src/lbaselib.c
   M /trunk/dependencies/lua-5.3/src/lcode.c
   M /trunk/dependencies/lua-5.3/src/ldebug.c
   M /trunk/dependencies/lua-5.3/src/ldo.c
   M /trunk/dependencies/lua-5.3/src/lgc.c
   M /trunk/dependencies/lua-5.3/src/linit.c
   M /trunk/dependencies/lua-5.3/src/liolib.c
   M /trunk/dependencies/lua-5.3/src/lmathlib.c
   M /trunk/dependencies/lua-5.3/src/loadlib.c
   M /trunk/dependencies/lua-5.3/src/lobject.c
   M /trunk/dependencies/lua-5.3/src/lobject.h
   M /trunk/dependencies/lua-5.3/src/lopcodes.h
   M /trunk/dependencies/lua-5.3/src/loslib.c
   M /trunk/dependencies/lua-5.3/src/lparser.c
   M /trunk/dependencies/lua-5.3/src/lstate.h
   M /trunk/dependencies/lua-5.3/src/lstrlib.c
   M /trunk/dependencies/lua-5.3/src/ltable.c
   M /trunk/dependencies/lua-5.3/src/ltable.h
   M /trunk/dependencies/lua-5.3/src/ltm.c
   M /trunk/dependencies/lua-5.3/src/lua.h
   M /trunk/dependencies/lua-5.3/src/luaconf.h
   M /trunk/dependencies/lua-5.3/src/lualib.h
   M /trunk/dependencies/lua-5.3/src/lutf8lib.c
   M /trunk/dependencies/lua-5.3/src/lvm.h

Updated included lua to version 5.3.4

See patch #8100

------------------------------------------------------------------------
r34923 | cazfi | 2017-02-02 05:24:28 +0000 (Thu, 02 Feb 2017) | 4 lines
Changed paths:
   M /trunk/windows/Makefile.am
   A /trunk/windows/installer_cross/Freeciv.url
   A /trunk/windows/installer_cross/create-freeciv-gtk-qt-nsi.sh
   A /trunk/windows/installer_cross/freeciv-gtk3.22.cmd
   A /trunk/windows/installer_cross/freeciv-server.cmd
   A /trunk/windows/installer_cross/installer_build.sh
   A /trunk/windows/installer_cross/licenses
   A /trunk/windows/installer_cross/licenses/COPYING.installer

Added cross-building of gtk3.22-client Windows Installer based on crosser.

See patch #8089

------------------------------------------------------------------------
r34920 | cazfi | 2017-02-01 09:22:11 +0000 (Wed, 01 Feb 2017) | 6 lines
Changed paths:
   M /trunk/server/savegame2.c
   M /trunk/server/savegame3.c

Fixed loading score.specialists from the savegame.

Originally reported by Christian Knoke <chrisk>

See bug #25475

------------------------------------------------------------------------
r34916 | cazfi | 2017-02-01 08:38:22 +0000 (Wed, 01 Feb 2017) | 4 lines
Changed paths:
   M /trunk/doc/README.msys2
   M /trunk/windows/installer_msys2/Makefile

Updated msys2 environment to 170126 level.

See patch #8085

------------------------------------------------------------------------
r34915 | mir3x | 2017-01-31 21:07:53 +0000 (Tue, 31 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/canvas.cpp
   M /trunk/client/gui-qt/citydlg.cpp
   M /trunk/client/gui-qt/fonts.cpp
   M /trunk/client/gui-qt/fonts.h
   M /trunk/client/gui-qt/gui_main.cpp
   M /trunk/client/gui-qt/menu.cpp
   M /trunk/client/gui-qt/menu.h
   M /trunk/client/gui-qt/shortcuts.cpp
   M /trunk/client/gui-qt/shortcuts.h
   M /trunk/client/gui-qt/sprite.cpp

Qt client - added scaling tileset

See patch #8087


------------------------------------------------------------------------
r34910 | cazfi | 2017-01-30 10:10:53 +0000 (Mon, 30 Jan 2017) | 6 lines
Changed paths:
   M /trunk/server/savegame2.c
   M /trunk/server/savegame3.c

Always lookup unit orders related keys when loading a savegame.

Reported by Christian Knoke <chrisk>

See bug #25405

------------------------------------------------------------------------
r34909 | cazfi | 2017-01-30 04:41:08 +0000 (Mon, 30 Jan 2017) | 4 lines
Changed paths:
   M /trunk/server/settings.c

Fixed compile with bzip2 compression support disabled.

See bug #25470

------------------------------------------------------------------------
r34908 | cazfi | 2017-01-29 20:55:36 +0000 (Sun, 29 Jan 2017) | 4 lines
Changed paths:
   M /trunk/windows/installer_cross/winbuild.sh

Added separate 'ruledit' gui type to winbuild.sh

See patch #8090

------------------------------------------------------------------------
r34907 | mir3x | 2017-01-29 20:36:38 +0000 (Sun, 29 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-gtk-3.0/menu.c
   M /trunk/client/gui-gtk-3.0/sprite.c
   M /trunk/client/gui-gtk-3.0/tileset_dlg.c
   M /trunk/client/gui-gtk-3.22/menu.c
   M /trunk/client/gui-gtk-3.22/sprite.c
   M /trunk/client/gui-gtk-3.22/tileset_dlg.c
   M /trunk/client/gui-qt/dialogs.cpp
   M /trunk/client/gui-qt/fc_client.cpp
   M /trunk/client/gui-qt/fc_client.h
   M /trunk/client/gui-qt/mapctrl.cpp
   M /trunk/client/gui-qt/menu.cpp
   M /trunk/client/gui-qt/qtg_cxxside.h
   M /trunk/client/gui-qt/sprite.cpp
   M /trunk/client/gui-sdl2/sprite.c
   M /trunk/client/gui-sdl2/themespec.c
   M /trunk/client/gui-stub/sprite.c
   M /trunk/client/gui_interface.c
   M /trunk/client/gui_interface.h
   M /trunk/client/include/sprite_g.h
   M /trunk/client/packhand.c
   M /trunk/client/tilespec.c
   M /trunk/client/tilespec.h

Added scaling tileset

See patch #8086


------------------------------------------------------------------------
r34904 | mir3x | 2017-01-29 20:22:37 +0000 (Sun, 29 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/repodlgs.cpp
   M /trunk/client/gui-qt/repodlgs.h

Qt client - show tooltip in research diagram with 500msecs delay

See patch #8092


------------------------------------------------------------------------
r34901 | mir3x | 2017-01-29 20:18:09 +0000 (Sun, 29 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/repodlgs.cpp
   M /trunk/client/gui-qt/sidebar.cpp

Qt client - replace deprecated qSort with std::sort

See patch #8091


------------------------------------------------------------------------
r34895 | cazfi | 2017-01-29 19:50:49 +0000 (Sun, 29 Jan 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-gtk-3.0/transportdlg.c
   M /trunk/client/gui-gtk-3.22/transportdlg.c

Find "best" transport from correct tile for transport dialog.

Reported by Christian Knoke <chrisk>

See bug #25406

------------------------------------------------------------------------
r34894 | cazfi | 2017-01-26 05:19:07 +0000 (Thu, 26 Jan 2017) | 4 lines
Changed paths:
   M /trunk/windows/installer_cross/winbuild.sh

Made it possible to build just one client with winbuild.sh

See patch #8088

------------------------------------------------------------------------
r34893 | mir3x | 2017-01-25 21:35:32 +0000 (Wed, 25 Jan 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-qt/mapctrl.cpp
   M /trunk/client/gui-qt/mapview.h

Qt client - Fixed unit autocentering when left clicking something outside
active unit visible screen.

See bug #25466


------------------------------------------------------------------------
r34888 | sveinung | 2017-01-25 12:05:45 +0000 (Wed, 25 Jan 2017) | 7 lines
Changed paths:
   M /trunk/server/citytools.c

Control city externals sending centrally.

The function player_can_see_city_externals() is used to reason about what a
player can see. Use it to control when a city's externally visible details
is sent too.

See patch #8082
------------------------------------------------------------------------
r34885 | sveinung | 2017-01-24 15:15:40 +0000 (Tue, 24 Jan 2017) | 6 lines
Changed paths:
   M /trunk/common/actions.c
   M /trunk/common/metaknowledge.c
   M /trunk/common/metaknowledge.h
   M /trunk/common/player.c
   M /trunk/common/player.h

Move city is seen check to player module.

Rename mke_can_see_city_externals() to player_can_see_city_externals() and
move it to the player module.

See patch #8081
------------------------------------------------------------------------
r34883 | cazfi | 2017-01-24 07:24:27 +0000 (Tue, 24 Jan 2017) | 4 lines
Changed paths:
   M /trunk/dependencies/tinycthread/Version
   M /trunk/dependencies/tinycthread/tinycthread.c
   M /trunk/dependencies/tinycthread/tinycthread.h

Updated included tinycthread to latest upstream commit.

See patch #8084

------------------------------------------------------------------------
r34881 | cazfi | 2017-01-21 20:34:18 +0000 (Sat, 21 Jan 2017) | 4 lines
Changed paths:
   M /trunk/windows/installer_cross/winbuild.sh

Require crosser-1.2 for crosser based builds.

See patch #8078

------------------------------------------------------------------------
r34880 | mir3x | 2017-01-21 11:45:36 +0000 (Sat, 21 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/chatline.cpp
   M /trunk/client/gui-qt/chatline.h
   M /trunk/client/gui-qt/citydlg.cpp
   M /trunk/client/gui-qt/dialogs.cpp
   M /trunk/client/gui-qt/diplodlg.cpp
   M /trunk/client/gui-qt/diplodlg.h
   M /trunk/client/gui-qt/fc_client.cpp
   M /trunk/client/gui-qt/fc_client.h
   M /trunk/client/gui-qt/fonts.h
   M /trunk/client/gui-qt/hudwidget.cpp
   M /trunk/client/gui-qt/mapview.h
   M /trunk/client/gui-qt/menu.cpp
   M /trunk/client/gui-qt/messagewin.cpp
   M /trunk/client/gui-qt/messagewin.h
   M /trunk/client/gui-qt/optiondlg.cpp
   M /trunk/client/gui-qt/pages.cpp
   M /trunk/client/gui-qt/plrdlg.cpp
   M /trunk/client/gui-qt/ratesdlg.cpp
   M /trunk/client/gui-qt/ratesdlg.h
   M /trunk/client/gui-qt/shortcuts.h
   M /trunk/client/gui-qt/spaceshipdlg.cpp
   M /trunk/client/gui-qt/voteinfo_bar.cpp

Qt client - Added forward declarations in headers, added/removed includes

See patch #8083


------------------------------------------------------------------------
r34877 | mir3x | 2017-01-21 11:37:46 +0000 (Sat, 21 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/fonts.cpp

Qt client - Changed default font size to 14*(PPI/DPI)

See bug #25454


------------------------------------------------------------------------
r34874 | mir3x | 2017-01-21 11:35:12 +0000 (Sat, 21 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/listener.h

Qt client - fixed downcast of XXX which does not point to an object of type chat_listener

See bug #25451


------------------------------------------------------------------------
r34871 | cazfi | 2017-01-20 10:37:50 +0000 (Fri, 20 Jan 2017) | 4 lines
Changed paths:
   M /trunk/ai/classic/classicai.c
   M /trunk/ai/threxpr/texaimsg.h
   M /trunk/ai/threxpr/texaiplayer.c
   M /trunk/ai/threxpr/texaiworld.c
   M /trunk/ai/threxpr/texaiworld.h
   M /trunk/ai/threxpr/threxprai.c
   M /trunk/common/ai.h
   M /trunk/doc/README.AI_modules
   M /trunk/server/maphand.c

Sync main map tile terrain info to threxpr map.

See patch #8071

------------------------------------------------------------------------
r34867 | sveinung | 2017-01-18 21:48:14 +0000 (Wed, 18 Jan 2017) | 6 lines
Changed paths:
   M /trunk/common/metaknowledge.c
   M /trunk/common/tile.c
   M /trunk/common/tile.h

Move tile seen checker to the tile module.

Rename the function is_tile_seen() to tile_is_seen() and move it from the
metaknowledge module to the tile module.

See patch #8080
------------------------------------------------------------------------
r34866 | sveinung | 2017-01-18 21:48:05 +0000 (Wed, 18 Jan 2017) | 8 lines
Changed paths:
   M /trunk/common/scriptcore/tolua_game.pkg

Improve parameter name.

Patch #7973 should have renamed building_type_id to action_type_id after
copy/past. Do it now.

Reported by Jacob Nevins <jtn>

See bug #25450
------------------------------------------------------------------------
r34865 | cazfi | 2017-01-17 14:55:23 +0000 (Tue, 17 Jan 2017) | 4 lines
Changed paths:
   M /trunk/common/aicore/path_finding.c
   M /trunk/common/aicore/path_finding.h
   M /trunk/common/aicore/pf_tools.c

Added map to do path finding on to path finding parameters.

See patch #8079

------------------------------------------------------------------------
r34862 | sveinung | 2017-01-17 05:31:39 +0000 (Tue, 17 Jan 2017) | 3 lines
Changed paths:
   M /trunk/common/metaknowledge.c

Improve the comment header clarity...

...of the mke_can_see_city_externals() function.
------------------------------------------------------------------------
r34861 | mir3x | 2017-01-16 13:26:06 +0000 (Mon, 16 Jan 2017) | 6 lines
Changed paths:
   M /trunk/client/cityrepdata.c

Added city report columns for culture and history
Submitted by Jacob Nevins <jtn>

See patch #7669


------------------------------------------------------------------------
r34858 | mir3x | 2017-01-16 13:23:10 +0000 (Mon, 16 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/menu.cpp
   M /trunk/client/gui-qt/shortcuts.cpp
   M /trunk/client/gui-qt/shortcuts.h

Qt client - add configurable shortcut to toggle city full bar

See patch #8069


------------------------------------------------------------------------
r34855 | mir3x | 2017-01-16 13:17:36 +0000 (Mon, 16 Jan 2017) | 6 lines
Changed paths:
   M /trunk/m4/qt5.m4

Decide minimum version of Qt supported
Reported by Jacob Nevins <jtn>

See bug #25343


------------------------------------------------------------------------
r34852 | mir3x | 2017-01-16 13:03:42 +0000 (Mon, 16 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/themes.cpp

Qt client - fixed mismatched free/delete

See bug #25431


------------------------------------------------------------------------
r34849 | mir3x | 2017-01-16 13:01:16 +0000 (Mon, 16 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/menu.cpp

Qt client - fix build road/rail menu entry

See bug #25428


------------------------------------------------------------------------
r34846 | mir3x | 2017-01-16 12:57:46 +0000 (Mon, 16 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/ratesdlg.cpp

Qt client - fix position of tax rates dialog

See bug #25427


------------------------------------------------------------------------
r34842 | mir3x | 2017-01-16 12:54:28 +0000 (Mon, 16 Jan 2017) | 5 lines
Changed paths:
   M /trunk/utility/fciconv.c

Fix building without iconv

See bug #25430


------------------------------------------------------------------------
r34839 | mir3x | 2017-01-16 12:46:02 +0000 (Mon, 16 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/control.c
   M /trunk/client/gui-qt/mapctrl.cpp

quickselect - return focused unit before unit count check for SELECT_FOCUS

See bug #25425


------------------------------------------------------------------------
r34836 | mir3x | 2017-01-16 12:42:36 +0000 (Mon, 16 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/optiondlg.cpp
   M /trunk/client/gui-qt/optiondlg.h

Qt client - fixed heap-use-after-free in optiondlg

See bug #25440


------------------------------------------------------------------------
r34832 | cazfi | 2017-01-15 10:07:18 +0000 (Sun, 15 Jan 2017) | 4 lines
Changed paths:
   M /trunk/windows/installer_msys2/create-freeciv-gtk3.22-nsi.sh

Gtk3.22-client Windows installer uses correct name of the client.

See bug #25441

------------------------------------------------------------------------
r34831 | cazfi | 2017-01-15 00:07:08 +0000 (Sun, 15 Jan 2017) | 4 lines
Changed paths:
   M /trunk/client/agents/agents.c
   M /trunk/client/gui-gtk-3.0/action_dialog.c
   M /trunk/client/gui-gtk-3.0/chatline.c
   M /trunk/client/gui-gtk-3.0/editprop.c
   M /trunk/client/gui-gtk-3.0/mapctrl.c
   M /trunk/client/gui-gtk-3.22/action_dialog.c
   M /trunk/client/gui-gtk-3.22/chatline.c
   M /trunk/client/gui-gtk-3.22/editprop.c
   M /trunk/client/gui-gtk-3.22/mapctrl.c
   M /trunk/client/gui-qt/chatline.cpp
   M /trunk/client/gui-qt/dialogs.cpp
   M /trunk/client/gui-qt/mapctrl.cpp
   M /trunk/client/mapview_common.c
   M /trunk/client/packhand.c
   M /trunk/common/aicore/path_finding.c
   M /trunk/common/featured_text.c
   M /trunk/common/map.c
   M /trunk/common/map.h
   M /trunk/common/scriptcore/api_game_find.c
   M /trunk/server/edithand.c
   M /trunk/server/generator/mapgen.c
   M /trunk/server/notify.c
   M /trunk/server/savegame2.c
   M /trunk/server/savegame3.c
   M /trunk/server/unithand.c

Added map parameter for index_to_tile()

See patch #8070

------------------------------------------------------------------------
r34830 | cazfi | 2017-01-15 00:03:56 +0000 (Sun, 15 Jan 2017) | 5 lines
Changed paths:
   M /trunk/tools/download.c
   M /trunk/tools/modinst.c
   M /trunk/tools/modinst.h
   M /trunk/tools/mpcli.c
   M /trunk/tools/mpdb.c
   M /trunk/tools/mpdb.h
   M /trunk/tools/mpgui_gtk3.c
   M /trunk/tools/mpgui_qt.cpp

Store information about installed modpacks to sqlite database instead
of registry file.

See patch #7956

------------------------------------------------------------------------
r34828 | cazfi | 2017-01-14 13:06:42 +0000 (Sat, 14 Jan 2017) | 4 lines
Changed paths:
   M /trunk/data/alio.tilespec
   M /trunk/data/amplio.tilespec
   M /trunk/data/amplio2.tilespec
   M /trunk/data/cimpletoon.tilespec
   M /trunk/data/hex2t.tilespec
   M /trunk/data/hexemplio.tilespec
   M /trunk/data/isophex.tilespec
   M /trunk/data/isotrident.tilespec
   M /trunk/data/toonhex.tilespec
   M /trunk/data/trident.tilespec

Made tileset comments about single intro gfx singular.

See patch #7360

------------------------------------------------------------------------
r34826 | cazfi | 2017-01-14 05:38:13 +0000 (Sat, 14 Jan 2017) | 4 lines
Changed paths:
   M /trunk/windows/installer_msys2/create-freeciv-gtk-qt-nsi.sh
   M /trunk/windows/installer_msys2/create-freeciv-ruledit-nsi.sh
   M /trunk/windows/installer_msys2/create-freeciv-sdl2-nsi.sh

Set unicode directive to nsi files.

See patch #7632

------------------------------------------------------------------------
r34825 | cazfi | 2017-01-13 06:44:05 +0000 (Fri, 13 Jan 2017) | 4 lines
Changed paths:
   M /trunk/ai/threxpr/Makefile.am
   M /trunk/ai/threxpr/texaiplayer.c
   M /trunk/ai/threxpr/texaiplayer.h
   A /trunk/ai/threxpr/texaiworld.c
   A /trunk/ai/threxpr/texaiworld.h
   M /trunk/ai/threxpr/threxprai.c
   M /trunk/common/map_types.h

Allocate map of its own to threxpr AI type.

See patch #8067

------------------------------------------------------------------------
r34824 | mir3x | 2017-01-12 10:25:27 +0000 (Thu, 12 Jan 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-qt/dialogs.cpp
   M /trunk/data/themes/gui-qt/NightStalker/resource.qss

Qt client - fix default button in disband dialog
Reported by Gogo Gugelhupf <gogo>

See bug #25421


------------------------------------------------------------------------
r34821 | cazfi | 2017-01-12 10:15:33 +0000 (Thu, 12 Jan 2017) | 4 lines
Changed paths:
   M /trunk/common/map.c

Made map_allocate() to respect map parameter.

See bug #25418

------------------------------------------------------------------------
r34820 | mir3x | 2017-01-12 10:12:57 +0000 (Thu, 12 Jan 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-qt/citydlg.cpp
   M /trunk/client/gui-qt/citydlg.h
   M /trunk/client/gui-qt/repodlgs.cpp

Qt client - use city_improvement_upkeep to calculate upkeep in city dialog
Reported by Gogo Gugelhupf <gogo>

See bug #25422


------------------------------------------------------------------------
r34817 | cazfi | 2017-01-12 10:11:19 +0000 (Thu, 12 Jan 2017) | 6 lines
Changed paths:
   M /trunk/configure.ac

Fixed typo in helptext of --enable-fcmp

Reported by Jacob Nevins <jtn>

See patch #7019

------------------------------------------------------------------------
r34816 | mir3x | 2017-01-12 09:31:18 +0000 (Thu, 12 Jan 2017) | 6 lines
Changed paths:
   M /trunk/client/gui-qt/pages.cpp

Qt client - remove right click menu from end turn sidebar
Reported by Gogo Gugelhupf <gogo>

See bug #25420


------------------------------------------------------------------------
r34813 | mir3x | 2017-01-11 18:16:52 +0000 (Wed, 11 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/mapctrl.cpp
   M /trunk/client/gui-qt/mapview.cpp
   M /trunk/client/gui-qt/mapview.h
   M /trunk/client/gui-qt/menu.cpp

Qt client - fix keyboard goto

See bug #25419


------------------------------------------------------------------------
r34810 | mir3x | 2017-01-09 10:16:42 +0000 (Mon, 09 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/mapctrl.cpp

Qt client - allow keyboardless goto for units in stack

See patch #8064


------------------------------------------------------------------------
r34806 | mir3x | 2017-01-09 10:06:19 +0000 (Mon, 09 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/control.c
   M /trunk/client/control.h

Added SELECT_FOCUS to quickselect_type

See patch #8063


------------------------------------------------------------------------
r34801 | cazfi | 2017-01-09 09:40:42 +0000 (Mon, 09 Jan 2017) | 4 lines
Changed paths:
   M /trunk/server/savegame2.c
   M /trunk/server/savegame3.c

Fixed check that techonology vector has been loaded correctly from the savegame.

See bug #25416

------------------------------------------------------------------------
r34799 | cazfi | 2017-01-08 07:25:03 +0000 (Sun, 08 Jan 2017) | 4 lines
Changed paths:
   M /trunk/Makefile.am
   D /trunk/m4/freetype2.m4

Dropped obsolete freetype2.m4

See patch #8068

------------------------------------------------------------------------
r34798 | cazfi | 2017-01-08 07:21:02 +0000 (Sun, 08 Jan 2017) | 4 lines
Changed paths:
   M /trunk/server/savecompat.h
   M /trunk/server/savegame2.c
   M /trunk/server/savegame3.c

Use activities order from the savegame when loading it.

See patch #8066

------------------------------------------------------------------------
r34797 | cazfi | 2017-01-07 21:11:28 +0000 (Sat, 07 Jan 2017) | 5 lines
Changed paths:
   M /trunk/server/savecompat.c
   M /trunk/server/savecompat.h
   M /trunk/server/savegame2.c
   M /trunk/server/savegame3.c

Added parameter telling if savegame is savegame2 or savegame3 to
compat conversion functions.

See patch #8065

------------------------------------------------------------------------
r34796 | mir3x | 2017-01-05 23:35:05 +0000 (Thu, 05 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-qt/ratesdlg.cpp

Qt client - Fixed science rate not checked it's over available maximum rate.

See bug #25412


------------------------------------------------------------------------
r34793 | cazfi | 2017-01-05 19:58:05 +0000 (Thu, 05 Jan 2017) | 4 lines
Changed paths:
   M /trunk/client/packhand.c
   M /trunk/common/game.c
   M /trunk/common/map.c
   M /trunk/common/map.h
   M /trunk/server/generator/mapgen.c
   M /trunk/server/savegame2.c
   M /trunk/server/savegame3.c
   M /trunk/server/srv_main.c

Give map as parameter to map_init(), map_free(), and map_allocate()

See patch #8055

------------------------------------------------------------------------
r34792 | cazfi | 2017-01-05 17:56:18 +0000 (Thu, 05 Jan 2017) | 4 lines
Changed paths:
   M /trunk/server/Makefile.am
   D /trunk/server/legacysave.c
   D /trunk/server/legacysave.h
   M /trunk/server/savegame.c
   M /trunk/translations/core/POTFILES.in

Dropped legacysave support.

See patch #5591

------------------------------------------------------------------------
r34789 | cazfi | 2017-01-05 15:57:19 +0000 (Thu, 05 Jan 2017) | 4 lines
Changed paths:
   M /trunk/client/gui-gtk-3.0/sprite.c
   M /trunk/client/gui-gtk-3.22/sprite.c

Consider '.png' supported even if there's no mime-type called 'png'

See patch #8062

------------------------------------------------------------------------
r34786 | cazfi | 2017-01-05 06:49:21 +0000 (Thu, 05 Jan 2017) | 6 lines
Changed paths:
   M /trunk/server/savegame2.c
   M /trunk/server/savegame3.c

When loading saved game, always lookup action decision tiles.

Reported by Christian Knoke <chrisk>

See bug #25405

------------------------------------------------------------------------
r34785 | cazfi | 2017-01-05 06:32:01 +0000 (Thu, 05 Jan 2017) | 4 lines
Changed paths:
   D /trunk/windows/installer_legacy/create-freeciv-gtk2-nsi.sh
   D /trunk/windows/installer_msys2/create-freeciv-gtk2-nsi.sh

Dropped obsolete create-freeciv-gtk2-nsi.sh from svn.

See patch #8061

------------------------------------------------------------------------
r34784 | cazfi | 2017-01-05 06:28:17 +0000 (Thu, 05 Jan 2017) | 4 lines
Changed paths:
   M /trunk/client/options.c

Do not save gtk2-client options when they are no longer needed.

See patch #8060

------------------------------------------------------------------------
r34781 | cazfi | 2017-01-05 06:17:17 +0000 (Thu, 05 Jan 2017) | 4 lines
Changed paths:
   M /trunk/m4/debug.m4

Define QT_NO_DEBUG in fc_config.h, not compiler command line, when needed.

See patch #8054

------------------------------------------------------------------------
r34780 | cazfi | 2017-01-04 17:29:59 +0000 (Wed, 04 Jan 2017) | 4 lines
Changed paths:
   M /trunk/m4/gtk3.22-client.m4

Prevent things deprecated in gtk+ 3.20 from gtk3.22-client

See patch #7125

------------------------------------------------------------------------
r34779 | cazfi | 2017-01-02 21:51:00 +0000 (Mon, 02 Jan 2017) | 4 lines
Changed paths:
   M /trunk/common/player.h
   M /trunk/data/alien/game.ruleset
   M /trunk/data/civ1/effects.ruleset
   M /trunk/data/civ1/game.ruleset
   M /trunk/data/civ2/effects.ruleset
   M /trunk/data/civ2/game.ruleset
   M /trunk/data/civ2civ3/effects.ruleset
   M /trunk/data/civ2civ3/game.ruleset
   M /trunk/data/classic/effects.ruleset
   M /trunk/data/classic/game.ruleset
   M /trunk/data/experimental/game.ruleset
   M /trunk/data/multiplayer/effects.ruleset
   M /trunk/data/multiplayer/game.ruleset
   M /trunk/data/sandbox/effects.ruleset
   M /trunk/data/sandbox/game.ruleset
   M /trunk/data/webperimental/effects.ruleset
   M /trunk/data/webperimental/game.ruleset
   M /trunk/server/cityturn.c
   M /trunk/server/rscompat.c
   M /trunk/server/rscompat.h
   M /trunk/server/ruleset.c

Renamed Diplomatic Relation type "Is Foreign" as just "Foreign"

See patch #7280

------------------------------------------------------------------------
r34778 | cazfi | 2017-01-02 19:25:28 +0000 (Mon, 02 Jan 2017) | 4 lines
Changed paths:
   M /trunk/client/climap.c
   M /trunk/client/overview_common.c
   M /trunk/client/packhand.c
   M /trunk/common/achievements.c
   M /trunk/common/map.c
   M /trunk/common/map.h
   M /trunk/common/mapimg.c
   M /trunk/server/advisors/advdata.c
   M /trunk/server/advisors/autosettlers.c
   M /trunk/server/barbarian.c
   M /trunk/server/citytools.c
   M /trunk/server/generator/fracture_map.c
   M /trunk/server/generator/height_map.c
   M /trunk/server/generator/mapgen.c
   M /trunk/server/generator/mapgen_utils.c
   M /trunk/server/generator/mapgen_utils.h
   M /trunk/server/generator/startpos.c
   M /trunk/server/generator/temperature_map.c
   M /trunk/server/legacysave.c
   M /trunk/server/maphand.c
   M /trunk/server/plrhand.c
   M /trunk/server/sanitycheck.c
   M /trunk/server/savegame2.c
   M /trunk/server/savegame3.c
   M /trunk/server/score.c
   M /trunk/server/srv_main.c

Give map as parameter to whole_map_iterate()

See patch #8052

------------------------------------------------------------------------
r34777 | cazfi | 2017-01-02 19:20:52 +0000 (Mon, 02 Jan 2017) | 4 lines
Changed paths:
   M /trunk/server/settings.c

Deprecated compresstype bzip2.

See patch #7112

------------------------------------------------------------------------
r34776 | cazfi | 2017-01-02 19:15:10 +0000 (Mon, 02 Jan 2017) | 4 lines
Changed paths:
   M /trunk/m4/debug.m4

Dropped obsolete DEBUG macro

See patch #7555

------------------------------------------------------------------------
r34775 | cazfi | 2017-01-02 19:10:47 +0000 (Mon, 02 Jan 2017) | 4 lines
Changed paths:
   M /trunk/client/options.c

Removed unused descriptions for gtk2-client options.

See patch #7624

------------------------------------------------------------------------
r34774 | cazfi | 2017-01-02 19:08:10 +0000 (Mon, 02 Jan 2017) | 5 lines
Changed paths:
   M /trunk/client/gui-gtk-3.22/editgui.c
   M /trunk/client/gui-gtk-3.22/gui_main.c
   M /trunk/client/gui-gtk-3.22/voteinfo_bar.c

Use gtk_widget_set_focus_on_click() instead of deprecated gtk_button_set_focus_on_click()
in gtk3.22-client.

See patch #7222

------------------------------------------------------------------------
r34772 | cazfi | 2017-01-02 15:26:46 +0000 (Mon, 02 Jan 2017) | 4 lines
Changed paths:
   M /trunk/windows/Makefile.am
   M /trunk/windows/installer_msys2/Makefile
   D /trunk/windows/installer_msys2/create-freeciv-gtk3-nsi.sh
   D /trunk/windows/installer_msys2/freeciv-gtk3.cmd

Dropped Windows installer for gtk3-client, superceded by gtk3.22-client installer.

See patch #8056

------------------------------------------------------------------------
r34771 | cazfi | 2017-01-02 10:39:29 +0000 (Mon, 02 Jan 2017) | 4 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/data/Makefile.am
   D /trunk/data/experimental/Makefile.am
   M /trunk/translations/core/POTFILES.in

Dropped experimental ruleset from the tarball.

See patch #7625

------------------------------------------------------------------------
r34770 | cazfi | 2017-01-01 23:24:53 +0000 (Sun, 01 Jan 2017) | 5 lines
Changed paths:
   M /trunk/INSTALL
   M /trunk/configure.ac
   M /trunk/doc/README.packaging

Made sqlite3 hard requirement.
Sqlite3 based player authentication is enabled by default.

See patch #7379

------------------------------------------------------------------------
r34769 | cazfi | 2017-01-01 23:20:46 +0000 (Sun, 01 Jan 2017) | 4 lines
Changed paths:
   M /trunk/ai/threaded/taicity.c
   M /trunk/ai/threaded/taicity.h
   M /trunk/ai/threaded/taiplayer.c

Refactor threaded AI to make it more similar to threxpr.

See patch #7559

------------------------------------------------------------------------
r34768 | cazfi | 2017-01-01 23:18:44 +0000 (Sun, 01 Jan 2017) | 5 lines
Changed paths:
   M /trunk/INSTALL
   M /trunk/autogen.sh
   M /trunk/common/Makefile.am
   M /trunk/doc/README.packaging

Set EXTRA_foo_DEPENDENCIES instead of foo_DEPENDENCIES.
Bumped minimum automake requirement to 1.11.3

See patch #7871

------------------------------------------------------------------------
r34767 | cazfi | 2017-01-01 23:14:45 +0000 (Sun, 01 Jan 2017) | 4 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/client/audio_sdl.c
   M /trunk/client/gui-gtk-3.0/gui_main.c
   M /trunk/client/gui-gtk-3.22/gui_main.c
   M /trunk/client/gui-qt/gui_main.cpp
   M /trunk/doc/README.packaging
   D /trunk/m4/sdl.m4
   M /trunk/m4/sound.m4

Dropped sdl1.2-mixer support.

See patch #6246

------------------------------------------------------------------------
r34766 | cazfi | 2017-01-01 23:12:28 +0000 (Sun, 01 Jan 2017) | 4 lines
Changed paths:
   M /trunk/configure.ac

Remove attempt to create Makefile to some gtk2 related directories.

See patch #7019

------------------------------------------------------------------------
r34765 | cazfi | 2017-01-01 23:05:22 +0000 (Sun, 01 Jan 2017) | 4 lines
Changed paths:
   M /trunk/INSTALL
   M /trunk/Makefile.am
   M /trunk/bootstrap/Makefile.am
   D /trunk/bootstrap/freeciv-gtk2.appdata.xml.in
   D /trunk/bootstrap/freeciv-gtk2.desktop.in
   D /trunk/bootstrap/freeciv-mp-gtk2.appdata.xml.in
   D /trunk/bootstrap/freeciv-mp-gtk2.desktop.in
   M /trunk/client/Makefile.am
   D /trunk/client/gui-gtk-2.0
   M /trunk/common/fc_types.h
   M /trunk/configure.ac
   M /trunk/data/Makefile.am
   D /trunk/data/freeciv.rc-2.0
   D /trunk/data/gtk2_menus.xml
   M /trunk/data/themes/Makefile.am
   D /trunk/data/themes/gui-gtk-2.0
   M /trunk/doc/BUGS
   M /trunk/doc/HACKING
   M /trunk/doc/INSTALL.Cygwin
   M /trunk/doc/README
   M /trunk/doc/README.packaging
   M /trunk/doc/man/Makefile.am
   M /trunk/doc/man/freeciv-client.6.in
   D /trunk/doc/man/freeciv-gtk2.6
   M /trunk/doc/man/freeciv-modpack.6.in
   D /trunk/doc/man/freeciv-mp-gtk2.6
   M /trunk/m4/debug.m4
   D /trunk/m4/gtk-2.0.m4
   D /trunk/m4/gtk2-client.m4
   M /trunk/scripts/diff_ignore
   M /trunk/tools/Makefile.am
   D /trunk/tools/mpgui_gtk2.c
   M /trunk/translations/core/POTFILES.in
   M /trunk/utility/fciconv.h
   M /trunk/windows/Makefile.am
   M /trunk/windows/installer_cross/winbuild.sh
   M /trunk/windows/installer_legacy/Makefile
   D /trunk/windows/installer_legacy/freeciv-gtk2.cmd
   D /trunk/windows/installer_legacy/freeciv-mp-gtk2.cmd
   M /trunk/windows/installer_msys2/Makefile
   D /trunk/windows/installer_msys2/freeciv-gtk2.cmd
   D /trunk/windows/installer_msys2/freeciv-mp-gtk2.cmd

Dropped gtk2 guis.

See patch #7019

------------------------------------------------------------------------
r34764 | cazfi | 2017-01-01 22:57:16 +0000 (Sun, 01 Jan 2017) | 4 lines
Changed paths:
   M /trunk/client/luascript/script_client.c
   M /trunk/client/luascript/script_client.h
   M /trunk/common/featured_text.c
   M /trunk/common/featured_text.h
   M /trunk/common/scriptcore/tolua_common_a.pkg
   M /trunk/doc/man/freeciv-client.6.in
   M /trunk/doc/man/freeciv-manual.6.in
   M /trunk/doc/man/freeciv-modpack.6.in
   M /trunk/doc/man/freeciv-server.6.in
   M /trunk/server/scripting/script_fcdb.c
   M /trunk/server/scripting/script_server.c
   M /trunk/utility/deprecations.c
   M /trunk/utility/deprecations.h
   M /trunk/utility/log.c
   M /trunk/utility/log.h

Added log level LOG_WARN

See patch #7373

------------------------------------------------------------------------
r34763 | cazfi | 2017-01-01 22:47:54 +0000 (Sun, 01 Jan 2017) | 4 lines
Changed paths:
   M /trunk/configure.ac

Dropped obsolete WIN32_NATIVE macro

See patch #7499

------------------------------------------------------------------------
r34762 | cazfi | 2017-01-01 22:38:48 +0000 (Sun, 01 Jan 2017) | 4 lines
Changed paths:
   M /trunk/INSTALL
   M /trunk/client/gui-gtk-3.22/citydlg.c
   M /trunk/client/gui-gtk-3.22/cityrep.c
   M /trunk/client/gui-gtk-3.22/gui_main.c
   M /trunk/client/gui-gtk-3.22/happiness.c
   M /trunk/client/gui-gtk-3.22/mapctrl.c
   M /trunk/m4/gtk3.22-client.m4

Replaced deprecated uses of GdkDeviceManager with GdkSeat in gtk3.22-client

See patch #7221

------------------------------------------------------------------------
r34759 | cazfi | 2017-01-01 22:23:56 +0000 (Sun, 01 Jan 2017) | 4 lines
Changed paths:
   M /trunk/common/unittype.h
   M /trunk/data/alien/buildings.ruleset
   M /trunk/data/alien/cities.ruleset
   M /trunk/data/alien/effects.ruleset
   M /trunk/data/alien/game.ruleset
   M /trunk/data/alien/governments.ruleset
   M /trunk/data/alien/nations.ruleset
   M /trunk/data/alien/styles.ruleset
   M /trunk/data/alien/techs.ruleset
   M /trunk/data/alien/terrain.ruleset
   M /trunk/data/alien/units.ruleset
   M /trunk/data/civ1/buildings.ruleset
   M /trunk/data/civ1/cities.ruleset
   M /trunk/data/civ1/effects.ruleset
   M /trunk/data/civ1/game.ruleset
   M /trunk/data/civ1/governments.ruleset
   M /trunk/data/civ1/nations.ruleset
   M /trunk/data/civ1/styles.ruleset
   M /trunk/data/civ1/techs.ruleset
   M /trunk/data/civ1/terrain.ruleset
   M /trunk/data/civ1/units.ruleset
   M /trunk/data/civ2/buildings.ruleset
   M /trunk/data/civ2/cities.ruleset
   M /trunk/data/civ2/effects.ruleset
   M /trunk/data/civ2/game.ruleset
   M /trunk/data/civ2/governments.ruleset
   M /trunk/data/civ2/nations.ruleset
   M /trunk/data/civ2/styles.ruleset
   M /trunk/data/civ2/techs.ruleset
   M /trunk/data/civ2/terrain.ruleset
   M /trunk/data/civ2/units.ruleset
   M /trunk/data/civ2civ3/buildings.ruleset
   M /trunk/data/civ2civ3/cities.ruleset
   M /trunk/data/civ2civ3/effects.ruleset
   M /trunk/data/civ2civ3/game.ruleset
   M /trunk/data/civ2civ3/governments.ruleset
   M /trunk/data/civ2civ3/nations.ruleset
   M /trunk/data/civ2civ3/styles.ruleset
   M /trunk/data/civ2civ3/techs.ruleset
   M /trunk/data/civ2civ3/terrain.ruleset
   M /trunk/data/civ2civ3/units.ruleset
   M /trunk/data/classic/buildings.ruleset
   M /trunk/data/classic/cities.ruleset
   M /trunk/data/classic/effects.ruleset
   M /trunk/data/classic/game.ruleset
   M /trunk/data/classic/governments.ruleset
   M /trunk/data/classic/nations.ruleset
   M /trunk/data/classic/styles.ruleset
   M /trunk/data/classic/techs.ruleset
   M /trunk/data/classic/terrain.ruleset
   M /trunk/data/classic/units.ruleset
   M /trunk/data/experimental/buildings.ruleset
   M /trunk/data/experimental/cities.ruleset
   M /trunk/data/experimental/effects.ruleset
   M /trunk/data/experimental/game.ruleset
   M /trunk/data/experimental/governments.ruleset
   M /trunk/data/experimental/nations.ruleset
   M /trunk/data/experimental/styles.ruleset
   M /trunk/data/experimental/techs.ruleset
   M /trunk/data/experimental/terrain.ruleset
   M /trunk/data/experimental/units.ruleset
   M /trunk/data/multiplayer/buildings.ruleset
   M /trunk/data/multiplayer/cities.ruleset
   M /trunk/data/multiplayer/effects.ruleset
   M /trunk/data/multiplayer/game.ruleset
   M /trunk/data/multiplayer/governments.ruleset
   M /trunk/data/multiplayer/nations.ruleset
   M /trunk/data/multiplayer/styles.ruleset
   M /trunk/data/multiplayer/techs.ruleset
   M /trunk/data/multiplayer/terrain.ruleset
   M /trunk/data/multiplayer/units.ruleset
   M /trunk/data/sandbox/buildings.ruleset
   M /trunk/data/sandbox/cities.ruleset
   M /trunk/data/sandbox/effects.ruleset
   M /trunk/data/sandbox/game.ruleset
   M /trunk/data/sandbox/governments.ruleset
   M /trunk/data/sandbox/nations.ruleset
   M /trunk/data/sandbox/styles.ruleset
   M /trunk/data/sandbox/techs.ruleset
   M /trunk/data/sandbox/terrain.ruleset
   M /trunk/data/sandbox/units.ruleset
   M /trunk/data/stub/buildings.ruleset
   M /trunk/data/stub/cities.ruleset
   M /trunk/data/stub/effects.ruleset
   M /trunk/data/stub/game.ruleset
   M /trunk/data/stub/governments.ruleset
   M /trunk/data/stub/nations.ruleset
   M /trunk/data/stub/styles.ruleset
   M /trunk/data/stub/techs.ruleset
   M /trunk/data/stub/terrain.ruleset
   M /trunk/data/stub/units.ruleset
   M /trunk/data/webperimental/buildings.ruleset
   M /trunk/data/webperimental/cities.ruleset
   M /trunk/data/webperimental/effects.ruleset
   M /trunk/data/webperimental/game.ruleset
   M /trunk/data/webperimental/governments.ruleset
   M /trunk/data/webperimental/nations.ruleset
   M /trunk/data/webperimental/styles.ruleset
   M /trunk/data/webperimental/techs.ruleset
   M /trunk/data/webperimental/terrain.ruleset
   M /trunk/data/webperimental/units.ruleset
   M /trunk/server/rscompat.c
   M /trunk/server/rscompat.h
   M /trunk/server/ruleset.c
   M /trunk/server/ruleset.h
   M /trunk/tools/ruleutil/rulesave.c

Bumped ruleset format for 3.1 development.

See patch #7776

------------------------------------------------------------------------
r34758 | cazfi | 2017-01-01 22:19:04 +0000 (Sun, 01 Jan 2017) | 5 lines
Changed paths:
   M /trunk/configure.ac
   M /trunk/server/savecompat.c

Added macro FREECIV_DEV_SAVE_COMPAT_3_1 to be used where the compatibility code
is specific to 3.1 development.

See patch #7372

------------------------------------------------------------------------
r34757 | cazfi | 2017-01-01 22:16:43 +0000 (Sun, 01 Jan 2017) | 4 lines
Changed paths:
   M /trunk/data/civ2civ3/README.civ2civ3
   M /trunk/doc/BUGS
   M /trunk/doc/README
   M /trunk/doc/README.packaging
   M /trunk/doc/README.rulesets
   M /trunk/doc/README.tilesets
   M /trunk/fc_version
   M /trunk/server/rscompat.h
   M /trunk/server/savecompat.c
   M /trunk/translations/Strings.txt
   M /trunk/windows/installer_legacy/Makefile
   M /trunk/windows/installer_msys2/Makefile

Prepared trunk for 3.1 development.

See patch #7760
