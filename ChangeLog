Thu Jul 20 17:10:14 2000  Jeff Mallatt <jjm@codewell.com>:

	* ChangeLog, PEOPLE, configure, configure.in, common/version.h,
	data/Freeciv, po/de.po, po/en_GB.po, po/es.po, po/fr.po, po/hu.po,
	po/ja.po, po/nl.po, po/no.po, po/pl.po, po/pt.po, po/pt_BR.po,
	po/ru.po:

	Final source update for Version 1.11.4 stable release.  Updated
	administrative files; ran msgmerge on all .po files.  Set version
	to 1.11.4.

Thu Jul 20 16:19:23 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-mui/citydlg.c, client/gui-mui/gui_main.c,
	client/gui-mui/gui_main.h, client/gui-mui/inputdlg.c,
	client/gui-mui/plrdlg.c, client/gui-mui/spaceshipdlg.c:

	Update to Amiga port: - GUI-MUI: Made spaceship view somewhat
	nicer to handle.  - GUI-MUI: Added Missing close request to Change
	and Rename dialogs.  - GUI-MUI: Added spaceship view in players
	dialog.  - GUI-MUI: Added CTRL-G and CTRL-F support in gui-main.c
	- GUI-MUI: Fixed menu checkmark display problems.  Patch submitted
	by Dirk Stoecker <stoecker@rcs.urz.tu-dresden.de>.

Thu Jul 20 16:15:50 2000  Jeff Mallatt <jjm@codewell.com>:

	* ai/aiunit.c:

	Keep AI from trying impossible moves to other continents.  Patch
	submitted by Thue Janus Kristensen <thue@diku.dk>.

Thu Jul 20 12:08:22 2000  Sawada Katsuya <amanatto@mail2.dddd.ne.jp>:

	* doc/NEWS.ja:

	Initial NEWS.ja file.

Thu Jul 20 11:56:45 2000  Sawada Katsuya <amanatto@mail2.dddd.ne.jp>:

	* po/ja.po:

	Update ja.po to 1312t+22f+930u.

Thu Jul 20 08:47:20 2000  Olivier Beyssac <ob@fasterix.freenix.org>:

	* po/fr.po:

	Minor update

Thu Jul 20 05:37:19 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated Improvements by Christian Knoke <ChrisK@enter.de>
	and Gerhard Killesreiter <killesreiter@physik.uni-freiburg.de>

Wed Jul 19 22:55:12 2000  Thue Janus Kristensen <thue@diku.dk>:

	* PEOPLE:

	Add Thomas Strub

Wed Jul 19 22:54:12 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/plrhand.c:

	Fix bug that your science is halved even when negative. (PR#455)

	Bug report and solution by Thomas Strub <ue80@rz.uni-karlsruhe.de>

Wed Jul 19 21:41:00 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/citytools.c:

	Fix bug where the goto woud not work out of cities. (PR#456)

	Bug reported by Kero van Gelder <freeciv@kero.tmfweb.nl>

Wed Jul 19 20:47:56 2000  Thue Janus Kristensen <thue@diku.dk>:

	* vms/README.txt:

	Added a missing end comment.

	Patch by Roger Tucker <roger.tucker@wcom.com>

Wed Jul 19 20:47:02 2000  Olivier Beyssac <ob@fasterix.freenix.org>:

	* po/fr.po:

	Update sent by Pascal Audoux

Wed Jul 19 12:41:36 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/mapctrl.c:

	Marked 3 unmarked strings.  Bug reported by Christian Knoke
	<chrisk@enter.de>.

Wed Jul 19 12:07:34 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/sernet.c:

	With readline, when server is busy it would process one keystroke
	per turn.  This adds a "continue", so that all possible keystrokes
	are processed.

Tue Jul 18 23:33:30 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/gotohand.c:

	Fix bug in really_generate_warmap() where railroad was ignored for
	F_IGTER units.

Tue Jul 18 23:31:23 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated.

Tue Jul 18 11:57:16 2000  Jeff Mallatt <jjm@codewell.com>:

	* amiga/config.h, amiga/smakefile, client/gui-mui/citydlg.c,
	client/gui-mui/citydlg.h, client/gui-mui/cityrep.c,
	client/gui-mui/dialogs.c, client/gui-mui/gui_main.c,
	client/gui-mui/inputdlg.c, client/gui-mui/messagedlg.c,
	client/gui-mui/muistuff.h, client/gui-mui/wldlg.c:

	Updated the Amiga port.

	News (GUI-MUI related): - Added Message options in main menu.  -
	Added popup notify dialog.  - Added Change button support to city
	report. The Change method is now used by city report and city view
	and got independant from city-view structures.  - Fixed problem,
	where creating a new (empty) worklist and renaming it caused a
	larger Enforcer problem and loose of the entry.  - Display in city
	report is now sorted by city name.  - Applied optimizer warnings
	in files I already modified.

	Patch submitted by Dirk Stoecker <stoecker@rcs.urz.tu-dresden.de>.

Mon Jul 17 19:48:07 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, common/version.h, data/Freeciv:

	Bump version from 1.11.2 (beta) to 1.11.3-devel (beta).

Mon Jul 17 18:08:04 2000  Jeff Mallatt <jjm@codewell.com>:

	* BUGS, ChangeLog, NEWS, PEOPLE, configure, configure.in,
	common/version.h, data/Freeciv, po/de.po, po/en_GB.po, po/es.po,
	po/fr.po, po/hu.po, po/ja.po, po/nl.po, po/no.po, po/pl.po,
	po/pt.po, po/pt_BR.po, po/ru.po:

	Begin beta-test period leading to version 1.11.4: - Changed
	version to 1.11.2 (beta).  - Ran msgmerge on all .po files (normal
	part of 'make dist').  - Updated BUGS NEWS PEOPLE and ChangeLog
	files.

Mon Jul 17 14:45:43 2000  Jeff Mallatt <jjm@codewell.com>:

	* acconfig.h, config.h.in, configure, configure.in,
	server/console.c, server/console.h, server/sernet.c:

	Added readline support to civserver.  Patch submitted by Thue
	Janus Kristensen <thue@diku.dk>, committed with fixes by David
	Pfitzner <dwp@mso.anu.edu.au> and me.

Mon Jul 17 14:25:06 2000  Jeff Mallatt <jjm@codewell.com>:

	* README, diff_ignore:

	Tweaks needed by ability to save compressed save-files.  Added
	explanation of compressed save-files to README, and added
	"civgame*.sav.gz" to the diff_ignore file.

Mon Jul 17 14:10:59 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/map.c, common/map.h:

	Changed DIR_DX/Y arrays to be global.  Suggested by Dirk Stoecker
	<stoecker@rcs.urz.tu-dresden.de>, implemented by me.

Sun Jul 16 22:49:59 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-mui/inputdlg.c, client/gui-mui/inputdlg.h:

	Added new files for Amiga port update.

Sun Jul 16 22:47:03 2000  Jeff Mallatt <jjm@codewell.com>:

	* amiga/ReadMe.developer, amiga/_main.c, amiga/amigaclient.c,
	amiga/amigaserver.c, amiga/smakefile, client/gui-mui/chatline.h,
	client/gui-mui/citydlg.c, client/gui-mui/citydlg.h,
	client/gui-mui/cityrep.c, client/gui-mui/cityrep.h,
	client/gui-mui/colors.h, client/gui-mui/dialogs.c,
	client/gui-mui/dialogs.h, client/gui-mui/diplodlg.h,
	client/gui-mui/graphics.h, client/gui-mui/gui_main.c,
	client/gui-mui/gui_main.h, client/gui-mui/helpdlg.c,
	client/gui-mui/mapclass.c, client/gui-mui/mapclass.h,
	client/gui-mui/mapctrl.c, client/gui-mui/mapview.c,
	client/gui-mui/mapview.h, client/gui-mui/objecttreeclass.c,
	client/gui-mui/optiondlg.h, client/gui-mui/overviewclass.c,
	client/gui-mui/overviewclass.h, client/gui-mui/plrdlg.c,
	client/gui-mui/repodlgs.c, client/gui-mui/scrollbuttonclass.c,
	client/gui-mui/spaceshipdlg.c, client/gui-mui/spaceshipdlg.h,
	client/gui-mui/worklistclass.c:

	Amiga port update.

	General improvements: a) Made files more independant from
	Sebastians system (e.g. removing C++ comments, added second Amiga
	TCP-SDK support).  b) Adding some missing GUI-MUI features.

	Changes in detail: - Fixed Enforcer hit, when tiles.ilbm did not
	exist (mapclass.c) - Fixed typo error in mapclass.c.  - Removed
	unused variables in gui-mui modules - Adapted amiga source to
	compile with MIAMI_SDK and on my machine as well.  - Changed the
	smakefile a lot to allow better machine independant making.  Well
	that patch is that big only because of the smakefile.  - Fixed
	unnuke stuff, which was partially implemented only by non-Amiga
	authors :-).  - Fixed and appended to amiga/ReadMe.developer -
	Selecting buy in city view, closing city view and clicking on buy
	caused Enforcer hit and the action was not done. The buy confirm
	function gets pcity instead of pdialog now (which may have been
	obsolete in between).  - Added "Buy" button in city report.  -
	Removed C++ comments (better support for different compilers).  -
	Added "Rename" button to city view. Created inputdlg.c and
	inputdlg.h and changed newcity request to use this instead (like
	in GTK client).

	Patch submitted by Dirk Stoecker <stoecker@rcs.urz.tu-dresden.de>.

Sun Jul 16 12:34:45 2000  Sawada Katsuya <amanatto@mail2.dddd.ne.jp>:

	* po/ja.po:

	Update ja.po to 1276t+21f+967u+2o.

Sat Jul 15 15:34:26 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/game.c, common/game.h, server/gamehand.c,
	server/stdinhand.c:

	Add support for dispersing initial units over a configurable area.
	Patch submitted by Tomasz Wegrzanowski <maniek@beer.com>,
	committed with several fixes by me.

Sat Jul 15 13:39:49 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/civserver.c:

	Moved initial server-script load to a more logical place.

Sat Jul 15 13:25:10 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/civserver.c, server/sernet.c, server/stdinhand.c,
	server/stdinhand.h:

	Added new 'first' argument to cmdlevel server command.  The first
	player to connect gets the 'first' cmdlevel; the remaining players
	get the default (specified by the 'new' cmdlevel argument)
	cmdlevel.  Patch submitted by Reinier Post <reinpost@win.tue.nl>.

Sat Jul 15 02:59:05 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/game.c, common/game.h, server/stdinhand.c:

	Add GAME_*_COMPRESS_LEVEL defines (should have been in zlib
	patch).

Sat Jul 15 01:53:10 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/diplodlg.c, client/gui-gtk/gui_main.c,
	client/gui-gtk/helpdlg.c:

	Added calls to gtk_pixmap_build_insensitive() so that pixmaps can
	be shown properly on Win32.

	Patch by Andreas Kemnade <akemnade@t-online.de>.

Fri Jul 14 03:59:31 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c:

	Fix bug that AI players created using server 'create' command (not
	aifill players) did not have their skill level parameters
	initialized correctly, and were thus effectively skill level
	'hard' regardless of reported skill level (unless something else
	adjusted/set the skill level later, including game reload etc). 
	Sigh.

Fri Jul 14 03:51:05 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* config.h.in, configure, configure.in, common/Makefile.am,
	common/Makefile.in, common/game.c, common/game.h,
	common/inputfile.c, common/ioz.c, common/ioz.h, common/registry.c,
	common/registry.h, server/civserver.c, server/rulesout.c,
	server/stdinhand.c:

	Add zlib support, for transparent compression and uncompression of
	savegames (gzip format).  Compression is used by default if
	configure finds the requirements and not 'configure
	--without-zlib'.  New server option "compress" to control
	compression level, and to allow saving uncompressed ('set compress
	0').  New module common/ioz.c for IO-layer supporting compression.

	Originally based on an old patch submitted Oct 1998 by Markus
	Linnala <maage@cs.tut.fi>, but now substantially re-worked by me.

Thu Jul 13 16:05:55 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/nation/italian.ruleset:

	Fix Italian leader and city spelling errors.  Info supplied by
	Gianni Ciolli <ciolli@math.unifi.it>.

Thu Jul 13 13:57:55 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/nation/chinese.ruleset:

	Added a few new Chinese leaders.  Patch submitted by Wong TM
	[Huang Deming] <lookmeow@magix.com.sg>.

Wed Jul 12 19:16:43 2000  Jeff Mallatt <jjm@codewell.com>:

	* PEOPLE, data/engels/tiles.xpm:

	Made the fog in the Engels tileset darker, hence easier to see. 
	Patch submitted by Jussi Asp <ja66598@uta.fi>.

Tue Jul 11 14:21:59 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/capstr.c:

	Adjust line-breaking in CAPABILITY #define to be acceptable to
	Solaris cc.

Tue Jul 11 13:48:11 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated all patches included

Tue Jul 11 11:15:30 2000  Thue Janus Kristensen <thue@diku.dk>:

	* ai/aiunit.c, common/map.c, common/map.h, server/gotohand.c:

	Remove functions map_calc_adjacent_xy() and
	map_calc_adjacent_xy_void() Create global arrays DIR_DX[8] and
	DIR_DY[8] to replace the ii[] and jj[] arrays cut-pasted all over
	the code.

	Patch by me and I.Q. <iquin@techie.com>

Mon Jul 10 22:26:03 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/gui_stuff.c:

	Changed gtk_scale_pixmap() to be more portable (unfortunately it
	should be slightly slower this way).  Hopefully that will make it
	work like it should on Win32.

Mon Jul 10 07:08:58 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in:

	When checking argument to 'configure --enable-client', test for
	client/gui-$client in $srcdir (was previously build dir in
	effect).

Mon Jul 10 06:31:22 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/control.c, client/control.h, client/gui-gtk/gui_main.c,
	client/gui-gtk/mapview.c, client/gui-stub/gui_main.c,
	client/gui-stub/mapview.c, client/gui-xaw/gui_main.c,
	client/gui-xaw/mapview.c, client/include/gui_main_g.h,
	client/include/mapview_g.h:

	Make update_unit_pix_label() gui-independent, using two new
	gui-dependent functions set_unit_icon() and
	set_unit_icons_more_arrow().

Mon Jul 10 04:42:09 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/packhand.c, common/capstr.c, common/map.h,
	common/packets.c, common/unit.c, data/civ1/terrain.ruleset,
	data/civ2/terrain.ruleset, data/classic/terrain.ruleset,
	data/default/terrain.ruleset, server/ruleset.c:

	Adds the requirement of a minimum number of ocean tiles adjacent
	to a land tile wished to be changed to ocean.  Controlled by
	terrain.ruleset.

Mon Jul 10 04:08:19 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/mapview.c, client/gui-xaw/mapview.c:

	Change GTK+ and Xaw clients to draw nuke explosion respecting
	transparency.

Mon Jul 10 03:30:11 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/citydlg.c, client/gui-xaw/citydlg.c,
	data/Freeciv:

	Add right-button action to supported and present units lists in
	City dialog to select the unit without closing the dialog.  GTK+
	and Xaw.

Mon Jul 10 01:47:57 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/climisc.c, client/climisc.h, client/control.c,
	client/control.h, client/options.c, client/packhand.c,
	client/tilespec.c, client/tilespec.h, client/gui-gtk/gui_main.c,
	client/gui-gtk/mapview.c, client/gui-gtk/menu.c,
	client/gui-gtk/messagewin.c, client/gui-mui/gui_main.c,
	client/gui-mui/mapclass.c, client/gui-mui/mapview.c,
	client/gui-stub/mapview.c, client/gui-xaw/actions.c,
	client/gui-xaw/gui_main.c, client/gui-xaw/mapview.c,
	client/gui-xaw/menu.c, client/gui-xaw/menu.h,
	client/include/mapview_g.h, common/capstr.c, common/city.c,
	common/city.h, common/events.h, common/game.c, common/game.h,
	common/map.c, common/map.h, common/packets.c, common/packets.h,
	common/terrain.h, common/unit.c, common/unit.h, data/Freeciv,
	data/civ1/game.ruleset, data/civ1/terrain.ruleset,
	data/civ1/units.ruleset, data/civ2/game.ruleset,
	data/civ2/terrain.ruleset, data/civ2/units.ruleset,
	data/classic/terrain.ruleset, data/default/buildings.ruleset,
	data/default/game.ruleset, data/default/terrain.ruleset,
	data/default/units.ruleset, data/engels/tiles.spec,
	data/engels/tiles.xpm, data/misc/small.spec, data/misc/small.xpm,
	data/trident/tiles.spec, data/trident/tiles.xpm,
	server/citytools.c, server/citytools.h, server/civserver.c,
	server/gamehand.c, server/maphand.c, server/maphand.h,
	server/ruleset.c, server/settlers.c, server/stdinhand.c,
	server/unitfunc.c:

	Added Nuclear Fallout.  Controlled by game.ruleset value
	nuke_contamination.

	Industrialization and population still generate Pollution. 
	Dropping a Nuke generates Nuclear Fallout, which is distinct from
	Pollution.  There is a new command to clean Fallout vs. cleaning
	Pollution.

	Similar to Pollution contributing to Global Warming, Fallout
	contributes to Nuclear Winter -- which also changes terrain, but
	tends to Desert, Tundra and Glacier.  Added a new "cooling" icon
	to the info area to indicate the progress towards Nuclear Winter,
	and also icons for Fallout and Cleaning Fallout for the main map.

	GTK+ and Xaw clients work; made some changes to MUI client, but
	they are probably incomplete and are untested.

	Finally, AIs are more aggressive at cleaning up Pollution, but not
	Fallout.

Mon Jul 10 01:26:45 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/civclient.c, client/control.c:

	Fixed bug in "diplomat_investigate_fix" patch where a new client
	connecting to an old server would not work.

Sun Jul  9 20:51:17 2000  Jeff Mallatt <jjm@codewell.com>:

	* Makefile.am, Makefile.in, configure, configure.in,
	server/sernet.c, vms/.cvsignore, vms/Makefile.am, vms/Makefile.in,
	vms/README.txt, vms/vms_build.com:

	Added support for port to OpenVMS.  Patch submitted by Roger
	Tucker <roger.tucker@wcom.com>, with infrastructure added by me.

Sun Jul  9 20:47:23 2000  Jeff Mallatt <jjm@codewell.com>:

	* vms:

	Directory /home/freeciv/CVS/freeciv/vms added to the repository

Sun Jul  9 20:35:49 2000  Jeff Mallatt <jjm@codewell.com>:

	* README.rulesets, client/civclient.c, client/control.c,
	client/packhand.c, client/packhand.h, common/capstr.c,
	common/city.c, common/city.h, common/game.c, common/game.h,
	common/packets.c, common/packets.h, common/unit.c, data/civ1.serv,
	data/civ2.serv, data/civ1/Makefile.am, data/civ1/Makefile.in,
	data/civ1/game.ruleset, data/civ2/Makefile.am,
	data/civ2/Makefile.in, data/civ2/game.ruleset,
	data/default/Makefile.am, data/default/Makefile.in,
	data/default/game.ruleset, server/gamehand.c, server/ruleset.c,
	server/settlers.c, server/stdinhand.c, server/unithand.c:

	Moved most of the dependencies on the civstyle server option to
	separate values in various game.ruleset files.  Patch submitted by
	Marko Lindqvist <caz@assari.cc.tut.fi>, committed with a few,
	minor changes.

Sun Jul  9 19:29:48 2000  Jeff Mallatt <jjm@codewell.com>:

	* PEOPLE:

	Minor fix to PEOPLE file.

Sun Jul  9 19:28:38 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/plrhand.c:

	Changed an abort() to a conceptual "ignore".  (I couldn't
	reproduce the bug, but I see no reason to not apply this simple
	change.) May address PR#441.  Bug reported by Urban Mueller
	<mueller@relog.ch>.  Patch submitted by Marko Lindqvist
	<caz@assari.cc.tut.fi>.

Sun Jul  9 16:51:03 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/nation/danish.ruleset:

	Fixed and added Danish rulers and cities.  Patch submitted by
	Martin Willemoes Hansen <mwh@stampede.org>.

Sat Jul  8 15:49:09 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in:

	Added a new library for BeOS in configure.in etc.  Fixes PR#439. 
	Patch submitted by Joseph Beckenbach <jrb3@bdhsw.com>.

Sat Jul  8 02:03:14 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Fri Jul  7 01:45:27 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/nation/misc_cities.ruleset, data/nation/olympic.ruleset:

	Changed two "St"s to "St."s in nations rulesets.

Fri Jul  7 01:38:54 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/nation/scottish.ruleset:

	Fixes and additions to Scottish nation.  Patch submitted by Martin
	McMahon <martin.mcmahon@ukonline.co.uk>, committed with some
	fixes.

Thu Jul  6 15:47:27 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/packhand.c, common/capstr.c, common/city.c,
	common/city.h, common/packets.c, common/packets.h,
	server/cityhand.c, server/cityturn.c, server/cityturn.h,
	server/civserver.c, server/plrhand.c, server/plrhand.h:

	Fixes bug in display of turns to build.  Also allows players to
	switch back to original improvement class, in the same turn as
	they switched to a different class, without incurring a penalty. 
	Fixes PR#430.  Partial bug fixes submitted by Gaute Strokkenes
	<gs234@cam.ac.uk> and Robert Rendell
	<rob@universe.serc.rmit.edu.au>.  Final fix and penalty-recovery
	by me.

Thu Jul  6 15:20:00 2000  Jeff Mallatt <jjm@codewell.com>:

	* BUGS, client/packhand.c, client/gui-gtk/citydlg.c,
	client/gui-mui/citydlg.c, client/gui-xaw/citydlg.c,
	common/capstr.c, common/city.h, common/packets.c,
	common/packets.h, server/cityhand.c, server/cityhand.h,
	server/unitfunc.c, server/unithand.c, server/unithand.h:

	Fixed bug whereby Diplomat/Spy investigations of cities did not
	reveal the correct supported and present unit lists.  Fixes
	PR#422.  Bug reported by Marko Lindqvist <caz@assari.cc.tut.fi>.

Thu Jul  6 14:39:42 2000  Jeff Mallatt <jjm@codewell.com>:

	* PEOPLE:

	Minor fixes to PEOPLE file.

Thu Jul  6 14:30:41 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/gotohand.c:

	Fixed bug whereby an Air unit in Goto would sometimes stop in an
	intermediate city, even if the destination was within range and
	closer than the intermediate city.  Fixes PR#435.  Patch submitted
	by Kero van Gelder <kero@dds.nl>.

Thu Jul  6 14:23:25 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/plrhand.c:

	Fixed bug whereby starting a revolution, saving the game and
	restarting the server would allow switching governments without
	anarchy.  Bug reported by Michael Kiermaier
	<michael.kiermaier@gmx.net>.  Patch submitted by Marko Lindqvist
	<caz@assari.cc.tut.fi>.

Thu Jul  6 13:28:31 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/nation/misc_cities.ruleset, data/nation/swedish.ruleset:

	Moved Jokkmokk from Iceland in misc_cities to Sweden.  Information
	supplied by Erik Sigra <sigra@home.se>.

Wed Jul  5 00:53:51 2000  Joseph Beckenbach <jrb3@bdhsw.com>:

	* client/gui-beos/Backend.cpp, client/gui-beos/Defs.hpp,
	client/gui-beos/InputView.cpp, client/gui-beos/InputView.hpp,
	client/gui-beos/MainWindow.cpp, client/gui-beos/Makefile:

	Functionality increment:  input line.  Also fix list of libraries,
	so 'make pkg' can package a working application.

Tue Jul  4 23:29:41 2000  Joseph Beckenbach <jrb3@bdhsw.com>:

	* client/gui-beos/App.cpp, client/gui-beos/App.hpp,
	client/gui-beos/Backend.cpp, client/gui-beos/Backend.hpp,
	client/gui-beos/Defs.cpp, client/gui-beos/Defs.hpp,
	client/gui-beos/FreeCiv.rsrc, client/gui-beos/Freeciv.rsrc,
	client/gui-beos/InputView.cpp, client/gui-beos/InputView.hpp,
	client/gui-beos/MainWindow.cpp, client/gui-beos/MainWindow.hpp,
	client/gui-beos/Makefile, client/gui-beos/MapCanvas.cpp,
	client/gui-beos/MapCanvas.hpp, client/gui-beos/OutputView.cpp,
	client/gui-beos/OutputView.hpp, client/gui-beos/README.BeOS,
	client/gui-beos/README.design, client/gui-beos/README.todo,
	client/gui-beos/RadarView.cpp, client/gui-beos/RadarView.hpp,
	client/gui-beos/StatusView.cpp, client/gui-beos/StatusView.hpp,
	client/gui-beos/SummaryView.cpp, client/gui-beos/SummaryView.hpp,
	client/gui-beos/UnitInfoView.cpp,
	client/gui-beos/UnitInfoView.hpp,
	client/gui-beos/UnitsBelowView.cpp,
	client/gui-beos/UnitsBelowView.hpp, client/gui-beos/chatline.cpp,
	client/gui-beos/citydlg.cpp, client/gui-beos/cityrep.cpp,
	client/gui-beos/civ, client/gui-beos/colors.cpp,
	client/gui-beos/connectdlg.cpp, client/gui-beos/connectdlg.h,
	client/gui-beos/connectdlg.hpp, client/gui-beos/dialogs.cpp,
	client/gui-beos/diplodlg.cpp, client/gui-beos/finddlg.cpp,
	client/gui-beos/gotodlg.cpp, client/gui-beos/gui_main.c,
	client/gui-beos/helpdlg.cpp, client/gui-beos/inteldlg.cpp,
	client/gui-beos/mapctrl.cpp, client/gui-beos/mapview.cpp,
	client/gui-beos/menu.cpp, client/gui-beos/messagedlg.cpp,
	client/gui-beos/messagewin.cpp, client/gui-beos/optiondlg.cpp,
	client/gui-beos/plrdlg.cpp, client/gui-beos/ratesdlg.cpp,
	client/gui-beos/repodlgs.cpp, client/gui-beos/spaceshipdlg.cpp,
	client/gui-beos/wldlg.cpp:

	Added an increment of functionality:  the connect dialog.  (No
	connecting yet.) Also expanded on developer documentation, to
	reveal directions to pursue.  Prepare for pervasive
	multi-threading, and for lots of implementation.

Tue Jul  4 23:12:38 2000  Joseph Beckenbach <jrb3@bdhsw.com>:

	* client/gui-beos/lib/Makefile,
	client/gui-beos/lib/BdhDialog/BdhDialog-data.cpp,
	client/gui-beos/lib/BdhDialog/BdhDialog.cpp,
	client/gui-beos/lib/BdhDialog/BdhDialog.h,
	client/gui-beos/lib/BdhDialog/BdhDialog.txt,
	client/gui-beos/lib/BdhDialog/BdhEntryDialog.cpp,
	client/gui-beos/lib/BdhDialog/BdhEntryDialog.h,
	client/gui-beos/lib/BdhDialog/BdhLibDialog.h,
	client/gui-beos/lib/BdhDialog/makefile:

	Add library to make it much easier to create dialogs.

Tue Jul  4 23:02:07 2000  Joseph Beckenbach <jrb3@bdhsw.com>:

	* client/gui-beos/lib/BdhDialog:

	Directory /home/freeciv/CVS/freeciv/client/gui-beos/lib/BdhDialog
	added to the repository

Tue Jul  4 12:18:22 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/mapview.c, client/gui-xaw/mapview.c:

	Do not show "turns to complete" for Capitalization when showing
	city production on main map.

Tue Jul  4 12:17:00 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/repodlgs.c:

	Fix bug that Gtk+ client misnumbered future techs in science
	dialog (eg was "Future Tech. 90" instead of "Future Tech. 1").

Mon Jul  3 20:28:01 2000  Jeff Mallatt <jjm@codewell.com>:

	* PEOPLE:

	Update to PEOPLE file.  Info provided by Olivier Beyssac
	<ob@r14.freenix.org>.

Mon Jul  3 20:22:49 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/nation/german.ruleset:

	Added three new German leaders.  Patch submitted by Tomasz
	Wegrzanowski <maniek@beer.com>, with a correction by Jerzy Klek
	<qpkjeek@epk.ericsson.se>.

Mon Jul  3 10:35:15 2000  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Sun Jul  2 16:28:06 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* server/unithand.c:

	In handle_unit_enter_hut() a unit entering a hut might be killed
	in doing so if it contained barbarians, causing a later
	notify_player_ex() to crash because it attempted to use the unit
	location (after it had been killed).  The game crashed everytime
	with huts and aifill 15.

	Patch submitted by Karl-Ingo Friese
	<kif@informatik.uni-hannover.de>

Sun Jul  2 14:12:13 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/civ1/governments.ruleset, data/civ2/governments.ruleset,
	data/default/governments.ruleset, server/cityturn.c:

	Fixed help text about unhappiness generated by Air and Sea units. 
	Also, fixed bug whereby Air units were getting the unhappiness
	bonus of being inside a fortress.  Help text bugs reported by
	Tomasz Wegrzanowski <maniek@beer.com> and Marko Lindqvist
	<caz@assari.cc.tut.fi>.

Sun Jul  2 13:45:32 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/game.h:

	Added extra parentesis to a #define to remove a VC++ 6.0 compiler
	error.

Sun Jul  2 13:43:26 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/hash.c:

	Changed the type of some variables to unsigned to silence VC++ 6.0
	compiler warnings.

Sun Jul  2 08:47:29 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/citytools.c:

	Fix bug that transfering a city would not create first contact.

	Fixes PR#429, reported by Gaute Strokkenes <gs234@cam.ac.uk>

Sat Jul  1 19:16:20 2000  Thue Janus Kristensen <thue@diku.dk>:

	* ai/advmilitary.c:

	Remove a bug in port_is_within() that meant the AI could only
	build one navel attack unit at a time before the port facility
	became available.

Sat Jul  1 18:41:58 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unitfunc.c:

	Fix bug that you could paradrop into cities you were at war with
	even if they contained enemy units.

	Bug reported by Jan Felix Heidefuﬂ <Jan_Heidefuss@yahoo.de>

Sat Jul  1 15:10:06 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* po/en_GB.po:

	en_GB_po updates: honor -> honour; more cases of railroad ->
	railway and center -> centre.

Fri Jun 30 15:10:54 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/nation/estonian.ruleset:

	Added leaders and adjusted cities in Estonian nation.  Patch
	submitted by Aivo Kalu <aivo.kalu@mfa.ee>.

Fri Jun 30 15:02:20 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/gotohand.c:

	Replace an && with an ||, which would sometimes make ships on goto
	ignore enemy units and cities, causing handle_unit_move_request to
	abort the goto.

	Bug reported by dizzyfish.

Fri Jun 30 14:40:49 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/settlers.c:

	There is a problem with autosettlers in a city with a boat; since
	the human and AI code is shared, it tries to arrange a transport
	for the settler and strange things happen, like moving the
	transport or the autosettlers stalling!  This is a very simple
	patch to stop that, by simply nulling the ferryboat.  Patch
	submitted by Thue Janus Kristensen <thue@diku.dk>.

Thu Jun 29 23:39:54 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, common/version.h, data/Freeciv:

	Bump version from 1.11.0 to 1.11.1-devel.

Thu Jun 29 22:47:44 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, common/version.h, data/Freeciv,
	po/de.po, po/en_GB.po, po/es.po, po/fr.po, po/hu.po, po/ja.po,
	po/nl.po, po/no.po, po/pl.po, po/pt.po, po/pt_BR.po, po/ru.po:

	Final source update for Version 1.11.0 release.  Set version to
	1.11.0.

Thu Jun 29 16:19:13 2000  Jeff Mallatt <jjm@codewell.com>:

	* NEWS:

	Update NEWS file for 1.11.0 release.

Thu Jun 29 11:17:15 2000  Sawada Katsuya <amanatto@mail2.dddd.ne.jp>:

	* po/ja.po:

	Update ja.po to 1197t+20f+1024u.

Wed Jun 28 20:23:50 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, common/version.h, data/Freeciv:

	Bump version from 1.10.6 (beta) to 1.10.7-devel (beta).

Wed Jun 28 18:13:30 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Wed Jun 28 15:22:51 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, common/version.h, data/Freeciv,
	po/de.po, po/en_GB.po, po/es.po, po/fr.po, po/hu.po, po/ja.po,
	po/nl.po, po/no.po, po/pl.po, po/pt.po, po/pt_BR.po, po/ru.po:

	Third and final (hopefully) beta release (1.10.6) leading to
	version 1.11.0.

Wed Jun 28 14:25:29 2000  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated nl.po

Wed Jun 28 13:50:13 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/dialogs.c, client/gui-gtk/mapview.c:

	Reverted a couple of recent non-bugfix changes: - Titlebar-less
	Select Government dialog.  Why should this dialog be inconsistent?
	- Parentheses around city productions on main map.  These extra
	pixels just add clutter to an already cluttered map for no reason.

Wed Jun 28 13:11:26 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/citydlg.c:

	Fixed bug whereby info column in Gtk+ client's Change Production
	dialog was not being translated.  The problem was that, when the
	Change Production dialog was improved, the author mistakenly used
	N_(), rather than _().  Bug reported by Egbert Hinzen
	<garfy@ehinzen.de>.

Wed Jun 28 13:00:18 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/civ1/buildings.ruleset, data/civ2/buildings.ruleset,
	data/default/buildings.ruleset:

	Removed redundant help text for Aqueducts and Sewer Systems. 
	(Temporary until generalized improvements is implemented.) Fixes
	PR#423.  Bug reported by Pieter J. Kersten <kersten@dia.eur.nl>.

Wed Jun 28 12:37:14 2000  Jeff Mallatt <jjm@codewell.com>:

	* BUGS:

	Added Dipl/Spy investigates city and doesn't see units bug to BUGS
	file.

Wed Jun 28 07:27:15 2000  Pieter J. Kersten <kersten@dia.eur.nl>:

	* po/nl.po:

	Updated to last changes, including missed strings in
	../client/dialog.c.

Wed Jun 28 05:40:46 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* doc/INSTALL.de:

	INSTALL.de updated Hint included about the Solaris notes in the
	english INSTALL

Wed Jun 28 05:11:24 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Tue Jun 27 22:20:25 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/dialogs.c:

	I guess the titlebar should be removed from the government dialog
	instead.

Tue Jun 27 22:10:51 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/dialogs.c:

	Patch to remove the titlebar from the popup message dialog.

Tue Jun 27 21:14:12 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* BUGS:

	Removed fixed bug in the gtk+ client from the BUGS file.

Tue Jun 27 21:12:25 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/mapview.c:

	Added parentesis around city production; Fixed overview canvas not
	refreshing properly (see also previous change to gui_main.c). 
	Added initialization with black of the overview & normap map
	canvas store.

Tue Jun 27 21:09:42 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/gui_main.c:

	Fixed gtk+ client closing "undocked" windows causing crashes bug.

Tue Jun 27 21:02:51 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* po/pt.po:

	Updated Portuguese (pt) translation.

Tue Jun 27 20:02:38 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/control.c, common/capstr.c, common/packets.c,
	server/gotohand.c:

	Changed capability string to simply "+1.11".  Removed all
	correspondingly obsoleted has_capability() calls.

Tue Jun 27 19:12:42 2000  Jeff Mallatt <jjm@codewell.com>:

	* ChangeLog, PEOPLE:

	Further updates to PEOPLE and ChangeLog for 1.11 release.

Tue Jun 27 16:38:14 2000  Jeff Mallatt <jjm@codewell.com>:

	* INSTALL:

	Fixed bug in INSTALL file.  Fix submitted by Reinier Post
	<reinpost@win.tue.nl>.

Tue Jun 27 15:31:00 2000  Jeff Mallatt <jjm@codewell.com>:

	* PEOPLE:

	Updated email addresses in PEOPLE file.

Tue Jun 27 15:20:28 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Tue Jun 27 14:47:03 2000  Jeff Mallatt <jjm@codewell.com>:

	* INSTALL:

	Added section on Solaris build to INSTALL file.  Info from FAQ by
	Reinier Post <rp@win.tue.nl>.

Tue Jun 27 13:20:27 2000  Thue Janus Kristensen <thue@diku.dk>:

	* common/city.h, server/citytools.c, server/diplhand.c,
	server/maphand.c, server/maphand.h:

	When builing a city, do not reveal unknown squares inside the city
	radius.  Also, When transfering a city from another player only
	reveal those squares that are known to the player we get the city
	from.

	(later I would like to make it an option to reveal the squares
	when creating the city, as it is at least required for civ:ctp
	mode)

	Fixes PR#416 reported by Jeff Mallatt <jjm@codewell.com> Fix by me
	and Jeff Mallatt <jjm@codewell.com>

Tue Jun 27 12:58:19 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/fr.po:

	Updated French (fr) translation.  Patch submitted by Olivier
	Beyssac <ob@r14.freenix.org>.

Tue Jun 27 12:48:59 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/dialogs.c, client/gui-xaw/dialogs.c:

	I18n'd two missed strings.  Patch submitted by Pieter J. Kersten
	<kersten@dia.eur.nl>.

Tue Jun 27 12:11:20 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/ruleset.c:

	Fixed grammar error.  Patch submitted by Dan Gohman
	<gohmandj@mrs.umn.edu>.

Tue Jun 27 00:56:11 2000  Sawada Katsuya <amanatto@mail2.dddd.ne.jp>:

	* po/ja.po:

	Update ja.po to 1187t+18f992u+2o.

Tue Jun 27 00:07:19 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unithand.c:

	In handle_unit_enter_city(), send player info after calling
	get_a_tech() to update the client.

	Bug reported by I.Q.<iquin@techie.com>

Mon Jun 26 19:29:57 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Mon Jun 26 18:37:46 2000  Jeff Mallatt <jjm@codewell.com>:

	* INSTALL:

	Added a Reinier's libXpm Solaris Installation Notes section to the
	INSTALL file.  Info supplied by, you guessed it, Reinier Post
	<reinpost@win.tue.nl>.

Mon Jun 26 14:55:21 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated translations of "rulesout" included improvements by
	Christian Knoke <ChrisK@enter.de>

Mon Jun 26 13:16:36 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/mapview.c, client/gui-xaw/mapview.c:

	Patch to draw city names/productions on expose events.  GTK+ patch
	submitted by Kero van Gelder <kero@ipc3792237.dial.wxs.nl>.  Xaw
	implementation by me.

Mon Jun 26 12:35:04 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/civ1/units.ruleset, data/civ2/units.ruleset,
	data/default/units.ruleset:

	Sea units in Civ2 are not field units.  Fixed to conform.  Also,
	changed Civ1 ruleset.  Bug reported by Mike Webb
	<mjw@codewell.com>.

Mon Jun 26 12:21:08 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/Makefile.am, common/Makefile.in, common/netintf.c,
	common/netintf.h, common/packets.c, common/support.c,
	common/support.h, server/sernet.c:

	Fixes bug whereby new FD_ZERO code would not compile cleanly on
	some platforms.  Adds a new module, ./common/netintf.[hc], to hold
	support for incompatible network interfaces.

Mon Jun 26 12:06:56 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/nation/boer.ruleset, data/nation/misc_cities.ruleset:

	Fixes to Boer nation.  Patch submitted by Gerhard Killesreiter
	<killesreiter@physik.uni-freiburg.de>, with some fixes.

Mon Jun 26 03:29:28 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/pl.po:

	Updated Polish (pl) translation.  Patch submitted by Tomasz
	Wegrzanowski <maniek@beer.com>.

Sun Jun 25 22:00:08 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Sun Jun 25 13:16:17 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/options.c, client/options.h, client/packhand.c:

	Added local client option to auto-center on all combats involving
	the player.  Defaults to prior behavior of not auto-centering on
	combat.  Suggested (strongly :) by my Anonymous Freeciv Friends.

Sat Jun 24 23:12:31 2000  Sawada Katsuya <amanatto@mail2.dddd.ne.jp>:

	* po/ja.po:

	Update ja.po to 1161t+17f+1019u+2o.

Sat Jun 24 18:31:41 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/plrhand.c:

	Fixed minor inconsistency between two messages.  Bug reported by
	Tomasz Wegrzanowski <maniek@beer.com>.

Sat Jun 24 18:26:04 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/pl.po:

	Updated Polish (pl) translation.  Patch submitted by Tomasz
	Wegrzanowski <maniek@beer.com>.

Sat Jun 24 13:42:52 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/civserver.c:

	Fix server abort when changing FoW setting on a loaded savegame
	before the server is started.

	Bug reported by Christian Knoke <ChrisK@enter.de>

Sat Jun 24 07:34:17 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Sat Jun 24 05:03:59 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* po/POTFILES.in, server/Makefile.am, server/Makefile.in,
	server/rulesout.c, server/rulesout.h, server/stdinhand.c:

	Add 'rulesout' server command (and new rulesout module), to write
	selected ruleset information to file.  Currently writes 'techs'
	data to support external utility 'techtree'.

Fri Jun 23 19:21:50 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/gotohand.c:

	Fix bug with goto not working when targeting cities with freights.
	Now the goto will accept any city or unit at the destination.

	fixes PR#402 reported by Gerhard
	Killesreiter<killesreiter@physik.uni-freiburg.de>

Fri Jun 23 18:27:01 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Fri Jun 23 17:17:20 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/packhand.c, client/gui-gtk/gui_main.c,
	client/gui-mui/gui_main.c, client/gui-stub/gui_main.c,
	client/gui-xaw/gui_main.c, client/include/gui_main_g.h:

	Fixed bug whereby new-turn bell was sounding at odd times.  Fixes
	PR#310.  Bug reported by Mark Hayden <hayden@ispchannel.com>.

Fri Jun 23 17:06:35 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/unit.c:

	Added check in server to make sure that if client requests a
	specific infrastructure to pillage, we are in Civ2 mode.  Patch
	submitted by Marko Lindqvist <caz@assari.cc.tut.fi>, committed
	with some surgery.

Fri Jun 23 16:57:07 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in:

	Added a hack to ./configure to modify ./po/Makefile to always call
	msgmerge with "-w 0".  Otherwise, multi-byte encodings could get
	broken.  Bug reported by Sawada Katsuya
	<amanatto@mail2.dddd.ne.jp>.

Fri Jun 23 16:39:41 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/connectdlg.c, client/gui-xaw/connectdlg.c,
	data/Freeciv, server/civserver.c:

	Fixed i18n problems with client metaserver lists.  - The Xaw
	client hadn't marked all its strings.  - Provided for translating
	the "Status" strings.  Status string bug reported by Egbert Hinzen
	<garfy@ehinzen.de>.

Fri Jun 23 16:05:55 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/gotohand.c:

	When a unit is on goto find_the_shortest_path() will mark all
	routes on the warmap. find_a_direction() will then choose the path
	one move at a time, judging by various factors like the defense
	bonus, railroad(RR) etc.  The means that if a unit is going to a
	square without RRs, and the unit can choose between going directly
	or via yet another square with RRs, it will choose the RR square.
	This looks very stupid in practice, as you can see with jjm's
	movement throttle on.  This makes it go directly if possible.

Fri Jun 23 15:46:23 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/maphand.c, server/maphand.h, server/unitfunc.c:

	When moving a unit, Make sure the tiles discovered as a result of
	the move is sent to the client before the unit movement is sent,
	so people have a chance of seeing the new tiles before the client
	moves the screen by advancing the unit focus.

Fri Jun 23 15:37:33 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/clinet.c:

	Made create_server_list() more robust in the face of long strings.

Fri Jun 23 14:11:50 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated Improvements by Christian Knoke <ChrisK@enter.de>.

Fri Jun 23 12:51:39 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/nl.po:

	Updated Dutch (nl) translation.  Patch submitted by Pieter J.
	Kersten <kersten@dia.eur.nl>.

Fri Jun 23 02:22:37 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/shared.c:

	Fix erroneous assert for result==0 in m_pre_description().

Thu Jun 22 17:39:40 2000  Jeff Mallatt <jjm@codewell.com>:

	* PEOPLE, common/map.c, common/map.h, server/unitfunc.c:

	Removed redundant function tile_move_cost().  Fixes PR#404.  Patch
	submitted by IQ <iquin@technologist.com>, committed with changes
	to comment and prototype.

Thu Jun 22 15:17:02 2000  Jeff Mallatt <jjm@codewell.com>:

	* PEOPLE:

	Update to PEOPLE for 1.11 release.

Thu Jun 22 14:58:15 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/nl.po:

	Updated Dutch (nl) translation.  Patch submitted by Pieter J.
	Kersten <kersten@dia.eur.nl>, committed with one bugfix and one
	bug left in (use ./check_po.pl nl.po).

Thu Jun 22 14:39:06 2000  Jeff Mallatt <jjm@codewell.com>:

	* PEOPLE, po/pl.po:

	Updated Polish (pl) translation.

Thu Jun 22 13:38:31 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated Improvements submitted by Christian Knoke
	<ChrisK@enter.de>.

Thu Jun 22 13:23:29 2000  Jeff Mallatt <jjm@codewell.com>:

	* BUGS:

	Added serious bug in Gtk+ client about closing undocked windows.

Thu Jun 22 13:09:46 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/civ1/buildings.ruleset:

	Fix civ1 buildings.ruleset so it loads: City Walls
	"Unit_No_Lose_Pop" line was missing an item.

Thu Jun 22 13:06:04 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Wed Jun 21 22:50:55 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/clinet.c:

	Added close_socket_callback() function to close the socket to the
	server in case of an exception condition on a write to the server.

Wed Jun 21 22:48:39 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* server/sernet.c, common/support.c, common/support.h:

	Moved nonblocking socket's initialization function from 'sernet.c'
	to 'support.c'.

Wed Jun 21 22:12:12 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* server/sernet.c:

	Wrapped FD_SET() of descriptor 0 with an #ifndef
	SOCKET_ZERO_ISNT_STDIN.

Wed Jun 21 21:27:07 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* BUGS:

	Updated the BUGS file to mention that clicking in the main window
	on the gtk+ client now gives it focus.

Wed Jun 21 20:54:51 2000  Sawada Katsuya <amanatto@mail2.dddd.ne.jp>:

	* po/ja.po:

	Update ja.po to 1098t+23f+1076u+12o.  Use msgmerge with -w 0
	option.

Wed Jun 21 20:46:13 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/gotohand.c:

	Put a unit on idle after a failed goto.

	Bug reported by Gerhard
	Killesreiter<killesreiter@physik.uni-freiburg.de>

Wed Jun 21 20:36:07 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Wed Jun 21 20:04:35 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/POTFILES.in:

	Added two more files missing from POTFILES.in.

Wed Jun 21 18:13:42 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, common/version.h, data/Freeciv:

	Bump version from 1.10.4 (beta) to 1.10.5-devel (beta).

Wed Jun 21 17:20:38 2000  Joseph Beckenbach <jrb3@bdhsw.com>:

	* client/gui-beos/lib/Makefile, client/gui-beos/lib/README,
	client/gui-beos/lib/Bdh/BdhApp.cpp,
	client/gui-beos/lib/Bdh/BdhApp.h,
	client/gui-beos/lib/Bdh/BdhBitmap.cpp,
	client/gui-beos/lib/Bdh/BdhBitmap.h,
	client/gui-beos/lib/Bdh/BdhBuild.h,
	client/gui-beos/lib/Bdh/BdhLib.h,
	client/gui-beos/lib/Bdh/BdhView.cpp,
	client/gui-beos/lib/Bdh/BdhView.h,
	client/gui-beos/lib/Bdh/BdhViewList.cpp,
	client/gui-beos/lib/Bdh/BdhViewList.h,
	client/gui-beos/lib/Bdh/BdhWindow.cpp,
	client/gui-beos/lib/Bdh/BdhWindow.h,
	client/gui-beos/lib/Bdh/TPreferences.cpp,
	client/gui-beos/lib/Bdh/TPreferences.h,
	client/gui-beos/lib/Bdh/makefile,
	client/gui-beos/lib/BdhGame/SquareView.cpp,
	client/gui-beos/lib/BdhGame/SquareView.h,
	client/gui-beos/lib/BdhGame/TextGridView.cpp,
	client/gui-beos/lib/BdhGame/TextGridView.h,
	client/gui-beos/lib/BdhGame/makefile:

	Placeholder GUI for BeOS client.  Backend communications thread,
	with placeholder for later implementation.  Emplace initial
	supporting libraries;  update packager to provide them.  Update
	(what passes for) documentation so that others can review and
	kibitz.

Wed Jun 21 17:11:01 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, common/version.h, data/Freeciv,
	po/de.po, po/en_GB.po, po/es.po, po/fr.po, po/hu.po, po/ja.po,
	po/nl.po, po/no.po, po/pl.po, po/pt.po, po/pt_BR.po, po/ru.po:

	Second beta release (1.10.4) leading to version 1.11.0: - Changed
	version to 1.10.4 (beta).  - Ran msgmerge on all .po files (normal
	part of 'make dist').

Wed Jun 21 16:32:54 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/packhand.c:

	Fixed very bad bug in my recent unit-select patch whereby
	selecting a unit would cause all clients to select that unit, not
	just the client of the unit's owner.

Wed Jun 21 16:03:11 2000  Jeff Mallatt <jjm@codewell.com>:

	* ChangeLog:

	Updated ChangeLog for Version 1.11.0 release.

Wed Jun 21 15:56:53 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unitfunc.c:

	Update the comment for handle_unit_move_consequences()

Wed Jun 21 15:07:48 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/unitfunc.c:

	When change ocean to land, and new land blocks river estuary, add
	river to new land.  Patch submitted by Cameron Morland
	<cjmorlan@uwaterloo.ca>.

Wed Jun 21 14:27:14 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/climisc.c, client/packhand.c, client/gui-gtk/mapview.c,
	client/gui-xaw/gui_main.c, client/gui-xaw/mapview.c:

	Fix bug that disbanding a unit via city dialog did not update the
	unit pixmaps on the left-hand side.  Bug (PR#396) reported by
	Stepan Roh <sroh7497@ss1000.ms.mff.cuni.cz>.  Also fix bug that hp
	bar of active unit on left-hand side was not always updated
	correctly.  Make left-hand "other/below" unit icons clickable (to
	select) in Xaw client (already the case in Gtk+ client).  Change a
	game_remove_unit() to client_remove_unit() in packhand.c.  (Leave
	more extensive changes for later.)

Wed Jun 21 14:26:25 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Removed a check_po.pl warning from de.po.

Wed Jun 21 14:10:08 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/pl.po:

	Updated Polish (pl) translation.  Patch submitted by Tomasz
	Wegrzanowski <maniek@beer.com>.

Wed Jun 21 13:46:46 2000  Jeff Mallatt <jjm@codewell.com>:

	* PEOPLE:

	Further updates to PEOPLE for Version 1.11.0 release.

Wed Jun 21 13:44:13 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Wed Jun 21 06:38:16 2000  Jeff Mallatt <jjm@codewell.com>:

	* PEOPLE:

	Updated PEOPLE for Version 1.11.0 release.

Wed Jun 21 01:19:27 2000  Joseph Beckenbach <jrb3@bdhsw.com>:

	* client/gui-beos/lib/Bdh:

	Directory /home/freeciv/CVS/freeciv/client/gui-beos/lib/Bdh added
	to the repository

Wed Jun 21 01:19:27 2000  Joseph Beckenbach <jrb3@bdhsw.com>:

	* client/gui-beos/lib/BdhGame:

	Directory /home/freeciv/CVS/freeciv/client/gui-beos/lib/BdhGame
	added to the repository

Wed Jun 21 01:18:19 2000  Joseph Beckenbach <jrb3@bdhsw.com>:

	* client/gui-beos/lib:

	Directory /home/freeciv/CVS/freeciv/client/gui-beos/lib added to
	the repository

Tue Jun 20 17:12:00 2000  Jeff Mallatt <jjm@codewell.com>:

	* NEWS:

	Updated NEWS for Version 1.10.0 release.

Tue Jun 20 13:39:26 2000  Jeff Mallatt <jjm@codewell.com>:

	* BUGS, README:

	Updated BUGS and README for 1.11 release.

Tue Jun 20 12:34:57 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/cityturn.c:

	I18n'd a missed string.  Bug reported by Gerhard Killesreiter
	<killesreiter@physik.uni-freiburg.de>.

Mon Jun 19 23:28:16 2000  Joseph Beckenbach <jrb3@bdhsw.com>:

	* client/gui-beos/.cvsignore, client/gui-beos/About.hpp,
	client/gui-beos/App.cpp, client/gui-beos/App.hpp,
	client/gui-beos/Defs.hpp, client/gui-beos/FreeCiv.rsrc,
	client/gui-beos/Makefile, client/gui-beos/Makefile.am,
	client/gui-beos/Makefile.in, client/gui-beos/README.BeOS,
	client/gui-beos/chatline.cpp, client/gui-beos/chatline.h,
	client/gui-beos/citydlg.cpp, client/gui-beos/citydlg.h,
	client/gui-beos/cityrep.cpp, client/gui-beos/cityrep.h,
	client/gui-beos/civ, client/gui-beos/colors.cpp,
	client/gui-beos/colors.hpp, client/gui-beos/connectdlg.cpp,
	client/gui-beos/connectdlg.h, client/gui-beos/dialogs.cpp,
	client/gui-beos/dialogs.h, client/gui-beos/diplodlg.cpp,
	client/gui-beos/diplodlg.h, client/gui-beos/finddlg.cpp,
	client/gui-beos/finddlg.hpp, client/gui-beos/gotodlg.cpp,
	client/gui-beos/gotodlg.h, client/gui-beos/graphics.cpp,
	client/gui-beos/graphics.hpp, client/gui-beos/gui_main.c,
	client/gui-beos/gui_main.h, client/gui-beos/helpdlg.cpp,
	client/gui-beos/helpdlg.hpp, client/gui-beos/inteldlg.cpp,
	client/gui-beos/mapctrl.cpp, client/gui-beos/mapctrl.h,
	client/gui-beos/mapview.cpp, client/gui-beos/mapview.h,
	client/gui-beos/menu.cpp, client/gui-beos/menu.hpp,
	client/gui-beos/messagedlg.cpp, client/gui-beos/messagedlg.hpp,
	client/gui-beos/messagewin.cpp, client/gui-beos/messagewin.h,
	client/gui-beos/optiondlg.cpp, client/gui-beos/optiondlg.hpp,
	client/gui-beos/plrdlg.cpp, client/gui-beos/plrdlg.h,
	client/gui-beos/ratesdlg.cpp, client/gui-beos/ratesdlg.hpp,
	client/gui-beos/repodlgs.cpp, client/gui-beos/repodlgs.h,
	client/gui-beos/spaceshipdlg.cpp, client/gui-beos/spaceshipdlg.h,
	client/gui-beos/wldlg.cpp, client/gui-beos/wldlg.hpp:

	Proof of BeOS client.  Everything of any interest is stubbed out. 
	This is NOT going into the current beta (which leads up to
	1.11.0).  See README.BeOS for current hand-kluging required to
	build it.  (Note the BeOS client does not participate in the
	current build scheme yet.) All linkages are satisfied, and it
	runs, popping up a few alerts along the way.

Mon Jun 19 21:32:59 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/.cvsignore:

	Removed mistakenly added file from .cvsignore file.

Mon Jun 19 21:22:17 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/gamedlgs.c:

	Added a small spacing to options with integer fields in the "set
	local options" dialog.

Mon Jun 19 21:20:00 2000  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/diplodlg.c, client/gui-xaw/diplodlg.c:

	When initializing the city list in a diplomacy dialog, avoid
	malloc'ing 0 bytes if no cities are known. Also, free the memory
	afterwards...  Cut-pastes the code to sort cities from the xaw
	client into the gtk client.

Mon Jun 19 21:09:29 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/gui_main.c:

	Enabled info popup code (visible by clicking in the info label on
	the toplevel window).

Mon Jun 19 20:57:23 2000  Sawada Katsuya <amanatto@mail2.dddd.ne.jp>:

	* po/.cvsignore, po/ja.po:

	Update ja.po from 819t+42f+1318u+10o to 1073t+40f+1066u+12o.

Mon Jun 19 20:40:43 2000  Thue Janus Kristensen <thue@diku.dk>:

	* TODO:

	Remove FoW and edit allience stuff in TODO file.

Mon Jun 19 16:14:06 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Mon Jun 19 15:56:38 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unithand.c:

	Insert a check for sailing units entering non_allied cities in
	handle_unit_move_request() to get the correct error message.

	Bug reported by Christian Knoke <ChrisK@enter.de>

Mon Jun 19 14:54:46 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unithand.c, server/unittools.c:

	Fix abort bug in can_unit_attack_unit_at_tile().  The error was
	this code: /* Shore bombardement */ if (fromtile==T_OCEAN &&
	is_sailing_unit(punit) && totile!=T_OCEAN) return
	(get_attack_power(punit)>0);

	if (!players_at_war(punit->owner, pdefender->owner)) return 0;
	where those two should of course have been switched.

	Also makes a small change to handle_unit_move_request, to get the
	non_attack case handled with a better message to the player (but
	no new strings to translate)

	Bug reported by Christian Knoke <ChrisK@enter.de>

Mon Jun 19 13:22:31 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/POTFILES.in:

	Added estonian.ruleset, filipino.ruleset and latvian.ruleset to
	POTFILES.in.  Bug reported by Egbert Hinzen <garfy@ehinzen.de>.

Mon Jun 19 06:46:31 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Sun Jun 18 21:45:33 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/plrhand.c:

	Added some of the historians other than Herodotus (Herodot?), and
	made the historical report gives civs the same rank if they're
	tied in what's surveyed.  Patch submitted by Robert Rendell
	<rob@universe.serc.rmit.edu.au>.

Sun Jun 18 21:23:00 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unitfunc.c:

	Unsentry units moved as a consequense of an ocean land change.

	Suggested by Cameron Morland <cjmorlan@uwaterloo.ca>

Sun Jun 18 20:42:36 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/climisc.c, client/climisc.h, client/gui-gtk/mapview.c,
	client/gui-mui/mapview.c, client/gui-xaw/mapview.c,
	server/civserver.c:

	Improved the global warming danger indicator.  Idea submitted by
	Robert Rendell <rob@universe.serc.rmit.edu.au>.

Sun Jun 18 20:05:47 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/player.c, common/player.h, server/plrhand.c:

	Prevent a player suffering the techpenalty more than once in the
	same turn, and allowing them to change back to the tech they
	originally changed from and get all research back again.  This is
	kinder to civ-newbies who don't realize that they'll lose all
	their research when they change topics, and want to undo the
	change.  Patch submitted by Robert Rendell
	<rob@universe.serc.rmit.edu.au>.

Sun Jun 18 19:55:24 2000  Egbert Hinzen <egbert@ehinzen.de>:

	* po/de.po:

	de.po updated

Sun Jun 18 19:52:26 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/control.c, client/control.h, client/packhand.c,
	server/unitfunc.c:

	Fixed bug in autocenter whereby if had auto-explore units, and
	forced turn done (with some unit(s) having moves left), the
	display remained centered on the last unit to move (an
	auto-explore unit).  Fixes PR#386.  Bug reported by Shalon Wood
	<dstar@pele.cx>.

Sun Jun 18 19:12:27 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/options.c, client/options.h, client/tilespec.c,
	client/gui-gtk/gamedlgs.c, client/gui-gtk/graphics.c,
	client/gui-gtk/mapview.c, client/gui-mui/mapclass.c,
	client/gui-xaw/graphics.c, client/gui-xaw/mapview.c,
	client/gui-xaw/optiondlg.c, data/Freeciv:

	Fixed a bug in both the GTK+ and Xaw clients'
	move_unit_map_canvas() routines: the intermediate images as drawn
	contained a bunch of garbage around the edges (if solid color off
	and flags transparent).  (Actually, in GTK+ the "garbage" was a
	solid white background.)

	Well, to fix the bug, it helps to see it -- and to see this bug
	when running the clients, I had to throttle the smooth move
	drawing.  This being a request from awhile ago, I decided to
	implement it for real (rather than just for test purposes).  To
	put the throttling under user control, I needed to implement
	client options that were integers (rather than just booleans).

Sun Jun 18 18:49:52 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/cityturn.c:

	Fixed bug in recent city-growth warning whereby it sometimes
	reported on growth of a city in rapture.

Sun Jun 18 18:21:53 2000  Jeff Mallatt <jjm@codewell.com>:

	* ai/aicity.c, server/cityhand.c, server/unitfunc.c,
	server/unithand.c:

	Fixed inconsistent currency use by changing all "credits" to
	"gold".  Fixes PR#170.  Bug reported by Anthony DeRobertis
	<derobert@erols.com>.

Sun Jun 18 18:15:08 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* po/pt.po:

	Updated Portuguese (pt) translation.

Sun Jun 18 17:59:57 2000  Jeff Mallatt <jjm@codewell.com>:

	* PEOPLE:

	Changed Lalo's e-mail address in PEOPLE file.

Sun Jun 18 17:51:48 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/shared.c, server/stdinhand.c:

	Fixed a bug in the i18n use of match result strings.  Bug reported
	by Egbert Hinzen <garfy@ehinzen.de>.

Sun Jun 18 15:50:20 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/options.c, common/events.h, server/cityturn.c,
	server/cityturn.h, server/civserver.c, server/plrhand.c,
	server/plrhand.h:

	New event: warning of city growth in next turn.  Only sent in case
	of natural growth (not, e.g., in case of rapture growth).  Patch
	submitted by Tomasz Wegrzanowski <maniek@beer.com>, committed with
	several changes by me.

Sun Jun 18 14:41:11 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/pl.po:

	Updated Polish (pl) translation.  Patch submitted by Tomasz
	Wegrzanowski <maniek@beer.com>.

Sun Jun 18 11:35:09 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/mapview.c:

	Implemented missing timeout info into the MUI client and the turn
	done button toggle function.

Sun Jun 18 09:20:12 2000  freeciv :

	* po/de.po:

	Additions and improvements by Christian Knoke <ChrisK@enter.de>

Sat Jun 17 20:01:04 2000  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/ReadMe, amiga/smakefile, client/gui-mui/citydlg.c,
	client/gui-mui/colors.h, client/gui-mui/dialogs.c,
	client/gui-mui/diplodlg.c, client/gui-mui/overviewclass.c,
	client/gui-mui/plrdlg.c, server/stdinhand.c:

	Updated the amiga client to the latest changes.

	Renamed CMD_START, CMD_READ and CMD_WRITE to CMD_START_GAME,
	CMD_READ_SCRIPT and CMD_WRITE_SCRIPT because the previous defines
	are already used in some amiga specific includes

Sat Jun 17 18:07:15 2000  freeciv :

	* po/de.po:

	Patches until 06/17/00 included.

Sat Jun 17 15:21:28 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/helpdlg.c:

	Internationalized the F/R/T strings in GTK+ help dialog.

Sat Jun 17 14:21:05 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/packets.c, server/sernet.c:

	Added checking for exception conditions on select() calls.

	Bug reported by Peter Zelezny <zed@linux.com>.

Sat Jun 17 13:10:49 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/civ1/buildings.ruleset, data/civ2/buildings.ruleset,
	data/default/buildings.ruleset:

	Fixed erronious help text for Solar Plants.  Bug reported by
	Christian Knoke <chrisk@enter.de>.

Sat Jun 17 12:32:56 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/plrhand.c:

	Make old buggy savegames created with some versions of the
	pre-1.11 CVS work by doing some more checking when loading.

	Bug reported by David Pfitzner <dwp@mso.anu.edu.au>

Sat Jun 17 00:27:05 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/civclient.c:

	Fixed bug in client '--help' text: '--tiles' specifies a file name
	fragment, not a subdirectory name.  Bug reported by Marko
	Lindqvist <caz@assari.cc.tut.fi>.

Fri Jun 16 22:23:57 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/gui_main.c, client/gui-xaw/gui_main.c:

	Fix to restore the cursor in case of disconnect.

	Bug reported by Thue Janus Kristensen.

Fri Jun 16 21:57:15 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/dialogs.c:

	Fixed gtk+ client crash bug when a client was cut while selecting
	race.

	Bug reported by Thue Janus Kristensen.

Fri Jun 16 20:09:45 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* server/sernet.c:

	Added callback to close the client connection in case of an error
	while writing to the client socket.

Fri Jun 16 20:08:13 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* server/stdinhand.c:

	Changed 'cut' command a bit to be more like the player removal on
	sniff_packets().

Fri Jun 16 20:04:57 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/packets.c, common/packets.h:

	Added support for a callback function to close a player connection
	in case of a problem on writing to the connection socket arises.

Fri Jun 16 18:35:00 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unittools.c:

	Fix an unintended change in ZOC rules that had somehow gotten into
	CVS.

	Bug report by Jussi Asp<ja66598@uta.fi>

Fri Jun 16 18:28:34 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unitfunc.c:

	For some reason the civ 2 rule that firepower is reduced to 1 for
	both the defender and the attacker when a ship bombards a land
	unit was taken into account in the AI, but not the actual combat
	function. This fixes the bug by changing the combat function to
	civ 2 compliance.

Fri Jun 16 17:01:29 2000  Thue Janus Kristensen <thue@diku.dk>:

	* client/helpdata.c, client/packhand.c, common/game.c,
	server/citytools.c:

	Fix 5 memory leaks in the client, and one in the server (same as
	one of the leaks in the client)

Thu Jun 15 14:44:21 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/nation/swedish.ruleset:

	Fixed misspelling of "Sollentuna".  Patch submitted by Peter
	Welzien <welzien@canit.se>.

Thu Jun 15 14:41:20 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/POTFILES.in:

	Minor change to comment.

Thu Jun 15 13:45:00 2000  freeciv :

	* po/POTFILES.in:

	Minor change to comment.

Thu Jun 15 00:13:31 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, common/version.h, data/Freeciv:

	Bump version from 1.10.2 (beta) to 1.10.3-devel (beta).

Wed Jun 14 23:25:37 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/Makefile.am, data/Makefile.in:

	Added missing freeciv.rc to list of Makefile.am data files.

Wed Jun 14 22:22:09 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, common/version.h, data/Freeciv,
	po/de.po, po/en_GB.po, po/es.po, po/fr.po, po/hu.po, po/ja.po,
	po/nl.po, po/no.po, po/pl.po, po/pt.po, po/pt_BR.po, po/ru.po:

	Begin beta-test period leading to version 1.11.0: - Changed
	version to 1.10.2 (beta).  - Ran msgmerge on all .po files (normal
	part of 'make dist').

Wed Jun 14 15:16:40 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/packets.c, common/support.h, server/sernet.c:

	Changed to use the system's FD_ZERO if it exists; fallback to the
	"memset" version if not.  Patch submitted by Dan Gohman
	<gohmandj@mrs.umn.edu>.

Tue Jun 13 23:18:18 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/packets.c:

	Bugfix for client crash upon disconnection while receiving a
	packet followed by reconnection to the game.

Tue Jun 13 22:19:52 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/settlers.c, server/settlers.h:

	Adds comments and renames variables in amortize().  Function
	decoded by Robert Rendell <rob@universe.serc.rmit.edu.au> and
	Andrew McGuinness <cogers@yahoo.com>

Tue Jun 13 21:18:52 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/gotohand.c:

	Adds a few comments.

Tue Jun 13 20:18:32 2000  Thue Janus Kristensen <thue@diku.dk>:

	* common/city.c:

	Fix bug where the river trade bonus was being added on an ocean
	tile when autosettlers calculated the value of transforming a
	tile.

Tue Jun 13 19:05:31 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/map.c, server/mapgen.c:

	Removes infinite loop potential by allowing starts on rivers. 
	(Disallowing them seems to have been an error in the
	rivers-as-specials implementation.) Patch submitted by Thue Janus
	Kristensen <thue@diku.dk>.

Tue Jun 13 18:27:22 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unitfunc.c, server/unithand.c:

	Kludge away an incompatability between the AI and the new handling
	of transporters. This should be fixed later by altering the AI
	code.

Tue Jun 13 15:05:07 2000  Thue Janus Kristensen <thue@diku.dk>:

	* ai/aiunit.c, ai/aiunit.h, common/map.c, common/map.h,
	server/gotohand.c, server/gotohand.h, server/unittools.c,
	server/unittools.h:

	Cleans up and documents gotohand.c

	Fixes bug that sometimes a path would be chosen when another path
	with lower move cost was available.

	Fixes bug with the adjustment of y values at the poles.

	Fixes RR loop bug on maps with uneven map.xsize.  (PR#160,
	reported by Mario <gianmario.scotti@nokia.com>)

Tue Jun 13 13:54:58 2000  Thue Janus Kristensen <thue@diku.dk>:

	* common/unit.c, server/maphand.c, server/settlers.c,
	server/unitfunc.c, server/unitfunc.h:

	Resolves some problems in relation to ocean<->land changes.  -Land
	units on a square just transformed to ocean are now moved to land
	or a nearby transport automaticaly (or disbanded if they can't be
	moved) -Stop the autosettlers from changing a square with a city
	to ocean.  -To make sure a settler on a transport transforming
	ocean to land can not move be moved while transforming, reset some
	unit activities when moving a unit.

	A bit unrelated, we also check unit activities when global warming
	changes the terrain of a tile.

Tue Jun 13 13:53:41 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/menu.c, client/gui-xaw/menu.c:

	Remove the redundent word "Help" from the beginning of each item
	in the Help menu.  GTK change by Tuomas Airaksinen
	<tuma@linuxfan.com>, Xaw change by me.

Tue Jun 13 13:05:06 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/settlers.c:

	Fix a bug where autosettlers without the F_TRANSFORM flag would
	transform anyway.

Mon Jun 12 18:09:17 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/settlers.c, server/settlers.h:

	Clean up auto_settler_findwork().  Adds allowance for settlers to
	improve squares that are not in use by a city.  Patch submitted by
	Robert Rendell <rob@universe.serc.rmit.edu.au>, with a few fixes
	by me.

Sun Jun 11 21:41:03 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/barbarian.c:

	Make sure there is always a chance of barbarians appearing, even
	if the map area is smaller than MAP_FACTOR.

Sat Jun 10 20:47:04 2000  Thue Janus Kristensen <thue@diku.dk>:

	* common/game.c:

	Reinsert code into remove_player() for the client to handle
	disconnect-connect properly.

Fri Jun  9 13:26:13 2000  Thue Janus Kristensen <thue@diku.dk>:

	* client/options.c, client/gui-gtk/diplodlg.c,
	client/gui-gtk/plrdlg.c, common/capstr.c, common/events.h,
	common/map.h, common/player.c, common/player.h,
	server/barbarian.c, server/cityhand.c, server/civserver.c,
	server/gamehand.c, server/plrhand.c, server/plrhand.h,
	server/stdinhand.c, server/unitfunc.c, server/unithand.c:

	Creates the DS_NO_CONTACT state. Treated like DS_WAR for AI
	purposes.  Moves DS_NEUTRAL from players_at_war to
	players_non_attack, ie you must declaire war before you can
	attack.  Every time -a unit moves -a unit is created -a city is
	created it is checked if there is made contact. Each turn we also
	try to make contact via the marco polo wonder.

Fri Jun  9 11:57:01 2000  Thue Janus Kristensen <thue@diku.dk>:

	* client/climisc.c, common/game.c, server/maphand.c,
	server/maphand.h, server/plrhand.c, server/stdinhand.c:

	Disables the remove <player> command once the game has started. It
	still works in the pregame state to allow people to disconnect. 
	This is done as it was becoming very messy to adjust data
	structures once the game had started, and the bugs just kept
	piling up.

Wed Jun  7 16:20:31 2000  Jeff Mallatt <jjm@codewell.com>:

	* doc/README.de, po/de.po:

	Updated German (de) translation and README file.  Patch submitted
	by Egbert Hinzen <garfy@ehinzen.de>.

Wed Jun  7 16:17:37 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/climisc.c, client/climisc.h, client/packhand.c,
	client/gui-gtk/gui_main.c, client/gui-gtk/mapview.c,
	client/gui-xaw/gui_main.c, client/gui-xaw/mapview.c,
	common/capstr.c, common/game.h, common/packets.c,
	common/packets.h, server/civserver.c, server/gamehand.c,
	server/sernet.c, server/stdinhand.c:

	Improve timeout handling: * Fixes a bug which made the turn end
	immediately when a timeout was first set.  * When you set the
	timeout, it applies to the current turn, and the updated timeout
	info is sent to the clients.  * Timeouts can be much longer, and
	will come up in the clients in minutes or hours rather than
	seconds if appropriate.  * A new option, "fixedlength", is
	available at the server.  If set to 1, turns always run for the
	full length of the timeout, irresepective of players hitting "Turn
	Done" (if no timeout is set, fixedlength has no effect).  Patch
	submitted by Robert Rendell <rob@universe.serc.rmit.edu.au>.

Wed Jun  7 14:11:45 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/wldlg.c, client/gui-xaw/wldlg.c, common/map.c,
	server/cityhand.c, server/unithand.c:

	Fixes four bugs...  * the memory allocated for worklist names in
	the xaw and gtk clients could potentially be overrun (this patch
	actually only fixes the xaw client, because the gtk client is
	fixed in the "worklist.diff" patch) * isnt_terrain_near_tile
	tested whether *any* tile nearby wasn't of the nominated type,
	rather than whether *every* tile wasn't.  That is, if you called
	isnt_terrain_near_tile(x,y,T_OCEAN), and there was grassland (say)
	to the north-west of (x,y), it would return true, even if there
	was ocean everywhere else.  (isnt_terrain_near_tile isn't actually
	called anywhere in the code, but it still should be correct.) * an
	exploitable bug: changing a city's production to something of the
	same type would set turn_changed_target, which meant that further
	changes could be made in the same turn to productions of different
	types without incurring any resource loss at all.  * not strictly
	a bug, but incorrect behaviour: when a unit changed home cities,
	the previous home and the new home didn't get recalced.  Patch
	submitted by Robert Rendell <rob@universe.serc.rmit.edu.au>.

Wed Jun  7 13:29:25 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/control.c, client/tilespec.c, client/tilespec.h,
	client/gui-gtk/mapview.c, client/gui-xaw/mapview.c:

	Fixes a few small problems with city and unit visibility.  It also
	does a little clean-up.

	The city visibility problem is that when the focus unit is in a
	city, and its icon is flashing, when the unit icon was seen,
	_nothing_ of the city was -and- when the unit icon was not seen,
	the city's "occupied" flag was not shown.

	Now, the city is always fully displayed "under" the flashing unit
	icon.

	The unit visibility problem is one that was introduced since
	1.10.0 (though, I don't know exactly when).  When a unit is
	defending a city, the attacker should see the unit.  Currently,
	the attacker only sees the city.

	Now, the defending unit is visible to the attacker.

	Fixed player_color to return a color in proper range (broken when
	MAX_NUM_PLAYERS was increased).

Wed Jun  7 12:23:29 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/civclient.c, client/control.c, client/control.h,
	client/packhand.c, common/capstr.c, common/packets.c,
	common/packets.h, server/unitfunc.c, server/unitfunc.h,
	server/unithand.c, server/unithand.h:

	Makes unit selection by players more explicit.  Fixes a bug
	whereby the "cross" was not always displayed correctly.

Tue Jun  6 19:43:52 2000  Thue Janus Kristensen <thue@diku.dk>:

	* ai/aiunit.c, ai/aiunit.h, server/unitfunc.c, server/unithand.c:

	Put explorers on ACTIVITY_IDLE when they can find no more
	territory to explore.

Tue Jun  6 19:35:18 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/settlers.c:

	Fix bug in autosettler territory assignment. Code assumed type
	short, but it was changed to int when MAX_NUM_PLAYERS was raised
	to 30.  Also remove an outdated comment and a new comment.

Sat Jun  3 23:44:05 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unithand.c:

	Added comments to handle_unit_attack_request().

Sat Jun  3 12:46:28 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/stdinhand.c:

	When trying to assign an out of range argument in the server, make
	the error message report the range of correct values.

	Patch by Falk Hueffner <falk.hueffner@student.uni-tuebingen.de>

Wed May 31 13:35:16 2000  Thue Janus Kristensen <thue@diku.dk>:

	* common/tech.c, common/tech.h, server/plrhand.c,
	server/settlers.c:

	Updates/adds a few comments.

	Patch by Robert Rendell <rob@universe.serc.rmit.edu.au>

Wed May 31 12:27:04 2000  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/citydlg.c, client/gui-xaw/citydlg.c:

	Disables the homecity button in the citydialog unit popup when the
	city is already the unit's homecity.

Wed May 31 12:21:55 2000  Thue Janus Kristensen <thue@diku.dk>:

	* common/game.c, server/unitfunc.c, server/unitfunc.h,
	server/unithand.c, server/unithand.h:

	Makes the functions server_remove_unit() and send_remove unit
	unavailable except as static helper functions for wipe_unit(). 
	Use wipe_unit() instead.

Mon May 29 22:04:46 2000  Jeff Mallatt <jjm@codewell.com>:

	* Makefile.in, ai/Makefile.in, client/gui-gtk/Makefile.in,
	client/Makefile.in, client/gui-stub/Makefile.in,
	client/gui-win32/Makefile.in, client/include/Makefile.in,
	client/gui-xaw/Makefile.in, common/Makefile.in,
	data/civ1/Makefile.in, data/Makefile.in, data/classic/Makefile.in,
	data/civ2/Makefile.in, data/default/Makefile.in,
	data/default/nations.ruleset, data/misc/Makefile.in,
	data/engels/Makefile.in, data/nation/Makefile.am,
	data/nation/Makefile.in, data/nation/boer.ruleset,
	data/scenario/Makefile.in, doc/Makefile.in,
	data/trident/Makefile.in, po/POTFILES.in, server/Makefile.in:

	Add the Boer nation.  Patch submitted by Tomasz Wegrzanowski
	<maniek@beer.com>.

Mon May 29 21:28:22 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/nation/lithuanian.ruleset, data/nation/misc_cities.ruleset,
	data/nation/polish.ruleset:

	Changes to Lithuanian, Polish and "misc" city sets.  Patch
	submitted by Tomasz Wegrzanowski <maniek@beer.com>.

Mon May 29 21:05:28 2000  Jeff Mallatt <jjm@codewell.com>:

	* doc/README.de, po/ru.po:

	Changed some "FreeCiv"s that have snuck in into "Freeciv"s.

Mon May 29 21:01:32 2000  Jeff Mallatt <jjm@codewell.com>:

	* doc/README.de:

	Update German (de) README file.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Mon May 29 20:58:24 2000  Jeff Mallatt <jjm@codewell.com>:

	* BUGS, README:

	Update mailing list part of README file.  Inspired by Egbert
	Hinzen <garfy@ehinzen.de>.

Mon May 29 20:36:04 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Update German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Mon May 29 19:07:05 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Update German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Mon May 29 18:34:10 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/civ1/buildings.ruleset, data/civ2/buildings.ruleset,
	data/default/buildings.ruleset:

	Fix a few mistakes in the help text in the buildings.rulesets
	files.  Problems reported by Egbert Hinzen <garfy@ehinzen.de>.

Mon May 29 13:23:23 2000  Thue Janus Kristensen <thue@diku.dk>:

	* client/packhand.c, common/game.c, common/game.h,
	common/packets.c, common/packets.h, common/player.c,
	common/player.h, common/shared.h, server/barbarian.c,
	server/citytools.c, server/plrhand.c, server/unitfunc.c:

	Corrects lenght of dipl_states array from MAX_NUM_PLAYERS to
	MAX_NUM_PLAYERS+MAX_NUM_BARBARIANS.  Corrects an index error in
	game_renumber_players (off by 1).

Sat May 27 22:06:15 2000  Thue Janus Kristensen <thue@diku.dk>:

	* ai/aiunit.c, client/climisc.c, client/climisc.h,
	client/control.c, client/options.c, client/packhand.c,
	client/gui-gtk/citydlg.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/diplodlg.c, client/gui-gtk/plrdlg.c,
	client/gui-xaw/citydlg.c, client/gui-xaw/diplodlg.c,
	client/gui-xaw/plrdlg.c, common/capstr.c, common/diptreaty.c,
	common/diptreaty.h, common/events.h, common/game.c, common/game.h,
	common/packets.c, common/packets.h, common/player.c,
	common/player.h, common/unit.c, data/Freeciv, server/autoattack.c,
	server/barbarian.c, server/citytools.c, server/cityturn.c,
	server/civserver.c, server/diplhand.c, server/gotohand.c,
	server/plrhand.c, server/plrhand.h, server/settlers.c,
	server/stdinhand.c, server/unitfunc.c, server/unithand.c,
	server/unittools.c, server/unittools.h:

	Diplomatic states.  Introduces war, neutral, ceasefire peace and
	alliance between players.  Players now also have a reputation that
	is affected by their actions.  When players have ceasefire, peace
	or alliance their units cannot attack each other unless a war is
	declaired first. The spy actions allowed varies depending on the
	players' diplomatic state.  Allied players' units can overlap, and
	do not cause ZOC against each other.

	What needs to be done: -Reputation has no effect other than
	cosmetic.  -Senate not implemented, ie you can always declaire
	war.  -The ai is always at war with everybody, and will declaire
	war automatically if toggled on to a player that is not at war
	with everybody.

	Patch by Paul Thomas <Paul.Thomas@cmis.CSIRO.AU> Falk Hueffner
	falk.hueffner@student.uni-tuebingen.de Jeff Mallatt
	<jjm@codewell.com> and me

Sat May 27 08:43:03 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/civ1/buildings.ruleset, data/civ2/buildings.ruleset,
	data/default/buildings.ruleset:

	Avoid gettext warnings about unterminated character constants.

Thu May 25 14:37:29 2000  Thue Janus Kristensen <thue@diku.dk>:

	* common/map.c, server/cityhand.c, server/cityhand.h:

	Fixes bug where a settler building a city on top of others
	settlers who were in the process of changing the tile terrain to
	ocean would result in a city on water.  Also, when a tile with
	rivers were changed to ocean we now remove the rivers. Later this
	should be changed so that rivers have no effect on ocean tiles and
	are not drawn in the client, meaning that they don't have to be
	removed and will reappeared if the tile is later transformed to
	land again.  And finally, removes misuse of x and y arguments as
	iterators in create_city.

	Patch by me and Jeff Mallatt <jjm@codewell.com>.

Wed May 24 19:12:56 2000  Jeff Mallatt <jjm@codewell.com>:

	* ai/advmilitary.c, ai/aicity.c, ai/aitech.c, client/helpdata.c,
	client/packhand.c, client/gui-gtk/helpdlg.c,
	client/gui-gtk/mapview.c, client/gui-xaw/helpdlg.c,
	client/gui-xaw/mapview.c, client/gui-mui/helpdlg.c,
	client/gui-mui/mapclass.c, data/civ1/buildings.ruleset,
	common/Makefile.am, common/Makefile.in, common/capstr.c,
	common/city.c, common/city.h, common/game.c, common/map.c,
	common/map.h, common/packets.c, common/packets.h, common/player.c,
	common/terrain.h, common/unit.c, common/unit.h,
	data/civ2/buildings.ruleset, data/default/buildings.ruleset,
	server/cityturn.c, server/ruleset.c:

	Generalized Improvements, first phase.  This adds new fields to
	the buildings.ruleset files; adds the code to parse these fields,
	store and transmit them to the client.  So far, none of this new
	information is used, and this patch should have no affect on the
	existing game.  Partial fix for PR#243.  Patch submitted by IQ
	<iquin@technologist.com>, with re-engineering by me.

Tue May 23 22:09:50 2000  Thue Janus Kristensen <thue@diku.dk>:

	* ai/aiunit.c, common/unit.c, common/unit.h, server/gotohand.c,
	server/settlers.c, server/unitfunc.c, server/unittools.c:

	Airunits that can transport groundunits now work.  (configurable
	in the units.ruleset) This patch makes sure that an airunit
	transporting ground units and is on board a carrier does leave the
	ground units behind in the water when the carrier moves.

Tue May 23 20:59:57 2000  Thue Janus Kristensen <thue@diku.dk>:

	* client/packhand.c:

	Deletion of a unit in packhand.c changed to use
	game_remove_unit().

Tue May 23 20:47:15 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unitfunc.c:

	send_all_known_units() now only send the known units, not ALL
	units.

Mon May 22 18:11:08 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/city.c:

	Since Hoover Dam can now be built anywhere, relaxed constraint
	which kept it out of the worklists.  Bug reported by Richard
	Atkins <rja@pcug.org.au>.  Patch submitted by Daniel Zinsli
	<s830+priv@ii.uib.no>.

Sun May 21 20:04:59 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-xaw/ratesdlg.c:

	Swapped motion direction of sliders in Xaw client's Tax Rates
	dialog.  Bug reported by Reinier Post <reinpost@win.tue.nl>.

Sun May 21 19:53:41 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/gui_main.c:

	Add gtk_set_locale() call, which informs GTK+ of the locale. 
	Patch submitted by Sawada Katsuya <amanatto@mail2.dddd.ne.jp>.

Sun May 21 13:20:37 2000  Thue Janus Kristensen <thue@diku.dk>:

	* client/control.c, client/packhand.c, common/packets.c,
	common/packets.h, server/unitfunc.c, server/unitfunc.h:

	The server now tells the client whether a moved unit was carried
	aboard a transport (the client need to know to draw the movement
	correctly).  This removes some ugly hacks in the client, which
	anyway didn't always work, beside making the code clearer.

Sat May 20 17:41:57 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/ja.po:

	Added the Japanese (ja) locale.  Initial ja.po file provided by
	Sawada Katsuya <amanatto@mail2.dddd.ne.jp>.

Sat May 20 17:39:52 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in:

	Added the Japanese (ja) locale.  Initial ja.po file provided by
	Sawada Katsuya <amanatto@mail2.dddd.ne.jp>.

Sat May 20 15:46:00 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unitfunc.c:

	Restore functionality to the moving of units on board a
	transporter to not revert the order of the units for every move.

Sat May 20 04:11:48 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advdomestic.c, ai/aiunit.c, common/city.c, common/city.h,
	common/game.c, common/game.h, server/gotohand.c:

	Fix some spelling.

Fri May 19 22:59:15 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unitfunc.c:

	Remove obsolete comment from handle_unit_move_consequences().

Thu May 18 19:46:25 2000  Thue Janus Kristensen <thue@diku.dk>:

	* client/packhand.c:

	Previously the client removed units due to FoW if a tile went from
	TILE_KNOWN to TILE_KNOWN_FOGGED. For greater flexibility it now
	also do so if a tile goes from TILE_KNOWN to TILE_UNKNOWN. (though
	it isn't currently used)

Thu May 18 19:10:06 2000  Thue Janus Kristensen <thue@diku.dk>:

	* common/shared.h, server/maphand.c, server/maphand.h,
	server/plrhand.c:

	Make the remove command work again after it was broken with the
	introduction of FoW.

Thu May 18 18:45:06 2000  Thue Janus Kristensen <thue@diku.dk>:

	* common/map.c, common/map.h, server/barbarian.c,
	server/cityhand.c, server/civserver.c, server/diplhand.c,
	server/gotohand.c, server/maphand.c, server/maphand.h,
	server/plrhand.c, server/unitfunc.c, server/unithand.c,
	server/unittools.c:

	Move the seen field from the common map to the player map (saves a
	good deal of memory) There was a bug when a new player is created
	(revolution or barbarians) while fog is toggled of, and fog later
	is toggled back on.  Many functions take struct player *pplayer as
	argument when what they need is really the player id (for lookup
	in a bitvector). This patch corrects a few cases of that.  Change
	the order of function argument from (player, x, y) to (x, y,
	player) in some functions for consistency. More functions need to
	be changed.

Thu May 18 00:02:13 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unithand.c:

	Reinsert code into handle_unit_move_request() that checks if an
	attacker has an attack power >0. It was deleted as I assumed this
	was taken care of in can_unit_attack_unit_at_tile().

Wed May 17 21:00:47 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/maphand.c:

	Fix compile-time error in recent commit.

Wed May 17 16:48:36 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unitfunc.c:

	Updated the comment for send_unit_info()

Wed May 17 13:32:07 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/civserver.c, server/gamehand.c, server/maphand.c,
	server/stdinhand.c:

	Remove the restriction that the number of starting positions in a
	scenario must be >= MAX_NUM_PLAYERS.  This makes the scenarios
	work wotk CVS again after MAX_NUM_PLAYERS was increased from 14 to
	30.

	Bug reported by David Pfitzner <dwp@mso.anu.edu.au>

Wed May 17 12:41:42 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unitfunc.c:

	Send player info after inciting a revolt in a city, to update the
	player's amount of gold in the client.

	Bug report and patch by Daniel Sjolie <deepone@acc.umu.se>

Tue May 16 22:53:06 2000  Thue Janus Kristensen <thue@diku.dk>:

	* ai/aicity.c, ai/aiunit.c, server/barbarian.c, server/cityhand.c,
	server/citytools.c, server/cityturn.c, server/unitfunc.c,
	server/unitfunc.h, server/unithand.c, server/unittools.c:

	Remove unused (and unneccesary) dest argument for wipe_unit().

Tue May 16 22:27:48 2000  Thue Janus Kristensen <thue@diku.dk>:

	* common/unit.c, common/unit.h, server/plrhand.c,
	server/unitfunc.c, server/unitfunc.h, server/unithand.c,
	server/unittools.c, server/unittools.h:

	Moves the calls common to functions handle_unit_move_request(),
	do_airline(), do_paradrop() and teleport_unit_to_city() down into
	a new function move_unit().  The new function doesn't do any
	checks, just links and unlinks (and handles various consequences
	of the move). If told so it also takes care of units transported
	by the unit.

	Moving transporter cargo units now is much more intelligent: -If
	two transporters accidentally share a square they will remember
	which transported units belong to who.  -A transporter on a goto
	will not pick up units it accidentally moves across, even if they
	are sentried in cities. If given the goto order from within the
	city it will pick sentried units up. I made sure that ai
	controlled transporter always pick up units to be sure I didn't
	break anything.  -Made groundunits that are transporters work
	better, but there is a redraw bug in the client because it assumes
	all transporters are sea units. (I didn't introduce it and I
	didn't fix it in this patch)

	I added a field transported_by in the unit struct for the
	transporter purpose (yes, old savegames work).

Tue May 16 19:28:43 2000  Thue Janus Kristensen <thue@diku.dk>:

	* common/map.h, common/unit.c, common/unit.h, server/gotohand.c,
	server/gotohand.h, server/unitfunc.c, server/unittools.c,
	server/unittools.h:

	Airunit autoreturn home. When an airunit is running out of fuel
	and will otherwise crash it will automatically try to fly to the
	nearest place where it can refuel.

	Patch by me with some edits by Jeff Mallatt <jjm@codewell.com>

Tue May 16 13:27:15 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/plrhand.c:

	Unfog the map for a dead player when loading a savegame.

Mon May 15 16:40:44 2000  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/gotohand.c:

	Add some comments after Thue comments.

Mon May 15 01:28:52 2000  Paul Zastoupil <paulz@adnc.com>:

	* PEOPLE:

	Updated email address for Paul Zastoupil

Mon May 15 00:40:18 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in:

	Silenced many "extension ... is unknown; will try C" warnings
	emitted by xgettext by modifying po/Makefile to filter xgettext's
	output.  Bug reported by Thue Janus Kristensen <thue@diku.dk>.

Mon May 15 00:30:29 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/maphand.c, server/unithand.c:

	Fixed several recent LOG_FATALs to be either LOG_NORMAL or really
	fatal.

Sun May 14 21:21:25 2000  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* ai/advdomestic.c, common/city.c, common/city.h, common/game.c,
	common/game.h, server/barbarian.c, server/gamehand.c,
	server/plrhand.c:

	Robert Brady <rwb197@zepler.org> has reported the following bug
	(PR#284) :

	The AI will sometimes build the Great Library when there is only
	one other living nation in the game.

	A fix is to ignore Great Library if there are less than 3 players.
	Barbarians aren't counted in this number. A variable nbarbarains
	is added to the struct game. Each time create_barbarian_player is
	successfully called, this number is increased. So, if
	game.nplayers - game.nbarbarians < 3, AI will ignore the great
	library.

	Also, each time a player is removed via game_remove_player,
	nbarbarians is decreased. Each time a game is reload, nbarbarians
	is counted in the function player_load.

	Patch submitted by brunel@esil.univ-mrs.fr

Sun May 14 20:53:48 2000  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/unithand.c:

	The AI diplomats use gotos to get to their targets, and that
	worked fine in 1.10 where gotos didn't trigger popped up diplomat
	dialogs.  But that functionality has now been implemented. Here is
	a small patch to stop doing it when in AI mode.

	Patch ( and bug report ) submitted by Thue Janus Kristensen
	<thue@diku.dk>

Sun May 14 12:59:51 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/dialogs.c:

	Recent commit to CVS does not compile cleanly.  Fixed.

Sun May 14 11:38:41 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/dialogs.c:

	The message dialog now gives focus to the first button in it by
	default.

Sun May 14 11:36:55 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/mapctrl.c:

	Makes clicking on the main map give focus to the turn done button.

Sat May 13 23:08:52 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/gotohand.c:

	Cleans up and documents find_the_shortest_path. Adds a seperate
	case for air units.  Air units now don't go out of their way to
	avoid fog of war, and an optimization from the ground and sea
	movement that would sometimes make units take a suboptimal paths
	is removed in the air case. (making sure air units don't run out
	of fuel)

	Hopefully fixes PR#350, reported by Laurent Vibert
	<lvibert@irisa.fr>

Sat May 13 20:22:02 2000  Thue Janus Kristensen <thue@diku.dk>:

	* ai/aicity.c, server/barbarian.c, server/cityhand.c,
	server/citytools.c, server/cityturn.c, server/unitfunc.c:

	Make all calls to wipe_unit() inside unit_list_iterate into
	wipe_unit_safe(). No reason not to be on the safe side, even it
	only 2 of them were actual crash bugs.

Sat May 13 19:58:52 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/cityhand.c:

	Remove a call to resolve_unit_stack in remove_city. It was
	unneccesary, as the resolving was allready done by a previous call
	to wipe_unit_spec_safe, and if it should at some point be given
	functionality it would be possible for it to delete the unit that
	a unit_list_iterate iterator pointed at.

Sat May 13 19:44:33 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/cityhand.c, server/citytools.c:

	Correct one case (not 2 as I said in my mail) of disbanding a unit
	inside a unit_list_iterate loop with the possible consequence that
	the unit unit the unit_list_iterate iterator pointed at could be
	deleted. (Used functionality allready in wipe_unit_spec_safe to
	awoid this).  Make transfer_city_units take into account that the
	argument "pcity" can be NULL.

Sat May 13 15:55:00 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/ruleset.c:

	When inserting a role into the a unittype's roles bitvector, make
	sure to substract L_START from the role value gotten from
	unit_role_from_str().  Previously we didn't do this, with the
	result that the value we shifted 1 with to get the bitvector was
	L_START (64) too big. For some mysterious reason this worked as if
	we had indeed substracted L_START before we shifted, except on
	netwinder ARM, where this bug was expressed.

	Bug reported, and login on his netwinder computer made available
	for freeciv debugging, by Patrice LaFlamme <patrix@patrix.org>

Sat May 13 03:35:12 2000  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* common/game.h, server/sernet.h:

	Fix #PR363 Server Frozen.  The maximum number of players was
	increased but not the number of connections.

Sat May 13 02:45:09 2000  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* ai/aiunit.c:

	In function, AI find something to kill, AI was calling
	city_reinforcements_cost_and_value even for its own cities. Now, a
	test prevents this.

Sat May 13 01:41:15 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Updated German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>, with some corrections by Frank Osterfeld
	<fraos@gmx.de>, and a small change by me to silence a check_po.pl
	warning.

Sat May 13 01:29:37 2000  Jeff Mallatt <jjm@codewell.com>:

	* doc/INSTALL.de:

	Updated German INSTALL file.  Patch submitted by Jens Georg
	<jgeorg@ldknet.org>.

Sat May 13 01:16:49 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/civ2/governments.ruleset, data/default/governments.ruleset:

	Added maximum tax rate information to help text for governments. 
	Fixes PR#362.  Bug reported by Vincent <skorpion@optonline.net>. 
	Patch submitted by Greg Wooledge <wooledge@kellnet.com>.

Fri May 12 09:13:30 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/helpdlg.c:

	Backed-out Gtk client help dialog terrain pixmap display patch
	until it can be fixed.  It tries to display non-existent specials
	and the author admits it may leak memory.

Thu May 11 14:58:52 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/unithand.c:

	Fixed some grammar.

Thu May 11 13:10:27 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-mui/dialogs.c, client/gui-xaw/dialogs.c:

	Complete recent patch so rest of CVS can compile.

Wed May 10 17:51:44 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/civserver.c:

	Remove an obsolete comment.

Tue May  9 23:30:17 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unithand.c:

	Clean up handle_unit_move_request().  Add a check for gotoing
	units to stop most unintented attacks.

Tue May  9 22:38:52 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/maphand.c:

	Changes map_startpos_load to make pre30players savegames loadable.
	This is done simply by filling in with 0,0 positions. For normal
	savegames this doesn't make a difference, as the starts are not
	used.  The scenario files does not work quite right (players are
	started at 0,0), and this should be fixed later.

Tue May  9 22:26:16 2000  Thue Janus Kristensen <thue@diku.dk>:

	* client/control.c, client/control.h, client/packhand.c,
	client/gui-gtk/dialogs.c, server/unithand.c:

	Let handle_unit_move_request handle the case where a diplomat
	enters a tile with an enemy unit. Also changes some client
	diplomat event handling to make it work.  Fixes a bug reported by
	Nicolas BRUNEL <brunel@ham.esil.univ-mrs.fr>

Tue May  9 20:48:26 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unitfunc.c:

	Replaces 2 occurences of send_unit_info with
	send_unit_info_to_onlookers, and makes sure information about an
	airlift is sent to all.

Tue May  9 18:33:58 2000  Thue Janus Kristensen <thue@diku.dk>:

	* client/climisc.c, client/tilespec.c, client/gui-gtk/citydlg.c,
	client/gui-gtk/gtkpixcomm.c, client/gui-mui/citydlg.c,
	client/gui-xaw/citydlg.c:

	Yet more variables renamed to be nice to C++ compilers.

Tue May  9 18:13:50 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/helpdlg.c:

	Improved Gtk+ client's technology help dialog.  Patch submitted by
	Richard Atkins <rja@pcug.org.au>.

Tue May  9 17:14:00 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/ruleset.c, server/unitfunc.c:

	Even more variables renamed to be nice to C++ compilers.  Patch by
	Dan Gohman <gohmandj@mrs.umn.edu>

Tue May  9 16:58:09 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/civserver.c:

	Rename variable "try" to be nice to C++ compilers.  Patch by Dan
	Gohman <gohmandj@mrs.umn.edu>

Mon May  8 17:53:46 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unitfunc.c:

	Remove crash bug in diplomat_incite() when trying to access pcity
	after it had been remove_city()'ed as part of transfer_city.

Sun May  7 01:38:46 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/packets.c:

	changed function declaration to static.

Sun May  7 00:20:20 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/packets.c:

	changed socket writing functions to minimize possible client
	crashes.

Sat May  6 22:37:10 2000  Thue Janus Kristensen <thue@diku.dk>:

	* ai/aicity.c:

	Make code in aicity use upgrade_unit() to upgrade units, making
	sure they update FoW properly. (They didn't, so when a unit was
	upgraded to a unit with larger sight range the server bugged).

Sat May  6 13:23:50 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advmilitary.c, ai/aiunit.c, client/control.c,
	client/helpdata.c, common/capstr.c, common/packets.c,
	common/unit.c, common/unit.h, data/civ1/units.ruleset,
	data/civ2/units.ruleset, data/default/units.ruleset,
	server/ruleset.c, server/settlers.c, server/unitfunc.c,
	server/unittools.c:

	Split unit flag F_SUBMARINE into several distinct effects:

	- F_PARTIAL_INVIS = invisibility effect (usefulness reduced by fog
	of war, but still some effect vs cities and visibility-2 units); -
	F_MISSILE_CARRIER = transport_capacity is for F_MISSILE units
	only; - F_NO_LAND_ATTACK = cannot attack vs land (no shore
	bombardment).

	Old ruleset files are still read ok, and network compatibility is
	ok for standard rulesets.

Sat May  6 12:54:10 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* Makefile.am, Makefile.in, diff_ignore,
	freeciv_hackers_guide.txt:

	Added sample diff_ignore file to distribution, and changed
	corresponding section in freeciv_hackers_guide.txt.  Sample file
	based on contributions from a number of people.

Sat May  6 01:33:02 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/gotohand.c:

	Make make_list_of_refuel_points() NOT assume that there is always
	a unit on a tile with an airbase. D'uh.

Fri May  5 22:22:00 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/cityturn.c:

	A "short" in the code to place workers for a city needed to be
	replaced with an int. (missed in the patch to increase the number
	of players from 14 to 30).  I checked the rest of the code once
	again for missed shorts.

Fri May  5 10:22:33 2000  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* Makefile.in, ai/Makefile.in, client/Makefile.in,
	client/gui-gtk/Makefile.in, client/gui-stub/Makefile.in,
	client/gui-win32/Makefile.in, client/gui-xaw/Makefile.in,
	client/include/Makefile.in, common/Makefile.in, data/Makefile.in,
	data/civ1/Makefile.in, data/civ2/Makefile.in,
	data/classic/Makefile.in, data/default/Makefile.in,
	data/engels/Makefile.in, data/misc/Makefile.in,
	data/nation/Makefile.am, data/nation/Makefile.in,
	data/scenario/Makefile.in, data/trident/Makefile.in,
	doc/Makefile.in, server/Makefile.in:

	filipino.ruleset estonian.ruleset and latvian.ruleset were missing
	in data/nation/Makefile.am .  I added them. And run automake. 
	This bug was reported by Lance Levsen <l.levsen@printwest.com>

Thu May  4 22:55:25 2000  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/gotohand.c:

	warmap could be initialized in two places : init_warmap and
	init_gotomap.  Now, only init_warmap can init warmap. And,
	init_gotmap calls init_warmap to initialize the warmap.

Wed May  3 12:51:10 2000  Thue Janus Kristensen <thue@diku.dk>:

	* common/game.c, common/speclist_c.h:

	Change occurences of variable "this" to "tthis" to be nice to C++
	compilers. Patch submitted by Dan Gohman <gohmandj@mrs.umn.edu>

Wed May  3 12:48:48 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/cityturn.c, server/plrhand.c:

	Refresh and send a player's cities when changing government.  Make
	sure unit info it sent when a unit's contribution to the resource
	use and unhappiness in a city changes (the little
	shields/food/angry face icons)

Wed May  3 12:44:00 2000  Thue Janus Kristensen <thue@diku.dk>:

	* common/capstr.c, common/map.h, common/packets.c,
	common/shared.h, server/plrhand.c, server/settlers.c:

	Increase the maximum number of players from 14 to 30 at the cost
	of a small amount of RAM (4 player bitvectors changed from short
	to int)

Mon May  1 22:43:20 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unitfunc.c, server/unitfunc.h, server/unithand.c,
	server/unithand.h, server/unittools.c:

	Creates a function handle_unit_move_consequences(). It takes care
	of -moving the units sight points -waking neightboring units on
	sentry -calling handle_unit_enter_city -handle the consequences if
	there is a hut on the target tile.  -if a unit entering or leaving
	a city or a fortress changes the happiness of the city/the units
	homecity the relevant cities are refreshed and resent.  This
	should be used whenever a unit changes position on the map.  As it
	would result in some slowdown of the allready slow AI turn if
	cities were refreshed every time a unit entered or left a city the
	city update is only done for the units controlled by a player.

	The patch also modifies server_remove_unit() to refresh a units
	homecity and the city the unit is in when called. Code that
	allready did this in some cases removed from
	remove_unit_spec_safe().

Mon May  1 06:55:36 2000  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/ReadMe, amiga/smakefile:

	Updated amiga/smakefile and amiga/ReadMe files.

Sun Apr 30 23:44:21 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/packets.c:

	this patch attempts to fix the networking problems of missing
	packets which cause client crashes.

Sun Apr 30 23:14:54 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unithand.c:

	Make transporter_cargo_move_to_tile use unit_list_iterate.

Sun Apr 30 23:11:31 2000  Thue Janus Kristensen <thue@diku.dk>:

	* client/control.c, client/gui-gtk/menu.c,
	client/gui-mui/gui_main.c, client/gui-mui/mapclass.c,
	client/gui-xaw/menu.c, common/unit.c, common/unit.h,
	server/unitfunc.c:

	Clean up do_paradrop().  Rename can_unit_paradropped to
	can_unit_paradrop().  Fix a bug in the client where the cursor
	would not get updated if the paradrop failed.

Sun Apr 30 13:51:25 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/tilespec.c:

	Draw "fog" graphic over top of cities, so that it is more apparent
	when the city square is fogged.  Move city size graphics to top
	(ie, top of graphics stack), so size is always readable and
	unobscured.

Sun Apr 30 13:34:36 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/plrhand.c:

	Initialize unit upkeep fields (to zero) on reload, since otherwise
	units without homecity had junk values, sometimes used by AI
	calculations etc.

Sun Apr 30 13:17:08 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/maphand.c:

	Remove some trailing newlines in freelog calls.

Sun Apr 30 13:15:38 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c, client/packhand.c, common/Makefile.am,
	common/Makefile.in, common/city.c, common/city.h, common/game.c,
	common/game.h, common/hash.c, common/hash.h, common/idex.c,
	common/idex.h, common/player.c, common/unit.c, common/unit.h,
	server/cityhand.c, server/citytools.c, server/civserver.c,
	server/plrhand.c, server/settlers.c, server/unitfunc.c:

	Generalize the city "citycache" into "idex": "ident index" for
	both cities and units, in both server and client.  This is done
	using hashes from id values to pointers (separate hashes for
	cities and units, for code simplicity).

Sun Apr 30 07:28:21 2000  Sebastian Bauer <sebauer@t-online.de>:

	* acconfig.h, config.h.in, amiga/config.h, client/options.c,
	client/gui-mui/gui_main.c, common/tech.c:

	Allow the changing of the clients options file name by a config.h
	define (OPTION_FILE_NAME)

	Enabeld the options file saving in the Mui Client.

	Changed the "double res" declaration in tech_turns_to_advance() of
	common/tech.c to "int res".

Sat Apr 29 15:59:03 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/barbarian.c:

	Make sure the server sends tile info when hut is removed.  Fixes
	bug #288 reported by rizos <rizos@rice.edu>

Sat Apr 29 14:35:39 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/capstr.c, server/gotohand.c:

	Fix typos in definition, comment and usage of advance_focus_packet
	capability string.

Sat Apr 29 10:12:11 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/citydlg.c, client/gui-mui/dialogs.c,
	client/gui-mui/gui_main.c, client/gui-mui/gui_main.h,
	client/gui-mui/helpdlg.c, client/gui-mui/mapclass.c,
	client/gui-mui/mapclass.h, client/gui-mui/muistuff.h,
	client/gui-mui/overviewclass.c, client/gui-mui/repodlgs.c:

	Mui client: Updated to the latest changes (Diplomat goto, turns
	per tech, city production on the map) Changed layout of the city
	window and fixed some bugs within the city map.  (Reported by
	Thomas Aglassinger <agi@rieska.oulu.fi>) The special info and
	graphics in the terrain help are displayed now.

Fri Apr 28 20:25:34 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/citydlg.c:

	Changes the city configuration dialog to: - Explain what the first
	option displayed does (like the mui client) - Remove the "triggle"
	button, and replace it with three radio buttons labelled
	correctly.  Patch submitted by Richard Atkins <rja@pcug.org.au>,
	with some changes by me.

Fri Apr 28 20:20:09 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* po/pt.po:

	Updated Portuguese (pt) translation.

Thu Apr 27 22:10:01 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/gotohand.c:

	Corrected a comment in find_air_first_destination()

Thu Apr 27 22:04:17 2000  Thue Janus Kristensen <thue@diku.dk>:

	* common/capstr.c, server/gotohand.c:

	Adds a capability string for the airplane goto patch since that
	patch added a new packet PACKET_ADVANCE_FOCUS . if the client does
	not have the capability the packet isn't sent, which is acceptable
	(an airplane on an unfinished goto will just not lose focus by
	itself)

Wed Apr 26 21:07:52 2000  Thue Janus Kristensen <thue@diku.dk>:

	* client/civclient.c, client/control.c, client/control.h,
	common/packets.c, common/packets.h, server/gotohand.c:

	Goto for airplanes. This makes airplanes automatically stop in
	cities and on airbases to refuel.  Adds a new packet
	ADVANCE_UNIT_FOCUS as a way to tell the client that the server
	does not intent to continue moving the plane, even if it has
	movement points left.  Also makes sure that units on goto will be
	put on activity_idle after completing one attack (ie disables
	multiple attacks).

Wed Apr 26 16:16:17 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/cityhand.c:

	When creating a city unfog the cityarea before the workers are
	arranged, so newly discovered tiles as a result of the city being
	build will not be shown as unavailable when they in fact are
	available.

Wed Apr 26 16:12:40 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unittools.c:

	Now also takes into account that a unit may be in an enemy city,
	in which case we teleport the unit to the nearest city owned by
	the unit owner.

Wed Apr 26 15:07:30 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/unittools.c:

	Further refinement of comments in resolve_unit_stack().

Tue Apr 25 17:34:57 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/unittools.c:

	Corrected a misleading comment in resolve_unit_stack

Tue Apr 25 14:54:38 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/cityturn.c:

	Rename static upgrade_unit() in cityturn.c, so it doesn't clash
	with the global one in unithand.[hc].  Renamed static
	upgrade_improvement() in cityturn.c, so it remains consistently
	named.  Bug reported by David Pfitzner <dwp@mso.anu.edu.au>.

Tue Apr 25 14:16:47 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/barbarian.c, server/citytools.c, server/civserver.c,
	server/civserver.h, server/plrhand.c, server/plrhand.h:

	Fixed bugs caused by player map being initialized with default
	size values, and then having the size change later.  Fixes PR#333.
	Bug reported by Tuomas Airaksinen <tuma@linuxfan.com>.  Patch
	submitted by Thue Janus Kristensen <thue@diku.dk>.

Tue Apr 25 12:14:00 2000  Jeff Mallatt <jjm@codewell.com>:

	* ai/aiunit.c, server/autoattack.c, server/unitfunc.c,
	server/unithand.c, server/unithand.h:

	Makes units given an Auto-Explore order begin the exploration
	immediately.  Also, removes the unused "pplayer" argument from the
	handle_unit_activity_request() and
	handle_unit_activity_request_targeted() functions.  Patch
	submitted by Thue Janus Kristensen <thue@diku.dk>.

Tue Apr 25 12:00:52 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/climisc.c, client/packhand.c, common/map.c,
	common/unit.c, data/default/terrain.ruleset, server/gamelog.c,
	server/unitfunc.c:

	Fixes bugs in the recent code which allows ocean to be changed
	into land.

	Continent information was not being updated:

	- Adds check_terrain_ocean_land_change() to unitfunc.c to handle
	side-effects.

	- Calls check_terrain_ocean_land_change() from all three of the
	Mining, Irrigation and Transforming sections of
	update_unit_activity().

	- Adds a new clause to the "if" statement in handle_tile_info() in
	packhand.c so that climap_update_continents() is called whenever
	ocean is changed into land.

	The terrain ruleset allows for changing land into ocean -- but the
	code didn't handle this case correctly.  The gamelog map becomes
	out of date whenever ocean is changed into land (or vice-versa):

	- Makes sure the new check_terrain_ocean_land_change() can handle
	changing land into ocean.

	- Changes can_unit_do_activity_targeted() to not allow changing
	the land on which a city sits into ocean.

	- Changes map_mine_tile(), map_irrigate_tile() and
	map_transform_tile() to clear all infrastructure when changing
	from land to ocean.

	- Adds a new case in handle_tile_info() that recomputes the
	client's continents whenever land is changed into ocean.

	- Makes a small change to climap_update_continents() which allows
	it to work in the case where the tile "known" flags are set, but
	the tile "continent" values are not (it should not affect normal
	operation).  This allows a simple implementation of the previous
	change.

	- Adds gamelog() calls to the new
	check_terrain_ocean_land_change() function.

	- Does a klugey thing in gamelog() itself (we should fix the
	gamelog format and open/close semantics someday...).

	- Finally, to make use of all this, changes
	default/terrain.ruleset to allow Transforming Swamp into Ocean
	(was Swamp->Plains; may still do Swamp->Forest->Plains (and it's
	faster!)), and Mining Forest into Swamp.

	Finally:

	- Fixes an unrelated bug in the ACTIVITY_MINE case of
	can_unit_do_activity_targeted().

	Bug reported by Cameron Morland <cjmorland@uwaterloo.ca>.

Tue Apr 25 08:17:14 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advmilitary.c, ai/aiunit.c, client/climisc.c,
	client/control.c, client/packhand.c, client/gui-gtk/citydlg.c,
	client/gui-gtk/dialogs.c, client/gui-gtk/mapctrl.c,
	client/gui-gtk/mapview.c, client/gui-mui/citydlg.c,
	client/gui-mui/dialogs.c, client/gui-mui/mapclass.c,
	client/gui-mui/mapview.c, client/gui-xaw/citydlg.c,
	client/gui-xaw/dialogs.c, client/gui-xaw/mapctrl.c,
	client/gui-xaw/mapview.c, common/unit.c, server/cityturn.c,
	server/gotohand.c, server/settlers.c, server/unitfunc.c,
	server/unithand.c:

	Convert many calls of unit_list_find(&pplayer->units) to new
	function player_find_unit_by_id(), and similarly some calls of
	city_list_find() to player_find_city_by_id(), in preparation for
	future optimisations.

Tue Apr 25 07:39:13 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/player.c, common/player.h:

	Add function player_find_unit_by_id(), currently just a wrapper
	for unit_list_find(&pplayer->units), but planned to be optimised.

Tue Apr 25 07:36:51 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/climisc.c, client/packhand.c, common/game.c,
	common/game.h:

	Remove function game_find_unit_by_id() in favour of existing
	identical function find_unit_by_id().

Mon Apr 24 13:15:35 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/maphand.c:

	Move misplaced LOG_DEBUG calls in map_fog_city_area() and
	map_unfog_city_area()

Mon Apr 24 01:32:44 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Updated German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Sun Apr 23 23:28:03 2000  Thue Janus Kristensen <thue@diku.dk>:

	* client/gui-gtk/gui_main.c, client/gui-gtk/mapview.c:

	Allow the player to select one of the unit under the currently
	selected unit by simply clicking on one the pixmaps displayed on
	the left of the screen. GTK client only.  Patch submitted by Eric
	Brunet <ebrunet@clipper.ens.fr>

Sun Apr 23 23:13:57 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/citytools.c:

	Fixes bug where the unit conquering a city were afterwards
	supported by the conquered city.  Bug report and patch by Anders
	Wegge Jakobsen <wegge@wegge.dk> with a little cleanup by me.

Sun Apr 23 22:53:13 2000  Thue Janus Kristensen <thue@diku.dk>:

	* server/citytools.c, server/citytools.h, server/diplhand.c,
	server/unitfunc.c, server/unithand.c:

	Moving call to raze_city into transfer_city, noticably before
	send_city_info, to make sure the effects are send to the clients.
	Fixes bugs where palace and shield stock were percieved to not be
	erazed.  Bug reported by Cameron Morland <cjmorlan@uwaterloo.ca>
	and Jan Felix Heidefuﬂ

Sun Apr 23 11:31:49 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/hash.c:

	In hash_key_exists() and hash_lookup_data(), check bucket->used
	against BUCKET_USED, not just boolean value, in case
	BUCKET_DELETED.  (Doesn't fix any user-visible bugs, because
	freeciv code currently doesn't use hash_delete_entry(); also
	hash_lookup_data() was accidently ok before because deleted
	buckets are zeroed.)

Sun Apr 23 05:27:22 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c:

	Add a timer (with --debug 2) for total end/start-turn server/ai
	activities.

Sun Apr 23 05:26:27 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/nation/latvian.ruleset:

	Fix capitalisation of "Cure For Cancer" in Latvian nation ruleset,
	so that it matches correctly.

Sat Apr 22 16:07:32 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/citytools.c, server/citytools.h, server/cityturn.c,
	server/unitfunc.c, server/unittools.c, server/unittools.h:

	Bug fixes and general clean-up of unit transfer and unit stack
	conflict resolution code.  Especially fixes bug causing an
	infinite loop in resolve_unit_stack().  Patch submitted by Thue
	Janus Kristensen <thue@diku.dk>.

Fri Apr 21 13:05:31 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/cityturn.c:

	Fix bug in recent transitive unit upgrade patch whereby unit
	production in cities were upgraded to themselves each turn.

Fri Apr 21 03:09:37 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/chatline.c, client/gui-gtk/chatline.h,
	client/gui-gtk/gui_main.c:

	Fix problem that Gtk+ client always put extra line (ie extra
	newline) at end of output window, wasting space.  Bug (PR#328)
	reported by Urban <mueller@relog.ch>.

Thu Apr 20 19:55:18 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/mapview.c, client/gui-xaw/mapview.c:

	Make the Xaw and Gtk clients actually update the overview map all
	the time.  The code didn't take into account the possibility that
	pos could be less than zero.  Patch submitted by Thue Janus
	Kristensen <thue@diku.dk>.

Thu Apr 20 18:33:37 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/city.c, common/unit.c, server/cityturn.c:

	Made unit upgrades transitive.  Patch submitted by Thue Janus
	Kristensen <thue@diku.dk>.

Thu Apr 20 16:12:24 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/unitfunc.c:

	Fix bug whereby when a unit was airlifted (via do_airline()) the
	sight- points weren't being transferred.  Patch submitted by Thue
	Janus Kristensen <thue@diku.dk>.

Sun Apr 16 16:45:12 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Updated German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Sun Apr 16 16:31:39 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset, data/engels/flags.spec,
	data/engels/flags.xpm, data/misc/shields.spec,
	data/misc/shields.xpm, data/nation/estonian.ruleset,
	data/nation/filipino.ruleset, data/nation/latvian.ruleset,
	data/trident/flags.spec, data/trident/flags.xpm:

	Added the Estonian, Filipino and Latvian nations.  Nation data by
	Robert Brady <rwb197@ecs.soton.ac.uk>, flags by me.

Sun Apr 16 14:35:39 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/civclient.c, client/control.c, client/control.h,
	client/packhand.c, client/packhand.h, client/gui-gtk/dialogs.c,
	client/gui-stub/dialogs.c, client/gui-mui/dialogs.c,
	client/include/dialogs_g.h, client/gui-xaw/dialogs.c,
	common/capstr.c, common/packets.h, common/unit.c, common/unit.h,
	server/unithand.c:

	Fixed bug whereby Diplomats/Spies moving by GoTo would not pop-up
	the Diplomat/Spy command dialog when they reached a city.  Fixes
	PR#37 and PR#306.  Bug reported by AP Remmers
	<aremmers@nerdherd.org> and Mark Nettle
	<markn@teach.bhs.mq.edu.au>.  Solution proposed by David Pfitzner
	<dwp@mso.anu.edu.au>.  Implementation by Thue Janus Kristensen
	<thue@diku.dk> and me.

Sun Apr 16 13:10:25 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/POTFILES.in, server/gamehand.c, server/plrhand.c:

	Fixed bug where the "Year: " message sent to the message window
	was one off from the actual year (as displayed in the info box). 
	Patch submitted by Thue Janus Kristensen <thue@diku.dk>, with i18n
	support added.

Sun Apr 16 12:53:21 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/packhand.c, common/capstr.c, common/map.h,
	common/packets.c, common/unit.c, common/unit.h,
	data/civ1/terrain.ruleset, data/civ2/terrain.ruleset,
	data/classic/terrain.ruleset, data/default/terrain.ruleset,
	server/ruleset.c, server/unitfunc.c, server/unithand.c:

	Fixed terrain ruleset code to allow
	irrigation/mining/transformation of ocean tiles into land tiles. 
	(The ruleset structure appeared to support this, but the code
	didn't.)  Added an extra constraint to changing ocean to land:
	must have at least "ocean_reclaim_requirement" land tiles adjacent
	to the ocean tile being changed.  The default ruleset allows
	Engineering Transformation of Ocean to Swamp.  Patch submitted by
	Cameron Morland <cjmorland@uwaterloo.ca>, committed with several
	fixes.

Fri Apr 14 13:52:28 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/unit.c, server/unittools.c:

	Fixes transporter space functions.  Specifically: - Changed
	is_enough_transporter_space() to count only the given player's
	transporters and units.  (It is currently only used where only one
	players units are on the tile so this won't fix any bugs.) -
	Changed is_transporter_with_free_space() to report only on given
	players' units (as it seems was intended).  - Also, while looking
	at how is_enough_transporter_space() was called, it seemed to me
	that there was a bug in the code near the end of
	resolve_unit_stack() -- the comment says to teleport the *surplus*
	units, but the code teleports *all* units.  This is also fixed. 
	Patch submitted by Thue Janus Kristensen <thue@diku.dk>.  Second
	and third changes by me.

Fri Apr 14 12:53:07 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/citytools.c, server/unithand.c, server/unittools.c:

	Fixes potential infinite loop in server.  Specifically: -
	Conditionalizes the resolve_unit_stack() call in the loop in
	transfer_city_units() on x,y not being a city location.  - Minor
	clean-up of resolve_unit_stack().  - Removes re-use of x and y in
	transfer_city_units().  - Changes transfer_city() call in
	civil_war() to not ask for resolving stack conflicts.  - Adds a
	stack conflict resolution loop just before the short-circuit
	'return;' in civil_war().  - Adds "if (do_civil_war)
	civil_war(cplayer);" before the short-circuit 'return;' in
	handle_unit_enter_city().

Mon Apr 10 21:55:11 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/citydlg.c:

	Increased the default width of the change dialog by 30 pixels.

Mon Apr 10 21:28:54 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/packets.c:

	Attempt to fix the Apollo Program map bug.

Sun Apr  9 04:59:34 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/chatline.c:

	Changed type of windowwth in append_output_window() from 'int' to
	'Dimension'.  (Was seeing strange output window wrapping behaviour
	in Xaw client, traced to bogus values for windowwth.)

Sun Apr  9 04:58:26 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/worklist.c:

	In init_worklist() initialize all ids (not just first) to avoid
	junk values in savegames.

Sun Apr  9 04:57:40 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aiunit.c:

	Fix bug that AI may use uninitialized data, specifically
	pcity->ai.wallvalue via assess_defense() when called for "foreign"
	cities, in invasion_funct() and ai_military_gothere(). 
	(pcity->ai.wallvalue is only calculated for AI players, and maybe
	only reliable for the "current" ai player?) Replaced these calls
	to assess_defense() with new function has_defense(), which is a
	simplified version of assess_defense() which only returns boolean
	value and doesn't use pcity->ai.wallvalue.

Sun Apr  9 04:42:40 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/chatline.c:

	Add explicit 'int' type for variable m_width in
	append_output_window() (prevents gcc warning).

Fri Apr  7 22:14:42 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/control.c, common/unit.c, common/unit.h:

	Removed raise_unit_top() function.  It and calls to it made
	obsolete when find_visible_unit() was made independent of unit
	genlist order.  Patch submitted by Thue Janus Kristensen
	<thue@diku.dk>.

Fri Apr  7 22:06:13 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/control.c, client/control.h, client/gui-gtk/mapview.c,
	client/gui-mui/mapview.c, client/gui-stub/mapview.c,
	client/gui-xaw/gui_main.c, client/gui-xaw/mapview.c,
	client/include/mapview_g.h:

	Cleanup blink_active_unit() function: 1) move it to control.c as
	it seems to be gui-independent; 2) remove legacy code (putting a
	unit on top of linked list) made obsolete by the changes in
	find_visible_unit().  Patch submitted by Thue Janus Kristensen
	<thue@diku.dk>.

Fri Apr  7 21:37:39 2000  Jeff Mallatt <jjm@codewell.com>:

	* freeciv_hackers_guide.txt, ai/aicity.c, ai/aihand.c,
	client/civclient.c, client/packhand.c, client/packhand.h,
	client/tilespec.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/dialogs.h, client/gui-mui/dialogs.c,
	client/gui-stub/dialogs.c, client/include/dialogs_g.h,
	client/gui-xaw/dialogs.c, common/capstr.c, common/packets.c,
	common/packets.h, common/player.c, common/unit.c, common/unit.h,
	server/barbarian.c, server/cityhand.c, server/cityhand.h,
	server/citytools.c, server/citytools.h, server/cityturn.c,
	server/civserver.c, server/diplhand.c, server/gamehand.c,
	server/maphand.c, server/maphand.h, server/plrhand.c,
	server/plrhand.h, server/settlers.c, server/stdinhand.c,
	server/unitfunc.c, server/unitfunc.h, server/unithand.c,
	server/unittools.c:

	Implemented Full Fog of War.  Now, terrain changes (including
	building infrastructure and cities) will not be seen unless a
	player has a unit or city close enough to witness the change. 
	Patch submitted by Thue Janus Kristensen <thue@diku.dk>.

Fri Apr  7 21:14:41 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/mapview.c:

	Fix bug in Gtk+ client where scrollbars were not initialized
	correctly if the map size was other than 80x50.  Bug reported and
	patch submitted by Thue Janus Kristensen <thue@diku.dk>.

Fri Apr  7 18:45:45 2000  Jeff Mallatt <jjm@codewell.com>:

	* freeciv_hackers_guide.txt:

	Updated Mini Style Guide section of the Hacker's Guide.

Fri Apr  7 15:59:06 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/unit.c, server/gotohand.c:

	Removed complexity from do_unit_goto() rendered needless by the
	patch which allowed setting unit activity with zero movement. 
	Also removed a "moves_left" that had escaped deletion in
	can_unit_do_activity_targeted().  Patch submitted by Thue Janus
	Kristensen <thue@diku.dk>.

Fri Apr  7 15:39:49 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-xaw/chatline.c:

	Changed Xaw client output window to wrap based on actual width of
	window and (assumed fixed) width of font.

Fri Apr  7 15:29:01 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in:

	Add --with-xaw and --enable-client=xaw3d options to ./configure
	script.  Suggested by David Pfitzner <dwp@mso.anu.edu.au>.

Fri Apr  7 15:03:33 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/.cvsignore, client/gui-gtk/Makefile.am,
	client/gui-gtk/Makefile.in, client/gui-xaw/.cvsignore,
	client/gui-xaw/Freeciv.h, client/gui-xaw/Makefile.am,
	client/gui-xaw/Makefile.in:

	Remove gui-xaw/Freeciv.h from CVS.  Arranged CVS and make so as to
	not have gui-xaw/Freeciv.h and gui-gtk/Freeciv.h included in the
	CVS.  Developers will want to add Freeciv.h to their "diff -X"
	exclude file.  Suggestion by David Pfitzner <dwp@mso.anu.edu.au>.

Mon Apr  3 12:24:23 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/registry.c, common/registry.h:

	Revert previous change of use of hashing in registry: it had a
	bigger impact on time to save a game than I had realized.

Mon Apr  3 12:23:22 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c:

	Added timing of save_game (with --debug 2).

Sun Apr  2 17:43:02 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/helpdlg.c, client/gui-xaw/helpdlg.c:

	Display in help dialog which buildings an advance will obsolete. 
	Patch submitted by Moses Lei <trumpkin@wizard.net>, with Xaw
	implementation by me.

Sun Apr  2 17:26:54 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/control.c, client/control.h, client/options.c,
	client/options.h, client/packhand.c, client/tilespec.c,
	client/tilespec.h, client/gui-gtk/gui_main.c,
	client/gui-gtk/mapctrl.c, client/gui-gtk/mapview.c,
	client/gui-gtk/menu.c, client/gui-mui/mapview.c,
	client/gui-stub/mapview.c, client/gui-xaw/Freeciv.h,
	client/gui-xaw/actions.c, client/gui-xaw/gui_main.c,
	client/gui-xaw/mapview.c, client/gui-xaw/menu.c,
	client/gui-xaw/menu.h, client/include/mapview_g.h, data/Freeciv,
	data/engels.tilespec, data/engels_shields.tilespec,
	data/trident.tilespec, data/trident_shields.tilespec:

	Add showing city productions on main map.  This is optional. 
	Also, makes display of city names on main map an option.  Patch
	submitted by Raimar Falke <rf13@inf.tu-dresden.de>, with Xaw
	implementation and some fixes by me.

Sun Apr  2 16:48:23 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-stub/Makefile.am, client/gui-stub/Makefile.in,
	client/gui-stub/dialogs.c, client/gui-stub/graphics.c,
	client/gui-stub/wldlg.c, client/gui-stub/wldlg.h:

	Bring gui-stub up to date.

Sun Apr  2 16:11:05 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/packets.c:

	Fixed two bugs in get_packet_from_connection():  1. The test for
	having received at least the minimum packet length was incorrect; 
	2. When a byte-swapped packet was received, its corrected length
	was written into the packet buffer before the test for having
	received a complete packet was performed.

Sun Apr  2 01:08:07 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advdomestic.c, ai/aicity.c, client/cityrepdata.c,
	client/gui-gtk/citydlg.c, client/gui-gtk/cityrep.c,
	client/gui-gtk/dialogs.c, client/gui-gtk/wldlg.c,
	client/gui-mui/citydlg.c, client/gui-mui/worklistclass.c,
	client/gui-xaw/citydlg.c, client/gui-xaw/cityrep.c,
	client/gui-xaw/dialogs.c, client/gui-xaw/wldlg.c, common/city.c,
	common/city.h, common/player.c, common/player.h,
	server/cityhand.c, server/citytools.c, server/citytools.h,
	server/cityturn.c, server/plrhand.c:

	Minor changes to prepare for future buildings generalisation: -
	Introduced Impr_Type_id typdef, currently to enum
	improvement_type_id; - Renamed get_imp_name_ex() to
	get_impr_name_ex() for consistency or future consistency (?), and
	some other _imp_ functions similarly.

Fri Mar 31 07:06:19 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/game.c, common/game.h, server/civserver.c,
	server/gamehand.c, server/stdinhand.c, server/stdinhand.h:

	Added server option "autotoggle", which toggles AI status on and
	off as players connect and disconnect.

	Added a call to lost_connection_to_player() in
	cut_player_connection(), to tell other clients about the removal
	(probably why 'cut' appeared not to work for some people).

	Removed a call to lost_connection_to_player() in
	handle_request_join_game(), which simply generated messages about
	"lost connection to unknown" when a player tried to connect with a
	wrong name.

Fri Mar 31 07:02:13 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c:

	Show barbarian players in the server-side player list (on console
	or for players with cmdlevel ctrl or better).  Eg, allows seeing
	their name and current skill level.

Fri Mar 31 07:00:16 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/barbarian.c:

	Made default barbarian skill level be game.skill_level.

Fri Mar 31 06:59:16 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/hash.c:

	Added some more comments about memory management of keys and
	user-data when using hash tables.

Fri Mar 31 06:57:17 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/registry.c, common/registry.h:

	Change registry to make better and more consistent use of hashing.
	Instead of building a static hash table at the end, the
	section_file is kept always hashed dynamically, which allows
	simpler code for insertions and lookups.  There is a small
	performance penalty for this extra flexibility, but shouldn't be
	noticeble in practice (eg, < 10% loading typical savegame).

Fri Mar 31 06:54:19 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/tilespec.c:

	Clean up the tilespec code to use a hash table directly, rather
	than via registry.  Since the raw hash table can easily store
	pointers directly, this allows removing the tile_sprites array and
	related code (used to store indices in registry).  This also
	removes the limitation that tilespec tags must be in
	"section.entry" form (ie, contain a '.').

Fri Mar 31 06:52:31 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/hash.c, common/hash.h:

	Extends the functionality of common/hash.c, to remove the previous
	main limitations: individual elements can now be deleted, and the
	hash table dynamically resizes as new elements are added.

Wed Mar 29 21:23:05 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/civ2/buildings.ruleset, data/default/buildings.ruleset,
	server/civserver.c, server/stdinhand.c:

	Added correct Civ2 style of Apollo wonder (shows entire map,
	rather than just cities).  Selected by civstyle server option. 
	Bug reported by Tuomas Airaksinen <tuma@linuxfan.com>.

Wed Mar 29 19:09:14 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/ruleset.c:

	Fixed bug where game.add_to_size_limit was not being communicated
	correctly to the client.

Tue Mar 28 22:08:24 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/packets.c:

	Added more debug log messages.

Sun Mar 26 04:22:38 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/helpdata.txt:

	Fix "thedefender" typo in helptext due to missing space.  Bug
	report and patch submitted by Paul Zastoupil <paulz@adnc.com>.

Sun Mar 26 03:42:03 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in, client/Makefile.am, client/Makefile.in:

	Adjust BeOS stuff in configure:  Remove client/gui-beos/Makefile
	from generation list, because client/gui-beos will not participate
	in the automake machinery.  Adjust flag-handling for recent
	changes to configure.in debug enabling, and allowing
	client/civclient to compile into an executable on this platform
	(using some libraries to come later).  Patch (PR#315) submitted by
	Joseph Beckenbach <jrb3@bdhsw.com>.  Also remove gui-beos from
	client/Makefile.am so, eg, 'make dist' works.

Sat Mar 25 02:47:31 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/freeciv.rc:

	Change help text font for Gtk+ client (back) to explicitly specify
	iso8859 registry, to display non-ascii letters properly.  Problem
	reported by Egbert Hinzen <egbert@ehinzen.de>.  Fix suggested by
	Jeff Mallatt <jjm@codewell.com>.

Wed Mar 22 22:29:55 2000  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/amigaserver.c, amiga/smakefile:

	Updated amiga/smakefile.

	Fixed Enforcer hit in in amiga/amigaserver.c.

Tue Mar 21 18:02:15 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-xaw/Freeciv.h, client/gui-xaw/actions.c,
	client/gui-xaw/chatline.c, client/gui-xaw/chatline.h,
	client/gui-xaw/citydlg.c, client/gui-xaw/citydlg.h,
	client/gui-xaw/connectdlg.c, client/gui-xaw/connectdlg.h,
	client/gui-xaw/dialogs.c, client/gui-xaw/dialogs.h,
	client/gui-xaw/diplodlg.c, client/gui-xaw/diplodlg.h,
	client/gui-xaw/gui_main.c, client/gui-xaw/inputdlg.c,
	client/gui-xaw/inputdlg.h, client/gui-xaw/spaceshipdlg.c,
	client/gui-xaw/spaceshipdlg.h, data/Freeciv:

	Further cleanup of Xaw client key dispatching.  All key
	translations are now specified in the resource file -- none are
	hard-coded.

Tue Mar 21 17:53:33 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/maphand.c:

	Fix bug in show_area() whereby when fogofwar was off, unit info
	was not sent.  Bug reported and patch submitted by Thue Janus
	Kristensen <thue@diku.dk>.

Tue Mar 21 17:43:45 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/unitfunc.c:

	Fixes bug whereby if a Trireme was in a city on a single-square
	island, it was susceptible to sinking.  Bug reported and patch
	submitted by cjmorland <cjmorland@uwaterloo.ca>.

Tue Mar 21 15:43:42 2000  Jeff Mallatt <jjm@codewell.com>:

	* ai/aicity.c:

	Changed ai_new_spend_gold() to discount the "gold reserve".  Patch
	submitted by Anthony J. Stuckey <stuckey@jaka.ece.uiuc.edu>.

Tue Mar 21 14:42:58 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-xaw/plrdlg.c:

	Xaw client truncate long leader names in Players dialog.

Tue Mar 21 14:34:42 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/dialogs.c:

	Fixed a bug in Gtk+ Select Nation dialog whereby when one player
	joins, the wrong nation was disabled in all the other clients. 
	Also added random nation and leader selection.  Patch submitted by
	Raimar Falke <rf13@inf.tu-dresden.de>; random selection idea by
	David Pfitzner <dwp@mso.anu.edu.au>.

Tue Mar 21 14:17:38 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-xaw/dialogs.c, client/gui-xaw/repodlgs.c:

	Xaw client implementation of sorting in Science Advisor dialog and
	Select Nation dialog.  Also adds random selection of nation and
	leader.  Random selection idea by David Pfitzner
	<dwp@mso.anu.edu.au>.

Tue Mar 21 14:02:13 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/finddlg.c, po/POTFILES.in:

	Internationalized gui-gtk/finddlg.c.  Patch submitted by Pieter J.
	Kersten <kersten@dia.eur.nl>.

Tue Mar 21 13:48:49 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-xaw/dialogs.c, client/gui-gtk/dialogs.c,
	data/default/nations.ruleset, data/engels/flags.spec,
	data/engels/flags.xpm, data/misc/shields.spec,
	data/misc/shields.xpm, data/nation/Makefile.am,
	data/nation/Makefile.in, data/nation/brazilian.ruleset,
	data/nation/cornish.ruleset, data/nation/english.ruleset,
	data/nation/irish.ruleset, data/nation/italian.ruleset,
	data/nation/misc_cities.ruleset, data/nation/roman.ruleset,
	po/POTFILES.in, data/trident/flags.spec, data/trident/flags.xpm:

	Adds new nations and minor fixes/additions to existing ones: *
	adds Irish, Cornish and Italians * makes Romans use Roman flag,
	not Italian flag * female Dictators are Dictatrices * fiddle a bit
	with the English * make Dutch use f.netherlands, not f.holland *
	adds many UK villages and towns with strange names to misc cities
	Patch submitted by Robert Brady <rwb197@ecs.soton.ac.uk>, with
	some fixes and Engels and Shields flags by me.

Tue Mar 21 11:33:55 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/Makefile.am, common/Makefile.in, common/hash.c,
	common/hash.h, common/registry.c:

	Split hash table functionality from registry.c out into a separate
	module common/hash.  Initially hash.c is missing some important
	functionality in terms of being a general hashing implementation
	(resizing the table and deleting elements), but it should be
	straightforward to extend.

Tue Mar 21 11:26:10 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in, data/Makefile.am, data/Makefile.in,
	data/civ1.serv, data/civ1/Makefile.am, data/civ1/Makefile.in,
	data/civ1/nations.ruleset, data/default/nations.ruleset,
	data/nation/.cvsignore, data/nation/Makefile.am,
	data/nation/Makefile.in, data/nation/american.ruleset,
	data/nation/arab.ruleset, data/nation/argentine.ruleset,
	data/nation/australian.ruleset, data/nation/aztec.ruleset,
	data/nation/babylonian.ruleset, data/nation/barbarian.ruleset,
	data/nation/bavarian.ruleset, data/nation/brazilian.ruleset,
	data/nation/canadian.ruleset, data/nation/carthaginian.ruleset,
	data/nation/chinese.ruleset, data/nation/czech.ruleset,
	data/nation/danish.ruleset, data/nation/dunedain.ruleset,
	data/nation/dutch.ruleset, data/nation/egyptian.ruleset,
	data/nation/english.ruleset, data/nation/finnish.ruleset,
	data/nation/french.ruleset, data/nation/german.ruleset,
	data/nation/greek.ruleset, data/nation/hungarian.ruleset,
	data/nation/inca.ruleset, data/nation/indian.ruleset,
	data/nation/israeli.ruleset, data/nation/japanese.ruleset,
	data/nation/kenyan.ruleset, data/nation/korean.ruleset,
	data/nation/krevi.ruleset, data/nation/lithuanian.ruleset,
	data/nation/misc_cities.ruleset, data/nation/mongol.ruleset,
	data/nation/mordor.ruleset, data/nation/olympic.ruleset,
	data/nation/persian.ruleset, data/nation/polish.ruleset,
	data/nation/portuguese.ruleset, data/nation/roman.ruleset,
	data/nation/russian.ruleset, data/nation/scottish.ruleset,
	data/nation/sioux.ruleset, data/nation/spanish.ruleset,
	data/nation/swedish.ruleset, data/nation/thai.ruleset,
	data/nation/turk.ruleset, data/nation/ukrainian.ruleset,
	data/nation/vietnamese.ruleset, data/nation/viking.ruleset,
	data/nation/welsh.ruleset, data/nation/zulu.ruleset,
	po/POTFILES.in:

	Split nations.ruleset up into separate files, one per nation, in
	new data/nation directory.  Added civ1/nations.ruleset, though not
	used by default, even using civ1.serv.

Tue Mar 21 11:13:55 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/nation:

	Directory /home/freeciv/CVS/freeciv/data/nation added to the
	repository

Mon Mar 20 07:15:39 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in:

	Attempt to fix problem that -lintl on link line is required on
	some systems but not put there by AM_GNU_GETTEXT in configure. 
	(Add -lintl to LIBS when $gt_cv_func_gettext_libintl is "yes".)
	Problem reported by a number of people including: David Lang
	<dlang@dlang.diginsite.com>, Luis Lastras
	<lastras@ee.cornell.edu>, Johan Andersson <zrq501j@tninet.se>, Jan
	Riedinger <jan@physik.TU-Berlin.DE>, Piotr Sulecki
	<Piotr.Sulecki@ios.krakow.pl>.  Bugs PR#162, PR#190, PR#247,
	PR#255, PR#268.

Sun Mar 19 14:35:56 2000  Sebastian Bauer <sebauer@t-online.de>:

	* acconfig.h, config.h.in, configure, configure.in,
	amiga/.cvsignore, amiga/amigaserver.c, common/packets.c,
	server/sernet.c:

	Added check for the fcntl and ioctl functions in configure. 
	Changed server/sernet.c also to use ioctl() to switch to non
	blocking mode (if fcntl() is not available).  Added and use
	NONBLOCKING_SOCKETS define (will be set in configure if fcntl() or
	ioctl() is available)

	Addapted the amiga/amigaserver.c (provide a ioctl() stub)

	Forgot to commit the amiga/.cvsignore file in my last patch.

Sun Mar 19 13:45:21 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-xaw/mapview.c:

	Fixed bug in Xaw client introduced by "extra bottom line" display
	patch whereby the vertical scrollbar wasn't handled correctly. 
	Bug reported by David Pfitzner <dwp@mso.anu.edu.au>.

Sun Mar 19 04:29:17 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c:

	Made 'barbarians' and 'onsetbarbs' server options
	SSET_RULES_FLEXIBLE so that they can be changed during a game. 
	Added some altered and slightly more extensive comments about
	which options should be SSET_RULES_FLEXIBLE.

Sun Mar 19 04:05:00 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/log.c, common/log.h, common/speclist.h:

	Renamed variables called 'this' to be kind to C++ compilers. 
	Problem reported by Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>
	and Joseph Beckenbach <jrb3@bdhsw.com>.  Patch submitted by Joseph
	Beckenbach <jrb3@bdhsw.com>.

Sat Mar 18 09:54:41 2000  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/ReadMe, amiga/ReadMe.2Amigas, amiga/amigaclient.c,
	amiga/amigaserver.c, amiga/makedirs, amiga/smakefile,
	client/gui-mui/citydlg.c, client/gui-mui/connectdlg.c,
	client/gui-mui/dialogs.c, client/gui-mui/gui_main.c,
	client/gui-mui/helpdlg.c, client/gui-mui/mapclass.c,
	client/gui-mui/mapclass.h, client/gui-mui/mapview.c,
	client/gui-mui/muistuff.h, client/gui-mui/objecttreeclass.c,
	client/gui-mui/scrollbuttonclass.c,
	client/gui-mui/scrollbuttonclass.h,
	client/gui-mui/worklistclass.c, server/cityturn.c,
	server/civserver.c, server/ruleset.c, server/settlers.c,
	server/unitfunc.c:

	Mui client: Now closes the city worklist window if the city window
	is closed.  Added two balance objects in the help window and
	changed the tech tree layout a little bit.  Added a scrollbutton
	for the Map.  Reindented client/gui-mui/connectdlg.c.

	Added amiga/ReadMe.2Amigas document by Ivan kosak
	<ivan.kosak@sk.tel.hr>.

	Improved amiga/smakefile.  Removed amiga/makedirs script (no
	longer required).  Updated amiga/.cvsignore

	select() stub in amiga/amigaclient.c inet_ntoa() stub in
	amiga/amigaserver.c

	Adding some missing static's in some server source files.  Minor
	layout changes in some server source files (to allow compiliation
	with VBCC).

	Removed the inputhandler from amiga/amigaserver.c and use packets
	of dos.library instead.  Modified amiga/amigaserver.c to allow
	compiliation with VBCC.

	The last two things done with help of Tajti Attila
	<hilandr@freemail.hu>.

Sat Mar 18 00:14:14 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/packets.c:

	Bug fix to enable correct compilation on machines without fcntl().

Fri Mar 17 18:06:46 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/cityturn.c:

	Fix bug where, just after building a Settlers, workers were
	arranged without regard to the newly created unit (hence, the unit
	was immediately disbanded).  Fixes PR#298.  Bug reported by
	Reinier Post <rp@win.tue.nl>.  Fix by Reinier Post <rp@win.tue.nl>
	and me.

Fri Mar 17 17:52:36 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/connectdlg.c, client/gui-xaw/connectdlg.c:

	Disables the Turn Done button for when a game is not yet started. 
	Patch submitted by Mika Korhonen <mikak@ee.oulu.fi>, with Xaw
	implementation and minor fix by me.

Fri Mar 17 17:23:19 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/game.c, common/game.h, common/unit.c, common/unit.h,
	data/helpdata.txt, server/gamehand.c, server/stdinhand.c,
	server/unithand.c:

	Add server option "killcitizen", which determines the types of
	units that cause a city to lose population after a successful
	attack.  Patch submitted by Tomasz Wegrzanowski <maniek@beer.com>.

Fri Mar 17 17:06:12 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/control.c, client/control.h, client/packhand.c,
	client/tilespec.c, client/gui-gtk/mapctrl.c,
	client/gui-gtk/mapview.c, client/gui-mui/mapclass.c,
	client/gui-mui/overviewclass.c, client/gui-xaw/mapctrl.c,
	client/gui-xaw/mapview.c, common/player.c, common/player.h:

	Fixes bug where transporters contents were shown on top of
	transporter even when not in focus.  Also, never show to enemies
	(except during combat).  Cleans-up focus-unit handling and
	display.  Patch submitted by Thue Janus Kristensen <thue@diku.dk>,
	committed with minor fixes.

Fri Mar 17 16:44:29 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Corrected a couple Spanish city names.  Patch submitted by martin
	<martin.mcmahon@ukonline.co.uk>.

Fri Mar 17 13:25:44 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/nl.po:

	Updated Dutch (nl) translation.  Patch submitted by Pieter J.
	Kersten <kersten@dia.eur.nl>.

Thu Mar 16 19:55:30 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, po/nl.po:

	Added the Dutch (nl) translation.  Translation submitted by Pieter
	J. Kersten <kersten@dia.eur.nl>.

Wed Mar 15 20:15:33 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/control.c, client/gui-gtk/mapctrl.c,
	client/gui-mui/gui_main.c, client/gui-xaw/mapctrl.c:

	Minor clean-up of focus unit handling.  Made punit_focus static. 
	(MUI client needs to be checked.)

Wed Mar 15 19:43:04 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/city.c:

	Allow Hoover Dam to be built anywhere, to conform to Civ2.  Patch
	submitted by Daniel Zinsli <s830+priv@ii.uib.no>.

Wed Mar 15 19:32:33 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Added accents to several Spanish nation city names.  Patch
	submitted by Joaquin Cuenca Abela <cuenca@ie2.u-psud.fr>.

Wed Mar 15 19:18:53 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Updated German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Wed Mar 15 19:01:45 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/cityrep.c, client/gui-gtk/repodlgs.c,
	client/gui-xaw/repodlgs.c, common/tech.c, common/tech.h:

	Display research turns per advance in Science Advisor dialog. 
	Patch submitted by Daniel Zinsli <s830+priv@ii.uib.no>, with Xaw
	implementation by me.

Wed Mar 15 18:44:39 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/dialogs.c, client/gui-gtk/repodlgs.c:

	Added sorting to Nation Select and Science Advisor dialogs.  Patch
	submitted by Raimar Falke <hawk@A315-2b.wh8.tu-dresden.de>,
	committed with a few bug fixes.

Wed Mar 15 18:08:40 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/unit.c:

	Changed can_unit_do_activity_targeted() to allow units to change
	activity without being in ACTIVITY_IDLE state.  Patch submitted by
	Thue Janus Kristensen <thue@diku.dk>.

Wed Mar 15 17:58:26 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/control.c, client/control.h, client/gui-gtk/citydlg.c,
	client/gui-xaw/Freeciv.h, client/gui-xaw/citydlg.c, data/Freeciv:

	Adds the Sentry and Fortify items to the Xaw City dialog Unit
	pop-up, as were previously added to the GTK+ client.  I moved the
	routines that request the activity change to control.[hc], to
	conform with other usage and so that the Xaw client could use the
	same code.

Wed Mar 15 17:27:49 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-xaw/gui_main.c, client/gui-xaw/mapview.c,
	client/gui-xaw/mapview.h:

	Fixed Xaw client bug whereby the bottom fractional row was not
	being drawn when a game was loaded/started.

Wed Mar 15 17:18:38 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/mapview.c, client/gui-mui/mapview.c,
	client/gui-xaw/mapview.c:

	Fix automatic recentering: 1) Recenter the map when a unit is 2
	tiles from the edge of the screen, instead of 1 as before.  2)
	When moving a unit at the poles previously it would, since the
	pole is at the edge of the map, recenter the screen at every
	move... DUH :) Adds a little extra check to prevent this.  Patch
	submitted by Thue Janus Kristensen <thue@diku.dk>.

Wed Mar 15 16:10:23 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/mapview.c, client/gui-xaw/mapview.c:

	Changed drawing so that bottom row is fully visible.

	As of now the top left corner is always aligned with the tiles.
	This is what causes the problem in the first place. The ideal
	solution would be to align the window with the bottom left tiles
	if you tried to center the window on a tile closer than
	(screen_tiles_height/2 -1) to the south pole.

	But, for now, I just grepped for occurrences where the ysize (or
	the values derived from it) were used, and those places that had
	relevance to drawing the map, and I added 1 (using the
	EXTRA_BOTTOM_ROW constant).

	Patch submitted by Thue Janus Kristensen <thue@diku.dk>, with Xaw
	implementation by me.

Wed Mar 15 14:56:42 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/game.h:

	Changed default for "onsetbarbs" server option to be 1/3 of the
	way from the default game start to the default game end. 
	Suggested by Tomasz Wegrzanowski <maniek@beer.com>.

Wed Mar 15 14:34:53 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/city.h, server/settlers.c:

	When it was made illegal to make cities adjacent to one another
	you forgot to tell the ai autosettlers. As a result, at some point
	most ai autosettlers will just stand and try to make a city turn
	after turn.  This patch fixes that. Note that the patch does not
	just stop the ai settlers from building cities next right next to
	other cities (the actual bug), but also from inside the worked
	area of other cities. The ai did this late in the game on well
	developed continents (because it had a large surplus of settlers
	and no obvious cities to add to within the range they checked, I
	think), as such robbing the existing big cities of their land. 
	Patch submitted by Thue Janus Kristensen <thue@diku.dk>.

Wed Mar 15 14:14:01 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/control.c, client/options.c, client/options.h:

	Added "End Turn when done moving" local option.  Patch submitted
	by Daniel Zinsli <s830+priv@ii.uib.no>.

Wed Mar 15 14:03:17 2000  Jeff Mallatt <jjm@codewell.com>:

	* ai/advmilitary.c, ai/aiunit.c, client/control.c,
	client/tilespec.c, client/tilespec.h, client/gui-gtk/citydlg.c,
	client/gui-gtk/menu.c, client/gui-mui/gui_main.c,
	client/gui-mui/mapclass.c, client/gui-xaw/menu.c, common/capstr.c,
	common/unit.c, common/unit.h, data/engels/tiles.spec,
	data/engels/tiles.xpm, data/trident/tiles.spec,
	data/trident/tiles.xpm, server/plrhand.c, server/unitfunc.c,
	server/unithand.c, server/unittools.c:

	Split ACTIVITY_FORTIFY up into ACTIVITY_FORTIFYING and
	ACTIVITY_FORTIFIED.  Now, when you fortify a unit it starts out as
	ACTIVITY_FORTIFYING and after one turn is changed to
	ACTIVITY_FORTYFIED. If the unit has 0 movepoints when the order is
	given it takes 2 turns. I believe this is how fortifying worked in
	payciv. Also allows you to give settlers orders even when they
	have 0 movement points left.  Patch submitted by Thue Janus
	Kristensen <thue@diku.dk>, with artwork by me (so blame me, not
	him :).

Tue Mar 14 13:30:55 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Changed Sioux to use f.cheyenne flag.

Tue Mar 14 12:54:48 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset, data/engels/flags.spec,
	data/misc/shields.spec, data/trident/flags.spec:

	Name the Cheyenne flag correctly (was named f.sioux).  Patch
	submitted by Lalo Martins <lalo@debian.org>.

Tue Mar 14 12:25:21 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Added Brazilian nation.  Patch submitted by Lalo Martins
	<lalo@debian.org> and Richard Garrel <rgarrel@bhnet.com.br>.

Mon Mar 13 23:18:24 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Added some Polish town names to the misc city names list.  Patch
	submitted by Tomasz Wegrzanowski <maniek@beer.com>.

Mon Mar 13 07:58:52 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/mapctrl.c:

	Marked a string in GTK+ middle-button popup.  Bug reported by
	Egbert Hinzen <garfy@ehinzen.de>.

Mon Mar 13 04:32:27 2000  Jeff Mallatt <jjm@codewell.com>:

	* freeciv_hackers_guide.txt, ai/aicity.c, ai/aitools.c,
	ai/aiunit.c, client/climisc.c, client/control.c,
	client/packhand.c, client/tilespec.c, client/tilespec.h,
	client/gui-gtk/mapctrl.c, client/gui-gtk/mapview.c,
	client/gui-mui/mapclass.c, client/gui-xaw/mapctrl.c,
	common/capstr.c, common/game.c, common/game.h, common/map.c,
	common/map.h, data/engels/tiles.spec, data/engels/tiles.xpm,
	data/trident/tiles.spec, data/trident/tiles.xpm,
	server/autoattack.c, server/barbarian.c, server/cityhand.c,
	server/citytools.c, server/cityturn.c, server/civserver.c,
	server/diplhand.c, server/gamehand.c, server/gotohand.c,
	server/maphand.c, server/maphand.h, server/plrhand.c,
	server/settlers.c, server/stdinhand.c, server/unitfunc.c,
	server/unitfunc.h, server/unithand.c, server/unithand.h,
	server/unittools.c:

	Fog of War for units.  Patch submitted by Thue Janus Kristensen
	<thue@diku.dk>.

Mon Mar 13 01:48:45 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Added Finnish leader; fixed some names.  Patch submitted by Tuomas
	Airaksinen <tuma@linuxfan.com>.

Sun Mar 12 23:50:58 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset, data/engels/flags.spec,
	data/engels/flags.xpm, data/misc/shields.spec,
	data/misc/shields.xpm, data/trident/flags.spec,
	data/trident/flags.xpm:

	Added the Bavarian nation and flags.  Patch submitted by Jan
	Heidefuss <jan_heidefuss@yahoo.de>.

Sun Mar 12 22:39:41 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset, data/engels/flags.spec,
	data/engels/flags.xpm, data/misc/shields.spec,
	data/misc/shields.xpm, data/trident/flags.spec,
	data/trident/flags.xpm:

	Added Mordor nation and flags.  Patch submitted by Paul Zastoupil
	<paulz@adnc.com>.

Sun Mar 12 22:05:21 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Changed section names in nations.ruleset from [nation#] to
	[nation_name].  Patch suggested by David Pfitzner
	<dwp@mso.anu.edu.au>.

Sun Mar 12 21:08:33 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/engels/flags.spec, data/engels/flags.xpm,
	data/misc/shields.spec, data/misc/shields.xpm,
	data/trident/flags.spec, data/trident/flags.xpm:

	Added flags for Bulgaria, Armenia, Azerbaijan and Boer.  Patch
	submitted by Tomasz Wegrzanowski <maniek@beer.com>.

Sun Mar 12 07:06:20 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c:

	Do not list barbarian players in metaserver, and do not allow
	connections to barbarian players.  Bug (PR#290, PR#295) reported
	by Rizos Sakellariou <rizos@rice.edu>, Tuomas Airaksinen
	<tuma@linuxfan.com>, and others.  Patch submitted by Reinier Post
	<rp@win.tue.nl>.

Sat Mar 11 14:11:57 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/cityturn.c:

	Fix bug that penalty for production change was not applied when a
	city had been prevented from finishing building a Settler due to
	being size 1.  (Fix: don't update pcity-> turn_last_built until
	unit is actually built.) Bug (PR#281) reported by Mark Hayden
	<hayden@ispchannel.com>.

Sat Mar 11 13:07:58 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/cityrep.c:

	Add a cast to avoid another Solaris cc warning.

Sat Mar 11 13:02:35 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/log.c:

	Fudge FRETURN macro (no effective change) to avoid spurious
	warning message from Solaris cc.  Warning reported in PR#269 by
	Reinier Post <rp@win.tue.nl>.

Sat Mar 11 12:50:31 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/cityrep.c:

	Fix bug that using Change (to unit) for multiple cities in Gtk+
	city report only changed the first city.   Bug (PR#270) reported
	by "jf" <jean-francois.bonnet@math-info.univ-paris5.fr>.

Sat Mar 11 12:21:17 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/city.c:

	Removed an unnecessary/duplicate check for req==A_LAST in
	could_player_eventually_build_improvement().

Fri Mar 10 21:44:04 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/helpdata.c, common/unit.c, common/unit.h,
	server/unittools.c:

	Added "IgTired" unit flag.  Units with this flag do not suffer an
	attack penalty when they have less than one movement point left. 
	Useful for modpacks about guerrilla warfare.  Patch submitted by
	Tomasz Wegrzanowski <maniek@beer.com>, though without changes to
	default units.ruleset.

Fri Mar 10 19:45:51 2000  Jeff Mallatt <jjm@codewell.com>:

	* freeciv_hackers_guide.txt:

	Removed out of date, maintainer-specific information from hacker's
	guide.

Fri Mar 10 06:03:34 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/nations.ruleset, data/engels/flags.spec,
	data/misc/shields.spec, data/trident/flags.spec:

	Changed tag "f.holland" to more accurate "f.netherlands", as
	suggested by Reinier Post <rp@win.tue.nl>.  Old tag kept as alias,
	for backward compatibility.

Fri Mar 10 00:45:41 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/citydlg.c:

	Added sentry and fortify options to the present units popup. 
	Patch submitted by Thue Janus Kristensen.

Fri Mar 10 00:17:48 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/citydlg.c:

	patch to fix a cut in the right of the progress bar.  Bug reported
	by Thue Janus Kristensen.

Sun Mar  5 16:13:14 2000  Jeff Mallatt <jjm@codewell.com>:

	* config.h.in, configure:

	Ran autoheader;autoconf for non-blocking sockets changes. 
	Requested by Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>.

Sun Mar  5 16:00:51 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/packets.c:

	oops, forgot a default: in the switch, messy.

Sun Mar  5 15:59:06 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/packets.c:

	Added a 5 second timeout to write().

Sun Mar  5 15:00:56 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* configure.in, common/packets.c, client/clinet.c,
	server/sernet.c:

	Added support for non-blocking sockets (only for reads, writes
	still block)

Sun Mar  5 13:51:50 2000  Jeff Mallatt <jjm@codewell.com>:

	* ai/aiunit.c:

	Re-implemented ai_manage_units() in a way that, I hope, will avoid
	all possible subordinate-routine wipe_unit()-caused dangling
	pointer problems.  Fixes PR#263 (part 3), PR#267.  Bug reported by
	Mike Jing <miky40@hotmail.com> and Tuomas Airaksinen
	<tuma@linuxfan.com>.

Sun Mar  5 13:39:29 2000  Jeff Mallatt <jjm@codewell.com>:

	* ai/aiunit.c:

	Fix bug whereby when a boat fails an attack, it causes a core dump
	because the code doesn't check for its death (in
	ai_military_gothere()).  Partial fix for PR#263, PR#267.  Bug
	reported by Mike Jing <miky40@hotmail.com> and Tuomas Airaksinen
	<tuma@linuxfan.com>.

Sun Mar  5 13:28:46 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* server/meta.c:

	Put inet_addr() and bind() calls back in.  It seems that 'named'
	could not be running and cause gethostbyname() to fail.  This way
	we can still rely on numbers and dots addresses.  Also since this
	is a datagram socket we should call bind() first.  (It still
	worked without bind() though).

Sun Mar  5 01:27:22 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/Makefile.in:

	Automake update for Gtk+ resources changes, requested by Vasco.

Sat Mar  4 20:09:25 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/Makefile.am, client/gui-gtk/citydlg.c,
	client/gui-gtk/dialogs.c, client/gui-gtk/gui_main.c,
	client/gui-gtk/helpdlg.c, client/gui-gtk/spaceshipdlg.c:

	Made changes to remove hardcode values and enable gtk+ resource
	file loading.

Sat Mar  4 20:07:13 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* data/freeciv.rc:

	Added gtk+ resource file for the client.

Sat Mar  4 20:06:16 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/rc2c, client/gui-gtk/resources.c,
	client/gui-gtk/resources.h:

	Added files for gtk+ resource file loading.

Sat Mar  4 18:34:15 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/packets.c, server/meta.c:

	Fixed a couple of "missing prototype" errors introduced by recent
	patches.

Sat Mar  4 15:59:31 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* server/meta.c:

	removed redundant call to 'inet_addr', removed unnecessary call to
	'bind', removed some global vars and cleaned up the code a bit.

Sat Mar  4 15:58:13 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/hu.po:

	Update Hungarian (hu) translation.  Patch submitted by Gabor Dukai
	<dukai@EUnet.yu>, committed with one format mismatch fix.

Sat Mar  4 15:50:27 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Update German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Sat Mar  4 15:40:33 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* common/packets.c:

	fixes the incomplete writes problem and has some minor cleanups.

Sat Mar  4 14:31:19 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Added more cities to Dunedain nation.  Patch submitted by Paul
	Zastoupil <paulz@adnc.com>.

Sat Mar  4 03:55:27 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advattitude.c, ai/advforeign.c, ai/advisland.c,
	ai/advscience.c, ai/advspace.h, ai/advtrade.c, ai/aitools.h,
	common/nation.h, server/cityhand.h, server/ruleset.h,
	server/sernet.h, server/settlers.h, server/unittools.h:

	Remove some unnecessary includes in headers, and related
	adjustments.

Sat Mar  4 02:42:27 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/inputfile.c:

	Put string_end_line into struct inputfile for better and more
	consistent inf_log messages regarding multi-line strings.

Sat Mar  4 01:42:38 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/registry.c, common/registry.h, server/civserver.c:

	Allow duplicate entries in registry files.  This is mainly to
	allow "overriding" entries included from another file.  Does not
	apply to savefiles, where a duplicate entry probably indicates
	that something is wrong in the code which wrote the savefile.

Sat Mar  4 01:41:39 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/registry.c:

	Allow duplicate section tags in registry files, equating to the
	same section.  Main use is with included files, so that different
	files can contribute or override entries for a single section.

Sat Mar  4 01:39:49 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/helpdata.c, common/inputfile.c, common/inputfile.h,
	common/registry.c, server/ruleset.c:

	Allow "include" lines in registry files, with multiple levels of
	includes.  Included files are searched in FREECIV_PATH, by calling
	datafilename().  This means reading a file may change the
	datafilename() static buffer, so some other code modified to
	account for this possibility.

Thu Mar  2 19:41:44 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/mapctrl.c:

	Fixed the "double click" problem in the minimap. Where a "double
	click" caused three calls instead of two.

Thu Mar  2 07:02:22 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/inputfile.c:

	Fix bug that sometimes reading registry-format files would
	mysteriously fail.

	Fixes bugs PR#165, PR#168, PR#275; bugs reported by: David Chester
	<David@chescam.demon.co.uk>, Jim Smith <atilla_ca@yahoo.com>,
	Jamie Love <jdl28@cosc.canterbury.ac.nz>, Igor Nazarov
	<nazarov@math.unm.edu>.

	(Also fixes small bug that previously registry files could not
	have strings with trailing backslash.)

Mon Feb 28 21:08:15 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/unitfunc.c, server/unithand.c:

	Reorder reports of conquering, getting advances and focusing on
	new goal.  Bugs reported by Mike Jing <miky40@hotmail.com> and
	Paul Zastoupil <paulz@adnc.com>.  Patch submitted by Mike Jing
	<miky40@hotmail.com>, applied with fix for Paul's bug.

Mon Feb 28 20:59:59 2000  Jeff Mallatt <jjm@codewell.com>:

	* ai/aiunit.c, client/gui-xaw/dialogs.c, client/gui-xaw/wldlg.c,
	client/include/freeciv.ico:

	Cleaned-up some Sun cc warnings.  Warnings reported by Reinier
	Post <rp@win.tue.nl>.

Mon Feb 28 20:52:25 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/packhand.c:

	Inhibit a couple more popups if watching an AI player.  (Most of
	the rest already are inhibited).  One suggested by Anthony J.
	Stuckey <stuckey@jaka.ece.uiuc.edu>.

Mon Feb 28 20:43:48 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/civserver.c:

	I noticed that messages about random barbarian uprisings get lost
	from the messages window, because summon_barbarians() occurs on
	the wrong side of before_end_year().  This patch moves
	before_end_year() and adds a longer comment.

	But its hard to test this patch, because even with maximum
	barbarians and hard skill level, I hardly ever see such messages
	(using also Popup for Barbarian Uprisings in Message Options, to
	make sure I see them).  I guess because I mostly see sea
	barbarians, coming from unknown squares so I don't get the
	message.  (Another possible case is if I'm not the "real" victim,
	but that would seem less often.)

	This seems a bit of a problem, in terms of not getting a warning
	even when the barbarians do then come within visible range, but
	I'm not sure how to fix.  Maybe the client could generate a
	message when a barbarian unit first comes "on-screen"? 
	("Barbarians sighted near ...")

	Patch submitted by David Pfitzner <dwp@mso.anu.edu.au>.

Mon Feb 28 20:35:03 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/packets.c:

	Hack to get rid of "bad string in packet" messages.

	Some similar cases were fixed before 1.10.0, but I found that
	there are still more cases where you can get "bad string in
	packet" messages, from using uninitialised strings (ie, the string
	data is not actually used by the server, but is included in the
	packet anyway, causing problems).

	In particular I saw cases with setting the Research and Goal
	techs, but looking at the code other cases with
	packet_player_request are also potential problems.

	Looking into this, I don't understand why the worklist stuff was
	included into packet_player_request, along with tax/sci/lux rates,
	government choice, and tech/goal.  Because we only ever use part
	of the packet at a time, but we send the whole lot every time
	(with unused parts containing uninitialised "junk" data).  Using
	separate packets would have avoided the above problem as well as
	using less bandwidth.

	(Actually, this isn't really the fault of the worklist
	implementation, since even beforehand the non-rates stuff could
	have just been sent as individual values.  The worklist stuff just
	perpetuated the problem, and made it significantly worse by
	happening to contain a string as part of the data.)

	Well, I guess we don't want to change the protocol so soon after
	introducing capstr "+1.10" :-/ But I didn't like trying to find
	all the problem instances, and adding many duplicate lines
	initialising req.worklist.name in non-worklist code.  So the
	attached patch is a slightly hack-ish work-around.

	Patch submitted by David Pfitzner <dwp@mso.anu.edu.au>.

Mon Feb 28 20:12:23 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/civserver.c, server/plrhand.c, server/plrhand.h:

	Show map to all players at end of game.  Patch submitted by Mike
	Jing <miky40@hotmail.com>.

Mon Feb 28 19:56:31 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/unit.c:

	Disallow stealing tech and establishing embassies with barbarians.
	Patch submitted by Anthony J. Stuckey <stuckey@jaka.ece.uiuc.edu>.

Mon Feb 28 19:50:21 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/unithand.c:

	Have server automatically sentry units which board a ship on an
	ocean tile.  Patch submitted by Thue Janus Kristensen
	<thue@diku.dk>.

Mon Feb 28 18:20:16 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* po/pt.po:

	Updated Portuguese (pt) translation.

Mon Feb 28 18:07:47 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/citydlg.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/repodlgs.c:

	Fixed bug in the city production dialog.  Changed look of the city
	production dialog.  Changed look of the tech list in the science
	dialog.  Added keyboard shortcuts to message windows.  Minor
	change to progress bar in the city dialog.

Mon Feb 28 03:43:48 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/hu.po:

	Update Hungarian (hu) translation.  Patch submitted by Gabor Dukai
	<dukai@EUnet.yu>.

Mon Feb 28 03:39:22 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/pl.po:

	Update Polish (pl) translation.  Patch submitted by Tomasz
	Wegrzanowski <maniek@beer.com>.

Mon Feb 28 00:44:11 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/dialogs.c:

	There was a typo in the spy code causing errors sometimes a client
	chrash when stealing tech using a spy.  Bug reported by Karl-Ingo
	Friese. Fix by Thue Janus Kristensen.

Mon Feb 28 00:06:55 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/citydlg.c:

	added a progress bar to replace the progress label, like in the
	Amiga client.

Sun Feb 27 16:01:43 2000  Jeff Mallatt <jjm@codewell.com>:

	* README.rulesets:

	Update Michelangelo's info in README.rulesets.  Patch submitted by
	Tomasz Wegrzanowski <maniek@beer.com>.

Sun Feb 27 15:27:18 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Fixed bugs in, and added cities to, the Argentine nation.  Patch
	submitted by riq <riq@ciudad.com.ar>.

Sun Feb 27 13:30:13 2000  Jeff Mallatt <jjm@codewell.com>:

	* PEOPLE:

	Update an address.

Fri Feb 25 11:56:59 2000  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/ReadMe, client/gui-mui/citydlg.c,
	client/gui-mui/gui_main.c, client/gui-mui/mapclass.c,
	client/gui-mui/objecttreeclass.c:

	Mui client:

	When investigating an unfriendly city now longer display the
	browse buttons.

	Now display the unexploxed tiles in the city map as black tiles
	(like on the other clients)

	Fix some problems in the help window in conjunction with the tech
	tree.

	Minor fixes in amiga/ReadMe

Fri Feb 25 00:16:55 2000  Lalo Martins <lalo@debian.org>:

	* po/pt_BR.po:

	Updated a lot of annoyances in the Brazilian Portuguese
	translation.

Fri Feb 25 00:14:48 2000  Lalo Martins <lalo@debian.org>:

	* debian/freeciv-xaw.dirs, debian/freeciv-xaw.menu,
	debian/freeciv-xaw.postinst, debian/freeciv-xaw.postrm,
	debian/freeciv-xaw.xaw:

	removing some files we don't use anymore.

Thu Feb 24 23:58:53 2000  Lalo Martins <lalo@debian.org>:

	* debian/changelog, debian/control, debian/copyright, debian/dirs,
	debian/freeciv-gtk.dirs, debian/freeciv-gtk.menu,
	debian/freeciv-gtk.postinst, debian/freeciv-gtk.postrm,
	debian/freeciv-xaw3d.dirs, debian/freeciv-xaw3d.menu,
	debian/freeciv-xaw3d.postinst, debian/freeciv-xaw3d.postrm,
	debian/menu, debian/rules:

	Merging in the changes to the Debian build process by Torsten
	Landschoff (NMU 1.9.0-2.1) which fixed a lot of bugs, and updating
	everything for 1.10.0.

Tue Feb 22 23:16:45 2000  Jeff Mallatt <jjm@codewell.com>:

	* PEOPLE:

	Fix minor format error in PEOPLE file.

Mon Feb 21 23:31:58 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, client/gui-xaw/Freeciv.h,
	common/version.h, data/Freeciv:

	Bump version from 1.10.0 to 1.10.1-devel.

Mon Feb 21 21:57:51 2000  Jeff Mallatt <jjm@codewell.com>:

	* ChangeLog:

	Final ChangeLog update for Version 1.10.0 release.

Mon Feb 21 21:43:07 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, client/gui-xaw/Freeciv.h,
	common/version.h, data/Freeciv, po/de.po, po/en_GB.po, po/es.po,
	po/fr.po, po/hu.po, po/no.po, po/pl.po, po/pt.po, po/pt_BR.po,
	po/ru.po:

	Final source update for Version 1.10.0 release.

Mon Feb 21 20:52:22 2000  Jeff Mallatt <jjm@codewell.com>:

	* PEOPLE:

	Updated for Version 1.10.0 release.

Mon Feb 21 20:29:59 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/control.c, client/gui-mui/gui_main.c:

	Fixed paratroopers bug in the MUI client as suggested by Jeff
	Mallatt <jjm@codewell.com>

Mon Feb 21 19:19:02 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Updated German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Mon Feb 21 18:46:50 2000  Jeff Mallatt <jjm@codewell.com>:

	* NEWS:

	Minor elaboration in NEWS file.  Suggested by David Pfitzner
	<dwp@mso.anu.edu.au>.

Mon Feb 21 18:40:34 2000  Jeff Mallatt <jjm@codewell.com>:

	* INSTALL, README:

	A few additions to INSTALL, and cleanup of INSTALL and README. 
	Suggested by David Pfitzner <dwp@mso.anu.edu.au>.

Mon Feb 21 17:42:28 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/control.c:

	Fast fix for PR#265.  (Paratroopers couldn't be paradropped in the
	GTK+ and Mui client)

Mon Feb 21 16:58:49 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/menu.c:

	Fixed bug whereby Gtk+ client could not paradrop.  Bug reported by
	Gerhard Killesreiter <killesreiter@physik.uni-freiburg.de>.

Sun Feb 20 23:47:00 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Fix a couple of minor errors in tech goals for Thai and Vietnamese
	nations.  Patch submitted by Mike Jing <miky40@hotmail.com>.

Sun Feb 20 23:22:18 2000  Jeff Mallatt <jjm@codewell.com>:

	* NEWS:

	Updated for Version 1.10.0 release.

Sun Feb 20 22:15:02 2000  Jeff Mallatt <jjm@codewell.com>:

	* BUGS, TODO:

	Added comments on translations.  Suggested by Egbert Hinzen
	<garfy@ehinzen.de>.

Sun Feb 20 21:52:39 2000  Jeff Mallatt <jjm@codewell.com>:

	* BUGS, README, TODO:

	Updated for Version 1.10.0 release.

Sun Feb 20 20:45:46 2000  Jeff Mallatt <jjm@codewell.com>:

	* INSTALL, README:

	Added note to INSTALL and README that there may be localized
	versions in the ./doc directory.  Suggested by Egbert Hinzen
	<garfy@ehinzen.de>.

Sun Feb 20 16:19:35 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/dialogs.c:

	Mui client Now sorts the nations in the new nations listview.

Sun Feb 20 14:54:25 2000  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/ReadMe, client/gui-mui/cityrep.c,
	client/gui-mui/dialogs.c, client/gui-mui/gui_main.c,
	client/gui-mui/mapclass.c, client/gui-mui/mapclass.h:

	Mui client Uses now a listview for displaying all the nations and
	display the flag of the current selected nation in the nation
	window.  Minor other changes and fixes.

	Updated amiga/ReadMe in preparation for the next public release.

Sun Feb 20 14:43:38 2000  Jeff Mallatt <jjm@codewell.com>:

	* doc/README.de:

	Update German translation of README file.  Patch submitted by
	Egbert Hinzen <garfy@ehinzen.de>.

Sun Feb 20 14:37:00 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Removed cities that were duplicated within the same nation.  Patch
	submitted by Tomasz Wegrzanowski <maniek@beer.com>.

Sun Feb 20 14:21:47 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/cityrep.c:

	In the GTK+ client, sorting the list by something then selecting
	the top entry then clicking Popup caused garbage to appear in the
	list and maybe a core dump.  Fixes this bug by avoiding the
	remove/putback thing -- just updates the entry in place.  Fixes
	PR#160 and PR#259.  Bug reported by David R. Relyea
	<relyea@slac.stanford.edu> and Enrico Scholz
	<enrico.scholz@informatik.tu-chemnitz.de>.  Patch submitted by
	David Pfitzner <dwp@mso.anu.edu.au>.

Sat Feb 19 09:02:10 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, client/gui-xaw/Freeciv.h,
	common/version.h, data/Freeciv:

	Bump version to 1.9.7-devel (beta) from 1.9.6 (beta).

Sat Feb 19 08:09:35 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, client/gui-xaw/Freeciv.h,
	common/version.h, data/Freeciv, po/de.po, po/en_GB.po, po/es.po,
	po/fr.po, po/hu.po, po/no.po, po/pl.po, po/pt.po, po/pt_BR.po,
	po/ru.po:

	Third and final (hopefully) beta release (1.9.6) leading to
	version 1.10.0.

Sat Feb 19 05:03:16 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/dialogs.c, client/gui-gtk/menu.c,
	client/gui-mui/dialogs.c, client/gui-mui/gui_main.c,
	client/gui-xaw/dialogs.c, client/gui-xaw/menu.c, common/capstr.c,
	common/packets.c:

	Changed capability string to simply "+1.10".  Removed all
	correspondingly obsoleted has_capability() calls.

Sat Feb 19 04:00:45 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/plrdlg.c:

	In the Gtk+ client, the "Spaceship" button in the Players dialog
	doesn't work unless you have an embassy with that player.  In the
	Xaw client you don't need an embassy.

	This patch changes the Gtk+ client to match the Xaw client.

	Reasons:

	- I think this matches Civ1 (don't know about Civ2; actually, to
	match Civ1 more closely should probably get messages for each
	spaceship part build by opponents);

	- Presumably the spaceships are built in orbit, and it would be
	hard to hide the large-scale details of such a construction from
	another player with reasonably high tech;

	- Like wonders, we could say that the construction of interstellar
	spaceships are big enough news to be known all over the world;

	- I suspect the gtk-client behaviour is a cut-and-paste error in
	players_sship_callback compared to players_intel_callback :-)

	Patch submitted by David Pfitzner <dwp@mso.anu.edu.au>.

Sat Feb 19 03:37:16 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/include/freeciv.ico:

	Changed the Freeciv icon to something smaller and simpler.

Sat Feb 19 00:35:05 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/hu.po:

	Updated Hungarian (hu) translation.  Patch submitted by Gabor
	Dukai <dukai@EUnet.yu>.

Fri Feb 18 19:23:17 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/fr.po:

	Update French (fr) translation.  Patch submitted by Philippe Fremy
	<fremy@yalbi.com>.

Thu Feb 17 21:43:33 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Update German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Thu Feb 17 20:21:48 2000  Jeff Mallatt <jjm@codewell.com>:

	* HOWTOPLAY:

	Minor fix to HOWTOPLAY file.  Suggested by Anthony J. Stuckey
	<stuckey@jaka.ece.uiuc.edu>.

Thu Feb 17 19:23:49 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Update German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Thu Feb 17 19:12:26 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Added a few Korean and French leaders.  Added Polish
	Fundamentalism titles.  Patch submitted by Tomasz Wegrzanowski
	<maniek@beer.com>.

Thu Feb 17 18:56:48 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Added the Vietnamese and Thai nations.  Flags already existed. 
	Patch submitted by Tomasz Wegrzanowski <maniek@beer.com>.

Thu Feb 17 18:43:33 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset, data/engels/flags.spec,
	data/engels/flags.xpm, data/misc/shields.spec,
	data/misc/shields.xpm, data/trident/flags.spec,
	data/trident/flags.xpm:

	Added the Dunedain nation, including flags.  Patch submitted by
	Paul Zastoupil <paulz@adnc.com>.

Thu Feb 17 17:58:32 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Adds city names to nations ruleset.  Names suggested by Craig
	Johnston <cjohnston@lycosmail.com> and Eric S. Raymond
	<esr@snark.thyrsus.com>.

Thu Feb 17 16:58:32 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset, data/engels/flags.spec,
	data/engels/flags.xpm, data/misc/shields.spec,
	data/misc/shields.xpm, data/trident/flags.spec,
	data/trident/flags.xpm:

	Added Kenyan nation and flags.  Patch submitted by Robert Brady
	<rwb197@ecs.soton.ac.uk>.

Thu Feb 17 13:57:01 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/misc/shields.spec, data/misc/shields.xpm:

	Added new flags to shields.xpm (and shields.spec).  Patch
	submitted by Falk Hueffner
	<falk.hueffner@student.uni-tuebingen.de>.

Tue Feb 15 16:30:06 2000  Jeff Mallatt <jjm@codewell.com>:

	* INSTALL:

	Updated the ftp reference to the imlib tarball.

Tue Feb 15 15:32:32 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Update German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Tue Feb 15 14:33:04 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-xaw/repodlgs.c, common/shared.c:

	Fixes two i18n bugs: 1. The help toggle in the Science Report
	dialog was not initialized to the localized word; 2. The BC/AD
	tags were not i18n'd.  Bugs reported by Pascal Andoux
	<pascal@yalbinet.com>.

Tue Feb 15 14:21:10 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/game.c, common/game.h, server/barbarian.c,
	server/gamehand.c, server/stdinhand.c, server/unithand.c:

	Provide more control over barbarians.  It does two things:

	- The server option "barbarians" is changed so that 0 means no
	barbarians at all, 1 means barbarians only in huts, 2 is normal, 3
	is more, 4 is lots.

	- A new server option "onsetbarbs" specifies a year before which
	no barbarians will appear.  This lets all civs get going without
	one being so unlucky as to have barbarians pop up and destroy it
	before it even gets started.  I think this will help game balance
	for multi-human games, and will also help newbies get started.

	Complaint registered by Massimo Campostrini
	<campo@mailbox.difi.unipi.it>.

Tue Feb 15 14:09:03 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/plrhand.c:

	Changed demographics report to not include dead civilizations. 
	Bug reported by Tomasz Wegrzanowski <maniek@beer.com>.

Tue Feb 15 14:05:22 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/citytools.c, server/maphand.c, server/maphand.h:

	Fix bug whereby when a city was bribed, the fields around it did
	not become visible.  Bug submitted by Tomasz Wegrzanowski
	<maniek@beer.com>.

Tue Feb 15 13:52:33 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/fr.po:

	Update the French (fr) translation.  Patch submitted by Eric
	Brunet <ebrunet@clipper.ens.fr>.

Mon Feb 14 19:33:44 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* po/pt.po:

	Updated Portuguese (pt) translation.

Mon Feb 14 19:05:59 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/mapview.c:

	fixes for the multiple refreshes bug reported by Karl-Ingo Friese,
	and forwarded by Paul Zastoupil.

	this fix doesn't use global vars and is slightly more generic than
	the one posted earlier: the idea is the same, but instead of using
	that global var, i simply check before issuing an
	update_map_canvas in scrollbar_jump_callback if there were any
	changes in the map_view_[xy]0 position.  If there aren't any i
	don't update the map.

Mon Feb 14 15:03:02 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/no.po:

	Updated Norwegian (no) translation.  Patch submitted by Stig Erik
	Sandoe <stig@ii.uib.no>.

Mon Feb 14 14:47:41 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/mapview.c:

	Speed up the GTK+ client by removing extraneous redraws.  Patch
	submitted by Karl-Ingo Friese <kif@informatik.uni-hannover.de>.

Mon Feb 14 14:19:20 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/unithand.c:

	Fixes bug whereby civil war could create too many players.  This
	was most noticeable when a 15th player caused opening report
	dialogs to crash the clients.  Client crashing bug reported by
	Jorgen Skjaanes <jorgen@gulesider.no>.

Mon Feb 14 14:06:10 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Update German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Mon Feb 14 13:01:05 2000  Jeff Mallatt <jjm@codewell.com>:

	* ai/aiunit.c:

	Keep lone AI diplomats in cities for defense.  Does this by not
	allowing them to try to bribe units outside the city.

Sat Feb 12 10:06:28 2000  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/ReadMe, amiga/_main.c, amiga/smakefile,
	client/gui-mui/dialogs.c, client/gui-mui/worklistclass.c:

	Added support for the new spy options in the Mui client.  Made the
	worklist window a little bit nicer.  Reindented amiga/_main.c.

Fri Feb 11 03:10:35 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, client/gui-xaw/Freeciv.h,
	common/version.h, data/Freeciv:

	Bump version to 1.9.5-devel (beta) from 1.9.4 (beta).

Thu Feb 10 23:55:31 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, client/gui-xaw/Freeciv.h,
	common/version.h, data/Freeciv, po/de.po, po/en_GB.po, po/es.po,
	po/fr.po, po/hu.po, po/no.po, po/pl.po, po/pt.po, po/pt_BR.po,
	po/ru.po:

	Second beta release (1.9.4) leading to version 1.10.0.

Thu Feb 10 20:00:36 2000  Jeff Mallatt <jjm@codewell.com>:

	* ai/aiunit.c:

	Cache bribe cost in unit structure prior to calling unit bribe
	code in ai_manage_diplomat().  Gets rid of "Bribe cost -1 in
	diplomat_bribe by..." messages.

Thu Feb 10 15:23:09 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Update German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Thu Feb 10 14:42:49 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/climisc.c, client/gui-gtk/citydlg.c,
	client/gui-gtk/cityrep.c, client/gui-gtk/mapctrl.c,
	client/gui-gtk/repodlgs.c, client/gui-gtk/wldlg.c,
	client/gui-mui/citydlg.c, client/gui-mui/repodlgs.c,
	client/gui-xaw/citydlg.c, client/gui-xaw/cityrep.c,
	client/gui-xaw/mapctrl.c, client/gui-xaw/repodlgs.c,
	client/gui-xaw/wldlg.c, common/city.c, common/city.h,
	server/cityturn.c:

	Fixes several bugs in worklists:

	* Worklists now purge duplicate improvement targets (thanks,
	Patrick, for pointing this out).  * A fix to many of the 'bad
	string length in packet' errors (the worklist.name field of
	packet_city_request wasn't being initialized properly).  * Fixes
	the two worklist-related crashes you've seen (both stem from an
	off-by-one error letting a bad value sneak into the worklist); *
	Fixes many 'bad string length in packet' errors; * Purges
	improvement targets that can never be built (because they already
	exist in the city, because a wonder exists that obsoletes them, or
	because the city isn't on or adjacent to the right terrain); *
	Purges unit targets that can never be built (because the city
	isn't on the right terrain); * Limits the future targets listed
	for a city worklist to those that a specific city can build -- an
	inland city won't ever get to put a harbor on its worklist.  Also,
	inserted global worklists are screened by the same test as they
	are fed into the worklist for the city.  * Fixes problem when
	auto-upgrading obsolete units.

	Bugs reported by Patrick Schmid <patrick@patrick-s.de> and
	John-Marc Chandonia <jmc@cmpharm.ucsf.edu>.

	Patch submitted by Corin Anderson <corin@the4cs.com>.

Thu Feb 10 14:02:58 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/wldlg.c, client/gui-mui/worklistclass.c,
	client/gui-xaw/wldlg.c:

	Changed references to could_player_build_improvement() outside
	city.c into references to can_player_build_improvement().  First
	step in solving PR#256.  Bug reported by IQ
	<iquin@technologist.com>.

Thu Feb 10 13:16:04 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Update German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Thu Feb 10 12:49:45 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/helpdata.c, ai/advdomestic.c, common/city.c,
	data/helpdata.txt, data/civ2/buildings.ruleset,
	data/civ1/buildings.ruleset, data/default/buildings.ruleset,
	server/citytools.c:

	Added Variant 1 of Michelangelo's Chapel, which (like Civ1)
	doubles the effect of Cathedrals.  Patch submitted by Tomasz
	Wegrzanowski <maniek@beer.com>.

Thu Feb 10 12:33:11 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Removed some titles from names of leaders in nations.ruleset. 
	Patch submitted by Tomasz Wegrzanowski <maniek@beer.com>.

Thu Feb 10 12:25:58 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/plrhand.c:

	Force all barbarian players to be of the barbarian nation in
	player_load().  This is so that adding nations to nation.ruleset,
	which shifts the ID of the barbarian nation, won't result in
	barbarians loaded from old save files showing up in the guise of
	one of these new nations.

Thu Feb 10 12:18:24 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/unithand.c:

	When building a spaceship and capital was taken, spaceship was
	destroyed only if it had been launched.  This changes the server
	so that a spaceship is destroyed if is has been launched or is
	under construction.

Thu Feb 10 12:12:20 2000  Jeff Mallatt <jjm@codewell.com>:

	* ai/aiunit.c:

	Check if unit still exists after ai_manage_explorer() call in
	ai_military_attack().  Patch submitted by Markus Linnala
	<maage@cs.tut.fi>.

Thu Feb 10 12:06:31 2000  Jeff Mallatt <jjm@codewell.com>:

	* ai/aiunit.c:

	Made ai_manage_unit() more robust by adding returns after each
	sub-call.

Sun Feb  6 02:45:10 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/unitfunc.c:

	Ensure that squares where Partisans are created are visible to the
	player owning the Partisans.  Fixes bug (PR#253) reported by Jez
	Bromley <jmb65@cam.ac.uk>.

Sun Feb  6 02:36:59 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/citydlg.c:

	Avoid non-constant initializer for dummy_improvement_list[0] in
	create_city_dialog().

Sat Feb  5 13:22:40 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Added Ukrainian and Lithuanian nations.  Minor fixes to
	nations.ruleset.  Patch submitted by Tomasz Wegrzanowski
	<maniek@beer.com>.

Sat Feb  5 13:11:15 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/engels/flags.spec, data/engels/flags.xpm,
	data/trident/flags.spec, data/trident/flags.xpm:

	Added Lithuanian flag to Trident and Engels tilesets.  Patch
	submitted by Tomasz Wegrzanowski <maniek@beer.com>.

Sat Feb  5 12:45:11 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/dialogs.c, client/gui-xaw/dialogs.c:

	Changed Select Nation dialog in Xaw and Gtk clients to be 4
	columns wide.

Sat Feb  5 12:30:34 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/citydlg.c, client/gui-gtk/cityrep.c:

	Added a couple double-click responses to GTK+ client: - City
	Report will Popup the City Dialog of the double-clicked city.  -
	Change Production will select the double-clicked item.  Patch
	submitted by Daniel Burrows <Daniel_Burrows@brown.edu>.

Fri Feb  4 14:54:00 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Updated German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Fri Feb  4 13:08:54 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* po/no.po:

	Updated no.po; patch submitted by Stig Erik Sandoe
	<stig@ii.uib.no>.

Fri Feb  4 12:53:50 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* po/es.po:

	Some fixes to es.po, mainly for c-format problems indicated by
	check_po.pl; patch submitted by Paul Zastoupil <paulz@adnc.com>.

Fri Feb  4 12:25:43 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* po/check_po.pl:

	Added script check_po.pl, which does some checks on po files.

Wed Feb  2 21:30:40 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, client/gui-xaw/Freeciv.h,
	common/version.h, data/Freeciv:

	Bump version to 1.9.3-devel (beta) from 1.9.2 (beta).

Wed Feb  2 20:19:42 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, client/gui-xaw/Freeciv.h,
	common/version.h, data/Freeciv, po/de.po, po/en_GB.po, po/es.po,
	po/fr.po, po/hu.po, po/no.po, po/pl.po, po/pt.po, po/pt_BR.po,
	po/ru.po:

	Begin beta-test period leading to version 1.10.0: - Changed
	version to 1.9.2 (beta).  - Ran msgmerge on all .po files (normal
	part of 'make dist').

Wed Feb  2 19:32:38 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/include/Makefile.am, client/include/Makefile.in:

	Added missing wldlg_g.h to noinst_HEADERS in
	client/include/Makefile.am.

Wed Feb  2 19:30:02 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-beos/Makefile.am, client/gui-beos/Makefile.in,
	client/gui-win32/Makefile.am, client/gui-win32/Makefile.in:

	Commented-out the "noinst_LIBRARIES = libguiclient.a" in BeOS and
	Win32 Makefile.am's, until such time as their ports are ready. 
	(Leaving it in disrupted making distributions.)

Wed Feb  2 17:25:45 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Update German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Wed Feb  2 17:06:19 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/player.c, common/player.h, server/civserver.c:

	Allow for more flexibile setting of initial rates: - set start
	rates according to real max_rates - if tax==lux and must reduce
	sci, surplus will go to tax, not lux - if sci==lux and must reduce
	tax, surplus will go to sci, not lux Patch submitted by Tomasz
	Wegrzanowski <maniek@beer.com>.

Wed Feb  2 16:31:07 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Removes two duplicated Finnish city names.  Patch submitted by
	Mika Korhonen <mikak@ee.oulu.fi>.

Wed Feb  2 15:36:29 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/city.c, common/city.h, server/cityturn.c:

	Fixes problems in rapture-triggered city growth.

	The change made on Jan 18 to not empty the food stock during
	rapture-triggeted city growth didn't work, and also introduced
	several other bugs, e.g., the code for rapture tracking is broken
	because city size is increased too early; city could grow and then
	starve during the same turn because the food stock is still
	emptied and the code for checking it is executed twice.

	This patch fixes the above problems by changing city_populate()
	and city_increase_size() to include the case of "rapture growth". 
	It also added a small function city_rapture_grow() in city.c to
	make things easier.  Now everything should work as advertised. 
	The food stock is no longer emptied for rapture-triggered growth.

	Patch submitted by Mike Jing <miky40@hotmail.com>.

Wed Feb  2 14:16:14 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/city.c, server/cityturn.c:

	Removed the bug/feature whereby a city with zero shield surplus
	was given a "free" shield each turn.

	As a related move, I also changed the "if" condition used to check
	for the need to disband units due to lack of shields for upkeep to
	a "while" loop, which means as many units will be disbanded as
	necessary in order to restore the shield surplus of the city to at
	least zero.  Previously, only one unit would be disbanded in this
	situation, and you get a free shield surplus even if it's actually
	still a deficit.

	Patch submitted by Mike Jing <miky40@hotmail.com>.

Wed Feb  2 13:48:15 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/citydlg.c, client/gui-gtk/wldlg.c,
	client/gui-xaw/Freeciv.h, client/gui-xaw/citydlg.c,
	client/gui-xaw/wldlg.c, common/worklist.c, common/worklist.h,
	data/Freeciv, server/cityhand.c, server/cityturn.c:

	Fix a few bugs with worklists and one other minor bug:

	(worklist) * If a city can't build a worklist target because the
	tech isn't available, then the target is -postponed- instead of
	purged.  Nothing fancy here -- I don't check each turn to see if
	the tech is now available, or stuff like that.  * When you prepend
	an item, the Delete, Up, and Down buttons are now enabled.  * If
	you put a future-available target at the head of a city's
	worklist, the city now simply postpones that item and proceeds to
	the next available item (or keeps building its current item if the
	entire worklist is presently unavailable).  This fix should remedy
	PR#234.  * If you resize the worklist editor or worklist report
	dialog, the widgets should behave correctly now.

	(non-worklist) * If a city can't build settlers because the city
	is too small, the message is now sent as an E_CITY_CANTBUILD
	event, instead of E_NOEVENT.

	Patch submitted by Corin Anderson <corin@the4cs.com>.

Tue Feb  1 20:51:27 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/cityrepdata.c, client/options.c, client/options.h,
	client/gui-gtk/citydlg.c, client/gui-xaw/Freeciv.h,
	client/gui-xaw/citydlg.c, data/Freeciv:

	Adds the "concise city production" option, which causes turns to
	build to be displayed more concisely.  For thr Xaw client, this
	results in a smaller dialog box.  Patch submitted by IQ
	<iquin@technologist.com>.

Tue Feb  1 13:26:01 2000  Jeff Mallatt <jjm@codewell.com>:

	* ai/aiunit.c:

	Fixes core dumps in new ai_manage_diplomat(), which happend when a
	diplomat was destroyed trying to do something in an enemy city.

Tue Feb  1 12:47:17 2000  Jeff Mallatt <jjm@codewell.com>:

	* ai/aiunit.c:

	Patch to get rid of "uninitialized use" warning in
	ai_manage_diplomat().

Tue Feb  1 01:43:01 2000  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* ai/aiunit.c, server/unittools.c, server/unittools.h:

	New function ai_manage_diplomat().  allows AI diplomats to perform
	some functions.  Specifically, establish embassies, bribe units
	and cities, and steal technology.  Embassies are not referenced in
	any other code at this time, the other effects are immediately
	useful.  Mutated unused, true/false function diplomat_on_tile() to
	integer count_diplomats_on_tile().  Side effects: 
	diplomat_bribe() sometimes called without incite costs having been
	properly prepared,  resulting in a spurious error message. 
	Subverting a city may cause the AI to experience more upkeep cost
	than it planned, leading to emergency sale of city improvements. 
	Patch submitted by AJS.  (stuckey@jaka.ece.uiuc.edu)

Mon Jan 31 17:17:34 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Added a few new German and Polish leaders.  Patch submitted by
	Tomasz Wegrzanowski <maniek@beer.com>.

Mon Jan 31 17:09:59 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/unithand.c:

	Added "and research" to notification of establishment of trade
	route.  Change suggested by Daniel Zinsli <s830+priv@ii.uib.no>.

Mon Jan 31 17:04:36 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/mapgen.c:

	Fixes what looks like a typo bug in map generator 1 that makes the
	distribution of hills/mountains unbalanced between the northern
	and southern hemispheres.  Patch submitted by Corin Anderson
	<corin@the4cs.com>.

Sun Jan 30 14:53:25 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/unitfunc.c:

	Fixed minor bugs where wrong variable was being referenced in
	diplomat/ spy handling code.

Sun Jan 30 12:12:43 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/mapclass.c, client/gui-mui/mapclass.h,
	client/gui-mui/mapview.c:

	Added unit explosion support in the Mui Client.

Sat Jan 29 23:07:06 2000  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/smakefile, client/gui-mui/citydlg.c,
	client/gui-mui/cityrep.c, client/gui-mui/dialogs.c,
	client/gui-mui/gui_main.c, client/gui-mui/gui_main.h,
	client/gui-mui/wldlg.c, client/gui-mui/wldlg.h,
	client/gui-mui/worklistclass.c, client/gui-mui/worklistclass.h:

	Added worklist support in the Mui Client.

Sat Jan 29 13:10:45 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/government.c:

	Clean up a couple of functions in government.c.  Patch submitted
	by Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>.

Sat Jan 29 12:40:18 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-mui/citydlg.c, common/city.c:

	Fixes city_turns_to_build() to consider the 1 shield given to
	cities that are not in disorder, but have a zero shield surplus. 
	Removes duplicate city_turns_to_build() from gui-mui code. 
	Addresses PR#238.  Patch submitted by Mike Jing
	<miky40@hotmail.com>.

Sat Jan 29 11:59:22 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/mapgen.c:

	Reduce tendency of map generators 2+ to create single tile rivers
	at the coast-lines.  Patch submitted by IQ
	<iquin@technologist.com>.

Sat Jan 29 11:08:12 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Update German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Fri Jan 28 16:38:42 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Fixed bug in Canadian nation: its plural was not marked
	"?plural:".  Bug reported by Egbert Hinzen <garfy@ehinzen.de>.

Fri Jan 28 14:38:37 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/civclient.c, client/gui-gtk/gui_main.c,
	client/gui-mui/gui_main.c, client/gui-xaw/Freeciv.h,
	client/gui-xaw/gui_main.c, common/shared.c, data/Freeciv,
	server/civserver.c:

	Clean-up of command-line parsing.  Mostly in the clients: moves
	gui- independent code from gui-*/gui_main.c to civclient.c.  Patch
	submitted by Per I. Mathisen <Per.Inge.Mathisen@idi.ntnu.no>.

Fri Jan 28 14:14:14 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Update of German (de) translation.  Patch submitted by Egbert
	Hinzen <garfy@ehinzen.de>.

Fri Jan 28 14:07:28 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-xaw/Freeciv.h, client/gui-xaw/dialogs.c,
	data/Freeciv:

	Fixed bug whereby Wonders of the World, Top Five Cities, and
	Demographics dialogs' "Close" buttons were not being translated in
	the Xaw client.  Bug reported by Egbert Hinzen <garfy@ehinzen.de>.

Fri Jan 28 13:55:44 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Fixed a number of misspelled references to techs and governments
	in nations.ruleset.

Fri Jan 28 13:33:35 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Added Canadian nation.  Patch submitted by Jason Todd
	<idjason@home.com>, with additions by Sean Connor
	<sec@konatsu.dhs.org>.

Fri Jan 28 00:19:05 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* po/pt.po:

	updated the portuguese translation.

Thu Jan 27 22:35:47 2000  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* server/unithand.c:

	Caravans provide a research benefit when initially establishing a
	trade route.  Patch submitted by AJS. (stuckey@jaka.ece.uiuc.edu)

Thu Jan 27 22:23:30 2000  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* data/default/nations.ruleset:

	Additional information for Israeli nation.  Provided by Elik
	Eizenberg <elikez@yahoo.com>.

Wed Jan 26 14:39:57 2000  Jeff Mallatt <jjm@codewell.com>:

	* acconfig.h, config.h.in, configure, configure.in,
	client/gui-gtk/connectdlg.c, client/gui-xaw/Freeciv.h,
	client/gui-xaw/connectdlg.c, common/Makefile.am,
	common/Makefile.in, common/shared.h, common/version.c,
	common/version.h, data/Freeciv, data/helpdata.txt, po/POTFILES.in,
	server/civserver.c, server/meta.h:

	Rearrange the version information into fewer files.

Wed Jan 26 01:05:46 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/options.c, client/gui-xaw/Freeciv.h,
	client/gui-xaw/optiondlg.c, data/Freeciv:

	Removed the resources in data/Freeciv for the local options, so
	that data/Freeciv doesn't need to be adjusted when options are
	added or removed in client/options.[ch].  Now the widget labels,
	fromHoriz, and fromVert are done in the code.

	Also sort message options display based on translated strings,
	rather than on English strings.

Wed Jan 26 01:03:27 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/genlist.c, common/genlist.h:

	Added comments to the genlist code, and fixed some minor problems:

	- find_genlist_position() would break for pos<-1; now it returns
	null_link as in other out-of-bounds cases.

	- genlist_insert() was broken for pos other than 0 or -1.  (But
	existing Freeciv code only ever uses genlist_insert() with pos of
	0 or -1.)  Fixed, and also made sure pos out of range does
	something sensible (treats as -1).

Wed Jan 26 01:00:35 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/barbarian.c:

	Slightly nicer method of calculating x and y offsets, and handling
	north and south poles, in rand_neighbour().

Tue Jan 25 22:31:17 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Update German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Tue Jan 25 22:16:46 2000  Jeff Mallatt <jjm@codewell.com>:

	* INSTALL:

	Improve the explanation of the --prefix configure option in
	INSTALL.  Patch submitted by Greg Wooledge <wooledge@kellnet.com>.

Tue Jan 25 21:50:04 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/cityturn.c, server/diplhand.c, server/plrhand.c,
	server/plrhand.h, server/unitfunc.c, server/unithand.c:

	Clean up of the way a player receives a new technology.

	There are several different ways of getting a new tech.  A lot of
	stuff has to be done for each one - checking if city squares need
	to be upgraded to rails, incrementing researchpoints, checking if
	a different tech needs to be researched, and so on.  I have pulled
	most of this into one function, and cleared up a couple of very
	small bugs on the way. (Other players with embassies not being
	informed when tech is stolen by capture, for instance).

	I have also provided a function notify_embassies(), to handle the
	job of notifying players who have embassies with a given player of
	things that have happened.

	Patch submitted by Andrew McGuinness
	<andrew_mcguinness@bigfoot.com>.

Tue Jan 25 16:53:25 2000  Jeff Mallatt <jjm@codewell.com>:

	* README.graphics:

	Clarification of "explode." prefix.  Patch submitted by Falk
	Hueffner <falk.hueffner@student.uni-tuebingen.de>.

Tue Jan 25 16:19:23 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/es.po:

	Update of Spanish (es) translation.  Patch submitted by Paul
	Zastoupil <paulz@adnc.com>.

Tue Jan 25 16:03:06 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Fixed a minor problem with nations.ruleset, introduced by the
	recent patch.

Tue Jan 25 15:42:43 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/no.po:

	Update Norwegian (no) translation.  Patch submitted by Stig Erik
	Sandoe <stig@ii.uib.no>.  Contributions from Jorgen Skjaanes.

Tue Jan 25 15:28:25 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/en_GB.po:

	Update the British (en_GB) translation.  Patch submitted by Robert
	Brady <rwb197@ecs.soton.ac.uk>.

Tue Jan 25 15:14:23 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset, data/engels/flags.spec,
	data/engels/flags.xpm, data/misc/shields.spec,
	data/misc/shields.xpm, data/trident/flags.spec,
	data/trident/flags.xpm:

	Adds more nations and flags.  Nations and Flags: * Welsh * Koreans
	* Scottish * Israelis * Argentines Flags: * European Union *
	Canada * Ireland * Belgium * Iceland * Pakistan * Greenland *
	Austria * the United Nations * NATO * Vietnam * Thailand * The
	Olympic movement * The Kingdom of Elgaland and Vargaland.  Patch
	submitted by Robert Brady <rwb197@ecs.soton.ac.uk>.

Mon Jan 24 00:04:55 2000  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* po/pt.po:

	* fixed a couple of errors * corrected most "fuzzy" strings *
	translated a couple more strings

Sun Jan 23 20:30:35 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/citytools.c:

	Fixes bug whereby player would not get a settler by disbanding a
	city.  Fixes a minor bug in which a test for NULL was done after a
	dereference.

Sun Jan 23 13:16:44 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Update of German (de) translation.  Patch submitted by Egbert
	Hinzen <garfy@ehinzen.de>.

Sun Jan 23 03:13:12 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/citydlg.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/mapview.c, client/gui-xaw/citydlg.c,
	client/gui-xaw/dialogs.c, client/gui-xaw/mapview.c:

	Remove unnecessary instances of "extern int flags_are_transparent"
	(already appears in tilespec.h).

Sun Jan 23 02:58:55 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/tilespec.c:

	Avoid "calloc with size 0" warning for tilesets with no
	explode.unit graphics.

Sun Jan 23 02:50:51 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/Freeciv.h, data/Freeciv:

	Fix Xaw resources for Local Options for do_combat_animation.

Sun Jan 23 02:33:09 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/city.c:

	In can_player_eventually_build_unit(), use unit_type_exists()
	instead of equivalent code, and check 'exists' before
	'obsolete_by'.

Sun Jan 23 02:32:23 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/barbarian.c, server/barbarian.h:

	Minor fixes to includes.

Sat Jan 22 19:30:13 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Updated German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Sat Jan 22 19:21:06 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-xaw/Freeciv.h, data/Freeciv, po/POTFILES.in:

	Minor clean-up for i18n: - Marked a couple of strings in
	data/Freeciv.  - Added a few files to po/POTFILES.in.

Sat Jan 22 18:20:56 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/es.po:

	Update to Spanish (es) translation.  Patch submitted by Paul
	Zastoupil <paulz@adnc.com>.

Sat Jan 22 17:14:11 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/support.c:

	Fixed myusleep() to use its usec argument in the Macintosh and
	default configurations.

Sat Jan 22 17:00:27 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/options.c, client/options.h, client/tilespec.c,
	client/tilespec.h, client/gui-gtk/mapview.c,
	client/gui-xaw/mapview.c, common/timing.c, common/timing.h,
	data/engels.tilespec, data/engels_shields.tilespec,
	data/trident.tilespec, data/trident_shields.tilespec,
	data/engels/Makefile.am, data/engels/Makefile.in,
	data/engels/explosions.spec, data/engels/explosions.xpm,
	data/trident/Makefile.am, data/trident/Makefile.in,
	data/trident/explosions.spec, data/trident/explosions.xpm:

	Added an explosion animation for when a unit is killed.  Patch
	submitted by Falk Hueffner
	<falk.hueffner@student.uni-tuebingen.de>.

Fri Jan 21 22:18:58 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Added many Norwegian city names for Vikings nation.  Removed many
	Swedish city names from Vikings nation.  Added a few Swedish city
	names for Swedish nation.  Patch submitted by Tobias Brox
	<tobix@irctos.org>.

Fri Jan 21 02:33:20 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/wldlg.c, client/gui-xaw/wldlg.c:

	Fixes bug causing core dumps when inserting items in worklists. 
	Bug reported by Tobias Brox <tobix@irctos.org>.  Fix submitted by
	Corin Anderson <corin@the4cs.com>.

Wed Jan 19 20:49:44 2000  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* ai/aiunit.c:

	Combine reinforcements_cost and reinforcements_value into a new
	function, city_reinforcements_cost_and_value().  Patch submitted
	by AJS.

Wed Jan 19 18:42:11 2000  Jeff Mallatt <jjm@codewell.com>:

	* ai/aiunit.c, server/barbarian.c, server/gotohand.c,
	server/unitfunc.c, server/unithand.c, server/unithand.h,
	server/unittools.c, server/unittools.h:

	Fixed bug whereby barbarians unleashed by entering a hut when the
	hut is nearly surrounded resulted in a server hang.  Bug reported
	by Falk Hueffner <falk.hueffner@student.uni-tuebingen.de>.

Wed Jan 19 18:28:15 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/dialogs.c, client/gui-xaw/dialogs.c,
	common/capstr.c, common/city.h, common/game.h, common/unit.c,
	server/citytools.c, server/cityturn.c, server/diplhand.c,
	server/gamehand.c, server/stdinhand.c, server/unitfunc.c,
	server/unitfunc.h, server/unithand.c, server/unittools.c:

	Cleanup/reimplementation of the Diplomat/Spy code, in an effort to
	make it more closely compliant with Civ2: - Changed all
	Diplomat/Spy actions to more closely conform to Civ2 rules.  -
	Changed "diplchance" to be %-chance of success.  Used in many
	ways.  - Diplomat/Spy may attempt action with any movement left. 
	- Added "At Spy's Discretion" selection to steal tech and sabotage
	dialogs.  - Allow Spies to steal tech from a city more than once
	(gets harder).  - May only poison towns of size > 1.  - May only
	sabotage units that are alone on a square.  - When a city is
	subverted, only nearby units change sides.  - Veteran status
	improves Diplomat/Spy defense against other Dipl/Spies.  - Changed
	interpretation of kill_outside arg to transfer_city_units() to be
	the radius outside which supported units are killed (-1 == none).

Wed Jan 19 17:43:03 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/cityrepdata.c, client/gui-gtk/citydlg.c,
	client/gui-gtk/cityrep.c, client/gui-xaw/Freeciv.h,
	client/gui-xaw/citydlg.c, client/gui-xaw/cityrep.c, common/city.c,
	common/city.h, data/Freeciv:

	Implement a display of number of turns remaining to build current
	(or potential) improvement in City dialog, Change Production
	dialog and City Report dialog.  Patch submitted by Daniel Zinsli
	<s830+priv@ii.uib.no> and Sebastian Bauer <sebauer@t-online.de>.

Wed Jan 19 16:33:14 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/cityrepdata.c, client/options.c, client/packhand.c,
	client/gui-gtk/Makefile.am, client/gui-gtk/Makefile.in,
	client/gui-gtk/citydlg.c, client/gui-gtk/menu.c,
	client/gui-gtk/wldlg.c, client/gui-gtk/wldlg.h,
	client/gui-xaw/Freeciv.h, client/gui-xaw/Makefile.am,
	client/gui-xaw/Makefile.in, client/gui-xaw/actions.c,
	client/gui-xaw/citydlg.c, client/gui-xaw/menu.c,
	client/gui-xaw/menu.h, client/gui-xaw/wldlg.c,
	client/gui-xaw/wldlg.h, client/include/wldlg_g.h,
	common/Makefile.am, common/Makefile.in, common/capstr.c,
	common/city.c, common/city.h, common/events.h, common/game.c,
	common/game.h, common/packets.c, common/packets.h,
	common/player.c, common/player.h, common/registry.c,
	common/worklist.c, common/worklist.h, data/Freeciv,
	server/cityhand.c, server/cityhand.h, server/cityturn.c,
	server/cityturn.h, server/civserver.c, server/plrhand.c,
	server/plrhand.h:

	Implemented worklists.  Players may specify a list of improvements
	to be built in each city.  Patch submitted by Corin Anderson
	<corin@the4cs.com>.

Tue Jan 18 19:48:06 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Add more leader and city names for the Chinese nation.  Patch
	submitted by Mike Jing <miky40@hotmail.com>.

Tue Jan 18 19:42:50 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/Makefile.am, data/Makefile.in,
	data/engels_shields.tilespec, data/trident_shields.tilespec,
	data/misc/Makefile.am, data/misc/Makefile.in,
	data/misc/chiefs.spec, data/misc/chiefs.xpm,
	data/misc/shields.spec, data/misc/shields.xpm,
	data/trident/Makefile.am, data/trident/Makefile.in,
	data/trident/auto_ll.spec, data/trident/tiles.xpm:

	Adds an alternative set of "flags": small and shield-like (similar
	to Civ2 shape, but containing the flag).  Moves the hit-point bars
	and all city style occupied flags to the chief position of the
	shields.  Patch submitted by Falk Hueffner
	<falk.hueffner@student.uni-tuebingen.de>.

Tue Jan 18 19:10:40 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/packhand.c, client/gui-xaw/gui_main.c,
	server/civserver.c:

	In handle_turn_done() in server/civserver.c the announcement of a
	client indicating "turn done" was sent for each "turn done",
	except the last one.  This changes handle_turn_done() to send
	announcements for all "turn done"s.  Also, now that the last
	client will receive its announcement, fixed a bug in the Xaw
	client where the "Turn Done" button kept flashing after it was
	clicked.

Tue Jan 18 18:32:49 2000  Jeff Mallatt <jjm@codewell.com>:

	* README:

	Update README to reflect recent changes in server commands.

Tue Jan 18 18:28:10 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/unitfunc.c, server/unittools.c:

	Changed to make more like Civ2:  1. Ground units can attack Air
	units when they are parked on an Airbase.  2. Units are defeated
	only singly when on an Airbase, just like when in a Fortress.

Tue Jan 18 18:08:55 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/cityturn.c:

	Changed rapture-triggered city growth to not empty the foodbox. 
	This conforms to Civ2.  Bug reported by Mike Webb
	<mjw@codewell.com>.

Thu Jan 13 20:57:46 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/civserver.c:

	Changed so killing the last Barbarian doesn't end a single-player
	game.  Fixes PR#230.  Bug reported by Reinier Post
	<reinpost@win.tue.nl>.

Thu Jan 13 16:57:48 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/game.c, server/plrhand.c:

	Fix the calculation of player.score.techout (needed to remove the
	science bonus of 1 bulb per city per turn, as was done for 1.9.0).
	Also removed the extra "1+" in the denominator in the calculation
	of the percentage because I think that'll give the correct result,
	and AFAICS research_time() should not and could not be zero or
	negative anyway.  Fixes PR#229.  Patch submitted by Mike Jing
	<miky40@hotmail.com>.

Thu Jan 13 11:59:33 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* README.graphics, client/tilespec.c, common/registry.c,
	common/registry.h, data/engels.tilespec, data/trident.tilespec:

	Extend "tilespec" system to allow duplicate tags, to allow
	convenient overriding of individual graphics without having to
	change base spec files.  For duplicated tags, the last appearing
	tag applies ("last" in terms of order of specified files in
	toplevel tilespec file, and within each file).  Toplevel tilespec
	files can add tag "+duplicates_ok" to options list to require this
	capability.

Thu Jan 13 10:25:54 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/packhand.c, server/plrhand.c:

	Fixed bug (PR#228) that tile.worked data could become incorrect
	when loading savegames, due to set_worker_city() using the
	pre-existing values in pcity->city_map.  This could result in a
	tile becoming worked by multiple cities.  Also added related fix
	in packhand.c, and minimal fix when loading savegames to handle
	games previously affected by this bug.

Wed Jan 12 20:08:04 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-xaw/Freeciv.h, data/Freeciv:

	A few minor color changes to Intelligence and Diplomatic Meeting
	dialogs.

Wed Jan 12 17:46:11 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/fr.po:

	Minor fixes to the French (fr) translation.  Patch submitted by
	Philippe Fremy <fremy@yalbi.com>.

Wed Jan 12 17:01:29 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/government.c, common/player.c, common/player.h,
	server/citytools.c, server/plrhand.c:

	Rates settings changes: - Changes default science rate to 60%.  -
	Sets science to maximum possible, without changing luxuries, after
	revolution.  - Cleans up the code.  Patches for first two
	submitted by Greg Wooledge <wooledge@kellnet.com>.

Tue Jan 11 21:26:58 2000  Jeff Mallatt <jjm@codewell.com>:

	* data/trident/cities.xpm:

	Fix a couple City Walls icons in trident/cities.xpm that were
	misaligned.

Tue Jan 11 10:44:10 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/no.po:

	Updated the Norwegian (no) translation.  Patch submitted by Stig
	Erik Sandoe <stig@ii.uib.no> and Per I. Mathisen
	<permath@ifi.ntnu.no>.

Tue Jan 11 10:14:36 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/fr.po:

	Updated French (fr) translation.  Patch submitted by Philippe
	Fremy <fremy@yalbi.com>.

Sat Jan  8 14:33:43 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/unithand.c:

	Removed a seemingly needless abort() call, which was causing the
	server to crash.

	When an AI-controlled boat that is carrying another unit tries to
	attack an enemy, the server will abort().  While this strategy
	might not always be a good idea, crashing the server just makes
	the AI in question look like a sore loser.

	This patch fixes the problem, allowing the attack to proceed.  I'm
	not sure why the warning comment from Syela is there; this seems
	to indicate there used to be a bug where a boat thought it was
	carrying a unit from a different position?

	Bug reported by Anthony J. Stuckey <stuckey@jaka.ece.uiuc.edu> and
	John-Marc Chandonia <jmc@cmpharm.ucsf.edu>.

	Patch submitted by John-Marc Chandonia <jmc@cmpharm.ucsf.edu>.

Sat Jan  8 13:58:05 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/government.c, common/government.h:

	Cleanup of government flag and hint enum use.  *
	common/government.c (government_flag_from_str): use G_FIRST_FLAG
	(government_has_flag): same (government_hint_from_str): use
	G_FIRST_HINT (government_has_hint): same, and fix assert *
	common/government.h (G_FIRST_FLAG), (G_FIRST_HINT): set symbolic
	values Patch submitted by Markus Linnala <maage@cs.tut.fi>.

Sat Jan  8 13:29:09 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/maphand.c, server/maphand.h:

	Cleanup of relight_square_if_known() function.  *
	server/maphand.h, server/maphand.c (relight_square_if_known):
	remove unnecessary parameter Patch submitted by Markus Linnala
	<maage@cs.tut.fi>.

Fri Jan  7 20:38:55 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/stdinhand.c:

	Fixed bug where show_help_option() was not calling gettext() on
	the "extra" help string.

Fri Jan  7 20:31:32 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Updated German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Fri Jan  7 02:12:29 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/tech.c:

	Now moving the "Farmland" flag name to be last to correspond with
	moving the TF_FARMLAND flag to be last (Arrggghhh!).

Fri Jan  7 02:04:45 2000  Jeff Mallatt <jjm@codewell.com>:

	* common/tech.h:

	Moved TF_FARMLAND to be last in enum of flags, so older
	clients/servers aren't confused.  Bug reported by David Pfitzner
	<dwp@mso.anu.edu.au>.

Thu Jan  6 16:04:58 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/stdinhand.c:

	Fixed a couple of argument errors to cmd_erply() in stdinhand.c.

Wed Jan  5 18:02:30 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/meta.c:

	Replaced use of perror() with freelog() and mystrerror().

Wed Jan  5 17:49:24 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in:

	Fix to keep config.h from being changed spuriously on all
	platforms except BeOS.  Addresses PR#222.  Bug reported by David
	Pfitzner <dwp@mso.anu.edu.au>.

Wed Jan  5 17:39:51 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/helpdata.c, ai/advdomestic.c, client/gui-gtk/menu.c,
	client/gui-xaw/menu.c, client/gui-mui/gui_main.c,
	client/gui-mui/mapclass.c, data/civ1/techs.ruleset, common/city.c,
	common/map.c, common/tech.c, common/tech.h, common/unit.c,
	data/default/techs.ruleset, data/civ2/techs.ruleset,
	server/citytools.c, server/settlers.c:

	Added "Farmland"/TF_FARMLAND techs ruleset flag.  Tests for
	building farmland were changed from depending upon B_SUPERMARKET
	to depending upon TF_FARMLAND.  Farmland is now similar to
	Railroad.

Wed Jan  5 15:26:06 2000  Jeff Mallatt <jjm@codewell.com>:

	* doc/INSTALL.de, doc/Makefile.am, doc/Makefile.in:

	Added German translation of INSTALL file.  Translation provided by
	Jens Georg <jgeorg@ldknet.org>.

Wed Jan  5 11:55:36 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/player.c, common/player.h, server/console.c,
	server/stdinhand.c:

	Revise and improve the server 'help' command, to allow: - an
	introductory help text ('help'); - more detailed help on
	individual server commands ('help <command>'); - brief listing of
	all (available) commands ('help commands').  - fold in 'explain'
	functionality ('help options' and 'help <option>').  Help argument
	can be abbreviated; 'explain' still exists for backward
	compatibility.

	Also fixes a hole that clients could previoulsy obtain values of
	options they shouldn't have (eg, rand seeds) via 'show' and
	'explain'; now use new function may_view_option().

	Lists of commands and options supplied to clients are now
	restricted to those the client is likely to be interested in, as a
	convenience.  Detailed help is still available on other
	commands/options if the client player knows the command/option
	name to ask for.

	Other minor changes: - add farewell message to quit_game(), and
	change exit result to 0; - in show, move string values from
	(min,max) column to value column; - add some const and static
	qualifiers.

Wed Jan  5 11:45:52 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c:

	Use cmd_reply_prefix() to simplify some code in explain_option(),
	and do auto-linewrap and auto-indent of option descriptions.  Ie,
	remove (most) hand-formating of descriptions, and instead format
	automatically.  (Also fix description for spacerace option, which
	was out of date re AI.)

Wed Jan  5 11:42:49 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/plrhand.c, server/plrhand.h, server/stdinhand.c:

	Enhance cmd_reply() to handle multiple lines, and add
	cmd_reply_prefix() which adds a prefix to lines after the first. 
	(Also const-qualify some args of notify_player() etc.)

Wed Jan  5 11:40:50 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/shared.c, server/stdinhand.c:

	Modify match_prefix() so max_len_name==0 means no max; use
	match_prefix() instead of "by hand" code in command_named() and
	lookup_option(); in show_command(), for an ambiguous option prefix
	show all matches.

Wed Jan  5 11:39:24 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/options.c, client/options.h, client/tilespec.c,
	client/tilespec.h, client/gui-mui/citydlg.c,
	client/gui-mui/dialogs.c, client/gui-mui/mapclass.c,
	client/gui-xaw/Freeciv.h, data/Freeciv:

	Remove client user option for "flags are transparent", intead
	reading value from tilespec file.

Wed Jan  5 11:36:08 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/climisc.c:

	Change client-continents scheme to allow more continents (avoid
	"ran out of continent numbers in client") and add more comments.

Mon Jan  3 13:48:00 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Updated German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Sun Jan  2 19:35:36 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/mapgen.c:

	Minor bugfix to map generators 2,3,4 in routine makeisland(). 
	Patch submitted by IQ <iquin@technologist.com>.

Sun Jan  2 19:13:39 2000  Jeff Mallatt <jjm@codewell.com>:

	* ai/advmilitary.c:

	Avoid divide-by-zero in process_defender_want().  May fix PR#218. 
	Patch supplied by Markus Linnala <maage@cs.tut.fi>.

Sun Jan  2 18:35:07 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/graphics.c, client/gui-xaw/graphics.c,
	common/shared.c, common/shared.h, data/misc/intro.xpm,
	data/misc/radar.xpm:

	New Freeciv intro graphics, for both main map and overview map. 
	Also, the Freeciv motto is now drawn onto the main intro graphic
	at run-time, so it may be internationalized.  Graphics by Marco
	Saupe <msaupe@saale-net.de>.

Sun Jan  2 18:17:31 2000  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Updated German (de) translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Sun Jan  2 17:45:37 2000  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/dialogs.c, client/gui-mui/gui_main.c,
	client/gui-mui/gui_main.h, client/gui-mui/mapclass.c,
	common/tech.c:

	Use BOOL_VAL in two more places (common/tech.c and
	client/gui-mui/mapclass.c).  Minor cleanup in
	client/gui-mui/mapclass.c.  Support for the connect feature in the
	Mui client added (Pulldown and Context Menu)

Sun Jan  2 14:05:50 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/unithand.c:

	Changed computation of moves left after ships attack, to conform
	more closely to Civ2.  Patch submitted by Greg Wooledge
	<wooledge@kellnet.com>.

Sun Jan  2 11:55:24 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/cityrepdata.c, client/clinet.c, client/clinet.h,
	client/control.c, client/helpdata.c, client/options.c,
	client/packhand.c, client/tilespec.c, client/gui-gtk/chatline.c,
	client/gui-gtk/citydlg.c, client/gui-gtk/cityrep.c,
	client/gui-gtk/connectdlg.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/diplodlg.c, client/gui-gtk/gamedlgs.c,
	client/gui-gtk/gotodlg.c, client/gui-gtk/graphics.c,
	client/gui-gtk/gui_main.c, client/gui-gtk/helpdlg.c,
	client/gui-gtk/inteldlg.c, client/gui-gtk/mapctrl.c,
	client/gui-gtk/mapview.c, client/gui-gtk/menu.c,
	client/gui-gtk/plrdlg.c, client/gui-gtk/repodlgs.c,
	client/gui-gtk/spaceshipdlg.c, client/gui-mui/connectdlg.c,
	client/gui-xaw/chatline.c, client/gui-xaw/citydlg.c,
	client/gui-xaw/cityrep.c, client/gui-xaw/connectdlg.c,
	client/gui-xaw/dialogs.c, client/gui-xaw/diplodlg.c,
	client/gui-xaw/gotodlg.c, client/gui-xaw/graphics.c,
	client/gui-xaw/gui_main.c, client/gui-xaw/helpdlg.c,
	client/gui-xaw/inteldlg.c, client/gui-xaw/mapctrl.c,
	client/gui-xaw/mapview.c, client/gui-xaw/menu.c,
	client/gui-xaw/optiondlg.c, client/gui-xaw/plrdlg.c,
	client/gui-xaw/ratesdlg.c, client/gui-xaw/repodlgs.c,
	client/gui-xaw/spaceshipdlg.c:

	Safer string handling in client/*, using *snprintf and *strlcpy
	etc.  Added a buffer length argument to some functions which write
	into user-supplied buffers, to allow checking lengths.  Added
	bounds check for packet->id in handle_ruleset_city().  Other minor
	fixes.  (Buffer checking not fully done in helpdata.c and
	gui-*/helpdlg.c.)

Sun Jan  2 11:32:18 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/cityhand.c, server/civserver.c, server/console.c,
	server/gamehand.c, server/gamelog.c, server/handchat.c,
	server/meta.c, server/plrhand.c, server/ruleset.c,
	server/sernet.c, server/settlers.c, server/stdinhand.c,
	server/unitfunc.c, server/unithand.c:

	Safer string handling in server/, using *snprintf and *strlcpy
	etc.  Re-wrote pick_ai_player_name() to do fewer unnecessary
	string copies, and changed it to try more random names, before
	resorting to sequential.  Added field "sz_svalue" in struct
	settings_s (stdinhand.c), for size available in svalue field (eg,
	demography differs from others).  Other minor fixes.

Sun Jan  2 11:18:30 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/capstr.c, common/city.c, common/game.c,
	common/government.c, common/log.c, common/map.c, common/packets.c,
	common/player.c, common/registry.c, common/shared.c,
	common/support.c, common/unit.c:

	Safer string handling in common/, using *snprintf and *strlcpy
	etc.  Also use an astring instead of equivalent code, in
	datafilename().

Sun Jan  2 10:59:44 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/support.h:

	Add convenience macros sz_strlcpy() and sz_strlcat() to avoid
	manual sizeof when destination is char array.

Sun Jan  2 10:58:42 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/control.c:

	Add braces to clearly disambiguate 'else', as suggested by gcc.

Sat Jan  1 20:15:52 2000  Jeff Mallatt <jjm@codewell.com>:

	* server/gamelog.c, server/plrhand.c, server/unitfunc.c:

	In server/gamelog.c#gamelog_save() and
	server/plrhand.c#log_civ_score(), fixed a couple more buggy
	is_barbarian()-qualified references into the game.players[] array.

	In server/unitfunc.c#kill_unit(), added check to make sure
	Barbarian Leader ransom is paid only when he is captured alone.

Sat Jan  1 20:02:40 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/mapctrl.c, client/gui-gtk/mapview.c,
	client/gui-xaw/mapctrl.c, client/gui-xaw/mapview.c:

	Adds display of production values to main map "city tiles"
	display.

	Also, fixes bug where if a city was on one side of the
	zero/maximum-x divide, and the tile you shift-clicked on was on
	the other side, then nothing would happen.  This was because
	adjust_workers() did its own conversion from map to city
	coordinates, rather than using the map_to_city_[xy]() routines,
	and this conversion code was flawed.

Sat Jan  1 19:29:45 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/packhand.c, common/capstr.c, common/game.h,
	common/packets.c, common/packets.h, common/unit.c,
	data/default/cities.ruleset, server/ruleset.c, server/settlers.c,
	server/unithand.c:

	Added the add-to size limit for cities to cities.ruleset.  The
	value that was burned-into the code was 8 -- I changed it to 9 in
	the default/cities.ruleset to conform with Civ2.

Sat Jan  1 19:15:18 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/control.c:

	Fixed bug whereby canceling a "connect" would cause the next
	"goto" to act like a "connect" command.

Sat Jan  1 18:55:32 2000  Jeff Mallatt <jjm@codewell.com>:

	* client/control.c, client/control.h, client/gui-gtk/gui_main.c,
	client/gui-gtk/menu.c, client/gui-mui/gui_main.c,
	client/gui-mui/gui_main.h, client/gui-mui/mapclass.c,
	client/gui-xaw/Freeciv.h, client/gui-xaw/Makefile.am,
	client/gui-xaw/Makefile.in, client/gui-xaw/actions.c,
	client/gui-xaw/actions.h, client/gui-xaw/chatline.c,
	client/gui-xaw/chatline.h, client/gui-xaw/citydlg.c,
	client/gui-xaw/citydlg.h, client/gui-xaw/cityrep.c,
	client/gui-xaw/cityrep.h, client/gui-xaw/connectdlg.c,
	client/gui-xaw/connectdlg.h, client/gui-xaw/dialogs.c,
	client/gui-xaw/dialogs.h, client/gui-xaw/diplodlg.c,
	client/gui-xaw/diplodlg.h, client/gui-xaw/gotodlg.c,
	client/gui-xaw/gotodlg.h, client/gui-xaw/gui_main.c,
	client/gui-xaw/gui_main.h, client/gui-xaw/helpdlg.c,
	client/gui-xaw/helpdlg.h, client/gui-xaw/inputdlg.c,
	client/gui-xaw/inputdlg.h, client/gui-xaw/mapctrl.c,
	client/gui-xaw/mapctrl.h, client/gui-xaw/menu.c,
	client/gui-xaw/menu.h, client/gui-xaw/messagewin.c,
	client/gui-xaw/messagewin.h, client/gui-xaw/plrdlg.c,
	client/gui-xaw/plrdlg.h, client/gui-xaw/repodlgs.c,
	client/gui-xaw/repodlgs.h, client/gui-xaw/spaceshipdlg.c,
	client/gui-xaw/spaceshipdlg.h, data/Freeciv:

	This is a clean-up of the Xaw client's menu and key dispatching. 
	(It does impact the other clients, a bit.)

Sat Jan  1 17:05:49 2000  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in:

	Changed ./configure to prefer Xaw3d over Xaw when guessing. 
	Addresses the problem where some installations link libXaw.* to
	libXaw3d.*.  Problem reported by David Pfitzner
	<dwp@mso.anu.edu.au>.

Sat Jan  1 15:47:54 2000  Jeff Mallatt <jjm@codewell.com>:

	* ai/aiunit.c, client/control.c, client/control.h,
	client/packhand.c, client/tilespec.c, client/tilespec.h,
	client/gui-gtk/dialogs.c, client/gui-gtk/mapctrl.c,
	client/gui-gtk/menu.c, client/include/dialogs_g.h,
	client/gui-xaw/Freeciv.h, client/gui-xaw/dialogs.c,
	client/gui-xaw/gui_main.c, client/gui-xaw/mapctrl.c,
	client/gui-xaw/mapctrl.h, client/gui-xaw/menu.c, common/capstr.c,
	common/packets.c, common/packets.h, common/unit.c, common/unit.h,
	data/Freeciv, data/helpdata.txt, data/engels/tiles.spec,
	data/engels/tiles.xpm, data/trident/tiles.spec,
	data/trident/tiles.xpm, server/autoattack.c, server/civserver.c,
	server/gotohand.c, server/gotohand.h, server/plrhand.c,
	server/settlers.c, server/unitfunc.c, server/unitfunc.h,
	server/unithand.c, server/unithand.h, server/unittools.c:

	Added Settler's "Connect" feature.  Settlers/Engineers may be
	ordered to connect two points with a specified infrastructure (one
	of: Road, Railroad, Irrigate, Fortress).  Patch submitted by Jarda
	Benkovsky <pvt.benkovsk@pvtnet.cz>.

Sat Jan  1 07:23:15 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/map.c, common/map.h, server/civserver.c, server/mapgen.c,
	server/mapgen.h, server/maphand.c:

	Replace flood_it() with clearer functions
	assign_continent_numbers() and  setup_isledata().  Add field
	game.num_continents, and do some related re-org in mapgen.c,
	including making islands[] dynamically allocated.  Added some
	comments about problems in "goodies" calculations.

Sat Jan  1 07:20:11 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advmilitary.c, ai/advmilitary.h, server/citytools.c,
	server/civserver.c, server/stdinhand.c:

	New function assess_danger_player(), and use it in a few places to
	try to avoid AI using unitialized data: when toggling a player to
	AI, and when civil war happens.

Sat Jan  1 07:17:16 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/mapview.c, client/tilespec.c,
	client/gui-xaw/mapview.c, common/registry.c, common/shared.h,
	common/unit.c:

	Add convenience macro BOOL_VAL() (to convert to boolean value),
	and use it for return value of unit_flag() and unit_has_role(),
	and in a few other places to replace equivalent code.  Also add
	extra brackets to make WIPEBIT() macro safer.

Sat Jan  1 07:14:38 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/clinet.c, client/gui-mui/mapview.c,
	client/gui-gtk/mapview.c, client/gui-xaw/mapview.c, common/city.c,
	common/government.c, common/nation.c, common/player.c,
	common/shared.c, common/shared.h, common/support.c,
	common/support.h, common/tech.c, common/unit.c, po/POTFILES.in,
	server/ruleset.c, server/sernet.c, server/stdinhand.c:

	Move functions mystrcasecmp(), mystrncasecmp(), mystrerror() and
	myusleep() from shared.c to new home in support.c, and related
	adjustments.

Sat Jan  1 06:45:55 2000  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/helpdata.c, client/tilespec.c, client/gui-gtk/cityrep.c,
	client/gui-xaw/canvas.c, client/gui-xaw/pixcomm.c,
	server/barbarian.c, server/barbarian.h:

	Code cleanups, and silence some compiler warnings: make more
	functions static; give proper prototypes/argument lists; ifdef-out
	unused helptext_unit_upkeep_str_short().  Patch by Markus Linnala
	<maage@cs.tut.fi> and Jeff Mallatt <jjm@codewell.com>.

Wed Dec 29 16:51:23 1999  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/ReadMe, client/gui-mui/gui_main.c,
	client/gui-mui/mapclass.c:

	Map of the mui client can be scrolled via cursor keys now.

Wed Dec 29 16:47:00 1999  Sebastian Bauer <sebauer@t-online.de>:

	* data/default/cities.ruleset, data/engels/cities.spec,
	data/engels/cities.xpm, data/trident/cities.spec,
	data/trident/cities.xpm:

	Corrected the new city style graphics and added postmodern style
	to cities.ruleset.

	Patch by Jeff Mallatt <jjm@codewell.com>

Wed Dec 29 13:51:22 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/map.c, common/map.h:

	Make tile.continent field a signed short instead of char, to allow
	possibility of more continent numbers (especially for client,
	where unknown terrain and Apollo effect can inflate continent
	numbers).  Value is signed to eg account for negative return from
	map_get_continent().  Patch submitted by Peter Schaefer
	<schaefer@dfu.de>.

Wed Dec 29 11:11:08 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/player.c, common/player.h, common/shared.c,
	common/shared.h, server/handchat.c, server/stdinhand.c:

	Allow specifying unambiguous player name prefix, instead of full
	player name, for server commands taking a player name argument. 
	Patch includes a general function match_prefix() (and related
	definitions) in shared.h, and a function
	cmd_reply_no_such_player() in stdinhand.c to handle standard
	"failure" replies.

Wed Dec 29 11:07:01 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* config.h.in, configure, configure.in, common/support.c,
	common/support.h:

	Provide replacement/wrapper functions mystrlcpy() and mystrlcat(),
	with semantics from OpenBSD.

Wed Dec 29 11:05:27 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/shared.c, common/shared.h:

	Added utility functions end_of_strn() and cat_snprintf(), to be
	used shortly.

Tue Dec 28 13:17:05 1999  Jeff Mallatt <jjm@codewell.com>:

	* INSTALL:

	Updated INSTALL to reflect new, multi-client configure support.

Tue Dec 28 12:47:32 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/plrdlg.c, client/gui-xaw/plrdlg.c:

	Fixed bug in gtk and xaw Player dialogs where callbacks were
	referencing the wrong player, if there were any Barbarian
	player(s) in the players list before the selected player.

Tue Dec 28 12:25:13 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/game.c, common/game.h, common/map.c, common/map.h,
	server/civserver.c, server/gamehand.c, server/gamehand.h,
	server/mapgen.c, server/maphand.c, server/stdinhand.c:

	Removed game.scenario field, and instead use multiple fields, for
	improved code clarity.  New fields game.is_new_game (replaces
	is_new_game variable in civserver.c), map.fixed_start_positions
	(with existing map.num_start_positions) and map.have_specials.

Tue Dec 28 12:16:23 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/packhand.c, common/capstr.c, common/government.h,
	common/packets.c, common/packets.h, data/civ1/governments.ruleset,
	data/civ2/governments.ruleset, data/default/governments.ruleset,
	server/citytools.c, server/ruleset.c:

	Added governments ruleset field which allows for making larger
	cities less happy.  Patch submitted by IQ
	<iquin@technologist.com>.

Tue Dec 28 12:03:43 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/support.h:

	Use fc__attribute to allow gcc to check arguments of
	my_snprintf().

Tue Dec 28 12:00:51 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/menu.c:

	Fix an include: mem.h instead of mem.c!

Tue Dec 28 01:22:49 1999  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Update to de.po.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Mon Dec 27 17:55:14 1999  Jeff Mallatt <jjm@codewell.com>:

	* server/cityhand.c, server/citytools.h, server/cityturn.c,
	server/plrhand.c:

	Keep AI from building barracks in cities without enough
	production.  Addresses PR#200.  Patch submitted by Peter Schaefer
	<schaefer@dfu.de>.

Mon Dec 27 17:33:16 1999  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/ReadMe, client/gui-mui/gui_main.c,
	client/gui-mui/mapclass.c, client/gui-mui/mapclass.h:

	Minor gui changes in the mui client.  No longer reacts on turn
	done if game is not running.  menu_entry_sensitive() of the mui
	client didn't worked for menu titles.  Updated amiga/ReadMe to
	reflect the changes made since the last public release.

Mon Dec 27 17:25:00 1999  Jeff Mallatt <jjm@codewell.com>:

	* Makefile.in, configure, configure.in, ai/Makefile.in,
	client/Makefile.am, client/Makefile.in, client/packhand.c,
	client/gui-beos/.cvsignore, client/gui-beos/Makefile.am,
	client/gui-beos/Makefile.in, client/gui-gtk/Makefile.in,
	client/gui-stub/.cvsignore, client/gui-stub/Makefile.am,
	client/gui-stub/Makefile.in, client/gui-stub/chatline.c,
	client/gui-stub/chatline.h, client/gui-stub/citydlg.c,
	client/gui-stub/citydlg.h, client/gui-stub/cityrep.c,
	client/gui-stub/cityrep.h, client/gui-stub/colors.c,
	client/gui-stub/colors.h, client/gui-stub/connectdlg.c,
	client/gui-stub/connectdlg.h, client/gui-stub/dialogs.c,
	client/gui-stub/dialogs.h, client/gui-stub/diplodlg.c,
	client/gui-stub/diplodlg.h, client/gui-stub/finddlg.c,
	client/gui-stub/gotodlg.c, client/gui-stub/gotodlg.h,
	client/gui-stub/graphics.c, client/gui-stub/graphics.h,
	client/gui-stub/gui_main.c, client/gui-stub/gui_main.h,
	client/gui-stub/helpdlg.c, client/gui-stub/helpdlg.h,
	client/gui-stub/inteldlg.c, client/gui-stub/mapctrl.c,
	client/gui-stub/mapctrl.h, client/gui-stub/mapview.c,
	client/gui-stub/mapview.h, client/gui-stub/menu.c,
	client/gui-stub/menu.h, client/gui-stub/messagedlg.c,
	client/gui-stub/messagewin.c, client/gui-stub/messagewin.h,
	client/gui-stub/plrdlg.c, client/gui-stub/plrdlg.h,
	client/gui-stub/ratesdlg.c, client/gui-stub/repodlgs.c,
	client/gui-stub/repodlgs.h, client/gui-stub/spaceshipdlg.c,
	client/gui-stub/spaceshipdlg.h, client/gui-win32/.cvsignore,
	client/gui-win32/Makefile.am, client/gui-win32/Makefile.in,
	client/gui-xaw/Makefile.in, client/include/Makefile.in,
	client/include/mapctrl_g.h, common/Makefile.in, data/Makefile.in,
	data/civ1/Makefile.in, data/civ2/Makefile.in,
	data/classic/Makefile.in, data/default/Makefile.in,
	data/engels/Makefile.in, data/misc/Makefile.in,
	data/scenario/Makefile.in, data/trident/Makefile.in,
	doc/Makefile.in, server/Makefile.in:

	Multi-client configure support added.  Changes configure.in to
	handle named clients.  Adds new clients named "stub", "beos" and
	"win32"; keeps "gtk" and "xaw" clients.  The "stub" client is a
	template for a new client.  The "beos" and "win32" clients are
	currently empty.  Addresses PR#181.  Patch submitted by Joseph
	Beckenbach <jrb3@bdhsw.com>.  Applied with a number of changes.

Mon Dec 27 17:16:45 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-beos:

	Directory /home/freeciv/CVS/freeciv/client/gui-beos added to the
	repository

Mon Dec 27 17:16:46 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-win32:

	Directory /home/freeciv/CVS/freeciv/client/gui-win32 added to the
	repository

Mon Dec 27 17:16:45 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-stub:

	Directory /home/freeciv/CVS/freeciv/client/gui-stub added to the
	repository

Mon Dec 27 16:32:02 1999  Jeff Mallatt <jjm@codewell.com>:

	* ai/aiunit.c, ai/aiunit.h:

	Fixed segfault caused by spontaneous retiring of barbarian ships
	which contain passengers.  Fixes PR#187.  Bug submitted by Mikko
	Tiihonen <Mikko.Tiihonen@hut.fi>.

Mon Dec 27 16:01:09 1999  Jeff Mallatt <jjm@codewell.com>:

	* ai/aiunit.c:

	Fix infinite loop in Barbarian Leader goto.  Briefly, the problem
	was that the goto code that the Barbarian Leader used (same goto
	code that all AIs use) may opt to -not- move a unit if there
	aren't quite enough movement points left to guarantee the move. 
	Unfortunately, the Barbarian Leader code has a big while loop that
	tries to exhaust the moves_left of the unit, by doing gotos.  You
	can see the problem -- the goto won't actually move, so the
	barbarian leader will continue to loop.  Fixes PR#189.  Patch
	submitted by Corin Anderson <corin@the4cs.com>.

Mon Dec 27 15:41:42 1999  Jeff Mallatt <jjm@codewell.com>:

	* server/unithand.c:

	AI bodyguard code remains active even after turning AI off.  This
	patch breaks the bodyguard relationship if AI is not on.  Fixes
	PR#197.  Patch submitted by Peter Schaefer <schaefer@dfu.de>.

Mon Dec 27 15:25:26 1999  Jeff Mallatt <jjm@codewell.com>:

	* common/game.c, common/game.h, server/gamehand.c,
	server/stdinhand.c, server/unithand.c:

	Added new server option "occupychance".  When a unit attacks and
	wins, it has "occupychance" chance of moving into the defeated
	unit's square (if no more units are left there).  Patch submitted
	by Greg Wooledge <wooledge@kellnet.com>.

Mon Dec 27 15:11:52 1999  Jeff Mallatt <jjm@codewell.com>:

	* server/gamehand.c:

	I found that randseed is read from savefiles only when the
	"unirandom" option is set, but was being written unconditionally. 
	This patch changes it so that randseed is written only in the
	"unirandom" case.

Mon Dec 27 14:42:07 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/helpdata.c, ai/advdomestic.c, ai/aiunit.c,
	client/gui-gtk/menu.c, client/gui-mui/gui_main.c,
	client/gui-xaw/menu.c, common/capstr.c, common/city.h,
	common/packets.c, common/unit.c, common/unit.h,
	data/civ2/units.ruleset, data/civ1/units.ruleset,
	data/default/units.ruleset, server/cityturn.c, server/gamehand.c,
	server/gotohand.c, server/plrhand.c, server/ruleset.c,
	server/settlers.c, server/settlers.h, server/unithand.c,
	server/unittools.c:

	Added a flag, "Cities", to units rulesets which specifies a unit's
	ability to found cities.  Distinct from "Settlers" flag.  Patch
	submitted by Daniel Sjolie <deepone@acc.umu.se>.

Mon Dec 27 14:33:40 1999  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/smakefile, client/options.c, client/gui-mui/helpdlg.c,
	client/gui-mui/mapctrl.c, client/gui-mui/mapview.c,
	client/gui-mui/objecttreeclass.c, server/barbarian.c:

	Added the new files (common/rand.c, common/support.c and
	client/cityrepdata.c) to amiga/smakefile.  Removed some unused
	variables inside the mui client and changed some #include lines. 
	Made server/barbarian.c more ANSI C conform.  In the new
	client/options.c code there was no check if the
	section_file_load() call was successful.

Mon Dec 27 14:09:00 1999  Jeff Mallatt <jjm@codewell.com>:

	* README, client/gui-gtk/menu.c, client/gui-mui/gui_main.c,
	client/gui-mui/gui_main.h, client/gui-xaw/menu.c,
	client/include/helpdlg_g.h, data/helpdata.txt, po/de.po:

	Added some Native Language Support information: -- Added a Native
	Language Support section to the README file.  -- Added a Languages
	item to the Hlp menu in all clients.  Suggestion and update to
	de.po by Egbert Hinzen <garfy@ehinzen.de>.

Mon Dec 27 13:33:54 1999  Jeff Mallatt <jjm@codewell.com>:

	* ai/aihand.c, common/city.c, common/city.h, common/government.c,
	common/government.h, data/helpdata.txt,
	data/civ1/governments.ruleset, data/civ2/governments.ruleset,
	data/default/governments.ruleset, server/cityhand.c,
	server/cityturn.c, server/plrhand.c:

	Improved rapture specs in governments rulesets: -- added new flag
	"G_RAPTURE_CITY_GROWTH" in common/government.h and the
	corresponding flag name "Rapture_City_Growth" in
	common/government.c -- added the new flag for Republic and
	Democracy and set rapture_size to 3 for all forms of government
	in: data/civ1/governments.ruleset data/civ2/governments.ruleset
	data/default/governments.ruleset -- fixed Help on Happiness in
	data/helpdata.txt to reflect the new rapture_size of 3 -- fixed
	the old use of rapture_size in ai/aihand.c to use the new flag
	instead -- fixed city_celebrating() in common/city.c to use
	rapture_size instead of the number 5 -- use city_celebrating() and
	the new flag to determine when city should grow by celebrating in
	server/cityturn.c -- added new variable "rapture" in the "city"
	construct (and use it much the same way as the "anarchy" variable)
	in common/city.h -- initialize and handle the new "rapture"
	variable in server/cityhand.c and server/plrhand.c (same way as
	"anarchy") -- use the "rapture" rounds count to fix the display of
	game messages about city celebrations in server/cityturn.c Patch
	submitted by Mike Jing <miky40@hotmail.com>.

Mon Dec 27 12:20:19 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/options.c:

	Replace special purpose parsing code in load_options() (to parse
	.civclientrc) with calls to registry functions.

Mon Dec 27 12:18:45 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Makefile.am, client/Makefile.in, client/cityrepdata.c,
	client/cityrepdata.h, client/options.c, client/gui-gtk/cityrep.c,
	client/gui-xaw/cityrep.c, client/gui-mui/cityrep.c,
	po/POTFILES.in, client/include/cityrep_g.h:

	Consolidated configuration data and some supporting functions for
	the city report into a new module client/cityrepdata.[ch], instead
	of being duplicated between the gui clients.

Mon Dec 27 12:16:18 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* config.h.in, configure, configure.in, common/Makefile.am,
	common/Makefile.in, common/log.c, common/support.c,
	common/support.h:

	Added common/support module for replacement/wrapper functions;
	initially contains my_vsnprintf() and my_snprintf(), implemented
	using a simple/portable method with a large internal buffer.

Mon Dec 27 12:12:53 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c, ai/aiunit.c, common/Makefile.am,
	common/Makefile.in, common/player.c, common/rand.c, common/rand.h,
	common/shared.c, common/shared.h, server/barbarian.c,
	server/cityhand.c, server/citytools.c, server/cityturn.c,
	server/civserver.c, server/gamehand.c, server/gotohand.c,
	server/mapgen.c, server/maphand.c, server/plrhand.c,
	server/unitfunc.c, server/unithand.c, server/unittools.c:

	Move myrand() stuff to a separate module: common/rand.[ch], and
	make some things slightly nicer: Wrap random state variables up
	into a struct; avoid using globals/extern to save/restore random
	state in savefile; more flexible method to have multiple
	concurrent rand sequences (replace old save_restore_random() with
	get_myrand_state() and set_myrand_state()).

Mon Dec 27 11:25:08 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/cityrep.c, client/gui-mui/cityrep.c:

	Make gui-gtk and gui-mui clients obey center_when_popup_city
	option when use Popup from city report (as well as from messages
	window; gui-xaw client is already ok).

Sun Dec 26 19:47:47 1999  Jeff Mallatt <jjm@codewell.com>:

	* server/Makefile.in:

	Missing objects and dependencies on barbarian.* in Makefile.in
	added.

Sat Dec 25 09:25:08 1999  Sebastian Bauer <sebauer@t-online.de>:

	* data/trident/cities.spec, data/trident/cities.xpm:

	Improved city style graphics of the trident tileset and activated
	them.  Graphics send by Marco Saupe <msaupe@saale-net.de>

Fri Dec 24 19:08:37 1999  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, po/ru.po:

	Added the Russian localization (ru.po).  Patch submitted by Valek
	Filippov <frob@df.ru>.

Sat Dec 18 12:05:20 1999  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/smakefile, client/gui-mui/gui_main.c,
	client/gui-mui/helpdlg.c, client/gui-mui/mapclass.c,
	client/gui-mui/objecttreeclass.c,
	client/gui-mui/objecttreeclass.h:

	Amiga client: Added technology tree into the help window similiar
	to the xaw client.

Wed Dec 15 18:11:33 1999  Jeff Mallatt <jjm@codewell.com>:

	* server/plrhand.c:

	Fixed bug in show_ending() in server/plrhand.c that was causing
	segfaults and reporting bad rankings.  Bug reported by Anthony J.
	Stuckey <stuckey@jaka.ece.uiuc.edu>.

Mon Dec 13 09:37:08 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* ai/aiunit.c:

	There was a bug in ai/aiunit.c, around line 1635, which will send
	the server into an endless loop, if a barbarian unit is found
	within 3 squares from the point where the map wraps around.

	Patch submitted by Anders Wegge Jakobsen <wegge@wegge.dk>

Thu Dec  9 21:28:13 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* PEOPLE:

	Update information for AJS.

Thu Dec  9 18:57:22 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* server/gotohand.c:

	Fix segfault problem with recent dynamic allocation of warmap
	patch.  Submitted by pja@pdc.kth.se.

Sun Dec  5 21:37:11 1999  Jeff Mallatt <jjm@codewell.com>:

	* po/no.po:

	Updated Norwegian translation.  Patch submitted by Stig Erik
	Sandoe <stig@ii.uib.no>.

Thu Dec  2 17:33:21 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* common/tech.c:

	Modify update_research to cache value returned by get_invention()
	rather than calling it consecutively.  Patch submitted by AJS.

Wed Dec  1 23:42:41 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* server/unithand.c:

	Get prototype for do_unit_goto() from gotohand.h rather than
	declaring it here.  Patch submitted by AJS.

Wed Dec  1 22:30:15 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* server/unithand.c:

	Fixing mispelling of "horde".  Patch submitted by Greg Wooledge.

Mon Nov 29 20:59:25 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* server/gotohand.c, server/gotohand.h:

	Make the gotomap be dynamically allocated, rather than a static
	structure.  Patch submitted by AJS.

Sun Nov 21 17:07:30 1999  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Updated German translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Sat Nov 20 16:46:53 1999  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/dialogs.c:

	Amiga client: In the unit selection window now a custom layout
	hook is used. So the number of units displayed in a row depends on
	the window's height.

Sat Nov 20 10:02:52 1999  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/.cvsignore, client/gui-mui/.cvsignore:

	Added .cvsignore files in the amiga and client/gui-mui
	directories.

Fri Nov 19 21:48:37 1999  Sebastian Bauer <sebauer@t-online.de>:

	* server/plrhand.c:

	Fixed some function definitions.

Fri Nov 19 21:47:00 1999  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/gui_main.c:

	Added Balance object between map and output listview in the amiga
	client.

Fri Nov 19 21:45:40 1999  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/smakefile, client/gui-mui/dialogs.c,
	client/gui-mui/plrdlg.c:

	Updated the amiga port to support barbarians.

Fri Nov 19 18:38:59 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/menu.c:

	Fixed bug in translate_menu_path() in client/gui-gtk/menu.c that
	was causing a core dump when a localized string was longer than
	the English equivalent.  Bug reported by Egbert Hinzen
	<garfy@ehinzen.de>.

Fri Nov 19 16:30:11 1999  Jeff Mallatt <jjm@codewell.com>:

	* README, server/civserver.c, server/gamehand.c, server/meta.c,
	server/meta.h, server/stdinhand.c, server/stdinhand.h:

	Added 'read' and 'write' server commands.  Also, changed the
	various metaserver commands so that each does a single thing (no
	more does metaserver both set the metaserver address and turn
	reporting on).  Patch submitted by Reinier Post
	<reinpost@win.tue.nl>, with metaserver commands changes by myself.

Fri Nov 19 15:41:29 1999  Jeff Mallatt <jjm@codewell.com>:

	* ai/aicity.c, ai/aitools.c, ai/aitools.h, ai/aiunit.c,
	ai/aiunit.h, client/options.c, client/packhand.c,
	client/tilespec.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/messagewin.c, client/gui-gtk/plrdlg.c,
	client/gui-xaw/dialogs.c, client/gui-xaw/plrdlg.c,
	common/capstr.c, common/events.h, common/game.c, common/game.h,
	common/packets.c, common/packets.h, common/player.c,
	common/player.h, common/unit.c, common/unit.h,
	data/civ1/units.ruleset, data/civ2/units.ruleset,
	data/default/nations.ruleset, data/default/units.ruleset,
	server/Makefile.am, server/Makefile.in, server/autoattack.c,
	server/barbarian.c, server/barbarian.h, server/citytools.c,
	server/civserver.c, server/gamehand.c, server/gamelog.c,
	server/plrhand.c, server/ruleset.c, server/settlers.c,
	server/spacerace.c, server/stdinhand.c, server/stdinhand.h,
	server/unitfunc.c, server/unithand.c, server/unittools.c,
	server/unittools.h:

	Added support for barbarians.  Patch supplied by Jerzy Klek
	<qpkjeek@epk.ericsson.se>.

Fri Nov 19 15:31:15 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/gui_main.c:

	Added suport for using the cursor keys to move units.

Wed Nov 17 18:50:06 1999  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui/chatline.c, client/gui-mui/chatline.h,
	client/gui-mui/citydlg.c, client/gui-mui/citydlg.h,
	client/gui-mui/cityrep.c, client/gui-mui/cityrep.h,
	client/gui-mui/colors.c, client/gui-mui/colors.h,
	client/gui-mui/connectdlg.c, client/gui-mui/connectdlg.h,
	client/gui-mui/dialogs.c, client/gui-mui/dialogs.h,
	client/gui-mui/diplodlg.c, client/gui-mui/diplodlg.h,
	client/gui-mui/finddlg.c, client/gui-mui/gamedlgs.c,
	client/gui-mui/gotodlg.c, client/gui-mui/gotodlg.h,
	client/gui-mui/graphics.c, client/gui-mui/graphics.h,
	client/gui-mui/gui_main.c, client/gui-mui/gui_main.h,
	client/gui-mui/helpdlg.c, client/gui-mui/helpdlg.h,
	client/gui-mui/inteldlg.c, client/gui-mui/mapclass.c,
	client/gui-mui/mapclass.h, client/gui-mui/mapctrl.c,
	client/gui-mui/mapctrl.h, client/gui-mui/mapview.c,
	client/gui-mui/mapview.h, client/gui-mui/messagedlg.c,
	client/gui-mui/messagewin.c, client/gui-mui/messagewin.h,
	client/gui-mui/muistuff.c, client/gui-mui/muistuff.h,
	client/gui-mui/optiondlg.h, client/gui-mui/overviewclass.c,
	client/gui-mui/overviewclass.h, client/gui-mui/plrdlg.c,
	client/gui-mui/plrdlg.h, client/gui-mui/repodlgs.c,
	client/gui-mui/repodlgs.h, client/gui-mui/spaceshipdlg.c,
	client/gui-mui/spaceshipdlg.h:

	Added amiga directory.  Added all files which are needed to
	compile Freeciv on the Amiga with the SAS C compiler.

Wed Nov 17 18:36:11 1999  Sebastian Bauer <sebauer@t-online.de>:

	* amiga/ReadMe, amiga/ReadMe.developer, amiga/_main.c,
	amiga/amigaclient.c, amiga/amigaserver.c, amiga/config.h,
	amiga/makedirs, amiga/smakefile:

	Added amiga directory.  Added all files which are needed to
	compile Freeciv on the Amiga with the SAS C compiler.

Wed Nov 17 17:37:20 1999  Sebastian Bauer <sebauer@t-online.de>:

	* amiga:

	Directory /home/freeciv/CVS/freeciv/amiga added to the repository

Wed Nov 17 17:23:13 1999  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-mui:

	Directory /home/freeciv/CVS/freeciv/client/gui-mui added to the
	repository

Tue Nov 16 14:55:59 1999  Jeff Mallatt <jjm@codewell.com>:

	* server/unithand.c:

	Changed the attack-success message to gracefully handle plural
	unit type names (at least, in English).  Patch submitted by Greg
	Wooledge <wooledge@kellnet.com>.

Tue Nov 16 14:42:55 1999  Jeff Mallatt <jjm@codewell.com>:

	* po/no.po:

	Update Norwegian translation.  Patch submitted by Stig Erik Sandoe
	<stig@ii.uib.no>.

Tue Nov 16 14:31:31 1999  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Update German translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Tue Nov 16 14:05:08 1999  Jeff Mallatt <jjm@codewell.com>:

	* po/pt.po:

	Removed trailing '\n's from two translations in pt.po, so it could
	compile.

Tue Nov 16 00:01:09 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* ai/aicity.c, ai/aihand.c, common/player.h:

	The AI players would sometimes use gold to finish production which
	would cause them to not be able to pay upkeep elsewhere next turn.
	This patch restricts the AI buying to things they can easily
	afford.  AJS.

Mon Nov 15 23:37:32 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* po/pt.po:

	I forgot to fix one line in the previous commit.  AJS.

Mon Nov 15 23:35:54 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* po/pt.po:

	Fixing quoting problems in pt.po. AJS.

Mon Nov 15 19:11:55 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* po/pt.po:

	updated the Portuguese translation.

Mon Nov 15 12:54:23 1999  Jeff Mallatt <jjm@codewell.com>:

	* data/civ2/buildings.ruleset, data/default/buildings.ruleset:

	Corrected help text for United Nations wonder.  Bug submitted by
	Egbert Hinzen <garfy@ehinzen.de>.

Mon Nov 15 12:38:36 1999  Jeff Mallatt <jjm@codewell.com>:

	* common/game.h, server/plrhand.c, server/stdinhand.c:

	Added "best nation" column to Demographics report (like Civ2). 
	Patch submitted by Jerzy Klek <qpkjeek@epk.ericsson.se>.

Sun Nov 14 22:47:34 1999  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Update to German translation.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Sun Nov 14 17:36:53 1999  Jeff Mallatt <jjm@codewell.com>:

	* po/.cvsignore:

	Removed explicit references to all .mo and .gmo files from
	po/.cvsignore.  Replaced them with "*.mo" and "*.gmo".

Sun Nov 14 17:17:56 1999  Jeff Mallatt <jjm@codewell.com>:

	* po/POTFILES.in:

	Added common/city.c to po/POTFILES.in.

Sun Nov 14 16:55:21 1999  Jeff Mallatt <jjm@codewell.com>:

	* common/city.c:

	Changed wonder state characters (w, B, O) from character constants
	into qualified translatable strings.

Sun Nov 14 13:40:06 1999  Jeff Mallatt <jjm@codewell.com>:

	* Makefile.am, Makefile.in, configure, configure.in,
	doc/.cvsignore, doc/Makefile.am, doc/Makefile.in:

	Added config/build support for new ./doc directory.

Sat Nov 13 18:58:11 1999  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, po/no.po:

	Added new Norwegian (no) locale.  Translation provided by Stig
	Erik Sandoe <stig@ii.uib.no>.

Fri Nov 12 13:33:40 1999  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Update to de.po file.  Patch submitted by Egbert Hinzen
	<garfy@ehinzen.de>.

Thu Nov 11 21:48:23 1999  Jeff Mallatt <jjm@codewell.com>:

	* data/engels/flags.xpm, data/trident/flags.xpm:

	Fixed the flag(s) for the Republic of South Africa (Zulu).  The
	little triangle on the left is black, not blue.  Bug submitted by
	Jan Pool <jpool@dsp.sun.ac.za>.

Thu Nov 11 21:08:54 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-xaw/Freeciv.h, client/gui-xaw/gui_main.c,
	data/Freeciv:

	Marked the "Turn Done" button label for the Xaw client.

Thu Nov 11 20:51:10 1999  Jeff Mallatt <jjm@codewell.com>:

	* po/POTFILES.in, server/mapgen.c:

	Marked a few strings in server/mapgen.c.  Prompted by a request
	from Egbert Hinzen <garfy@ehinzen.de>.

Thu Nov 11 19:56:07 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/cityrep.c:

	Improvements to City Report dialog.

	- Change button presents all possibilities that can be built in at
	least one of the selected cities.

	- Add a "Select" button, which allows for selecting sets of cities
	according to some simple criteria.

	Patch submitted by Sebastian Wilhelmi <wilhelmi@ira.uka.de>.

Thu Nov 11 19:29:41 1999  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po, server/ruleset.c:

	Update to de.po, and a patch to mark the "Loading rulesets"
	string.  Both submitted by Egbert Hinzen <garfy@ehinzen.de>.

Thu Nov 11 18:51:04 1999  Jeff Mallatt <jjm@codewell.com>:

	* doc/README.de:

	Added doc directory.  Added README.de to doc directory.  README.de
	submitted by Egbert Hinzen <garfy@ehinzen.de>.

Thu Nov 11 18:47:49 1999  Jeff Mallatt <jjm@codewell.com>:

	* doc:

	Directory /home/freeciv/CVS/freeciv/doc added to the repository

Thu Nov 11 00:30:50 1999  Jeff Mallatt <jjm@codewell.com>:

	* server/meta.c:

	Fix metaserver server command causing server to stop accepting
	input (PR 136).

	The metaserver command causes server_close_udp() to be called. 
	However, if server_open_udp() hadn't been called, then
	server_close_udp() closed file descriptor 0.  I added some checks
	to make sure this doesn't happen.

Wed Nov 10 23:09:29 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* server/cityhand.c:

	Adding comment for future suggested enhancements re: AI buying
	accelerated production.

Mon Nov  8 03:36:46 1999  Jeff Mallatt <jjm@codewell.com>:

	* server/plrhand.c:

	Changed to fetch plural form of nation name for Revolution
	response.  Bug submitted by Egbert Hinzen <garfy@ehinzen.de>.

Mon Nov  8 03:22:24 1999  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Updates to German translation.  Patch by Egbert Hinzen
	<garfy@ehinzen.de>.

Mon Nov  8 03:12:23 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/helpdata.c, client/options.c, client/gui-gtk/gamedlgs.c:

	Added calls to _() and fixed some strings so that the Local
	Options dialog and the Rivers help text are translated.  Bugs
	submitted by Egbert Hinzen <garfy@ehinzen.de>.

Sun Nov  7 16:26:15 1999  Jeff Mallatt <jjm@codewell.com>:

	* server/citytools.c:

	Fixed bug (PR 163) where units in disbanded city that were not
	supported by the city were transported to nearby cities, and
	re-homed there.  Patch submitted by Thue Janus Kristensen
	<Thue.kristensen@get2net.dk>.

Sat Nov  6 16:03:21 1999  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Rearranged a few cities for the Polish nation.  Patch submitted by
	Tomasz Wegrzanowski <maniek@beer.com>.

Sat Nov  6 15:19:45 1999  Jeff Mallatt <jjm@codewell.com>:

	* data/civ2/units.ruleset, data/default/units.ruleset:

	Changed Fighters and Stealth Fighters in the default and civ2
	rulesets to not cause unhappiness.  This conforms to Civ2 rules. 
	Changed submitted by David Pfitzner <dwp@mso.anu.edu.au>.

Sat Nov  6 14:16:32 1999  Jeff Mallatt <jjm@codewell.com>:

	* common/city.c, server/stdinhand.c:

	When civstyle is 2, cities on mountains will produce an extra
	food.  Patch submitted by Jerzy Klek <qpkjeek@epk.ericsson.se>.

Fri Nov  5 21:45:52 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* client/gui-gtk/repodlgs.c:

	Make report title translatable in GTK client.  Patch submitted by
	Egbert Hinzen.

Fri Nov  5 18:33:50 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* server/settlers.c:

	Rewrite of is_wet() to be more efficient.  AJS

Fri Nov  5 18:23:11 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* server/unittools.c:

	Moving enemies_at() check for early termination to an earlier
	point in the function.

Fri Nov  5 15:12:14 1999  Lalo Martins <lalo@debian.org>:

	* po/pt_BR.po:

	Improve a little more the pt_BR translation. The patch is by
	Thiago J. Bauermann <jungmann@cwb.matrix.com.br> and he may be
	taking over pt_BR.po. Cheers Thiago.

Fri Nov  5 10:48:33 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/climisc.c:

	Initialize packet.name in client_change_all(); otherwise server
	sometimes reports, eg: "1: received bad string in packet (type 18,
	len 53)" when do "Change All" from City Report.  Fixes bug
	reported by Mikolaj Konarski <mikon@mimuw.edu.pl>.

Tue Nov  2 19:03:03 1999  Lalo Martins <lalo@debian.org>:

	* debian/changelog, debian/dirs, debian/freeciv-gtk.dirs,
	debian/freeciv-gtk.postinst, debian/freeciv-xaw.dirs,
	debian/freeciv-xaw.postinst, debian/freeciv-xaw3d.dirs,
	debian/freeciv-xaw3d.postinst, debian/rules:

	Disabled the "freeciv-xaw" package (partially, ugh, bug);

	Made the translated message files really install;

	Dealt with the change in policy from /usr/man to /usr/share/man;

	Introduced a few extra Debian bugs, probably :-)

Tue Nov  2 17:03:53 1999  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	Further improvements to the German (de) translation.  Patch by
	Egbert Hinzen <garfy@ehinzen.de> and Moritz Muehlenhoff
	<muehlenhoff@gmx.de>.

Sun Oct 31 13:08:51 1999  Jeff Mallatt <jjm@codewell.com>:

	* po/de.po:

	New and improved German translation.  Translation by Egbert Hinzen
	<garfy@ehinzen.de> and Moritz Muehlenhoff <muehlenhoff@gmx.de>.

Sat Oct 30 12:35:01 1999  Jeff Mallatt <jjm@codewell.com>:

	* common/capstr.c:

	Made river_help_text capability non-mandatory.

Fri Oct 29 17:29:46 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/helpdata.c, client/packhand.c, common/capstr.c,
	common/map.h, common/packets.c, data/civ1/terrain.ruleset,
	data/civ2/terrain.ruleset, data/classic/terrain.ruleset,
	data/default/terrain.ruleset, server/ruleset.c:

	Adds help text for Civ-2 style rivers.  Patch submitted by Greg
	Wooledge <wooledge@kellnet.com>, committed with minor changes.

Fri Oct 29 15:33:13 1999  Jeff Mallatt <jjm@codewell.com>:

	* data/default/nations.ruleset:

	Qualifies all plural forms in nations.ruleset with '?plural:'.

Fri Oct 29 15:16:50 1999  Jeff Mallatt <jjm@codewell.com>:

	* server/unithand.c:

	Adds Caravan's home city to the message sent upon establishing a
	trade route.  Patch submitted by Greg Wooledge
	<wooledge@kellnet.com>.

Fri Oct 29 15:01:27 1999  Jeff Mallatt <jjm@codewell.com>:

	* po/.cvsignore:

	Added en_GB.mo and en_GB.gmo to po/.cvsignore.

Fri Oct 29 14:56:59 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/mapctrl.c, client/gui-xaw/mapctrl.c:

	Adds some text to the middle-button popup if a city has walls. 
	Patch submitted by Greg Wooledge <wooledge@kellnet.com>.

Fri Oct 29 14:38:30 1999  Jeff Mallatt <jjm@codewell.com>:

	* po/en_GB.po:

	Addes the en_GB.po file.  File provided by Robert Brady
	<rwb197@ecs.soton.ac.uk>.

Fri Oct 29 14:35:56 1999  Jeff Mallatt <jjm@codewell.com>:

	* data/civ1/buildings.ruleset, configure, configure.in,
	data/civ2/buildings.ruleset, data/engels/flags.spec,
	data/engels/flags.xpm, data/default/buildings.ruleset,
	data/default/nations.ruleset, data/trident/flags.spec,
	data/trident/flags.xpm:

	Distinguishes English and British: - fixes use of British English
	instead of US English in buildings.ruleset - adds English flag,
	and used instead of UK flag, for the "English" - removes Scottish,
	Welsh, Irish cities from "English" cities list - adds some more
	English cities - addsd the en_GB locale Patch submitted by Robert
	Brady <rwb197@ecs.soton.ac.uk>.

Fri Oct 29 13:40:39 1999  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in:

	Restored --keyword=Q_ AutoConf code, and fixed it to be more
	general (able to be run on more platforms).

Fri Oct 29 13:27:04 1999  Jeff Mallatt <jjm@codewell.com>:

	* common/map.c:

	Fixes bug where map generator did not put specials near Civ2-style
	rivers.  Bug reported and patch submitted by Jerzy Klek
	<qpkjeek@epk.ericsson.se>.

Wed Oct 27 17:53:58 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* ai/aiunit.c:

	Small change to find_beachhead to make it more efficient.

Sat Oct 23 20:28:06 1999  Lalo Martins <lalo@debian.org>:

	* debian/changelog:

	version 0.1.9-1 in debian/changelog

Sat Oct 23 14:20:01 1999  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, client/gui-xaw/Freeciv.h,
	common/version.h, data/Freeciv:

	Change version from 1.9.0 to 1.9.1-devel.

Sat Oct 23 13:46:33 1999  Jeff Mallatt <jjm@codewell.com>:

	* common/city.c:

	Fixed bug where Lighthouse was not producing veteran sea units. 
	Bug reported and patch submitted by Greg Wooledge
	<wooledge@kellnet.com>.

Fri Oct 22 16:07:26 1999  Paul Zastoupil <paulz@adnc.com>:

	* PEOPLE:

	Changed email address for David Serrada

Wed Oct 20 05:44:58 1999  Jeff Mallatt <jjm@codewell.com>:

	* PEOPLE:

	Removed "Mirror Sites" section from PEOPLE, since the only site is
	no longer an active mirror.  Also, made a minor formatting change.
	Suggested by David Pfitzner <dwp@mso.anu.edu.au>.

Tue Oct 19 13:21:07 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* BUGS, NEWS, README, configure, configure.in,
	client/gui-xaw/Freeciv.h, data/Freeciv, common/version.h: Version
	number to 1.9.0.

Tue Oct 19 13:04:32 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in: Commented out (for now) commands which
	massage po/Makefile to make xgettext recognise Q_() as marking
	strings, since has a minor problem and there are no strings marked
	this way yet.

Tue Oct 19 12:52:41 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* po/de.po, po/es.po, po/fr.po, po/hu.po, po/pl.po, po/pt.po,
	po/pt_BR.po: Ran 'make update-po' (mostly line numbers, some minor
	updates and reformatting).

Tue Oct 19 11:57:08 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* po/es.po: Updated (still only partial) Spanish translations,
	submitted by David Perez Serrada <dperezs@nexo.es>, with some
	small fixes by me.

Mon Oct 18 12:14:36 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* NEWS, PEOPLE, data/default/nations.ruleset,
	data/trident/flags.spec, data/trident/flags.xpm,
	data/engels/flags.spec, data/engels/flags.xpm: Added Czech nation,
	by Jarda Benkovsky <pvt.benkovsk@pvtnet.cz>, and Australian
	nation, by Jerzy Klek <qpkjeek@epk.ericsson.se>.  New flag for
	Czech, and also a barbarian flag for future use.  Patch submitted
	by Jerzy Klek.

Mon Oct 18 10:23:55 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* po/pl.po: Updated (still partial) Polish translations, submitted
	by Artur Biesiadowski <abies@pg.gda.pl>.

Sun Oct 17 15:38:12 1999  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in: Fixed bug where '--keyword=Q_' was
	being added to 'po/Makefile' multiple times, in some
	circumstances.  Bug reported by David Pfitzner
	<dwp@mso.anu.edu.au>.

Sun Oct 17 13:02:08 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* PEOPLE: Added recent bug reporters.

Sun Oct 17 12:47:26 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* BUGS: Added Known Bugs info about Gtk+ chatline focus problem
	(and moving units with arrow keys), and Great Wall not allowing
	building City Walls.

Sun Oct 17 12:29:33 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* NEWS: Added some NEWS information about maintainer and webmaster
	changes, and noted which languages are included with (partial)
	translations.

Sun Oct 17 12:10:59 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/capstr.c: Changed capability string to final "+1.9".

Sun Oct 17 12:04:46 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/civ1/buildings.ruleset, data/civ1/governments.ruleset,
	data/civ1/techs.ruleset, data/civ1/terrain.ruleset,
	data/civ1/units.ruleset, data/civ2/buildings.ruleset,
	data/civ2/governments.ruleset, data/civ2/techs.ruleset,
	data/civ2/terrain.ruleset, data/civ2/units.ruleset,
	data/classic/terrain.ruleset, data/default/buildings.ruleset,
	data/default/cities.ruleset, data/default/governments.ruleset,
	data/default/nations.ruleset, data/default/techs.ruleset,
	data/default/terrain.ruleset, data/default/units.ruleset,
	server/ruleset.c: Simplified all ruleset options strings to be
	just: "1.9" (all are new or incompatibly changed since previous
	stable release).

Sun Oct 17 11:35:25 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/dialogs.c: Added call to gtk_widget_realize() in
	popup_notify_dialog(), to avoid strange warnings when using
	gtk-1.2.6.  Problem/fix/patch all by Jeff Mallatt.

Sun Oct 17 11:28:27 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* BUGS, INSTALL, README, README.AI, TODO: Minor documentation
	updates, with help from Jeff Mallatt.  - INSTALL: updated version
	numbers for external packages listed here; - README: adjusted
	'help' example; adjusted comments about tilesets re trident as
	default; fixed metaserver address; updated comment about games on
	the metaserver.  - README.AI: AI spaceships and traderoutes.  -
	TODO: some items removed (done), some new or altered.  Others/all:
	minor fixes.

Sat Oct 16 16:20:58 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/packhand.c, client/gui-xaw/mapview.c,
	client/gui-gtk/mapview.c: Add code to update the map grid in the
	case of a new city being created.  It also changes the grid
	drawing code to draw a more symmetric/consistent grid when part of
	a city's radius is in unknown territory.  Bug reported by Nils
	Jeppe <nils@jeppe.de>.

Sat Oct 16 15:35:14 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-xaw/Freeciv.h, client/gui-xaw/citydlg.c,
	data/Freeciv: Change layout code in city dialog to use translated
	strings during the initial layout.  Now, long translated strings
	will not be truncated.  Bug submitted by Christoph Kutzinski
	<kutzi@gmx.de>.

Sat Oct 16 08:03:51 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/tilespec.c: Fixed a typo whereby life support modules
	used solar panels graphic.

Sat Oct 16 07:20:54 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* README.rulesets: Update to README.rulesets reflecting various
	changes in current code.  Removed "Changes outline" section since
	no longer very interesting.

Sat Oct 16 07:16:16 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* po/hu.po: Updated (partial) Hungarian translation, submitted by
	"Ba'rdosi Zolta'n" <hck@lin.lkg.c3.hu>.

Sat Oct 16 02:06:14 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* PEOPLE, configure, configure.in, po/.cvsignore, po/pt_BR.po:
	Added Brazilian Portuguese translation (partial), based on pt.po,
	submitted by Lalo Martins <lalo@webcom.com>.

Fri Oct 15 14:47:34 1999  Jeff Mallatt <jjm@codewell.com>:

	* data/helpdata.txt: Changed a lingering
	http://www.freeciv.org/metaserver/ to
	http://meta.freeciv.org/metaserver/ in helpdata.txt.

Fri Oct 15 12:16:24 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/Freeciv.h, client/clinet.h, data/Freeciv,
	server/meta.h: Use meta.freeciv.org for default metaserver URLs
	instead of www.freeciv.org; idea and host setup thanks to Paul
	Zastoupil <paulz@adnc.com>.

Fri Oct 15 11:53:22 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* PEOPLE, data/helpdata.txt: List Jeff Mallatt <jjm@codewell.com>
	as Freeciv administrator.

Wed Oct 13 13:59:36 1999  Jeff Mallatt <jjm@codewell.com>:

	* common/fcintl.c, common/fcintl.h: Removed "const" from return of
	skip_intl_qualifier_prefix() function, so its prototype matches
	that of gettext(), so we can use Q_() anywhere that we could use
	_().

Wed Oct 13 13:17:20 1999  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in: Arranged for qualified translatable
	strings to be "marked" by their use of the Q_() macro.

	This was done by extending configure (via configure.in) to add
	"--keyword=Q_" to the xgettext call in 'po/Makefile'.

Wed Oct 13 12:02:29 1999  Jeff Mallatt <jjm@codewell.com>:

	* Imakefile, Makefile.noimake: Removed no-longer supported files
	'Imakefile' and 'Makefile.noimake'.

Tue Oct 12 13:12:24 1999  Jeff Mallatt <jjm@codewell.com>:

	* data/Makefile.am, data/Makefile.in: Here are data/Makefile.am
	and data/Makefile.in for the previous commit.

Tue Oct 12 13:04:17 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/tilespec.c, data/default.tilespec, data/trident.tilespec:
	Changed to use 'trident.tilespec' as default tilespec filename. 
	Renamed data/default.tilespec to data/trident.tilespec.  After
	long discussion with Tony Stuckey <stuckey@jaka.ece.uiuc.edu> and
	David Pfitzner <dwp@mso.anu.edu.au> :)

Tue Oct 12 11:03:06 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* NEWS, data/default/nations.ruleset: Added Sioux nation; patch
	submitted by Jerzy Klek <qpkjeek@epk.ericsson.se>.

Sun Oct 10 04:25:38 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/plrhand.c: Added pcity->did_sell to savefile, otherwise
	selling was messed up on first turn from reload.

Sun Oct 10 02:33:29 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* po/de.po, po/es.po, po/fr.po, po/hu.po, po/pl.po, po/pt.po:
	Updated po files to match latest freeciv.pot (via 'make
	update-po').

Sun Oct 10 02:30:25 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/helpdata.txt: Removed _("") in a comment because gettext
	was picking it up!

Sun Oct 10 02:29:43 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/helpdata.c, server/unittools.c: Check return of
	get_units_with_flag_string() in two cases where it could be NULL
	(ruleset dependent), before printing.

Sun Oct 10 02:29:02 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* NEWS, PEOPLE: Updated PEOPLE file for contributions since 1.8.1.
	Updated NEWS with changes since 1.8.1 -- lots!

Sat Oct  9 11:36:30 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/citydlg.c: Fix bug in GTK+ client where some
	citizen icons look "faded" (PR#100).  Bug reported by David
	Pfitzner <dwp@mso.anu.edu.au>.

Sat Oct  9 03:54:42 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/nations.ruleset: Add the Finnish nation, and
	correct a spelling mistake for a Swedish city.  Patch submitted by
	Mika Korhonen <mikak@ees2.oulu.fi>.  Also marked "Portuguese" for
	i18n.

Sat Oct  9 03:42:41 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/graphics.c, client/gui-gtk/helpdlg.c: Fix bug
	that accessing help in gtk client, after connecting but before
	game start, would exit client.  Bug (PR#142) reported by Idan
	Sofer <sofer@ibm.net>; fix submitted by Reinier Post
	<rp@win.tue.nl>.

Thu Oct  7 22:15:50 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* client/gui-gtk/citydlg.c, client/gui-xaw/citydlg.c: Changing the
	client Trade Popup window terminology from "Gold/Year" to
	"Trade/Year".  "Gold" has other game meanings that aren't
	appropriate to the continuing income from trade routes.

Thu Oct  7 21:59:31 1999  Jeff Mallatt <jjm@codewell.com>:

	* data/civ1/terrain.ruleset, common/Makefile.am,
	common/Makefile.in, common/fcintl.c, common/fcintl.h,
	common/game.c, data/civ2/terrain.ruleset,
	data/classic/terrain.ruleset, data/default/terrain.ruleset,
	po/de.po, po/es.po, po/fr.po, po/hu.po, po/pl.po, po/pt.po: Added
	capability to qualify translatable strings.  Qualified strings are
	prefixed by "?qualifier:", which is stripped by the new Q_()
	macro, which, in turn, calls the new skip_intl_qualifier_prefix()
	function to do the real work.  This also changes "Game Animals"
	back to "Game".

Thu Oct  7 19:59:01 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* ai/advdomestic.c, ai/aicity.c, client/gui-gtk/citydlg.c,
	client/gui-gtk/cityrep.c, client/gui-xaw/citydlg.c,
	client/gui-xaw/cityrep.c, common/capstr.c, server/cityturn.c:
	Committing foodbox patch.  Capability string updated to include
	+foodbox.

Thu Oct  7 19:31:36 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* data/default/nations.ruleset, data/engels/flags.spec,
	data/engels/flags.xpm, data/trident/flags.spec,
	data/trident/flags.xpm: Added Portuguese race.

Mon Oct  4 13:36:15 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aicity.c, client/civclient.c, client/control.c,
	client/tilespec.c, client/gui-gtk/diplodlg.c,
	client/gui-xaw/colors.c, client/gui-xaw/diplodlg.c,
	client/gui-xaw/graphics.c, client/gui-xaw/gui_main.c,
	common/log.c, common/mem.c, common/shared.c, po/POTFILES.in,
	server/cityhand.c, server/citytools.c, server/cityturn.c,
	server/civserver.c, server/diplhand.c, server/gamelog.c,
	server/handchat.c, server/maphand.c, server/meta.c,
	server/plrhand.c, server/ruleset.c, server/spacerace.c,
	server/stdinhand.c, server/unitfunc.c, server/unithand.c,
	server/unittools.c: Marked a few more strings, and adjusted
	others, in particular for more consistent capitalisation and
	punctuation of messages.

Mon Oct  4 11:32:26 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/clinet.c, client/control.c, ai/aicity.c,
	client/gui-gtk/citydlg.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/helpdlg.c, client/gui-gtk/messagewin.c,
	client/gui-xaw/chatline.c, client/gui-xaw/citydlg.c,
	client/gui-xaw/cityrep.c, client/gui-xaw/dialogs.c,
	client/gui-xaw/diplodlg.c, client/gui-xaw/gui_main.c,
	client/gui-xaw/helpdlg.c, client/gui-xaw/inteldlg.c,
	client/gui-xaw/mapctrl.c, client/gui-xaw/mapview.c,
	client/gui-xaw/messagewin.c, client/gui-xaw/plrdlg.c,
	client/gui-xaw/repodlgs.c, common/log.c, common/map.c,
	common/shared.c, common/unit.c, po/POTFILES.in, server/cityhand.c,
	server/citytools.c, server/cityturn.c, server/civserver.c,
	server/console.c, server/diplhand.c, server/handchat.c,
	server/maphand.c, server/meta.c, server/plrhand.c,
	server/spacerace.c, server/stdinhand.c, server/unitfunc.c,
	server/unithand.c, server/unittools.c: Marked more strings for
	translation, especially in common, server, ai.  (Parts will only
	work well if server and client use same language.) Adjusted
	treatment of "Game: " message prefix in add_notify_window() to try
	to strip both untranslated and locally translated prefix.  In
	set_title_topic() check for translated "About".  Changed some
	cases where building and unit names (especially spy and diplomat)
	were hardcoded in messages strings, to now use eg unit_name()
	instead, for better support for modpacks.

Sun Oct  3 09:41:57 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* config.mac.h: Update to config.mac.h, submitted by Andy Black
	<ablack@bvsd.k12.co.us>.

Sun Oct  3 08:52:15 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/dialogs.c, client/gui-xaw/dialogs.c,
	server/plrhand.c: Fixed bug that clicking on rates icons after
	connection but before game start could cause server crash (or at
	least complaint, for recent servers).  Fixed in clients, and also
	made server more defensive.  Fixes bug (PR#140) reported by Jerzy
	Klek <qpkjeek@epk.ericsson.se>.

Sun Oct  3 07:49:42 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/civ1/buildings.ruleset, data/civ1/techs.ruleset,
	data/civ1/units.ruleset, data/civ2/buildings.ruleset,
	data/civ2/techs.ruleset, data/civ2/units.ruleset,
	data/default/buildings.ruleset, data/default/techs.ruleset,
	data/default/units.ruleset: Some fixes and improvements to
	helptext, suggested by Per Mathisen <permath@ifi.ntnu.no>.

Sun Oct  3 07:19:57 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/helpdata.c, client/gui-gtk/helpdlg.c,
	client/gui-xaw/helpdlg.c, data/helpdata.txt, po/POTFILES.in:
	Converted helpdata.txt to registry format, to allow i18n.

Sun Oct  3 07:15:27 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aihand.c, ai/aitech.c, common/game.c, common/game.h,
	common/government.h, data/civ1/governments.ruleset,
	data/civ2/governments.ruleset, data/default/governments.ruleset,
	server/ruleset.c: Added ai_goal and subgoal entries to governments
	rulesets so can remove remains of G_ANARCHY etc, in
	ai_manage_government() and get_government_tech() (without going
	yet to full (unfixed, untested) government evaluation code).

Sun Oct  3 07:13:56 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/log.c: When writing repeated log messages, use prev_level
	instead of level.

Sat Oct  2 05:34:29 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* po/de.po: Updated de.po, by Manop Huber
	<saphir@cs.tu-berlin.de>, submitted by Sebastian Feuerstack
	<Sebastian@Feuerstack.de>.

Sat Oct  2 05:29:18 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/dialogs.c, client/gui-xaw/Freeciv.h,
	client/gui-xaw/dialogs.c, common/city.h, common/game.c,
	common/nation.c, data/Freeciv, data/default/cities.ruleset,
	po/POTFILES.in, server/ruleset.c: Marked city style changes for
	i18n, including names of styles.  Added bounds checking in
	get_nation_city_style().  In load_ruleset_cities, changed order so
	no need to malloc for replacements.

Sat Oct  2 04:28:49 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/trident/roads.spec, data/trident/roads.xpm: Improved the
	trident roads to be more like current engels tileset: each road
	tile slightly different, to reduce repetition on map, rather than
	having each tile based on exactly the same template.

	Added narrower rails (like current engels tileset), which obscure
	less terrain than original trident rails.  But they don't look
	quite as nice as originals, so left originals in xpm as well, and
	can change back by editing one number in trident/roads.spec.

Sat Oct  2 04:12:00 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/capstr.c: Modified the capability string, because the
	city style stuff made changes to the protocol.

Fri Oct  1 16:06:48 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-xaw/citydlg.c, client/gui-xaw/cityrep.c,
	client/gui-xaw/connectdlg.c, client/gui-xaw/dialogs.c,
	client/gui-xaw/gui_main.c: Fix a few oddities in dialog
	positioning in the Xaw client.

Fri Oct  1 15:09:48 1999  Jeff Mallatt <jjm@codewell.com>:

	* README.graphics, README.rulesets, client/civclient.c,
	client/packhand.c, client/packhand.h, client/tilespec.c,
	client/tilespec.h, client/gui-gtk/dialogs.c,
	client/gui-xaw/Freeciv.h, client/gui-xaw/dialogs.c, common/city.c,
	common/city.h, common/game.c, common/game.h, common/nation.c,
	common/nation.h, common/packets.c, common/packets.h,
	common/player.c, common/player.h, data/Freeciv,
	data/default.tilespec, data/engels.tilespec,
	data/default/Makefile.am, data/default/Makefile.in,
	data/default/cities.ruleset, data/default/nations.ruleset,
	data/engels/Makefile.am, data/engels/Makefile.in,
	data/engels/cities.spec, data/engels/cities.xpm,
	data/engels/tiles.spec, data/trident/Makefile.am,
	data/trident/Makefile.in, data/trident/cities.spec,
	data/trident/cities.xpm, data/trident/tiles.spec,
	server/civserver.c, server/gamehand.c, server/plrhand.c,
	server/ruleset.c, server/stdinhand.c: Patch to implement varying
	city display styles, depending upon city size and civilization
	advancement.  Patch submitted by Jerzy Klek
	<qpkjeek@epk.ericsson.se>.

Thu Sep 30 14:25:09 1999  Jeff Mallatt <jjm@codewell.com>:

	* common/government.c: Added sanity checks to
	get_government_max_rate() and get_government_name().  Calls to
	these before starting a game (hence, before loading government
	ruleset) was causing core dumps.  Specifically addresses bug
	report PR#138.  Bug reported by Matt Starnes <matt@mail.ltlb.com>.

Thu Sep 30 13:10:25 1999  Jeff Mallatt <jjm@codewell.com>:

	* po/pt.po: Fixed bug in latest pt.po -- one translation did not
	have consistent newlines.  Error message was: pt.po:1272: `msgid'
	and `msgstr' entries do not both end with '\n'

Thu Sep 30 12:38:32 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/repodlgs.c: Fixed bug where gtk+ client's
	Military Report showed only Unit Type column.  Caused by
	introduction of intl_slist() i18n mechanism.  Bug reported by Tony
	Stuckey <stuckey@jaka.ece.uiuc.edu>

Thu Sep 30 12:21:52 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* po/pt.po: *** empty log message ***

Tue Sep 28 21:09:28 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/connectdlg.c, client/gui-gtk/graphics.c,
	client/gui-xaw/graphics.c: A few, minor UI fixes.  Increased the
	height of the gtk client's connect dialog, so the betatest message
	is not clipped.  Used font metrics and sprite extents to determine
	where to draw version text onto the overview initial graphic (both
	clients).

Tue Sep 28 19:38:35 1999  Jeff Mallatt <jjm@codewell.com>:

	* README.graphics: Changed references to trident tileset into
	engels tileset.

Tue Sep 28 15:02:10 1999  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, data/Makefile.am, data/Makefile.in,
	data/classic_terrain.ruleset, data/default.tilespec,
	data/engels.tilespec, data/intro.xpm, data/radar.xpm,
	data/trident.tilespec, data/classic/.cvsignore,
	data/classic/Makefile.am, data/classic/Makefile.in,
	data/classic/terrain.ruleset, data/default/Makefile.am,
	data/default/Makefile.in, data/default/flags.spec,
	data/default/flags.xpm, data/default/roads.spec,
	data/default/roads.xpm, data/default/small.spec,
	data/default/small.xpm, data/default/space.spec,
	data/default/space.xpm, data/default/tiles.spec,
	data/default/tiles.xpm, data/default/treaty.spec,
	data/default/treaty.xpm, data/default/units.spec,
	data/default/units.xpm, data/engels/.cvsignore,
	data/engels/Makefile.am, data/engels/Makefile.in,
	data/engels/flags.spec, data/engels/flags.xpm,
	data/engels/roads.spec, data/engels/roads.xpm,
	data/engels/tiles.spec, data/engels/tiles.xpm,
	data/engels/units.spec, data/engels/units.xpm,
	data/misc/.cvsignore, data/misc/Makefile.am,
	data/misc/Makefile.in, data/misc/intro.xpm, data/misc/radar.xpm,
	data/misc/small.spec, data/misc/small.xpm, data/misc/space.spec,
	data/misc/space.xpm, data/misc/treaty.spec, data/misc/treaty.xpm,
	po/POTFILES.in, po/pt.po: Reorganized the data directory.  Added
	the data/engels and data/misc directories.  Moved Engels tiles
	files into data/engels, and all other image files into data/misc. 
	Changed the default tileset to be the Trident tileset.  Moved
	classic_terrain.ruleset to classic/terrain.ruleset.  Also, fixed
	minor, unrelated bug in po/pt.po.

Tue Sep 28 11:51:30 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* po/pt.po: Translated a couple of strings here and there.

Mon Sep 27 14:58:47 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in, client/gui-xaw/Freeciv.h,
	common/version.h, data/Freeciv: Named cvs version as "1.8.4-devel"
	(beta).

Mon Sep 27 14:29:04 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in, client/gui-xaw/Freeciv.h,
	common/version.h, data/Freeciv: Update version number to 1.8.3
	(beta).

Mon Sep 27 14:24:47 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* po/de.po, po/es.po, po/fr.po, po/hu.po, po/pl.po, po/pt.po:
	Updates to po files by "make dist": normalised vs freeciv.pot, and
	it tried to do automatic ("fuzzy") updates; many of these look
	disastrous, but it seems they don't get used by gettext until the
	fuzzy tag is later removed by hand by translator.

Mon Sep 27 13:21:39 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/control.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/menu.c, common/capstr.c, client/gui-xaw/dialogs.c,
	client/gui-xaw/menu.c: Consolidated capability string to
	"+1.9pre1", in preparation for final "+1.9" protocol; adjusted
	code which previously checked particular capability tags.

Mon Sep 27 13:19:20 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/options.c: When reading .civclientrc, sanity-check index
	from "message_where_*" entries to avoid possible core dumps. 
	Patch submitted by Corin Anderson <corin@the4cs.com>.

Mon Sep 27 13:17:23 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/connectdlg.c, client/gui-xaw/Freeciv.h,
	common/version.h, data/Freeciv, server/meta.c, server/meta.h:
	Changed notices about "beta release" to say "beta version", so it
	applies not just to point releases.  Moved a comment block from
	meta.h to meta.c.

Mon Sep 27 13:14:49 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ChangeLog: Interim ChangeLog update.

Sun Sep 26 21:26:26 1999  Sebastian Bauer <sebauer@t-online.de>:

	* common/packets.c: Renamed the _int* functions to _sint* and
	surrounded them with #ifdef #endif pair because they are not used
	currently and gcc generates a warning otherwise. Also use a
	probably safer method to ensure the sign of a value.

	Suggested by David Pfitzner <dwp@mso.anu.edu.au>

Sun Sep 26 11:54:39 1999  Sebastian Bauer <sebauer@t-online.de>:

	* common/packets.c: New *_int* functions in packet.c which take
	care of the sign. They are currently not used.

Sun Sep 26 09:59:49 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/Freeciv.h, data/Freeciv, data/helpdata.txt: Fixed
	some cases where metaserver URL was still the daimi address.

Sun Sep 26 09:58:53 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* freeciv_hackers_guide.txt: Added some maintainer-notes about
	incrementing the version number.

Sun Sep 26 09:58:07 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* acconfig.h, config.h.in, configure, configure.in,
	client/clinet.c, client/gui-gtk/graphics.c,
	client/gui-xaw/Freeciv.h, client/gui-xaw/graphics.c,
	common/packets.c, common/packets.h, common/version.h,
	data/Freeciv, server/civserver.c: Added support for a descriptive
	label as part of the version string; label is currently "-devel".

Sun Sep 26 09:56:10 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c, common/city.h, common/game.c, common/game.h,
	common/government.h, common/map.h, common/nation.h, common/tech.h,
	common/unit.h, server/ruleset.c: Activate translations for names
	marked in rulesets (unit names etc).  Keep copies of untranslated
	names too, since useful for some purposes (eg, for server to send
	to clients).

Sun Sep 26 09:53:29 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/helpdlg.c: In gtk help_hyperlink_callback(),
	check against gettext versions of "(Never)" and "None", to work
	properly when i18n'd.  Also check vs advances[A_NONE].name
	(necessary for now).

Sat Sep 25 16:16:31 1999  Sebastian Bauer <sebauer@t-online.de>:

	* common/packets.c, common/packets.h, server/meta.c: Renamed all
	packet functions from *_int* to *_uint* because they are no real
	signed functiones. This is a first step to solve the problems with
	signed values in packets.  Added comment which describes next
	steps.

Sat Sep 25 14:02:06 1999  Jeff Mallatt <jjm@codewell.com>:

	* data/helpdata.txt: Added some Airbase information to
	helpdata.txt.

Sat Sep 25 12:06:52 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/helpdata.c, client/helpdata.h, client/gui-gtk/helpdlg.c,
	client/gui-xaw/Freeciv.h, client/gui-xaw/helpdlg.c, data/Freeciv:
	Added explicit information about unit upkeep parameters to help
	dialogs about unit types, covering full upkeep generality now
	allowed by rulesets.  For Gtk+ client, also moved vision range
	information to separate widget instead of being in text part.

Sat Sep 25 12:05:35 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/options.c: Use user_home_dir() instead of explicit
	getenv("HOME") in open_option_file().

Sat Sep 25 12:04:59 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/tilespec.c, client/tilespec.h, client/gui-gtk/mapview.c,
	client/gui-xaw/mapview.c: Solid background colors were broken for
	nations 14 and above, since there are only 14 nation colors
	defined.  Fixed by making the color depend on the player number
	instead of the nation number, since the player number is still
	restricted to less than 14.

Sat Sep 25 12:04:02 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/government.c, common/government.h, common/nation.c,
	common/nation.h, data/civ1/governments.ruleset,
	data/civ2/governments.ruleset, data/default/governments.ruleset,
	data/default/nations.ruleset, server/ruleset.c: Moved all
	nation-specific ruler titles to nations ruleset, leaving only the
	default ruler titles in government ruleset.  So government ruleset
	is not dependent on nations.  This allows also to simplify nation
	struct by removing the goals strings and init_nation_goals()
	function.  Patch submitted by Jerzy Klek
	<qpkjeek@epk.ericsson.se>.  Also added some i18n marking for ruler
	titles (but not yet used).

Sat Sep 25 12:02:51 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/nations.ruleset, po/POTFILES.in: Mark nation names
	for i18n (not yet used).  From patch submitted by Jerzy Klek
	<qpkjeek@epk.ericsson.se>.

Sat Sep 25 12:02:07 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/flags.spec, data/default/flags.xpm,
	data/default/nations.ruleset, data/trident/flags.spec,
	data/trident/flags.xpm: Added graphics for Sioux and Norway flags,
	and changed Viking flag to f.norway, since f.denmark is now used
	by Danish.  Submitted by Jerzy Klek <qpkjeek@epk.ericsson.se>.

Sat Sep 25 12:01:15 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/classic_terrain.ruleset, data/civ1/terrain.ruleset,
	data/civ2/terrain.ruleset, data/default/terrain.ruleset: Changed
	terrain special named "Game" to "Game Animals", to distinguish
	from "Game" menu in translations (problem pointed out by Artur
	Biesiadowski <abies@pg.gda.pl>).

Sat Sep 25 12:00:20 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/gamedlgs.c, client/gui-xaw/Freeciv.h,
	client/gui-xaw/ratesdlg.c, data/Freeciv: Made buffers longer in
	rates_set_values() and popup_rates_dialog(), to avoid overflow
	when words are longer in different LANGs; also made default Xaw
	resource text longer to allow more space.

Sat Sep 25 11:59:04 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in, po/.cvsignore, po/de.po, po/es.po,
	po/fr.po, po/hu.po, po/pl.po, po/pt.po: Updates to po files: new
	de.po, by Manop Huber <Saphir@cs.tu-berlin.de>, submitted by
	"Sebastian Feuerstack" <Sebastian@Feuerstack.de>; fixes and
	updates to fr.po, by Denis Bodor <dbodor@linuxmag-france.org>;
	tidied up and standardized first few lines for all .po files,
	including adding standard Freeciv copyright line.

Sat Sep 25 03:56:35 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/helpdlg.c, client/helpdata.c, client/helpdata.h,
	client/packhand.c, client/gui-xaw/helpdlg.c,
	client/include/helpdlg_g.h, common/capstr.c, common/city.h,
	common/government.h, common/map.h, common/packets.c,
	common/packets.h, data/classic_terrain.ruleset, data/helpdata.txt,
	data/civ1/buildings.ruleset, data/civ1/governments.ruleset,
	data/civ1/terrain.ruleset, data/civ2/buildings.ruleset,
	data/civ2/governments.ruleset, data/civ2/terrain.ruleset,
	data/default/buildings.ruleset, data/default/governments.ruleset,
	data/default/terrain.ruleset, po/POTFILES.in, server/ruleset.c:
	Moved helptext on buildings (improvements, wonders), terrain, and
	governments into ruleset files.  (Added new help category for
	governments.)

Thu Sep 23 17:57:42 1999  Sebastian Bauer <sebauer@t-online.de>:

	* server/unitfunc.c: Heli units no longer loose hitpoints when
	over an airbase (like Civ2)

Thu Sep 23 16:55:09 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/mapctrl.c: Displace gtk client middle-button
	popup so it is not obscured by the mouse cursor.  Patch submitted
	by Peter Schaefer <schaefer@cys.de>, applied with a minor change.

Thu Sep 23 16:08:27 1999  Jeff Mallatt <jjm@codewell.com>:

	* data/civ2/governments.ruleset, data/default/governments.ruleset:
	Changes rapture_size to 3, to conform to Civ2.

Thu Sep 23 15:53:57 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/graphics.c, data/radar.xpm,
	client/gui-xaw/graphics.c: Changes radar.xpm to use the "Freeciv"
	capitalization.  Also cleans-up the code that draw the version
	number onto the radar image.

Thu Sep 23 15:22:01 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-xaw/Freeciv.h, client/gui-xaw/citydlg.c,
	client/gui-xaw/gui_stuff.c, client/gui-xaw/helpdlg.c,
	data/Freeciv: Fix problem with using I_L() family on widgets after
	they are realized by having the underlying functions make the
	widgets temporarily resizable.

Thu Sep 23 13:01:26 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/gui_main.c, client/control.c, client/control.h,
	client/gui-xaw/Freeciv.h, client/gui-xaw/gui_main.c,
	client/gui-xaw/mapctrl.c, client/gui-xaw/mapctrl.h, data/Freeciv:
	Implemented <Escape> key cancels Go-To/Paradrop/nuke mode.

Thu Sep 23 12:09:12 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/graphics.c, client/gui-gtk/mapview.c,
	client/gui-xaw/graphics.c, client/gui-xaw/mapview.c,
	client/include/Makefile.am, client/include/Makefile.in,
	client/include/drop_cursor.xbm,
	client/include/drop_cursor_mask.xbm,
	client/include/goto_cursor.xbm,
	client/include/goto_cursor_mask.xbm,
	client/include/nuke_cursor.xbm,
	client/include/nuke_cursor_mask.xbm: Added Paradrop and Nuke
	cursors, and changed Go-To cursor.

Tue Sep 21 13:36:50 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/Freeciv.h, client/gui-xaw/citydlg.c,
	client/gui-xaw/cityrep.c, client/gui-xaw/connectdlg.c,
	client/gui-xaw/dialogs.c, client/gui-xaw/diplodlg.c,
	client/gui-xaw/finddlg.c, client/gui-xaw/gotodlg.c,
	client/gui-xaw/gui_main.c, client/gui-xaw/gui_stuff.c,
	client/gui-xaw/gui_stuff.h, client/gui-xaw/helpdlg.c,
	client/gui-xaw/inputdlg.c, client/gui-xaw/inteldlg.c,
	client/gui-xaw/mapctrl.c, client/gui-xaw/messagedlg.c,
	client/gui-xaw/messagewin.c, client/gui-xaw/optiondlg.c,
	client/gui-xaw/plrdlg.c, client/gui-xaw/ratesdlg.c,
	client/gui-xaw/repodlgs.c, client/gui-xaw/spaceshipdlg.c,
	po/POTFILES.in, data/Freeciv: Added i18n marking to many
	resources/widgets, and some code strings, for Xaw client.  Changed
	slightly the meaning of popup_message_dialog() arguments.

Tue Sep 21 13:07:17 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/connectdlg.c: Updated gtk client beta notice.

Tue Sep 21 12:44:47 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/citydlg.c, client/gui-gtk/cityrep.c,
	client/gui-gtk/connectdlg.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/diplodlg.c, client/gui-gtk/gui_stuff.c,
	client/gui-gtk/gui_stuff.h, client/gui-gtk/messagewin.c,
	client/gui-gtk/plrdlg.c, client/gui-gtk/repodlgs.c: Fix i18n
	handling of widget column titles in gtk client.  Added/used
	function intl_slist() in gui_stuff.c.

Tue Sep 21 12:29:38 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/packhand.c, common/nation.c, common/packets.c: In
	handle_player_info(), only call update_info_label() if game is
	running.  Avoids various problems, in particular fixes bug
	(PR#128) reported by Markus Linnala, and possibly a bug reported
	by Corin Anderson <corin@the4cs.com>.  Allows more verbose logging
	of bounds failure in get_nation_name().  In iget_bit_string(),
	don't complain about empty strings.

Tue Sep 21 07:06:12 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-xaw/dialogs.c: Fix the return-key crashing bug in
	Select Nation dialog that I introduced when adding pick-leader
	support.

Mon Sep 20 20:50:42 1999  Jeff Mallatt <jjm@codewell.com>:

	* data/default/tiles.spec, data/default/tiles.xpm,
	data/trident/tiles.spec, data/trident/tiles.xpm: Artwork for
	Airbases and Airbase builders.  (Airbase patch by Sebastian Bauer
	<sebauer@t-online.de>.)

Mon Sep 20 19:11:13 1999  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-gtk/menu.c, client/control.c, client/control.h,
	client/helpdata.c, client/tilespec.c, client/tilespec.h,
	client/gui-xaw/Freeciv.h, client/gui-xaw/gui_main.c,
	client/gui-xaw/mapctrl.c, client/gui-xaw/mapctrl.h,
	client/gui-xaw/menu.c, common/capstr.c, common/map.c,
	common/map.h, common/tech.c, common/tech.h, common/unit.c,
	common/unit.h, data/Freeciv, data/helpdata.txt,
	data/civ1/techs.ruleset, data/civ2/techs.ruleset,
	data/civ2/units.ruleset, data/default/techs.ruleset,
	data/default/tiles.spec, data/default/units.ruleset,
	server/unitfunc.c, data/trident/tiles.spec: Added Airbase map
	special and "Airbase" flag in units.ruleset and techs.ruleset to
	allow the building of the airbases known from civ2.

	New Menu Item "Build Airbase" with shortcut 'e', to allow special
	units to build airbases.

	Modified default and civ2 rulesets to support these new flags.
	(Settlers and Engineers can build Airbases after Radio tech has
	been researched)

Mon Sep 20 16:22:25 1999  Jeff Mallatt <jjm@codewell.com>:

	* server/stdinhand.c: Indented the extra_help text for the
	"specials" server option, so it conforms to the rest.

Mon Sep 20 16:01:13 1999  Sebastian Bauer <sebauer@t-online.de>:

	* client/helpdata.c, client/packhand.c, common/capstr.c,
	common/packets.c, common/packets.h, common/unit.c, common/unit.h,
	data/civ1/units.ruleset, data/civ2/units.ruleset,
	data/default/units.ruleset, server/plrhand.c, server/ruleset.c,
	server/unitfunc.c: Maked paratroopers rules a little more
	configurable in units.ruleset and changed the included rulesets to
	match the civ2 rules, as suggested by Jeff Mallatt
	<jjm@codewell.com>

Sun Sep 19 22:13:58 1999  Sebastian Bauer <sebauer@t-online.de>:

	* ai/aitech.c, client/helpdata.c, client/packhand.c,
	client/gui-gtk/dialogs.c, client/gui-gtk/diplodlg.c,
	client/gui-gtk/helpdlg.c, client/gui-gtk/inteldlg.c,
	client/gui-gtk/repodlgs.c, client/gui-xaw/dialogs.c,
	client/gui-xaw/diplodlg.c, client/gui-xaw/helpdlg.c,
	client/gui-xaw/inteldlg.c, client/gui-xaw/repodlgs.c,
	common/capstr.c, common/game.c, common/game.h, common/packets.c,
	common/packets.h, common/player.c, common/tech.c, common/tech.h,
	data/civ1/techs.ruleset, data/civ2/techs.ruleset,
	data/default/techs.ruleset, server/citytools.c, server/gamehand.c,
	server/plrhand.c, server/ruleset.c, server/unitfunc.c: Allow
	variable number of techs (upto 199) in techs.ruleset.

Sun Sep 19 21:12:40 1999  Jeff Mallatt <jjm@codewell.com>:

	* configure, configure.in, data/Makefile.am, data/Makefile.in,
	data/earth-160x90.sav, data/earth-80x50.sav, data/europe.sav,
	data/scenario/.cvsignore, data/scenario/Makefile.am,
	data/scenario/Makefile.in, data/scenario/earth-160x90-v1.sav,
	data/scenario/earth-160x90-v2.sav,
	data/scenario/earth-80x50-v1.sav,
	data/scenario/earth-80x50-v2.sav,
	data/scenario/europe-200x100-v1.sav,
	data/scenario/europe-200x100-v2.sav: Reorganization of scenario
	files: - All scenario files now live in new "data/scenario"
	directory.  - Kept, but renamed, old scenario files.  - Converted
	all scenario files to new format (with rivers as overlays).

Sun Sep 19 20:32:49 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/connectdlg.c, client/gui-gtk/gui_main.c,
	client/gui-gtk/helpdlg.c, INSTALL.debian,
	freeciv_hackers_guide.txt, client/gui-xaw/Freeciv.h, data/Freeciv,
	data/classic_terrain.ruleset, data/civ1/terrain.ruleset,
	data/civ2/terrain.ruleset, data/default/terrain.ruleset,
	debian/changelog, debian/civclient.6, debian/civserver.6,
	debian/control, debian/freeciv-gtk.menu, debian/freeciv-xaw.menu,
	debian/freeciv-xaw3d.menu, debian/freeciv.desktop, debian/menu,
	po/es.po, po/pl.po: Normalized the Freeciv name by changing all
	occurrences of "FreeCiv" in the code to "Freeciv".

	I did not change the intro graphic.

Sun Sep 19 20:04:52 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/climisc.h, client/tilespec.c, client/tilespec.h,
	client/gui-gtk/citydlg.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/graphics.c, client/gui-gtk/gui_main.c,
	client/gui-gtk/mapctrl.c, client/gui-gtk/mapview.c,
	client/gui-xaw/dialogs.c, client/gui-xaw/graphics.c,
	client/gui-xaw/gui_main.c, client/gui-xaw/helpdlg.c,
	client/gui-xaw/mapctrl.c, client/gui-xaw/mapview.c,
	client/include/graphics_g.h, data/default.tilespec,
	data/trident.tilespec, common/player.c, common/player.h: Changes
	to main map drawing:

	- Adds distinctive drawing within city radii to the grid draw
	code.  - Adds city_names_font to the tilespec files, allowing for
	changing the font size based on the tile size.  - Uses font
	metrics to place the city names, rather than guessing based on
	tile size.  - For the Xaw client, adds a 1-pixel shadow to
	lower-right of city names (the gtk+ client already did this).

	Also, I moved the tile size variables from gui-specific files into
	tilespec.[hc] (which is where I put the city_names_font variable).

Sun Sep 19 18:23:41 1999  Jeff Mallatt <jjm@codewell.com>:

	* common/unit.c, server/stdinhand.c, server/unithand.c: Added two
	Civ2 comformities: - Overflight of a hut causes it to disappear. 
	- Can't build cities next to each other.  Also, added full
	explaination of all civstyle effects to its help text.

Sun Sep 19 17:54:44 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/packhand.c, client/gui-gtk/dialogs.c,
	client/gui-xaw/Freeciv.h, client/gui-xaw/dialogs.c,
	common/capstr.c, common/nation.c, data/Freeciv,
	server/civserver.c: Add leader selection to xaw Select Nation
	dialog.  Add Disconnect and Quit buttons to Select Nation dialogs.
	Fix a couple of bugs this uncovered: - If kill client when races
	dialog open, server cores.  - If disconnect first connected of two
	connected clients, remaining pops-up an empty select government
	dialog and hangs.

Sun Sep 19 15:47:13 1999  Jeff Mallatt <jjm@codewell.com>:

	* data/default/tiles.spec, data/default/tiles.xpm,
	data/trident/tiles.spec, data/trident/tiles.xpm: A few, small
	changes to the two main tilesets: Trident: Farmland -- obscure
	less.  OIL -- remove word.  Engels: Unrest -- changed to not
	obscure city size.  Both: MINE -- remove word.  Distinct Pillage
	marker.  Two-food support confined to right side.

Sun Sep 19 14:37:32 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/citydlg.c, client/gui-xaw/Freeciv.h,
	client/gui-xaw/citydlg.c, client/include/citydlg_g.h,
	data/Freeciv: Improvements to xaw city dialog: - Allow space for
	three digits in F/P/T and G/L/S boxes.  - Put a '*' in Granary
	line if have granary effect.  - Compute numbers of controls
	dynamically.  - If more civs than fit on line, show right-arrow in
	last position.  - Scrollable unit lists.

Sun Sep 19 11:20:51 1999  Sebastian Bauer <sebauer@t-online.de>:

	* client/tilespec.c, client/gui-xaw/mapview.c: Fixed indentation
	bugs I created in my last patch.

Sun Sep 19 03:55:35 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/graphics.c, client/gui-xaw/graphics.c: No need to
	calculate player's color in create_overlay_unit().

Sun Sep 19 03:25:59 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/colors.h, client/include/Makefile.am,
	client/include/Makefile.in, client/include/colors_g.h,
	client/gui-xaw/colors.h: Created colors_g.h with gui-independent
	parts from colors.h.  Named the COLOR_STD_* enum as "enum
	color_std".

Sun Sep 19 02:57:57 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/civ2/techs.ruleset, data/civ1/techs.ruleset,
	data/default/techs.ruleset: Mark tech names for i18n (but not used
	yet).

Sun Sep 19 02:57:15 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/helpdlg.c, client/packhand.c,
	client/gui-xaw/helpdlg.c, common/capstr.c, common/packets.c,
	common/packets.h, common/tech.h, data/helpdata.txt,
	data/civ1/techs.ruleset, data/civ2/techs.ruleset,
	data/default/techs.ruleset, server/ruleset.c, po/POTFILES.in: Move
	tech helptext to rulesets (although current rulesets don't make
	use of this, with auto-generated tech helptext only).

Sun Sep 19 02:55:15 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/helpdata.c, data/helpdata.txt: Automatic helptext for
	techs allowing governments.

Sun Sep 19 02:54:06 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/civ1/units.ruleset, data/civ2/units.ruleset,
	data/default/units.ruleset: Mark unit names for i18n (but not used
	yet).

Sun Sep 19 02:53:13 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Makefile.am, client/Makefile.in: Since top-level client
	files are supposed to be gui-independent (including what they
	include), don't use CLIENT_CFLAGS (which contains gui-dependent
	flags) for these.

Sun Sep 19 02:52:33 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aicity.c, common/government.c, server/cityturn.c: Cleaned up
	some minor government related stuff done previously for regression
	testing.  Updated comments in government.c.

Sun Sep 19 02:51:41 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/Freeciv.h, data/Freeciv, server/civserver.c,
	server/meta.h: Updated beta notices (currently off).

Sun Sep 19 02:50:39 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aicity.c, client/helpdata.c, server/cityturn.c: Use
	utype_shield_cost() instead of is_military_unit() to calculate
	prodneed in ai_find_elvis_pos(), and to choose unit to forcibly
	disband if city does not have enough shield support.  Update
	helptext explanation for F_NONMIL, and add text for F_FIELDUNIT.

Sun Sep 19 02:49:21 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/units.ruleset: Turn on shield upkeep (as well as
	food upkeep) for Settlers and Engineers in default ruleset, in
	accordance with civ1 and civ2.

Sun Sep 19 02:48:12 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/helpdata.c, client/packhand.c, common/capstr.c,
	common/packets.c, common/packets.h, common/unit.h,
	data/helpdata.txt, data/civ1/units.ruleset,
	data/civ2/units.ruleset, data/default/units.ruleset,
	po/POTFILES.in, server/ruleset.c: Moved helptext for units into
	ruleset files.  Allows better customization for rulesets, and i18n
	of unit helptext.  Adjusted help system so helptext line wrapping
	is done in code, and adjusted some unit flag helptext accordingly.
	Minor helptext changes for civ1.  Added capability string tag
	"+helptext1".

Sun Sep 19 02:46:43 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/registry.c: Allow registry strings to have escaped
	literal newlines.

Sat Sep 18 19:27:09 1999  Sebastian Bauer <sebauer@t-online.de>:

	* client/tilespec.c, client/tilespec.h, client/gui-xaw/mapview.c,
	client/gui-xaw/mapview.h, client/gui-gtk/mapview.c,
	client/gui-gtk/mapview.h: Moved code from client dependent
	mapview.c out to client independent tilespec.c.

Sat Sep 18 03:44:01 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/nation.c: Added bounds checking to nation accessor
	functions; in particular get_nation_name() is sometimes called by
	client before nations are setup or with bad nation id (now returns
	"" in such cases).  Fixes bug reported by Tony Stuckey.

Sat Sep 18 03:22:11 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/nations.ruleset: Update to nations ruleset
	featuring more nations and leaders, submitted by Jerzy Klek
	<qpkjeek@epk.ericsson.se>.  New nations are: Polish, Hungarian,
	Danish, Dutch, Swedish, Japanese.

Sat Sep 18 03:16:30 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c: Minimal fix in cmdlevel_command() to work
	with spaces in player names.

Sat Sep 18 02:55:51 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c, client/clinet.c, client/control.c,
	client/helpdata.c, client/options.c, client/packhand.c,
	client/tilespec.c, client/gui-gtk/chatline.c,
	client/gui-gtk/citydlg.c, client/gui-gtk/cityrep.c,
	client/gui-gtk/connectdlg.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/diplodlg.c, client/gui-gtk/gamedlgs.c,
	client/gui-gtk/gotodlg.c, client/gui-gtk/gui_main.c,
	client/gui-gtk/helpdlg.c, client/gui-gtk/inputdlg.c,
	client/gui-gtk/inteldlg.c, client/gui-gtk/mapctrl.c,
	client/gui-gtk/mapview.c, client/gui-gtk/messagedlg.c,
	client/gui-gtk/messagewin.c, client/gui-gtk/plrdlg.c,
	client/gui-gtk/repodlgs.c, client/gui-gtk/spaceshipdlg.c,
	client/gui-xaw/messagedlg.c, po/POTFILES.in: Mark lots of strings
	for i18n in Gtk+ client.  There is a problem with titles set via
	gtk_clist_new_with_titles() (added FIXME comments).  Based on
	patch by Zbigniew Chyla <chyla@alice.ci.pwr.wroc.pl>, submitted 
	by Artur Biesiadowski <abies@pg.gda.pl>.

Sat Sep 18 02:49:37 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/fcintl.h: Put test in fcintl.h to ensure that files
	including it pre-include config.h.

Sat Sep 18 01:30:31 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* acconfig.h, config.h.in, configure, configure.in,
	server/sernet.c, common/shared.c: Changes to help compilation of
	server on BeOS: check defined(__BEOS__) in dont_run_as_root();
	check for snooze() in configure and use in myusleep() if found and
	don't have real usleep(); changes in server.c if
	SOCKET_ZERO_ISNT_STDIN defined (but not set by configure).  Based
	on patches/information submitted by Joseph Beckenbach III
	<jrb3@best.com>.

Sat Sep 18 00:58:18 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/log.c: Make sure pre-processor '#' is in first column in
	log_parse_level_str() (also re-arranged a bit).  Fixes bug
	(PR#126) reported by Emmanuel PARIS <ep@axene.com>.

Sat Sep 18 00:57:28 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/shared.c, common/shared.h: Renamed
	remove_leading_spaces() to more appropriate skip_leading_spaces().

Wed Sep 15 09:09:21 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advdomestic.c, ai/advleader.c, ai/aicity.c, ai/aihand.c,
	ai/aitech.c, client/civclient.c, client/civclient.h,
	client/climisc.c, client/packhand.c, client/tilespec.c,
	client/gui-gtk/dialogs.c, client/gui-gtk/diplodlg.c,
	client/gui-gtk/graphics.c, client/gui-gtk/inteldlg.c,
	client/gui-gtk/mapctrl.c, client/gui-gtk/mapview.c,
	client/gui-gtk/plrdlg.c, client/gui-gtk/repodlgs.c,
	client/gui-xaw/Freeciv.h, client/gui-xaw/dialogs.c,
	client/gui-xaw/diplodlg.c, client/gui-xaw/graphics.c,
	client/gui-xaw/inteldlg.c, client/gui-xaw/mapctrl.c,
	client/gui-xaw/mapview.c, client/gui-xaw/plrdlg.c,
	client/gui-xaw/repodlgs.c, common/Makefile.am, common/Makefile.in,
	common/capstr.c, common/city.c, common/city.h, common/game.c,
	common/government.c, common/government.h, common/nation.c,
	common/nation.h, common/packets.c, common/packets.h,
	common/player.c, common/player.h, data/Freeciv,
	data/default/nations.ruleset, server/cityhand.c,
	server/cityhand.h, server/citytools.c, server/cityturn.c,
	server/civserver.c, server/civserver.h, server/diplhand.c,
	server/gamehand.c, server/gamelog.c, server/plrhand.c,
	server/ruleset.c, server/spacerace.c, server/unitfunc.c,
	server/unithand.c: Improvements and cleanups to nations ruleset
	stuff, from patch submitted by Jerzy Klek
	<qpkjeek@epk.ericsson.se>.

	1. Separate common/nation.* files.  2. Bit more functions
	operating on struct nation_type.  3. Better handling of less than
	14 nations - I think that some scenarios will want to have less
	than 14 nations. It reduces aifill value, removes ai players made
	with 'create' command and rejects players, when there is no
	nations left.  4. Race -> nation changes in server/ and common/
	dirs.  Practically everywhere. Clients still have races_dialog. 
	5. city_name_suggestion() moved to cityhand.c from city.c 6.
	Support for many leaders in nation ruleset file, with random
	selection for ai leader names.  Xaw client not adapted, but works.
	7. Rulesets sent earlier, less in PACKET_NATION_SELECT.  8. Nation
	city names now in struct nation_type.  9. Adjusted Roman and
	German city names.

	Pushed capability tag "+nationsruleset" to "+nationsruleset2", due
	to packet changes for (6) and (7) above.

Wed Sep 15 08:01:57 1999  Sebastian Bauer <sebauer@t-online.de>:

	* client/helpdata.c, client/packhand.c, common/capstr.c,
	common/packets.c, common/packets.h, common/unit.h,
	data/civ2/units.ruleset, data/default/units.ruleset,
	server/ruleset.c, server/unitfunc.c: Added new new field
	paratroopers_range in the units.ruleset which depends on the
	"Paratroopers" flag.

Wed Sep 15 07:56:13 1999  Sebastian Bauer <sebauer@t-online.de>:

	* data/civ1/techs.ruleset, data/civ2/techs.ruleset, common/tech.h,
	data/default/techs.ruleset, server/ruleset.c: Removed the
	necessity of [advanve_none] technology in the techs.ruleset.

Tue Sep 14 17:06:32 1999  Sebastian Bauer <sebauer@t-online.de>:

	* data/default/nations.ruleset: Corrected a misspelling in
	nations.ruleset.  Patch submitted by Mattias Andersson
	<tamasis@softhome.net>

Tue Sep 14 15:40:40 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/gui_main.c, client/gui-gtk/menu.c,
	client/gui-xaw/Freeciv.h, client/gui-xaw/menu.c, data/Freeciv,
	data/helpdata.txt, po/POTFILES.in, po/es.po: The patch to i18n
	menus in the xaw client, and to add spanish translations for them.
	Patch submitted by David Perez Serrada <dperezs@nexo.es>.  Applied
	with some modifications.

Mon Sep 13 10:17:57 1999  Sebastian Bauer <sebauer@t-online.de>:

	* config.h.in, configure, configure.in, client/clinet.c,
	client/clinet.h, client/gui-gtk/connectdlg.c, server/meta.h,
	client/gui-xaw/connectdlg.c: Moved the metaserver code out of
	connectdlg.c to the gui independed clinet.c.

	A new config depend variable HAVE_FDOPEN has been added and will
	be setted in configure. In case fdopen() is not available a
	differnt code is used (in clinet.c).

	Also changed the default metaserver (from a patch submitted by
	Reinier Post <rp@win.tue.nl>)

Sun Sep 12 20:24:50 1999  Sebastian Bauer <sebauer@t-online.de>:

	* client/tilespec.c, client/gui-gtk/graphics.c,
	client/gui-xaw/graphics.c, client/include/graphics_g.h,
	data/default.tilespec, data/trident.tilespec,
	data/default/Makefile.am, data/default/Makefile.in,
	data/default/flags.spec, data/default/flags.xpm.spec,
	data/default/roads.spec, data/default/roads.xpm.spec,
	data/default/small.spec, data/default/small.xpm.spec,
	data/default/space.spec, data/default/space.xpm.spec,
	data/default/tiles.spec, data/default/tiles.xpm.spec,
	data/default/treaty.spec, data/default/treaty.xpm.spec,
	data/default/units.spec, data/default/units.xpm.spec,
	data/trident/Makefile.am, data/trident/Makefile.in,
	data/trident/flags.spec, data/trident/flags.xpm.spec,
	data/trident/roads.spec, data/trident/roads.xpm.spec,
	data/trident/tiles.spec, data/trident/tiles.xpm.spec,
	data/trident/units.spec, data/trident/units.xpm.spec: Renamed all
	.xpm.spec files to .spec and added possiblity for clients to
	support more than one graphics file format.

Sun Sep 12 19:28:56 1999  Jeff Mallatt <jjm@codewell.com>:

	* acconfig.h, acinclude.m4, aclocal.m4, config.h.in, configure,
	configure.in, client/gui-xaw/canvas.c, client/gui-xaw/chatline.c,
	client/gui-xaw/citydlg.c, client/gui-xaw/cityrep.c,
	client/gui-xaw/colors.c, client/gui-xaw/dialogs.c,
	client/gui-xaw/diplodlg.c, client/gui-xaw/finddlg.c,
	client/gui-xaw/gotodlg.c, client/gui-xaw/inputdlg.c,
	client/gui-xaw/inteldlg.c, client/gui-xaw/mapctrl.c,
	client/gui-xaw/mapview.c, client/gui-xaw/mapview.h,
	client/gui-xaw/menu.c, client/gui-xaw/messagedlg.c,
	client/gui-xaw/messagewin.c, client/gui-xaw/plrdlg.c,
	client/gui-xaw/ratesdlg.c, client/gui-xaw/repodlgs.c,
	client/gui-xaw/resources.c, client/gui-xaw/spaceshipdlg.c: Fix for
	the XawScrollbarSetThumb bug reported by Falk Hueffner
	<falk.hueffner@student.uni-tuebingen.de>.

	The problem is a mismatch in the setting of a couple of control
	constants between when the X libs were compiled and when Freeciv
	is compiled.

	This patch adds new Autoconf tests to set these constants
	correctly.

Sun Sep 12 18:39:11 1999  Jeff Mallatt <jjm@codewell.com>:

	* data/default/units.xpm.spec: The "u.paratroopers" tag needed to
	be un-commented out in the default/units.xpm.spec file so we can
	see the paratroopers icon when running with the default tileset.

Sun Sep 12 16:01:25 1999  Sebastian Bauer <sebauer@t-online.de>:

	* ai/advdomestic.c, ai/aiunit.c, client/helpdata.c,
	client/packhand.c, common/capstr.c, common/game.h,
	common/packets.c, common/packets.h, common/player.c,
	common/player.h, common/tech.c, common/tech.h, common/unit.c,
	common/unit.h, data/civ1/techs.ruleset, data/civ1/units.ruleset,
	data/civ2/techs.ruleset, data/civ2/units.ruleset,
	data/default/techs.ruleset, data/default/units.ruleset,
	server/cityhand.c, server/cityturn.c, server/diplhand.c,
	server/plrhand.c, server/ruleset.c, server/settlers.c,
	server/unitfunc.c, server/unithand.c: Changed techs.ruleset to use
	flags and changed capability string tag "+gen_techs" to
	"+gen_techs1"

Sun Sep 12 15:54:51 1999  Sebastian Bauer <sebauer@t-online.de>:

	* client/gui-gtk/menu.c, client/control.c, client/control.h,
	client/helpdata.c, client/gui-xaw/menu.c, common/capstr.c,
	common/packets.c, common/packets.h, common/unit.c, common/unit.h,
	data/civ2/units.ruleset, data/default/units.ruleset,
	server/civserver.c, server/unitfunc.c, server/unitfunc.h,
	server/unithand.c, server/unithand.h: Added the paratroopers unit
	known from Civ2 and added capability string tag "+paratroopers".

	The changes in the menu.c files still need to be localized.

Sun Sep 12 12:07:10 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/clinet.c, client/gui-gtk/dialogs.c,
	client/gui-xaw/dialogs.c, common/capstr.c, common/packets.c,
	common/packets.h, common/player.c, common/player.h,
	server/civserver.c, server/plrhand.c, server/stdinhand.c: Allow
	long player names (up to MAX_LEN_NAME instead of MAX_LEN_USERNAME)
	and allow user to reconnect to game with their original username
	(nation leader name still works too).  Added capability string tag
	"+long_names".  Based on patch submitted by Jerzy Klek
	<qpkjeek@epk.ericsson.se>.

Sun Sep 12 12:05:18 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in, po/.cvsignore, po/hu.po, po/pl.po:
	Added Polish translations by Artur Biesiadowski <abies@pg.gda.pl>,
	and Hungarian translations by "Ba'rdosi Zolta'n"
	<hck@lin.lkg.c3.hu>.  (Polish translation includes many strings
	not yet marked in cvs sources, but should be useful in future.)

Sun Sep 12 03:15:10 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/flags.xpm, data/default/flags.xpm.spec,
	data/trident/flags.xpm, data/trident/flags.xpm.spec: Lots more
	flags graphics.  Patch submitted by Jerzy Klek
	<qpkjeek@epk.ericsson.se>, including some flags contributed by
	Reineir Post <rp@win.tue.nl>.

Fri Sep 10 09:22:51 1999  Sebastian Bauer <sebauer@t-online.de>:

	* client/clinet.c, server/sernet.c: Removed the "extern int errno"
	stuff in two files

Thu Sep  9 15:05:14 1999  Jeff Mallatt <jjm@codewell.com>:

	* server/gamehand.c, server/maphand.c, server/maphand.h: Allows
	loading scenario files which have been modified to express rivers
	as specials (like Civ2), rather than terrain types (like Civ1). 
	Patch submitted by Jerzy Klek <qpkjeek@epk.ericsson.se>, applied
	with minor modifications.

Mon Sep  6 10:16:08 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/gui-gtk/dialogs.c: Substitute a printf by
	freelog(LOG_NORMAL,...) as suggested by Andy Black
	<ablack@bvsd.k12.co.us>

Sun Sep  5 15:17:45 1999  Jeff Mallatt <jjm@codewell.com>:

	* data/helpdata.txt: Updated helpdata.txt Controls/Keyboard
	section to reflect recently added keyboard equivalences in both
	GTK and XAW clients.

Sun Sep  5 14:08:58 1999  Jeff Mallatt <jjm@codewell.com>:

	* common/fcintl.h: In common/fcintl.h, the N_() macro was defined
	to add parentheses around its argument in the nls-disabled case. 
	This caused compile-time concatenation of static strings to fail. 
	I changed the definition to be the same as in the nls-enabled
	case.  (Note: leaving the parens around the argument to the _()
	macro in the nls-disabled case is probably good, because in the
	nls-enabled case it has to be interpreted as the single argument
	to the gettext() function.)

Sun Sep  5 09:05:03 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/tilespec.c: Add missing include for string.h to
	tilespec.c; from patch submitted by Sebastian Bauer.

Sun Sep  5 07:29:52 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c, client/civclient.h, client/control.c,
	client/packhand.c, client/packhand.h, client/tilespec.c,
	client/tilespec.h, client/gui-gtk/dialogs.c,
	client/gui-gtk/graphics.c, client/gui-gtk/mapview.c,
	client/gui-gtk/plrdlg.c, client/gui-xaw/Freeciv.h,
	client/gui-xaw/dialogs.c, client/gui-xaw/graphics.c,
	client/gui-xaw/mapview.c, client/gui-xaw/plrdlg.c,
	client/include/dialogs_g.h, common/capstr.c, common/city.c,
	common/game.c, common/game.h, common/map.c, common/map.h,
	common/packets.c, common/packets.h, common/player.c,
	common/player.h, data/Freeciv, data/default/Makefile.am,
	data/default/Makefile.in, data/default/nations.ruleset,
	server/citytools.c, server/civserver.c, server/civserver.h,
	server/gamehand.c, server/mapgen.c, server/maphand.c,
	server/plrhand.c, server/ruleset.c, server/spacerace.c,
	server/stdinhand.c, server/unithand.c: Moved nations (races) data
	to nations.ruleset file, and allow adding additional nations (up
	to 63).  Also allow player to choose sex of leader.  Added new
	nations: Turk, Spanish, Persian, Arab, Carthaginian, Inca, Viking.
	(But not yet flag graphics for most.) From patch submitted by
	Jerzy Klek <qpkjeek@epk.ericsson.se>, with some minor changes by
	me.

Sun Sep  5 02:47:00 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advspace.c: Fixed case of government_has_flag(g, G_IS_NICE)
	to correct government_has_hint(g, G_IS_NICE) in
	ai_spaceship_autoplace().

Sun Sep  5 02:28:49 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/menu.c, po/POTFILES.in, po/es.po,
	common/fcintl.h: Internationalize menus for Gtk+ client, and
	provide Spanish translations.  Also adjust N_() macro in fcintl.h
	so that marked strings are able to preprocessor-concatenate. 
	Based on patch submitted by David Perez Serrada <dperezs@nexo.es>.

Sun Sep  5 02:28:00 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/registry.c: In section_file_insert_internal(), if
	delimiter '.' is wrong, die with appropriate message rather than
	return 0 (latter leads to core dump).  For example, may occur if
	tilespec file has tag which is not in "section.entry" format
	(problem reported by Falk Hueffner
	<falk.hueffner@student.uni-tuebingen.de>).

Sun Sep  5 02:25:42 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/inputfile.c, common/inputfile.h, common/registry.c: In
	inputfile, new function inf_discard_tokens(); use in
	section_file_load() to allow multiple newlines (eg, comment lines)
	in cases where allow an optional newline.  Fixes problem reported
	by Jerzy Klek <qpkjeek@epk.ericsson.se>.

Sun Sep  5 02:24:02 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c, server/gamehand.c: When loading savegame,
	load rulesets slightly earlier, and only have one place where free
	loaded sectionfile and check for unused.  (Previously could not do
	this way due to strbuffermalloc constraints, but now ok because of
	change to sbuffer.)

Sun Sep  5 02:22:54 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/tech.c, common/tech.h: Replaced "enum tech_type_id" with
	"typedef int Tech_Type_id", for same reasons as change to
	Unit_Type_id.

Sun Sep  5 02:21:43 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/city.c, common/city.h, common/unit.c, common/unit.h,
	server/citytools.c, server/citytools.h, server/unitfunc.c,
	server/unitfunc.h: Replaced "enum unit_type_id" with "typedef int
	Unit_Type_id", since we no longer enumerate the unit types; see
	comments in unit.h for discussion of change.

Sun Sep  5 02:19:46 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/helpdata.c, client/packhand.c, ai/advdomestic.c,
	ai/aicity.c, ai/aitech.c, common/capstr.c, common/game.h,
	common/government.c, common/government.h, common/packets.c,
	common/packets.h, common/shared.h, common/tech.h, common/unit.c,
	data/helpdata.txt, data/civ1/buildings.ruleset,
	data/civ1/governments.ruleset, data/civ1/techs.ruleset,
	data/civ2/buildings.ruleset, data/civ2/governments.ruleset,
	data/civ2/techs.ruleset, data/default/buildings.ruleset,
	data/default/governments.ruleset, data/default/techs.ruleset,
	server/cityhand.c, server/citytools.c, server/cityturn.c,
	server/diplhand.c, server/plrhand.c, server/ruleset.c,
	server/settlers.c, server/unitfunc.c, server/unithand.c: Added
	some more data about techs to ruleset files, so that the
	tech_type_id enum values are not used anywhere in the code.  This
	is better for modpacks, and allows for soon making the number of
	techs variable like unit types.  Added more game.rtech entries,
	and added ai_gov_tech_hints to generalize some code in aicity.c:
	ai_manage_cities().  Some of this may soon be replaced by
	generalization to tech flags.

Sun Sep  5 01:20:22 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/control.c, common/capstr.c, common/packets.c: Fixed a
	mistake in my recent city name suggestion change.  City name
	suggestion reply used only 8 bits for unit id, which is usually
	not enough!  Bumped to 16 bits as used for unit ids in other
	packets.  Cap str tag changed to "citynamesuggest2".

Sat Sep  4 16:49:56 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/dialogs.c, client/gui-xaw/dialogs.c,
	data/helpdata.txt: Fix dangling pointer threat in pillage
	selection patch (found by David Pfitzner).  Also changed
	helpdata.txt to reflect selectable pillaging.

Sat Sep  4 02:28:26 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/mapctrl.c, client/civclient.c, client/control.c,
	client/packhand.c, client/packhand.h, client/gui-xaw/mapctrl.c,
	common/capstr.c, common/city.c, common/packets.c,
	common/packets.h, server/civserver.c: Allow client to request a
	city name suggestion from the server.  The idea is to allow city
	name lists to be server-only when introduce nations ruleset.

Sat Sep  4 02:19:55 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* freeciv_hackers_guide.txt: Added "Mini Style Guide" section to
	hackers guide, submitted by Falk Hueffner
	<falk.hueffner@student.uni-tuebingen.de>.

Sat Sep  4 01:47:36 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/Freeciv.h, client/gui-xaw/connectdlg.c,
	client/gui-xaw/gui_stuff.c, client/gui-xaw/gui_stuff.h,
	po/POTFILES.in, data/Freeciv: Introduce method/fuctions/macros to
	do i18n on translatable strings in the data/Freeciv resources file
	(for Xaw client).

	1. Strings in data/Freeciv as marked as usual (eg _("foo")).  This
	means X sees the strings with the marking _inside_ the string.

	2. When a widget using a marked resource is created, check to see
	if the resource string has those markings inside the string, and
	if so, remove the marking, pass string to gettext, and re-set the
	resource to the gettext result.

	Added functions xaw_intl_label(), xaw_intl_label_width(),
	xaw_intl_title(), xaw_intl_icon_name() and abbreviation macros
	I_L(), I_LW(), I_T(), I_IN() in gui_stuff module.  As test case
	added markup to strings and code for connection dialog, but not
	yet any translations.

Sat Sep  4 01:25:39 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/citytools.c: Two small fixes in eval_buildings():  Put
	B_STOCK case in same block as B_BANK, as suggested by existing
	indentation and similarity; For B_SUPERHIGHWAYS trigger on
	g->trade_bonus, not G_IS_NICE (used to be (gov > G_COMMUNISM)).

Sat Sep  4 01:19:56 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aitools.c, client/packhand.c, common/capstr.c,
	common/government.c, common/government.h, common/packets.c,
	common/packets.h, data/civ1/governments.ruleset,
	data/civ2/governments.ruleset, data/default/governments.ruleset,
	server/citytools.c, server/ruleset.c: Split the government flags
	field into actual flags (those that effect the game rules), and
	those that are in fact just hints to the AI.  Also added a no-op
	flag "-", that is handy if a government have no hints or flags. 
	Patch submitted by Sune Kirkeby <sune@mel.tpu.org>.

Sat Sep  4 00:53:29 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* config.mac.h: Update to config.mac.h, provided by Andy Black.

Thu Sep  2 11:49:55 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/civserver.c, server/meta.c: Introduce some changes for
	the Mac version needed after the metaserver patch was introduced. 
	Patch written by Andy Black <ablack@bvsd.k12.co.us>

Wed Sep  1 20:26:29 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-xaw/Freeciv.h, client/gui-xaw/gui_main.c,
	client/gui-xaw/mapview.c, data/Freeciv: Minor improvements in the
	xaw client's main window layout.  Also fixes bug whereby large
	fonts were clipped on main window info panes.

Wed Sep  1 19:52:59 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/menu.c, client/gui-gtk/repodlgs.c,
	client/gui-xaw/Freeciv.h, client/gui-xaw/repodlgs.c, data/Freeciv:
	Adds new columns to the Active Units report, and, therefore,
	renames it to Military Report.  The new "in progress" column is
	from Civ2, and the new "support" columns were suggested by David
	Pfitzner.

Wed Sep  1 16:45:26 1999  Jeff Mallatt <jjm@codewell.com>:

	* ai/aiunit.c, client/civclient.c, client/control.c,
	client/control.h, client/packhand.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/mapctrl.c, client/gui-gtk/menu.c,
	client/gui-xaw/Freeciv.h, client/gui-xaw/dialogs.c,
	client/gui-xaw/mapctrl.c, client/gui-xaw/menu.c,
	client/include/dialogs_g.h, common/capstr.c, common/map.c,
	common/map.h, common/packets.c, common/packets.h, common/unit.c,
	common/unit.h, data/Freeciv, server/autoattack.c,
	server/plrhand.c, server/settlers.c, server/unitfunc.c,
	server/unitfunc.h, server/unithand.c, server/unithand.h: Add the
	Civ2-like capability of selecting what infrastructure to pillage. 
	This is controlled by the civstyle server option.  Also, several
	units may now pillage at the same time.

Sat Aug 28 06:25:34 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/game.h, server/civserver.c, server/gamehand.c,
	server/stdinhand.c: Add server option "turnblock" for
	turn-blocking mode, where the turn does not advance until all
	players have hit "end turn", including disconnected players.  From
	patch submitted by Gary Moyer <garymoyer@home.com>.

Sat Aug 28 06:24:27 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/government.c, data/civ1/governments.ruleset,
	data/civ2/governments.ruleset, data/default/governments.ruleset,
	server/ruleset.c: Converted government ruleset files to new-style
	(non-tabular) format.

Sat Aug 28 06:22:42 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aitech.c: Fixed get_wonder_tech() and
	ai_next_tech_goal_default() for case where races[] goal wonder is
	not found or does not exist.

Sat Aug 28 06:16:41 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/mapview.c, client/gui-xaw/ratesdlg.c: Reverted
	my_XawScrollbarSetThumb() changes for now (#if-ed) because the new
	version doesn't work for me.

Fri Aug 27 22:32:04 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/gui-xaw/mapview.c, client/gui-xaw/ratesdlg.c: As
	my_XawScrollbarSetThumb was useless, XawScrollbarSetThumb is
	directly called.

Fri Aug 27 22:26:34 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/gui-xaw/mapview.c: The wrapper my_XawScrollbarSetThumb
	now call XawScrollbarSetThumb.  It is now an useless wrapper.

	Patch submitted by Falk Hueffner
	<falk.hueffner@student.uni-tuebingen.de>

Fri Aug 27 22:03:48 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/civclient.c, client/gui-gtk/connectdlg.c,
	client/gui-gtk/gui_main.c, client/gui-xaw/Freeciv.h,
	client/gui-xaw/connectdlg.c, client/gui-xaw/gui_main.c,
	client/gui-xaw/resources.h, data/Freeciv, server/civserver.c,
	server/civserver.h, server/gamehand.c, server/meta.c,
	server/meta.h, server/sernet.c, server/stdinhand.c: This patch
	allows servers to report to any metaserver and clients to use
	whatever metaserver they want.

	Server side: - new option --Metaserver (There is already --meta.)
	An address is expected. The server won't warn you if you open a
	socket to wrong address which exists.

	- new command 'metaserver' to set metaserver to a given address. 
	- new command 'nometa' to disconnect whenever you want.

	Clients side: - new option --metaserver (Caps make freeciv options
	ugly.) An URL is expected.

	Patch submitted by brunel@ham.esil.univ-mrs.fr

Fri Aug 27 13:02:08 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/Makefile.am, client/gui-gtk/Makefile.in,
	client/Makefile.am, client/Makefile.in, client/civclient.h,
	client/climisc.h, client/clinet.h, client/control.h,
	client/helpdata.h, client/options.h, client/packhand.h,
	client/tilespec.h, client/gui-xaw/Makefile.am,
	client/gui-xaw/Makefile.in, client/include/Makefile.am,
	client/include/Makefile.in, client/include/civclient.h,
	client/include/climisc.h, client/include/clinet.h,
	client/include/control.h, client/include/helpdata.h,
	client/include/options.h, client/include/packhand.h,
	client/include/tilespec.h: Moved client header files to toplevel
	client dir, for headers which have a corresponding .c file in that
	dir.  (Matches usage elsewhere in source tree, that .h files
	reside next to their corresponding .c file.)  Based on patch
	submitted by Sebastian Bauer.

Fri Aug 27 12:36:02 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/mapctrl.c, client/control.c,
	client/include/control.h, client/gui-xaw/mapctrl.c: Move a little
	bit more code out of mapctrl.c to control.c.  Now the external
	references of goto_state and nuke_state are no longer required in
	mapctrl.c.  Patch submitted by Sebastian Bauer.

Fri Aug 27 12:17:19 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* acconfig.h, civ, config.h.in, config.mac.h, configure,
	configure.in, ser, common/shared.c: Let config.h define the
	default data path, since the built-in default does not make much
	sense on some platforms; configure defines it to the previous
	default.  Also removed all cases of old FREECIV_DATADIR, both
	environment variable and define (configure now puts the
	appropriate (install) dir in DEFAULT_DATA_PATH instead).  Patch
	submitted by Sebastian Bauer <sebauer@t-online.de>.

Fri Aug 27 11:21:36 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* acconfig.h, acinclude.m4, aclocal.m4, config.h.in, config.mac.h,
	configure, configure.in, client/gui-xaw/graphics.c: Try to work
	around problem that some sites may put xpm.h in a directory whose
	parent isn't "X11".  Problem reported by mancini
	<mancini@enst.fr>, patch submitted by Greg Wooledge
	<wooledge@kellnet.com>.

Fri Aug 27 10:53:54 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c, client/packhand.c,
	client/include/packhand.h, common/capstr.c, common/government.c,
	common/government.h, common/packets.c, common/packets.h,
	server/gamehand.c, server/ruleset.c: Tidied up some things about
	ruleset data and packets, especially for government rulesets.
	(Government ruleset stuff had problems if the client disconnected
	and re-connected: would leak memory, and could get the number of
	governments wrong.)

	Added new packet "ruleset control" (like separate terrain control)
	which contain government_count explicitly, and also move ruleset
	control data from game_info packet to here, since this stuff
	doesn't need to be sent every turn like game_info is.

	Added more sanity checking on received ruleset packet data by
	client (compared to static arrays or mallocs).

	Changed strings in government data (gov name and ruler titles) to
	use MAX_LEN_NAME char arrays instead of (char*) and mystrdup, to
	make memory management in client easier (eg, on re-connection),
	and since we can't use longer than MAX_LEN_NAME anyway (due to
	packets), and since having a max len is easier in other respects,
	eg for display.

	Also made the ruler_titles array have number of titles stored
	explicitly in government struct (rather than use special
	terminator title), which allows client to sanity-check packet
	data.

	Plus minor fix: government flags data was in government packet,
	but never initialized in send_ruleset_governments()!

Fri Aug 27 10:51:13 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* Makefile.am, Makefile.in, README.graphics, client/Makefile.am,
	client/Makefile.in, client/climisc.c, client/packhand.c,
	client/tilespec.c, client/gui-gtk/citydlg.c,
	client/gui-gtk/graphics.c, client/gui-gtk/graphics.h,
	client/gui-gtk/gui_main.c, client/gui-gtk/mapview.c,
	client/gui-gtk/spaceshipdlg.c, client/gui-xaw/citydlg.c,
	client/gui-xaw/graphics.c, client/gui-xaw/graphics.h,
	client/gui-xaw/gui_main.c, client/gui-xaw/mapview.c,
	client/gui-xaw/spaceshipdlg.c, client/include/Makefile.am,
	client/include/Makefile.in, client/include/climisc.h,
	client/include/graphics_g.h, client/include/mapview_g.h,
	client/include/tilespec.h, common/capstr.c, common/government.c,
	common/government.h, common/map.h, common/packets.c,
	common/packets.h, common/player.c, common/player.h,
	common/shared.h, common/unit.h, data/Makefile.am,
	data/Makefile.in, data/classic_terrain.ruleset,
	data/default.tilespec, data/trident.tilespec,
	data/civ1/governments.ruleset, data/civ1/terrain.ruleset,
	data/civ1/units.ruleset, data/civ2/governments.ruleset,
	data/civ2/terrain.ruleset, data/civ2/units.ruleset,
	data/default/Makefile.am, data/default/Makefile.in,
	data/default/flags.xpm.spec, data/default/governments.ruleset,
	data/default/roads.xpm.spec, data/default/small.xpm.spec,
	data/default/space.xpm.spec, data/default/terrain.ruleset,
	data/default/tiles.xpm.spec, data/default/treaty.xpm.spec,
	data/default/units.ruleset, data/default/units.xpm.spec,
	data/trident/Makefile.am, data/trident/Makefile.in,
	data/trident/flags.xpm.spec, data/trident/roads.xpm.spec,
	data/trident/tiles.xpm.spec, data/trident/units.xpm.spec,
	server/ruleset.c: New "tilespec" system, where client graphics
	filenames, and file contents and layout, are specified in a set of
	"spec" files.  Tag strings are assocated with each graphic in the
	spec files, and these tags are hardwired into the client and/or
	specified in ruleset files.

Fri Aug 27 10:22:30 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/units.xpm: Added unit icons for Paratroopers,
	Elephant, Crusaders and Fanatic to default tileset.  Taken from
	trident tileset (by Tatu Rissanen), just re-scaled and re-indexed.

Wed Aug 25 12:30:50 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/registry.c, common/registry.h: Store filename in
	section_file when available, to use in registry error messages.

Wed Aug 25 12:28:45 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/government.c, server/unitfunc.c: Initialize unit food and
	gold upkeep to zero in create_unit_full() (fixes bug of food
	upkeep icons appearing for military units).  Adjusted related TODO
	in government.c

Wed Aug 25 12:27:18 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advspace.c, ai/aitools.c, client/packhand.c,
	common/government.c, common/government.h, server/citytools.c,
	server/cityturn.c, server/ruleset.c, server/unitfunc.c: Changed
	government flags from bit-wise defines to a simple enum (enum
	government_flag_id), with accessor function
	(government_has_flag()) and conversion from string
	(government_flag_from_str()).  (Like unit flags.)

	Added some FIXME comments in citytools.c: eval_buildings().

Tue Aug 24 13:07:32 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-xaw/Freeciv.h, client/gui-xaw/gui_main.c,
	client/gui-xaw/menu.c, data/Freeciv: Reorganizes the xaw client's
	menus to be more like those in the gtk client.  Adds several
	keyboard equivalents.

Tue Aug 24 12:45:50 1999  Jeff Mallatt <jjm@codewell.com>:

	* common/game.c, common/game.h, common/map.h, common/player.h,
	server/gamehand.c, server/plrhand.c, server/stdinhand.c: Adds
	Population, Land Area and Settled Area to Demographics Report. 
	Adds a server option to make the Demographics Report completely
	configurable (suggested by Reinier Post <rp@win.tue.nl>).  Adds
	the new player-score fields to the civscore.log file.

Tue Aug 24 12:13:06 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/climisc.c, client/gui-xaw/Freeciv.h,
	client/gui-xaw/cityrep.c, data/Freeciv: Implemented the "Change
	Production Everywhere" dialog for the xaw client, as was
	implemented for gtk by John-Marc Chandonia <jmc@cmpharm.ucsf.edu>.

	Found that client_change_all() in client/climisc.c didn't work for
	all cases, and fixed it.

Sun Aug 22 11:28:08 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/civ2/governments.ruleset, server/unitfunc.c,
	data/default/governments.ruleset: Government fixes: Democracy was
	missing Unbribable flag, and Partisan flag did not work properly,
	with all governments effectively inspiring partisans ('!' binds
	tighter than bitwise '&'!).

Sun Aug 22 11:25:03 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/diplodlg.c, client/gui-gtk/gamedlgs.c,
	client/gui-gtk/inteldlg.c, client/gui-gtk/repodlgs.c,
	client/gui-xaw/diplodlg.c, client/gui-xaw/inteldlg.c,
	client/gui-xaw/ratesdlg.c, client/gui-xaw/repodlgs.c,
	common/government.c, common/government.h, common/player.c,
	common/player.h, server/plrhand.c: Moved some functions from
	player.c to government.c: get_government_max_rate(),
	get_government_civil_war_prob(), get_government_name(),
	get_ruler_title(), can_change_to_government().  Added some
	includes for government.h elsewhere to see moved prototypes.

Sat Aug 21 04:35:02 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* acconfig.h, config.h.in, common/shared.c: Allow manual config.h
	to define PATH_SEPARATOR to specify the separater to be used in
	the freeciv data path (FREECIV_PATH).  If this is not defined (and
	configure does not do so), falls back to using colon.  Patch
	submitted by Sebastian Bauer <sebauer@t-online.de>.

Sat Aug 21 04:17:12 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/mapctrl.c: In set_turn_done_button_state(),
	actually use the state! (Although currently is only ever called
	with state==FALSE.) Reported by Andy Black
	<ablack@bvsd.k12.co.us>.

Sat Aug 21 04:14:05 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c: Move setting of server options on Mac into
	function Mac_options().  Patch submitted by Andy Black
	<ablack@bvsd.k12.co.us>.

Sat Aug 21 03:52:15 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in: Adjusted error message when configure
	doesn't find X11 to say "Need X11 libraries and development
	headers; ..." instead of just "Need X11; ...".  (And similarly for
	Xpm.)

Sat Aug 21 02:22:23 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/trident/flags.xpm, data/trident/roads.xpm,
	data/trident/tiles.xpm, data/trident/units.xpm: Updated trident
	tiles, from trident_30x30-cvs-1.0.tar.gz, by Tatu Rissanen
	<tatu.rissanen@hut.fi>.

	roads.xpm: The road tiles are redrawn.  The design is like in the
	default tileset.

	tiles.xpm: Added graphics for the new specials and new rivers
	introduced by Jeff Mallatt's terrain ruleset patch.  Added a tiny
	flag (tile 196) (for "occupied flag").

	units.xpm: Changed a bit alpine troops, caravan and settlers.

Sat Aug 21 02:13:33 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/packhand.c, client/gui-gtk/graphics.c,
	client/gui-gtk/graphics.h, client/gui-gtk/mapview.c,
	client/gui-xaw/graphics.c, client/gui-xaw/graphics.h,
	client/gui-xaw/helpdlg.c, client/gui-xaw/mapview.c,
	common/inputfile.c, common/inputfile.h, common/registry.c,
	common/registry.h, common/shared.c, common/shared.h,
	server/ruleset.c: Various minor changes: Made some functions
	static in graphics.c and mapview.c; Marked dtor_sprite() as unused
	in graphics.c; Made some (char*) function args to be (const
	char*); Removed unused UNIT_TILES in gui-xaw/helpdlg.c, and unused
	intro_gfx_sprite and radar_gfx_sprite in packhand.c; Export
	secfilehash_build() secfilehash_free() and secfilehash_hashash()
	from registry, to allow hashing on section_files built using
	secfile_insert_*(); Do better checking of datafile.options for
	ruleset files, to check all required options in both directions.

Sat Aug 21 02:11:56 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* config.h.in, config.mac.h, configure, configure.in,
	client/gui-xaw/gui_main.c, client/gui-gtk/gui_main.c,
	common/shared.c, common/shared.h: Moved the check for the user's
	username into a function user_username() in shared.c.  Also
	removed the "please report this" note if getpwuid() fails, and
	also try USER environment variable.  Actually, now check $USER
	before getpwuid().  Added configure check for getpwuid.  Small
	reorder in gui-gtk so call user_username() only after log_init().

Sat Aug 21 02:10:28 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advmilitary.c, ai/aicity.c, client/helpdata.c,
	client/packhand.c, client/gui-gtk/citydlg.c,
	client/gui-gtk/cityrep.c, client/gui-gtk/graphics.c,
	client/gui-gtk/helpdlg.c, client/gui-gtk/repodlgs.c,
	client/gui-xaw/citydlg.c, client/gui-xaw/cityrep.c,
	client/gui-xaw/graphics.c, client/gui-xaw/helpdlg.c,
	client/gui-xaw/repodlgs.c, common/capstr.c, common/game.c,
	common/game.h, common/packets.c, common/packets.h,
	common/shared.h, common/unit.c, common/unit.h,
	data/civ2/units.ruleset, data/civ1/units.ruleset,
	data/default/units.ruleset, server/gamehand.c, server/ruleset.c,
	server/unittools.c: Allow a variable number of unit types to be
	specified in the units ruleset file, up to 200.  Keeps U_LAST as
	flag value and for fixed allocations, but for other purposes use
	game.num_unit_types.  Removed almost all entries in 'enum
	unit_type_id', since the new number varies and they should not be
	used anymore anyway; did not remove it entirely, because it is
	used as a type in many places (but should be removed some time). 
	Added "+num_units" to capability string.

Sat Aug 21 02:07:50 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advdomestic.c, ai/advmilitary.c, ai/advspace.c, ai/aicity.c,
	ai/aihand.c, ai/aitech.c, ai/aitools.c, ai/aitools.h, ai/aiunit.c,
	client/civclient.c, client/packhand.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/mapview.c, client/gui-xaw/Freeciv.h,
	client/gui-xaw/dialogs.c, client/gui-xaw/mapview.c,
	client/include/packhand.h, common/Makefile.am, common/Makefile.in,
	common/capstr.c, common/city.c, common/city.h, common/game.c,
	common/government.c, common/government.h, common/packets.c,
	common/packets.h, common/player.c, common/player.h, common/unit.c,
	common/unit.h, data/Freeciv, data/civ1.serv, data/civ2.serv,
	data/civ1/Makefile.am, data/civ1/Makefile.in,
	data/civ1/governments.ruleset, data/civ1/units.ruleset,
	data/civ2/Makefile.am, data/civ2/Makefile.in,
	data/civ2/governments.ruleset, data/civ2/units.ruleset,
	data/default/Makefile.am, data/default/Makefile.in,
	data/default/governments.ruleset, data/default/units.ruleset,
	server/citytools.c, server/citytools.h, server/cityturn.c,
	server/gamehand.c, server/ruleset.c, server/settlers.c,
	server/stdinhand.c, server/unitfunc.c, server/unittools.c: Many
	changes, for partial implementation of governments rulesets, based
	on patches submitted by Sune Kirkeby <sune@interspace.dk>, but
	with some substatial changes by me.  This also includes (but
	currently #ifdef-ed out) code based on patch submitted by Rizos
	Sakellariou <rizos@cs.rice.edu>, to dynamically evaluate
	government types.

	This change is intended to be a no-op in terms of actual effects
	when using the default rulesets; some changes to actual effects
	should follow.  The code to dynamically evaluate governments is
	included in this patch, but currently #ifdef-ed out for regression
	testing, and because it needs updating.  See list in
	common/government.c for other things which still need doing.

Tue Aug 17 16:44:09 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/mapctrl.c, client/gui-xaw/Freeciv.h,
	client/gui-xaw/mapctrl.c, data/Freeciv: Middle-button info-popup
	improvements: Adds count of units in a stack, and a highlight of
	the tile selected.  For xaw client, makes sure popup is not
	off-screen.

Tue Aug 17 16:43:52 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* common/city.c: Small change to streamline get_shields_tile and
	get_food_tile.

Tue Aug 17 16:38:53 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* ai/aiunit.c: Adding comments and small change to AI caravan
	code.

Tue Aug 17 12:15:07 1999  Jeff Mallatt <jjm@codewell.com>:

	* common/city.c: Fixed cut-and-paste error in recent terrain
	ruleset patch.  Patch submitted by Lindqvist Marko
	<caz@assari.cc.tut.fi>.

Mon Aug 16 11:18:39 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advmilitary.c, ai/aicity.c, ai/aitools.c, common/inputfile.c,
	common/player.h, common/registry.c, server/cityturn.c,
	server/cityturn.h: Minor fixes and debug output changes:

	In aitools.c: ai_assess_military_unhappiness(), take account of
	Republic allowing one aggressive/field unit before unhappiness.

	In aicity.c: ai_new_spend_gold(), fixed LOG_DEBUG message where
	could use units[id] for id==-1.

	In player.h: in struct player_ai, make tech_want and tech_turns be
	[A_LAST+1] instead of [A_LAST], since I think sometimes these are
	used with index A_LAST (unit requirement without checking).

	In cityturn, made worker_loop() static and added some more
	LOG_DEBUG output.  Added extra LOG_DEBUG output in advmilitary.c:
	process_attacker_want().  Less detailed LOG_DEBUG output by
	default in inputfile and registry.

Sun Aug 15 07:19:07 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aicity.c, ai/aicity.h, ai/aitools.c, client/packhand.c,
	client/gui-gtk/citydlg.c, client/gui-gtk/diplodlg.c,
	client/gui-gtk/inteldlg.c, client/gui-gtk/mapview.c,
	client/gui-gtk/mapview.h, client/gui-gtk/repodlgs.c,
	client/gui-xaw/citydlg.c, client/gui-xaw/diplodlg.c,
	client/gui-xaw/inteldlg.c, client/gui-xaw/mapview.c,
	client/gui-xaw/mapview.h, client/gui-xaw/repodlgs.c,
	common/capstr.c, common/game.c, common/game.h, common/packets.c,
	common/packets.h, common/player.c, common/player.h,
	common/registry.c, common/registry.h, server/citytools.c,
	server/cityturn.c, server/gamehand.c, server/plrhand.c,
	server/ruleset.c: Minor changes to prepare for future government
	rulesets.

	Add and use game.government_when_anarchy and
	game.default_government instead of G_ANARCHY and G_DESPOTISM (in
	some places).  (Put in gameinfo packet so added capstr
	"+pregovrs1".) Added game.government_count,
	game.ruleset.governments.

	Interfaces changes for put_unit_gpixmap_city_overlays(), and
	get_ruler_title().  Added player.is_male (currently fixed at 1). 
	Converted some uses of enum government_type to be int.

	Added find_race_by_name() in player.c, and
	secfile_lookup_str_int() in registry.c.

	Parts from or based on patches submitted by Sune Kirkeby
	<sune@interspace.dk>.

Sun Aug 15 07:14:34 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advdomestic.c: Fixed bug where B_COURTHOUSE value was
	assigned to values[B_COLOSSEUM] when in Democracy.  (Anomaly noted
	by Sune Kirkeby.)

Sat Aug 14 19:11:21 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-xaw/Freeciv.h, data/Freeciv: One more foreground
	color resource, in case default isn't black.

Sat Aug 14 03:35:48 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/gamehand.c: Suppress warnings about unused entries when
	loading older savegames, for game.rail_food, rail_prod,
	rail_trade, farmfood.

Sat Aug 14 03:03:36 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/trident/flags.xpm, data/trident/roads.xpm,
	data/trident/tiles.xpm, data/trident/units.xpm: Updated trident
	tiles by Tatu Rissanen <tatu.rissanen@hut.fi>, taken from
	trident_30x30-1.8.1-1.3.tar.gz.

	For all, adjusted palette. The overall looks is now brighter and
	sharper.  Adjusting brightness and contrast previously left the
	images a bit grayish.  This time I used gimp's Color curve -dialog
	to achieve the result.  All the files share a palette so that the
	total number of distinct colors is 64.

	For units.xpm, completed all units.  Added graphics for missing
	units from Civ2.  For flags.xpm, removed raster from Chinese flag.
	For tiles.xpm, added a tile for farmland.  (Plus hacked by dwp to
	suit CVS freeciv, and changed (nicer?) flag for occupied tile.)

Sat Aug 14 02:57:18 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Makefile.am, client/Makefile.in, client/civclient.c,
	client/clinet.c, client/packhand.c, client/gui-gtk/Makefile.am,
	client/gui-gtk/Makefile.in, client/gui-gtk/clinet.c,
	client/gui-gtk/clinet.h, client/gui-gtk/connectdlg.c,
	client/gui-gtk/gui_main.c, client/gui-xaw/Makefile.am,
	client/gui-xaw/Makefile.in, client/gui-xaw/clinet.c,
	client/gui-xaw/clinet.h, client/gui-xaw/connectdlg.c,
	client/gui-xaw/gui_main.c, client/include/Makefile.am,
	client/include/Makefile.in, client/include/clinet.h,
	client/include/clinet_g.h, client/include/gui_main_g.h: Moved
	clinet out of gui-dependent dirs; moved get_meta_list() to
	connectdlg.c because it is still gui-dependent, at least for now. 
	From patch submitted by Sebastian Bauer <sebauer@t-online.de>.

Fri Aug 13 20:30:59 1999  Jeff Mallatt <jjm@codewell.com>:

	* ai/aiunit.c, client/packhand.c, common/capstr.c, common/city.c,
	common/game.c, common/game.h, common/map.c, common/map.h,
	common/packets.c, common/packets.h, data/civ1.serv,
	data/classic_terrain.ruleset, data/civ1/terrain.ruleset,
	data/civ2/terrain.ruleset, data/default/terrain.ruleset,
	server/gamehand.c, server/maphand.c, server/ruleset.c,
	server/settlers.c, server/stdinhand.c, server/unitfunc.c,
	server/unithand.c, server/unittools.c: Implements David Pfitzner's
	river movement cost idea, as a terrain ruleset parameter.  Moves
	railprod, railtrade, railfood and farmfood into new terrain
	ruleset parameters.  Adds some further terrain ruleset parameters.
	Fixes bug where entered huts which become cities were not building
	railroads.

Fri Aug 13 19:57:31 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/gui-gtk/gui_main.c: can't use freelog during option
	checking as log is initialized after all options has been checked.

Fri Aug 13 19:26:36 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/packhand.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/repodlgs.c, client/gui-xaw/dialogs.c,
	client/gui-xaw/repodlgs.c, client/include/dialogs_g.h,
	server/plrhand.c, server/plrhand.h, server/stdinhand.c: Add a
	"caption" line as the first line of a PACKET_PAGE_MSG packet,
	which is useful for captioning dialogs.  This makes the second
	line in the packet the "headline".  This problem was reported by
	Artur Biesiadowski.

Fri Aug 13 11:36:28 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/clinet.c, client/gui-xaw/clinet.c: Don't wrap
	include for signal.h with #ifdef HAVE_SIGNAL_H, because we never
	define HAVE_SIGNAL_H!  (And note signal.h is standard.)  Should
	fix problem reported by Tony Stuckey.  Also check for HAVE_SIGPIPE
	around client use of SIGPIPE.

Fri Aug 13 11:27:40 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* acconfig.h, config.h.in, config.mac.h, configure, configure.in,
	server/sernet.c: Check for SIGPIPE in configure instead of using
	#ifdef HAVE_SIGPIPE.  Patch submitted by Sebastian Bauer
	<sebauer@t-online.de>.

Fri Aug 13 11:11:00 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* Makefile.am, Makefile.in, acconfig.h, config.h.in, config.mac.h,
	common/shared.c, server/civserver.c, server/meta.c,
	server/sernet.c: Added config.mac.h, to use instead of config.h on
	Mac, thanks to Andy Black <ablack@bvsd.k12.co.us>.

	In acconfig.h, removed PACKAGE and VERSION since are included by
	autoheader, and added defines used for handwritten config.h files:
	ALWAYS_ROOT, STRICT_WINDOWS, GENERATING_MAC, and
	HAVE_OPENTRANSPORT.

	In code, use #ifdef GENERATING_MAC or #ifdef HAVE_OPENTRANSPORT
	instead of #if (defined(GENERATING68K) || defined(GENERATINGPPC)).

	In shared.c:dont_run_as_root(), check ALWAYS_ROOT to provide a way
	for non-configure root-only systems to avoid this, from suggestion
	by Sebastian Bauer <sebauer@t-online.de>.

	In meta.c, added include for OpenTptInternet.h for Mac.

Fri Aug 13 10:34:47 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/helpdata.txt, data/civ2/terrain.ruleset,
	data/default/terrain.ruleset: Corrected a few typos and spelling
	mistakes.  Patch submitted by Andrew Donkin
	<ard@scms.waikato.ac.nz>.

Fri Aug 13 10:10:23 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/civ2/buildings.ruleset, data/civ2/techs.ruleset,
	data/civ2/units.ruleset, data/civ1/buildings.ruleset,
	data/civ1/techs.ruleset, data/civ1/units.ruleset,
	data/default/buildings.ruleset, data/default/techs.ruleset,
	data/default/units.ruleset, server/ruleset.c: Converted the
	buildings and techs rulesets to the new-style format (non-tabular,
	per-section), and removed code support for old-style units ruleset
	(to keep the code simple).

Tue Aug 10 12:41:33 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/player.c, common/player.h, ai/aitech.c, server/ruleset.c:
	Changed the goal initialization fields in the races struct to be
	strings instead of enums, and convert back to integers (for enums)
	at runtime (after loading rulesets).  This lets these goals work
	better with rulesets.  (Although note that currently these goals
	are not actually all implemented).

	Also changed TECH_GOALS to MAX_NUM_TECH_GOALS to follow recent
	regularized identifier scheme.

Tue Aug 10 12:32:46 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c, common/shared.c, common/shared.h,
	server/civserver.c: Moved NLS initialization into function
	init_nls() in shared.c

Tue Aug 10 12:31:28 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c, common/shared.c, common/shared.h,
	server/civserver.c: Moved check for running as root into new
	function dont_run_as_root() in shared.c, and also call this
	function for client.

Tue Aug 10 12:30:22 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/registry.c: Fixed registry handling of vector as last
	columns of table (problem exposed by governments ruleset patch).

Tue Aug 10 12:29:04 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/gui_main.c: Fixed initialization of log file for
	gtk client.  Fixes bug reported by Lindqvist Marko
	<caz@assari.cc.tut.fi>.

Tue Aug 10 08:07:45 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/gui-gtk/gui_main.c: Allow to give gtk options in the
	command line.  There is still this problem with --name.

Mon Aug  9 14:47:56 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-xaw/Freeciv.h, data/Freeciv: Just a few more default
	color resource settings for the xaw client, in case the user has
	set global foreground/background other than black/white.

Mon Aug  9 00:20:21 1999  Jeff Mallatt <jjm@codewell.com>:

	* data/classic_terrain.ruleset, data/civ1/terrain.ruleset,
	data/civ2/terrain.ruleset, server/ruleset.c,
	data/default/terrain.ruleset: Converted all terrain.ruleset files
	to David's new-and-improved ruleset file format.  Changed the code
	to handle the new format.

Sun Aug  8 23:43:30 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/packhand.c, client/gui-xaw/gotodlg.c,
	client/gui-xaw/menu.c: In xaw client: Fixed Goto/Airlift dialog to
	be able to handle being opened with no cities owned by player, but
	with known cities owned by others.  Disabled Find City and
	Goto/Airlift menus if no known cities.

Sun Aug  8 21:14:30 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/civclient.c, client/gui-xaw/gui_main.c,
	client/gui-gtk/gui_main.c: A small change for FreeCiv not to be
	ugly.  ( --Name renamed --name)

Sun Aug  8 14:08:02 1999  Jeff Mallatt <jjm@codewell.com>:

	* client/gui-gtk/mapview.c, client/gui-xaw/mapview.c,
	server/cityturn.c: Prevents pollution generated by a city from
	being placed outside that city's radius.  Also, draws pollution
	graphic on top of the city graphic.

Sun Aug  8 11:23:32 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/cityrep.c, client/gui-gtk/gui_main.c,
	common/city.c, common/registry.c, common/shared.c,
	common/shared.h, server/gamelog.c, server/meta.c,
	server/plrhand.c: Minor fixes: made some functions static; added
	some const qualifiers; removed declaration for unused errno in
	meta.c.  In plrhand.c made some more things static and fixed
	bizarre indentation in historian_generic().

Sun Aug  8 05:50:34 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/unithand.c: In handle_unit_build_city(), dereference
	punit to get unit_name and pcity only _after_ checking whether
	punit is non-NULL.  Fixes bug that server could segfault if a unit
	building a new city was killed before the city was named (PR#95)
	reported by Per Persson <pp@sno.pp.se>.

Sun Aug  8 05:32:16 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/sernet.c: Use #ifdef SIGPIPE around signal(SIGPIPE,
	SIG_IGN).  Patch submitted by Sebastian Bauer
	<sebauer@t-online.de>.

Sun Aug  8 04:52:47 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c, server/civserver.c: Moved include lines for
	fcintl.h to follow policy.

Sun Aug  8 04:13:37 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/city.c, common/packets.c, common/sbuffer.c,
	common/tech.c, server/cityturn.c, server/ruleset.c: Add some
	missing includes for string.h, and correct some function
	declarations to match their prototypes (static).  Patch submitted
	by Sebastian Bauer <sebauer@t-online.de>.

Sun Aug  8 04:05:52 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/inputfile.c, common/registry.c: Enforce slightly stricter
	format regarding some newlines in registry; handle missing newline
	at EOF better in inputfile; do less in inputfile:assert_sanity()
	unless DEBUG defined.

Sun Aug  8 03:57:41 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/astring.c, common/astring.h, common/registry.c: Removed
	ATHING_SIZE macro, and call ath_init() explicitly instead, since
	ATHING_SIZE relied on a gcc extension.  Based on problem reports
	and patches submitted by Nicolas Brunel
	<brunel@ham.esil.univ-mrs.fr> and Sebastian Bauer
	<sebauer@t-online.de>.

Sat Aug  7 18:29:18 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/include/control.h, client/include/mapctrl_g.h: Some
	little changes to conform to dwp wishes.

Sat Aug  7 04:44:24 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/registry.c: Changes to registry to use new astring and
	inputfile modules.  Enables new registry features of
	gettext-marked strings and multi-line strings; also allow some
	optional extra line breaks in some places in format.  Updated
	documentation on format at top of registry.c to reflect changes.

Sat Aug  7 04:37:24 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/Makefile.am, common/Makefile.in, common/inputfile.c,
	common/inputfile.h: New module common/inputfile, for low-level
	reading and tokenizing of a registry-format file, to support
	registry enhancements.  New features include:

	- Allow gettext markings on string values in registry, based on a
	patch by David Perez Serrada <dperezs@nexo.es>.

	- Allow multi-line strings.  The purpose of this is to make it
	feasible to easily include help data in ruleset files.

Sat Aug  7 04:30:37 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/Makefile.am, common/Makefile.in, common/astring.c,
	common/astring.h: New module common/astring, for
	"allocated/allocatable strings".  That is, allocated strings where
	we remember the allocated size, to enable doing "lazy realloc": if
	the required size shrinks, don't realloc; if it grows, maybe
	realloc a bit more to avoid future reallocs on incremental growth.
	Also "athing", for similar functionality for general pointers.

Sat Aug  7 04:21:29 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/registry.c, common/registry.h: Use speclists in registry,
	to make code slightly nicer.

Sat Aug  7 04:16:44 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* config.h.in, configure, configure.in, client/civclient.c,
	client/climisc.c, client/gui-gtk/clinet.c,
	client/gui-gtk/gui_main.c, client/gui-gtk/mapview.c,
	client/gui-xaw/clinet.c, client/gui-xaw/gui_main.c,
	common/packets.c, common/shared.c, server/civserver.c,
	server/meta.c, server/sernet.c: Added and use more configure
	checks for non-standard header includes.

Sat Aug  7 04:01:11 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Makefile.am, client/Makefile.in, client/civclient.c,
	client/helpdata.c, client/packhand.c, client/gui-gtk/gui_main.c,
	client/gui-gtk/helpdlg.c, client/gui-gtk/repodlgs.c,
	client/gui-xaw/gui_main.c, client/gui-xaw/helpdlg.c,
	client/include/Makefile.am, client/include/Makefile.in,
	client/include/helpdata.h, client/include/helpdlg_g.h: New module
	client/helpdata.c, for generic handling of client help data,
	independent of gui considerations.  Combines lots of code
	previously duplicated between the gui helpdlg.c files.

Sat Aug  7 03:42:08 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* acconfig.h, config.h.in, configure, configure.in,
	client/civclient.c, server/civserver.c: Use LOCALEDIR instead of
	GNULOCALEDIR, and set LOCALEDIR in configure making sure it
	matches the directory where the .mo files are installed by
	po/Makefile.  (Fixes problem on Solaris.)

Sat Aug  7 02:50:14 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/meta.c: Correct MAX_PACKET_SIZE to MAX_LEN_PACKET in Mac
	meta code.  Patch submitted by Andy Black <ablack@bvsd.k12.co.us>.

Sat Aug  7 02:47:22 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/gui_main.c, client/gui-gtk/mapctrl.c,
	client/gui-xaw/mapctrl.c: Moved an include to different line, and
	removed includes for log.h in mapctrl.c

Fri Aug  6 18:40:52 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/civclient.c, client/gui-gtk/gui_main.c: I mended my
	patch. There was ) missing in gui_main.c and I put an extra i in
	in the rusage string.

Fri Aug  6 18:16:25 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/gui-gtk/gui_main.c, client/civclient.c,
	client/gui-xaw/gui_main.c, server/civserver.c, common/shared.c,
	common/shared.h: Function get_option is added in shared.c to get
	the argument of an option.  Function is_option is added in
	shared.c to recognize an option either with a long name or a short
	name.  Both functions are used in client/gui-gtk/gui_main.c and
	server/civserver.c.  As gtk withdraw the options it uses, gtk_init
	is now called before.  I don't know the result for --help and
	--version.  As one gtk option is called --name, the freeciv option
	--name is renamed --Name or -N for short.  Patch submitted by
	Nicolas Brunel <brunel@ham.esil.univ-mrs.fr> Previous patch where
	control.c and control.h were created was submitted by Sebastian
	Bauer <sebauer@t-online.de>

Fri Aug  6 17:53:49 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/Makefile.am, client/Makefile.in, client/civclient.c,
	client/climisc.c, client/control.c, client/packhand.c,
	client/gui-gtk/citydlg.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/gotodlg.c, client/gui-gtk/gui_main.c,
	client/gui-gtk/mapctrl.c, client/gui-gtk/mapctrl.h,
	client/gui-gtk/mapview.c, client/gui-gtk/menu.c,
	client/include/control.h, client/include/mapctrl_g.h,
	client/include/mapview_g.h, client/gui-xaw/citydlg.c,
	client/gui-xaw/dialogs.c, client/gui-xaw/gotodlg.c,
	client/gui-xaw/gui_main.c, client/gui-xaw/mapctrl.c,
	client/gui-xaw/mapctrl.h, client/gui-xaw/mapview.c,
	client/gui-xaw/menu.c: This patch moves code out of mapctrl.c to a
	new gui independent file control.c. A new header control.h has
	been added in client/include.

Thu Aug  5 15:58:44 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* ai/aitech.c: Cache information in find_prerequisites().

Sun Aug  1 11:35:44 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/genlist.h: Added macro TYPED_LIST_ITERATE_REV() to
	iterate in reverse.

Sun Aug  1 11:33:28 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/meta.c: Revisions to Mac metaserver code; patch submitted
	by Andy Black <ablack@bvsd.k12.co.us>.

Sun Aug  1 11:32:53 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c: Removed comments containing old
	gui-dependent X calls in now-gui-indep set_client_state(). 
	Suggested by Andy Black.

Sun Aug  1 11:32:14 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/packets.c, server/meta.c, server/sernet.c: Include
	config.h in a few places where added use of configure checks.

Sun Aug  1 11:31:25 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* config.h.in, configure, configure.in, client/civclient.c,
	client/gui-gtk/clinet.c, client/gui-gtk/mapview.c,
	client/gui-xaw/clinet.c, common/packets.c, common/shared.c,
	server/civserver.c, server/meta.c, server/sernet.c: Check for
	sys/types.h in configure, to replace some Mac-specific checks.

Sun Aug  1 11:30:11 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c: Exclude check for running as root when
	compiling on OS/2.  Suggested by Alexander Mai
	<st002279@hrzpub.tu-darmstadt.de>.

Sun Aug  1 11:29:22 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* config.h.in, configure, configure.in, client/gui-gtk/clinet.c,
	client/gui-xaw/clinet.c, client/gui-xaw/mapview.c,
	common/shared.c, server/sernet.c: Check for sys/select.h in
	configure, and use HAVE_SYS_SELECT_H instead of system-dependent
	defines.  Include sys/select.h in shared.c.  Suggested by
	Alexander Mai <st002279@hrzpub.tu-darmstadt.de>.

Sat Jul 31 02:32:42 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/city.c, common/city.h, server/cityturn.c,
	server/settlers.c: When placing workers around a city, they used
	to be preferentially placed far to the north-west.  There, they
	frequently interfered with workers from a neighboring city.  This
	patch preferentially tries to place workers near the city.  To
	help support this a new macro city_map_iterate_outwards is
	supplied.  Patch submitted by Jeff Mallatt <jjm@codewell.com>.

Sat Jul 31 02:31:42 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/cityturn.c: New citizen placement used to ignore city
	option for new citizens if the city did not have enough food, even
	if there were no squares to place workers, and hence no way to
	improve food anyway.  This patch checks for available squares, and
	if there are none, then respects the "Make new citizens" setting. 
	Patch submitted by Jeff Mallatt <jjm@codewell.com>.

Sat Jul 31 02:30:54 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/gotodlg.c: The xaw client Airlift/Goto dialog
	leaked memory whenever the "All Cities" button was toggled; fixed.
	Based on patch submitted by Jeff Mallatt <jjm@codewell.com>.

Fri Jul 30 12:20:08 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* po/pt.po: Fixed a small typo "client" should read as "cliente".

Fri Jul 30 10:53:13 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/citydlg.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/gtkpixcomm.c, client/gui-gtk/gtkpixcomm.h,
	client/gui-gtk/gui_main.c, client/gui-gtk/mapview.c,
	client/gui-gtk/mapview.h: Fixes for memory leaks and refresh
	problems in the citizen pixmap widgets on the city dialog (i.e.
	they now use the GtkPixcomm widget).  Modified GtkPixcomm API to
	help clean up the code a bit.

Fri Jul 30 01:27:22 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* po/.cvsignore, po/pt.gmo: Remove po/pt.gmo which is generated
	automacally.  Add pt.gmo and pt.mo in po/.cvsignore Patch sugested
	by David Pfitzner <dwp@mso.anu.edu.au>

Fri Jul 30 01:06:32 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* configure, configure.in, po/pt.gmo, po/pt.po: Add Vasco
	Alexandre Da Silva Costa <vasc@camoes.rnl.ist.utl.pt> .po file for
	"Standard Portuguese".  Change ALL_LINGUAS to "pt es fr"

Fri Jul 30 00:54:58 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/gui-gtk/Makefile.in: New Makefile.in generated by
	automake after Vasco change to Makefile.am in client/gui-gtk

Thu Jul 29 23:19:00 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* common/shared.c, server/mapgen.c: This patch fixes cast problems
	from uint to int and int to long int.  These problems occured in
	mapgen.c.  Bug reported and patch submitted by Matthew OConnor
	<matthew@anti-earth.org>.

Thu Jul 29 16:25:35 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/gui_stuff.c, client/gui-gtk/gui_stuff.h: Removed
	now redundant (and buggy) code that was used in the unit pixmaps. 
	The new GtkPixcomm widget takes care of that now.

Thu Jul 29 16:24:00 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/citydlg.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/gui_main.c, client/gui-gtk/mapview.c,
	client/gui-gtk/mapview.h: Changed style of tearoff widgets in the
	toplevel window to look nicer.  Changed code of unit pixmaps to
	use the new GtkPixcomm widget, this fixes bug PR#27 properly so
	there is no more need for the kludge that was used then to fix it.

Thu Jul 29 16:19:22 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/helpdlg.c: Changed style of labels in unit stats
	in the help dialog.

Thu Jul 29 16:16:31 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/Makefile.am: Added lines to enable the correct
	compilation of the new GtkPixcomm widget.

Thu Jul 29 16:14:41 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/gtkpixcomm.c, client/gui-gtk/gtkpixcomm.h: Added
	new GtkPixcomm widget based on the GTK+ library's GtkPixmap code. 
	This widget will be used in the unit pixmaps in the city dialog
	and toplevel window.

Thu Jul 29 00:15:18 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* server/plrhand.c: Remove science bonus of +1 per city.  People
	wishing to play with this can re-enable it by compiling with
	CITIES_PROVIDE_RESEARCH defined.

Wed Jul 28 22:47:17 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* common/shared.c, common/shared.h: Change the type of the
	parameter size in my_rand from int to RANDOM_TYPE. It was done to
	be sure to use % on a greater or equal to zero number.

Wed Jul 28 14:12:41 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* intl/.cvsignore, po/.cvsignore: Missed some files to ignore.

Wed Jul 28 14:08:43 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* intl/.cvsignore, po/.cvsignore: Added some .cvsignore files for
	new gettext stuff.

Wed Jul 28 13:36:44 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* Makefile.am, Makefile.in, acconfig.h, aclocal.m4, config.h.in,
	configure, configure.in, ai/Makefile.am, ai/Makefile.in,
	client/Makefile.am, client/Makefile.in, client/civclient.c,
	client/gui-gtk/Makefile.am, client/gui-gtk/Makefile.in,
	client/gui-xaw/Makefile.am, client/gui-xaw/Makefile.in,
	client/include/Makefile.in, common/Makefile.am,
	common/Makefile.in, common/fcintl.h, data/Makefile.in,
	data/civ1/Makefile.in, data/civ2/Makefile.in,
	data/default/Makefile.in, data/trident/Makefile.in, po/ChangeLog,
	po/POTFILES.in, po/es.po, po/fr.po, server/Makefile.am,
	server/Makefile.in, server/civserver.c: Added Native Language
	Support (gettext support) in configure and makefiles, and some
	initial (test) translations.  Based on a patch submitted by David
	Perez Serrada <dperezs@nexo.es>.

Wed Jul 28 13:05:05 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/mapview.c, client/gui-xaw/mapview.c,
	common/map.c, common/map.h, server/maphand.c: Replaced S_NONE in
	enum tile_special_type with S_NO_SPECIAL, to avoid clash with
	S_NONE in sys/signal.h on Solaris.

Wed Jul 28 13:02:55 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c: Give server help on 'start' command in
	'help' even when the game is running, to avoid confusion.  (But
	say that command is unavailable.) Fixes bug PR#61 reported by
	Reuben Thomas <rrt1001@cam.ac.uk>.

Wed Jul 28 12:31:00 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/mapview.c, client/gui-xaw/mapview.c: Made terrain
	at map north and south poles "seamless", as if the terrain in the
	top/bottom row was continued off the map.

Tue Jul 27 22:00:46 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* ai/advmilitary.c: Streamline and reorganize code in
	assess_danger_unit().

Mon Jul 26 22:37:54 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* ai/aiunit.c: find_something_to_kill() does not cache handicap
	information.  This patch makes it cache that information.

Mon Jul 26 14:08:08 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/mapgen.c: In remove_tiny_islands() clear the S_RIVER
	special on removed islands, to avoid rivers in the ocean.

Mon Jul 26 11:53:30 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/trident/tiles.xpm: Fixed off-by-one-pixel error in new
	transparent rivers for trident tiles.

Mon Jul 26 11:52:19 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/trident/tiles.xpm: Made a nicer wheat special graphic for
	trident tiles, based on the trident settler upkeep icon.

Sun Jul 25 01:58:01 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/civ2.serv, data/civ2/Makefile.am, data/civ2/Makefile.in,
	data/civ2/buildings.ruleset, data/civ2/techs.ruleset,
	data/civ2/units.ruleset: Added copies of default ruleset files
	(units, buildings, techs) to civ2 directory, for future
	modifications.  Added explicit use of these ones in civ2.serv.

Sun Jul 25 01:56:04 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/registry.c, common/registry.h, common/unit.c,
	common/unit.h, data/civ1/units.ruleset,
	data/default/units.ruleset, server/ruleset.c: Changed
	units.ruleset format to have the data for each unit in a separate
	section, instead of separated over several tables.  Reading
	old-format units.ruleset files is still supported, but this may go
	away in future.

	Includes new registry function secfile_get_secnames_prefix(), and
	new lists of names in unit.c for unit move_types, flags and roles,
	plus new functions to do lookups on these lists:
	unit_move_type_from_str(), unit_flag_from_str(),
	unit_role_from_str().

Sun Jul 25 01:49:10 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/gui_main.c: Made the initial window size of the
	Gtk+ client smaller, to fit better on smaller screens.  Also
	changed the way the dettachable widgets in the toplevel window
	work, so that the chat window is now resizeable.  Patch submitted
	by Vasco Alexandre Da Silva Costa.

Sun Jul 25 01:48:19 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/cityrep.c: Allow sorting the city report by
	different columns, by clicking on the column headings.  Gtk+
	client only.  Clicking on the same heading a second time reverses
	the sort order.  Patch submitted by Daniel Sjolie
	<deepone@acc.umu.se>.

Sun Jul 25 01:44:58 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/climisc.c, client/gui-gtk/cityrep.c,
	client/include/climisc.h, common/city.c, common/city.h: This patch
	allows changing production between two specified items (from an
	item, to another item) in all cities at once (that is, all cities
	currently building the first item).  Gtk+ client only.  Includes
	some new helper functions: could_player_build_improvement(),
	can_player_build_improvement(), can_player_build_unit_direct(),
	can_player_build_unit().  Patch submitted by John-Marc Chandonia
	<jmc@cmpharm.ucsf.edu>.

Sat Jul 24 03:22:50 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* README.rulesets, ai/advdomestic.c, client/civclient.c,
	client/packhand.c, client/gui-gtk/helpdlg.c,
	client/gui-gtk/mapctrl.c, client/gui-gtk/mapview.c,
	client/gui-gtk/menu.c, client/gui-xaw/Freeciv.h,
	client/gui-xaw/helpdlg.c, client/gui-xaw/mapctrl.c,
	client/gui-xaw/mapview.c, client/gui-xaw/menu.c,
	client/include/helpdlg_g.h, client/include/mapview_g.h,
	client/include/packhand.h, common/capstr.c, common/city.c,
	common/game.c, common/game.h, common/map.c, common/map.h,
	common/packets.c, common/packets.h, common/shared.h,
	common/unit.c, data/Freeciv, data/helpdata.txt, server/gamehand.c,
	server/mapgen.c, server/maphand.c, server/ruleset.c,
	server/settlers.c, server/stdinhand.c, server/unitfunc.c: Bulk of
	terrain ruleset patch, by Jeff Mallatt <jjm@codewell.com>.

	Added "+terrainrulesets" to the CAPABILITY string.

	Added the 'terrain' server option.

	Added the terrain ruleset support code, including adding the new
	PACKET_RULESET_TERRAIN and PACKET_RULESET_TERRAIN_CONTROL packets,
	and their supporting code.

	Since I needed more bits in the tile_special_type enumeration
	(bits beyond the 8th), I had to extend PACKET_TILE_INFO to pass
	more than the lower 8 bits.  Also, had to extend the saved-game
	file format for the same reason.

	Added the S_RIVER special.  There are now two types of rivers:
	Civ1 style (signaled by a tile of type T_RIVER) and Civ2 style
	(signaled by having the S_RIVER special bit set).  Any given map
	should have only one type of river.  This is controled by the
	river_style flag in the new terrain.ruleset file.  Adding this
	forced lots of changes to many places in the code.

	Added the S_FARMLAND special.  This gets set when player can build
	the Supermarket, and irrigates a square a *second* time.  Adds 50%
	to food yield.

	Added the farmfood server option.  It's like rail_food, except it
	applies when S_FARMLAND is set for a tile.

	Extended PACKET_GAME_INFO to include new server options.

	Changed S_SPECIAL to S_SPECIAL_1 and added S_SPECIAL_2 to support
	up to *two* specials per tile type, as is done in Civ2.

	Lots of changes to struct tile_type to support new terrain
	concepts and the terrain ruleset stuff.  Added struct terrain_misc
	terrain_control for the global flags from terrain.ruleset.

	Added the TERRAIN category to the help dialog.  Now, when you
	select a terrain in the help dialog, you see the actual values
	from the tile_type array.

	Added a "generated table" mechanism to the help dialog. 
	Currently, only the $TerrainAlterations generated table is
	implemented.

	Updated the text in helpdata.txt for all terrains.

	To figure out when road building was done, the code used to use
	">", which meant that it took one turn longer than the value in
	the tile_type array.  For consistency, I changed the compare to
	">=" (like all the rest in the function), and added one to all the
	values in the array.

Sat Jul 24 03:18:47 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/include/mapview_g.h, data/default/tiles.xpm,
	data/trident/tiles.xpm: Added new graphics for terrain ruleset:
	transparent rivers to overlay on other terrains; farmland tile;
	new specials.  Also occupied tile for trident tiles (already in
	default).  Note this breaks old tilesets.  Feel free to submit
	improved graphics! From patch submitted by Jeff Mallatt
	<jjm@codewell.com>.

Sat Jul 24 03:15:55 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in, data/Makefile.am, data/Makefile.in,
	data/civ1.serv, data/civ2.serv, data/classic_terrain.ruleset,
	data/civ1/Makefile.am, data/civ1/Makefile.in,
	data/civ1/terrain.ruleset, data/civ2/.cvsignore,
	data/civ2/Makefile.am, data/civ2/Makefile.in,
	data/civ2/terrain.ruleset, data/default/Makefile.am,
	data/default/Makefile.in, data/default/terrain.ruleset: Added new
	files for terrain rulesets, and new files for civ2 style.  From
	patch submitted by Jeff Mallatt <jjm@codewell.com>.

Wed Jul 21 13:17:41 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/version.h: The "fallback" (non-configure) #define
	VERSION_STRING was wrong ("1.8.0"); fixed it so it won't be wrong
	again.

Tue Jul 20 15:45:56 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* data/helpdata.txt: Here's some help text for pillaging.  I also
	noted a small error in the road description, so I fixed that. 
	Comment and patch by Greg Wooledge <wooledge@kellnet.com>

Tue Jul 20 15:41:39 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/unithand.c: This patch fixes a grammatical problem that
	was pointed out a long time back.  Patch submitted by Greg
	Wooledge <ic5035%tss1crs.amgreetings.com@rose.amgreetings.com>

Tue Jul 20 12:57:07 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/classic/.cvsignore, data/classic/Makefile.am,
	data/classic/Makefile.in, data/classic/flags.xpm,
	data/classic/roads.xpm, data/classic/tiles.xpm,
	data/classic/units.xpm: Removed the classic tiles from CVS.  The
	are still available from ftp.freeciv.org as the "brunus" tileset.

Tue Jul 20 12:39:11 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/graphics.c, client/include/mapview_g.h,
	client/gui-xaw/graphics.c: Consolidated the numbers of rows in
	each .xpm file in mapview_g.h in ROWS_???? constants.  From a
	patch submitted by Jeff Mallatt <jjm@codewell.com>.

Tue Jul 20 12:22:34 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/mapview.c, client/gui-xaw/mapview.c,
	client/include/mapview_g.h, data/default/tiles.xpm: Added an extra
	graphic overlay (the OCCUPIED tile) for when a town is occupied by
	at least one defender.  Both Civ1 and Civ2 had this.  (New graphic
	in default tiles.xpm only so far; its the tile just to the left of
	the red-box/crosshairs/attention graphic.) From a patch submitted
	by Jeff Mallatt <jjm@codewell.com>.

Tue Jul 20 11:52:19 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/ruleset.c: Look for ruleset files as, eg,
	"civ1_units.ruleset", as well as the previous "civ1/units.ruleset"
	(both with respect to the data path), to allow adding ruleset
	files without requiring additional directories.  (Todo: update
	documentation to cover this new alternative.)

Tue Jul 20 11:50:02 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/packhand.c, client/gui-gtk/chatline.c,
	client/gui-gtk/citydlg.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/gotodlg.c, client/gui-gtk/helpdlg.c,
	client/gui-gtk/mapctrl.c, client/gui-xaw/chatline.c,
	client/gui-xaw/citydlg.c, client/gui-xaw/dialogs.c,
	client/gui-xaw/gotodlg.c, client/gui-xaw/helpdlg.c,
	client/gui-xaw/mapctrl.c, client/gui-xaw/plrdlg.c,
	common/capstr.c, common/city.h, common/game.c, common/game.h,
	common/packets.c, common/packets.h, common/player.h,
	common/shared.c, common/shared.h, common/tech.h, common/unit.h,
	server/autoattack.c, server/civserver.c, server/handchat.c,
	server/meta.c, server/sernet.c, server/sernet.h,
	server/spacerace.c, server/stdinhand.c, server/unitfunc.c,
	server/unithand.c: Made some identifiers more uniformly named:
	MAX_PLAYERS        -> MAX_NUM_PLAYERS 
	MAX_CONNECTIONS	   -> MAX_NUM_CONNECTIONS
	MAX_LENGTH_NAME    -> MAX_LEN_NAME
	MAX_LENGTH_ADDRESS -> MAX_LEN_ADDR 
	ADDR_LENGTH        -> "
	MAX_PACKET_SIZE    -> MAX_LEN_PACKET 
	NAME_SIZE	   -> MAX_LEN_USERNAME 
	MSG_SIZE	   -> MAX_LEN_MSG 
	MAX_CAPSTR_LEN	   -> MAX_LEN_CAPSTR 
	MAX_CMD_LEN	   -> MAX_LEN_CMD

Tue Jul 20 11:46:57 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/Makefile.am, common/Makefile.in, common/city.c,
	common/city.h, common/genlist.h, common/speclist.h,
	common/speclist_c.h, common/unit.c, common/unit.h: Added
	'speclist' header files, to automate details of creating specific
	("typed") genlists like the struct city_list and struct unit_list,
	and their related (generic) functions.

Tue Jul 20 11:43:13 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* Makefile.in, client/civclient.c, client/climisc.c,
	client/options.c, client/packhand.c, client/gui-gtk/Makefile.am,
	client/gui-gtk/Makefile.in, client/gui-gtk/cityrep.h,
	client/gui-gtk/helpdlg.h, client/gui-gtk/menu.c,
	client/gui-gtk/messagewin.c, client/gui-gtk/messagewin.h,
	client/gui-gtk/plrdlg.h, client/gui-xaw/Makefile.am,
	client/gui-xaw/Makefile.in, client/gui-xaw/cityrep.c,
	client/gui-xaw/cityrep.h, client/gui-xaw/gui_main.c,
	client/gui-xaw/gui_main.h, client/gui-xaw/helpdlg.c,
	client/gui-xaw/helpdlg.h, client/gui-xaw/menu.c,
	client/gui-xaw/messagewin.c, client/gui-xaw/messagewin.h,
	client/gui-xaw/plrdlg.c, client/gui-xaw/plrdlg.h,
	client/include/Makefile.am, client/include/Makefile.in,
	client/include/cityrep.h, client/include/cityrep_g.h,
	client/include/helpdlg.h, client/include/helpdlg_g.h,
	client/include/messagewin_g.h, client/include/meswindlg.h,
	client/include/plrdlg.h, client/include/plrdlg_g.h: More fixes to
	client gui-includes, splitting some previously gui-independent
	headers into gui-indep and gui-dep parts, to make places for
	prototypes previously misplaced in gui_main.h in the Xaw client. 
	Renamed meswindlg.h to messagewin.h (and messagewin_g.h) to match
	corresponding .c file.

Mon Jul 19 13:40:28 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/repodlgs.c: Fix for bug PR#57 (active units
	report doesn't scale)

Mon Jul 19 12:28:41 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/player.c: Changed spelling of "Ramesses" to "Rameses". 
	On advice by Reuben Thomas <rrt1001@cam.ac.uk>, with patch by Greg
	Wooledge <wooledge@kellnet.com>.

Mon Jul 19 12:10:33 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c: Fixed 'show' output so that the "changable"
	symbol takes into account game state (as well as access level).

Sun Jul 18 03:14:51 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/Makefile.am, common/Makefile.in, common/fcintl.h: Macros
	for internationalization.  This also provides no-op macros if
	HAVE_GETTEXT is not defined, so markup of strings can begin, using
	these no-ops for now.  From a patch by David Perez Serrada
	<dperezs@laguna.dvnet.es>.

Sat Jul 17 11:49:32 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advdomestic.c: Changed railroad_trade() checking S_RAILROAD
	to road_trade() checking S_ROAD, since Superhighways effect
	depends on road not railroad.  Idea from a patch by Rizos
	Sakellariou <rizos@rice.edu>.

Sat Jul 17 11:48:42 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ABOUT-NLS: Forgot to add this with rest of NLS stuff.

Sat Jul 17 11:47:42 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/Makefile.in: Auto-gen update for advspace files.

Sat Jul 17 11:46:56 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* intl/ChangeLog, intl/Makefile.in, intl/VERSION,
	intl/bindtextdom.c, intl/cat-compat.c, intl/dcgettext.c,
	intl/dgettext.c, intl/explodename.c, intl/finddomain.c,
	intl/gettext.c, intl/gettext.h, intl/gettextP.h,
	intl/hash-string.h, intl/intl-compat.c, intl/l10nflist.c,
	intl/libgettext.h, intl/linux-msg.sed, intl/loadinfo.h,
	intl/loadmsgcat.c, intl/localealias.c, intl/po2tbl.sed.in,
	intl/textdomain.c, intl/xopen-msg.sed, po/Makefile.in.in: Added
	some preliminary infrastructure for Native Language Support, from
	gettext-0.10.35.

Sat Jul 17 11:43:35 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/cityrep.c, client/gui-gtk/repodlgs.c: Allow
	multiple selections (and operations) in the City Report and Trade
	Report dialogs.  (Gtk+ client only.)  Selections are made by
	dragging, or clicking while holding shift or ctrl (or alt?). 
	Patch submitted by Markus Linnala <maage@cs.tut.fi>.

	Examples:  In the City Report: - Select 1 city and issue command,
	works as before; - Select 2 or more cities and issue buy, client
	tries to buy improvement or unit at all cities, you can easily use
	all your money; - Select 2 or more cities and issue change, select
	one, client tries to change production to the one you selected, if
	you select building and city already has building, there is no
	change, if you have 10 cities with all buildings, 10 without
	supermarket and one brand new, you can select all, then press alt
	and mouse on brand new twice and select supermarket on a list; -
	Select all cities and deselect one which is building wonder,
	select another city again, change to caravan; - Game just sold
	your barracks, select all and change to barracks N+1, issue buy,
	you have barracks again; - You have lot of money, more than you
	can use, select all and buy, too bad you don't buy capitalization;
	- Pollution is not your friend, select every city with pollution
	and change them to build recycling.

	Also in the Trade Report: Select all buildings and push 'Sell
	obsolete'.  You get lot of popups with confusing messages, but
	don't be alarmed.  You just sold all possible obsolete buildings. 
	You can also easily sell all buildings.  Beware.

Sat Jul 17 02:06:25 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in, client/include/Makefile.am,
	client/include/Makefile.in, client/Makefile.am,
	client/Makefile.in: New configure option --enable-make-include, to
	force make to recurse into the client/include directory.  Normally
	this is useless, but it is useful for 'make tags' to get tags from
	the headers.  Also changed client/include/Makefile.am to list
	files as "noinst_HEADERS" instead of "EXTRA_DIST", so that they
	get processed by 'make tags'.

Fri Jul 16 20:33:58 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* ai/advspace.c, ai/advspace.h: New files to support AI spaceship
	building.

Fri Jul 16 20:29:52 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* ai/Makefile.am, ai/Makefile.in, ai/advdomestic.c, ai/aihand.c:
	Committing patch to make AI aware of spacerace.  More intelligent
	spaceship composition is a suggested future enhancement.

Fri Jul 16 13:55:58 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/unit.c, server/unitfunc.c: Allow pillaging fortresses;
	occurs after mine/irrigation but before railroad/road.  Patch
	submitted by Greg Wooledge <wooledge@kellnet.com>.

Fri Jul 16 13:25:05 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* AUTHORS, Makefile.am, Makefile.in, PEOPLE, THANKS: Recombined
	AUTHORS and THANKS files, into a single file PEOPLE, plus AUTHORS
	just containing the original authors.  Includes some changes
	thanks to Martin Willemoes Hansen <mwh@stampede.org>.

Fri Jul 16 12:40:48 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/settlers.c: Fixed arctic roads bug.  Roads/railroads in
	top or bottom map rows sometimes lost their "roadness"
	inexpectedly.  Bug report and fix submitted by Jeff Mallatt
	<jjm@codewell.com>.

Fri Jul 16 12:28:00 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/include/mapctrl_g.h: Removed X11 include accidently left
	in mapctrl_g.h; problem reported by Andy Black
	<ablack@bvsd.k12.co.us>.

Wed Jul 14 15:50:07 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/gui-gtk/mapview.c: In the GTK+ client, in both the unit
	info panel and the city dialog (supported and present units) the
	display of an Engineer that is transforming terrain is incorrect
	-- the small "O" in the upper right hand corner is replaced by
	tile number zero.

	It's simply a missing case in put_unit_gpixmap() in mapview.c:

	Patch and bug report submitted by jjm@codewell.com

Wed Jul 14 11:23:05 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aicity.c, client/civclient.c, client/climisc.c,
	client/options.c, client/packhand.c, client/gui-gtk/citydlg.c,
	client/gui-gtk/clinet.c, client/gui-gtk/colors.c,
	client/gui-gtk/colors.h, client/gui-gtk/connectdlg.c,
	client/gui-gtk/dialogs.c, client/gui-gtk/diplodlg.c,
	client/gui-gtk/finddlg.c, client/gui-gtk/gamedlgs.c,
	client/gui-gtk/gotodlg.c, client/gui-gtk/graphics.c,
	client/gui-gtk/gui_main.c, client/gui-gtk/gui_stuff.c,
	client/gui-gtk/helpdlg.c, client/gui-gtk/inputdlg.c,
	client/gui-gtk/inteldlg.c, client/gui-gtk/mapctrl.c,
	client/gui-gtk/mapview.c, client/gui-gtk/menu.c,
	client/gui-gtk/messagewin.c, client/gui-gtk/plrdlg.c,
	client/gui-gtk/repodlgs.c, client/gui-gtk/spaceshipdlg.c,
	client/gui-xaw/citydlg.c, client/gui-xaw/cityrep.c,
	client/gui-xaw/clinet.c, client/gui-xaw/colors.c,
	client/gui-xaw/dialogs.c, client/gui-xaw/dialogs.h,
	client/gui-xaw/diplodlg.c, client/gui-xaw/finddlg.c,
	client/gui-xaw/gotodlg.c, client/gui-xaw/graphics.c,
	client/gui-xaw/gui_main.c, client/gui-xaw/gui_main.h,
	client/gui-xaw/helpdlg.c, client/gui-xaw/inteldlg.c,
	client/gui-xaw/mapctrl.c, client/gui-xaw/mapview.c,
	client/gui-xaw/mapview.h, client/gui-xaw/menu.c,
	client/gui-xaw/messagewin.c, client/gui-xaw/plrdlg.c,
	client/gui-xaw/repodlgs.c, client/gui-xaw/spaceshipdlg.c,
	client/include/graphics_g.h, client/include/packhand.h,
	common/map.c, server/civserver.c, server/mapgen.h,
	server/plrhand.c, server/plrhand.h, server/sernet.c,
	server/stdinhand.c, server/unitfunc.c: More code cleanup fixes,
	mainly making more things static.  Also: Commented out some more
	unused functions; Removed some duplicated prototypes and
	declarations; Variables in headers should be extern; Moved
	handle_* protos in civclient.c to correct place in packhand.h; For
	now, moved misplaced protos in gui-xaw/gui_main.c to gui_main.h
	(still to be fixed properly a-la changed gui include structure).

Wed Jul 14 11:18:53 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/shared.c, common/shared.h: Removed unused/unimplemented
	function stub get_dot_separated_int() in common/shared.c

Wed Jul 14 11:18:06 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/packets.c, common/packets.h: Be more careful when reading
	packets, to protect against short packets, or too-long strings in
	packets.  Should help fix bug reported by Sami Farin
	<sfarin@ratol.fi>.

Wed Jul 14 11:15:47 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Makefile.am, client/Makefile.in, client/civclient.c,
	client/climisc.c, client/options.c, client/packhand.c,
	client/gui-gtk/chatline.h, client/gui-gtk/citydlg.h,
	client/gui-gtk/clinet.h, client/gui-gtk/connectdlg.h,
	client/gui-gtk/dialogs.h, client/gui-gtk/diplodlg.h,
	client/gui-gtk/gotodlg.h, client/gui-gtk/graphics.c,
	client/gui-gtk/graphics.h, client/gui-gtk/gui_main.c,
	client/gui-gtk/gui_main.h, client/gui-gtk/mapctrl.h,
	client/gui-gtk/mapview.h, client/gui-gtk/menu.h,
	client/gui-gtk/optiondlg.h, client/gui-gtk/repodlgs.h,
	client/gui-gtk/spaceshipdlg.h, client/gui-xaw/chatline.h,
	client/gui-xaw/citydlg.h, client/gui-xaw/clinet.h,
	client/gui-xaw/connectdlg.c, client/gui-xaw/connectdlg.h,
	client/gui-xaw/dialogs.h, client/gui-xaw/diplodlg.h,
	client/gui-xaw/gotodlg.h, client/gui-xaw/graphics.c,
	client/gui-xaw/graphics.h, client/gui-xaw/gui_main.h,
	client/gui-xaw/mapctrl.h, client/gui-xaw/mapview.h,
	client/gui-xaw/menu.h, client/gui-xaw/optiondlg.h,
	client/gui-xaw/repodlgs.h, client/gui-xaw/spaceshipdlg.h,
	client/include/Makefile.am, client/include/Makefile.in,
	client/include/chatline_g.h, client/include/citydlg_g.h,
	client/include/clinet_g.h, client/include/connectdlg_g.h,
	client/include/dialogs_g.h, client/include/diplodlg_g.h,
	client/include/gotodlg_g.h, client/include/graphics_g.h,
	client/include/gui_main_g.h, client/include/mapctrl_g.h,
	client/include/mapview_g.h, client/include/menu_g.h,
	client/include/repodlgs_g.h, client/include/spaceshipdlg_g.h:
	Changes to gui include files to reduce duplication in separate gui
	headers, and so that non-gui client code depends only on a single
	set of headers.  (Removed -I$(srcdir)/@gui_sources@ in
	client/Makefile.am)  The gui-independent parts are in
	include/foo_g.h; the gui-dependent parts in gui-*/foo.h, which
	also includes foo_g.h.  Also some minor includes fixes so headers
	are all individually includable.

Wed Jul 14 11:10:23 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* config.h.in, configure, configure.in, ai/aiunit.c,
	common/Makefile.am, common/Makefile.in, common/timing.c,
	common/timing.h, server/autoattack.c, server/civserver.c,
	server/settlers.c: Added a new module common/timing to isolate
	some timing code.  The new module allows both CPU timing, and user
	("wall clock") timing; for the latter it uses gettimeofday() if
	available, or else falls back to time().  For CPU timing it uses
	clock().

	Replaced the old #ifdef CHRONO stuff; the timing of loading
	savegame; and timing for metaserver updates.  Changed the CHRONO
	stuff to do CPU timing (more appropriate for those cases) rather
	than user timing.

Wed Jul 14 11:08:12 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/gamehand.c, server/mapgen.c, server/meta.c: Removed some
	unncessary time includes.

Wed Jul 14 11:07:02 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advdomestic.c, ai/advmilitary.c, ai/aicity.c, ai/aihand.c,
	ai/aitech.c, ai/aitools.c, ai/aiunit.c, common/tech.c,
	common/unit.h, server/autoattack.c, server/citytools.c,
	server/cityturn.c, server/cityturn.h, server/civserver.c,
	server/civserver.h, server/diplhand.c, server/gamehand.c,
	server/gamelog.c, server/gotohand.c, server/mapgen.c,
	server/maphand.c, server/plrhand.c, server/sernet.c,
	server/settlers.c, server/settlers.h, server/stdinhand.c,
	server/unithand.c: Various code cleanups, especially making
	functions and variables which are used entirely internal to a
	single module to be explicitly "static".  (Based partly on a list
	by Andy Black <ablack@bvsd.k12.co.us>.) Removed some duplicate
	function prototypes.  Commented out (#ifdef UNUSED) some unused
	functions.  Removed some unused/uncalled/empty function stubs
	(aicity.c:free_tiles(), civserver.c:end_game()).

Wed Jul 14 11:04:07 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/gui_main.c, client/include/climisc.h,
	client/gui-xaw/gui_main.c, common/shared.h: Moved #define
	CITY_NAMES_FONT from common/shared.h to client/include/climisc.h

Wed Jul 14 11:03:02 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advdomestic.c, ai/advmilitary.c, ai/aicity.c, ai/aihand.c,
	ai/aiunit.c, server/gotohand.c, server/settlers.c,
	server/unitfunc.c: Changed <<1 to *2, >>1 to /2 etc. to increase
	readability of the code.  (Rely on the compiler the optimize them
	correctly.) Patch submitted by Markus Linnala <maage@cs.tut.fi>.

Wed Jul 14 11:01:20 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/mapgen.c: Fixed logic/typo bug in make_river(); bug and
	fix reported by Andy Black <ablack@bvsd.k12.co.us>.

Wed Jul 14 11:00:20 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/packets.c, common/shared.c, common/shared.h,
	server/civserver.c, server/mapgen.c, server/meta.c,
	server/sernet.c: Changes to allow compiling the server on a Mac. 
	From patches submitted by Andy Black <ablack@bvsd.k12.co.us>, with
	some minor formatting/comments changes by me.

Wed Jul 14 10:58:51 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aiunit.c, server/settlers.c: Fixed some warnings about
	possibly uninitialized variables (only used so in LOG_DEBUG
	messages).

Sun Jul 11 13:03:38 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/settlers.c, server/settlers.h, common/city.h: With this
	patch your autosettlers can and will also use transform.  Patch
	submitted by Markus Linnala <maage@cs.tut.fi>.

Sun Jul 11 13:02:58 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/settlers.c: Commented out experimental part of
	ai_calc_mine() which allowed autosettlers to "mine" plains and
	grasslands to make forests.  The behaviour was annoying for human
	players, and often bad for AI players too.  Patch submitted by
	Markus Linnala <maage@cs.tut.fi>.

Sun Jul 11 13:02:11 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/unithand.c: Added more debug info about battles.  Patch
	submitted by Markus Linnala <maage@cs.tut.fi>.

Sun Jul 11 13:01:31 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in: If you have Electric Fence Malloc
	Debugger, you can link against it using "./configure
	--with-efence".  (Mainly for use by developers.) From a patch
	submitted by Markus Linnala <maage@cs.tut.fi>.  I also spread out
	the AC_OUTPUT over multiple lines.

Sun Jul 11 12:59:13 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advdomestic.c, ai/aitools.c, common/city.h,
	server/citytools.c, server/cityturn.c, server/unittools.c: Removed
	min/max macros in city.h, and use MIN/MAX from shared.h instead. 
	Also calculate complex arguments or functions calls in temp
	variables since don't trust compiler to be able to optimize them
	out rather than compute twice.  Patch submitted by Markus Linnala
	<maage@cs.tut.fi> (except I don't like variables called 'l' since
	too similar to '1').

Sun Jul 11 12:57:57 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/capability.h, common/diptreaty.h, ai/advattitude.h,
	ai/advdomestic.h, ai/advforeign.h, ai/advisland.h, ai/advleader.h,
	ai/advscience.h, ai/advtrade.h, ai/aicity.h, server/autoattack.h,
	server/gamehand.h: Minor fixes to header files so all headers can
	(in principle) be individually included without including other
	headers first.  Also some end-of-header comments.  Based partly on
	a patch submitted by Markus Linnala <maage@cs.tut.fi>.

Sat Jul 10 20:01:26 1999  Lalo Martins <lalo@debian.org>:

	* debian/changelog: Updating the changelog for 1.8.1

Thu Jul  8 12:23:50 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* AUTHORS, BUGS, NEWS, configure, configure.in,
	client/gui-xaw/Freeciv.h, common/version.h, data/Freeciv: Push
	version number to 1.8.1.

Tue Jul  6 12:05:45 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* BUGS: Remove bug PR#27 (Gtk+ city dialog icons) from Known Bugs;
	fixed by previous check-in.

Tue Jul  6 12:00:42 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/citydlg.c: Fix for bug PR#27 (the city dialog
	icons not refreshing properly), submitted by Vasco Alexandre Da
	Silva Costa.

	Basically what this does is hide those widgets and then show them
	again (to force a redraw).

	There's probably a better way to do this by changing the code for
	pixmap widgets handling (which probably has a bug which causes
	this), but that would take way too much time.  This little hack
	should to the trick.

Mon Jul  5 20:19:15 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* client/gui-gtk/helpdlg.c, client/gui-xaw/helpdlg.c: Client help
	changes for AEGIS defense factor.

Mon Jul  5 20:17:01 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* data/helpdata.txt: Documentation changes to go along with AEGIS
	defense change.

Mon Jul  5 17:30:58 1999  Anthony Stuckey <stuckey@jaka.ece.uiuc.edu>:

	* server/unitfunc.c: Modifying AEGIS defense factor versus air
	units to match Civ2 documentation.

Mon Jul  5 14:38:49 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* AUTHORS, ChangeLog, HOWTOPLAY, NEWS, THANKS: Updates.  Recent
	ChangeLog, AUTHORS, THANKS, NEWS.  Added links to Manual in
	HOWTOPLAY.

Mon Jul  5 14:28:05 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* AUTHORS: Add Tony Stuckey <stuckey@jaka.ece.uiuc.edu> as freeciv
	administrator.

Mon Jul  5 13:37:37 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/europe.sav: Updated/improved (more accurate) Europe
	map/scenario, by Jerzy Klek <qpkjeek@epk.ericsson.se>.

Mon Jul  5 12:35:04 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/stdinhand.c: Corrected Markus Linnala <maage@cs.tut.fi>
	Thanks to Peter Schaefer <schaefer@cys.de>.

Mon Jul  5 09:44:28 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/stdinhand.c: Instead of using 0 use H_NONE. Also use &
	instead of + as I think it is best choice when you are messing
	with bitfields.  Patch submitted by Markus Linnala
	<maage@cs.tut.fi>.

Sun Jul  4 04:54:25 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* BUGS: Updated list of known bugs, based on current "open" bugs
	in the BTS.

Sun Jul  4 03:48:59 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/repodlgs.c: In science_change_callback() and
	science_goal_callback(), call science_dialog_update() when popping
	up help, to reset the Researching/Goal menus to the correct items.
	Fixes PR#31.

Sun Jul  4 03:41:36 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/unithand.c, server/unithand.h: Fixed bug where unit
	killed by barbarians in hut could cause core dump.  Changed
	handle_unit_enter_hut() to return 0 if unit was killed; in
	handle_unit_move_request(), handle situation where unit is killed
	by barbarians.  Patch submitted by Markus Linnala
	<maage@cs.tut.fi>.

Sun Jul  4 03:34:06 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/helpdata.txt: Updated helpdata.txt "About" section, for
	maintainers, and to direct to the Bug Tracking System to report
	bugs.

Sat Jul  3 13:23:08 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aihand.c: Translated some comments from danish to english. 
	Patch submitted by Sune Kirkeby <sune@interspace.dk>.

Sat Jul  3 13:02:52 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* README: Updates to README: removed stale note about alliances
	patch; specify client command line options using double dash form,
	since that works for both Xaw and Gtk+ clients; second included
	tileset is now "trident" instead of "classic"; use new full server
	command names 'start', 'list' instead of 's' and 'l'; replaced
	some cases of "1.8.0" with "1.8.0 or later" and similar; replaced
	term "server-op" with "server operator".

Sat Jul  3 12:59:37 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* INSTALL: Revisions to INSTALL info: explain more about the two 
	clients and separate prerequisites; explain about needing 
	"development" library packages on some systems; explain default 
	choice of Gtk+ by configure; removed/altered note about 
	Makefile.noimake; refer to BUGS file instead of Bugs section of 
	README; downplay use of "civ" and "ser" scripts; replaced discussion 
	of FREECIV_DATADIR with new discussion of FREECIV_PATH; updated ftp 
	refs for gtk/glib to more recent versions (1.2.1 -> 1.2.3).

Sat Jul  3 04:41:30 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/gui_main.c: In gtk client, check that arguments
	are there for options which require them, and give a message
	rather than segfault.  Fixes bug (PR#36) reported by Alexandre
	BERAUD <a_beraud@lemel.fr>.

Sat Jul  3 03:57:07 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in, data/Makefile.am, data/Makefile.in,
	data/trident/.cvsignore, data/trident/Makefile.am,
	data/trident/Makefile.in, data/trident/flags.xpm,
	data/trident/roads.xpm, data/trident/tiles.xpm,
	data/trident/units.xpm: Replaced "classic" tiles in distribution
	with "trident" tiles, by Tatu Rissanen <tatu.rissanen@hut.fi>. 
	Used tiles from "trident_30x30-1.8.0-1.2.tar.gz".  In flags.xpm I
	swapped the positions of the Russian and Soviet flags, for
	consistency with the default tileset.

Sat Jul  3 03:11:54 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* README: Updated mailing list instructions to say
	<listar@freeciv.org> instead of <majordomo@freeciv.org>.

Fri Jul  2 09:55:33 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/gui-gtk/citydlg.c: This very small patch removes all the
	warnings produced by the gtk client when the city dialog opens.  I
	tested it with gtk+-1.2.1 and gtk+-1.2.3.  Patch submitted by
	"P.E.Jean" <pejean.lists@iname.com>.

Thu Jul  1 12:36:04 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/plrdlg.c, client/gui-xaw/plrdlg.c: Don't give
	foreign intelligence reports for dead civilizations.  Fixes bug
	reported by Chris Lawrence <lawrencc@debian.org>.  (Freeciv PR#38,
	Debian bug #39650.)

Wed Jun 30 12:04:02 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/gui-gtk/gui_main.c: Fix to preceding patch to detach the
	windows in the GTK client.  You can't anymore make the output/chat
	too big.  The map window is correctly resized whataver the size of
	the output/chat window.  Patch submitted by Olivier Rolland
	<billl@esil.univ-mrs.fr>.

Wed Jun 30 11:54:16 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/cityturn.c: Fix Server Segfault on City being Disbanded
	following dwp pronostic.  Bug reported by Chris Buchanan
	<csbuchan@undergrad.math.uwaterloo.ca>.  (Also previously reported
	and patch submitted by Markus Linnala <maage@cs.tut.fi>.)

Sat Jun 26 03:15:56 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* NEWS: Added some NEWS for future release.

Sat Jun 26 03:15:18 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/gui_main.c: Previous detach-gtk patch included
	some unnecessary/unrelated changes (includes structure; mysrand
	re-added); reversed.

Fri Jun 25 21:53:12 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/gui-gtk/gui_main.c: This patch allows to detach the
	freeciv version 1.8.0 window, the turn done window, the unit
	window and the text window. Doing that, the GTK client contains
	only the map window. And, it looks great. Windows can go back to
	the main window by clicking on the handles (left part of the
	windows).

	Patch submitted by Olivier Rolland <billl@esil.univ-mrs.fr>.

Fri Jun 25 12:08:51 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* BUGS, Makefile.am, Makefile.in, NEWS, README, TODO: New files
	TODO and BUGS, extracted from parts of NEWS and README.  Some
	updates to TODO and BUGS info (for GTK+ vs Xaw, and to reference
	the Bug Tracking System).

Fri Jun 25 12:05:37 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in: In configure, by default try Xaw3d
	before plain Xaw.  This may reduce cases of Xaw segfault problem
	on systems with Xaw3d.  The change only applies if the system
	doesn't have GTK+ (of a recent enough version) and where the user
	doesn't specify --with-xaw or --with-xaw3d explicitly.

Tue Jun 22 12:52:35 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* install-sh, missing, mkinstalldirs: Updated files from recent
	automake.

Tue Jun 22 12:40:02 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* Makefile.am, Makefile.in: Removed Imakefile and Makefile.noimake
	from dist (they are not currently working, nor supported).  Also
	cleaned EXTRA_DIST to list only those files not automatically
	included by automake.

Tue Jun 22 12:24:08 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* AUTHORS, Makefile.in, THANKS: Updated AUTHORS file.  Extracted
	some parts into a new file "THANKS".

Tue Jun 22 11:22:34 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* common/city.c: Moving repeated code to a common area.  Patch
	submitted by Tony Stuckey <stuckey@jaka.ece.uiuc.edu>

Tue Jun 22 10:45:47 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aiunit.c, server/autoattack.c, server/civserver.c,
	server/settlers.c: Ensure CLOCKS_PER_SEC is defined in civserver.c
	(eg, for SunOS, problem reported by several people), to a wildly
	guessed value if necessary.  Some fixes to #ifdef CHRONO stuff
	(includes, format strings).

Sat Jun 19 12:24:00 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure: configure update for previous patch.

Thu Jun 17 13:07:54 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* acconfig.h, config.h.in, configure.in, client/civclient.c,
	common/shared.h, server/civserver.c: The defines MAILING_LIST and
	SITE has been replaced by BUG_EMAIL_ADDRESS and WEBSITE_URL.  They
	have been withdrawn from acconfig.h.  We now hint people to report
	bugs via bugs@freeciv.org .  Patch submitted by David Pfitzner
	<dwp@mso.anu.edu.au>.

Thu Jun 17 12:11:53 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/shared.c: Fixed bug in save_restore_random(), where
	setting new value of "mode" had a precedence error.  This bug did
	not actually ever appear, because it only caused problems on the
	third (or later) call to save_restore_random(), and currently
	freeciv calls it at most twice!

Thu Jun 17 11:28:16 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/registry.c, common/registry.h: Made some registry
	internal stuff really internal: moved struct section and struct
	section_entry from .h to .c, and made _lookup_internal functions
	static and not in .h file.  Also some minor formating
	changes/re-org.

Thu Jun 17 11:26:25 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c, client/gui-gtk/gui_main.c,
	client/gui-xaw/gui_main.c, common/shared.h: Changed RANDOM_TYPE
	from a define to a typedef.  In clients, moved mysrand() call from
	gui_main() to main().

Thu Jun 17 11:24:42 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c, client/options.c, client/gui-gtk/clinet.c,
	client/gui-gtk/connectdlg.c, client/gui-gtk/graphics.c,
	client/gui-gtk/gui_main.c, client/gui-gtk/helpdlg.c,
	client/gui-xaw/clinet.c, client/gui-xaw/connectdlg.c,
	client/gui-xaw/graphics.c, client/gui-xaw/gui_main.c,
	client/gui-xaw/helpdlg.c, common/Makefile.am, common/Makefile.in,
	common/shared.c, common/shared.h, common/version.h,
	server/civserver.c, server/gamehand.c, server/meta.h: Moved
	versions stuff out of shared.h into a new version.h, mainly so
	that shared.h no longer has to include config.h, so much less
	needs to be re-compiled if config.h changes.

Tue Jun 15 14:22:47 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* common/log.c: I remove the possibility to give in the civserver
	option a loglevel of 3 if compiled without DEBUG.

Tue Jun 15 11:59:25 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/chatline.c, common/shared.c, common/shared.h:
	Fixed bug in Xaw client that output window didn't automatically
	scroll to the bottom properly if there were lines which were too
	long and needed to be wrapped.  Actually, this fix isn't ideal
	(lines are wrapped manually to a fixed length) but I couldn't find
	a better fix.  (The problem seems to me to be an Xaw bug.)  Added
	new function wordwrap_string() in shared.c.  Bug (PR#2) was
	reported by Nicolas Brunel.

Tue Jun 15 11:47:32 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/mapgen.c: Renamed tiny_island() to is_tiny_island(), and
	filter_land() to remove_tiny_islands().  Made both static.

Tue Jun 15 11:46:47 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/packhand.c, common/map.c, common/map.h, server/mapgen.c,
	server/mapgen.h, server/maphand.c: Renamed init_workmap() in
	mapgen.c to map_allocate(), and moved to map.c.  Replaced
	duplicated code in packhand.c/handle_map_info() with call to
	map_allocate().  In map_allocate(), use realloc instead of malloc,
	for client.  (Previously there was a memory leak here in client
	when reconnecting multiple times to a running game).

Tue Jun 15 10:04:58 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/gui-gtk/mapview.c, common/shared.c, common/shared.h,
	client/gui-xaw/mapview.c: This patch wraps up the
	HAVE_USLEEP/usleep/select stuff into a function myusleep() in
	shared.c

	Patch submitted by David Pfitzner <dwp@mso.anu.edu.au>

Sun Jun 13 13:34:34 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ChangeLog: ChangeLog updates.

Sun Jun 13 05:15:00 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* Makefile.in, acconfig.h, aclocal.m4, config.h.in, configure,
	configure.in, undep.sh.in, ai/Makefile.in, client/Makefile.in,
	client/gui-gtk/Makefile.in, client/gui-xaw/Makefile.in,
	client/include/Makefile.in, common/Makefile.in, data/Makefile.in,
	data/civ1/Makefile.in, data/classic/Makefile.in,
	server/Makefile.in, data/default/Makefile.in: Updated to
	automake-1.4 and autoconf-2.13.

Sat Jun 12 17:52:51 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/gui-gtk/helpdlg.c, client/gui-xaw/helpdlg.c: This pair of
	near-identical patches (one for each widget set) replaces some
	hardcoded text that is overly specific to the standard game with
	some more general verbiage that will be more correct under certain
	ruleset modifications.  I am referring to the situation where
	"Pikemen" have their defense doubled against "horseback (except
	Cavalry)"; the flags in units.ruleset allow a more general
	combination of the units participating in the effect.

	I also corrected a helptext spelling error that I noticed nearby
	in the code ("aboad" --> "aboard").

	Patch submitted by "Bobby D. Bryant" <bdbryant@mail.utexas.edu>

Sat Jun 12 08:06:23 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/gui_stuff.c, client/gui-gtk/gui_stuff.h:
	Parameters of gtk_scale_pixmap did not match prototype or usage;
	removed unused parameter "root"; now include gui_stuff.h to check
	prototypes.

Sat Jun 12 07:41:40 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advattitude.c, ai/advattitude.h, ai/advdomestic.c,
	ai/advdomestic.h, ai/advforeign.c, ai/advforeign.h,
	ai/advisland.c, ai/advisland.h, ai/advleader.c, ai/advleader.h,
	ai/advmilitary.c, ai/advmilitary.h, ai/advscience.c,
	ai/advscience.h, ai/advtrade.c, ai/advtrade.h, ai/aicity.c,
	ai/aicity.h, ai/aihand.c, ai/aihand.h, ai/aitech.c, ai/aitech.h,
	ai/aitools.c, ai/aitools.h, ai/aiunit.c, ai/aiunit.h,
	client/civclient.c, client/climisc.c, client/options.c,
	client/packhand.c, client/gui-gtk/chatline.c,
	client/gui-gtk/chatline.h, client/gui-gtk/citydlg.c,
	client/gui-gtk/citydlg.h, client/gui-gtk/cityrep.c,
	client/gui-gtk/clinet.c, client/gui-gtk/clinet.h,
	client/gui-gtk/colors.c, client/gui-gtk/colors.h,
	client/gui-gtk/connectdlg.c, client/gui-gtk/connectdlg.h,
	client/gui-gtk/dialogs.c, client/gui-gtk/dialogs.h,
	client/gui-gtk/diplodlg.c, client/gui-gtk/diplodlg.h,
	client/gui-gtk/finddlg.c, client/gui-gtk/gamedlgs.c,
	client/gui-gtk/gotodlg.c, client/gui-gtk/gotodlg.h,
	client/gui-gtk/graphics.c, client/gui-gtk/graphics.h,
	client/gui-gtk/gui_main.c, client/gui-gtk/gui_main.h,
	client/gui-gtk/gui_stuff.c, client/gui-gtk/gui_stuff.h,
	client/gui-gtk/helpdlg.c, client/gui-gtk/inputdlg.c,
	client/gui-gtk/inputdlg.h, client/gui-gtk/inteldlg.c,
	client/gui-gtk/mapctrl.c, client/gui-gtk/mapctrl.h,
	client/gui-gtk/mapview.c, client/gui-gtk/mapview.h,
	client/gui-gtk/menu.c, client/gui-gtk/menu.h,
	client/gui-gtk/messagedlg.c, client/gui-gtk/messagewin.c,
	client/gui-gtk/optiondlg.h, client/gui-gtk/plrdlg.c,
	client/gui-gtk/repodlgs.c, client/gui-gtk/repodlgs.h,
	client/gui-gtk/spaceshipdlg.c, client/gui-gtk/spaceshipdlg.h,
	client/gui-xaw/canvas.c, client/gui-xaw/chatline.c,
	client/gui-xaw/chatline.h, client/gui-xaw/citydlg.c,
	client/gui-xaw/citydlg.h, client/gui-xaw/cityrep.c,
	client/gui-xaw/clinet.c, client/gui-xaw/clinet.h,
	client/gui-xaw/colors.c, client/gui-xaw/colors.h,
	client/gui-xaw/connectdlg.c, client/gui-xaw/dialogs.c,
	client/gui-xaw/dialogs.h, client/gui-xaw/diplodlg.c,
	client/gui-xaw/diplodlg.h, client/gui-xaw/finddlg.c,
	client/gui-xaw/gotodlg.c, client/gui-xaw/gotodlg.h,
	client/gui-xaw/graphics.c, client/gui-xaw/graphics.h,
	client/gui-xaw/gui_main.c, client/gui-xaw/gui_main.h,
	client/gui-xaw/gui_stuff.c, client/gui-xaw/gui_stuff.h,
	client/gui-xaw/helpdlg.c, client/gui-xaw/inputdlg.c,
	client/gui-xaw/inputdlg.h, client/gui-xaw/inteldlg.c,
	client/gui-xaw/mapctrl.c, client/gui-xaw/mapctrl.h,
	client/gui-xaw/mapview.c, client/gui-xaw/mapview.h,
	client/gui-xaw/menu.c, client/gui-xaw/menu.h,
	client/gui-xaw/messagedlg.c, client/gui-xaw/messagewin.c,
	client/gui-xaw/optiondlg.c, client/gui-xaw/optiondlg.h,
	client/gui-xaw/pixcomm.c, client/gui-xaw/plrdlg.c,
	client/gui-xaw/ratesdlg.c, client/gui-xaw/repodlgs.c,
	client/gui-xaw/repodlgs.h, client/gui-xaw/resources.c,
	client/gui-xaw/resources.h, client/gui-xaw/spaceshipdlg.c,
	client/gui-xaw/spaceshipdlg.h, client/include/civclient.h,
	client/include/finddlg.h, client/include/helpdlg.h,
	client/include/inteldlg.h, client/include/meswindlg.h,
	client/include/packhand.h, client/include/plrdlg.h,
	client/include/ratesdlg.h, common/city.c, common/city.h,
	common/diptreaty.c, common/game.c, common/genlist.c,
	common/genlist.h, common/log.c, common/log.h, common/map.c,
	common/packets.c, common/packets.h, common/player.c,
	common/player.h, common/registry.c, common/registry.h,
	common/shared.c, common/tech.c, common/tech.h, common/unit.c,
	common/unit.h, server/autoattack.c, server/cityhand.c,
	server/cityhand.h, server/citytools.c, server/citytools.h,
	server/cityturn.c, server/cityturn.h, server/civserver.c,
	server/console.h, server/diplhand.c, server/diplhand.h,
	server/gamehand.c, server/gamehand.h, server/gamelog.c,
	server/gamelog.h, server/gotohand.c, server/gotohand.h,
	server/handchat.c, server/handchat.h, server/mapgen.c,
	server/maphand.c, server/maphand.h, server/meta.c, server/meta.h,
	server/plrhand.c, server/ruleset.c, server/ruleset.h,
	server/sernet.c, server/sernet.h, server/settlers.c,
	server/spacerace.c, server/stdinhand.c, server/stdinhand.h,
	server/unitfunc.c, server/unitfunc.h, server/unithand.c,
	server/unithand.h, server/unittools.c, server/unittools.h: 
	Tidied up include files and include lines.  
	- Use #include "foo.h" instead of #include <foo.h>, for all foo.h 
	  files which are part of freeciv; 
	- Better grouping and sorting of include lines; 
	- Standardized the define used to avoid multiple inclusions, as 
	  eg, FC__FOO_H for foo.h; 
	- For each .c file, always include the corresponding .h file to 
	  check prototypes; 
	- Removed duplicate definition of ai_choice in city.h and 
	  aitools.h (now only in city.h, and include city.h in aitools.h); 
	- Removed some unnecessary includes (just some I happened to 
	  notice).

Sat Jun 12 07:35:28 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/capstr.c: Fixed example capability line in comments, and
	a stray semicolon in define.

Thu Jun 10 20:47:55 1999  Lalo Martins <lalo@debian.org>:

	* debian/freeciv-gtk.dirs, debian/freeciv-xaw.dirs,
	debian/freeciv-xaw3d.dirs, debian/freeciv.desktop, debian/rules:
	Last fixes for building for Debian the "new" way, plus a gnome
	.desktop file

Thu Jun 10 16:05:59 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/gui-gtk/gui_main.c, client/gui-gtk/mapview.c: When the
	turn-done button is blinking, other widgets using the same style
	occasionally get drawn with the inverted colors (at least they do
	here with gtk+-1.2.3). The attached patch against very recent cvs
	fixes this by setting a seperate style for the turn_done_button
	widget. The second part of the patch is cosmetic.

	Patch submitted by Daniel Deckers <fh5y076@public.uni-hamburg.de>

Thu Jun 10 15:35:13 1999  Lalo Martins <lalo@debian.org>:

	* debian/changelog, debian/control, debian/dirs,
	debian/freeciv-gtk.dirs, debian/freeciv-gtk.menu,
	debian/freeciv-gtk.postinst, debian/freeciv-gtk.postrm,
	debian/freeciv-xaw.dirs, debian/freeciv-xaw.menu,
	debian/freeciv-xaw.postinst, debian/freeciv-xaw.postrm,
	debian/freeciv-xaw.xaw, debian/freeciv-xaw3d.postinst,
	debian/freeciv-xaw3d.postrm, debian/menu, debian/postinst,
	debian/postrm, debian/rules, debian/xaw-wrappers: Finally fixed
	the xaw-wrappers new version problem and have the new packaging
	"status quo" really working and ready to upload.

Thu Jun 10 12:26:11 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c, client/packhand.c, client/gui-gtk/menu.c,
	client/gui-gtk/menu.h, client/gui-gtk/messagewin.c,
	client/gui-gtk/repodlgs.c, client/gui-gtk/repodlgs.h,
	client/gui-xaw/connectdlg.c, client/gui-xaw/gotodlg.c,
	client/gui-xaw/gotodlg.h, client/gui-xaw/menu.c,
	client/gui-xaw/menu.h, client/gui-xaw/messagewin.c,
	client/gui-xaw/repodlgs.c, client/gui-xaw/repodlgs.h,
	client/include/cityrep.h, client/include/meswindlg.h,
	common/game.c, common/game.h, server/civserver.c,
	server/civserver.h, server/mapgen.c, server/mapgen.h,
	server/meta.h, server/plrhand.c, server/plrhand.h,
	server/settlers.c, server/settlers.h, server/unittools.c,
	server/unittools.h: Declare functions taking no arguments as
	foo(void) rather than foo().

Thu Jun 10 12:23:49 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/packets.c, common/packets.h, server/diplhand.c: Fixed
	spelling of "recieve" to "receive" (mainly in function names).

Thu Jun 10 12:22:14 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/clinet.c, client/gui-gtk/gui_main.c,
	client/civclient.c, client/packhand.c, client/gui-xaw/clinet.c,
	client/gui-xaw/gui_main.c, common/Makefile.am, common/Makefile.in,
	common/capstr.c, common/capstr.h, common/packets.c,
	common/packets.h, common/shared.h, server/civserver.c: Moved the
	definition of the capability string into a new module "capstr". 
	This means we don't have to recompile almost everything when the
	capability string is changed.  Also moved our_capability into
	capstr, and the comment block (somewhat revised) about the
	capability string.  Consolidated the code setting our_capability
	into a new function init_our_capability() in capstr, and in the
	client, moved this initialisation from the gui_main() functions
	into main().  Also introduced a new define, MAX_CAPSTR_LEN (the
	previous use of MSG_SIZE for this seemed excessive, though the new
	size is still quite generous).

Thu Jun 10 12:15:59 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/capability.c, common/capability.h: Declare the arguments
	of has_capability() and has_capabilities() as "const char *"
	instead of "char *", to indicate that the strings are not
	modified, and so that we can pass "const char*" strings to these
	functions without warnings.

Thu Jun 10 12:11:13 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* config.h.in: Update for usleep patch.

Wed Jun  9 11:52:25 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/gui-gtk/citydlg.c, client/gui-gtk/cityrep.c,
	ai/advdomestic.c, ai/aicity.c, ai/aihand.c,
	client/gui-xaw/citydlg.c, client/gui-xaw/cityrep.c,
	server/cityturn.c: Removed the granary patch for version 1.8.0 to
	be fully compatible with 1.8.1 .

Wed Jun  9 11:33:25 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* data/helpdata.txt: Document in help control the new available
	keys: 0 to 9.

Wed Jun  9 10:22:59 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/gui-gtk/gui_main.c, client/gui-gtk/mapview.c, acconfig.h,
	configure, configure.in, client/gui-xaw/Freeciv.h,
	client/gui-xaw/mapview.c, data/Freeciv: This patch allows the use
	of key '0-9' to move a unit.  Also, it checks if the function
	sleep is present.  If it's not, it uses select in replacement. 
	Patch submitted by sebauer@t-online.de (Sebastian Bauer).

Tue Jun  8 11:41:18 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/registry.c: Improvements to registry to allow reading and
	writing strings with internal escaped double-quote, backslash or
	newline characters, and to write such escapes when saving. 
	(Previously read escaped baskslashes and newlines only, but not
	double-quotes, and didn't do any escapes when saving.)  Fixes bug
	reported by Reinier Post and others.

Tue Jun  8 11:39:14 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/Freeciv.h, client/gui-xaw/optiondlg.c,
	data/Freeciv: Made Xaw options dialog have Ok and Cancel buttons
	instead of just Close.

Tue Jun  8 11:38:13 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/cityrep.c, client/gui-xaw/gui_main.c,
	client/gui-xaw/helpdlg.c, client/gui-xaw/messagewin.c,
	client/gui-xaw/plrdlg.c: Some Xaw dialogs caused core dumps if
	closed via window manager controls, while some such dialogs have
	been fixed previously.  This patch fixes the remaining ones I
	could find: the city report, the help dialog, the messages window,
	and the players dialog.  (Bug reported by several people.)

Tue Jun  8 11:34:17 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/log.c: Changed a strdup to mystrdup in
	log_parse_level_str().

Mon Jun  7 12:14:01 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/helpdata.txt: Commented out some "unit not implemented"
	messages in the help text, to avoid bogus help text if a modpack
	_does_ implement a unit with that name.

Sun Jun  6 06:40:19 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/diplhand.c, server/gamelog.h: In
	handle_diplomacy_accept_treaty(), call to gamelog() for tech trade
	had a wrong argument, leading to core dumps; fixed (PR#17).  Bug
	reported by Chip Richards <chipr@niestu.com>.

	Also fixed omission that gamelog() is a printf-like function, and
	so should use fc__attribute accordingly, to catch such bugs.

Sun Jun  6 05:44:06 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advdomestic.c, ai/advmilitary.c, ai/aicity.c, ai/aihand.c,
	ai/aitech.c, ai/aitools.c, ai/aiunit.c, client/civclient.c,
	client/climisc.c, client/options.c, client/packhand.c,
	client/gui-gtk/colors.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/helpdlg.c, client/gui-gtk/menu.c,
	client/gui-xaw/colors.c, client/gui-xaw/dialogs.c,
	client/gui-xaw/helpdlg.c, common/game.c, common/map.c,
	common/packets.c, common/shared.c, server/autoattack.c,
	server/cityhand.c, server/citytools.c, server/cityturn.c,
	server/civserver.c, server/gamehand.c, server/gotohand.c,
	server/mapgen.c, server/ruleset.c, server/sernet.c,
	server/settlers.c, server/stdinhand.c, server/unitfunc.c,
	server/unithand.c, server/unittools.c: Changed some LOG_DEBUG
	messages to LOG_VERBOSE.  Removed lots of "if(0)" checks which
	some people didn't like; such loggging can now be selectively
	enabled via LOG_DEBUG features.

Sun Jun  6 05:40:22 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* README, client/civclient.c, client/gui-gtk/gui_main.c,
	client/gui-gtk/repodlgs.c, client/gui-xaw/gui_main.c,
	client/gui-xaw/resources.h, common/log.c, common/log.h,
	server/civserver.c, server/console.c: Added a new log level
	LOG_VERBOSE, between LOG_NORMAL and LOG_DEBUG.  Made LOG_DEBUG
	messages only occur when compiled with DEBUG defined (eg configure
	with --enable-debug), and allow LOG_DEBUG messages to be
	controlled on a per-file, per-line basis from command line (see
	README).  Based on patches submitted by Markus Linnala
	<maage@cs.tut.fi>.

Sat Jun  5 12:26:16 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/menu.c, client/gui-xaw/menu.c, data/helpdata.txt:
	Put Help->Chatline in menu for gtk client; moved Chatline help to
	after Controls help.

Sat Jun  5 11:48:59 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* README, freeciv_hackers_guide.txt, client/gui-gtk/menu.c,
	client/gui-xaw/menu.c, client/include/helpdlg.h, common/packets.h,
	common/player.c, common/player.h, common/shared.h,
	data/helpdata.txt, server/civserver.c, server/console.c,
	server/handchat.c, server/sernet.c, server/stdinhand.c,
	server/stdinhand.h: This patch provides the ability for civclients
	to execute server commands.  Chatline input which starts with '/'
	is interpreted as a server command.  The resulting output is
	written to the client output window and a note about the command
	is written to the server console.

	The patch works fine with regular 1.8.0 clients, but patched
	clients have a new Help->Chatline menu option explaining the
	feature.

	The following changes were made to the server:

	+ chatlines from clients starting with '/' are interpreted as
	  commands 
	+ commands may be prefixed with '/' on the server cmdline (for 
	  consistency) 
	+ command names can be abbreviated; when ambiguous, a warning 
	  is issued 
	+ 'show optionname' works as expected now
	+ with 'show', the status of options is shown in a slightly 
	  different way 
	+ setting the AI level now provides feedback in all cases
	+ a new command, 'cmdlevel', is used to	control access to commands

	There are four access levels: 'none', 'info', 'ctrl', and 'hack'. 
	With 'none', no commands are allowed from civclients at all.  With
	'info', the default, only informational commands are allowed. 
	With 'ctrl', commands are allowed that can be used to control the
	game, including starting the game, adding and removing players,
	and setting options.  The 'hack' level allows all commands,
	including the ones that read or write files.  Note that the save
	command can be used to overwite any file where the civserver
	process has write-premission; note system security implications.

	The 'ctrl' level allows hosts to be operated without direct access
	to the server command line prompt, but some refinements are needed
	to make this a viable option in practice.

	Player names must now be unique even in pre-game, so that players
	can be uniquely identified for various server commands.

	Patch submitted by Reinier Post <rp@win.tue.nl>, plus changes by
	me.

Sat Jun  5 11:41:16 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c: Added player_init() call in
	accept_new_player(), sometimes needed if a previous player
	disconnects or is removed, to avoid inheriting stale AI status
	etc.

Sat Jun  5 11:40:27 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/plrhand.c: In notify_player_ex(), only send (x,y) if
	RUN_GAME_STATE.  Fix submitted by Reinier Post <rp@win.tue.nl>.

Sat Jun  5 03:43:10 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/chatline.c, client/gui-gtk/cityrep.c,
	client/gui-gtk/gamedlgs.c, client/gui-gtk/gui_main.c,
	client/gui-gtk/gui_stuff.c, client/gui-gtk/mapview.c,
	client/gui-xaw/chatline.c, client/gui-xaw/mapview.c,
	client/gui-xaw/optiondlg.c: Removed "#include <log.h>" lines in
	files where not needed.  Changed a freelog() call in
	client/gui-gtk/gui_main.c where logging not yet initialized.

Wed Jun  2 20:28:18 1999  Lalo Martins <lalo@debian.org>:

	* debian/changelog: freeciv/debian finally knows about 1.8 :-)

Mon May 31 18:17:01 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* ai/advmilitary.c, ai/aitools.c, ai/aitools.h, ai/aiunit.c: The
	following patch creates a new function to evaluate military
	unhappiness for ai purposes. It removes code duplication and adds
	support for Democracy.

	Patch submitted by rizos@rice.edu.

Mon May 31 08:25:36 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/unithand.c: When going over a hut and being rewarded
	credits, the message for 25, 50, or 100 credits are "You found 25
	credits." "You found 50 credits." and "You found 100 credits"
	respectively.  The bug being that there is no period after the 100
	credit message.  This patch fixes this bug.

	Patch submitted by  Jonathan Hall <jonhall@futureks.net>

Sat May 29 02:09:11 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* civ, ser, client/climisc.c, client/gui-gtk/graphics.c,
	client/gui-gtk/helpdlg.c, client/gui-xaw/graphics.c,
	client/gui-xaw/helpdlg.c, server/ruleset.c, common/shared.c,
	common/shared.h: Replaced single data directory with a data
	"path".  Can be set with FREECIV_PATH environment variable, but
	usually default should be ok:
	".:data:~/.freeciv:<installation_dir>".  The FREECIV_DATADIR
	environment variable should not longer be necessary, but if set it
	is prepended to the data path.

	Main changes in datafilename().  New utility functions
	user_home_dir(), remove_leading_spaces(),
	remove_trailing_spaces(), remove_trailing_char(),
	datafilename_required().  Changed usages of datafilename() to suit
	slightly altered semantics (may return NULL), and to give modified
	error messages.  Commented out FREECIV_DATADIR stuff in ser and
	civ scripts, since it is no longer needed.

Fri May 28 18:57:44 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/gotohand.c: Reverting previous change as warmap.cost and
	warmap.seacost are declared with MAX_MAP_WIDTH and MAP_MAX_HEIGHT
	leading to useless initialization with memset.

Fri May 28 18:26:22 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/gotohand.c: Init_warmap should just call memset() to
	initialize the array that it is supposed to work on.  Patch
	submitted by Tony Stuckey <stuckey@jaka.ece.uiuc.edu>

Fri May 28 17:28:27 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/citytools.c: In city_corruption changes the corruption
	array to avoid 2 unnecessary multiplications.

Fri May 28 11:26:55 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/citydlg.c, client/gui-gtk/gui_main.c: fix for
	warnings in gtk+ 1.2.3.  fixed a small memory leak.

Fri May 28 11:24:16 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/gui_stuff.c: fix for memory leak in the
	gtk_new_pixmap () function.

Wed May 26 23:35:03 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/settlers.c: In is_ok_city_spot, only some forms of land
	are considered good places to start new cities.  Looking at the
	terrain production numbers shows that Oasis should be considered
	"good".  Patch submitted by Tony Stuckey
	<stuckey@jaka.ece.uiuc.edu>

Wed May 26 11:59:39 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/space.xpm: Replaced space.xpm with one with an
	individually optimised 64-color palette (based on original
	full-color xpm).

Wed May 26 11:58:46 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/small.xpm: New small.xpm images submitted by
	Alexandre BERAUD <a_beraud@lemel.fr>.  (With a small pixel offset
	problem fixed by me; re-indexed colors to individually optimised
	64-color palette based on submitted full-color file.)

Wed May 26 11:58:02 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/graphics.c, client/gui-xaw/graphics.h,
	client/gui-xaw/gui_main.c: Changed Xaw client to load tiles.xpm
	and small.xpm first, then setup_widgets(), then the rest of the
	graphics, instead of all graphics before setup_widgets().  This
	allows us to use more colors for the rest of the xpm files and
	still work ok on 256-color systems (which will dither colors once
	they run out).  No changes to gtk client since it handles colors
	differently and doesn't need this change.

Wed May 26 11:15:03 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c: Removed an extra newline which was printed
	when changing string-valued server options.

Mon May 24 17:36:34 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/citydlg.c: reverting this file back to previous
	commit by me.  I've also added Nicolas's changes to the "Granary:"
	line.

Mon May 24 17:26:56 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/gui_main.c: i made a big mistake in my last
	commit. reversing changes.

Mon May 24 16:56:12 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* ai/advdomestic.c, ai/aicity.c, ai/aihand.c,
	client/gui-gtk/citydlg.c, client/gui-gtk/cityrep.c,
	server/cityturn.c, client/gui-xaw/citydlg.c,
	client/gui-xaw/cityrep.c: This patch makes freeciv use
	(citysize+1)* game.foodbox as the base granary size.  This is the
	formula used by both Civ1 and Civ2.  Patch submitted by Tony
	Stuckey <stuckey@jaka.ece.uiuc.edu>

Mon May 24 16:36:49 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* common/city.c: When calculating trade produced in a square, Civ1
	calculates railroad trade effects before governmental trade
	effects.  This patch fixes this.  If Civ2 does it differently,
	that needs to be protected by a game.civstyle test.

	This patch also streamlines other trade production math.  Working
	the numbers shows that many calculations could be avoided for
	squares that generate no trade.

	Patch submitted by Tony Stuckey <stuckey@jaka.ece.uiuc.edu>.

Mon May 24 16:15:49 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/gui-gtk/gui_main.c: lign 404 I added a 'd' in wiget.

Mon May 24 13:48:03 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/citydlg.c, client/gui-gtk/gui_main.c: fix for
	gtk+ warnings.

Mon May 24 10:38:51 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/helpdlg.c, client/gui-gtk/spaceshipdlg.c: fix to
	free fonts in gtk styles. fixed "first time I popup help gives a
	small text region" bug.

Mon May 24 10:38:02 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/repodlgs.c: improved list in the science report
	to be multi-columned. added context help to the science report.
	fixed several lists to make their columns autoresizeable.

Mon May 24 10:37:08 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/mapview.c: fix to initial "only top left square
	visible" bug. minor code cleanups.

Mon May 24 10:36:05 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/gui_main.c: added hack to make the output window
	text readable when it's insensitive. made command line parsing
	more flexible.

Mon May 24 10:35:30 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/clinet.c: added missing initialization of pointer
	to NULL.

Mon May 24 10:34:55 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/cityrep.c, client/gui-gtk/connectdlg.c,
	client/gui-gtk/plrdlg.c: fixed several lists to make their columns
	autoresizeable.

Mon May 24 10:34:23 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/citydlg.c: fixed middle click "selects unit and
	closes dialog" shortcut.

Mon May 24 09:28:04 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/shared.h: Previous nuke patch included some duplicate
	defines in shared.h; removed.

Sun May 23 18:50:51 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/gui-gtk/mapctrl.c, client/gui-gtk/mapctrl.h,
	client/gui-gtk/menu.c, client/gui-xaw/Freeciv.h,
	client/gui-xaw/gui_main.c, client/gui-xaw/mapctrl.c,
	client/gui-xaw/mapctrl.h, client/gui-xaw/menu.c, common/packets.c,
	common/packets.h, common/shared.h, data/Freeciv,
	server/civserver.c, server/unithand.c, server/unithand.h: This
	patch adds a new command nuke.  This commands works as the goto
	command.  Now, nuke can detonate at an empty square.  It solves
	also a problem with goto.  If the unit in focus changes during
	goto selection, goto_state is set to zero.  Patch submitted by
	"Divis, Vaclav" <DivisV@logica.com>

Sat May 22 05:19:19 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/plrhand.c: This patch fixes the problem that on the first
	turn after a game is loaded, the red border around tiles occupied
	by workers from other cities is not displayed.  From the three
	states at which the tiles around a city can be (C_TILE_EMPTY,
	C_TILE_WORKER, C_TILE_UNAVAILABLE) only the first two were saved;
	now all three are saved.  Based on a patch submitted by Rizos
	Sakellariou.

Sat May 22 04:56:35 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c, server/plrhand.c: Replaced some explicit
	genlist stuff with city_list_iterate and unit_list_iterate macros.

Sat May 22 04:40:02 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* aclocal.m4, configure, configure.in: For the Xaw client,
	X_PRE_LIBS were appearing twice in the client link line, since
	they were included in X_EXTRA_LIBS and then again in CLIENT_LIBS. 
	I removed the direct inclusion in CLIENT_LIBS.

Sat May 22 04:23:24 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/city.c, common/game.h, server/gamehand.c,
	server/plrhand.c: Made treatment of destroyed wonders more
	consistent.  (That is, wonders in destroyed cities.)  Previously,
	destroyed wonders could not be rebuilt, except if you saved and
	reloaded they could be rebuilt.  Now destroyed wonders are
	included in the savefile and can never be rebuilt.  Destroyed
	wonders also now show up as being destroyed in the Wonders report;
	I also slightly changd the format of the Wonders report.  Note
	that some effects (Manhatten allowing Nuclears and Apollo allowing
	spaceship parts) still work even if the wonder is destroyed.

Fri May 21 20:25:56 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/helpdlg.c: changed tech trees in the help dialog
	to have all nodes expanded by default.

Fri May 21 20:10:53 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/cityrep.c, client/gui-gtk/messagewin.c: made the
	city report and message windows longer by default.

Fri May 21 20:07:26 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/citydlg.c: removed superfluous colons on right
	hand side of the city options dialog.

Thu May 20 12:37:37 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/cityrep.c, client/gui-xaw/cityrep.c: Added a
	"corruption" column to the city report.  Patch submitted by
	Michael Gastright <gastrig@snmpi.com>.  (And adapted to gtk client
	by me.)

Thu May 20 12:22:48 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/mapview.c, client/gui-xaw/mapview.c: The
	following patch fixes a problem that occasionally occurs when
	dropping nukes: the quantity (x-1+abs_x0-map_view_x0) may get
	negative values, hence, nuke tiles won't be displayed.  Patch
	submitted by Rizos Sakellariou; adapted to current sources (Xaw
	and Gtk) by me.

Thu May 20 12:22:09 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/messagewin.c: more fixes to the gkt+ color style
	code.

Thu May 20 12:19:56 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/messagewin.c: changed gtk+ styles for colors so
	fix memory leaks.

Thu May 20 12:03:32 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/clinet.c, client/gui-xaw/clinet.c: Corrections to
	previous $http_proxy patch.  Patch submitted by Reinier Post
	<rp@win.tue.nl>.

Thu May 20 11:51:57 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/citytools.c: In set_city_shield_bonus() don't bother
	calculating whether the city is affected by Hoover etc if the city
	doesn't have a Factory.  (Code cleanup only, no change to actual
	effect.)  Patch submitted by Tony Stuckey
	<stuckey@jaka.ece.uiuc.edu>.

Thu May 20 11:44:47 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/unitfunc.c: Bugfix to third arg of send_city_info() in
	diplomat_sabotage().  Fix submitted by Rizos Sakellariou, who
	writes: On some (rare) occasions, players may have noticed that a
	city name appears "out of the blue" in non-explored areas of the
	map.

Thu May 20 11:34:07 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/helpdata.txt: Clarifications in the help text (Apollo
	allows spaceship parts; Hoover works for _all_ cities; Liberty
	allows _all_ governments as choices; Submarine visibility range;
	unhappiness details).  Also a new table showing the number of
	turns required for terrain improvements.  Patch submitted by Rizos
	Sakellariou <rizos@cs.rice.edu>.  Minor formatting changes by me,
	and I also removed all trailing spaces.

Thu May 20 11:19:56 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c: Make the server refuse to run if it has root
	privileges, since running the server as root is unsafe.  From a
	patch submitted by Reinier Post <rp@win.tue.nl>.

Thu May 20 11:14:35 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/gui_stuff.c: Vasco's previous patch was missing
	some semicolons.

Thu May 20 07:45:50 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/gui_stuff.c: made the client free the temporary
	images used in scaling pixmaps.

Tue May 18 12:48:10 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/packhand.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/dialogs.h, client/gui-gtk/mapctrl.c,
	client/gui-xaw/dialogs.c, client/gui-xaw/dialogs.h,
	client/gui-xaw/mapctrl.c, common/shared.h, server/unithand.c,
	server/unithand.h: Some fixes/changes to handling of caravans:

	- Caravans adjacent to a city but with insufficient moves_left
	used to be able to still establish trade routes or help build
	wonders; this is now fixed.

	- A caravan entering a friendly city via goto (as well as
	manually) will now popup a caravan dialog if the caravan can
	establish trade or help build a wonder, if that city is the
	destination of the goto.  A caravan entering a city by boat or
	airlift also gets a popup.

	- A caravan entering an enemy city automatically builds a
	traderoute with no dialog, if a traderoute is possible.  Else the
	client gets a message why the move is not possible.  This applies
	whether moving by goto or manually.

	Code changes: the server detects caravans moving into enemy cities
	and takes appropriate action; the client detects caravans after
	they move into friendly cities and pops up a dialog if
	appropriate.  The client queues data for multiple caravan entries
	since the caravan popup uses global variables so there can only be
	one popup at a time.  For compatability there is a new capability
	tag "caravan1", to handle new clients with old servers, where the
	new client must know to initiate trade route packets for enemy
	cities.

Tue May 18 12:37:03 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/clinet.c: Replaced some calls to snprintf with
	equivalent calls to sprintf (with %.63s format), since not all
	platforms have snprintf.

Tue May 18 10:11:30 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* INSTALL: fixed some typos in the changes i made earlier.

Mon May 17 13:18:01 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* README: Fix typo in instructions about $http_proxy environment
	variable.  Patch submitted by Reinier Post <rp@win.tue.nl>.

Mon May 17 10:04:23 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/mapctrl.c, client/gui-gtk/mapctrl.h: patched the
	gtk+ client to match code reorganization changes made in the xaw
	client.

Mon May 17 10:01:30 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/repodlgs.c: similar fix to the one done to the
	city list dialog.

Mon May 17 09:59:32 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/cityrep.c, client/gui-gtk/finddlg.c,
	client/gui-gtk/gotodlg.c: fix for "city list dialog open when
	creating a new city crashes the gtk+ client" bug.  it should be ok
	now (i hope).

Mon May 17 09:55:45 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/gui_main.c: some more goto mouse cursor patch
	stuff...

Mon May 17 09:54:46 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/graphics.c, client/gui-gtk/graphics.h,
	client/gui-gtk/mapview.c: Added goto mouse cursor patch as from
	the Xaw client.

Mon May 17 09:52:29 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/gui_stuff.c: Update to fix a bug in the bitmap
	scaling code  - taken from the Xaw client.

Sat May 15 04:55:25 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/cityhand.c, server/cityturn.c: Minor code simplifications
	suggested by Tony Stuckey <stuckey@jaka.ece.uiuc.edu>.

Sat May 15 04:45:35 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/helpdata.txt: Made the help text for the Hanging Gardens
	wonder more precise.  Patch submitted by Rizos Sakellariou
	<rizos@rice.edu>.

Sat May 15 04:36:01 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/mapgen.c: Added call to make_plains() at end of
	mapgenerator3().  Fix suggested by Ive Kohnenkamp
	<ive@rocketmail.com>.  Also put in free(height_map).

Fri May 14 21:41:57 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/gotohand.c: Human players boats will no more try to go
	through cities.

Fri May 14 19:57:22 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* common/player.c, data/helpdata.txt,
	data/default/buildings.ruleset: The following patch activates the
	Marco Polo's Embassy wonder.  Patch written by Rizos Sakellariou
	rizos@rice.edu

Thu May 13 22:39:04 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/include/.cvsignore, client/include/Makefile.am,
	client/include/Makefile.in: Added client/include/Makefile.am and
	Makefile.in to CVS.  Added .cvsignore for the Makefile.

Thu May 13 20:02:39 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* configure, configure.in, client/Makefile.am, client/Makefile.in,
	client/gui-gtk/Makefile.am, client/gui-gtk/Makefile.in,
	client/gui-xaw/Makefile.am, client/gui-xaw/Makefile.in: Dwp mended
	autostuff files to be abble to do 'make dist'.  He added
	client/include/Makefile.am.  He added several .h which were
	missing.

Thu May 13 12:14:39 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/unitfunc.c, server/unitfunc.h, server/unithand.c: New
	functions get_location_str_in() and get_location_str_at(), in
	unitfunc.c;  used to clean up code in unitfunc.c:kill_unit() and
	unithand.c:handle_unit_attack_request(), and to add location to
	the message when Leonardo's Workshop upgrades a unit.

Thu May 13 12:02:44 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/Freeciv.h, client/gui-xaw/mapctrl.c,
	client/gui-xaw/mapctrl.h, client/gui-xaw/menu.c, data/Freeciv:
	Added a "View" menu to the Xaw client, with (essentially) the same
	items as in the Gtk client: Grid On/Off (Ctl-g), and Center View
	(c).

Thu May 13 11:52:12 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/options.c, common/events.h, server/cityturn.c,
	server/spacerace.c: Added a new event/message type E_SPACESHIP,
	for important spaceship events: spaceship started, launched, lost,
	landed.  (Only once event type for all of these, since they will
	not happen often, and there are already too many event types.)

Wed May 12 09:55:07 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* README, client/gui-gtk/clinet.c, client/gui-gtk/clinet.h,
	client/gui-gtk/connectdlg.c, client/gui-gtk/menu.c,
	client/gui-xaw/clinet.c, client/gui-xaw/clinet.h,
	client/gui-xaw/connectdlg.c, client/gui-xaw/menu.c,
	client/include/helpdlg.h, data/helpdata.txt: Patch written by
	Reinier Post <rp@win.tue.nl> Here what he says :

	Players behind firewalls that use a non-transparent WWW proxy
	(i.e. outgoing port 80 is blocked) cannot use the Metaserver
	button in civclient.  The attached patch fixes this for the Xaw (
	now also for gtk ) client by making it use the $http_proxy env
	var.

	For example, wa local Squid proxy (my test environment), use

	% env http_proxy=http://localhost:3128/ civclient

Wed May 12 09:19:51 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/gui-xaw/graphics.c, data/Makefile.am, data/Makefile.in: I
	had to do a make maintainer-clean to remove the dependency to
	../data/goto_cursor.xbm and ../data/goto_cursor_mask.xbm.  In
	gui-xaw/graphics, updated include for the mouse cursor.

Wed May 12 08:31:01 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/include/goto_cursor.xbm,
	client/include/goto_cursor_mask.xbm, data/goto_cursor.xbm,
	data/goto_cursor_mask.xbm: Move the files goto_cursor.xbm and
	goto_cursor_mask.xbm to client/include.

Tue May 11 20:42:07 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* data/goto_cursor.xbm, data/goto_cursor_mask.xbm: here is the
	data files for the mouse patch.

Tue May 11 20:28:10 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* AUTHORS, client/gui-xaw/graphics.c, client/gui-xaw/graphics.h,
	client/gui-xaw/gui_main.c, client/gui-xaw/mapview.c,
	data/Makefile.am, data/Makefile.in, server/unithand.c,
	server/unittools.c: Goto mouse cursor patch written by Falk
	Hueffner <falk.hueffner@student.uni-tuebingen.de> Small changes in
	the AUTHOR file.

Mon May 10 08:23:22 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/Makefile.am, common/Makefile.in, common/registry.c,
	common/registry.h: Changes to makefiles and registry to use new
	sbuffer module.

Mon May 10 08:20:13 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/sbuffer.c, common/sbuffer.h: New "sbuffer" module based
	on strbuffer code from registry module.  Generalises strbuffer
	code so that there is no longer a single global strbuffer, and
	hence will be able to have more than one registry file open at a
	time.

Sun May  9 16:53:38 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/settlers.c: In Settler_findwork, if the settler is owned
	by ai, I use ai_fuzzy to see if it really check for a spot to
	build a town.

Sun May  9 16:25:30 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/citytools.c: This patch halves corruption for Communism. 
	Patch written by Per Mathisen <permath@ifi.ntnu.no>.

Sun May  9 16:15:22 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/gui-gtk/gui_main.c: Here is a patch so the GTK+ client
	treats the numeric keypad more sensibly, even with numlock off. 
	Without this patch, and running with numlock off, using the keypad
	to move units causes the input focus to wander around, and
	eventually the keypad no longer moves the units.  Patch written
	Patrick Smith <patsmith@pobox.com>

Sat May  8 21:07:24 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* ai/aiunit.c: This patch will cause the AI to create trade routes
	under certain minimal conditions.  Trade will be created between
	towns on the same continents owned by the same player.  Patch
	submitted by Tony Stuckey <stuckey@jaka.ece.uiuc.edu>

Sat May  8 21:12:25 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* ai/aiunit.c: add best_city = -1 if no city is found to etablish
	trade.

Sat May  8 12:34:55 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/mapgen.c: For functions internal to mapgen.c, put protos
	back in mapgen.c (after moved to mapgen.h, then removed from
	there).

Sat May  8 12:28:32 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/plrhand.c: Add an enum type historian_type to be used in
	historian_generic.  Change some indentations to try to follow
	freeciv indentation style.  Hints suggested by dwp.

Sat May  8 12:27:40 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/mapgen.h: Wipeout in mapgen.h the declarations of
	functions which were used only in mapgen.c

Sat May  8 01:12:35 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/unittools.c: Patch done by Tony Stuckey
	<stuckey@jaka.ece.uiuc.edu> to save some CPU cycles around lign
	358 when best_value is calculed.

Thu May  6 18:05:23 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/mapgen.c, server/mapgen.h, server/maphand.c,
	server/maphand.h: 4 ligns in maphan.c were similar to
	init_workmap.  I deleted those ligns and remplace them by
	init_workmap.  I modified maphand.h and mapgen.h so that it works.

Thu May  6 16:05:59 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* AUTHORS: There were some tabulations.  I withdraw them and
	replace them by spaces.

Thu May  6 15:57:25 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/plrhand.c: Historian reports no more include dead
	civilisations.  Bug reported by Alexande Beraud
	<berauda@crit2.univ-montp2.fr>

Tue May  4 11:33:55 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/Makefile.am, common/Makefile.in, common/handchat.h,
	server/Makefile.am, server/Makefile.in, server/handchat.c,
	server/handchat.h: Moved handchat.h from common to server, since
	the prototype it contains only applies to the function in
	server/handchat.c and not to a similarly named function in the
	client; the client does not include handchat.h anywhere.

Tue May  4 11:25:03 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/citydlg.c, client/gui-gtk/diplodlg.c,
	client/gui-xaw/citydlg.c, client/gui-xaw/diplodlg.c: Changed
	defines etc with NO_ to NUM_ where approriate, since NO meaning
	"number" is easily confused with NO meaning "the opposite of yes".
	Changed: NO_UNITS_SHOWN; NO_CITIZENS_SHOWN; MAX_NO_CLAUSES;
	city_dialog.change_list_no_improvements.

Tue May  4 11:23:23 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/cityhand.c: The messages about "wonder started" sometimes
	included cityname, sometimes not (specifically, "not" if the
	player changed production, but "with" if the AI or auto-next-build
	chose); this change makes the cityname always appear in the
	message.

Mon May  3 22:03:16 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* common/unit.c: Another little fix to prevent non usefull
	initializations.  Thank to Tony Stuckey
	<stuckey@jaka.ece.uiuc.edu>

Mon May  3 21:14:05 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* common/unit.c: Add 2 'kind silly' ligns in
	is_transporter_with_free_space This was suggested by Tony Stuckey
	<stuckey@jaka.ece.uiuc.edu>

Mon May  3 20:46:58 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* server/cityturn.c: Merged the function set_trade_prod and
	set_food_trade_shields

Mon May  3 15:19:35 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/gui_main.c: Made log_init() log to stderr by
	default. Fix was sent by various people.

Mon May  3 12:38:07 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/options.c, client/gui-gtk/messagedlg.c,
	client/gui-xaw/messagedlg.c, client/include/options.h: Calculate
	sorted event list (sorted by message_text) once in
	init_messages_where(), instead of each time in
	create_messageopt_dialog().

Mon May  3 12:37:02 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/messagedlg.c, client/gui-xaw/optiondlg.c,
	client/civclient.c, client/options.c, client/packhand.c,
	client/gui-gtk/gamedlgs.c, client/gui-gtk/messagedlg.c,
	client/include/messagedlg.h, client/include/options.h: Moved
	gui-independent message options data and functions out of
	messagedlg.[ch], into options.[ch].  Specifically: message_text[],
	messages_where[], init_messages_where(), compar_message_texts(). 
	Changes to other files are adjustments to "#include" lines.

Sun May  2 18:21:08 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* common/unit.h: Sub the declaration of can_unit_move_to_tiles in
	common/unit.h .  The code is in unittools.c .

Sun May  2 17:46:26 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* client/gui-xaw/gui_stuff.c: In the function put_line_24, there
	was +1 instead of a +2 for the third byte. Bug reported by Peter
	Berg Larsen <pebl@math.ku.dk>

Sun May  2 04:24:52 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/map.c: Rewrote tile_move_cost(), initialize_move_costs()
	and reset_move_costs(), to simplify code and reduce duplication;
	new functions tile_move_cost_ptrs(), tile_move_cost_ai(),
	debug_log_move_costs().

	Also introduced code to make the river movement bonus not apply
	for diagonal moves, but have not yet "turned on" the change.

Sun May  2 04:23:24 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/gotohand.c, ai/aiunit.c: Changed lots of cases of xx[i],
	yy[j] to temp variables x1, y1.

Sun May  2 04:22:31 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aiunit.c, common/map.c, common/map.h, server/gotohand.c: New
	functions map_calc_adjacent_xy() and map_calc_adjacent_xy_void(),
	to reduce code duplication.

Sun May  2 04:21:22 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/mapgen.c, common/map.c, common/map.h: Removed unused
	map.age; moved isledata, MAP_NCONT, and islands[], from common/map
	to server/mapgen, since that is the only place they are used. 
	Initialize void_tile in map_init() instead of in
	initialize_move_costs().  In map.h, removed protos for
	non-existent functions: send_full_tile_info(),
	map_fractal_create(); duplicate proto for reset_move_costs(). 
	Renamed same_island() to map_same_continent().  Other minor map.c
	formating changes and additional comments.

Sun May  2 04:19:43 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/unittools.c: In get_defender(), don't unnecessarily
	re-calculate rate_unit_d() for the same units.  Based on a patch
	submitted by Tony Stuckey <stuckey@jaka.ece.uiuc.edu>.

Sat May  1 04:09:57 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/Freeciv.h, client/gui-xaw/helpdlg.c,
	data/Freeciv: Added scrollbars to the "tech trees" in the help
	pages of the Xaw client.

Sat May  1 04:04:26 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/Makefile.am, common/Makefile.in, common/registry.c,
	common/registry.h, server/Makefile.am, server/Makefile.in,
	server/registry.c, server/registry.h: Moved "registry" module from
	server/ to common/.  (To allow future use by client, eg, for
	parsing .civclientrc).

Sat May  1 03:57:24 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/mem.h: Include stdlib.h in mem.h to make sure we have
	size_t.

Fri Apr 30 11:53:03 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/gui_main.c: Put back log_init() change which got
	clobbered by a recent check-in.

Thu Apr 29 09:41:36 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/gui_main.c, client/gui-gtk/helpdlg.c: Increased
	size of the timeout label in the toplevel window so that 3 digits
	can fit there.  Fixed help window so that clicking on hyperlinks
	which point to "None" don't get you that weird error page.  Added
	a scrollbar to the text dialog in the help window.

Wed Apr 28 04:01:04 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/menu.c, client/gui-xaw/menu.c: Minor fixes to Gtk
	client: make disconnect always available (whenever Game menu is
	available); fixed names of Server options menu items in
	menus_set_sensitive() calls.  For both Xaw and Gtk client: made
	Server opt initial, Server opt ongoing, Export Log, and Clear Log
	menu items always available (whenever the Game menu is), including
	before the game has been started by the server.

Tue Apr 27 12:26:23 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/helpdata.txt, server/gotohand.c, server/unittools.c: Made
	changes to ZOC rules (and docs) to bring the rules in line with
	Civ1/Civ2.  Specifically: empty cities no longer impose ZOC; and
	units moving from ocean squares (that is, disembarking from boats)
	are not subject to ZOC (but are still subject to normal attack
	rules; ie no attacks except for Marines).

Tue Apr 27 12:17:51 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/gui_main.c, client/gui-xaw/gui_main.c,
	common/log.c, common/log.h, server/Makefile.am,
	server/Makefile.in, server/civserver.c, server/meta.c,
	server/sernet.c, server/stdinhand.c, server/stdinhand.h: Changes
	related to new console module: enhanced logging to accept a
	callback function to control log output; gui_main.c changes for
	new log_init(); use console functions instead of printf/puts in
	civserver.c, meta.c, stdinhand.c; removed old show_prompt() stuff;
	new prompt stuff (console function calls) in
	sernet.c:sniff_packets().  Based on patches submitted by Per
	Mathisen <permath@ifi.ntnu.no>.

Tue Apr 27 12:15:48 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/console.c, server/console.h: New "console" module to
	handle server console output, and prompt printing, and new
	"rfcstyle" feature (option for more parser-friendly server console
	output).  Main visible benefit at the moment is to eliminate
	unnecessary new console prompt every turn.  Based on patches
	submitted by Per Mathisen <permath@ifi.ntnu.no>.

Tue Apr 27 12:00:35 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/small.xpm: Replaced light bulbs in small.xpm with
	nicer ones drawn by Alexandre BERAUD <a_beraud@lemel.fr> (bulbs
	re-indexed to current default palette).

Mon Apr 26 09:27:30 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Makefile.am, client/Makefile.in, client/civclient.c,
	client/options.c, client/gui-gtk/cityrep.c,
	client/gui-gtk/gamedlgs.c, client/gui-gtk/gui_main.c,
	client/gui-gtk/menu.c, client/gui-gtk/messagewin.c,
	client/gui-gtk/optiondlg.h, client/gui-xaw/Freeciv.h,
	client/gui-xaw/cityrep.c, client/gui-xaw/gui_main.c,
	client/gui-xaw/menu.c, client/gui-xaw/messagewin.c,
	client/gui-xaw/optiondlg.c, client/gui-xaw/optiondlg.h,
	client/include/cityrep.h, client/include/options.h, data/Freeciv:
	This patch takes the (client) option list out of the gui-*
	directories, so new options only have to be added in one place. 
	Note that new options still have to be added in data/Freeciv.

	The patch also moves the open/load/save option functions out into
	client/options.c.  Also the patch changes the names of the
	option*label and opiton*toggle resources in data/Freeciv to be the
	same as in the code; this allows the Xaw GUI to runtime get the
	resources names, instead of using some form of hardcoded lookup
	table.

	Patch submitted by Sune Kirkeby <sune@interspace.dk>, with minor
	changes by me; renamed options[] array (client command line
	options) in gui-xaw/gui_main.c to cmd_options[].

Mon Apr 26 07:55:09 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c: Put back a call to show_prompt() which I
	accidently removed recently.

Mon Apr 26 07:19:42 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/mem.c, common/mem.h: New "mem" module in common/, to
	provide malloc wrappers which check malloc return value and do
	freeciv-specific processing if it is NULL.  Wrappers for malloc,
	realloc, calloc, and strdup (as mystrdup).  (Any missed/future
	code which accidently uses malloc will not cause problems, just
	will not gain the benefits of the wrappers.)

Mon Apr 26 07:15:21 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/packhand.c, client/gui-gtk/chatline.c,
	client/gui-gtk/citydlg.c, client/gui-gtk/dialogs.c,
	client/gui-gtk/diplodlg.c, client/gui-gtk/graphics.c,
	client/gui-gtk/helpdlg.c, client/gui-gtk/messagewin.c,
	client/gui-gtk/spaceshipdlg.c, client/gui-xaw/chatline.c,
	client/gui-xaw/citydlg.c, client/gui-xaw/cityrep.c,
	client/gui-xaw/clinet.c, client/gui-xaw/dialogs.c,
	client/gui-xaw/diplodlg.c, client/gui-xaw/finddlg.c,
	client/gui-xaw/gotodlg.c, client/gui-xaw/graphics.c,
	client/gui-xaw/gui_stuff.c, client/gui-xaw/helpdlg.c,
	client/gui-xaw/menu.c, client/gui-xaw/messagewin.c,
	client/gui-xaw/spaceshipdlg.c, common/Makefile.am,
	common/Makefile.in, common/capability.c, common/city.c,
	common/diptreaty.c, common/genlist.c, common/packets.c,
	common/shared.c, common/shared.h, common/unit.c,
	server/cityhand.c, server/citytools.c, server/diplhand.c,
	server/gamelog.c, server/mapgen.c, server/maphand.c,
	server/plrhand.c, server/registry.c, server/unitfunc.c,
	server/unithand.c: Changes for new mem module providing wrappers
	for malloc etc, as fc_malloc etc.

Mon Apr 26 07:10:33 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/Makefile.am, common/Makefile.in, common/attribute.h,
	common/log.h, server/plrhand.h, server/registry.h: When using gcc,
	use gcc's __attribute__ keyword to check variadic parameters to
	printf-like functions.  (When using other compilers, should have
	no effect.)

Mon Apr 26 07:04:14 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/mapctrl.c, common/packets.c, server/meta.c: Fixed
	some warnings from Sun cc on Solaris: in packets.c, re-wrote
	put_string() and get_string() to avoid using strcpy() and strlen()
	on an (unsigned char*).  In other places added some casts.

Sun Apr 25 11:46:42 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c, server/mapgen.c, server/mapgen.h: Renamed
	poorly named choose_start_positions() to create_start_positions().
	From a patch by Per Mathisen <permath@ifi.ntnu.no>.

Sun Apr 25 11:44:28 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/game.h, common/map.h, server/stdinhand.c,
	server/unithand.c: Minor cleanups: moved GAME_{DEFAULT,MIN,MAX}_*,
	from map.h to game.h; map.h doesn't use genlist.h; added
	GAME_MIN_TIMEOUT, GAME_MAX_TIMEOUT.

Sun Apr 25 11:42:28 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/cityhand.c: In really_handle_city_buy(), moved the test
	for anarchy out the front with the other tests.

Sun Apr 25 11:40:37 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/citytools.c: Make veteran status of newly built diplomats
	not depend on whether the city has Barracks (now only on whether
	government is Communism).  (This will matter when diplomat veteran
	effects go in.)  Patch submitted by Kris Bubendorfer
	<Kris.Bubendorfer@MCS.VUW.AC.NZ>.

Sun Apr 25 11:38:35 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/packhand.c, client/gui-xaw/connectdlg.c,
	client/gui-xaw/connectdlg.h, client/gui-xaw/inputdlg.c,
	client/include/climisc.h, client/include/packhand.h: Added
	standard freeciv copyright header to a few more files where it was
	missing.

Sun Apr 25 02:30:49 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advdomestic.c, ai/advmilitary.c, ai/aicity.c, ai/aihand.c,
	ai/aitech.c, ai/aitools.c, ai/aiunit.c, common/map.c,
	common/packets.c, server/cityhand.c, server/cityturn.c,
	server/civserver.c, server/gamelog.c, server/gotohand.c,
	server/mapgen.c, server/settlers.c, server/stdinhand.c,
	server/unitfunc.c, server/unithand.c, server/unittools.c:
	Converted debug printf's (including commented, now if(0)) to use
	freelog(), in preparation for server console improvements.

Sat Apr 24 04:38:44 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/gamelog.c: Fixed memory leak and possible buffer overflow
	in gamelog_map().

Sat Apr 24 04:38:02 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/diplhand.c, server/mapgen.c, server/maphand.c: Fixed some
	cases of printf-like functions with arguments not matching format
	string.

Thu Apr 22 12:12:56 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/citydlg.c, client/gui-xaw/citydlg.c: In
	popdown_all_city_dialogs(), also popdown the cityopt dialog, if
	applicable.

Thu Apr 22 11:53:51 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-gtk/graphics.c, client/gui-xaw/graphics.c: New
	function crop_sprite() in graphics.c, to clean up where there was
	too much cut&paste code; also added a sanity check for spacerace
	tiles.  From a patch submitted by Falk Hueffner
	<falk.hueffner@student.uni-tuebingen.de> (with corresponding
	changes for gtk graphics.c intuited by dwp).

Thu Apr 22 11:19:24 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c, server/stdinhand.c: Adjusted code in
	accept_new_player() and handle_request_join_game() so players get
	the same info about other players whether the game is new or a
	reload.  Adjusted that info.  New functions join_game_accept() and
	introduce_game_to_player().  Made accept_new_player() set
	pplayer->is_connected properly, and removed some then unnecessary
	code to adjust it elsewhere.

Mon Apr 19 17:46:34 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* INSTALL: added some info about the requirements and how to
	compile the new integrated gtk+/xaw client.  isn't perfect, but
	it's better than nothing.

Mon Apr 19 14:11:48 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/Makefile.am, client/Makefile.in, client/climisc.c,
	client/gui-gtk/Makefile.am, client/gui-gtk/Makefile.in,
	client/gui-gtk/citydlg.h, client/gui-gtk/climisc.c,
	client/gui-xaw/Makefile.am, client/gui-xaw/Makefile.in,
	client/gui-xaw/citydlg.h, client/gui-xaw/climisc.c: moved
	climisc.c to client/ dir.  (this file is toolkit independent).

Sun Apr 18 02:44:57 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* undep.sh.in: Update for undep.sh for new client directory
	structure.

Sun Apr 18 02:44:15 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/city.h: Include shared.h in city.h, since we use
	MAX_LENGTH_NAME.  Problem noted by Frank Schaefer
	<fransch@netscape.net>.

Sun Apr 18 02:43:34 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/city.c, common/city.h, common/game.c, common/unit.c,
	server/citytools.c: Removed some obsolete code which had been
	#if-ed out a while ago: city.[ch]:city_list_find_coor(),
	game.c:old_city_name_compare(), unit.c:string_center(),
	citytools.c:old_is_worked_here().  (Left in some other similar
	#if-ed out code which may still be instructive, eg, AI code.)

Fri Apr 16 13:06:50 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/Freeciv.h, data/Freeciv: Added/adjusted resources
	to make resizing the xaw diplomatic treaty dialog behave nicer.

Fri Apr 16 13:05:32 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Makefile.am, client/Makefile.in,
	client/gui-gtk/Makefile.am, client/gui-gtk/Makefile.in,
	client/gui-xaw/Makefile.am, client/gui-xaw/Makefile.in,
	client/gui-xaw/resources.c: Fix so can build from a directory
	other than the source directory; including ensuring
	gui-xaw/resources.c depends on locally generated Freeciv.h
	(possibly based on locally modifed data/Freeciv) rather than on
	source distribution Freeciv.h.

Fri Apr 16 13:02:32 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* Makefile.in, ai/Makefile.in, common/Makefile.in,
	data/Makefile.in, data/civ1/Makefile.in, data/classic/Makefile.in,
	data/default/Makefile.in, server/Makefile.in: Auto-gen changes
	after gtk configure changes, for non-client dirs (these changes
	don't actually do anything, but checking them in avoids patch
	clutter).

Fri Apr 16 13:01:05 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/gui-xaw/.cvsignore, client/gui-gtk/.cvsignore: Added
	.cvsignore files for gui-xaw and gui-gtk dirs.

Thu Apr 15 09:43:25 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/mapview.c: added changes from the xaw client to 
	focus handling of units.

Wed Apr 14 18:01:30 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/mapctrl.c: changed included file from strings.h 
	to string.h because that is the correct ANSI c header.

Wed Apr 14 17:57:24 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/civclient.c: added include for string.h because strstr() 
	needs it.

Tue Apr 13 12:27:51 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* aclocal.m4, configure, configure.in: changed files to acommodate
	the xaw & gtk+ integrated client.

Tue Apr 13 12:24:59 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/civclient.c, client/packhand.c: renamed functions to be
	more consistent.

Tue Apr 13 12:17:33 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/Makefile.am, client/Makefile.in: changed makefiles.

Tue Apr 13 12:14:41 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-gtk/Makefile.am, client/gui-gtk/Makefile.in,
	client/gui-gtk/chatline.c, client/gui-gtk/chatline.h,
	client/gui-gtk/citydlg.c, client/gui-gtk/citydlg.h,
	client/gui-gtk/cityrep.c, client/gui-gtk/climisc.c,
	client/gui-gtk/clinet.c, client/gui-gtk/clinet.h,
	client/gui-gtk/colors.c, client/gui-gtk/colors.h,
	client/gui-gtk/connectdlg.c, client/gui-gtk/connectdlg.h,
	client/gui-gtk/dialogs.c, client/gui-gtk/dialogs.h,
	client/gui-gtk/diplodlg.c, client/gui-gtk/diplodlg.h,
	client/gui-gtk/finddlg.c, client/gui-gtk/gamedlgs.c,
	client/gui-gtk/gotodlg.c, client/gui-gtk/gotodlg.h,
	client/gui-gtk/graphics.c, client/gui-gtk/graphics.h,
	client/gui-gtk/gui_main.c, client/gui-gtk/gui_main.h,
	client/gui-gtk/gui_stuff.c, client/gui-gtk/gui_stuff.h,
	client/gui-gtk/helpdlg.c, client/gui-gtk/inputdlg.c,
	client/gui-gtk/inputdlg.h, client/gui-gtk/inteldlg.c,
	client/gui-gtk/mapctrl.c, client/gui-gtk/mapctrl.h,
	client/gui-gtk/mapview.c, client/gui-gtk/mapview.h,
	client/gui-gtk/menu.c, client/gui-gtk/menu.h,
	client/gui-gtk/messagedlg.c, client/gui-gtk/messagewin.c,
	client/gui-gtk/optiondlg.h, client/gui-gtk/plrdlg.c,
	client/gui-gtk/repodlgs.c, client/gui-gtk/repodlgs.h,
	client/gui-gtk/spaceshipdlg.c, client/gui-gtk/spaceshipdlg.h:
	added gtk+ client source code.

Tue Apr 13 11:11:00 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-xaw/Makefile.am, client/gui-xaw/Makefile.in: added
	makefiles.

Tue Apr 13 11:09:04 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-xaw/canvas.c, client/gui-xaw/chatline.c,
	client/gui-xaw/citydlg.c, client/gui-xaw/cityrep.c,
	client/gui-xaw/clinet.c, client/gui-xaw/connectdlg.c,
	client/gui-xaw/dialogs.c, client/gui-xaw/diplodlg.c,
	client/gui-xaw/gui_main.c, client/gui-xaw/gui_main.h,
	client/gui-xaw/gui_stuff.h, client/gui-xaw/helpdlg.c,
	client/gui-xaw/inputdlg.c, client/gui-xaw/inteldlg.c,
	client/gui-xaw/mapctrl.c, client/gui-xaw/mapview.c,
	client/gui-xaw/messagedlg.c, client/gui-xaw/messagewin.c,
	client/gui-xaw/optiondlg.c, client/gui-xaw/pixcomm.c,
	client/gui-xaw/plrdlg.c, client/gui-xaw/ratesdlg.c,
	client/gui-xaw/repodlgs.c, client/gui-xaw/spaceshipdlg.c: renamed
	functions to be more consistent.

Tue Apr 13 11:01:46 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/gui-xaw/gui_main.c, client/gui-xaw/gui_main.h,
	client/gui-xaw/gui_stuff.c, client/gui-xaw/gui_stuff.h,
	client/gui-xaw/xmain.c, client/gui-xaw/xmain.h,
	client/gui-xaw/xstuff.c, client/gui-xaw/xstuff.h: renamed files to
	be more consistent.

Tue Apr 13 10:53:11 1999  Vasco Alexandre da Silva Costa <vasc@rnl.ist.utl.pt>:

	* client/Freeciv.h, client/ad2c, client/canvas.c, client/canvas.h,
	client/canvasp.h, client/chatline.c, client/chatline.h,
	client/citydlg.c, client/citydlg.h, client/cityicon.ico,
	client/cityrep.c, client/cityrep.h, client/civclient.h,
	client/climisc.c, client/climisc.h, client/clinet.c,
	client/clinet.h, client/colors.c, client/colors.h,
	client/connectdlg.c, client/connectdlg.h, client/dialogs.c,
	client/dialogs.h, client/diplodlg.c, client/diplodlg.h,
	client/finddlg.c, client/finddlg.h, client/freeciv.ico,
	client/gotodlg.c, client/gotodlg.h, client/graphics.c,
	client/graphics.h, client/helpdlg.c, client/helpdlg.h,
	client/inputdlg.c, client/inputdlg.h, client/inteldlg.c,
	client/inteldlg.h, client/mapctrl.c, client/mapctrl.h,
	client/mapview.c, client/mapview.h, client/menu.c, client/menu.h,
	client/messagedlg.c, client/messagedlg.h, client/messagewin.c,
	client/meswindlg.h, client/optiondlg.c, client/optiondlg.h,
	client/packhand.h, client/pixcomm.c, client/pixcomm.h,
	client/pixcommp.h, client/plrdlg.c, client/plrdlg.h,
	client/ratesdlg.c, client/ratesdlg.h, client/repodlgs.c,
	client/repodlgs.h, client/resources.c, client/resources.h,
	client/spaceshipdlg.c, client/spaceshipdlg.h, client/xmain.c,
	client/xmain.h, client/xstuff.c, client/xstuff.h,
	client/gui-xaw/Freeciv.h, client/gui-xaw/ad2c,
	client/gui-xaw/canvas.c, client/gui-xaw/canvas.h,
	client/gui-xaw/canvasp.h, client/gui-xaw/chatline.c,
	client/gui-xaw/chatline.h, client/gui-xaw/citydlg.c,
	client/gui-xaw/citydlg.h, client/gui-xaw/cityrep.c,
	client/gui-xaw/climisc.c, client/gui-xaw/clinet.c,
	client/gui-xaw/clinet.h, client/gui-xaw/colors.c,
	client/gui-xaw/colors.h, client/gui-xaw/connectdlg.c,
	client/gui-xaw/connectdlg.h, client/gui-xaw/dialogs.c,
	client/gui-xaw/dialogs.h, client/gui-xaw/diplodlg.c,
	client/gui-xaw/diplodlg.h, client/gui-xaw/finddlg.c,
	client/gui-xaw/gotodlg.c, client/gui-xaw/gotodlg.h,
	client/gui-xaw/graphics.c, client/gui-xaw/graphics.h,
	client/gui-xaw/helpdlg.c, client/gui-xaw/inputdlg.c,
	client/gui-xaw/inputdlg.h, client/gui-xaw/inteldlg.c,
	client/gui-xaw/mapctrl.c, client/gui-xaw/mapctrl.h,
	client/gui-xaw/mapview.c, client/gui-xaw/mapview.h,
	client/gui-xaw/menu.c, client/gui-xaw/menu.h,
	client/gui-xaw/messagedlg.c, client/gui-xaw/messagewin.c,
	client/gui-xaw/optiondlg.c, client/gui-xaw/optiondlg.h,
	client/gui-xaw/pixcomm.c, client/gui-xaw/pixcomm.h,
	client/gui-xaw/pixcommp.h, client/gui-xaw/plrdlg.c,
	client/gui-xaw/ratesdlg.c, client/gui-xaw/repodlgs.c,
	client/gui-xaw/repodlgs.h, client/gui-xaw/resources.c,
	client/gui-xaw/resources.h, client/gui-xaw/spaceshipdlg.c,
	client/gui-xaw/spaceshipdlg.h, client/gui-xaw/xmain.c,
	client/gui-xaw/xmain.h, client/gui-xaw/xstuff.c,
	client/gui-xaw/xstuff.h, client/include/cityicon.ico,
	client/include/cityrep.h, client/include/civclient.h,
	client/include/climisc.h, client/include/finddlg.h,
	client/include/freeciv.ico, client/include/helpdlg.h,
	client/include/inteldlg.h, client/include/messagedlg.h,
	client/include/meswindlg.h, client/include/packhand.h,
	client/include/plrdlg.h, client/include/ratesdlg.h: moved client
	source files around to gui-xaw and include dirs.

Sun Apr 11 11:33:13 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/plrhand.c, server/unitfunc.c: Include punit->moved in the
	savefile (otherwise hp regeneration can be wrong on reload turn). 
	Also explicitly set punit->moved in create_unit_full().  (Assume
	that if moves_left<0 (flag value) then the unit is "fresh", and
	not moved; else the unit has had something happen to it (eg,
	bribed) which we treat as equivalent to having moved).

Sun Apr 11 02:38:19 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c: Bounds checking in handle_stdin_input()
	wasn't quite militant enough, causing stack-clobbering segfaults
	with too long commands (parameters were immune, though).  Patch
	submitted by Juho Snellman <jsnell@iki.fi>.

Sun Apr 11 02:37:33 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c: Allow server option names to be abbreviated
	where unambiguous (for the "set" and "explain" commands).  The
	patch also prints a notification of the change to the server
	console, since abbreviations could cause a typo to change the
	wrong option, and without any feedback that would never be
	noticed.  Patch submitted by Juho Snellman <jsnell@iki.fi>.

Sun Apr 11 02:36:14 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/cityturn.c: In upgrade_unit_prod(), check for multiple
	upgrades.  Based on a patch submitted by Juho Snellman
	<jsnell@iki.fi>.

Sun Apr 11 02:34:57 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/unithand.c: Prevent units with attack strength 0 from
	attacking, since they will always lose.  The message produced is,
	e.g., "A Galleon cannot attack other units."  Patch submitted by
	Patrick Smith <patsmith@pobox.com>.

Sun Apr 11 02:34:01 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/mapview.c: Fixed a problem that if
	!flags_are_transparent, then when the focus unit was in a city,
	you didn't see the city when the unit was blinked off.

Sun Apr 11 02:33:09 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aiunit.c, server/gotohand.c, server/unittools.c,
	server/unittools.h: Cleanups of various ZOC code; no changes to
	actual ZOC effects in this patch.  Includes new functions
	zoc_ok_move_gen() (zoc_ok_move() generalised to specified start
	position) and unit_really_ignores_zoc() (takes into account
	non-ground units and F_IGZOC).

Sun Apr 11 02:32:03 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/autoattack.c, server/civserver.c: Suppressed some
	"--debug 2" messages.

Sat Apr 10 05:16:41 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/diptreaty.h, common/events.h, server/meta.c,
	server/meta.h: Added the standard freeciv copyright header to some
	files where it was missing.

Sat Apr 10 05:15:49 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c, server/civserver.h, server/stdinhand.c:
	Eliminated code duplication in save_game() and save_command(). 
	Now save_game() takes filename arg; new function save_game_auto().

Sat Apr 10 05:14:41 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/city.c: Eliminated code duplication in can_build_unit(),
	can_build_unit_direct().

Sun Apr  4 00:12:00 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>:

	* data/helpdata.txt, server/unitfunc.c: Add a variant of
	Leonardo's Workshop to upgrade all units each turn.  Patch written
	by Jeff Mallatt <jjm@codewell.com>.

Fri Apr  2 05:26:57 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/shared.h: Changed capability string to "+1.8".

Fri Apr  2 05:18:09 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* NEWS: Some NEWS additions for 1.8.0: explained leadership
	changeover; added note of new website since previous release;
	added bug about goto-ing ships attacking cities.  Moved some parts
	around.

Fri Apr  2 05:06:20 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* AUTHORS, server/civserver.c: Only call generate_ai_players() at
	the start of a game if is_new_game is true, since can cause
	problems otherwise (eg if aifill is set and any players have been
	removed).  Fixes bug reported by Anders Wegge Jakobsen
	<wegge@wegge.dk>.

Mon Mar 29 12:45:59 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* AUTHORS: Added a "Past administrator" section to credit Mitch.

Mon Mar 29 11:26:06 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/diplodlg.c: Fixed a possible problem when trading cities
	in a game with more than 10 players.  (With help from Kris
	Bubendorfer.)

Mon Mar 29 11:09:13 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/diplodlg.c: Fixed bug where if a player only has 1 city
	(the capital), either player clicking on the trade cities button
	in the diplomacy dialog would crash their client.  Patch submitted
	by Kris Bubendorfer.

Sun Mar 28 04:22:56 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/helpdata.txt: This fixes the help text for the celebration
	("We Love the __ Day") effect, as well as a couple other little
	changes in the help text.  Patch submitted by Greg Wooledge.

Sun Mar 28 04:15:18 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* AUTHORS, ChangeLog: Updated ChangeLog provided by Mitch Davis.

Sun Mar 28 04:06:25 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/cityhand.c: In remove_city(), wipe all supported units
	_before_ sending the PACKET_REMOVE_CITY.  If we do this after,
	then since we now refresh the home city when a unit is lost (to
	update the upkeep etc) the refresh makes the client recreate its
	copy of the destroyed city!

Sat Mar 27 11:43:17 1999  Trent Piepho <xyzzy@u.washington.edu>:

	* common/player.c, common/player.h, common/unit.c, common/unit.h,
	client/mapctrl.c, client/mapview.c: Finally fixed the submarine
	visibility bugs.  Subs can't be see (old), nor can missiles in
	subs (new), unless there is an adjacent unit/city.  They can also
	no longer be found by clicking the middle mouse button on them. 
	However, a ship on the same tile as a hiding sub _can_ be seen. 
	New function in unit.c, is_hiding_unit(), returns true for subs or
	missiles in subs.  New function in player.c,
	player_find_visible_unit(), which returns a pointer to the first
	visible unit in a tile, or NULL if there are none.

Thu Mar 25 11:19:25 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* AUTHORS, client/xmain.c, server/unithand.c: Fixed some warning
 	indicated on Solaris: cast return value of getuid() for printf in
 	xmain.c; fixed ambiguous 'else' in unithand.c.  From a patch
 	submitted by Fabrice Noilhan <Fabrice.Noilhan@ens.fr>.
	
Thu Mar 25 10:37:47 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* AUTHORS, client/cityrep.c: This patch fixes a bug that would
 	sometimes cause the client to crash with a segmentation violation
 	if you requested the city report and had built or otherwise
 	acquired many cities since the last time you requested the report.
  	Patch submitted by Patrick Smith <patsmith@pobox.com>.
	
Wed Mar 24 10:48:06 1999  Trent Piepho <xyzzy@u.washington.edu>

	* client/canvas.c, client/canvasp.h: Promote the canvas widget
 	from a subclass of Core to a subclass of Simple.  This shouldn't
 	effect different Xaw variants, because they don't modify the
 	widget tree until after Simple.
	
Wed Mar 24 10:37:26 1999  Trent Piepho <xyzzy@u.washington.edu>

	* client/repodlgs.c, client/repodlgs.h, client/xmain.c: Made the
 	dialogs in the repodlgs.c file (trade, science, active units)
 	understand the window manager delete protocol.  This way they can
 	be closed via the window manager as well as the close button.
  	This will hopefull reduce confusion to X newbies who have their
 	window manager kill Freeciv's X connection and wonder why the
 	client dies.
	
Wed Mar 24 10:31:15 1999  Trent Piepho <xyzzy@u.washington.edu>

	* data/Freeciv, client/Freeciv.h, client/civclient.c,
 	client/mapctrl.c, client/mapctrl.h, client/mapview.c,
 	client/xmain.c, data/helpdata.txt: Added ability to display grid
 	lines in the map.  Turned on/off with control-G.  Based on patch
 	from Rizos Sakellariou <rizos@cs.rice.edu>.
	
Tue Mar 23 13:11:21 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* AUTHORS: Revised AUTHORS file.  Adjusted some orderings, and
 	give more information on previous contributions.
	
Tue Mar 23 12:59:53 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* README: Mention "civclient -tiles classic".
	
Tue Mar 23 12:44:05 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* AUTHORS: Added more names to the Bug Reports section; corrected
 	mwh's email address again.
	
Tue Mar 23 11:34:51 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* README: Adjusted the note on '--meta' again, to explain more why
 	one might use it.
	
Tue Mar 23 11:24:09 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* configure, configure.in, common/shared.h: set IS_BETA_VERSION to 0.
	
Tue Mar 23 10:50:03 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/unitfunc.c: Minor change to previous fix to refresh home
 	city of removed unit: if can't find home city, still remove the
 	unit!
	
Mon Mar 22 10:08:03 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* client/Freeciv.h: New file Freeciv.h generated by the new
 	Freeciv ressource file.  In the output of cvs diff -u, i see no
 	change to aclocal.m4
	
Mon Mar 22 10:00:13 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* data/Freeciv: This patch adds constraint resources for the
 	Change City Production dialog.  It also removes a couple of
 	duplicated lines from my previous patch.  Written by Jeff Mallatt
 	<jjm@codewell.com>.
	
Mon Mar 22 09:53:20 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* server/unitfunc.c: Losing a unit now update the home city
 	dialog.  Patch written by Andrew Donkin <ard@scms.waikato.ac.nz>
 	with a test suggested by --dwp.
	
Sat Mar 20 12:26:20 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c: Improved the help text for the "generator"
 	server option, so the text better matches what actually happens.
	
Sat Mar 20 11:58:36 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/earth-160x90.sav, data/earth-80x50.sav, data/europe.sav:
 	Commented out game.randseed in scenarios, since it is not used
 	(and thus gave a warning when loading the scenario).
	
Sat Mar 20 11:53:36 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/mapgen.c: Fixed bug in flood_it(), where continents were
 	not calculated for scenarios (generator=0), or for for reload
 	games with generator other than 1.  Could have caused problems for
 	continent-based wonders (non-default rulesets only), and for the
 	AI (invasions etc).
	
Sat Mar 20 07:09:43 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Freeciv.h, data/Freeciv: This patch adds some constraint
 	resource definitions so that the Find City and Goto City dialogs
 	resize a little nicer (IMO).  It also adds a comment for the
 	section of resources for the Notify dialogs.  Patch submitted by
 	Jeff Mallatt <jjm@codewell.com>.
	
Sat Mar 20 06:53:05 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* HOWTOPLAY, README, README.AI: Some minor doc updates:
	
	HOWTOPLAY: Pointer to web page on tutorials instead of just
 	12-steps.  Adjusted section about the generator option, though its
 	a bit vague since I don't properly understand the options.
	
	README: Adjusted sample output of "explain xsize" to match code.
  	Modified the note about '--nometa' to now explain '--meta'.
  	Direct people to the web page of the new manual.  Ask
 	bug-submitters to say which Xaw variant they're using.
	
	README.AI: The "easy" skill level is no longer new; the AI now
 	does use diplomats and spies for defense.
	
Sat Mar 20 04:52:38 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/packets.c: Added #include <sys/types.h>, needed on OS/2.
  	Submitted by Alexander Mai <st002279@hrzpub.tu-darmstadt.de>.
	
Sat Mar 20 04:18:12 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Freeciv.h: Update client/Freeciv.h for previous change to
 	data/Freeciv.
	
Thu Mar 18 16:28:55 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* ai/advmilitary.c: A boat is no more considered as a diplomat
 	threat.  Limit the radius to build diplomats.
	
Thu Mar 18 14:26:25 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* data/Freeciv, server/civserver.c: Change the date of release
 	from second week of march to third week.
	
Thu Mar 18 14:14:57 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* client/citydlg.c, client/spaceshipdlg.c: Fix a potential with 2
 	variables having the same name in the 2 files.
	
Thu Mar 18 11:15:00 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/space.xpm: New spaceship graphics by Alexandre
 	Beraud <a_beraud@lemel.fr>, indexed to the colour palette of the
 	default tileset.
	
Thu Mar 18 11:10:38 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/flags.xpm, data/default/roads.xpm,
 	data/default/tiles.xpm, data/default/units.xpm: Re-indexed the
 	colours of the default (Engels) tiles, based on the original xcf
 	files and a new optimised palette.
	
Thu Mar 18 10:43:58 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/diplhand.c, server/maphand.c, server/maphand.h,
 	server/plrhand.c, server/unitfunc.c, server/unithand.c: New
 	function upgrade_city_rails() in maphand.c, to upgrade all cities
 	squares to railroads when a player first gets Railroad advance.
  	Used this function to replaced several sections of duplicated code
 	for when player gets Railroad by various means (research, hut,
 	treaty, diplo/spy stealing).  Also, for the case of a diplomatic
 	treaty, the message about new railroads previously went to the
 	wrong player.  Added calls to upgrade_city_rails() for cases where
 	the Railroad upgrade was previously omitted: when gaining Railroad
 	from the Great Library, or from conquering or inciting a city.
  	(Railroad from Great Library case fixes bug reported by Patrick
 	Smith <patsmith@pobox.com>.)
	
Thu Mar 18 02:19:56 1999  Trent Piepho <xyzzy@u.washington.edu>

	* client/graphics.c: Give the unit pictures in the help dialog a
 	background color based on unit type, rather than just black.
  	Based on a patch by Jeff Mallatt <jjm@codewell.com>
	
Mon Mar 15 12:25:44 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/unit.c: Engineers should not be permitted to start
 	transform when they have no moves left.  Bug and fix reported by
 	Rizos Sakellariou.
	
Mon Mar 15 12:11:30 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/citytools.c: Set skill level correctly for AI player
 	created by civil war.  Fixes bug reported by Frank Schaefer
 	<fransch@netscape.net>.
	
Mon Mar 15 11:48:24 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/mapview.c, client/ratesdlg.c: In the main window, the big
 	map's scroll bars didn't work, in that both left- and right-
 	clicks scrolled in the same direction.  The same behavior was
 	observed in the Rates dialog.  Now they can scroll in both
 	directions.  Patch submitted by Jeff Mallatt.
	
Mon Mar 15 11:46:24 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/game.c: The function civ_score i
	n common/game.c seems to have not been counting
	Elvii correctly.  Now it accrues them, just like all others.
	Patch submitted by Jeff Mallatt.
	
Mon Mar 15 11:44:27 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/helpdlg.c: In the Help dialog, for those items without a
 	tree, resizing the window didn't affect the large text area.  Now
 	it does.  For those items with a tree, the tree was arbitrarily
 	sized, which led to funny clipping.  Now it's sized to fit.  Patch
 	submitted by Jeff Mallatt.
	
Mon Mar 15 11:42:16 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Freeciv.h, client/repodlgs.c, data/Freeciv: In the Active
 	Units report dialog, the "Upgrade" button is now disabled if the
 	selected unit type cannot be upgraded.  Also added a column title
 	to the "Upgradable" column.  Patch submitted by Jeff Mallatt
 	<jjm@codewell.com>.
	
Mon Mar 15 02:34:38 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/player.c, common/player.h, data/helpdata.txt,
 	server/citytools.c, server/citytools.h, server/unithand.c: Add a
 	random element to whether civil war occurs when a player's capital
 	is captured.  Random chance depends on government type, and on the
 	numbers of cities celebrating and in revolt.  Patch submitted by
 	Kris Bubendorfer.
	
Sun Mar 14 22:15:16 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* common/city.c: Correct a bug i introduce one or 2 hours ago.
	
Sun Mar 14 20:05:00 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* stamp-h.in, common/city.c: Allow to build HOOVER_DAM and
 	HYDRO_PLANT on a MOUNTAIN or river tiles as said in the helpfile.
  	Diff in could_build_improvement Bug reported by Patrick Smith
 	<patsmith@pobox.com>
	
Sun Mar 14 01:24:29 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* README: Little changes to README
	
Sun Mar 14 01:06:18 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c: Adjusted slightly initial server message,
 	and made -v output concise.
	
Sun Mar 14 01:02:00 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* AUTHORS: in These people helped us previous to the 1.8 series:
 	add Daniel Gudlat <gudlat@informatik.hu-berlin.de> (Earth
 	scenarios) Kris Bubendorfer <Kris.Bubendorfer@MCS.VUW.AC.NZ>
 	(diplomats) Trent Piepho <xyzzy@u.washington.edu> (Core)
	
Sun Mar 14 00:48:40 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c, server/meta.c: The civserver --help still
 	said --nometa; fixed.  Commented out printf's suggesting use of
 	--nometa when can't connect to metaserver.
	
Sun Mar 14 00:17:36 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* acconfig.h, config.h.in, configure, configure.in,
 	common/shared.h, server/civserver.c: Change the message the server
 	displayed when launched.  Give the http address of freeciv.  Idea
 	suggested by reinier Post <rp@win.tue.nl>
	
Sun Mar 14 00:01:44 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/citydlg.c, client/citydlg.h, client/civclient.c: New
 	function popdown_all_city_dialogs(), called when client loses
 	connection.  Fixes bug reported by Brent Nelson
 	<nelson@realcase.com>.
	
Sat Mar 13 23:09:12 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* server/civserver.c: Change the option -n to -m.  Change the text
 	in the help message from "Don't send" to "Send" The default now is
 	not to send info to the metaserver.
	
Sat Mar 13 22:31:42 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* AUTHORS: Add Matt Busigin in the bug report section.
	
Sat Mar 13 12:17:17 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/unit.c: You can put two settlers on a tile then set one
 	mining and the other irrigating.  Both processes run to
 	completion, so whichever finishes last has the final effect.  This
 	patch prevents one order when another is being carried out, but it
 	gives no explanation to the user.  Patch submitted by Andrew
 	Donkin <ard@scms.waikato.ac.nz>.
	
Sat Mar 13 11:58:34 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/gamehand.c, server/plrhand.c: Moved update_research() in
 	player_load() to later in game_load(), so happens after rulesets
 	are loaded.
	
Sat Mar 13 11:42:10 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/plrhand.c, server/unitfunc.c, server/unithand.c: Removed
 	an unnecessary call to city_incite_cost() in
 	plrhand.c:player_load() (which was problematic because rulesets
 	are not set up at that stage).  Adjusted handle_incite_inq() and
 	diplomat_incite() so that the 1/2 factor for inciting a city you
 	originally built will be correct, even if several players try to
 	incite the same city at about the same time.  Removed some
 	obsolete (#if 0) code in diplomat_incite().
	
Sat Mar 13 11:32:11 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/unithand.c: Put "city is too big to add settlers" message
 	before "city cannot add: needs Sewer System" message.  Bug
 	reported by Patrick Smith <patsmith@pobox.com>.
	
Sat Mar 13 06:07:52 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Freeciv.h, client/helpdlg.h, client/menu.c, data/Freeciv,
 	data/helpdata.txt: Added a "Space Race" item to the Help menu, and
 	adjusted the "Space Race" help text, mentioning the spacerace
 	server option.  Clarified for the help on each space part to say
 	that the Apollo Program wonder must be built first.  Standardised
 	spelling to "spaceship" (not "space-ship" or "space ship").
	
Sat Mar 13 05:44:23 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/plrhand.c, server/unitfunc.c: Removed calls to
 	unit_bribe_cost in plrhand.c:player_load() and
 	unitfunc.c:create_unit_full().  They were unnecessary, and the
 	call in player_load() could cause segfault because rulesets are
 	not set up at that stage.  (The bribe cost gets set as required in
 	unit_hand.c:handle_incite_inq().)  Fixes bug reported by Falk
 	Hueffner.
	
Sat Mar 13 05:23:31 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/packhand.c: Fixed attribution in a comment.
	
Sat Mar 13 05:11:08 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/packhand.c: Adjust order in which client chooses to place
 	spaceship modules.  Now "nice" governments (Republic, Democracy)
 	build support/solar before habitation so the success rate stays
 	high.
	
Sat Mar 13 05:10:20 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/spaceshipdlg.c: Made order of parts in space.xpm more
 	explicit in the code.
	
Sat Mar 13 05:09:37 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* NEWS: Spelling/grammar fixes; a few more/less newsworthy items;
 	mentioned new manual and civworld; removed some obsolete known
 	bugs; some new stuff for "Things to do".
	
Sat Mar 13 05:08:48 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ChangeLog: Removed a duplicated (and misplaced) log message.
	
Sun Mar  7 20:06:18 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* AUTHORS: Change the address of Martin Willemoes Hansen
	
Sun Mar  7 10:35:59 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/mapctrl.c, client/menu.c, client/packhand.c,
 	common/unit.c, common/unit.h, server/unithand.c: Improved "Build
 	City" menu item and related issues.
	
	Patches submitted by Jeff Mallatt <jjm@codewell.com>:
	
	When a Settler/Engineer is sitting on a City, pressing 'b' will
 	order it to add itself to that City (if the City is small enough).
  	However, the Orders menu Build City item remains disabled.  This
 	patch enables the menu item in this case, and also renames it to
 	"Add to City" when appropriate.  The menu item is disabled if the
 	city is already too big.  This patch also changes handle_city_info
 	to call update_menus after the City size has increased due to a
 	Settler being added.
	
	Additional changes by me:
	
	New function can_unit_add_to_city(), which also takes into account
 	aqueduct_size and sewer_size (for rulesets generality).  In
 	request_unit_build_city(), let the server decide the message if
 	the build order in inappropriate (to avoid unnecessary code
 	duplication).  In handle_unit_build_city(), did some
 	re-organisation, and adjusted some of the messages for when the
 	build/add-to order is inapproriate.
	
Sun Mar  7 10:33:00 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* AUTHORS: Authors updates and minor fixes.
	
Sat Mar  6 19:46:51 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* server/sernet.c: Correct bug when timeout was set before game
 	begin.  Diff in fct sniff_packets.  Bug reported by Rizos
 	Sakellariou <rizos@cs.rice.edu>
	
Sat Mar  6 00:36:11 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c, server/civserver.c: Minor adjustments to
 	--help messages.
	
Sat Mar  6 00:28:22 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/menu.c, server/civserver.c: Changed menu items "Server
 	options 1" and "Server options 2" to more descriptive "Server opt
 	initial" and "Server opt ongoing".  Also changed "Msg Options" to
 	"Message Options" now that other items are longer.  Changed old
 	REPORT_SERVER_OPTIONS clause in civserver.c
 	handle_report_request() as capabilities should mean this never
 	happens anyway.
	
Sat Mar  6 00:05:15 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/diplodlg.c: Fix problem on Solaris with scrollbar for
 	treaty clauses.  Patch submitted by Rizos Sakellariou.
	
Fri Mar  5 23:58:19 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/player.c: Changed Anarchy max_rate to 100%, to avoid
 	unnecessarily limiting rates during government change.  (Rates in
 	anarchy being irrelevant.)
	
Fri Mar  5 23:56:45 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/plrhand.c, server/plrhand.h, server/stdinhand.c: The
 	following patch fixes a long-standing problem w.r.t. the rates,
 	namely: if one switches from a goverment of higher rate to another
 	of lower rate, rates are not checked and one is allowed, for
 	example, to have 100% science with a Republic (if switched to this
 	from Democracy). The side-effect of this is that the
 	taxmen/scientists/elvis icons may be blocked and the player will
 	have to change rates through the menu option.
	
	The patch assigns whatever amount exceeds maxrate to the 2nd
 	highest rate and sends an appropriate message.  AI's are still
 	allowed to set rates as they wish.
	
	Patch submitted by Rizos Sakellariou <rizos@cs.rice.edu>.
	
Fri Mar  5 23:43:39 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/packets.c, common/packets.h, common/shared.h,
 	server/sernet.c: Changed protocol the network byte order, because
 	its "the right thing to do".  Byte order patch by Trent Piepho.
  	Also put in code to handle the first packet received from a
 	connection (on the server) specially, to detect and deal with
 	connection from a client with the old byte order.
	(Only enough so that we can reject the client cleanly via
 	capabilities, and so the old client gets a message it can deal
 	with.)  New clients connecting to old servers will still cause
 	problems (connection at socket level, but no packet
 	communication).  Incremented the capability string to "+1.8pre2".
  	Minor code cleanups in sernet.c
	
Fri Mar  5 23:29:58 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/mapgen.c: There was an "#include <string.h>" inside a
 	function definition (createisland()).  Moved include to the top of
 	the file where it should have been.
	
Wed Mar  3 20:51:53 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* acconfig.h, config.h.in, configure, configure.in,
 	client/civclient.c, common/shared.h, server/civserver.c: Add
 	message Report bugs to freeciv-dev@freeciv.org when civserver or
 	civclient is launched with --help option.
	
Wed Mar  3 14:12:22 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* client/citydlg.c, client/cityrep.c, client/clinet.c,
 	client/dialogs.c, client/diplodlg.c, client/helpdlg.c,
 	client/mapctrl.c, client/mapview.c, client/menu.c,
 	client/ratesdlg.c, client/repodlgs.c: Size of pointer is 8 on
 	alpha.  This patch changes cast to pointer from (int) to (size_t).
  	Patch written by christopher C Chimelis
 	<chris@classnet.med.miami.edu> with 2 (int) to (size_t)
 	modifications added by me.
	
Wed Mar  3 11:10:16 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/classic/flags.xpm, data/classic/roads.xpm,
 	data/classic/tiles.xpm, data/classic/units.xpm: Substituted the
 	"brunus" tiles (by Bruno Gilleta <gilleta@esil.univ-mrs.fr>) for
 	the "classic" tiles, as the brunus tiles are very similar to the
 	classic tiles, but improved (with 3-d effects).  I re-indexed the
 	colours of the brunus xpm's, to a common pallete of 64 colours for
 	all xpms.  I also re-indexed the flags.xpm with this palette.
	(The "old_classic" tiles will be made available at the ftp site
 	for any die-hard fans who don't like the new ones.)
	
Wed Mar  3 10:17:40 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/game.c: Changed game_next_year() to adjust year
 	progression, for better game balance (and better match to Civ2),
 	and to ensure that turns = years for spaceships.  Based on patch
 	submitted by Peter Schaefer <schaefer@malaga.math.uni-augsburg.de>.
	
Wed Mar  3 10:02:36 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/unitfunc.c: I changed my mind a bit about helicopters
 	which get hp=0.  Now test all unit types, not just heli's, in case
 	any other units somehow get hp=0, and say "ran out of hit points"
 	instead of "out of fuel", since fuel is a definite game concept,
 	which _doesn't_ apply to helicopters.
	
Wed Mar  3 09:54:00 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/menu.c, common/packets.h, server/civserver.c,
 	server/stdinhand.c: Removed obsolete "Server options" menu item
 	(which was only kept before for backward compatiblity); use the
 	"Server options 1" or "Server options 2" menu items instead.
	
Tue Mar  2 22:33:37 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* AUTHORS, NEWS, server/mapgen.c: Patch written by Peter Schaefer
 	<schaefer@malaga.math.uni-augsburg.de> so that the new mapgen
 	behaves more like gen1.
	
Tue Mar  2 21:58:54 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* ChangeLog: New Changelog up to date with pre-1.8.0.  Thx Mitch !
	
Tue Mar  2 21:55:30 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* server/unitfunc.c: Helicopter with 0 or less hp after hit point
 	calculation are removed of the game with a message saying that the
 	helicopter has run out of fuel.  Patch written by David Pfitzner
 	<dwp@mso.anu.edu.au>

Tue Mar  2 10:18:52 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/cityrep.c: Cosmetic patch to prevent `+' signs appearing
 	in the city report when a city has no gold surplus.  Based on a
 	patch submitted by Andrew Donkin <ard@scms.waikato.ac.nz>.
	
Mon Mar  1 23:12:06 1999  Lalo Martins <lalo@debian.org>:

	* debian/README.debian, debian/changelog, debian/control,
 	debian/dirs, debian/docs, debian/freeciv-xaw3d.dirs,
 	debian/freeciv-xaw3d.menu, debian/freeciv-xaw3d.postinst,
 	debian/freeciv-xaw3d.postrm, debian/postinst, debian/rules,
 	debian/watch: Finally updated the debian/ directory to cope with
 	the new build system (for the freeciv-xaw3d package)
	
Mon Mar  1 08:15:31 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/city.h, server/autoattack.c, server/cityhand.c,
 	server/plrhand.c: Default auto-attack options to all on, for new
 	cities.  That is, if you put a unit in auto-attack mode, it will
 	attack all types of enemy units (unless you change the city
 	options).  (Otherwise, a unit put in auto-attack mode did nothing,
 	unless you also remembered to change the city options.)
	
Mon Mar  1 07:57:58 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/game.c, common/map.h: Default game.spacerace to 1 (on).
	
Mon Mar  1 07:54:47 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in, client/Freeciv.h, data/Freeciv,
 	server/civserver.c: Removed third arg to AM_INIT_AUTOMAKE.
  	Slightly adjusted the beta notices.
	
Mon Mar  1 07:49:25 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/classic/flags.xpm, data/default/flags.xpm: Adjusted flags,
 	so that they match for the default and classic tilesets.  Also
 	tidied up a few, and added some bonus/future-use flags.
	
Sun Feb 28 21:26:15 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* config.h.in, configure, configure.in, client/Freeciv.h,
 	common/shared.h, data/Freeciv: Switch number version to 1.8.0.
	
Sun Feb 28 20:20:52 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* acconfig.h, config.h.in, configure, configure.in,
 	client/Freeciv.h, client/citydlg.c, client/clinet.c,
 	client/clinet.h, client/connectdlg.c, client/diplodlg.c,
 	client/mapctrl.c, client/menu.c, client/packhand.c,
 	common/packets.c, common/shared.h, data/Freeciv,
 	server/civserver.c, server/meta.h: This patch cleans up the
 	printing of beta version notices (which was used before the
 	release of 1.7) so that they are now controlled by a define
 	IS_BETA_VERSION, in configure.in (and also in shared.h, for
 	non-configure builds
	
	This patch replaces all the current capability tags by the single
 	tag "+1.8pre1".  The idea is that for 1.8.0 the capability string
 	will be "+1.8", and this patch is to test things properly before
 	release.
	
	I also changed researched and researchpoints into 32 bit ints, to
 	avoid possible over/under-flows.
	
	Patches written by David Pfitzner <dwp@mso.anu.edu.au>.
	
Sun Feb 28 18:34:11 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* client/clinet.c, client/dialogs.c, client/packhand.h: When two
 	race selection dialogs are generated, e.g. by disconnecting after
 	the first has appeared, and connecting again, then the second try
 	at nation selection will result in core dump.  Bug spotted by Lalo
 	Martins <lalo@webcom.com> I try to fix it by checking if a
 	races_dailog_shell exist when the connection to the server is
 	lost.  If it exists, it is closed. nb
	
Sun Feb 28 17:48:33 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* configure.in: Wipe out the option -pipe for gcc.  It wasn't
 	supported by gcc on cygwin Bug reported by Todd Goodman
 	<tsg1@earthlink.net>
	
	Additionnal files are due to prevously applied and removed
 	patches.
	
Sun Feb 28 01:50:50 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c: Adjusted help texts for spacerace server
 	option, so that it is no longer called experimental.
	
Sat Feb 27 18:58:21 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* data/default/tiles.xpm: This patch to data/default/tiles.xpm
 	moves the hitpoint bar from the top left of the tile to the bottom
 	center.	 (That is, so as to not obscure the flags.)
  	Patch cut and pasted by David Pfitzner <dwp@mso.anu.edu.au>
	
Sat Feb 27 18:54:23 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* client/Freeciv.h, client/citydlg.c, common/city.h,
 	common/shared.h, data/Freeciv, server/autoattack.c,
 	server/cityturn.c: Here is a modified version of Massimo's patch,
 	which uses a tri-state toggle.  Dwp also removed the NEW_WORKER
 	option which Massimo pointed out was not needed, and changed the
 	new option order so that this is still compatible with the
 	previous "autoattack1" and previous savefiles.
	
Sat Feb 27 07:36:24 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/map.c: Moved a comment about is_terrain_near_tile() to
 	correct place.
	
Sat Feb 27 07:33:41 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/autoattack.c, server/gotohand.c, server/gotohand.h:
 	Renamed calculate_cost() to calculate_move_cost(), and changed
 	treatment in this function for air/heli units, since warmap
 	doesn't take account of air units.  (Eg, before, auto-attacking
 	air/heli units didn't attack boats.)
	
Sat Feb 27 07:10:05 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/cityhand.c, server/cityhand.h, server/citytools.c,
 	server/diplhand.c, server/unitfunc.c, server/unithand.c: Fixed
 	several problems with the traderoutes of a city that changes
 	owner.  Fixed typo in remove_city(); new function
 	reestablish_city_trade_routes(); changes to transfer_city() and
 	handle_unit_enter_city().  Also put in some extra calls to
 	update_map_with_city_workers(), when city changes owner.  Based on
 	patches submitted by Rizos Sakellariou <rizos@cs.rice.edu>.
	
Sat Feb 27 01:31:11 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/roads.xpm: Adjusted palette to match units and
 	tiles.
	
Thu Feb 25 22:50:03 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* configure, configure.in: Add the flag -pipe for gcc options.
  	Patch suggested by Tony & <stuckey@jaka.ece.uiuc.edu>
	
Thu Feb 25 10:23:58 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* AUTHORS: Removed duplicate entry for Markus Linnala.
	
Wed Feb 24 19:59:03 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* ChangeLog: ChangeLog is uptodate till the 23th of february.
	
Wed Feb 24 09:32:57 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/mapctrl.c, client/mapctrl.h, client/menu.c,
 	common/unit.c, common/unit.h, data/helpdata.txt: Allow caravan
 	actions (help build wonder, or establish trade route) for caravan
 	(or freight) units inside cities, via orders menu and key
 	commands.  Re-use keys: "b"=(b)uild wonder, "r"=trade (r)oute.
	
Wed Feb 24 09:21:45 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Freeciv.h, client/inteldlg.c, common/player.c,
 	common/player.h, data/Freeciv, server/citytools.c,
 	server/citytools.h: Added information about Capital (city name) to
 	intelligence report.  Only shows name of capital if that city is
 	known by the client -- that is, within the known map.  Moved
 	find_capital() from server/citytools to common/player.
	
Tue Feb 23 21:47:59 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* client/mapctrl.c, server/unithand.c: The following patch handles
 	in a more user-friendly way the case where a caravan cannot
 	establish a trade route with an enemy city.  At the moment, if
 	this is not possible, the message appearing is the meaningless
 	"You can't attack there". This no longer appears and a more
 	elaborate message is displayed. Also, the modification of the
 	server function allows to display an appropriate message in cases
 	where the client `gives ok' but a traderoute cannot finally be
 	established.  Patch written by Rizos Sakellariou
 	<rizos@cs.rice.edu>
	
Tue Feb 23 17:07:34 1999  Trent Piepho <xyzzy@u.washington.edu>

	* data/helpdata.txt: Updated help to reflect ability to adjusting
 	workers from the main map.
	
Mon Feb 22 02:30:06 1999  Trent Piepho <xyzzy@u.washington.edu>

	* client/Freeciv.h, client/mapctrl.c, client/mapctrl.h,
 	client/mapview.c, client/mapview.h, client/packhand.c,
 	client/xmain.c, data/Freeciv: Added ability to adjust the location
 	of city workers from the main map.  Use the 't' key to just
 	display where the workers are, and use Shift-Button1 to adjust the
 	workers just as you would in the city dialog.  The effects of your
 	change are displayed on the main map when the city info update is
 	received from the server.
	
Sun Feb 21 10:31:03 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/classic/Makefile.am, data/classic/Makefile.in,
 	data/default/Makefile.am, data/default/Makefile.in: Added
 	flags.xpm files to dist.
	
Sun Feb 21 02:55:11 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/helpdata.txt, server/unitfunc.c: Fixed up units gaining hit
 	points, and movement, helicopter, and United Nations hit points
 	effects.  Based on a patch by Daniel Burrows
 	<Daniel_Burrows@brown.edu>.  Tidied up the help pages to reflect
 	code.  Now units only regain hitpoints if they have not moved,
 	regardless of cities, Barracks etc (to match Civ2).  The United
 	Nations and helicopter effects apply whether or not a unit has
 	moved.
	
Sun Feb 21 01:35:30 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/tiles.xpm: Fixed an off-by-1-pixel mistake I
 	introduced into default/tiles.xpm
	
Sun Feb 21 01:00:58 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/classic/flags.xpm, data/default/flags.xpm: Added the extra
 	flags.xpm files.
	
Sun Feb 21 01:00:20 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/graphics.c, client/mapview.h, data/classic/tiles.xpm,
 	data/default/tiles.xpm: Moved race flags to separate flags.xpm
	
Sun Feb 21 00:49:54 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Freeciv.h, client/cityrep.c, client/civclient.c,
 	client/messagewin.c, client/optiondlg.c, data/Freeciv: Added
 	client option "Center when Popup city".  Affects whether the map
 	is also centered when a city dialog is popped up from the Popup
 	buttons for the City Report and Messages Window.  This makes the
 	centering behaviour of these two buttons consistent.
	
Sun Feb 21 00:43:15 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in: Adjusted where X_PRE_LIBS (usually -lSM
 	-lICE) get placed in the client link line.  Now they come just to
 	the left of "-lXext -lX11".  Hopefully this fixes problems with
 	IRIX (reported by Dee Jay Randall <randal@cs.uregina.ca>) and
 	Cygwin (reported by Todd Goodman <tsg1@earthlink.net>).
	
Sat Feb 20 05:13:20 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/helpdlg.c, data/helpdata.txt,
 	data/default/buildings.ruleset: Fixed tech_required for Barracks
 	III to match Civ2 (now Mobile Warfare instead of Combustion);
 	also obsolete_by for Barracks II.  Based on a patch by Greg
 	Wooledge, but I made the help about obsolescence dynamic so
 	that its correct for Civ1 too.
	
Sat Feb 20 05:09:38 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/civ1/buildings.ruleset: Fixed tech_required for Space
 	Module for Civ1	(Robotics, not Superconductors).
	
Sat Feb 20 05:08:37 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/packhand.c: Fixed initial display of "0 People" when
 	client re-connects to a reloaded game.  Fixed by putting
 	update_info_label() in handle_game_state().
	
Fri Feb 19 22:24:53 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* server/mapgen.c: little change asked for mapgen4 by Peter
 	Schaefer <schaefer@malaga.math.uni-augsburg.de>
	
Fri Feb 19 21:21:19 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* server/unitfunc.c: Units finishing their turn in a barracks
 	recover hitpoints regarless of movement.  Patch suggested by David
 	Pfitzner <dwp@mso.anu.edu.au>
	
Fri Feb 19 20:45:55 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* server/unitfunc.c:
 	
	Substitute  
	pcity=city_list_find_id(&pplayer->cities, 
	                        game.global_wonders[B_UNITED]);
 	if(pcity && !wonder_obsolete(B_UNITED))
	by 
	if (player_owns_active_wonder(pplayer, B_UNITED))

	as suggested by David Pfitzner <dwp@mso.anu.edu.au>

        substitute
 	if(!punit && (is_heli_unit(punit))) by
	(!map_get_city(punit->x,punit->y) && (is_heli_unit(punit)))
	and remove the variable pcity.
	
Fri Feb 19 11:54:08 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Freeciv.h, client/mapview.c, client/mapview.h,
 	client/xmain.c, data/Freeciv: Fixed problem with layout of main
 	window with 45x45 tiles (gap between left side information and map
 	window), due to larger pixmaps for the display of units below the
 	current unit.  Made the number of such units displayed depend on
 	the tile size.
	
Thu Feb 18 23:00:16 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* common/city.c: In the list of American city names, Tucson was
 	incorrectly rendered as "Tuscon".  Mystake spotted by "Andrew
 	E. Schulman" <andrex@alw.nih.gov>
	
Thu Feb 18 03:36:16 1999  Trent Piepho <xyzzy@u.washington.edu>

	* client/cityrep.c: Change city report so it uses a list of city
 	pointers instead of city IDs.  Got rid of some arrays that aren't
 	necessary anymore in the creation of the city report.
	
Wed Feb 17 21:21:34 1999  Trent Piepho <xyzzy@u.washington.edu>

	* Imakefile, Makefile.noimake, client/Makefile.am,
 	client/Makefile.in, client/citydlg.c, client/cityrep.c,
 	client/cityrep.h, client/climisc.c, client/menu.c,
 	client/optiondlg.c, client/packhand.c, client/repodlgs.c,
 	client/repodlgs.h: Split the repodlgs.c file into two files.  The
 	second files is called cityrep.c and has the city report code in
 	it.  Adjusted includes in other files to refer to cityrep.h if
 	necessary.  Added cityrep.c and spacerace stuff to various
 	makefiles.
	
Tue Feb 16 12:13:28 1999  Trent Piepho <xyzzy@u.washington.edu>

	* server/mapgen.c, server/plrhand.c: Cleaned up some egcs warnings
 	about ambiguous braces.
	
Tue Feb 16 11:44:08 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Freeciv.h, client/spaceshipdlg.c, common/packets.c,
 	data/Freeciv, server/spacerace.c: Cosmetic fixes for spaceships
 	launched/arriving in BC years; bug reported by Massimo
 	Campostrini.  There could still be some quirks.
	
Tue Feb 16 10:57:17 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Freeciv.h, client/civclient.c, client/packhand.c,
 	client/packhand.h, client/spaceshipdlg.c, common/Makefile.am,
 	common/Makefile.in, common/city.c, common/game.c, common/game.h,
 	common/packets.c, common/packets.h, common/player.c,
 	common/player.h, common/shared.h, common/spaceship.c,
 	common/spaceship.h, data/Freeciv, data/helpdata.txt,
 	server/Makefile.am, server/Makefile.in, server/cityturn.c,
 	server/civserver.c, server/gamehand.c, server/plrhand.c,
 	server/plrhand.h, server/spacerace.c, server/spacerace.h,
 	server/unithand.c: Improved spacerace, based partly on a patch by
 	Falk Hueffner <falk.hueffner@student.uni-tuebingen.de>.
  	New/changed features: - Travel time, success chance etc are
 	implemented, based on reverse-engineered Civ1; you can now only
 	launch a spaceship if it is "viable".  - Only parts of the
 	spacehip connnected to structurals count.  - The protocol is such
 	that the player could choose which type of module to build (like
 	in Civ1), but currently the client makes this choice.  That is,
 	fixing this further should require changes to the client only.  -
 	Better handling of spaceships arriving in the same turn.  - An
 	arrived spaceship adds to your final score.  But I don't know what
 	the score bonus should be; for now, I chose an arbitrary bonus.  -
 	Capturing a player's capital stops that player's spaceship.  -
 	There is some help about spaceships and spaceship parts.  The
 	capability string now has "+spacerace2".  There are still problems
 	if you launch in BC years.
	
Tue Feb 16 10:44:10 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/shared.c: Reverted to cvs revision 1.8, since 1.9 was
 	checked in by mistake, and the 1.10 fix caused segfault if
 	FREECIV_DATADIR is set.
	
Tue Feb 16 00:28:02 1999  Trent Piepho <xyzzy@u.washington.edu>

	* common/shared.c: Clean up a gcc warning about an assignment to a
 	const string.
	
Mon Feb 15 22:55:57 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* ChangeLog: Last ChangeLog entry is now on Sat Feb 13 16:36:18
 	1999 by David Pfitzner <dwp@mso.anu.edu.au>
	
Mon Feb 15 11:10:07 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* common/shared.c, server/unitfunc.c: fixing problem with city
 	workers when city changes owner...  patch written by Rizos
 	Sakellariou <rizos@cs.rice.edu>
	
Sun Feb 14 00:36:17 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/roads.xpm: New roads and rails for the Engels 45x45
 	tiles, including diagonals.
	
Sun Feb 14 00:19:33 1999  Trent Piepho <xyzzy@u.washington.edu>

	* data/default/tiles.xpm, data/default/units.xpm: Changed the
 	tiles from the crappy 30x30 reduction to the original 45x45.
	
Sat Feb 13 23:38:13 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c: Default flags_are_transparent=1, now that
 	the default tiles are the Engels ones which look best transparent.
	
Sat Feb 13 23:28:35 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/Makefile.am, data/default/Makefile.in: Also refix
 	pkgdatadir in data/default/Makefile.am, and undo accidental change
 	previously uploaded for data/default/Makefile.in.
	
Sat Feb 13 23:23:23 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/classic/Makefile.am, data/default/Makefile.in: Changed back
 	previous incorrect fix.  When we install the "classic" tiles, they
 	should go in, eg, /usr/local/share/freeciv/classic.
	
Sat Feb 13 20:08:40 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* data/classic/.cvsignore, data/classic/Makefile.am,
 	data/classic/Makefile.in, data/classic/roads.xpm,
 	data/classic/tiles.xpm, data/classic/units.xpm: Added the
 	directory classic for the classic tilesets.  Change needed for the
 	2 tilesets version 1.8.0 .
	
Sat Feb 13 19:59:11 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* configure, configure.in, data/Makefile.am, data/Makefile.in,
 	data/default/Makefile.am, data/default/tiles.xpm,
 	data/default/units.xpm: Change written by David Pfitzner
 	<dwp@mso.anu.edu.au> to allow the use of a new dir data/classic.
  	The ralph engels tiles 30 are now the default ones.  The classic
 	ones have been put into classic.  I did a little change in
 	data/default/Makefile.am and data/classic/Makefile.am.  change
 	$(datadir)/@PACKAGE@/classic to $(datadir)/@PACKAGE@/data/classic
 	and $(datadir)/@PACKAGE@/default to
 	$(datadir)/@PACKAGE@/data/default
	
	I forgot to add the dir data/classic.  I will do this in my next
 	commit.
	
Sat Feb 13 18:25:35 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* server/unitfunc.c: lign 851 substitute
 	(punit->type==U_HELICOPTER) by (is_heli_unit(punit)) Sequel of the
 	patch submitted by Daniel Burrows <Daniel_Burrows@brown.edu>
 	concerning hit point regeneration.
	
Sat Feb 13 03:59:07 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/climisc.c, client/climisc.h: Include repodlgs.h for proto
 	of city_report_dialog_update(), and declare "stuct city;" in
 	climisc.h to quiet gcc -Wall warning.
	
Sat Feb 13 00:41:15 1999  Trent Piepho <xyzzy@u.washington.edu>

	* client/climisc.c, client/climisc.h, client/packhand.c: Changed
 	client_remove_city() to use a city pointer instead of a city ID.
  	Also have client_remove_city() update the city report.
	
Fri Feb 12 21:36:20 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* common/unit.h, data/helpdata.txt, server/unitfunc.c,
 	server/unithand.c, server/unittools.c: Hit point regeneration.
  	Now moving units don't regenerate their hitpoints.  patch written
 	by Daniel Burrows <Daniel_Burrows@brown.edu>
	
Fri Feb 12 21:21:18 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* common/map.c, common/map.h, server/gamehand.c, server/mapgen.c,
 	server/mapgen.h, server/stdinhand.c: mapgen4 by Peter Schaefer
 	<schaefer@malaga.math.uni-augsburg.de> "I've included saveguards
 	against a previously possible overflow of the islands array.  I
 	took care to include/not cancel the change made to mapgen.c I
 	saw.(szenario==1) description text is included in server."
	
Fri Feb 12 19:00:06 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* data/helpdata.txt: Terrain transformation help Patch written by
 	Greg Wooledge
 	<ic5035%tss1crs.amgreetings.com@rose.amgreetings.com>
	
Fri Feb 12 18:39:41 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* client/Freeciv.h, client/mapctrl.c, client/mapctrl.h,
 	client/mapview.c, client/mapview.h, client/menu.c, client/xmain.c,
 	common/map.c, common/map.h, common/unit.c, common/unit.h,
 	data/Freeciv, data/helpdata.txt, data/default/tiles.xpm,
 	data/default/units.ruleset, server/unitfunc.c: Terrain
 	transformation patch.  Now engineers and settlers can achieve
 	major transformation of terrain.  Changing tundra to grassland is
 	feasible.  ( It will take a huge time. ) Patch submitted by Greg
 	Wooledge <ic5035%tss1crs.amgreetings.com@rose.amgreetings.com>
 	with 2 minors changes

	- in menu.c change declaration of irrtext,mintext,roadtext
 	  and transtext to avoid segfault.  
	- add a line in	helpdata.txt concerning the terrain transform
 	  feature.
	
	The use of capability has to be implemented.
	
Thu Feb 11 07:43:43 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/helpdata.txt: Adjusted present administrators part.
	
Thu Feb 11 07:39:59 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/chatline.c: log_output_window() had a FILE ptr called
 	flog (now freelog); changed to avoid confusion.
	
Wed Feb 10 22:42:48 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* server/civserver.c, server/gamehand.c, server/mapgen.c,
 	server/maphand.c, server/stdinhand.c: - patch to gamehand.c: This
 	deals with a problem that seem to persist since before the stable
 	1.7.2 distribution: If you saved the server settings with any
 	1.7.2+ server, you couldn't load them again, as the unirandom
 	section was missing while the savefile options said they should be
 	there. (Did really no-one find this before me?!)  - patch to
 	server/stdinhand.c, gamehand.c, maphand.c: this allows now to save
 	scenarios after loading them into the server and just changing
 	some settings. now, the correct amount of information is saved for
 	any of: server settings, all 3 types of scenario's and normal
 	savegame.  This means that for the first time, type 1 scenarios
 	really work...  Also did some clean up in game_load() and deleted
 	an (incorrect) comment by dwp. (The thing may still need an
 	overhaul, but the rest was wrong...)  Patch written by Daniel
 	Gudlat <gudlat@informatik.hu-berlin.de>
	
Wed Feb 10 22:24:40 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* data/earth-160x90.sav, data/earth-80x50.sav, data/europe.sav:
 	scenario enhancement and modifications needed by CivWorld Patch
 	written by Daniel Gudlat <gudlat@informatik.hu-berlin.de>
	
Wed Feb 10 21:49:28 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* server/autoattack.c, server/autoattack.h: add the file
 	autoattach.c and autoattach.h needed by the autoattach patch
	
Wed Feb 10 21:45:09 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* Imakefile, Makefile.noimake, client/Freeciv.h, client/citydlg.c,
 	client/civclient.c, client/clinet.c, client/clinet.h,
 	client/mapctrl.c, client/menu.c, client/packhand.c,
 	client/packhand.h, common/city.h, common/packets.c,
 	common/packets.h, common/shared.h, common/unit.c, common/unit.h,
 	data/Freeciv, data/helpdata.txt, server/Makefile.am,
 	server/Makefile.in, server/cityhand.c, server/cityhand.h,
 	server/civserver.c, server/gotohand.c, server/gotohand.h,
 	server/plrhand.c, server/settlers.c, server/unithand.c:
 	Autoattack-patch : unit can attach an approacing unit to defend a
 	town patch written by sfischme@nexus.lzk.tuwien.ac.at and David
 	Pfitzner <dwp@mso.anu.edu.au>
	
Wed Feb 10 21:04:54 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* client/dialogs.c, server/unitfunc.c: cannot sabotage wonders
 	patch by Greg Wooledge
 	<ic5035%tss1crs.amgreetings.com@rose.amgreetings.com>
	
Wed Feb 10 19:49:31 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* server/cityhand.c, server/cityhand.h, server/diplhand.c,
 	server/unithand.c: fixing problem with city workers when city
 	changes owner...  Patch by rizos@rice.edu
	
Wed Feb 10 19:23:18 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* ai/advdomestic.c: "In the games that I have watched the AI play,
 	they almost never build Marketplaces, Banks, or Stock Exchanges.
  	These are some of the most useful buildings in the game.  These
 	equations give a higher and more realistic valuation to the
 	buildings.  This causes the AI to build them somewhat more often,
 	but still only in cities with circa 20+ trade."  Comment and patch
 	by Tony Stuckey <stuckey@jaka.ece.uiuc.edu> in function
 	ai_eval_buildings(struct city *pcity)
	
Wed Feb 10 19:11:29 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* common/unit.c: show veteran status in Unit Commands popup Patch
 	submitted by Greg Wooledge
 	<ic5035%tss1crs.amgreetings.com@rose.amgreetings.com>
	
Wed Feb 10 18:27:00 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* ai/advmilitary.c, ai/aicity.c, ai/aihand.c, client/chatline.c,
 	client/civclient.c, client/climisc.c, client/clinet.c,
 	client/colors.c, client/graphics.c, client/helpdlg.c,
 	client/optiondlg.c, client/packhand.c, client/repodlgs.c,
 	client/xmain.c, common/city.c, common/game.c, common/log.c,
 	common/log.h, common/packets.c, common/unit.c, server/citytools.c,
 	server/cityturn.c, server/civserver.c, server/diplhand.c,
 	server/gamehand.c, server/gotohand.c, server/mapgen.c,
 	server/maphand.c, server/plrhand.c, server/registry.c,
 	server/ruleset.c, server/sernet.c, server/stdinhand.c,
 	server/unitfunc.c, server/unittools.c: remplace flog by freelog to
 	avoid linking problems with the standard mathematic library.
  	Patch suggested by Vasco Alexandre da Silva Costa
 	<vasc@camoes.rnl.ist.utl.pt> for an easiest integration of gtk in
 	cvs.
	
Tue Feb  9 22:44:20 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* server/unitfunc.c: remove punit->moves_left = 0 in
 	update_unit_activity change hinted by Greg Wooledge
 	<ic5035%tss1crs.amgreetings.com@rose.amgreetings.com>
	
Tue Feb  9 19:35:33 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* client/mapview.c, client/mapview.h: put tiles definition from
 	mapview.c to mapview.h change needed by Daniel Gudlat
 	<gudlat@informatik.hu-berlin.de>
	
Tue Feb  9 16:27:07 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* data/helpdata.txt: add help about teamwork now available for
 	settlers and engineers.  patch submitted by Greg Wooledge
 	<wooledge@kellnet.com> correct the name of the present
 	administrators.
	
Tue Feb  9 00:38:26 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* common/unit.c, server/unitfunc.c: Settlers and engineers can do
 	teamwork.  The activity of one unit is the sum of the activity all
 	of units doing the same activity on the same tile.  I added
 	punit->moves_left = 0 for the following activities :

		POLLUTION
		FORTRESS
		IRRIGATE
		ROAD
		RAILROAD
		MINING

	patch submitted by Greg Wooledge
 	<ic5035%tss1crs.amgreetings.com@rose.amgreetings.com>
	
Mon Feb  8 22:36:07 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* server/gotohand.c: 

Sat Feb  6 23:35:49 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c: In end_turn(), fixed possible sefault when
 	shuffled[i] is NULL due to a civil war caused by end-of-turn
 	goto-ing units.  Now process additional players in non-shuffled
 	order after pre-existing players.  Fixes bug reported by Rizos
 	Sakellariou <rizos@rice.edu>.
	
Thu Feb  4 15:29:31 1999  Trent Piepho <xyzzy@u.washington.edu>

	* client/climisc.c, client/packhand.c, server/cityhand.c,
 	server/cityhand.h, server/unitfunc.c, common/city.c,
 	common/city.h, common/game.c, common/game.h: Moved the citycache
 	stuff from server to common.  Modified find_city_by_id, and
 	related functions so they will work with or without the citycache.
  	Removed game_find_city_by() and refrences to it.
	
Thu Feb  4 02:11:14 1999  Trent Piepho <xyzzy@u.washington.edu>

	* server/unitfunc.c: Added a few braces to clean up some egcs
 	-Wall warnings.
	
Wed Feb  3 18:46:32 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* server/gotohand.c: in init_warmap simplify the initiazation of
 	warmap.
	
Tue Feb  2 21:52:56 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* client/mapctrl.c: Can activate any unit.  Patch submitted by
 	Massimo Campostrini <campo@mailbox.difi.unipi.it>
	
Tue Feb  2 21:35:04 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* common/unit.c: Settlers or engineers who want to build a new
 	town must have at least one move left.  Patch submitted by Massimo
 	Campostrini <campo@mailbox.difi.unipi.it>
	
Mon Feb  1 22:56:31 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* client/mapctrl.c: Disallow to build town with 0 moves left Patch
 	suggested by Massimo Campostrini <campo@mailbox.difi.unipi.it>
	
Sat Jan 30 16:43:08 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* server/civserver.c: In handle_request_join_game swap server and
 	client in sprintf.
	
Sat Jan 30 03:41:12 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* Makefile.am, Makefile.in, README.rulesets: Some documentation
 	for rulesets.
	
Sat Jan 30 03:39:29 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Freeciv.h, client/helpdlg.c, data/Freeciv,
 	data/helpdata.txt: Changes to help system for rulesets: show
 	improvement/wonder variants, and make some help text more dynamic
 	based on game.rtech etc.
	
Sat Jan 30 03:36:48 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advdomestic.c, ai/advmilitary.c, ai/aicity.c, ai/aiunit.c,
 	ai/aiunit.h: Changes to AI for rulesets: generalize unit roles.
	
Sat Jan 30 03:35:22 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c, client/packhand.c: Core changes to client
 	for rulesets: handle the new packets.
	
Sat Jan 30 03:34:33 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* Imakefile, Makefile.noimake, server/Makefile.am,
 	server/Makefile.in, server/cityhand.c, server/civserver.c,
 	server/gamehand.c, server/settlers.c, server/unitfunc.c,
 	server/unithand.c, server/unittools.c: Core changes to server for
 	rulesets, including using ruleset.c functions and using unit_role
 	functions.
	
Sat Jan 30 03:28:48 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/city.c, common/game.c, common/game.h, common/shared.h,
 	common/tech.c, common/unit.c, common/unit.h: Core changes to
 	common/ for rulesets.  Removed hardwire tables.  Changed/new unit
 	flags/roles.  Removed set_civ_style() stuff.
	
Sat Jan 30 03:25:09 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/packets.c, common/packets.h: New packets for rulesets.
	
Sat Jan 30 03:23:27 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c: New server options for rulesets.
	
Sat Jan 30 03:21:57 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/game.h: Added game.ruleset struct for ruleset server
 	option strings.
	
Sat Jan 30 03:19:45 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/map.h: Define GAME_DEFAULT_RULESET.
	
Sat Jan 30 03:04:18 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/ruleset.c, server/ruleset.h: New ruleset module,
 	containing functions to read ruleset datafiles, and to send
 	ruleset information to the client.
	
Sat Jan 30 02:57:55 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in, data/Makefile.am, data/Makefile.in,
 	data/civ1.serv, data/civ1/.cvsignore, data/civ1/Makefile.am,
 	data/civ1/Makefile.in, data/civ1/buildings.ruleset,
 	data/civ1/techs.ruleset, data/civ1/units.ruleset,
 	data/default/Makefile.am, data/default/Makefile.in,
 	data/default/buildings.ruleset, data/default/techs.ruleset,
 	data/default/units.ruleset: New datafiles for rulesets, and
 	configure/Makefile changes so that "make dist" and "make install"
 	know about the new files.
	
Fri Jan 29 21:16:59 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* common/map.c: In real_map_distance, sq_map_distance and
 	map_distance speed up calculation.  Patch suggested by Tony
 	Stuckey <stuckey@jaka.ece.uiuc.edu>
	
Thu Jan 28 23:15:03 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* server/unitfunc.c: In server/unitfunct correct the name used to
 	notify a player when i diplomat is eliminated while infiltrating.
  	Patch submitted by Rizos Sakellariou <rizos@cs.rice.edu>
	
Thu Jan 28 21:33:45 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* common/unit.c: In unit_can_help_build_wonder i disable the
 	possibility to help build a wonder when the wonder is finished.
	
Thu Jan 28 17:26:10 1999  Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>

	* server/gotohand.c: put a comment in init_warmap to test cvs
 	commit
	
Thu Jan 28 15:07:36 1999  Trent Piepho <xyzzy@u.washington.edu>

	* client/citydlg.c, client/repodlgs.c, server/cityhand.c: The
 	client will not longer let you buy Capitalization via a city
 	dialog or the city report.  Neither the shield cost nor the buying
 	cost of Capitalization are diplayed, since they don't apply and
 	only confuse players.  Even if the client tries to somehow, the
 	server doesn't allow buying Capitalization anymore either.  The AI
 	should probably be modifed to understand about not buying
 	capitalization too.
	
Thu Jan 28 11:51:50 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/game.c, common/game.h, server/unitfunc.c,
 	server/unithand.c: New variable game.firepower_factor, currently
 	fixed at 1, to be used in rulesets.  In combat, all firepower
 	values are multiplied by this factor.  Also, unit hitpoints sent
 	to the client are divided by this factor.  Eg, units with hp=10,
 	firepower=1 and firepower_factor=10 will look like units with hp=1
 	and firepower=1.  (Note that hp are not used in common/ except as
 	punit->hp/unit_type->hp so this doesn't break anything there.)
  	This hackish setup is to help support civ1-style combat
	(with rulesets) without causing the normal AI calculations to
 	core-dump and/or underflow/overflow (as they would with hp=1).
	
Thu Jan 28 11:14:39 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advdomestic.c, ai/advmilitary.c, ai/aiunit.c, common/city.c,
 	common/city.h, common/player.c, common/player.h, common/unit.c,
 	server/citytools.c, server/cityturn.c, server/plrhand.c,
 	server/settlers.c, server/unitfunc.c, server/unittools.c: New
 	variant field to improvement_type struct, to specify variant
 	improvement effects.  Some variant effects are implemented (via
 	new function improvement_variant()), but are not yet documented
	(coming with rulesets proper), and at the moment all improvements
 	have variant=0.  Also new variant-related function
 	player_owns_active_govchange_wonder().  In the future, improvement
 	effects should be generalised still further, but this is a start.
	
Thu Jan 28 11:11:02 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advdomestic.c, ai/advmilitary.c, ai/aicity.c, ai/aiunit.c,
 	common/game.c, common/game.h, common/unit.c, server/citytools.c,
 	server/plrhand.c, server/settlers.c: New struct game.rtech, which
 	stores advances which have special effects (and game.rtech.nav,
 	used by the AI).  The advance values are currently fixed, but will
 	be adjustable in the future with rulesets.
	
Thu Jan 28 11:05:58 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/climisc.c, client/climisc.h, client/packhand.c: Added
 	client-side continent calculations, to support continent-only
 	wonder variants (in rulesets).  The client may have imperfect
 	knowledge of continents, but it still helps the client to know in
 	many cases if an improvement is wonder-replaced.
	
Tue Jan 26 11:38:45 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/unitfunc.c: When wipe_unit_safe() was re-done as a
 	wrapper for new wipe_unit_spec_safe() (in civil war patch), it
 	buggily didn't pass on the iterator argument, reintroducing
 	various segfault bugs; fixed.
	
Sun Jan 24 03:53:13 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c: Fixed client --help and --version handling
 	so that starting the client with no arguments doesn't segfault!
	
Sun Jan 24 02:48:29 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/helpdata.txt: This adds a Terrain Alterations section to
 	the terrain help.  Patch submitted by Greg Wooledge.
	
Sun Jan 24 02:38:22 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/roads.xpm: New road and rail tiles.  Roads are less
 	prominent and wiggly, like pre-diagonal roads.  Rails are
 	smaller-scale and less cluttering.
	
Sun Jan 24 02:33:54 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c, client/xmain.c: In client, handle --help and
 	--version ourselves in main(), so we don't need to connect to the
 	X server.  Patch submitted by Lalo Martins <lalo@webcom.com>.
	
Sun Jan 24 02:33:04 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/messagedlg.c, common/events.h, server/cityturn.c: When
 	building a granary in a city, it is useful to postpone city growth
 	until the granary is complete, so that you can save large amounts
 	of your foodbox.  This patch tries to notify players when this
 	type of situation exists.  Adds event E_CITY_GRAN_THROTTLE:
 	"Suggest Growth Throttling".  Patch submitted by Tony Stuckey.
	
Sun Jan 24 02:31:39 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/cityhand.c: In really_handle_city_buy(), return early if
 	cost is 0, to avoid unnecessary "bought for 0 gold" messages when
 	watching AI.  Patch submitted by Tony Stuckey.
	
Sat Jan 23 05:17:52 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/gotohand.c, server/unitfunc.c, server/unitfunc.h: New
 	function get_simple_defense_power(), to avoid hardwired U_HOWITZER
 	in calls get_virtual_defense_power(U_HOWITZER, ...).
	
Sat Jan 23 05:16:54 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c: Code to allow string-valued server options.
	(None yet, but will be for rulesets.)
	
Sat Jan 23 05:16:06 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advmilitary.c, common/unit.c, server/settlers.c: Always
 	access unit flags via unit_flags(), and don't do bit operations on
 	flag values.  (For rulesets, where flags are an enumeration rather
 	than bit defines.)
	
Sat Jan 23 05:14:16 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advmilitary.c: Unhardwired A_AMPHIBIOUS for B_PORT in
 	kill_something_with().
	
Sat Jan 23 05:12:58 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advmilitary.c, ai/aicity.c, ai/aiunit.c, ai/aiunit.h: New
 	function is_ai_simple_military(), to unhardwire loops previously
 	done as U_WARRIORS to U_BATTLESHIP.
	
Sat Jan 23 05:08:35 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aicity.c: Pseudo-generalized has_a_normal_defender(), for
 	rulesets, though not very well because I don't really understand
 	the function's purpose.
	
Sat Jan 23 05:07:37 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/repodlgs.c: Use is_wonder() instead of hardwired
 	improvement range in trade_report_dialog_update().
	
Sat Jan 23 05:06:49 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advmilitary.c, ai/aiunit.c, common/city.c, common/player.c,
 	common/player.h: New function player_knows_improvement_tech(),
 	used to reduce use of hard-wired advances when really mean
 	improvement tech_required.
	
Sat Jan 23 05:05:12 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/city.h: Moved some prototypes to better groups.
	
Sat Jan 23 05:04:04 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/tech.h: In advance struct, changed "name" from char
 	pointer to char array.  This is now the same as unit_types and
 	buildings, and is easier than managing memory when names are
 	somewhat dynamic, for rulesets.  Included shared.h, for
 	MAX_LENGTH_NAME.
	
Sat Jan 23 05:02:19 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/gotohand.c: In really_generate_warmap(), unhardwired a
 	use of U_SETTLERS.
	
Sat Jan 23 05:01:22 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/registry.c: In section_file_load(), print a log message
 	if fopen() fails.
	
Wed Jan 20 10:32:04 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/helpdlg.c: In boot_help_texts(), don't report filtering
 	on first boot (for rulesets).
	
Wed Jan 20 10:31:07 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ser, client/climisc.c, client/climisc.h, common/shared.c,
 	common/shared.h: Moved datafilename() from climisc to
 	common/shared, and added default FREECIV_DATADIR to ser script.
  	(Server will want to access datadir for rulesets.)
	
Wed Jan 20 10:27:22 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advmilitary.c, server/unitfunc.c, server/unittools.c,
 	server/unittools.h: New convenience function
 	unit_really_ignores_citywalls, taking into account move_type (for
 	rulesets).
	
Wed Jan 20 10:21:05 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/menu.c: Added a "spaceship" option to the report menu.
  	From a patch submitted by Per Mathisen <permath@ifi.ntnu.no>.
	
Wed Jan 20 10:18:41 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/citytools.c: In transfer_city_units(), for case where
 	changing unit to another homecity, use the correct owner of the
 	new homecity.  Based on a patch by Kris Bubendorfer.  Also
 	adjusted the messages depending on whether the unit changes owner.
	
Sun Jan 17 11:29:17 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* Imakefile, Makefile.noimake, client/Freeciv.h,
 	client/Makefile.am, client/Makefile.in, client/graphics.c,
 	client/packhand.c, client/plrdlg.c, client/spaceshipdlg.c,
 	client/spaceshipdlg.h, client/xmain.c, common/city.c,
 	common/game.c, common/game.h, common/map.h, common/packets.c,
 	common/packets.h, common/player.c, common/player.h,
 	common/shared.h, data/Freeciv, data/default/Makefile.am,
 	data/default/Makefile.in, data/default/space.xpm,
 	server/cityturn.c, server/civserver.c, server/gamehand.c,
 	server/plrhand.c, server/plrhand.h, server/stdinhand.c: First pass
 	at spacerace feature, based on a patch submitted by Falk Hueffner
 	<falk.hueffner@student.uni-tuebingen.de>.  Activated by a server
 	option which defaults to off.  The travel time calculation is
 	still missing, it always arrives after 15 years, and it doesn't
 	properly know when a spaceship is in a proper state to be
 	launched.
	
Sun Jan 17 09:47:43 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/cityturn.c: In citizen_happy_units(), calculate number of
 	unhappy people directly rather than using loops.  Patch submitted
 	by Anthony J. Stuckey <stuckey@jaka.ece.uiuc.edu>.
	
Sun Jan 17 09:46:35 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/citytools.c, server/citytools.h, server/diplhand.c,
 	server/unitfunc.c, server/unittools.c, server/unittools.h:
 	Conditionally added back messages about unit transfers in
 	transfer_city_units() and resolve_unit_stack(), so that players
 	get the messages when unciting or trading cities, but not for a
 	civil war.  Also fixed the text of the message when a unit's
 	homecity is changed in these cases.
	
Sun Jan 17 09:44:33 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Freeciv.h, client/diplodlg.c, common/diptreaty.h,
 	common/shared.h, data/Freeciv, data/helpdata.txt,
 	server/citytools.c, server/diplhand.c: Trade cities patch
 	submitted by Kris Bubendorfer:
	
	This patch is essentially an extension to the diplomacy/treaty
 	section, where you may now also TRADE CITIES.
	
	You cannot trade your capital, but any other city is fair game.
  	Cities that the other player does not know about, may still be
 	gifted, but obviously they cannot request these cities as they've
 	got no idea they exist.  So you still have secrecy/fog of war.
	
	If the recipient of a city does not have the part of the map with
 	the city being traded, then that part of the map is lightened.
  	You do NOT need to trade maps first - of course you could....
	
	All units in the field that are supported by the city being traded
 	are also transferred over, but any that are supported, but
 	resident in other cities are not traded.  None-the-less, you
 	should be careful not to give the other person a better deal that
 	you expect.
	
	There is also a new part on diplomacy in general in the Help, in the
	`How to play' section.
	
Sun Jan 17 04:08:31 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/colors.c: Slightly adjusted colour of race13.
	
Sun Jan 17 03:53:33 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/roads.xpm, data/default/small.xpm,
 	data/default/tiles.xpm, data/default/treaty.xpm,
 	data/default/units.xpm: Colourmap cleanup.  The colours in some of
 	the xpms where similar but not identical to colours in others.
  	Also eliminated a couple of colours which were only used in
 	small.xpm.  Also replaced Artillery icon with one submitted (long
 	ago) by Frank Muzzulini <muzz@albatross.pond.sub.org>.
	
Sun Jan 17 02:36:43 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/climisc.c, client/packhand.c, common/game.c: Added some
 	extra debugging output, detailing new and removed cities and
 	units, disabled by default.  (Use configure --enable-debug, or
 	change the "#define DEBUG 0" in the source.)
	
Sun Jan 17 02:31:52 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/citytools.c, server/unittools.c: Some fixes to civil war.
  	Send game_info as soon as new player is created so clients get the
 	correct game.nplayers, and send new player info earlier, so
 	clients know name of new player before do cities, units.
  	Deactivated some more over-verbose notify_player messages I missed
 	last time.  Set player.revolution to 1 for civil war leaders, so
 	get to choose new government _next_ turn, not straight away.
	
Sat Jan 16 11:15:44 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/mapview.c: A rail square with adjacent roads (but not
 	adjacent rails) was not being shown as rail.
	
Sat Jan 16 11:10:21 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/packhand.c, common/packets.c, common/packets.h,
 	common/shared.h, server/civserver.c, server/plrhand.c: Send
 	capability strings so that clients know capabilities of other
 	clients, to help future backward compatibility.  This patch itself
 	is backward compatible via capabilities.  Patch submitted by Kris
 	Bubendorfer.
	
Sat Jan 16 01:15:22 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/helpdata.txt: Help text patch submitted by Greg Wooledge
 	<wooledge@kellnet.com>:
	
	This patch does some revision on the helpdata.txt file.  I've
 	standardized the capitalization of many words (Wonder->wonder,
 	factory->Factory, etc.), removed trailing white space, cleaned up
 	some minor grammar/phrasing problems, and added a couple comments
 	based on Civ2 experience.  More importantly, I've standardized
 	some terminology:
	
	  * I've used the terms "food production", "shield production",
 	    "science production", "tax production" and "luxury production"
 	    to refer to the output of cities.
	
	  * I've used the terms "food resource", "shield resource" and
 	    "trade resource" to refer to what's harvested from squares
 	    around a city.
	
	  * I've used the term "shields" to refer to shield resources,
 	    rather than the more ambiguous "production"; I've also used
 	    "shields" (or kept the phrase "production shields") in the
 	    government help to indicate unit upkeep costs.
	
	The only change I didn't make in terms of standardization is to
 	reconcile the American and British spellings of certain words
	(particularly "defense"/"defence").  The "Coastal Defense" stanza
 	is a rather glaring example of the need for this, but I didn't
 	want to try to make that call....
	
Sat Jan 16 01:12:37 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/mapview.c: Fixed case when diagonal roads is off and we
 	have a rail/road tile with only diagonally adjacent rail/road
 	tiles.  Now draws an "isolated" rail/road (used to draw no
 	rail/road on that tile).
	
Fri Jan 15 11:04:03 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/unittools.h: New feature: civil war.  If a player's
 	capital is captured and the number of cities the player owns is at
 	least "civilwarsize"
	(a new server option), then the player's empire splits in a civil
 	war, with cities and units being divided between the old player
 	and a new AI player.  (Civil wars only happen if there are less
 	than 14 existing players.)  From patch submitted by Kris
 	Bubendorfer <kris@MCS.VUW.AC.NZ>.

Fri Jan 15 11:04:02 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/game.c, common/game.h, common/map.h, common/unit.c,
 	common/unit.h, data/helpdata.txt, server/citytools.c,
 	server/citytools.h, server/civserver.c, server/gamehand.c,
 	server/stdinhand.c, server/unitfunc.c, server/unitfunc.h,
 	server/unithand.c, server/unittools.c: New feature: civil war.  If
 	a player's capital is captured and the number of cities the player
 	owns is at least "civilwarsize" (a new server option), then the
 	player's empire splits in a civil war, with cities and units being
 	divided between the old player and a new AI player.  (Civil wars
 	only happen if there are less than 14 existing players.)  From
 	patch submitted by Kris Bubendorfer <kris@MCS.VUW.AC.NZ>.
	
Tue Jan 12 11:21:56 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/citydlg.c: Another fix to the "selecting idle
 	autosettler" problem, this time when selecting the unit from the
 	city dialog.
	
Tue Jan 12 10:55:46 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/mapctrl.c, client/packhand.c, server/unithand.c: Fix so
 	that a settler in auto-mode, but currently idle (between jobs),
 	correctly goes out of auto-mode when selected by the user.
	
Tue Jan 12 10:33:38 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* Makefile.am, Makefile.in, configure, configure.in: New configure
 	option --disable-make-data, which prevents make from recursing
 	into the data directory (and subdirectories) when you do a make
 	from the top level.  The only time you _don't_ want to use this
 	option is when you're going to do a "make install", since then you
 	_do_ want to recurse into the data directories, else the data
 	won't be installed.
	
Tue Jan 12 10:32:06 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/Makefile.am, data/default/Makefile.in: Fix so "make
 	install" installs data/default properly.
	
Mon Jan 11 08:21:45 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/Makefile.am, data/default/Makefile.in: Left off a
 	line-continuation backslash.
	
Mon Jan 11 07:50:14 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/default/.cvsignore: Added data/default/.cvsignore
	
Mon Jan 11 07:35:44 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in, data/Makefile.am, data/Makefile.in,
 	data/default/Makefile.am, data/default/Makefile.in: Added
 	Makefile.am and changed configure.in for new directory
 	data/default.
	
Mon Jan 11 07:24:44 1999  Trent Piepho <xyzzy@u.washington.edu>

	* client/Freeciv.h, client/civclient.c, client/mapview.c,
 	client/optiondlg.c, data/Freeciv: Added a new client option to
 	turn display of diagonal roads on or off.
	
Mon Jan 11 07:22:26 1999  Trent Piepho <xyzzy@u.washington.edu>

	* client/graphics.c: Fix bug introduced by the diagonal roads tile
 	rearrangement where the unit pictures in the help dialog didn't
 	have flags.
	
Sun Jan 10 08:12:10 1999  Trent Piepho <xyzzy@u.washington.edu>

	* data/default/roads.xpm, data/default/small.xpm,
 	data/default/tiles.xpm, data/default/treaty.xpm,
 	data/default/units.xpm: Moved the XPM files for the game tiles
 	into the directory default.
	
Sun Jan 10 05:27:31 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/settlers.c: Lots of reformating and variable renaming in
 	auto_settler_findwork(), and extra comments.
	
Sun Jan 10 05:22:38 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c: Fixed code which sends select_race packets
 	to players, to avoid sending multiple unnecessary packets, and to
 	make the code cleaner.  Problem reported by "Caz" Marko Lindqvist
 	<caz@students.cc.tut.fi>, but I did a more extensive fix than the
 	one provided by Caz.
	
Sun Jan 10 05:08:17 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c: Don't inform connected clients when "server
 	only" server options are changed (eg, random seeds, saveturns
 	etc).
	
Sun Jan 10 05:04:39 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* Imakefile: Also added server/gamelog.o to Imakefile.
	
Sun Jan 10 04:06:24 1999  Trent Piepho <xyzzy@u.washington.edu>

	* client/graphics.c: Added support for tileset directories.  Also
 	added checking for the XPM file sizes.  If an XPM file isn't the
 	correct size the client will exit with an error message explaining
 	this, rather than crashing.
	
Sun Jan 10 04:03:37 1999  Trent Piepho <xyzzy@u.washington.edu>

	* client/xmain.c, client/resources.h: Added new option "--tiles"
 	which controls which directory the tiles comes from.  e.g.
  	civclient --tiles civ2, use the XPM files in the directory
 	data/civ2
	
Sun Jan 10 03:58:22 1999  Trent Piepho <xyzzy@u.washington.edu>

	* client/climisc.c, client/climisc.h: Added functions in support
 	of multiple tile directories.
	
Sat Jan  9 23:44:36 1999  Trent Piepho <xyzzy@u.washington.edu>

	* data/Freeciv, client/Freeciv.h: Capitalized active units report
 	title correctly.
	
Sat Jan  9 23:41:01 1999  Trent Piepho <xyzzy@u.washington.edu>

	* client/packhand.c: Added braces to clear up egcs warnings.
	
Sat Jan  9 23:33:38 1999  Trent Piepho <xyzzy@u.washington.edu>

	* Makefile.noimake: Updated to reflect the gamelog patch
	
Sat Jan  9 03:33:45 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/Makefile.am, server/Makefile.in, server/cityhand.c,
 	server/cityturn.c, server/civserver.c, server/diplhand.c,
 	server/gamelog.c, server/gamelog.h, server/plrhand.c,
 	server/stdinhand.c, server/unitfunc.c, server/unithand.c: New
 	"gamelog" feature.  Enabled by new server command line option, "-g
 	LOG" (or "--gamelog LOG") and a new server option, "gamelog", to
 	control various levels of logging (or to turn it off and on (if
 	enabled) mid-game).  From patch submitted by Jake Kesinger
 	<kesinger@math.ttu.edu>.
	
Sat Jan  9 01:42:46 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/unithand.c: Grammar fix to "helps build wonder" message.
  	Based on patch submitted by Tony Stuckey.
	
Sat Jan  9 01:35:43 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/plrhand.c: Use plural race name in message when race
 	destroyed.  Adapted from patch submitted by Tony Stuckey.
	
Sat Jan  9 01:29:07 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advdomestic.c: Removed unused variable "tech" in
 	ai_eval_buildings().  Patch submitted by Anthony J. Stuckey
 	<stuckey@jaka.ece.uiuc.edu>.
	
Thu Jan  7 12:09:02 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/city.c: Additional American city names; patch submitted
 	by Jake Kesinger <kesinger@math.ttu.edu>.
	
Thu Jan  7 12:03:09 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/graphics.c, client/mapview.c, client/packhand.c,
 	data/Makefile.am, data/Makefile.in: Changed the client to display
 	diagonal road and rail connections.  Old road tiles removed from
 	data/tiles.xpm and new tiles put in new file data/roads.xpm.  From
 	patch submitted by Jeff Mallatt <jjm@codewell.com>.
	
Tue Jan  5 12:39:20 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/unit.c: In string_center(), put in a cast (printf arg to
 	"%*" with a sizeof, now cast to int) to quiet warning on OS/2,
 	reported by Alexander Mai <st002279@hrzpub.tu-darmstadt.de>.  Then
 	found out that string_center() is no longer used anywhere (not to
 	mention this is a bad module for it), so #if-ed the function out.
  	(Note also create_centered_string() in common/shared.c).
	
Tue Jan  5 12:24:38 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/mapctrl.c, data/helpdata.txt: Allow control + Button 2 to
 	give tile information in the main map
	(the same as Button 3) to help those who don't have a 3 button
 	mouse.  Patch submitted Bussi Andrea <bta@edu.al.unipmn.it>, plus
 	I added text for the new control to the "Help Controls" page.
	
Tue Jan  5 12:05:48 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/menu.c, common/packets.h, server/civserver.c,
 	server/stdinhand.c, server/stdinhand.h: Made several improvements
 	to server options:

	- Classifed the options, and re-orderd them according to class.
	- Used classes to generalize the old "afterstart" data.
	- Split the help strings into short and long versions, and re-wrote
	  many of them.
	- Print both help strings for individual "explain <option>".
	- Included short help strings in the output of "show".
	- In the client, split the "server options" menu item into two new
 	  items, to each show (roughly) half of the options ("initial"
 	  options, vs "ongoing" options).  (The old single listing was
 	  getting too long, especially if we want to add more options in the
 	  future.)  The old menu item remains, for compatibility with old
 	  servers, and the new server still serves the old menu item
 	  request, for compatibility with old clients.
	- Changed server printfs about "variables" to say "options".
	- In handle_report_request() in civserver.c, send a message to the
 	  client output window if the client asks for an unknown report, so
 	  mismatched servers and clients work together better in the future
 	  if additional new report types are added.  (Previously the server
 	  silently ignored unknown report types.)
	
Tue Jan  5 11:57:32 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advmilitary.c, ai/aiunit.c, common/city.h, common/unit.c,
 	common/unit.h, server/settlers.c, server/settlers.h,
 	server/unitfunc.c: In this patch AI will build a diplomat (for
 	defense) whenever an enemy diplomat or boat is close enough to a
 	town.  If AI hasn't learned yet about writing, AI will try to get
 	this knowledge.
	(The AI doesn't know how to use the diplomats offensively.)  AI
 	will also check that the place where it wants to build a new city
 	isn't within range of an enemy military ground unit or a diplomat.
  	Patch submitted by Nicolas Brunel <brunel@ham.esil.univ-mrs.fr>,
 	with some minor formatting changes by me.
	
Fri Jan  1 12:12:01 1999  David Pfitzner <dwp@mso.anu.edu.au>:

	* INSTALL.debian: The INSTALL.debian file somehow had lots of junk
 	included.  New file submitted by Lalo Martins <lalo@debian.org>.
	
Thu Dec 31 06:07:46 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aihand.c: In ai_manage_taxes, changed an instance of
 	handle_unit_disband to be handle_unit_disband_safe, to avoid
 	possibility of a dangling iterator.  Bug reported by Jake Kesinger
 	<kesinger@math.ttu.edu>.
	
Wed Dec 30 19:03:34 1998  Lalo Martins <lalo@debian.org>:

	* INSTALL.debian: Adding INSTALL.debian - I'm a month late at
 	this...
	
Wed Dec 30 19:00:32 1998  Lalo Martins <lalo@debian.org>:

	* build.debian, debian/changelog, debian/menu, debian/postinst,
 	debian/postrm, debian/rules: updating debian files (debian/*) to
 	match 1.7.2. I don't know why is CVS commiting build.debian, but
 	let it have its fun :-)
	
Tue Dec 29 10:44:34 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/unithand.c: Moved adjustment to attacker's moves_left to
 	be after the call to unit_versus_unit(), so we get the correct
 	attack modifier for units with less than 1 movement point left.
	
Sat Dec 26 03:02:37 1998  Mitch Davis <mjd@alphalink.com.au>:

	* NEWS: Last minute changes, including AI difficulty levels and
 	thanks to David.
	
Sat Dec 26 02:56:58 1998  Mitch Davis <mjd@alphalink.com.au>:

	* AUTHORS: Added Martin Hansen to recognise the work he's doing
 	with the new web pages.
	
Sat Dec 26 02:33:33 1998  Mitch Davis <mjd@alphalink.com.au>:

	* HOWTOPLAY: Put in pointers to INSTALL and README, because
 	otherwise I think people might be confused by a document called
 	"HOWTOPLAY".
	
Sat Dec 26 02:27:15 1998  Mitch Davis <mjd@alphalink.com.au>:

	* NEWS, configure, configure.in, client/Freeciv.h,
 	common/shared.h, data/Freeciv: Updated version numbers to 1.7.2.
  	Patch submitted by David Pfitzner <dwp@mso.anu.edu.au>.
	
Wed Dec 23 10:02:33 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* NEWS: Updated NEWS for 1.7.2.
	
Wed Dec 23 10:01:18 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* Makefile.noimake: Removed unused "VERSION" in Makefile.noimake.
	
Tue Dec 22 10:21:59 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* AUTHORS, HOWTOPLAY, INSTALL, README, server/stdinhand.c: Minor
 	doc fixes.
	
Mon Dec 21 16:12:08 1998  Mitch Davis <mjd@alphalink.com.au>:

	* server/civserver.c, server/civserver.h, server/meta.c,
 	server/meta.h, server/sernet.c, server/stdinhand.c,
 	server/stdinhand.h: - Rationalised prompt printing, so we only get
 	one when we need it.  It makes startup look a lot nicer.  - Added
 	an int return to the metaserver send routines, so callers know
 	whether it was successful or not.  - Unfolded some routines to
 	avoid lots of elses or long ifs.  Basically, if a routine could
 	drop out, drop out immediately with return, rather than skip an if
 	or else if until the end.  - Changed the format of human players
 	from player[someplace] to <player@someplace>.  It's more like
 	other things we see, like mail addresses.  - Made some messages
 	correctly handle singular cases.  - Made the list command (and the
 	corresponding client command) look nicer for AI players.  -
 	Changed the default meta-server info line from "Blood's Music II"
 	to "(default)".  Kinda boring I know... :-( - Warn the server-op
 	if they try a "meta" command, and we can't send to the metaserver.
  	- Changed "help_command()" to "explain_option()".  - Patched the
 	stdin handler so blank lines are ignored.  - "Help" now does what
 	"h" does.  Explaining options is now done by "explain".
	
Mon Dec 21 15:34:12 1998  Mitch Davis <mjd@alphalink.com.au>:

	* README:
  	 - Now only contains README-stuff!!
	 - Added introduction section.
	 - Moved website section to the front.
	 - Added pointer to the GPL.
	 - Beefed up instructions on running the server and client.
	 - Updated the list of server commands.
	 - Clarified non-localhost example.
	 - Clarified AI creation.
	 - Clarified purpose of metaserver.
	 - Improved bug-reporting section.
	 - Improved section on mailing lists and new releases.
	
Mon Dec 21 15:33:22 1998  Mitch Davis <mjd@alphalink.com.au>:

	* INSTALL:
  	 - Rewrote lots of stuff.
	 - Added prerequisite section.
	 - Now only contains configuration, installing and compiling! :-)
	
Mon Dec 21 15:31:30 1998  Mitch Davis <mjd@alphalink.com.au>:

	* HOWTOPLAY:
  	 - Fixed grammar.
	 - Rearranged, so that strategy is first, and options is later.
	 - Made mention of Greggurabi's 12 steps.
	 - Made mention of Dave's techtree.
	
Mon Dec 21 15:28:53 1998  Mitch Davis <mjd@alphalink.com.au>:

	* AUTHORS:
  	 - Generally tidied things up.
	 - Condensed people who did not contribute to the 1.7 series.
	 - Verified that everyone in the ChangeLog is in this file.
	 - Added Dave to the administrators (hi dave!)
	
Mon Dec 21 07:19:37 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* AUTHORS: Minor AUTHORS fixes.
	
Mon Dec 21 07:18:01 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/plrhand.c: Fix messages from, eg, "..the Mongol has
 	Researched..."  to "..the Mongols have researched..."  Patch
 	submitted by Mika Korhonen <mikak@ee.oulu.fi>.
	
Sat Dec 19 10:13:20 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/mapctrl.c: Slightly improve what happens when focus
 	shifts to units which have been given the "wait" command.  In
 	particular, if there is only one available unit, it keeps the
 	focus if it tries to wait.
	
Sat Dec 19 10:11:00 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/mapctrl.c: Refresh the tile of previous focus unit in
 	set_unit_focus(), when required, to avoid the previous focus unit
 	sometimes disappearing when the focus changes.
	
Sat Dec 19 10:08:36 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/mapctrl.c: Allow units to keep focus at the end of a goto
 	if they have movement left.
	
Fri Dec 18 10:15:23 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/unitfunc.c: Fixed "spy eliminated" messages to use
 	unit_name().  Bug reported by Reinier Post.  Also #if-ed out some
 	code in diplomat_incite(), so now spies/diplomats get the usual
 	diplchance chance to defend against inciters, rather than being
 	perfect defenders.
	
Thu Dec 17 11:07:44 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* AUTHORS, common/diptreaty.c: Adding or changing treaty clauses
 	after a gold clause exists was broken.  Bug report from Mika
 	Korhonen <mikak@ees2.oulu.fi>.
	
Thu Dec 17 10:12:16 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/unitfunc.c: When a spy steals tech, say "spy" not
 	"diplomat" in messages.  Bug reported by Andrew Schulman.
	
Wed Dec 16 11:15:54 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/handchat.c: Attempt to allow ':' character in chat line
 	messages more flexibly, while still allowing messages directed to
 	one player, and noticing some player name typos.  Based in part on
 	a patch by Reinier Post <rp@win.tue.nl>
	
Wed Dec 16 10:37:31 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/helpdata.txt: In help text, clarified effect of
 	Hydro/Nuclear/Power Plants, and for some wonders clarified whether
 	the effect is for all cities or not.
	
Wed Dec 16 08:40:22 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* ChangeLog: Minor fixes to ChangeLog.
	
Wed Dec 16 08:37:43 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* .cvsignore: Added undep.sh to cvsignore.
	
Wed Dec 16 08:35:51 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/player.c: Changed "Gandi" to "Gandhi".
	
Tue Dec 15 10:30:27 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* Makefile.in, configure, configure.in, ai/Makefile.in,
 	undep.sh.in, client/Makefile.in, common/Makefile.in,
 	data/Makefile.in, server/Makefile.in: Added a configure option
 	--disable-cvs-deps, to mangle the configure-produced Makefiles
 	produced from cvs sources, to remove the dependency calculation
 	parts, which depend on features of gcc and gmake.  If the options
 	is not specified, configure makes a decision based on whether gcc
 	is being used; ideally it should also check for gmake, but
 	doesn't.  If the dependency calculation parts are removed, you
 	should always do "make clean" before "make" if any header files
 	(.h files) change.
	
Tue Dec 15 09:56:45 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aicity.c: When AI adjusts workers in neighbouring cities to
 	cope with city emergencies, first check if we own the neighbouring
 	cities!!  From bug report by Andrew Schulman.
	
Tue Dec 15 09:51:06 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advmilitary.c, ai/aicity.c, ai/aihand.c, client/repodlgs.c,
 	server/cityturn.c, server/gotohand.c, server/unitfunc.c: Commented
 	out a case where client wrote to stdout, and changed some server
 	and ai stdout printfs to debug level log messages.
	
Sun Dec 13 17:48:52 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/citydlg.c, client/citydlg.h: Made activate_unit() use a
 	unit pointer as an argument instead of a unit ID.  Added a
 	prototype for it into the header file too.
	
Sun Dec 13 17:36:02 1998  Trent Piepho <xyzzy@u.washington.edu>

	* data/Freeciv, client/Freeciv.h, client/citydlg.c: Clicking the
 	middle button on a unit in the city dialog will cause the
 	"activate and close" action to be taken, without having to go
 	through a pop-up menu.
	
Sun Dec 13 17:33:30 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/pixcomm.c: Replaced the Notify action with one that
 	passes the XEvent as the call_data to the callback.  This way the
 	callback can take different actions based on what button or key
 	activated it.
	
Sun Dec 13 01:06:43 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aiunit.c: Fixed some more cases of map.xsize instead of
 	map.ysize.
	
Sat Dec 12 12:07:36 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/mapgen.c, server/unitfunc.c: Minor fixes to some debug
 	log messages.
	
Sat Dec 12 11:59:08 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/log.c: Slightly improved handling of repeated log
 	messages.
	
Sat Dec 12 11:54:46 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aiunit.c: Fixed a segfault bug when an easy AI explorer gets
 	killed in a fuzzily ignored hut.
	
Sat Dec 12 04:18:53 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in: Made configure.in require autoconf
 	version 2.12 or later.  May not be quite correct, but autoconf
 	version 2.9 is reported not to work, and version 2.12 is known to
 	work.
	
Sat Dec 12 03:33:58 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/packhand.c: Fix to infamous bug when investigating
 	cities, leading to occasional segfaults and other anomalies (bug
 	reported by many people).  When a unit moves out of known area,
 	remove the unit's pointer (about to be freed) from its home city
 	supported units list.  Note that when you investigate a city,
 	units outside known territory don't get shown in the supported
 	units area.
	
Thu Dec 10 15:49:02 1998  Mitch Davis <mjd@alphalink.com.au>:

	* ChangeLog: Updated the ChangeLog for the changes between 1.7.1
 	and 1.7.2.
	
Thu Dec 10 10:16:34 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aicity.c: When AI stops building a wonder, use
 	E_WONDER_STOPPED to follow client message options.  Bug reported
 	by Andrew Schulman.  Likewise, when AI sells obsolete
 	improvements, use E_IMP_SOLD.
	
Thu Dec 10 09:54:49 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* AUTHORS, client/mapctrl.c, common/unit.c, common/unit.h,
 	server/unithand.c: Clean up what player gets told when a diplomat
 	or spy can't do an action due to lack of movement points.  There
 	used to be three possibilities:

	- The message "You can't attack there", if the city is occupied.

	- The message "Only ground troops can take over a city", if the
 	  city is empty and a random number goes in favor of allowing you
 	  to move.

	- Nothing at all, if the city is empty and the random number goes
 	  against letting you move.

	Now it always says: "You don't have enough movement left".  Also,
 	if spy/diplomat hasn't moved this turn, allow action, to allow
 	diplomats to act against cities in mountains.  Patch submitted by
 	Patrick Smith <patsmith@pobox.com>.
	
Thu Dec 10 09:19:22 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/settlers.c: Changed some cases of map.xsize to map.ysize.
  	Hopefully this completes fix to europe.sav segfault bug report by
 	Andrew Schulman.
	
Wed Dec  9 11:25:14 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/settlers.c: Fixed check to exclude y==game.mapsize when
 	choosing city sites.  Possible partial fix to europe.sav segfault
 	bug reported by Andrew Schulman.
	
Tue Dec  8 10:20:47 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* AUTHORS: Added/adjusted names of contributors.
	
Tue Dec  8 10:14:33 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advdomestic.c: Small optimization to calc of AI barracks
 	values, based on a patch by Tony Stuckey.
	
Thu Dec  3 11:33:57 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/gamehand.c: Adjust initial map knowledge depending on
 	game.civstyle.  Patch submitted by Anthony J. Stuckey
 	<stuckey@jaka.ece.uiuc.edu>.
	
Thu Dec  3 11:18:37 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* Imakefile: Fixed rule for client/Freeciv.h, to work with Solaris
 	make.  Patch submitted by Reinier Post.
	
Thu Dec  3 11:07:23 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in: If we're using gcc, use -Wall, to
 	encourage patches which are -Wall clean.
	
Thu Dec  3 10:50:52 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in: When configure fails due to not finding
 	X or Xpm, try to give some hints.
	
Wed Dec  2 10:17:16 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/city.c: Updated Greek city names, submitted by Rizos
 	Sakellariou <rizos@cs.rice.edu>.
	
Wed Dec  2 10:08:40 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/helpdata.txt: Minor help text fixes.
	
Wed Dec  2 10:01:03 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/city.c: Adjusted and additional Roman and German city
 	names.  Patches submitted by Massimo Campostrini and Peter
 	Schaefer.
	
Wed Dec  2 09:44:44 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* acinclude.m4, aclocal.m4, configure, configure.in: New macro
 	FC_XPM_PATHS to allow user to specify Xpm paths more easily, or
 	guess paths in /usr/local if the appropriate Xpm files are found
 	there.  Also renamed AC_EXPAND_DIR to FC_EXPAND_DIR.
	
Tue Dec  1 09:46:54 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* Makefile.in, config.h.in, configure, configure.in,
 	ai/Makefile.in, client/Makefile.in, common/Makefile.in,
 	data/Makefile.in, server/Makefile.am, server/Makefile.in: Fix to
 	not include -lnsl -lsocket twice on client link line (already once
 	in X_EXTRA_LIBS), but still include them (if required) for the
 	server, using new SERVER_LIBS.  Should also fix problems with
 	these libs on IRIX.  Don't check for socket func because of
 	resulting problems with LIBS.  Die with an error if can't find
 	X11/xpm.h include.
	
Sun Nov 29 07:05:09 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/finddlg.c, client/gotodlg.c, common/game.c,
 	common/game.h, server/citytools.c, server/civserver.c,
 	server/plrhand.c: Some minor fixes indicated by Solaris cc
 	warnings.  Removed some bad (void*) casts to the fourth (function)
 	arg of qsort; changed game.randseed to type int instead of
 	RANDOM_TYPE (= uint), so the (int*) in settings can point to it
 	properly, and because we can't store a non-int value in it anyway;
 	fixed some trivial cases of "statement not reached".
	
Sun Nov 29 04:23:17 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in: Use X_CFLAGS to get appropriate -I when
 	checking for X11/xpm.h
	
Sat Nov 28 07:21:15 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* README.AI: Band-aid update to README.AI
	
Sat Nov 28 07:20:15 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/clinet.c, common/shared.c, common/shared.h,
 	server/sernet.c: New function mystrerror, to work around systems
 	where a real strerror function wasn't found by configure.
	
Fri Nov 27 12:02:00 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/map.h: Set default diplcost to 0.  Patch submitted by
 	Mirar <mirar@idonex.se>.
	
Fri Nov 27 11:32:43 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/helpdlg.h, client/menu.c, data/helpdata.txt: Added help
 	page for Zones of Control.
	
Fri Nov 27 11:18:44 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* acinclude.m4, aclocal.m4, configure: Fixed FC_CHECK_X_LIB to put
 	LIBS rightmost on trial linker line.  Patches submitted by Sverker
 	Wiberg and Greg Wooledge.
	
Fri Nov 27 11:15:58 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Makefile.am, client/Makefile.in: Fixed client link line
 	to not include X_PRE_LIBS twice.  Patch submitted by Greg
 	Wooledge.
	
Fri Nov 27 11:12:52 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/repodlgs.c, common/city.c, common/city.h, common/game.c,
 	common/game.h: Fixed minor problem with the city report if any
 	cities have duplicate names or truncated names.  In the process
 	improved city report popup-time for large numbers of cities by
 	sorting on city pointers rather than city_id's.  Changed
 	city_name_compare() to operate on city pointers rather than
 	city_id's, and moved from game.c to city.c.  Changed city report
 	to indicate truncated names with a "." at the end.
	
Thu Nov 26 10:45:44 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/city.c: An additional city name pool for use by races
 	which run out of city names.  Names are small town names from the
 	GPL'd game xconq.  Patch submitted by Massimo Campostrini
 	<campo@mailbox.difi.unipi.it>.
	
Thu Nov 26 10:43:37 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/xmain.c: Initialize the random number generator in the
 	client, for city name suggestions.
	
Thu Nov 26 10:35:50 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Freeciv.h, client/repodlgs.c, data/Freeciv: Allow city
 	names up to length 31 (ie MAX_LENGTH_NAME-1) when naming or
 	renaming a city.  In the city report abbreviate names longer than
 	15 characters.
	
Thu Nov 26 07:18:55 1998  Lalo Martins <lalo@debian.org>:

	* debian/rules: changed CREDITS for AUTHORS in debian/rules
	
Thu Nov 26 07:01:27 1998  Lalo Martins <lalo@debian.org>:

	* debian/changelog, debian/civ, debian/civ.man,
 	debian/civclient.6, debian/civserver.6, debian/control,
 	debian/copyright, debian/menu, debian/rules: updating the debian/
 	directory
	
Thu Nov 26 06:45:07 1998  Lalo Martins <lalo@debian.org>:

	* build.debian: script to automatically build Debian packages of
 	CVS snapshots, directly from the local CVS tree
	
Wed Nov 25 11:51:45 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/game.c, common/game.h, server/civserver.c,
 	server/gamehand.c, server/plrhand.c, server/stdinhand.c,
 	server/stdinhand.h: Removed "default" skill level.  Instead set
 	and display skill levels explicitly.  Changed default skill level
 	to "easy".  Set skill level explicitly for aifill players and when
 	a human player is toggled to ai control.  New function
 	set_ai_level_direct().
	
Wed Nov 25 11:38:11 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/player.c, common/player.h, server/plrhand.c,
 	server/settlers.c, server/stdinhand.c: Implemented
 	player.ai.expand to make easy mode AI less expansionistic.
	
Wed Nov 25 11:26:11 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advmilitary.c, ai/aicity.c, ai/aihand.c, ai/aiunit.c,
 	server/settlers.c: Modified some AI decisions to be fuzzy.
	
Wed Nov 25 11:19:46 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/player.c, common/player.h, server/plrhand.c,
 	server/stdinhand.c: Framework for fuzzy AI decisions for easy AI
 	mode.
	
Wed Nov 25 07:17:38 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/helpdlg.c, client/optiondlg.c: Fudged empty switch/goto
 	labels, to placate Solaris cc/xmkmf/makedepend.  Based on
 	information from Reinier Post.
	
Wed Nov 25 07:08:58 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/packhand.c: In handle_unit_info(), for a new unit,
 	initialize unit unhappiness, upkeep, fuel, and ai.control, based
 	on packet rather than to zero.  Fuel part fixes a bug with display
 	of bomber moves left, reported by Andrew Schulman; upkeep and
 	unhappiness parts fix bug where the unit upkeep and unhappy icons
 	in the city report were not shown initially when a player
 	reconnects.
	
Wed Nov 25 07:04:05 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/helpdlg.c: Fixed help on wonders; was accidently showing
 	improvement style information, with upkeep instead of obsolete-by.
  	Bug reported by Massimo Campostrini.
	
Sun Nov 22 06:04:56 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* Imakefile: Fixed position of client/Freeciv.h rule, thanks to
 	Reinier Post.  Also changed the rule to add the comments at the
 	top of Freeciv.h
	
Sat Nov 21 08:04:53 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in: Changed to avoid using "test -z" (for
 	testing Xaw3d) since caused problems on Solaris.
	
Sat Nov 21 07:45:08 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* config.h.in, configure: Autogenerated file updates.
	
Sat Nov 21 07:42:58 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure.in: Don't do the X-related configure tests if
 	--disable-client, to allow building the server on a machine
 	without X.  From a patch by Sverker Wiberg.
	
Sat Nov 21 07:41:46 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure.in: Minor corrections to VERSION and PACKAGE defines
 	pointed out by Per Mathisen.  This change makes VERSION and
 	VERSION_STRING in config.h identical, but it seems easiest to
 	leave them both there.
	
Sat Nov 21 07:40:46 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* acconfig.h, configure.in, client/pixcomm.c, client/pixcommp.h:
 	Allow using of Xaw3d via a configure option, --with-xaw3d.  Thanks
 	to xaw3d patch by Trent, and configure patch by Markus Linnala.
	
Fri Nov 20 23:48:02 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/registry.c: Minor extensions to registry format to allow
 	future use with client options file: allow '#' as a comment
 	character, and allow space before equals sign.
	
Fri Nov 20 23:45:22 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/optiondlg.c: Added a currently unused line to the client
 	options files, so that in the future we should be able to
 	transparently change to using registry functions to parse this
 	file.
	
Fri Nov 20 23:42:36 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/climisc.c, client/graphics.c, client/graphics.h,
 	common/shared.h: Moved "vers" define from graphics.h to shared.h
 	(in future to config.h?) and renamed to WORD_VERSION; allows
 	removing includes for config.h and shared.h in graphics.h
	
Fri Nov 20 23:24:04 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/maphand.c: Swamps caused by global warming no longer
 	retain irrigation.
	
Wed Nov 18 12:10:32 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* acconfig.h, acinclude.m4, aclocal.m4, config.h.in, configure,
 	configure.in: Put configured FREECIV_DATADIR into config.h, for
 	even tidier compile lines.
	
Wed Nov 18 11:10:35 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/cityturn.c: More minor fixes to foodstock with a granary,
 	re citysize and odd values of game.foodbox, this time for famine
 	situations.
	
Tue Nov 17 09:41:41 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/cityturn.c: Improvements to code and for odd foodbox, in
 	city_increase_size(), suggested by Tony Stuckey.
	
Tue Nov 17 09:19:12 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/gotohand.c: Made the warstack queue into a circular
 	queue, to fix a bug where we could write past the end of warstack
 	for large maps.  Fixes a segfault bug reported by Andrew Schulman.
	
Tue Nov 17 08:01:38 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/repodlgs.c: Made some columns in the city report right
 	justified and some left justified.
	
Tue Nov 17 07:59:24 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/plrhand.c, server/stdinhand.c: Formatted the titles of
 	some reports better.
	
Mon Nov 16 11:02:54 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/connectdlg.c: Fixed a bug where the metaserver dialog
 	sometimes became unavailable.  Bug reported by Nicolas Brunel
 	<brunel@ham.esil.univ-mrs.fr>.
	
Mon Nov 16 10:35:35 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c: Fixed bug where huts reappeared when
 	reloading a savegame based on a scenario.  Bug reported by Andrew
 	Schulman <andrex@alw.nih.gov>.
	
Sun Nov 15 08:41:15 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/optiondlg.c: Avoid using snprintf (non-standard).
	
Sun Nov 15 08:04:54 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/shared.h: Conditionally put VERSION defines back in
 	shared.h (for now?) so Imakefile and Makefile.noimake can work.
	
Sun Nov 15 03:15:21 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* stamp-h.in: Put stamp-h.in in cvs again.
	
Sun Nov 15 01:53:21 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* Makefile.in, aclocal.m4, config.h.in, configure, ai/Makefile.in,
 	client/Makefile.in, common/Makefile.in, data/Makefile.in,
 	server/Makefile.in: Autogenerated files from previous batch of
 	changes: aclocal ; autoheader ; automake ; autoconf
	
Sun Nov 15 01:49:43 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* Makefile.am, configure.in: Configure options `--disable-client'
 	and `--disable-server', to only build the server or client
 	respectively.  The default is to build both.  From a patch
 	submitted by Sverker Wiberg <sverkerw@Update.UU.SE>.
	(But note: I believe configure still checks (and insists on) the X
 	libs even if disable-client; needs to be fixed. --dwp)
	
Sun Nov 15 01:48:52 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure.in, client/Makefile.am: Link only the civclient
 	against X11 libs.  From a patch by Markus Linnala.
	
Sun Nov 15 01:48:08 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* Makefile.am, acconfig.h, acinclude.m4, configure.in: Attempt at
 	improving detection of X11 libraries.  Based on patches by Markus
 	Linnala and Greg Wooledge.
	
Sun Nov 15 01:46:56 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* Makefile.am, acconfig.h, configure.in, common/shared.h: Use
 	config.h and -DHAVE_CONFIG_H instead of very long compile lines.
  	From a patch by Markus Linnala; also thanks to Per Mathisen.
	
Sun Nov 15 01:45:45 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure.in: Relatively simple and self-contained configure.in
 	changes, based on a patch submitted by Markus Linnala
 	<maage@cs.tut.fi>.
	
	Setup all version defines fully in configure.in
	
	Added AM_MAINTAINER_MODE; use configure option
 	--enable-maintainer-mode to enable make rules and dependencies not
 	useful (and sometimes confusing) to the casual installer.  (Note
 	this doesn't do what I thought; it determines whether aclocal etc
 	are rerun by make -- it doesn't affect source compilation
 	dependencies. -- dwp)
	
	Configure debugging options: --enable-debug=[no/minimum/yes]
 	--enable-debug=no defines NDEBUG, so asserts aren't included at
 	binary. --enable-debug=yes defines DEBUG. It does not have any
 	effect now, but maybe it is needed. --enable-debug=minimum does
 	not define anything (this is the default).  (Removed old debug
 	example.)
	
	Added program checks for AWK, LN_S (from autoscan); commented out
 	AC_PROG_MAKE_SET already done by AM_INIT_AUTOMAKE.
	
	Moved checks for library functions down (per autoconf docs).
	
	Combined AC_CHECK_HEADERS lines, and added sys/ioctl.h (from
 	autoscan).
	
	Added AC_STRUCT_TM (from autoscan).
	
	Added strstr to AC_CHECK_FUNCS, and comment re gettimeofday (from
 	autoscan).
	
Sun Nov 15 01:44:11 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/clinet.c, client/connectdlg.c, client/graphics.c,
 	client/graphics.h, client/helpdlg.c, client/optiondlg.c,
 	client/xmain.c, common/shared.h, server/civserver.c,
 	server/gamehand.c, server/meta.h: Conditionally included config.h
 	for those files which will need it (at this stage only files which
 	use VERSION defines, since other configure defines are not used).
  	From a patch by Markus Linnala.
	
Sun Nov 15 01:42:38 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/Makefile.am, client/Makefile.am, server/Makefile.am: Removed
 	space between -I and its argument, and other minor formating.
  	From a patch my Markus Linnala.
	
Sat Nov 14 06:23:41 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/capability.c: Use mystrdup instead of strdup.
	
Sat Nov 14 00:55:38 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Makefile.am, client/Makefile.in: Fix to allow building
 	freeciv in another tree than the sourcetree.  Patch submitted by
 	Mirar <mirar@idonex.se>.
	
Sat Nov 14 00:52:51 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/Makefile.am, data/Makefile.in: Added scenario savegames to
 	pkgdata_DATA so they get included in distribution.
	
Sat Nov 14 00:49:59 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/menu.c, client/messagedlg.c, client/messagedlg.h,
 	client/optiondlg.c, client/optiondlg.h, client/repodlgs.c,
 	client/repodlgs.h, client/xmain.c: Added ability to save and
 	reload client "settings", that is: options, message options, and
 	city report configuration.  The settings file is
 	$HOME/.civclientrc, or instead $FREECIV_OPT if that environment
 	variable is set.  Settings are loaded at startup if the file
 	exists, and saved from a game menu option.  Based on a patch
 	submitted by Massimo Campostrini <campo@mailbox.difi.unipi.it>.
	
Sat Nov 14 00:10:10 1998  Mitch Davis <mjd@alphalink.com.au>:

	* AUTHORS, Makefile.am, Makefile.in: Moved the contents of CREDITS
 	to AUTHORS, as the Makefile that configure generates looks for
 	AUTHORS, not CREDITS.  I've been meaning to do this for a long
 	time.
	
Sat Nov 14 00:02:57 1998  Mitch Davis <mjd@alphalink.com.au>:

	* Imakefile: This patch recreates client/Freeciv.h from
 	data/Freeciv.  Patch submitted by Reinier Post <rp@win.tue.nl>.
	
Thu Nov 12 08:33:47 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* configure, configure.in, client/Makefile.in: Set
 	-DFREECIV_DATADIR to pkgdatadir without modifying
 	client/Makefile.in directly.  Patch submitted by Mirar
 	<mirar@idonex.se>.
	
Thu Nov 12 07:57:22 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/messagedlg.c, common/events.h, server/cityturn.c,
 	server/unitfunc.c, server/unithand.c: Fixed some annoyances with
 	the messages window: Added some new event types:
 	E_CITY_AQ_BUILDING for when a city needs an aqueduct/sewer and is
 	already building one (inspired by a patch by Michael Bickel);
 	E_UNIT_LOST_ATT and E_UNIT_WIN_ATT to be able to differentiate in
 	message options between combat results from defenders (initiated
 	by others) and attackers (initiated by self); similarly
 	E_MY_DIPLOMAT for diplomatic actions initiated by self (as opposed
 	to existing E_DIPLOMATED for those initiated by others).  Also
 	default some event messages as "output window only".
	
Thu Nov 12 07:27:15 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/messagewin.c: Fixed meswin_allocate() to add an extra
 	space for the string_ptrs sentinel.
	
Thu Nov 12 07:09:55 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/city.c: Fixed could_build_improvement() so wonders can be
 	built even when obsolete.
	
Tue Nov 10 10:44:36 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Freeciv.h, client/civclient.c, client/menu.c,
 	client/messagedlg.c, client/messagedlg.h, client/messagewin.c,
 	client/packhand.c, common/events.h, data/Freeciv: Combined the
 	message options and message filter dialogs into a single dialog,
 	and allow requesting individual popups for any event type, not
 	just the three in the previous "Message options".  Also, you can
 	now specify independently whether event messages go to the output
 	window and/or the messages window.  Also, the message labels in
 	the dialog are sorted alphabetically.
	
Tue Nov 10 10:34:50 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/chatline.c, client/chatline.h, client/climisc.c,
 	client/climisc.h, client/menu.c: Added menu option to clear the
 	output window.  Also decided to put all output window functions
 	into chatline.c, with append_output_window
	(that is, moved log_output_window there from climisc.c).
	
Mon Nov  9 11:15:04 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/unit.c, server/citytools.c, server/unitfunc.c,
 	server/unitfunc.h, server/unithand.c, server/unittools.c:
 	Diplomat/Spy fixes from Kris Bubendorfer
 	<Kris.Bubendorfer@MCS.VUW.AC.NZ>.
	
	1.  You now no longer get the the spy/diplomat menus if you have
 	insufficient moves to complete.
	
	2.  When you bribe a unit you no longer get all the hit points
 	back.  Therefore bribing a damaged unit will result in you getting
 	a unit with the same damage.  This also applies when you bribe a
 	city - all units inside retain their original hit points.
	
	3.  As per an earlier consensus on the list, damaged units cost
 	less to bribe by the following formula:

	        cost = original_cost/2 + (original_cost/2 * hp_left/hp)

	Therefore a unit with just 1 hp left will cost just over half the
 	undamaged cost.
	
Sun Nov  8 00:32:52 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c: Fix per-connection capabilities: in the
 	server the client cap string was never copied into the connection
 	struct!  Also use our_capability instead of raw CAPABILITY in
 	accept_new_player.
	
Sat Nov  7 02:55:28 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/city.c, data/helpdata.txt: Changed possible locations
 	where Hydro Plant (and Hoover Dam) can be built to match Civ1 (was
 	next to Ocean/River, now Mountain/River).
	
Sat Nov  7 02:35:28 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/map.h: Increased maximum value of the researchspeed
 	server option from 20 to 100.
	
Sat Nov  7 02:23:58 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* README.AI, server/stdinhand.c: Made the default AI skill level
 	correspond to "normal".
	
Thu Nov  5 07:46:53 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c, client/clinet.c, client/clinet.h,
 	client/packhand.c, client/xmain.c, common/packets.c,
 	common/packets.h, common/shared.h, server/civserver.c: Implemented
 	per-connection capabilities.  Replaced c_capability and
 	s_capability with our_capability, and added capability string to
 	connection struct.  See comments in common/shared.h
	
Thu Nov  5 07:29:06 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aicity.c, common/unit.c, common/unit.h, server/citytools.c,
 	server/unitfunc.c, server/unitfunc.h, server/unithand.c,
 	server/unithand.h: New function
 	transporter_min_cargo_to_unitlist(), for when a boat is disbanded
 	etc and there are other boats on the square.  New functions
 	wipe_unit_safe() and handle_unit_disband_safe() which take an
 	iterator argument and iterate past wiped units to avoid dangling
 	pointers and segfaults.  Unlink passenger genlist in wipe_unit
 	(wipe_unit_safe) to free genlist memory.
	
Thu Nov  5 07:06:59 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/messagedlg.c: Fixed some spelling in message_text[].
	
Thu Nov  5 07:00:43 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Freeciv.h, client/repodlgs.c, data/Freeciv: Configurable
 	city report: can choose which columns are displayed, and extra
 	columns are now available.  Default setup is similar to before,
 	with some formating changes.  Available new columns are: more
 	concise rapture/disorder display; specialists; number of trade
 	routes; pollution.  It should be easy to add additional columns.
	
Thu Nov  5 06:16:51 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/cityhand.c: Bounds check argument of find_city_by_id, to
 	avoid possible segfault when it is called with unit.ai.charge
 	which may refer to a unit id.
	
Sat Oct 31 10:31:00 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/unittools.c: Fixed probable problems with
 	find_a_unit_type() (function to pick a unit_type found in hut).
  	Previous version had an off-by-one error and assumed Chivalry was
 	always found before Gunpowder.

Sat Oct 31 10:22:24 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/map.c, common/map.h, server/mapgen.c: Moved
 	add_specials() from common/map.c to server/mapgen.c where it
 	belongs.
	
Sat Oct 31 10:09:45 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/gamehand.c, server/plrhand.c: Removed tag "scorelog" from
 	the savefile_options string, and use secfile_lookup_int_default()
 	instead, since its not worth cluttering up savefile_options for a
 	single entry.
	
Thu Oct 29 09:34:31 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/game.c, common/game.h, common/map.h, common/shared.c,
 	common/shared.h, server/civserver.c, server/gamehand.c,
 	server/mapgen.c, server/plrhand.c, server/stdinhand.c:
 	Deterministic platform-independent pseudo-random number generator,
 	from patch submitted by Cedric Tefft <cedric@earthling.net>.
	
	Also added "to_client" field to settings (server options), to
 	avoid sending the random seeds (and also saveturns and scorelog)
 	when the client requests "report server options" (--dwp).
	
	Notes from Cedric:
	
	1) Although the PRNG seed is an unsigned 32-bit int, neither the
 	game file nor the server options know how to deal with any numbers
 	other than signed integers (no longs, no unsigned ints, etc.), so
 	in a few places I've had to strip the high bit off of the seed in
 	order to ensure consistency across platforms.
	
	2) The maximum value for the map seed is now limited to the
 	maximum value for the random number generator seed instead of
 	50000 (which I suspect was chosen somewhat arbitrarily anyway).
	
	3) I modified the map generator a tiny bit so that the map seed
 	variable takes on the value actually used to generate the map
 	(assuming it was zero to begin with).  Previously, a "random" map
 	seed was used to generate a new map, but this value was never
 	stored anywhere, so there was no reliable way to reproduce any
 	randomly generated map.
	
	4) If anybody has questions about the algorithm, please see the
 	code.  Believe it or not, I've actually included a relevant
 	comment or two. ;->
	
Tue Oct 27 13:50:47 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/cityhand.c, server/cityturn.c, server/unitfunc.c,
 	server/unithand.c, common/events.h, client/messagedlg.c: Added
 	some new event types for messages that previously used E_NOEVENT.
  	Reworded a lot of the diplomat/spy messages for grammer.
	
Tue Oct 27 12:10:52 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/gamehand.c: Cosmetic fix: don't save junk values for
 	ord_city for unsupported units.
	
Tue Oct 27 12:03:20 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c: Fixed behaviour when server option
 	saveturns=0 (should mean never auto-save).  Bug reported by Ben
 	Korvemaker <benjamin@cs.ualberta.ca>.
	
Sun Oct 25 05:24:50 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advdomestic.c, common/game.c, common/game.h,
 	server/citytools.c, server/cityturn.c: Added game.aqueduct_size
 	and game.sewer_size (max size of a city without Aqueduct/Sewer) to
 	be configurable etc in the future (via rulesets).
	
Sun Oct 25 05:08:21 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advdomestic.c, ai/advmilitary.c, ai/aicity.c, ai/aihand.c,
 	ai/aiunit.c, common/city.c, common/city.h, server/citytools.c,
 	server/cityturn.c, server/settlers.c: Add and use new function
 	city_got_effect(), which is whether a city has an improvement or
 	the same effect via a wonder.  (Uses wonder_replacement().)
	
Sun Oct 25 04:38:30 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/messagewin.c, client/meswindlg.h, client/packhand.c:
 	Buffer the messages window for "end-of-turn" messages, similar to
 	city report buffering.
	
Sun Oct 25 04:35:21 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Freeciv.h, client/messagewin.c, data/Freeciv: Removed the
 	limit (previously 32 lines) in the messages window, and made the
 	messages window scrollable.  When the window has enough messages
 	to be scrolling and new messages arrive, the window scrolls down
 	to the bottom so the new messages are noticed.
	
Sun Oct 25 04:07:59 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/player.h, server/civserver.c, server/plrhand.c,
 	server/stdinhand.c: Save and reload individual AI skill levels.
  	Also, show the skill level of each AI player in the server player
 	listing.  Do the right thing if server commands "hard" etc are
 	used with a name which doesn't match any player.
	
Sun Oct 25 03:32:34 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/repodlgs.c: Increased the number of columns in the
 	science report by 1 when the number of known techs is large (>60).
	
Sun Oct 25 03:28:49 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/helpdata.txt: Adjusted help text for Controls, giving more
 	space to keyboard controls, and expanded some of the keyboard
 	control explanations.  Added auto-e(x)plore.
	
Sun Oct 25 03:23:20 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/mapgen.c: Changed some intermediate floating point
 	calculations to pure integer calcs to reduce machine-dependence.
	
Sat Oct 24 15:46:08 1998  Trent Piepho <xyzzy@u.washington.edu>

	* data/tiles.xpm: One of the food numbers (the '0') was white
 	instead of yellow.  Also moved the auto-explore 'X' to the
 	lower-left corner, like the auto-settler 'A'.
	
Sat Oct 24 13:43:34 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/xmain.c: Changed graphics exposures to off in the
 	civclient GCs.  This _greatly_ reduces the number of events the X
 	server generates.  This fixes a problem where client memory usage
 	would swell as the XLib event queue would fill with tens of
 	thousands of graphics exposure events.
	
Sat Oct 24 13:24:27 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/packhand.c: The wakeup patch from a while back messed
 	something up.  Units stopped getting repainted when they changed
 	status.  For instance, if a unit left GOTO state, the "G" wouldn't
 	go away until the unit started to flash.
	
Fri Oct 23 08:33:19 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/citytools.c: Rewrote the function transfer_city_units().
  	Originally to remove calls to game_find_city_by_coor(), but it was
 	inefficient and looped over more units that it needed to.  Also
 	took out an ugly printf() call.
	
Fri Oct 23 08:29:56 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/unitfunc.c: Replaced game_find_city_by_coor() with
 	map_get_city().
	
Fri Oct 23 08:28:42 1998  Trent Piepho <xyzzy@u.washington.edu>

	* common/game.c, common/game.h: Removed the function
 	game_find_city_by_coor().  It was only used five times, and is
 	exactly the same as map_get_city() which is used 95 times.
	
Fri Oct 23 08:27:49 1998  Trent Piepho <xyzzy@u.washington.edu>

	* common/city.c: ifdef'd out the unused function
 	city_list_find_coor()
	
Fri Oct 23 08:26:34 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/citydlg.c, client/mapctrl.c: Replaced
 	game_find_city_by_coor() with the indentical map_get_city().
	
Thu Oct 22 18:00:57 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/cityturn.c, server/cityturn.h: Took out the
 	set_worker_city() function to move into common.
	
Thu Oct 22 17:58:44 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/citytools.c: Update to refect change of worked from
 	player number to city pointer.  ifdef'd out some old code that
 	wasn't used.
	
Thu Oct 22 17:54:27 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/cityhand.c: Moved a few things to/from remove_city() and
 	game_remove_city().
	
Thu Oct 22 17:43:11 1998  Trent Piepho <xyzzy@u.washington.edu>

	* ai/aicity.c: Since worked is now a city pointer instead of a
 	player number, some code could be made more efficient.
	
Thu Oct 22 17:41:51 1998  Trent Piepho <xyzzy@u.washington.edu>

	* common/map.c, common/map.h: Changed the worked member of the
 	tile structure to a pointer to the city using the tile instead of
 	the player number.  Knowing what city is using a tile is more
 	usefull than knowing what player is using it, and pcity->owner
 	easily gives the player number.
	
Thu Oct 22 17:38:16 1998  Trent Piepho <xyzzy@u.washington.edu>

	* common/game.c, common/game.h: Changed game_remove_city to use a
 	city pointer instead of a city ID.  Put the code from the server's
 	remove_city() that remove the workers into game_remove_city().
  	Took the dealloc_id() call out of g_r_c and put it into the
 	server.
	
Thu Oct 22 17:34:28 1998  Trent Piepho <xyzzy@u.washington.edu>

	* common/city.c, common/city.h: Moved in the set_worker_city()
 	function from the server code.  Added two new functions
 	map_to_city_[xy](pcity,x y) which convert game map coordinates
 	into the city map coordinates.
	
Thu Oct 22 17:31:36 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/climisc.c: Reflected change of game_remove_city from
 	taking a city id to a city pointer as an argument.
	
Thu Oct 22 17:29:37 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/mapctrl.c: Made the show workers key on the map show the
 	city which is using the tile under the mouse instead of just the
 	city under the mouse.
	
Thu Oct 22 17:22:35 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/packhand.c: Instead of modifying the city map directly,
 	use the set_worker_city function like the server.
	
Wed Oct 21 13:09:00 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/game.c, common/game.h, common/map.h, server/cityturn.c,
 	server/gamehand.c, server/stdinhand.c: Added server option
 	aqueductloss; determines percentage of food lost when a city wants
 	to grow but needs an aqueduct(/sewer).  Default is 0.  Loss is
 	halved if city has a granary.  Mostly from a patch submitted by
 	Mark Brown <broonie@tardis.ed.ac.uk>
	
Tue Oct 20 17:40:49 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/civserver.c: Made global warming messages use the
 	E_WARMING event.
	
Tue Oct 20 17:24:46 1998  Trent Piepho <xyzzy@u.washington.edu>

	* data/Freeciv, client/Freeciv.h, client/menu.c,
 	client/messagedlg.c, client/messagedlg.h, client/packhand.c: Added
 	a new menu item to the Game menu, Msg Filter.  This lets you
 	filter out types of messages you aren't interesed in.  Added the
 	new dialog for it to messagedlg.c, and put the message filtering
 	code in packhand.c.
	
Tue Oct 20 15:11:30 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/cityturn.c: Server sends a message when a city grows.
  	Patch from Massimo Campostrini, with some small changes by me.
	
Tue Oct 20 12:53:12 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c: Added "static char horiz_line[]" to make the
 	code tidier (IMO).
	
Tue Oct 20 12:48:56 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/europe.sav: Commented out entries which don't get used
 	(revealed by section_file_check_unused()).
	
Tue Oct 20 12:47:28 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/civserver.c: Added call to section_file_check_unused();
 	adjusted calls (was two, now one) to section_file_free() after
 	load.
	
Tue Oct 20 12:44:12 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/helpdlg.c, data/helpdata.txt: Modified help system for
 	new unit flags.
	
Tue Oct 20 12:32:46 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/advmilitary.c, ai/aiunit.c, client/dialogs.c,
 	client/mapctrl.c, common/city.c, common/unit.c, common/unit.h,
 	server/gotohand.c, server/unitfunc.c, server/unithand.c: Added
 	three new unit flags F_TRIREME, F_NUCLEAR and F_SPY, and modified
 	relevant code to use these flags instead of checking the
 	enumerated unit type against U_TRIREME, U_NUCLEAR, U_SPY.
	(This is so that all unit special effects are handled with unit
 	flags.)
	
Mon Oct 19 09:10:24 1998  Trent Piepho <xyzzy@u.washington.edu>

	* data/helpdata.txt: Added a bit about the "t" command.
	
Mon Oct 19 09:06:38 1998  Trent Piepho <xyzzy@u.washington.edu>

	* data/Freeciv, client/Freeciv.h, client/mapctrl.c,
 	client/mapctrl.h, client/xmain.c: Adds a new command the the map.
  	Push "t" with the mouse on a city to see what tiles the city is
 	using.
	
Sun Oct 18 04:12:43 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/helpdata.txt: "Controls" help text: fixed an over-long
 	line; added "arrow keys: Move unit".
	
Sun Oct 18 03:11:18 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/gamehand.c, server/maphand.c: Include all of the server
 	options in the savefile, even those which only have effect at the
 	start of the game.  So now the server options always show the
 	values which were actually used.  Now always save map.xsize and
 	map.ysize as "map.width" and "map.height" (they used to be saved
 	as xsize and ysize when PRE_GAME_STATE).  Save and reload
 	game.diplchance.  Don't call map_init() in map_load (unnecessary
 	and over-writes reloaded values).  Simplify code used to load:
 	version, tmp_server_state, metaserver_info_line.
	
Sun Oct 18 02:59:48 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* ai/aiunit.c, common/city.c, common/game.c, common/player.c,
 	common/player.h, common/unit.c, server/plrhand.c,
 	server/unitfunc.c: New function player_find_city_by_id(pplayer,
 	city_id) which uses the best method depending on global variable
 	is_server.  New function player_owns_active_wonder(pplayer,
 	improvement_id).
	
Sun Oct 18 02:43:15 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/helpdata.txt: Help text changes: Airport: reduced vertical
 	space; Nuclear unit: added note about Manhattan Project; Combat:
 	clarified firepower of defending ships.
	
Sun Oct 18 02:40:58 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* data/earth-80x50.sav: Fixed English start position so they don't
 	start on an ocean square.  Patch submitted by Daniel Gudlat
 	<gudlat@informatik.hu-berlin.de>.
	
Sat Oct 17 12:04:27 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/connectdlg.c: Metaserver window doesn't appear if the
 	metaserver couldn't be contacted.  When it does appear, it's
 	positioned better on the screen.  Also, causing a second (and
 	third..) metaserver window to appear by clicking on the metaserver
 	button again is fixed.
	
Sat Oct 17 02:10:59 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/registry.c, server/registry.h: Extended the "registry"
 	format to include "vectors" and "tables", and documented the
 	previous and extended formats.  Use tabular format to reduce size
 	of city and unit sections in savegames: total savegame size can be
 	reduced by up to factors of a few for large games.  Include code
 	to track how many times values in the registry are looked up, for
 	example to help notice save/reload mismatch.  But
 	section_file_check_unused() is not yet called anywhere.
	
Sat Oct 17 01:51:26 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* server/stdinhand.c: Two changes to server command parsing: Don't
 	strip non-alpha-numeric characters from the start of command
 	argument.  This allows saving to files which start with "/", "..",
 	etc.  Patch submitted by Michael Bickel
 	<Michael.Bickel@informatik.uni-erlangen.de>.  Lines where the
 	first non-whitespace character is "#" are treated as comment
 	lines.  This allows comments in files which are read in with the
 	"-r" command-line flag.
	
Sat Oct 17 00:20:26 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/helpdlg.c: Avoid calling is_wonder() with B_LAST.
	
Fri Oct 16 13:22:11 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/civclient.c, client/helpdlg.c, client/packhand.c,
 	common/game.c, data/helpdata.txt: Improved the internals of the
 	help system to ensure (now and in the future) better consistency
 	on what units, techs, etc, are shown.  There are now well defined
 	sections in helpdata.txt for the following categories: unit types,
 	techs, improvements, wonders.  Within each category, say units, a
 	help node which doesn't match any actual unit (in terms of
 	unit_type_exists(), ie, implemented units), is omitted.  Any
 	actual unit missing in the helpdata.txt has a help node
 	automatically generated (as if there was an empty entry in
 	helpdata.txt).  Finally each category list is automatically sorted
 	alphabetically.
	
	I moved the "boottime" stuff in client/packhand.c:
 	handle_game_info() into client/civclient.c:set_client_state(),
 	because I think thats more correct in the case that a client
 	disconnects and then reconnects without quiting.  Also now the
 	help system is rebootable, because it depends (in principle, if
 	not in practice) on set_civ_style(), and in future will depend on
 	rulesets, which could change if you quit and then reconnect to a
 	different game.
	
	I removed the "indent" field of the struct help_item, because it
 	wasn't actually used.  I changed to help nodes data to use a
 	genlist rather than having its own implementation of a singlely
 	linked list.  (Mainly I wanted to be able to use genlist_sort().)
	
	In helpdata.txt I changed the "@" tags (which I had introduced in
 	a previous enhancement) to @START_UNITS, @END_UNITS etc to reflect
 	the new "category sections".
	
	With the new auto-generation of help nodes, any nodes with blank
 	text in helpdata.txt could in principle be removed.  I initially
 	did that, but then decided to leave them in, so that its easy to
 	add any extra text for any given node.
	
Fri Oct 16 13:06:42 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/city.c, common/city.h, common/tech.c, common/tech.h,
 	common/unit.c, common/unit.h: New convenience functions
 	find_tech_by_name(), find_improvement_by_name(), and
 	find_unit_type_by_name().  Just linear search the data arrays to
 	match a given name.  Not used yet, but will be soon.
	
Fri Oct 16 12:49:50 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* common/city.c, common/city.h, common/tech.c, common/tech.h,
 	common/unit.c, common/unit.h: New functions unit_type_exists(),
 	tech_exists(), and improvement_exists().  They do bounds checking,
 	and then check whether the specified element has been marked as
 	"removed", eg in the data tables or by set_civ_style().  Replaced
 	some existing bounds-check code by calls to these functions.
	
Fri Oct 16 12:22:10 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/inteldlg.c: Fixed bug where if a player is up to Future
 	Tech, that player's intelligence report regarding other players
 	would show them all as researching Future Tech even when they are
 	not.  Bug report and fix submitted by Massimo Campostrini
 	<campo@mailbox.difi.unipi.it>.
	
Fri Oct 16 12:00:43 1998  David Pfitzner <dwp@mso.anu.edu.au>:

	* client/Freeciv.h, client/civclient.c, client/messagewin.c,
 	data/Freeciv: Added a "Popup City" button to the messages window.
  	Related fix-ups: Removed some unused file-level variables in
 	messagewin.c Renamed misnamed variable and function relating to
 	the "Goto Location" messages button.  Deactivate the goto/popup
 	buttons when messages are cleared.  Clear the messages when
 	connection is terminated or lost (so if the client reconnects to a
 	different game, the messages from the previous game are not still
 	there).
	
Fri Oct  9 07:44:10 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/citytools.c, server/citytools.h, common/city.c,
 	common/city.h: Moved two functions from the server to common, so
 	the client can use them.
	
Thu Oct  8 23:46:05 1998  Mitch Davis <mjd@alphalink.com.au>:

	* client/xmain.c: This patch avoids a "convert int to ptr" warning
 	on an Alpha running Linux.  Patch submitted by Alex Rhomberg
 	<rhomberg@ife.ee.ethz.ch>.
	
Thu Oct  8 23:43:59 1998  Mitch Davis <mjd@alphalink.com.au>:

	* client/repodlgs.c: This patch removes the limit on how many
 	cities you can have in the city report.  Patch submitted by David
 	Pfitzner <dwp@mso.anu.edu.au>.
	
Thu Oct  8 23:42:23 1998  Mitch Davis <mjd@alphalink.com.au>:

	* ai/aicity.c, ai/aiunit.c: Fixes for some typoes in the AI code.
  	Patch submitted by David Pfitzner <dwp@mso.anu.edu.au>.
	
Wed Oct  7 23:41:19 1998  Mitch Davis <mjd@alphalink.com.au>:

	* server/civserver.c: The saveturns server option has a problem in
 	that if you change the value, the new value doesn't take effect
 	until after the next save caused by the current value.  Eg: if
 	you're playing with saveturns=10, and then decide to change to
 	saveturns=1, the changeover doesn't occur until _after_ the
 	current block of 10 turns is finished.  This patch fixes the
 	problem.  Patch submitted by David Pfitzner <dwp@mso.anu.edu.au>.
	
Wed Oct  7 23:26:04 1998  Mitch Davis <mjd@alphalink.com.au>:

	* debian/rules: The 'debian/rules' file still references CHANGES
 	rather than the new (as of 1.6.1) ChangeLog, so building the
 	package fails.  Patch submitted by Robert Donn
 	<squirk@ihug.co.nz>.
	
Wed Oct  7 23:20:59 1998  Mitch Davis <mjd@alphalink.com.au>:

	* common/city.c, common/city.h, common/genlist.c,
 	common/genlist.h, common/unit.c, common/unit.h, server/gamehand.c,
 	server/plrhand.c: This patch preserves city list and unit list
 	orderings through save/reload, both the trivial fix of
 	pplayer->units and pplayer->cities, and also a more involved fix
 	to preserve the ordering in tile.units and city.supported_units.
  	Patch submitted by David Pfitzner <dwp@mso.anu.edu.au>.
	
Wed Oct  7 14:29:33 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/colors.c: Changed the yellow color so it actually looks
 	like yellow and not gray.
	
Wed Oct  7 13:35:33 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/gamehand.c, server/stdinhand.c: Fixed for some server
 	variables not being saved right.  Patch by David Pfitzner.
	
Tue Oct  6 23:50:49 1998  Mitch Davis <mjd@alphalink.com.au>:

	* server/mapgen.c: Recent CVS mapgen changes didn't seem to
 	realize the scenario patch is already in CVS, and overwrote the
 	scenario changes in mapgen.c, breaking scenarios.  This patch puts
 	the scenario changes back in.  Patch submitted by David Pfitzner
 	<dwp@mso.anu.edu.au>.
	
Mon Oct  5 10:18:30 1998  Trent Piepho <xyzzy@u.washington.edu>

	* data/Freeciv, client/Freeciv.h: Cleaned up errors xrdb found in
 	the resources.
	
Mon Oct  5 10:11:54 1998  Trent Piepho <xyzzy@u.washington.edu>

	* data/Freeciv, client/Freeciv.h, client/xmain.c: Made some of the
 	widgets look nicer with Xaw3d.  Cleaned up the econ buttons
 	somewhat.
	
Mon Oct  5 08:04:13 1998  Trent Piepho <xyzzy@u.washington.edu>

	* data/Freeciv, client/Freeciv.h: Stuck a Freeciv* infront of all
 	the resources.  I did a survey of Xt based programs, and they seem
 	split as to how they do their resources.  Some begin the resources
 	with the app class, other just begin with a *.  Putting the app
 	class first seems better to me, as it avoids conflicts with
 	another app's resources.  Well see how this works out.
	
Sat Oct  3 07:08:23 1998  Mitch Davis <mjd@alphalink.com.au>:

	* server/mapgen.c: Improvements to the map generation code, to
 	make player placement more stable and less predictable.  Patch
 	submitted by Peter Schaefer
 	<schaefer@malaga.math.uni-augsburg.de>.
	
Sat Oct  3 07:07:44 1998  Mitch Davis <mjd@alphalink.com.au>:

	* Makefile.noimake, client/Freeciv.h, client/Makefile.am,
 	client/Makefile.in: This patch modifies the (three) makefiles so
 	that a C style comment is included in client/Freeciv.h to tell
 	people not to edit it.  Patch submitted by Dee Jay Randall
 	<randal@cs.uregina.ca>.
	
Thu Oct  1 17:29:12 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/dialogs.c: Minor patch to make a bogus warning go away.
	
Wed Sep 30 23:18:38 1998  Mitch Davis <mjd@alphalink.com.au>:

	* common/log.c, server/stdinhand.c: Yet another fix for Peter
 	Schaefer's buggy repeated message log stuff.  Patch supplied by
 	David Pfitzner <dwp@mso.anu.edu.au>.
	
Wed Sep 30 20:26:11 1998  Trent Piepho <xyzzy@u.washington.edu>

	* data/tiles.xpm, data/units.xpm: The tiles and units XPM files
 	used a total of 124 different colors, but most of these colors are
 	very similar and wasted.  I changed them to use a total of 32
 	colors and then touched them up somewhat.  The new graphics are
 	much more colormap friendly on 8 bit systems and look almost
 	exactly the same.
	
Wed Sep 30 07:38:32 1998  Trent Piepho <xyzzy@u.washington.edu>

	* data/Freeciv, client/Freeciv.h, client/dialogs.c: Made the unit
 	select dialog have more than one column, depending on how many
 	units are in the square.  Cleaned up the code some, removed some
 	global variables which were never used, and took out an extra
 	include.
	
Wed Sep 30 01:02:31 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/dialogs.c: Moved an XSetForeground out of a loop, to
 	reduce unnecessary X events.  Took out the explicit setting of the
 	size of the unit selection buttons.  The explict size was wrong
 	under Xaw3d, and wasn't necessary.
	
Tue Sep 29 23:27:17 1998  Mitch Davis <mjd@alphalink.com.au>:

	* client/repodlgs.c: When city_report_dialog_update_city() is
 	called to update the text for a single city, the report is not
 	changed (so no flicker) if the new text is actually the same as
 	the old text.  Patch submitted by David Pfitzner
 	<dwp@mso.anu.edu.au>.
	
Tue Sep 29 23:24:44 1998  Mitch Davis <mjd@alphalink.com.au>:

	* common/log.c: There is some sloppyness in flog in the last
 	repeat message.  Added a few lines(in a hurry, I must admit).
  	Patch submitted by Peter Schaefer
 	<schaefer@malaga.math.uni-augsburg.de>.
	
Tue Sep 29 23:15:24 1998  Mitch Davis <mjd@alphalink.com.au>

	* server/cityhand.c: I added the few lines necessary to make
 	autoarrange update 'adjacent' cities, too.
	
	While testing, I noticed a quirk - disbanding a unit in a city
 	that has just been built and failing to change production from
 	warrior to settler.
	
	Fixed, with the side effect that the did_buy flag won't be set
 	anymore if there are enough shields to produce anyway.
	
	Patch submitted by Peter Schaefer
 	<schaefer@malaga.math.uni-augsburg.de>.
	
Tue Sep 29 23:13:40 1998  Mitch Davis <mjd@alphalink.com.au>:

	* common/log.c: This patch detected identical repeating log
 	messages, and issues a repeating message when this happens.  Patch
 	supplied by Peter Schaefer <schaefer@malaga.math.uni-augsburg.de>.
	
Mon Sep 28 18:14:46 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/Freeciv.h, client/citydlg.c, data/Freeciv: Added a new
 	button to the city dialog, which pops up the unit selection list
 	you would get for stacked units not in a city.  From a patch by
 	Massimo Campostrini.
	
Mon Sep 28 17:08:25 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/gamehand.c: Patch by David Pfitzner, remove huts on
 	player start positions.
	
Wed Sep 23 23:20:10 1998  Mitch Davis <mjd@alphalink.com.au>:

	* server/cityturn.c: When city size is 7, and you're on the verge
 	on expanding into a city of size 8, but you don't have an aqueduct
 	system set up, your Granary will still have its food supplies
 	halved. Same for cities of size 12 with Sewer systems.  Patch
 	submitted by Paul Cameron <pmcamero@socs.uts.EDU.AU>.  Note, I had
 	to apply this patch by hand, hope it's alright.
	
Wed Sep 23 23:09:46 1998  Mitch Davis <mjd@alphalink.com.au>:

	* client/citydlg.c: In the same spirit as desensitising the trade
 	button in the city report, this desensitises the "activate units"
 	button when there are no units present.  Patch supplied by David
 	Pfitzner <dwp@mso.anu.edu.au>.
	
Wed Sep 23 23:07:52 1998  Mitch Davis <mjd@alphalink.com.au>:

	* client/Makefile.in, client/climisc.c: This patch allow for the
 	datadir path to be compiled in.  Patch submitted by Sergey Shkonda
 	<serg@bcs.zp.ua> and Matthew Hunt <mph@pobox.com>.
	
Wed Sep 23 23:02:05 1998  Mitch Davis <mjd@alphalink.com.au>:

	* README: This patch describes setting logs and debug levels from
 	the command-line of the server.  Patch submitted by David Pfitzner
 	<dwp@mso.anu.edu.au>.
	
Wed Sep 23 23:00:09 1998  Mitch Davis <mjd@alphalink.com.au>:

	* server/unitfunc.c: - The effect of Leonardo's Workshop is
 	special cased to avoid the problem of upgrading a sea unit
 	carrying passengers to a new unit with a lower transport_capacity
 	when that would leave some passengers stranded on a ocean square.
	(Eg Frigate -> Ironclad) (You could still get upgraded at an
 	inopportune time, but thats half the fun of Leonardo :-?
	
	- Carriers and Subs can only refuel the appropriate number of air
 	units each (previously you could stack as many air units onto one
 	of these as you like, and they would all get refueled (just not
 	all moved with the Carrier)).  Multiple Carriers and/or Subs on
 	the same square are handled appropriately.
	
	Patch submitted by David Pfitzner <dwp@mso.anu.edu.au>.
	
Wed Sep 23 22:58:38 1998  Mitch Davis <mjd@alphalink.com.au>:

	* client/citydlg.c: In a city dialog, if you select a supported
 	unit which is not present in the city, and chose "Activate unit,
 	close dialog" then the dialog doesn't get closed.
	
	This is because present_units_activate_close_callback() is used,
 	which only closes the dialog of the city where the unit is
 	present.  The attached patch fixes this by adding a separate
 	callback for supported units.
	
	Patch submitted by David Pfitzner <dwp@mso.anu.edu.au>.
	
Wed Sep 23 22:54:43 1998  Mitch Davis <mjd@alphalink.com.au>:

	* server/cityhand.c: A patch to handle deleting unsupported units
 	better.  Patch submitted by David Pfitzner <dwp@mso.anu.edu.au>.
	
Wed Sep 23 19:24:40 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/citydlg.c, client/dialogs.c, client/mapview.c,
 	client/xmain.c: Some changes to clear buttons with unit pixmaps in
 	them when using non-transparent flags.  Changed the client startup
 	order to load the unit pixmaps before creating the client widgets,
 	so they can be sized correctly based on the pixmap size.
	
Wed Sep 23 19:21:35 1998  Trent Piepho <xyzzy@u.washington.edu>

	* data/Freeciv, client/Freeciv.h: Removed hardcoded sizes for the
 	unit pixmap buttons.  Also changed the font used in the city
 	report, which makes the report somewhat smaller.
	
Tue Sep 22 16:22:24 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/Freeciv.h, client/messagedlg.c, client/optiondlg.c,
 	client/optiondlg.h, client/repodlgs.c, data/Freeciv: Changed the
 	way most of the toggles look.  They now change label from "Yes" to
 	"No" depending on their state.
	
Mon Sep 21 09:35:48 1998  Trent Piepho <xyzzy@u.washington.edu>

	* data/Freeciv, client/Freeciv.h: Added default colors for Label,
 	Command, Text, and Form widgets.  Then removed hundreds of color
 	resources that were no longer necessary.
	
Mon Sep 21 09:19:27 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/connectdlg.c, client/clinet.c, client/clinet.h,
 	data/Freeciv: Added a metaserver dialog to the client.  It's
 	currently a little hackish, and gets the server list by reading
 	the metaserver web page and trying to parse it.  It will probably
 	choke if the web page's format changes.
	
Mon Sep 21 09:08:09 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/repodlgs.c, data/Freeciv: Might have finally fixed the
 	city report sizing bug seen on some machines.
	
Mon Sep 21 08:39:56 1998  Trent Piepho <xyzzy@u.washington.edu>

	* Makefile.noimake: The depend stuff has a problem.
	
Sat Sep 19 16:26:46 1998  Mitch Davis <mjd@alphalink.com.au>:

	* client/Freeciv.h, data/Freeciv: This fixes a small mistake with
 	the On/Off label for the science report help toggle.  Patch
 	submitted by David Pfitzner <dwp@mso.anu.edu.au>.
	
Sat Sep 19 16:23:26 1998  Mitch Davis <mjd@alphalink.com.au>:

	* data/helpdata.txt: This patch revises the About text: It
 	clarifies the current status of the original authors, James
 	Blackwell is no longer active as a "Present Administrator", and
 	the text said "find our email addresses in the About box", but
 	this _is_ the About box!  Patch supplied by David Pfitzner
 	<dwp@mso.anu.edu.au>.
	
Sat Sep 19 16:21:00 1998  Mitch Davis <mjd@alphalink.com.au>:

	* client/mapctrl.c, common/map.c: This patch improves the
 	information on a tile when there is a hut or pollution present.
  	Patch supplied by David Pfitzner <dwp@mso.anu.edu.au>.
	
Sat Sep 19 16:03:46 1998  Mitch Davis <mjd@alphalink.com.au>:

	* client/citydlg.c, client/civclient.c, client/graphics.c,
 	client/helpdlg.c, client/helpdlg.h, client/repodlgs.c,
 	client/xmain.c, data/helpdata.txt: This patch makes some
 	improvements to the help system.
	
	Tags are added to helpdata.txt to say explicitly whether items are
 	TEXT, UNIT, IMPROVEMENT, WONDER, or TECH.  And in the code to
 	popup a help text, you can ask for a particular type.  One effect
 	this has is that the Government help items Monarchy etc don't need
 	a "(Gov)" addition to distinguish them from the corresponding
 	advances.
	
	The help system is slightly more robust and nicer if a help item
 	doesn't correspond to the specified component of the game
 	(unit_type etc) or the component has been "removed".  Or vice
 	versa -- if a game component doesn't have a help item for some
 	reason.  One effect of this is that unimplemented Civ2 units etc
 	can be added back to the help with an explanatory note, so players
 	coming from Civ2 can see what's missing and possibly why.
	
	Comments for unit types relating to transport_capacity, flags, and
 	fuel, are generated automatically, ensuring clarity, consistency,
 	correctness, cetc.
	
	boot_help_texts() was moved to after log_init(), so log messages
 	in boot_help_texts are actually useful.
	
	client/helpdlgs.c:find_help_item_by_topic() is #if-ed out, as it
 	appears to me to be unused, and furthermore broken.
	
	changes to helpdlgs.c aren't really as drastic as the patch makes
 	appear, but I've moved some things around.
	
	citydlg.c:change_help_callback() was pretty weird, and now cleaned
 	up.
	
	Patch supplied by David Pfitzner <dwp@mso.anu.edu.au>.
	
Sat Sep 19 15:11:17 1998  Mitch Davis <mjd@alphalink.com.au>:

	* client/Freeciv.h, client/citydlg.c, client/packhand.c,
 	data/Freeciv: This patch makes upgrading individual units from the
 	city dialog nicer.  Now the upgrade button is "greyed out" if you
 	cannot upgrade that unit type.  Also, the patch updates the unit
 	icon in the city dialog where the unit is present (as well as
 	where the unit is supported).  (This also applies for unit
 	upgrades from the "active units" dialog.)  Patch submitted by
 	David Pfitzner <dwp@mso.anu.edu.au>.
	
Sat Sep 19 03:31:50 1998  Mitch Davis <mjd@alphalink.com.au>:

	* COPYING, data/helpdata.txt: Updated the mailing addresses for
 	the FSF.  Patch submitted by David Pfitzner <dwp@mso.anu.edu.au>.
	
Sat Sep 19 02:28:52 1998  Mitch Davis <mjd@alphalink.com.au>:

	* server/mapgen.c: A small patch because some players would get
 	too many rivers and not enough swamps.  Patch submitted by Peter
 	Schaefer <schaefer@malaga.math.uni-augsburg.de>.
	
Fri Sep 18 16:21:32 1998  Mitch Davis <mjd@alphalink.com.au>:

	* common/map.c, common/map.h, server/mapgen.c: This patch fixes
 	some problems with the 2nd mapgen, and enhances the 3rd mapgen.
  	Patch supplied by Peter Schaefer
 	<schaefer@malaga.math.uni-augsburg.de>.
	
Thu Sep 17 23:46:14 1998  Mitch Davis <mjd@alphalink.com.au>:

	* client/Freeciv.h, client/repodlgs.c, data/Freeciv: Here is a
 	minimalish patch which adds a note which might make the help
 	button toggle nature a little clearer...
	
	It also makes the science report list of known advances 4 columns,
 	partly to make more room for the above mentioned note, and partly
 	because I find the science report too long (at least in its
 	default pop-up location) for my screen when it contains all the
 	advances at the end of a game.
	
	Patch supplied by David Pfitzner <dwp@mso.anu.edu.au>.
	
Thu Sep 17 23:33:24 1998  Mitch Davis <mjd@alphalink.com.au>:

	* client/Freeciv.h, client/connectdlg.c, client/resources.h,
 	client/xmain.c, data/Freeciv, server/civserver.c: Changes to allow
 	the debug level to be set from the command-line.  Patch submitted
 	by David Pfitzner <dwp@mso.anu.edu.au>.
	
Thu Sep 17 23:23:52 1998  Mitch Davis <mjd@alphalink.com.au>:

	* client/colors.c: The solid colors for Romans and English are too
 	similar.  This changes the English color to dark green.  Patch
 	submitted by Massimo Campostrini <campo@mailbox.difi.unipi.it>
	
Thu Sep 17 23:19:13 1998  Mitch Davis <mjd@alphalink.com.au>:

	* data/europe.sav: Added a Europe scenario.  Patch supplied by
 	Christian Grothoff <ma0035@stud.uni-wuppertal.de>.
	
Thu Sep 17 23:16:40 1998  Mitch Davis <mjd@alphalink.com.au>:

	* client/mapview.c, data/earth-160x90.sav, data/earth-80x50.sav,
 	server/civserver.c, server/gamehand.c, server/mapgen.c,
 	server/maphand.c, server/maphand.h, server/stdinhand.c: Patches
 	and scenario files to support playing on Earth.  Patch supplied by
 	Daniel Gudlat <gudlat@informatik.hu-berlin.de>.
	
Thu Sep 17 10:12:18 1998  Trent Piepho <xyzzy@u.washington.edu>

	* Makefile.noimake: Fixed and largely rewrote.  Should work well
 	now, and be easy to edit to compile on different OSes.
	
Wed Sep 16 11:58:46 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/Makefile.am, client/Makefile.in, common/Makefile.am,
 	common/Makefile.in: Some directories were -I included when they
 	didn't need to be.
	
Wed Sep 16 11:53:13 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/unithand.c, server/unitfunc.c, common/player.h: Fixed up
 	some include problems.  player.h had aitools.h for no reason,
 	which meant that the client and common code needed the ai includes
 	for no reason.
	
Tue Sep 15 15:21:45 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/xmain.c: Added a missing NULL on an XtVaGetValues() call.
	
Wed Sep  9 13:00:58 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/registry.c: A better hash function for the registry,
 	along with a smaller cache size.  Creating section files,
 	ie. saving the game, is now much faster for large files as the
 	algorithm was changed from O(n^2) to O(n).
	
Wed Sep  9 12:00:35 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/citydlg.c, common/city.c, common/city.h: Trade button is
 	grayed out if the city has no trade routes.  Inspired by a patch
 	from David Pfitzner.
	
Wed Sep  9 11:39:25 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/cityhand.c: Fix for longstanding bug where the server
 	could core dump if a city is removed and it has supports both a
 	transport ship and some unit in the ship.  Patch by Paul Cameron.
	
Sun Sep  6 11:32:12 1998  Trent Piepho <xyzzy@u.washington.edu>

	* common/unit.c, server/unithand.c: Cleaned up
 	can_unit_do_activity()
	
Sun Sep  6 11:31:39 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/cityturn.c: Made city incite cost half when there are no
 	units in the city, rather than when it supports no units.
	
Sun Sep  6 00:39:35 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advmilitary.c, ai/aiunit.c: Fixing a quirk with exploring
 	boats, and AI exploring ferryboats in normal mode.  Fixing a
 	possible SIGFPE in findjob of all places.  Not discouraging units
 	to attack enemy units nearby - works great!  Eliminating default
 	want for walls, coastal, etc if not in danger. -- Syela
	
Sun Sep  6 00:37:39 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advdomestic.c, server/cityturn.c: No longer hijacking
 	content[0]; trying to get the AI to build more temples and
 	happy-wonders.  Using MORT (instead of ~17) as the threshold for
 	improvements to pay themselves off, hoping that the AI will not
 	buy so many improvements. -- Syela
	
Sun Sep  6 00:31:28 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/settlers.c: Teaching autosettlers about changing terrain
 	types. -- Syela

Wed Sep  2 20:37:06 1998  Mitch Davis <mjd@alphalink.com.au>

	* CREDITS, configure, configure.in, client/Freeciv.h,
 	common/shared.h, data/Freeciv: Bumped version numbers to 1.7.1.
	
Wed Sep  2 20:12:32 1998  Mitch Davis <mjd@alphalink.com.au>

	* NEWS, configure, configure.in: With this patch to configure.in
 	freeciv will actually configure and compile nicely on Solaris (run
 	"autoconf" after applying this patch to make a new configure):
	
	Note that according to Johannes Abt
 	<jsabt@cip.informatik.uni-erlangen.de>, This works with
 	autoconf-2.12 but not autoconf-2.9.
	
	Patch supplied by Finn Arne Gangstad <finnag@guardian.no>.
	
Wed Sep  2 19:57:40 1998  Mitch Davis <mjd@alphalink.com.au>

	* common/unit.c: This patch prevents settlers from fortifying, in
 	order to reduce the confusion between fortifying and building
 	fortresses.  Patch supplied by David Pfitzner <dwp@mso.anu.edu.au>.
	
Wed Sep  2 00:54:52 1998  Trent Piepho <xyzzy@u.washington.edu>

	* data/Freeciv, client/Freeciv.h: Changed the layout of the
 	diplomat and spy dialogs so the buttons are in a two column list
 	instead of one big long row.  Buttons are now the same size with
 	centered labels, which looks nicer IMHO.
	
Tue Sep  1 22:08:02 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/civclient.c, common/game.c, server/civserver.c: Bug fix
 	from Walter Misar to fix alignment problems on solaris with the
 	used_ids array.
	
Tue Sep  1 21:57:57 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/dialogs.c: Diplomats bribing units wasn't done right.
	
Tue Sep  1 21:56:36 1998  Trent Piepho <xyzzy@u.washington.edu>

	* common/unit.c: diplomat_can_do_action() was letting non-spies
 	sabotage units.
	
Tue Sep  1 14:34:49 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/gotohand.c: Dealing with GOTOing warships more
 	intelligently re: enemies_at. -- Syela
	
Tue Sep  1 14:32:38 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unittools.c: Ignoring units at (i,j) for enemies_at(punit,
 	i, j).  -- Syela
	
Mon Aug 31 13:12:12 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/repodlgs.c: The "Income" line in the trade report will try
 	to approximate what your true income will be at the end of the
 	turn.  This means it will not be affected by buying or selling
 	things.  City improvements which will be completed at the end of
 	the turn can throw things off.
	
Mon Aug 31 12:59:46 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/unithand.c: Added buffering around the data sent when a
 	trade route is established.
	
Mon Aug 31 12:57:46 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/plrhand.c: Made changing tax rates do a gobal city
 	refresh.  This way the client gets instant feedback on how the new
 	rates effect his cities.
	
Mon Aug 31 12:54:33 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/cityturn.c: Buffered the connection during a global city
 	refresh.
	
Mon Aug 31 09:23:23 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/repodlgs.c: Fixed bug were the client would crash trying
 	to update the city report when it didn't exist.
	
Sat Aug 29 13:18:58 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/Freeciv.h, client/citydlg.c, client/repodlgs.c,
 	client/repodlgs.h, data/Freeciv: Changed the city report code so
 	that the whole report isn't generated when a single city is
 	changed.  Changed the way the widgets resize themselves to get
 	around broken Xt annoyingness so the labels should be centered and
 	the right size now.  There should also be less flickering when the
 	report is updated.
	
Sat Aug 29 13:09:43 1998  Trent Piepho <xyzzy@u.washington.edu>

	* common/packets.h: The improvements and city_map where called
 	unsigned char, but they really should be just plain char.
	
Sat Aug 29 13:08:35 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/stdinhand.c: Took out a comma where there shouldn't have
 	been one.
	
Fri Aug 28 10:36:54 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unithand.c: Fixing auto-explorers (I broke them yesterday)
 	-- Syela
	
Thu Aug 27 09:58:41 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unithand.c: Returning 0 for same_pos
 	handle_unit_move_requests (which often happen when the server
 	hangs) so movement isn't wasted.  Making the check for ai
 	ferryboats that try to attack much more robust to prevent aberrant
 	abort()s.  Allowing 0-move explorers to change acitivity. -- Syela
	
Thu Aug 27 09:56:52 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/civserver.c, server/stdinhand.c, server/stdinhand.h:
 	Proto'ing set_ai_level and setting game.skill_level concurrently --
 	Syela
	
Thu Aug 27 09:56:05 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/settlers.c: Fixing stupid bug involving auto-settlers and
 	polar cities. -- Syela
	
Thu Aug 27 09:55:22 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/cityhand.c: Adding city name to city_sell message (for AI
 	debugging) -- Syela
	
Thu Aug 27 09:54:44 1998  John Stonebraker <ppaqebb@surfshop.net>

	* client/mapctrl.c: Allowing players to idle 0-movement explorers
 	by clicking on them. -- Syela
	
Thu Aug 27 09:48:08 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c: Not assuming walls for cities 2-3 turns away unless
 	owner knows Masonry. -- Syela
	
Thu Aug 27 09:47:00 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aihand.c: Two bugfixes suggested by Peter Schaefer; preventing
 	the AI from setting lux=100 and selling buildings, and preventing
 	extremely high lux rates (for celebrations) that will lead to
 	selling buildings. -- Syela
	
Thu Aug 27 09:45:57 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advmilitary.c: Preventing the AI from buying walls/coastal
 	unless it's urgent.  Not assuming walls until c == 4 if enemy
 	doesn't know masonry.  Adding port_is_within to prevent the AI from
 	building too many ports and warships; this way saves money and also
 	ensures enough ground troops for invasions. -- Syela
	
Thu Aug 27 09:43:27 1998  John Stonebraker <ppaqebb@surfshop.net>

	* README.AI: Updated README.AI; recently fixed problems not
 	included. -- Syela
	
Thu Aug 27 09:35:04 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/Freeciv.h, client/mapview.c, client/xmain.c, data/Freeciv:
 	Made the map canvas fill up all the space.  Before, if you had a
 	map with ysize>40 the canvas would have a big gap between the
 	scroll bar and the message window.
	
Wed Aug 26 22:57:43 1998  Trent Piepho <xyzzy@u.washington.edu>

	* data/Freeciv, client/Freeciv.h, client/gotodlg.c: Added a "All
 	Cities" toggle to the goto dialog.  Default is off.  This way the
 	dialog isn't full of hundreds of enemy cities.  Makes airlift much
 	less of a pain, since it doesn't take as long to find your city.
	
Wed Aug 26 22:54:53 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/unitfunc.c: Fixed up do_airline() some.  It now uses
 	unit_can_airlift_to() to determine if an airlift is possible rather
 	than duplicating the code.  It also wasn't sending city updates for
 	the cities involved, so the client wouldn't know that a city had
 	already airlifted this turn.  Added buffering around the four
 	packets an airlift sends.
	
Wed Aug 26 00:05:23 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/citydlg.c: De-activated the activate button on diplomat
 	investigate city dialogs.
	
Tue Aug 25 22:53:25 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/repodlgs.c, client/repodlgs.h: Added in Cedric Tefft's
 	scrollbar for the city report patch.  Added code for turning of
 	report updates at the end of the turn.
	
Tue Aug 25 22:49:16 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/packhand.c: Made handle_unit_info() smarter about
 	refreshing city dialogs.  For instance, moving a unit out of its
 	homecity would refresh the city dialog twice.  Made the client turn
 	off report updates between during the end of the turn.  This
 	removes the flash in the reports as they would get updates hundreds
 	(or thousands!) of times.
	
Tue Aug 25 22:44:08 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/citydlg.c: The city_dialog_refresh() function had a hack
 	to update the city and trade reports when it was called.  However,
 	this function gets called for things relating to enemy cities that
 	don't show up in the reports.  So I made it only update the reports
 	for when it's called for the players own cities.  This greatly
 	reduces the number of costly city report refreshes the client does.
	
Tue Aug 25 22:41:10 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/Freeciv.h, data/Freeciv: Added in Cedric Tefft's patch for
 	a scrollbar on the city report.
	
Tue Aug 25 22:39:50 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/cityhand.c: Fixed a bug where nocity_send wasn't taking
 	effect.  This resulted in two city updates being sent at the end of
 	the turn for each of your cities.  Now it's down to one.
	
Tue Aug 25 09:15:27 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/civserver.c: Moving before_end_year (which does nothing
 	but reset message windows) closer to the end_of_sniff to make David
 	Pfitzner happy. -- Syela
	
Tue Aug 25 09:10:55 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/stdinhand.c: Applying David P's fix to the recently broken
 	set_ai_level -- Syela
	
Tue Aug 25 09:10:21 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/citydlg.c, client/packhand.c: Made the city dialogs get
 	updated when a unit listed in one (present or supported) changes
 	status.
	
Tue Aug 25 09:08:38 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/mapgen.c: Initializing counter j in mapgenerator2 and
 	3. -- Syela
	
Tue Aug 25 09:07:44 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unithand.c: Removing unneeded duplicate def'n of punit in
 	wakeup_neighbour -- Syela
	
Tue Aug 25 08:46:13 1998  Trent Piepho <xyzzy@u.washington.edu>

	* data/Freeciv, client/Freeciv.h, client/citydlg.c: Added an
 	"Activate Units" button to the city dialog that will activate all
 	units in the city.
	
Tue Aug 25 08:23:35 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/repodlgs.c: The trade report sell command won't try to
 	sell improvements in cities that already sold something that turn.
	
Mon Aug 24 23:40:24 1998  Mitch Davis <mjd@alphalink.com.au>

	* server/unithand.c: Added code so that sentried units get woken up
 	when enemy units come within view.  Patch submitted by Trevor
 	Pering <pering@tongass.EECS.Berkeley.EDU>.
	
Mon Aug 24 23:32:48 1998  Mitch Davis <mjd@alphalink.com.au>

	* server/stdinhand.c: This patch forces AI names to be between 1
 	and 9 chars long.  I chose 9 chars because it seems to be length
 	you are allowed to use for a human player.  Patch submitted by
 	Markus Linnala <maage@cs.tut.fi>.
	
Mon Aug 24 21:12:37 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/registry.c: Added code to align the pointer returned by
 	strbuffermalloc().
	
Mon Aug 24 10:39:24 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/cityhand.c: Nothing much really.
	
Sun Aug 23 23:43:04 1998  Mitch Davis <mjd@alphalink.com.au>

	* client/Freeciv.h, client/civclient.c, client/optiondlg.c,
 	client/packhand.c, data/Freeciv, data/helpdata.txt: This patch
 	fixes problems with the original wakeup code.  (Eg, data/Freeciv
 	was only partly patched!)  Patch submitted by Reinier Post
 	<reinpost@win.tue.nl>.
	
Sun Aug 23 23:40:10 1998  Mitch Davis <mjd@alphalink.com.au>

	* server/stdinhand.c: Modified the help string for map.seed so it
 	mentions that 0 gives a random map.  Patch submitted by Reinier
 	Post <reinpost@win.tue.nl>.
	
Sun Aug 23 23:31:27 1998  Mitch Davis <mjd@alphalink.com.au>

	* common/map.h, server/mapgen.c: I took a look at the map generator
 	and reduced the chance it will hang up, so that it may work with
 	much more settings.
	
	While I was at it, I added an experimental generator 3, which will
 	create 1 big island for every player, and 1 small island.  Settings
 	for landmass will affect the changed mapgen 2.  Settings for
 	mountains, etc, won't yet.
	
	Patch submitted by Peter Schaefer
 	<schaefer@malaga.math.uni-augsburg.de>
	
Sun Aug 23 23:29:35 1998  Mitch Davis <mjd@alphalink.com.au>

	* common/game.c, common/game.h, common/map.h, server/plrhand.c,
 	server/stdinhand.c: Attached is a small patch that fixes a bug in
 	the scorelog generation code... I screwed up the starting year (I
 	used 4000 instead of -4000)...  I made that number a constant in an
 	include file.  (Affects game.c, game.h, map.h, and plrhand.c).
  	Patch submitted by Trevor Pering
 	<pering@tongass.EECS.Berkeley.EDU>.
	
Sun Aug 23 23:27:17 1998  Mitch Davis <mjd@alphalink.com.au>

	* client/civclient.c, client/clinet.c, client/colors.c,
 	client/graphics.c, client/helpdlg.c, client/packhand.c,
 	client/xmain.c, common/log.c, common/log.h, common/packets.c,
 	common/unit.c, server/cityhand.c, server/civserver.c,
 	server/maphand.c, server/registry.c, server/sernet.c,
 	server/stdinhand.c, server/unitfunc.c: Changed all occurances of
 	"log()" to "flog()", since the GTK port of Freeciv needs the -lm
 	math library, which also has a log() function.  Patch submitted by
 	Per I. Mathisen <perrin@kvalito.no>.
	
Fri Aug 21 21:00:37 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/stdinhand.c: The section file wasn't getting freed after a
 	manual save game.
	
Fri Aug 21 20:57:04 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/registry.c, server/registry.h: Fixed a bug I had added
 	earlier where the strbuffer would get freed when it hadn't been
 	allocated during an auto save game.  Used the opportunity to have
 	the rest of the registry allocations use the strbuffer system,
 	which reduced memory usage by another 200k for a big saved game.
	
Fri Aug 21 20:49:39 1998  Trent Piepho <xyzzy@u.washington.edu>

	* common/shared.c, common/shared.h: Removed the minstrdup()
 	function and put it into registry.c, since that is the only place
 	that used it.  Also changed it to use the strbuffer system.
	
Fri Aug 21 20:34:08 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/civserver.c, server/diplhand.c, server/gamehand.c,
 	server/gamehand.h, server/maphand.c, server/maphand.h,
 	server/plrhand.c, server/plrhand.h: Fixed some ugliness with the
 	includes.
	
Fri Aug 21 08:17:50 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/settlers.c: Not letting auto-settlers go idle as easily.
  	Christopher Neufeld's ideas, but my own implementation thereof. --
 	Syela
	
Thu Aug 20 23:18:06 1998  Mitch Davis <mjd@alphalink.com.au>

	* common/city.c, server/plrhand.c: The attached patch makes the
 	Literacy field of the Demographics report less likely to overflow
 	(eg at the end of a large game).  Patch submitted by David Pfitzner
 	<dwp@mso.anu.edu.au>.
	
Thu Aug 20 21:46:04 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/plrhand.c, server/registry.c, server/registry.h: David
 	Pfitzner's patch to handle new savefile entries, which also handles
 	the foulness issue much better than my (non-uploaded) kluge. --
 	Syela
	
Thu Aug 20 21:44:23 1998  John Stonebraker <ppaqebb@surfshop.net>

	* client/citydlg.c, client/dialogs.c, client/packhand.c,
 	common/city.h, common/packets.c, server/cityhand.c,
 	server/plrhand.c, server/unitfunc.c: Reimplementing
 	diplomat_investigate in a less obtrusive way that does not hose
 	compatibility with 1.7.0.  Making create_advances_list more robust
 	and fixing a lot of other warnings in the spy and scorelog patches.
  	Adding savefile_options to player_load, but not using it. -- Syela
	
Thu Aug 20 21:37:55 1998  John Stonebraker <ppaqebb@surfshop.net>

	* client/connectdlg.c: Changing an #if to an if() so that -Wall is
 	happy. -- Syela
	
Thu Aug 20 21:31:10 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unitfunc.c: Fixing a typo in kill_unit that apparently
 	crashed the server. -- Syela
	
Thu Aug 20 11:52:45 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/registry.c: Small change to hash function that decreases
 	collisions by 50% for huge save files.  Made a custom string
 	allocation function for the strings used by the section file loader
 	and the hash table.  This avoids malloc overhead on each string and
 	avoids having to iterate over all the hash table buckets to free
 	them.  This decreased load time by %17 and reduced the server's
 	memory usage by 804k.
	
Thu Aug 20 11:17:24 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/civserver.c, server/gamehand.c: Moved the load timing
 	stuff from gamehand to civserver.  This way it can time the whole
 	loading process, including hash table creation.  Also used clock()
 	instead of time() to get CPU time in clock ticks for more accuracy.
	
Thu Aug 20 05:24:31 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c: Fixing one of those SIGFPE's I love so very much
 	(in is_my_turn) -- Syela
	
Thu Aug 20 04:20:10 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/civserver.c: Added a function prototype for
 	read_init_script().
	
Wed Aug 19 23:48:20 1998  Mitch Davis <mjd@alphalink.com.au>

	* server/gamehand.c, server/registry.c, server/registry.h: The
 	attached patch adds a hash table to the registry to speed up
 	lookups -- to speed up loading the savefile.  (The current method
 	is O(N^2) where N is the "size" of the savefile; this patch should
 	make it more like O(N).)  Patch submitted by David Pfitzner
 	<dwp@mso.anu.edu.au>.
	
Wed Aug 19 23:35:10 1998  Mitch Davis <mjd@alphalink.com.au>

	* client/Freeciv.h, client/mapctrl.c, client/mapctrl.h,
 	client/menu.c, client/packhand.c, client/xmain.c, data/Freeciv:
 	Added a 'wakeup' command (W for a unit - shift/click on tile) to
 	unsentry all units on a given tile.  Patch submitted by Reinier
 	Post <reinpost@win.tue.nl>.
	
Wed Aug 19 23:27:43 1998  Mitch Davis <mjd@alphalink.com.au>

	* server/civserver.c: Added an '-r' option to the server, which
 	will read in an initilization script at server startup time.  Patch
 	submitted by Trevor Pering <pering@tongass.EECS.Berkeley.EDU>.
	
Wed Aug 19 23:24:50 1998  Mitch Davis <mjd@alphalink.com.au>

	* configure, configure.in: Removed the explicit check for the
 	install program, as this is done automatically.  Bug reported by
 	Tony <stuckey@jaka.ece.uiuc.edu>.
	
Wed Aug 19 23:17:11 1998  Mitch Davis <mjd@alphalink.com.au>

	* client/Freeciv.h, client/citydlg.c, client/dialogs.c,
 	client/mapctrl.c, client/packhand.c, common/city.h,
 	common/packets.c, common/packets.h, common/unit.c, common/unit.h,
 	data/Freeciv, data/helpdata.txt, server/cityhand.c,
 	server/plrhand.c, server/unitfunc.c, server/unitfunc.h,
 	server/unithand.c: The latest round of spy/diplomat changes from
 	Kris Bubendorfer <Kris.Bubendorfer@MCS.VUW.AC.NZ>.
	
Wed Aug 19 23:09:33 1998  Mitch Davis <mjd@alphalink.com.au>

	* client/Freeciv.h, client/repodlgs.c, common/city.c, data/Freeciv:
 	Addition to the city report dialog: (+gold/science/luxury) Patch
 	supplied by Dee Jay Randall <randal@cs.uregina.ca> and David
 	Pfitzner <dwp@mso.anu.edu.au>.
	
Wed Aug 19 22:47:40 1998  Mitch Davis <mjd@alphalink.com.au>

	* client/citydlg.c: On some systems (SunOS 4.1.2 is the one in
 	question), sprintf returns a 'char *' instead of an 'int'.  This
 	fixes that.  Patch submitted by Trevor Pering
 	<pering@tongass.EECS.Berkeley.EDU>.
	
Wed Aug 19 22:47:11 1998  Mitch Davis <mjd@alphalink.com.au>

	* server/gamehand.c: Added capability code for the scorelog.  Patch
 	submitted by Trevor Pering <pering@tongass.EECS.Berkeley.EDU>.
	
Wed Aug 19 22:45:43 1998  Mitch Davis <mjd@alphalink.com.au>

	* common/game.c, common/game.h, common/map.h, server/plrhand.c,
 	server/stdinhand.c: Some changes so that a score file is generated
 	which can be used to generate graphs of different statistics over
 	time. This is very similar to the graphs generated in CivI at the
 	end of the game.
	
	When the "scorelog" server option is turned on, a file called
 	"civscore.log" is created and updated every turn.  A post-
 	processing perl script (which can be found in the Freeciv contrib
 	dir) is then used to parse the log file and generate the output
 	files, which are formatted for "xgraph".
	
	This was submitted by Trevor Pering
 	<pering@tongass.EECS.Berkeley.EDU>.
	
Wed Aug 19 22:43:25 1998  Mitch Davis <mjd@alphalink.com.au>

	* data/helpdata.txt: Updated the anarchy help text.  Patch
 	submitted by Peter Schaefer <schaefer@malaga.math.uni-augsburg.de>.
	
Tue Aug 18 23:53:25 1998  Mitch Davis <mjd@alphalink.com.au>

	* ai/aihand.c: Fixed a problem where if a human player is being set
 	to ai while in ANARCHY, the ai would not go out of it.  Patch
 	submitted by Peter Schaefer <schaefer@malaga.math.uni-augsburg.de>.
	
Tue Aug 18 23:50:09 1998  Mitch Davis <mjd@alphalink.com.au>

	* client/helpdlg.h: Fixed a minor bug in the new, improved Freeciv
 	1.7.0 help system.  In the civclient, when I select Help Playing,
 	the help system doesn't know where to go.  In particular, it
 	doesn't go to "Strategy and Tactics."  It seems that it gets
 	confused because "Playing" != "Strategy and Tactics".  Bug report
 	by Andrew E. Schulman <andrex@alw.nih.gov>, and patch by David
 	Pfitzner <dwp@mso.anu.edu.au>.
	
Tue Aug 18 11:37:53 1998  Trent Piepho <xyzzy@u.washington.edu>

	* ai/aiunit.c, common/game.c, common/map.c, common/map.h,
 	server/gotohand.c, server/plrhand.c, server/settlers.c: The tile
 	structure had a city ID in it, which is silly because city IDs are
 	pretty much useless.  Changed it to a city pointer which should
 	make map_get_city() a lot faster.  I wonder if this makes the city
 	cache (actually city id index would be a better name, because it
 	doesn't really "cache") unnecessary.
	
Tue Aug 18 11:34:06 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/civserver.c: Initialized the city cache before a saved
 	game is loaded.  Fixed the ID allocation function to ship ID 0.
	
Tue Aug 18 11:30:28 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/cityhand.c: Changed the city cache a little bit.  Tried a
 	few hashing algorithms, but no hashing at all worked best.
	
Sun Aug 16 02:02:01 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unittools.c, server/unittools.h: Renaming rate_unit to
 	rate_unit_d, and adding rate_unit_a for analogous funct
 	get_attacker, which findvictim will call.  Returning 0 in friendly
 	cities in enemies_at. -- Syela
	
Sun Aug 16 02:00:29 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/settlers.c: Adding territory array to try to keep
 	autosettlers safer.  The implementation is not very good, but I had
 	to do something.  Allowing ferryboats for very long
 	intracontinental trips.  Checking ZOC legality before trying to
 	disembark. -- Syela
	
Sun Aug 16 01:58:38 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/gotohand.c: Adding could_be_my_zoc to allow paths past
 	distant enemy units.  Discouraging Kaput! in find_a_dir. -- Syela
	
Sun Aug 16 01:55:52 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/city.h: Adding invasion to city ai struct -- Syela
	
Sun Aug 16 01:53:44 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c: Adding util funct tile_is_accessible so explorers
 	don't keep banging their heads into a ZOC-brick-wall.  Doing tricky
 	things to unit_bellig because get_attack_power is 99% worthless.
  	Writing invasion_funct, whose purpose is to force the AI to send
 	warships where its infantry are, and to send its infantry where its
 	warships are.  In reality, it tends not to make enough ground
 	troops, but it's at least tolerable now.  Writing is_my_turn so
 	that units in a stack attack in order; previously the invader would
 	attack before the battleships sometimes.  Hacking findvic so that
 	units defending cities attack pests more ambitiously.  Hacking
 	d_val so that fast units don't think they need bodyguards.  Keeping
 	invaders on boats longer so they don't disembark and die.
  	Preventing warships from looking for charge, since eight of them
 	would often suddenly try to defend one city.  The real problem is
 	elsewhere, but this kluge is adequate and much easier to program.
  	Treating fieldunits as non-defenders in findjob.  Faking targets in
 	f_s_t_k so that x and y are set even if there's nothing to kill so
 	that the AI will understand that steam engine allows actually
 	useful warships.  Doing lots of weird invasion stuff.  Removing +40
 	city-kill bonus for air/sea units unless ground/heli units are
 	included in the invasion.  Hacking sanity so that very long
 	intracontinental trips allow ferryboats.  Preventing long rides by
 	trireme.  Adding 'g' to attacker-want equation so that the AI sends
 	enough units to flatten a city in one turn.  Kluging so that the AI
 	won't build units just to kill caravans, since that never actually
 	works.  Using funky fprime variable instead of f in the denom, so
 	that def=1 units are penalized correctly.  Adding
 	find_nearest_friendly_port and telling bored ferryboats and wounded
 	warships to go there.  Teaching the AI that frigates are primarily
 	warships.  Not letting units aboard ferries fortify because weird
 	things happen in cities then.  -- Syela
	
Sun Aug 16 01:35:14 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aihand.c: Fixing horrible bug in the forced-disband routine.
  	AI used to disband the only defender of a city in disorder, which
 	is exactly what I intended to prevent.  -- Syela
	
Sun Aug 16 01:33:38 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aicity.c: Adding the line that makes the AI actually (very
 	rarely) build Magellan's.  Adding a wonder-kluge so that cities
 	don't abort almost-built wonders.  Allowing non-military builds if
 	want (usually attacker want) is over 100 with no urgency.  Fixing
 	rounding errors in one of those /30 functions.  Allowing the AI to
 	buy non-defensive units a little earlier than before.  Adding stuff
 	to the list of stuff to save up for.  Making the AI more frugal.
  	Forcing the AI to upgrade its triremes. -- Syela
	
Sun Aug 16 01:29:55 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advmilitary.c: Fixing almost all the typos and other
 	discrepancies between f_s_t_k and k_s_w attacker-want equations,
 	partly as preparation for modularizing that junk.  Adding some util
 	functs, assess_distance, assess_danger_unit.  Treating units that
 	are about to be produced in enemy cities as danger in
 	assess_danger.  Limiting p_d_w to costs <= shield_stock + 40; it
 	was annoying having the AI insist on using battleships for defense.
  	Changing unit_desira so that def=1 units are penalized elsewhere
 	instead.  Changing p_a_w to allow overrides of the chosen attacker
 	in case we need something with more defense or more speed or
 	something.  Doing ugly things to k_s_w that I can't even discern
 	from the diffs.  Fixing more bugs than I can count, or explain - no
 	one else noticed them since they merely caused suboptimal AI
 	behavior.  Want for military techs and handling of unhap is
 	standard and as intended now.  Fixing bug that caused AI warships
 	to yoyo.  Implementing ai.invasion.  Forcing the AI to build
 	defenders instead of attackers when it's in danger.  Forcing the AI
 	to build barracks before ground attackers.  Preventing the AI from
 	building units it can't upkeep.  Treating all unbuilt ground
 	attackers as vet, which encourages making barracks and ground
 	attackers.  I did a lot, and I probably forgot something. -- Syela
	
Fri Aug 14 22:52:10 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/civserver.h, server/sernet.c: Removed lots of extra
 	prototypes from civserver.h for functions that aren't in
 	civserver.c, then added another include to sernet.c because of a
 	missing prototype.
	
Fri Aug 14 22:47:03 1998  Trent Piepho <xyzzy@u.washington.edu>

	* common/packets.c: Fixed bug were the client would sometimes not
 	realize that an improvement was obsoleted by a wonder.
	
Fri Aug 14 22:45:17 1998  Trent Piepho <xyzzy@u.washington.edu>

	* common/city.c: Some small performance improvement to
 	wonder_replacement().
	
Fri Aug 14 21:52:45 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/unithand.c: Fixed an old bug so the liberated/conquered
 	messages show up correctly.
	
Thu Aug 13 15:40:43 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aitools.c, ai/aitools.h, server/unitfunc.c, server/unithand.c:
 	Removing unused and broken dist_nearest_enemy_* functs.  Creating
 	and protoing dist_nearest_city, then calling it in the
 	combat-notify's.  Adding minor (almost meaningless) change to let
 	AI cities building wonders keep doing so.  Stopping AI warships on
 	GOTO.  Rewriting the 'Hey idiot' debug code to use abort() and to
 	abort() only if ai.passenger is nonzero, which should prevent
 	human-induced crashes.  Leaving the abort() in until I'm totally
 	sure the AI doesn't cause the problem itself.  Forcing AI units to
 	end moves early instead of moving right next to something that will
 	kill them. -- Syela
	
Thu Aug 13 09:45:20 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/packhand.c: Last patched used a global variable not
 	declared in this file, so it didn't even compile.  Used the helper
 	function get_unit_in_focus() rather than punit_focus directory, and
 	added the include file for update_menus().
	
Thu Aug 13 09:20:18 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/cityturn.c: Another bug pointed out by Walter Misar,
 	PACKET_TILE_INFO should have been TILE_KNOWN.
	
Thu Aug 13 08:57:37 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/unitfunc.c: Fixed bug pointed out by Walter Misar,
 	capturing a city didn't give you any techs.  This has been around
 	since the future tech patch, I can't believe no one noticed until
 	now.
	
Thu Aug 13 07:31:28 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/stdinhand.c: Bug found by Benjamin Korvemaker, the maximum
 	map width was actually the max map height.
	
Wed Aug 12 14:15:40 1998  Mitch Davis <mjd@alphalink.com.au>

	* client/menu.c, client/packhand.c: "Build Railroad" never shows up
 	in the Orders menu, even if it is a valid option.  I have rigged
 	this so that "Build Railroad" replaces "Build Road" in the Options
 	menu when appropriate.
	
	As I was working on this fix, I noticed a bug: If you click on a
 	unit which is engaged in some activity (pollution cleanup, road
 	building, etc.)  the Orders menu does not reflect the fact that
 	this unit is idle and can accept new orders until you click on that
 	unit a SECOND time. I found a fix for this problem and incorporated
 	it into this patch as well.  Patch submitted by Cedric Tefft
 	<cedric@earthling.net>.
	
Tue Aug 11 16:59:24 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/Freeciv.h, client/citydlg.c, client/mapctrl.c,
 	client/mapctrl.h, client/repodlgs.c, common/packets.c,
 	common/packets.h, data/Freeciv, server/civserver.c,
 	server/unithand.c, server/unithand.h: Added a option to upgrade
 	individual units to the present units menu in the city dialog.  Had
 	to add a new packet type to the server to support doing this.
	
Sun Aug  9 09:23:47 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/citytools.c: Crashless and more readable (if not
 	standardly whitespaced) version of transfer_city_units. -- Syela
	
Fri Aug  7 23:51:45 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/repodlgs.c: The trade report code was looking pretty
 	crufty, so I fixed it up.
	
Fri Aug  7 04:48:36 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/repodlgs.c: Removed C++ comments from two lines.  Moved a
 	line around too.
	
Thu Aug  6 17:16:52 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/Freeciv.h, client/dialogs.c, data/Freeciv: The diplomat
 	dialog didn't work, it looked like someone forgot to add the
 	resources necessary for the new button.  Fixed it.
	
Thu Aug  6 12:09:55 1998  Trent Piepho <xyzzy@u.washington.edu>

	* data/helpdata.txt: Added the explore command to the help text.
	
Thu Aug  6 03:27:48 1998  John Stonebraker <ppaqebb@surfshop.net>

	* configure: Updating version number to 1.7.0.  Good show,
 	Mitch. -- Syela
	
Wed Aug  5 20:14:06 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ChangeLog, NEWS: Updating NEWS and ChangeLog - Mitch's unenviable
 	burden -- Syela
	
Wed Aug  5 20:10:47 1998  John Stonebraker <ppaqebb@surfshop.net>

	* README, configure.in, client/Freeciv.h, client/connectdlg.c,
 	common/shared.h, data/Freeciv, data/helpdata.txt,
 	debian/civclient.man, debian/civserver.man, debian/copyright,
 	server/gamehand.c: Committing Mitch Davis's patch to update the
 	version number to 1.7.0 and add man files and copyright notice in
 	debian/ -- Syela
	
Wed Aug  5 20:07:25 1998  John Stonebraker <ppaqebb@surfshop.net>

	* client/dialogs.c, common/unit.c, common/unit.h,
 	data/helpdata.txt, server/citytools.c, server/cityturn.c,
 	server/gamehand.c, server/unitfunc.c, server/unitfunc.h,
 	server/unithand.c: Committing Kris Bubendorfer's patch to repair
 	spy/diplomat bugs, allow spies to poison cities, and to mung
 	create_unit. -- Syela
	
Wed Aug  5 20:04:39 1998  John Stonebraker <ppaqebb@surfshop.net>

	* client/repodlgs.c: Christian Grothoff's patch to display all
 	improvements in trade dialog. -- Syela
	
Wed Aug  5 20:03:48 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/gamehand.c: David Pfitzner's patch so early 1.6.4
 	savefiles will load. -- Syela
	
Wed Aug  5 20:03:13 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/unit.c: Jason Merrill's patch so that military units can
 	pillage. -- Syela
	
Wed Aug  5 20:02:19 1998  John Stonebraker <ppaqebb@surfshop.net>

	* CREDITS, README, freeciv_hackers_guide.txt: Correcting typos and
 	grammatical errors in documentation.  Patch supplied by Markus
 	Linnala. -- Syela
	
Wed Aug  5 20:01:28 1998  John Stonebraker <ppaqebb@surfshop.net>

	* data/helpdata.txt: Clarifying help on Hanging Gardens (Greg
 	Wooledge again) -- Syela
	
Wed Aug  5 20:00:08 1998  John Stonebraker <ppaqebb@surfshop.net>

	* client/helpdlg.h, client/menu.c, data/helpdata.txt: Adding Greg
 	Wooledge's help on combat. -- Syela
	
Wed Aug  5 19:58:24 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aihand.c, server/cityturn.c, server/plrhand.c: Implementing
 	Peter Schaefer's patches to prevent taxes, science, and building
 	upkeep during anarchy. -- Syela
	
Wed Aug  5 19:55:03 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unittools.c: Changing enemies_at to be a little more
 	efficient and less omniscient. -- Syela
	
Wed Aug  5 19:54:33 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/stdinhand.c: Adding funct set_ai_level, and adding and
 	doc'ing normal and hard commands to invoke it. -- Syela
	
Wed Aug  5 19:53:00 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/settlers.c: Adding util funct is_wet so that autosettlers
 	won't want to irrigate tiles they have no reason to know are
 	irrigable.  Adding enemies_at check in findwork; this is not nearly
 	adequate to stop settlers from going to their deaths, but is better
 	than nothing. -- Syela
	
Wed Aug  5 19:51:02 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/gotohand.h: Adding orig_x and orig_y to warmap (still
 	unused) -- Syela
	
Wed Aug  5 19:50:45 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/gotohand.c: Treating from ocean (presumably ferryboat) to
 	land moves as 3 instead of something bizarre in LAND_MOVING warmap.
  	Averaging outgoing and incoming move costs in LAND_MOVING warmap,
 	since pathological cases led to pathological behavior where the AI
 	thought danger was much farther away than it was.  Adding orig_x
 	and orig_y to warmap, but not implementing them anywhere. -- Syela
	
Wed Aug  5 19:48:15 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/cityturn.c: Quick hack to stop widespread disorder in AI
 	nations whose Gardens or Oracle become obsolete. -- Syela
	
Wed Aug  5 19:47:19 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/player.h: Adding more ai handicaps, ones I could actually
 	implement, and protoing ai_handicap funct. -- Syela
	
Wed Aug  5 19:44:01 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/player.c: Adding funct ai_handicap. -- Syela
	
Wed Aug  5 19:43:34 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/city.h: Changing grave_danger back to int. -- Syela
	
Wed Aug  5 19:38:36 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c: Implementing H_HUTS so that normal-mode AI explorers
 	won't move straight to huts on unseen tiles.  Increasing ct in
 	explorer loop (PART TWO) so that fast units explore further.
  	Teaching exploring boats that exploring coastlines is better than
 	exploring open sea.  This is actually important for the normal-mode
 	AI.  Adding could_unit check so that I don't get annoying ZOC
 	violation messages.  Changing unit_vul so that defenders against
 	virtual (id=0) attackers are treated as fully healed.  Restoring
 	the city-kill bonus in findvictim which I inadvertently hosed at
 	some point in the past.  Implementing H_TARGETS so that AI in
 	normal mode won't target anything it hasn't seen.  Altering
 	ai_manage_ferryboat so that ferryboats may explore rather than
 	going home in normal mode. -- Syela
	
Wed Aug  5 19:34:08 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aihand.c: Implementing H_RATES, so the AI in normal mode won't
 	set its rates beyond its government_max_rate. -- Syela
	
Wed Aug  5 19:33:19 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aicity.c: Giving the AI some clue what to do on fallbacks,
 	which seem only to occur with techlevel=0.  Hosing the DOOMED
 	clause, since I hosed grave_danger.  Telling the AI not to spend
 	1000 on battleships for defense anymore; I don't know how well this
 	will work yet, although it seems correct.  Not saving money for
 	B_AQUEDUCT if we only want it because we're celebrating.  Saving
 	money for it hosed the celebration, leading to ridiculous
 	flipflops.  Rewriting worst_elvis_tile, which has been defective
 	for months, but I only noticed last night when I was doing
 	last-minute modifications and Boston decided to have disorder N
 	turns in a row.  Adding resolved/unresolved printf to emergency
 	subroutine. -- Syela
	
Wed Aug  5 19:30:03 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advmilitary.c: Adding dangerfunct so that danger amortization
 	is 2^(1-t) instead of 1/t^2.  Treating units adjacent to city as 3
 	away instead of whatever the warmap thinks.  Changing grave_danger
 	to an int, but not implementing my master plan yet.  It needs to
 	acknowledge that four veteran dragoons outside a city are more than
 	four times as dangerous as one.  Moving the v/=30 to fix a possible
 	problem where the AI berserkly wants FEUDALISM.  Adding a +=
 	urgency in m_a_c_b so that the AI will buy if danger==def.  Adding
 	emergency-wall code which actually worked when I tried it (once),
 	but isn't necessarily verified yet. -- Syela

Wed Aug  5 19:25:53 1998  John Stonebraker <ppaqebb@surfshop.net>

	* README.AI: Updating AI intro, doc'ing normal and hard modes,
 	updating list of known and recently resolved problems. -- Syela

Tue Aug  4 22:41:17 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unittools.h: Protoing can_unit_attack_unit_at_tile and
 	enemies_at. -- Syela
	
Tue Aug  4 22:40:57 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unittools.c: Changing can_unit_attack_tile into a wrapper
 	for can_unit_attack_unit_at_tile.  Adding enemies_at, which is
 	mostly-working but not dangerous. -- Syela
	
Tue Aug  4 22:40:10 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unithand.c: Fixing dist_nearest call in unit_versus, and
 	adding outside %s as a possible notify.  Correcting spelling of
 	successful.  Adding ACTIVITY_EXPLORE as a special case in
 	handle_unit_ac_req. -- Syela
	
Tue Aug  4 22:38:53 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unitfunc.c: Fixing bug in get_virtual_defense_power so
 	that ground units on ocean tiles return 0.  Implementing
 	ACTIVITY_EXPLORE in update_unit_ac.  Correcting dist_nearest call
 	in kill_unit and adding 'outside %s' as a possible notification.
  	-- Syela
	
Tue Aug  4 22:36:25 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/settlers.c: Fixing ancient bug in ai_do_build_city where
 	punit is freed and then referenced.  Initing ww to 99999 in
 	findwork so that v2=0 activities are not attempted.  Doing ZOC
 	check before settlers try to disembark.  Fixing syntax error in a
 	memset that doesn't matter. -- Syela
	
Tue Aug  4 22:34:22 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/gotohand.h: Protoing could_unit_move_to_tile so aiunit
 	can call it. -- Syela
	
Tue Aug  4 22:34:02 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/gotohand.c: Adding arbitrary deterrent for GOTO'ing
 	through unseen tiles.  Tinkering with the passenger in find_the,
 	which probably has no meaning whatsoever.  Adding transport
 	paranoia code, which mostly works thanks to the new util funct
 	enemies_at.  This isn't perfect and if I figure out why I might
 	fix it later today.  Fixing the 'passenger cannot disembark' thing
 	which I messed up so badly the first time I couldn't believe it
 	when I saw it.  Adding passenger to find_a_dir for more transport
 	paranoia.  In find_a_dir, avoiding the unknown if we are on our
 	last move.  Allowing -1 to be returned if moving would be into the
 	jaws of death.  Adding same_pos check in goto_is_sane.  Aborting
 	goto's with no moves_left much sooner than before to save CPU
 	cycles. -- Syela
	
Tue Aug  4 22:28:47 1998  John Stonebraker <ppaqebb@surfshop.net>

	* data/tiles.xpm: Adding X tile for ACTIVITY_EXPLORE. -- Syela
	
Tue Aug  4 22:27:07 1998  John Stonebraker <ppaqebb@surfshop.net>

	* data/Freeciv: Adding <Key>x for key_unit_explore. -- Syela
	
Tue Aug  4 22:26:16 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/unit.c: Changing MAGELLAN to give 2 moves, not 1.  Adding
 	ACTIVITY_EXPLORE to can_unit_do_activity. -- Syela
	
Tue Aug  4 22:25:37 1998  John Stonebraker <ppaqebb@surfshop.net>

	* client/xmain.c: Adding key_unit_explore. -- Syela
	
Tue Aug  4 22:25:07 1998  John Stonebraker <ppaqebb@surfshop.net>

	* client/menu.c: Adding explore to orders menu. -- Syela
	
Tue Aug  4 22:24:38 1998  John Stonebraker <ppaqebb@surfshop.net>

	* client/mapview.c: Defining X_TILE and displaying it when units
 	are in explore mode. -- Syela
	
Tue Aug  4 22:23:30 1998  John Stonebraker <ppaqebb@surfshop.net>

	* client/mapctrl.c, client/mapctrl.h: Adding and protoing
 	key_unit_explore. -- Syela
	
Tue Aug  4 22:22:59 1998  John Stonebraker <ppaqebb@surfshop.net>

	* client/Freeciv.h: Adding <Key>x to put units in explore mode. -- Syela
	
Tue Aug  4 22:21:56 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.h: Protoing a bunch of functs that now may be called
 	from other modules: ai_manage_explorer, unit_belligerence, _basic,
 	unit_vulnerability, _virtual, _quadratic, unit_can_defend. -- Syela
	
Tue Aug  4 22:17:02 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c: Correcting unit_move_turns now that MAGELLAN
 	actually gives 2 moves.  Deleting obsolete quick'n'dirty
 	unit_defensiveness and replacing it with the much smarter new
 	funct assess_defense_unit.  Hacking ai_manage_explorer so that it
 	can handle non-AI units, including boats.  Changing the arbitrary
 	value in the really slow part so that explorers don't get stuck so
 	easily, and also calling unit_move_turns instead of assuming our
 	explorer was an IGTER ground unit.  Writing quick'n'dirty
 	stack_attack_value because the old bodyguard code didn't
 	acknowledge stacks of muskets as a threat to howitzers.  Rewriting
 	reinforcements_cost and _value to save enormous amounts of CPU
 	time since the last versions were so badly implemented.  Also
 	changing them to continue if aunit==punit, so taking account of
 	that in findvictim.  Upgrading the need-bodyguard calc using
 	stack_attack.  Fixing bugs in gothere that I can't really explain
 	but that which were causing AI invaders to either stall or get
 	stuck for no good reason.  Oops; I still have debug printfs in
 	here; will remove them later today.  Using quadratic defense in
 	look_for_charge and findjob for bodyguards.  Using
 	assess_defense_unit instead of the really bad joke in the
 	is-it-safe-to-leave calculation.  Acknowledging units already
 	present in the horrible init in f_s_t_k.  And I'm not done yet! -- Syela
	
Tue Aug  4 22:09:03 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aitools.c: Fixing ancient mistake in dist_nearest_enemy_city
 	that allowed unseen cities to be returned.  Also hacking it so it
 	gives the nearest city on any continent if (x,y) is in the
 	ocean. -- Syela
	
Tue Aug  4 22:08:05 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aihand.c: Forcing the AI to save up for citywalls/defenders
 	it needs even if it's a good time to love the president. -- Syela
	
Tue Aug  4 22:07:32 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aicity.c: Teaching the AI when to build MAGELLAN.  Also
 	telling it SDI is worth saving money for if it's about to be
 	nuked. -- Syela
	
Tue Aug  4 22:06:28 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advmilitary.h: Protoing new functs assess_defense_unit and
 	_quadratic. -- Syela
	
Tue Aug  4 22:06:07 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advmilitary.c: Fixed some bugs giving an implicit *1.5 to
 	boats defending cities.  Wrote assess_defense_quadratic to stop
 	the AI from building piles of small units or from reallocating
 	piles of small units to one city.  Wrote assess_defense_unit.
  	Rewrote assess_defense_backend to handle the new functs.  Fixed a
 	syntax error that caused a memset to misbehave. -- Syela
	
Mon Aug  3 02:27:42 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c: Fixing bug where giving AI an empire with missiles
 	crashes the game.  Fixing bug where AI warships can choose
 	landlocked targets. -- Syela
	
Sun Aug  2 23:28:37 1998  Mitch Davis <mjd@alphalink.com.au>

	* configure, configure.in, client/Freeciv.h, common/shared.h,
 	data/Freeciv: Bumped all the version numbers to 1.6.6.
	
Sun Aug  2 20:30:59 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unittools.c: Adding unit name to zone of control notify.
  	One of my AI functs is misbehaving re: ZOC, and this is useful to
 	debug it as well as in general. -- Syela
	
Sun Aug  2 20:30:00 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unithand.c: Adding a bunch of ferryboat and bodyguard
 	stuff to handle_unit_move_request. -- Syela
	
Sun Aug  2 20:29:14 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unitfunc.c: Preventing nukes from reducing size 1 cities
 	to size 0.  I don't know how The Other Game does this, so this
 	might need checked. -- Syela
	
Sun Aug  2 20:27:43 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/stdinhand.c: Adding undoc'd crash command. -- Syela
	
Sun Aug  2 20:26:52 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/settlers.h: Protoing other_passengers, changing proto for
 	find_boat. -- Syela
	
Sun Aug  2 20:26:24 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/settlers.c: Replacing hardcoded 8 with TRADE_WEIGHTING.
  	I probably have more of these lurking somewhere.  More strongly
 	encouraging coastal cities to be near lots of water instead of
 	only a little.  Adding rather arbitrary deterrent to using
 	settlers to help cities grow.  No longer zeroing ferryboat in
 	auto_settler_do_goto; it's in unithand now.  Changing find_boat so
 	that punit is no longer an arg (we just trust the map), but
 	minimum capacity is.  Adding util funct other_passengers, which
 	I'm probably going to end up obsoleting now that multiple
 	passengers are handled intelligently.  Adding ai_choice to
 	findwork so that AIs will want Navigation if colony sites exist
 	outside trireme range.  Choosing the best tile to improve if
 	multiple tiles offer equal opportunity instead of choosing the
 	NWmost.  Refusing to allow settlers to help cities grow if they
 	can do anything else useful.  Otherwise the AI was settling its
 	settlers, creating workers for unimproved tiles, and then needing
 	settlers to improve them.  Not allowing a settler riding a
 	warferryboat to divert it.  Forcing settlers to disembark early
 	with other_passengers, but this is probaly no longer necessary. -- Syela
	
Sun Aug  2 20:18:13 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/gotohand.c: Adding time_saving abort in generate_warmap
 	to prevent useless duplication; some of the AI functs would
 	otherwise generate redundant warmaps.  Fixing bug involving dir_ok
 	halfway around the world from the destination.  Acknowledging
 	passenger ZOC in ferryboat goto paths.  Treating rails as free
 	even for IGTER units finally.  Encouraging units to choose
 	roads/rails in find_a_dir for flexibility later. -- Syela
	
Sun Aug  2 20:14:51 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/civserver.c: Forcing the AI to manage its units BEFORE
 	end_turn, not during. -- Syela
	
Sun Aug  2 20:14:00 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/cityturn.c: Handling e/luxneed/pwr in worker_loop better
 	to stop AI emergencies. -- Syela
	
Sun Aug  2 20:13:17 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/unit.c: Changing is_transporter_with_free space to return
 	free space. -- Syela
	
Sun Aug  2 20:12:37 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/city.h: Adding urgency and who's-killing-us temp vars a
 	and f to city_ai. -- Syela
	
Sun Aug  2 20:11:27 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.h: Protoing new functs look_for_charge and
 	find_beachhead. -- Syela
	
Sun Aug  2 20:07:10 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c: Reordering functs so that low-level routines come
 	first and high-level routines come later in the file.  Adding util
 	funct unit_move_turns which actually acknowledges MAGELLAN, but I
 	need to implement it a dozen more places.  Adding bodyguard/charge
 	stuff.  Making bodyguards zero their charge if they should change
 	homecity.  Adding unit_vul_virtual.  Changing the desperation
 	kluge so that units don't attack with certain death, although
 	probable death is still OK.  Hacking findvictim to return an int.
  	Hacking findvictim so ferryboats do not attack.  Adding more
 	safeguards to prevent SIGFPE's when non-attackers try to attack.
  	Adding ai_military_bodyguard.  Adding find_beachhead for
 	invasions.  Adding bodyguard code to ai_military_gothere.  Adding
 	invasion code to ai_military_gothere.  Adding util funct
 	unit_can_defend for findjob and new funct look_for_charge.
  	Allowing a lot of defenders to become bodyguards if needed as
 	such.  Calling generate_warmap more than I would like; it seems to
 	slow the game down some.  Adding invasion code to
 	find_something_to_kill.  Using unit_being_aggressive to calc
 	unhap.  Making ai_manage_ferryboat a lot more intelligent
 	regarding multiple passengers and not leaving shore too soon.
  	Maybe something else, but with the rearranging of functs, the
 	diffs are ugly. -- Syela
	
Sun Aug  2 19:57:40 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aihand.c: Moving ai_manage_units out of ai_do_last so that
 	units can have their final move before enemy cities get to build
 	stuff.  Fixing stupidity in ai_manage_taxes where it was possible
 	to feed a negative index to an array - was causing aberrant
 	behavior, mostly selling buildings during pointless celebrations.
  	Getting rid of some unused code.  Being a little more careful not
 	to sell stuff because of rounding errors.  There is a minor quirk
 	in this routine that I still need to fix, but I wanted to upload
 	it in a mostly-working state. -- Syela
	
Sun Aug  2 19:54:19 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aicity.h: Protoing ai_choose_defender_by_type and changing
 	proto for ai_choose_defender_limited to match. -- Syela
	
Sun Aug  2 19:53:47 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aicity.c: AI not buying wonders with have 50 or more
 	build_points_left.  Changing the syntax to
 	ai_choose_defender_limited so that move_type can be an arg.
  	Adding ai_choose_defender_by_type.  Disbanding unhappy units that
 	cause unrest in emergency_r_w. -- Syela
	
Sun Aug  2 19:50:44 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advmilitary.c: Regarding only ground units and ferryboats as
 	grave or urgent danger.  Fixing huge, important, obvious bug where
 	the AI didn't comprehend that units on other continents were
 	dangerous.  Caching urgency so that defenders in urgency-0 cities
 	can become bodyguards.  Changing the big ugly want equation in
 	p_a_w and k_s_w to handle co-ordinated attacks and invasions via
 	ferryboat.  Adding code to m_a_c_b so that the AI might (it very
 	rarely does, it seems) build defenders purely to become
 	bodyguards.  I think that's everything. -- Syela
	
Sun Aug  2 19:39:17 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advdomestic.c: Giving the AI appropriate disregard for the
 	WALL. -- Syela
	
Sun Aug  2 15:34:46 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/Freeciv.h, client/helpdlg.c, data/Freeciv: Vision range
 	displayed in the unit help, from David Pfitzner.
	
Wed Jul 29 21:39:19 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unitfunc.c: Unlinking returning spy from tile->units
 	before sending her home, then inserting her in her new
 	tile->units.  Also stalling AI military ground units on GOTO,
 	which is meaningless now but will be useful when I upload the
 	current aiunit.c. -- Syela
	
Wed Jul 29 16:22:42 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/dialogs.c, client/dialogs.h, client/packhand.c,
 	common/packets.c, common/packets.h, server/unitfunc.c,
 	server/unithand.c: Used the same system I did for revolt inciting
 	to remove the bribe cost from the unit info packet.  Only had to
 	modify 7 files this time.
	
Wed Jul 29 16:11:09 1998  Trent Piepho <xyzzy@u.washington.edu>

	* common/unit.h, server/plrhand.c: Removed unit_bribe_cost() from
 	the unit.h header, because it isn't in unit.c any more.  Added the
 	unittools.h header to plrhand.c.
	
Wed Jul 29 13:30:03 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/civclient.c, client/dialogs.c, client/dialogs.h,
 	client/packhand.c, client/packhand.h, common/packets.c,
 	common/packets.h, server/cityhand.c, server/civserver.c,
 	server/unithand.c, server/unithand.h: Took the incite_revolt_cost
 	out of the city_info packet.  Sounds simple, eh?  I needed to
 	modify 11 files to do it.  Since inciting happens only rarely,
 	it's wasteful to send the data with every city update.  Now when a
 	diplomat tries to incite, a INCITE_INQ packet is sent asking how
 	much it will cost.  Then the client receives an INCITE_COST packet
 	from the server, and pops up the yes/no dialog.  If players with
 	lagged connections try to incite more than one city very quickly
 	(before the server INCITE_COST comes back), weird things might
 	happen.  I doubt this will actually happen in a game.  This change
 	also allows incite cost to be updated dynamically.  Before the
 	cost was computed at the beginning of the turn and didn't change.
  	Now if you do something to change the cost, like kill all the
 	units in the city and reduce its size, the cost will go down.
	
Wed Jul 29 01:18:07 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unithand.c: Removing destroyed cities from the minimap.
 	-- Syela
	
Wed Jul 29 01:14:25 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/cityturn.c: Removing cities that starve from the
 	minimap. -- Syela
	
Wed Jul 29 01:13:22 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/cityhand.c: Removing brokenly-implemented
 	remove_city_from_minimap from remove_city; it was corrupting the
 	minimap.  Forcing reset_move_costs in remove_city and create_city.
  	My stupid failure to do so earlier led to the AI's reluctance to
 	build boats. -- Syela
	
Tue Jul 28 23:04:53 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/unit.c: Adding is_ground_unit check in
 	get_transporter_capacity (David Pfitzner) Adding case for
 	unimplemented ACTIVITY_EXPLORE in unit_activity_text, and added
 	the unknown punit->activity in the LOG_FATAL.  -- Syela
	
Tue Jul 28 23:01:54 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aicity.c: Fixing ai_find_elvis_pos so that it doesn't panic
 	about anticipated famine when dealing with e large.  Horrible
 	mistake on my part. -- Syela
	
Tue Jul 28 22:59:13 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/cityturn.c, server/cityturn.h: Protoing
 	unit_being_aggressive normally so the AI can call it. -- Syela
	
Tue Jul 28 22:58:33 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/gamehand.c: Including capability.h; stops implicit
 	declaration warnings. -- Syela
	
Tue Jul 28 22:55:19 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/packets.c: Fix so negative research.researched is
 	acknowledged as negative. -- Syela
	
Tue Jul 28 14:30:51 1998  Mitch Davis <mjd@alphalink.com.au>

	* NEWS, configure, configure.in, client/Freeciv.h,
 	common/shared.h, data/Freeciv: Upped the version number to 1.6.5.
	
Tue Jul 28 12:40:49 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/citydlg.c, client/packhand.c, common/city.c,
 	common/city.h, common/packets.c, common/packets.h,
 	server/cityhand.c, server/cityturn.c, server/plrhand.c: Changed
 	the way trade route value was calculated.  The value of a trade
 	route no longer takes the trade produced by other trade routes
 	into account.  Before it would sometimes depending on which order
 	the routes were computed in.  The value of the trade route is sent
 	with the CITY_INFO packet to the client.  The client uses this
 	information rather than trying to compute the value isself, since
 	it doesn't know enough to get it right.  The format for the
 	CITY_INFO packet has been shrunk by 6-14 bytes.
	
Tue Jul 28 12:37:41 1998  Mitch Davis <mjd@alphalink.com.au>

	* Makefile.am, Makefile.in, client/Makefile.am,
 	client/Makefile.in, server/Makefile.am, server/Makefile.in: Fixing
 	the broken makefiles that didn't export many files (including
 	server/gotohand.h and client/*.ico).  This is what broke beta
 	1.6.4.
	
Tue Jul 28 12:15:12 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/unithand.c: Cities weren't being refreshed when a trade
 	route was formed.  The update for the destination city might not
 	get sent to the right player.  Fixed.
	
Tue Jul 28 09:49:52 1998  Trent Piepho <xyzzy@u.washington.edu>

	* data/helpdata.txt: Some updates to unit help by David Pfitzner.
	
Mon Jul 27 17:39:24 1998  not sure

	* common/packets.c: Reverting to revision 1.12, since 1.13 did
 	nothing but add bugs.
	
Mon Jul 27 17:25:33 1998  Mitch Davis <mjd@alphalink.com.au>

	* server/civserver.c: Changed the estimated release date from Jul
 	26 to Aug 5.
	
Mon Jul 27 17:24:38 1998  Mitch Davis <mjd@alphalink.com.au>

	* client/Freeciv.h, data/Freeciv: Changed the estimated release
 	date for 1.7 from July 26 to August 5.
	
Mon Jul 27 17:23:12 1998  Mitch Davis <mjd@alphalink.com.au>

	* README: Updated file for 1.7.  Thanks to James Blackwell for the
 	patch.
	
Mon Jul 27 17:21:57 1998  Mitch Davis <mjd@alphalink.com.au>

	* NEWS: Removed mention of an irrigation problem which John
 	assures me has gone.
	
Mon Jul 27 17:21:05 1998  Mitch Davis <mjd@alphalink.com.au>

	* Makefile.noimake: Added a note telling people that the file is
 	out of date.
	
Mon Jul 27 17:20:27 1998  Mitch Davis <mjd@alphalink.com.au>

	* INSTALL: Updated the INSTALL document so it tells people to use
 	configure instead of Imake.
	
Mon Jul 27 17:19:33 1998  Mitch Davis <mjd@alphalink.com.au>

	* HOWTOPLAY: Replaced references to 1.6 with Freeciv.
	
Mon Jul 27 17:18:30 1998  not sure

	* ChangeLog: Made a start on the ChangeLog.  Need to finish this
 	for 1.7.
	
Mon Jul 27 17:00:32 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/packets.c: Removing casting to signed in get_int8; hosed
 	pinfo->activity. -- Syela
	
Mon Jul 27 16:25:33 1998  Mitch Davis <mjd@alphalink.com.au>

	* CREDITS, NEWS: Updated for 1.7.  Thanks to James Blackwell
 	<innocent@mercury.merconline.com> for the changes.
	
Mon Jul 27 16:01:37 1998  Mitch Davis <mjd@alphalink.com.au>

	* server/plrhand.c: Removed some code I had commented out ages
 	ago.
	
Mon Jul 27 15:25:51 1998  Mitch Davis <mjd@alphalink.com.au>

	* server/cityturn.c: Added code so that units in fortresses within
 	a 3-square radius of a city do not cause unhappiness.  Patch
 	submitted by David Pfitzner <dwp@mso.anu.edu.au>.
	
Mon Jul 27 15:17:53 1998  Mitch Davis <mjd@alphalink.com.au>

	* data/helpdata.txt: Updated the help file to include the feature
 	where units in fortresses around cities do not cause unhappiness.
  	This allows for much more realistic defense scenarios.  Patch
 	submitted by Greg Wooledge <wooledge@kellnet.com>.
	
Mon Jul 27 15:10:48 1998  Mitch Davis <mjd@alphalink.com.au>

	* common/game.c, common/game.h: Added a "get_player" convenience
 	function.  Patch submitted by David Pfitzner <dwp@mso.anu.edu.au>.
	
Mon Jul 27 15:03:34 1998  Mitch Davis <mjd@alphalink.com.au>

	* client/Freeciv.h, server/plrhand.c: The rate-changing code has a
 	really stupid bug in it..*sigh* The notify_player call is missing
 	it's last arg in handle_player_rates
	[it should be get_government_name(pplayer->government)] Fix
 	submitted by Olli Helenius <ollhel@jytol.fi>.
	
Mon Jul 27 14:29:06 1998  Mitch Davis <mjd@alphalink.com.au>

	* client/ratesdlg.c, common/player.c, common/player.h,
 	data/Freeciv, server/plrhand.c: Made the tax/lux/sci rates work
 	like in CivII.  Patch submitted by Olli Helenius
 	<ollhel@jytol.fi>.
	
Mon Jul 27 14:24:56 1998  Mitch Davis <mjd@alphalink.com.au>

	* server/gamehand.c: Rewrote the savefile version patch to use
 	capability strings instead of simple version number.  Patch
 	submitted by Cedric Tefft <cedric@earthling.net>.
	
Mon Jul 27 12:36:40 1998  Mitch Davis <mjd@alphalink.com.au>

	* common/packets.c: Fixes a problem where cities with lack of food
 	or so are shown to have 65k food surplus.  Patch submitted by
 	Frank Muzzulini <muzz@albatross.pond.sub.org>.
	
Mon Jul 27 12:20:49 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/menu.c, data/helpdata.txt, client/helpdlg.h: Patches from
 	Greg Wooledge to add lots of help text for governments and
 	happiness.
	
Mon Jul 27 05:15:33 1998  Trent Piepho <xyzzy@u.washington.edu>

	* common/unit.c: Changed Partisans to ignore terrain, like in
 	civ2.
	
Mon Jul 27 01:11:44 1998  John Stonebraker <ppaqebb@surfshop.net>

	* README.AI: Adding short doc describing current AI status to
 	top-level dir. -- Syela
	
Mon Jul 27 01:09:25 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/settlers.h: Protoing find_boat, since invasion code will
 	call it. -- Syela
	
Mon Jul 27 01:06:43 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advdomestic.c, ai/aicity.c, ai/aicity.h: Moving
 	choose-ferryboat code into ai_choose_ferryboat. -- Syela
	
Mon Jul 27 01:04:10 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/gotohand.c: Fixing bug so galleons can GOTO defended
 	tiles.  Setting unit activity to ACTIVITY_GOTO in do_unit_goto as
 	a failsafe. -- Syela
	
Mon Jul 27 01:02:35 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/unit.h: Adding ACTIVITY_EXPLORE, which I'll implement
 	Real Soon Now. -- Syela
	
Mon Jul 27 01:02:00 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/civserver.c: David Pfitzner's patch to announce when
 	game-load is complete. -- Syela
	
Mon Jul 27 00:07:59 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aihand.c: Moving debug printfs that were calling free()d
 	memory -- Syela
	
Mon Jul 27 00:05:52 1998  John Stonebraker <ppaqebb@surfshop.net>

	* client/civclient.c: David Pfitzner's patch to stop client
 	crashes on reconnection. -- Syela
	
Sat Jul 25 16:47:30 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/cityturn.c: Adding 'e' to better estimate real foodneed
 	when elvisization is inevitable.  This is a quick-n-dirty hack but
 	it works well.  Zeroing specialists prior to worker_loop in
 	auto_arrange_workers. -- Syela
	
Sat Jul 25 16:45:58 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aicity.c: Fixing mistaken implementation of settler_eats
 	(months old) in ai_find_elvis_pos.  Adding 'e' to handle
 	multiple-elvis case so that it doesn't elvisize all its farmers
 	and starve.  Fixing what was probably a typo in ai_fix_unhappy;
 	doing so fixed a bug with emergency_reallocate.  Made the
 	emergency notification more verbose and got rid of all the other
 	printfs in reallocate once I fixed the remaining bugs; the
 	city_refresh turned out to be important. -- Syela
	
Fri Jul 24 20:49:58 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unitfunc.c: Fixing a dorky typo of mine in g_v_d_p that
 	David Pfitzner found. -- Syela
	
Fri Jul 24 20:49:21 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/settlers.c: Commenting out debug printfs in ferryboat
 	code now that it's tested.  Using seacost instead of dopey
 	real_map_distance to calculate distances to possible colony sites.
  	Letting settlers ride the boat all the way to their destination
 	instead of getting off too soon. -- Syela
	
Fri Jul 24 20:47:48 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/plrhand.c: Fixing bug where last available tech was
 	called 'Future Tech 1'. -- Syela
	
Fri Jul 24 20:46:51 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/gotohand.h: Protoing really_generate_warmap since
 	findwork now calls it. -- Syela
	
Fri Jul 24 20:46:29 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/gotohand.c: Better pathfinding for Triremes.
  	Experimental patch to the stacking algorithm so that stacks in
 	cities and fortresses are OK. -- Syela
	
Fri Jul 24 20:45:25 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/cityturn.c: Fixing a really stupid typo in worker_loop
 	that hosed conflict[] -- Syela
	
Fri Jul 24 20:44:56 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/citytools.c: Fixing a bug in city_tile_value that allowed
 	nonsupport of units. -- Syela
	
Fri Jul 24 20:43:54 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.h: Redefining find_something_to_kill as an int instead
 	of void funct. -- Syela
	
Fri Jul 24 20:43:28 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c: Allowing certain units to be managed with 0 moves
 	left.  Fixes the wasted turn for caravans and lets ferryboats stop
 	their GOTOs when their passengers disembark.  Rewrote the
 	unit_belli and unit_vul stuff, reinf_value,
 	find_something_to_kill, and findvictim in order to make attacker
 	wants somewhat reasonable instead of craven. -- Syela
	
Fri Jul 24 20:41:21 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aihand.c: Doing funky stuff in ai_manage_taxes to prevent
 	famine, disorder, and non-support of units. -- Syela
	
Fri Jul 24 20:39:48 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aicity.h: Protoing new functs has_a_normal_def and
 	emergency_realloc_workers. -- Syela
	
Fri Jul 24 20:37:40 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aicity.c: Spending money wantonly when researching A_NONE.
  	Fixing isdef in choose_defender_limited so cruisers don't count as
 	defenders.  Adding emergency_reallocate_workers; not fully tested
 	yet. -- Syela
	
Fri Jul 24 20:36:00 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advmilitary.c: Only treating ground units and ferryboats as
 	grave or urgent danger.  Not allowing FIELDUNIT as first defender
 	in a city.  Changing unit attack desires; old ones were right at
 	the THRESHOLD, but too low for closer targets.  Fixing a dorky
 	typo that only survived because memsetting the virtualunit didn't
 	set its id to 0.  Zeroing it manually.  Treating FIELDUNITs in a
 	city as attackers, like Cannons are. -- Syela
	
Fri Jul 24 20:33:09 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advdomestic.c: Better pollution understanding.  Fixing want
 	for CAPITAL and DARWIN. -- Syela
	
Thu Jul 23 22:51:24 1998  Mitch Davis <mjd@alphalink.com.au>

	* client/Freeciv.h, client/connectdlg.c, client/graphics.c,
 	client/graphics.h, common/shared.h, data/Freeciv,
 	server/civserver.c, server/meta.h: Made some changes so that
 	versions before 1.7 display a prominent BETA notice.
	
Thu Jul 23 22:48:47 1998  Mitch Davis <mjd@alphalink.com.au>

	* common/shared.h: Added some notes for people updating the
 	capability string.
	
Thu Jul 23 00:54:23 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/settlers.c: Moving the warmth calculation where it should
 	have been in the first place.  Expanding settling horizon after we
 	learn Nav. -- Syela
	
Thu Jul 23 00:52:47 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/citytools.h: Defining POLLUTION_WEIGHTING and
 	WARMING_FACTOR.  -- Syela
	
Thu Jul 23 00:51:43 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aicity.c: Zeroing tech_want for buildings under primitive
 	governments.  Trying to stop the AI from using FIELDUNITS as
 	sentry defenders. -- Syela
	
Thu Jul 23 00:49:54 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advdomestic.c: Correcting stupid mistakes, one involving
 	B_MASS, two others that were preventing the AI from building
 	caravans and freight. -- Syela
	
Wed Jul 22 23:08:15 1998  Mitch Davis <mjd@alphalink.com.au>

	* server/cityturn.c: This patch prevents advisors from building
 	palaces automatically.  Patch submitted by Olli Helenius
 	<ollhel@jytol.fi>.
	
Wed Jul 22 23:05:24 1998  Mitch Davis <mjd@alphalink.com.au>

	* server/plrhand.c: Some formatting changes.  Hope I didn't break
 	anything.
	
Wed Jul 22 22:59:13 1998  Mitch Davis <mjd@alphalink.com.au>

	* server/plrhand.c: This patch fixes a problem with anarchy.
  	Patch supplied by Peter Schaefer
 	<schaefer@malaga.math.uni-augsburg.de>.
	
Wed Jul 22 22:57:28 1998  not sure

	* ai/Makefile.in, client/Makefile.in, server/Makefile.in: Grr,
 	some makefile changes eluded me.
	
Wed Jul 22 18:42:25 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advdomestic.c, ai/advmilitary.c, ai/aicity.c, ai/aihand.c,
 	ai/aitools.c, ai/aiunit.c, server/cityturn.c, server/settlers.c,
 	common/player.h: Fixing a bunch of bugs involving AI behavior with
 	pyramids.  Dealing with simulataneous construction of wonders on
 	different continents better, and eliminating surplus caravans.
  	Instituting warmth variable and primitive pollution-awareness.
  	The pollution stuff isn't adequately tested yet. -- Syela
	
Wed Jul 22 18:38:19 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/plrhand.c, client/finddlg.c, client/gotodlg.c,
 	client/repodlgs.c: Casting the fourth arg of qsort as (void *) for
 	-Wall. -- Syela
	
Wed Jul 22 13:03:28 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/mapview.c: Some typos that would effect non-square tiles
 	fixed.
	
Wed Jul 22 00:15:06 1998  Mitch Davis <mjd@alphalink.com.au>

	* Makefile.in, configure, common/Makefile.in, data/Makefile.in,
 	server/Makefile.in: Regenerated some Makefiles, after Greg's
 	changes and unchanges.
	
Wed Jul 22 00:09:29 1998  Mitch Davis <mjd@alphalink.com.au>

	* ai/Makefile.am, common/Makefile.am: Reversed some of Greg's
 	changes, since some people had problems.
	
Mon Jul 20 23:03:09 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unitfunc.c: Properly indenting and bugfixing
 	diplomat_leave_city. -- Syela
	
Mon Jul 20 22:42:50 1998  Mitch Davis <mjd@alphalink.com.au>

	* client/helpdlg.h, client/menu.c, data/helpdata.txt: 

	- adds some basic help for terrain types
 	- adds boat carrying capacities to the help text 
	- fixes some other bugs in the help system (most importantly,
 	  clicking "About" didn't find the right section, since
 	  the helpdata.txt file said "About Freeciv") 
	Patch supplied by Greg Wooledge <wooledge@kellnet.com>.
	
Mon Jul 20 22:41:31 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c, server/gotohand.c, server/settlers.c: Dealing with
 	ferryboat gotos more intelligently. -- Syela
	
Mon Jul 20 22:39:40 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/player.c, common/player.h, server/plrhand.c: Adding
 	framework for handicapping the AI; not yet implemented. -- Syela
	
Mon Jul 20 22:35:10 1998  John Stonebraker <ppaqebb@surfshop.net>

	* client/packhand.c: Forcing government dialog popup when an AI
 	nation with out-of-range
	(Flag) value for ->revolution is given human control. -- Syela
	
Mon Jul 20 22:31:00 1998  Mitch Davis <mjd@alphalink.com.au>

	* configure.in, ai/Makefile.am, client/Makefile.am,
 	common/Makefile.am: Some improvements from Reinier Post
 	<reinpost@win.tue.nl>.  I haven't had time to test them.
	
Mon Jul 20 22:25:02 1998  Mitch Davis <mjd@alphalink.com.au>

	* Imakefile: Added server/settlers.o.  Reported by Reinier Post
 	<reinpost@win.tue.nl>.
	
Mon Jul 20 22:17:49 1998  Mitch Davis <mjd@alphalink.com.au>

	* server/unitfunc.c: Fixed two problems.  The first was a bug I
 	introduced by incorrectly joining two ifs.  Naughty me.  The
 	second is regarding the behaviour of a spy when she's returned to
 	her home city.  From a patch submitted by Kris Bubendorfer
 	<Kris.Bubendorfer@MCS.VUW.AC.NZ>.
	
Mon Jul 20 20:20:57 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/cityturn.c: Using minimap to handle conflicts in
 	worker_loop; small win. -- Syela
	
Mon Jul 20 20:06:22 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/plrhand.c: Removing removed player's cities from the
 	citycache. -- Syela
	
Mon Jul 20 20:04:10 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aihand.c: Using add_adjust instead of auto_arr in
 	manage_taxes. -- Syela
	
Mon Jul 20 19:57:48 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advdomestic.c, ai/aicity.c, common/city.h, server/settlers.c,
 	server/settlers.h: Contemplating settlers with a fresh warmap to
 	save CPU time. -- Syela
	
Mon Jul 20 14:34:12 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/cityhand.c, server/cityhand.h, server/unitfunc.c: Updated
 	city maps and sent out city info packets for nearby cities when
 	another city adjusts its workers.  Also updated city map when a
 	city is captured.
	
Mon Jul 20 14:28:45 1998  Trent Piepho <xyzzy@u.washington.edu>

	* common/city.h: Removed (incorrect) prototype for non-existant
 	function.
	
Mon Jul 20 14:27:57 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/unittools.c, server/unittools.h: Removed
 	is_sailing_unit_tile because it's no longer needed.  Corrected ZOC
 	so that cities block units, even if the city is empty.
	
Mon Jul 20 12:08:44 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/cityhand.c, server/settlers.c, server/settlers.h,
 	server/unitfunc.c, server/unithand.c: Initializing infrastructure
 	cache when a city is created, stolen, or conquered.  Despite my
 	-Wall -Werror, yesterday's version was calling uninitialized
 	variables. -- Syela
	
Mon Jul 20 00:11:45 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unitfunc.c: Fixing the Teflon Diplomat bug (Greg
 	Wooledge's patch) -- Syela
	
Sun Jul 19 23:54:41 1998  not sure

	* NEWS, configure, configure.in, ai/advdomestic.c,
 	ai/advmilitary.c, ai/aicity.c, ai/aihand.c, ai/aitech.c,
 	ai/aitools.c, ai/aiunit.c, client/Freeciv.h, client/civclient.h,
 	client/climisc.c, common/city.c, common/city.h, common/game.c,
 	common/map.h, common/shared.h, data/Freeciv, server/cityhand.c,
 	server/cityhand.h, server/citytools.c, server/cityturn.c,
 	server/cityturn.h, server/civserver.c, server/diplhand.c,
 	server/gotohand.c, server/gotohand.h, server/plrhand.c,
 	server/plrhand.h, server/sernet.c, server/settlers.c,
 	server/settlers.h, server/unitfunc.c, server/unithand.c,
 	server/unithand.h, server/unittools.c:

	Implementing city cache and ai_calc cache in the city_ai struct.
  	This gives a fivefold CPU savings in the benchmark at 800-600 BC,
 	and should be even more necessary later in games.  Deleting old
 	find_city_by_id, but leaving it proto'd in city.h.  Adding new
 	cache-based find_city_by_id to cityhand, and forcing the client to
 	use game_find_city_by_id instead since it's the same as the old
 	one.
	
	In order to make sure I hadn't broken anything, I compiled with
 	-Wall -Werror, and in order to do so, I had to proto a bunch of
 	functs and eliminate unused variables in most of the files I'm
 	committing.  My own sloppiness is to blame for most of that.
	
	Fixing typo in city_affected_by_wonder (broke B_WOMENS).
	Fixing ZOC bug in is_sailing_unit_tile.
	
	Updating version number to 1.6.4.
	
Fri Jul 17 12:50:14 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/settlers.c: Lots of cool stuff involving settlers and
 	ferryboats. -- Syela
	
Fri Jul 17 12:48:36 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unitfunc.c: Fixing my fix to lost Triremes.  Zeroing new
 	unit_ai variables on unit mallocation. -- Syela
	
Fri Jul 17 12:47:41 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/plrhand.c: Zeroing new unit_ai variables on unit load. -- Syela
	
Fri Jul 17 12:46:48 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/gotohand.c: Fixing bug so shipboard units can GOTO land.
  	Allowing ships to GOTO shore, for shore bombardments and
 	transports, etc.  Fixing dorky typo that hosed GOTO's across the
 	international date line.  Dissuading TRIREMEs from GOTO across
 	open sea.  Modularizing goto_is_sane.  -- Syela
	
Fri Jul 17 12:43:27 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/unit.h: Adding basics of unit co-operation code to
 	unit_ai struct. -- Syela
	
Fri Jul 17 12:42:55 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c: Learning how to manage ferryboats. -- Syela
	
Fri Jul 17 12:42:29 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advdomestic.c: Learning how to want transports. -- Syela
	
Thu Jul 16 22:35:41 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/unithand.c: Quick hack to prevent settlers from building
 	cities when they have zero moves left.
	
Wed Jul 15 23:51:37 1998  Mitch Davis <mjd@alphalink.com.au>

	* client/dialogs.c, client/dialogs.h, client/mapview.c,
 	client/xmain.c: Changed the main screen so that all three of the
 	science, luxury and tax rates are shown.  Also, it is now possible
 	to click on them to change them: Clicking on one area reduces
 	spending in that area by 10%.  This patch was supplied by Peter
 	Schaefer <schaefer@malaga.math.uni-augsburg.de>
	
Wed Jul 15 09:38:35 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/citytools.c: Acknowledging tax_bonus affects luxury in
 	city_tile_value. -- Syela
	
Wed Jul 15 09:36:29 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aihand.c: Fixing a typo that stopped the AI from using lux
 	rate to stop disorder. -- Syela
	
Wed Jul 15 08:41:16 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/Makefile.am, server/Makefile.in: Telling make to compile
 	settlers.c.  Pardon me if I messed this up. -- Syela
	
Wed Jul 15 08:40:21 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/settlers.c, server/settlers.h: Consolidating auto-settler
 	code in its own module for my sanity. -- Syela
	
Wed Jul 15 08:35:01 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c, ai/aiunit.h, server/unitfunc.c, server/unitfunc.h,
 	server/unittools.c, server/unittools.h: Moving all the
 	auto-settler stuff into settlers.c.  Unitfunc was getting too big,
 	and I had the subroutines strewn everywhere. -- Syela
	
Wed Jul 15 07:08:53 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c, ai/aiunit.h, server/cityhand.c, server/civserver.c,
 	server/plrhand.c, server/unitfunc.c: Ignoring corruption in
 	city_des; caching results in the minimap.  Enormous CPU savings,
 	minor cost in memory. -- Syela
	
Wed Jul 15 06:59:17 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/cityturn.c: Taking obsolete junk out of
 	advisor_choose_build; it was causing stupidity when
 	ai_advisor_choose_building liked CAPITAL. -- Syela
	
Tue Jul 14 16:33:07 1998  Mitch Davis <mjd@alphalink.com.au>

	* server/unitfunc.c: A small correction to Kris' previous patch.
	
Tue Jul 14 16:22:32 1998  Mitch Davis <mjd@alphalink.com.au>

	* common/game.c, common/game.h, common/map.h, server/citytools.c,
 	server/citytools.h, server/stdinhand.c, server/unitfunc.c,
 	server/unitfunc.h, server/unithand.c: This change set concerns
 	spies and diplomats, making them operate more in line with Civ II.
  	That is, spies may survive a mission, and units in a bought city
 	are transferred to the new owner etc.  Multiple bugs in the code
 	in this area were also fixed.
	
	1.  Numerous bug fixes of sabotage/steal code, where messages
	    were being sent incorrectly.
	
	2.  Cities were not being razed correctly in diplomat_incite.
	    Now they aren't razed, as per Civ II.
	
	3.  get_a_tech is now called in incite as well as in
	    unit_enter_city.  After all, buying a city should give you
	    the same opportunity to `discover' new technology as
	    invading the city does.
	
	4.  All units (military and non military) are now transferred to
	    the player who purchased the city.  Units outside of the
	    city are either deleted, or if in another city, are assigned
	    that city as their homecity.
	
	    This also cures the current bug, where a unit in a bought
	    city that has a different homecity, remains in the bought
	    city - even though it is now owned by the purchaser.  Thus
	    the enemy can simply move out and back in - recapturing the
	    newly bought city.
	
	5.  A diplomat now has a chance (ala Civ II) of defeating
	    defending diplomat/spy units in a city.  This chance is set
	    via the set diplchance command from the server console.  It
	    defaults to a 1/3 chance of the attacking diplomat/spy
	    killing each defending diplomat/spy.
	
	6.  Spies (not diplomats) may now survive their mission (ala Civ
	    II).  The chance that a spy will be returned to it's home
	    city is also 1/diplchance.  This increases the value of
	    spies over diplomats.
	
	Patch supplied by Kris Bubendorfer
	<Kris.Bubendorfer@MCS.VUW.AC.NZ>.
	
Tue Jul 14 15:25:15 1998  Mitch Davis <mjd@alphalink.com.au>

	* data/helpdata.txt: Updated errors in some of the entries.  Patch
 	submitted by Frank Muzzulini <muzz@albatross.pond.sub.org>.
	
Tue Jul 14 14:44:18 1998  Mitch Davis <mjd@alphalink.com.au>

	* client/xmain.c: Added a workaround for if getpwuid returns NULL.
  	Problem reported by Peter Joachim Unold <pjunold@daimi.aau.dk> and
 	Peter Schaefer <schaefer@malaga.math.uni-augsburg.de>.  Patch
 	supplied by the second Peter.
	
Tue Jul 14 03:48:47 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advdomestic.c, ai/advmilitary.c, ai/aicity.c, ai/aihand.c,
 	ai/aiunit.c, server/cityhand.h, server/citytools.c,
 	server/citytools.h, server/gotohand.c, server/unitfunc.c:
 	Eliminating lots of unnecessary divisions in functions I've
 	written. -- Syela
	
Tue Jul 14 03:43:16 1998  John Stonebraker <ppaqebb@surfshop.net>

	* client/Freeciv.h: Proto for my refresh widget; didn't think this
 	should be uploaded. -- Syela
	
Mon Jul 13 22:41:53 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c: Fixing possible overflow in amortize.  I ran this
 	function millions of times without ever seeing it, but I just
 	found the problem. -- Syela
	
Mon Jul 13 11:44:04 1998  John Stonebraker <ppaqebb@surfshop.net>

	* data/Freeciv, client/repodlgs.c, common/packets.c,
 	common/packets.h, server/cityhand.c, server/cityhand.h,
 	server/cityturn.c, server/civserver.c: Adding Refresh button to
 	city report.  Why must this span eight modules? -- Syela
	
Sun Jul 12 23:50:33 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aihand.c: Quick fix for empires with zero trade and
 	disorderly cities. -- Syela
	
Sun Jul 12 06:54:09 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/packets.c: Fixing a typo of Trent's regarding negative
 	shield surplus. -- Syela
	
Sun Jul 12 05:48:17 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/gotohand.c: Removing debug output.  Making preemption of
 	impossible GOTOs less draconian, more intelligent, and more
 	comprehensiv. -- Syela
	
Sun Jul 12 04:19:22 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advmilitary.c: Making the AI more willing to buy walls (and
 	coastal/SAM/SDI) -- Syela
	
Sun Jul 12 04:18:06 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aitech.c: Removing debug output for AI changing tech and
 	goal. -- Syela
	
Sat Jul 11 23:45:34 1998  Mitch Davis <mjd@alphalink.com.au>

	* Imakefile: Oops, forgot to add capability.o to the Imakefile.
  	Bug reported by Frank Muzzulini <muzz@albatross.pond.sub.org>
	
Sat Jul 11 09:08:16 1998  Trent Piepho <xyzzy@u.washington.edu>

	* common/packets.c: Fixed a few bugs I introduced when I shrunk
 	the protocol.
	
Fri Jul 10 22:35:17 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/cityturn.c: Calling ai_eval_bu for human cities in
 	advisor_choose. -- Syela
	
Fri Jul 10 22:30:31 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advdomestic.c: Adding want = TRADE_WEIGHT * 100 /
 	SHIELD_WEIGHT for CAPITAL. -- Syela
	
Fri Jul 10 22:29:40 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/gotohand.c: Allowing ground units to GOTO adjacent tiles
 	even if one is land and one is ocean.  -- Syela
	
Fri Jul 10 05:06:27 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/gotohand.c: Old goto stuff buried.  Warmaps moved in.
  	New warmap-based GOTO routines in and working AFAICT.  There was
 	an infinite-loop-RR bug but I'm 99% sure it's finally gone now.
  	-- Syela
	
Fri Jul 10 03:49:28 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/gotohand.h: Adding gotohand.h to handle defn's and protos
 	for GOTO. -- Syela
	
Fri Jul 10 03:46:32 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advmilitary.c, ai/advmilitary.h: Moving warmap stuff into
 	gotohand.c, .h. -- Syela
	
Fri Jul 10 03:34:23 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unitfunc.c: Including gotohand.h, removing
 	now-unnecessary protos. -- Syela
	
Fri Jul 10 03:25:06 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/map.c: Standardizing ii[] and jj[] arrays so I don't get
 	confused. -- Syela
	
Fri Jul 10 03:22:25 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c: Including gotohand.h since I moved the warmaps.
  	Standardizing ii[] and jj[] arrays so I don't get confused
 	again. -- Syela
	
Fri Jul 10 03:10:26 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aicity.c: Changing int which to enum unit_move_type. -- Syela
	
Fri Jul 10 03:04:54 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advdomestic.c: Limiting domestic want to 199; allows better
 	saving for defense. -- Syela
	
Thu Jul  9 15:59:35 1998  Mitch Davis <mjd@alphalink.com.au>

	* .cvsignore, ai/.cvsignore, client/.cvsignore, common/.cvsignore,
 	data/.cvsignore, server/.cvsignore: Added a line to .cvsignore so
 	the .deps directory is ignored.
	
Thu Jul  9 15:58:31 1998  Mitch Davis <mjd@alphalink.com.au>

	* server/civserver.c: If you try to select your race and choose
 	the player name that you initially connected to the server with,
 	you erroneously get the "Another player has already joined..."
 	notice.  The server doesn't realize that the "other" player IS
 	you.  Patch submitted by Cedric Tefft <cedric@earthling.net>.
	
Thu Jul  9 15:39:42 1998  Mitch Davis <mjd@alphalink.com.au>

	* common/Makefile.am, common/Makefile.in, common/capability.c,
 	common/capability.h, common/packets.c, common/packets.h,
 	common/shared.h, client/civclient.c, client/clinet.c,
 	client/packhand.c, client/packhand.h, client/xmain.c,
 	server/civserver.c: Added support for capability checking between
 	the client and the server.  This should solve any future problems
 	with detecting whether the protocol of the client and server are
 	compatible, without the nebulous practise of incrementing version
 	numbers.
	
Thu Jul  9 07:11:58 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/civserver.c, server/civserver.h, server/maphand.c,
 	server/plrhand.c, server/unithand.c, client/civclient.c,
 	client/mapctrl.c, client/packhand.c, common/game.c,
 	common/packets.c, common/packets.h: Massive changes to protocol.
  	The bandwidth used is about a quarter of what it was.  Also does
 	more buffering to reduce the number of packets sent.
	
Wed Jul  8 08:53:14 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unitfunc.c, server/unittools.c: Going back to new
 	is_already_assigned.  Adding unit_list_iterates so it can handle
 	multiple units on the same tile.  Assigning virtualunits so that
 	the AI no longer builds many engineers to handle a single job.
  	Fixing bugs re: cities and re: mines in ai_calc_irrigate. -- Syela
	
Tue Jul  7 21:18:13 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unitfunc.c, server/unittools.c: Hacking ai_calc_railroad
 	to handle benefit of railroad on forest/mine tiles without roads;
 	related patch to auto_settler_findwork. -- Syela
	
Tue Jul  7 21:16:22 1998  John Stonebraker <ppaqebb@surfshop.net>

	* client/packhand.c: Committing fix to possible client crash
 	related to aifill. -- Syela
	
Tue Jul  7 21:15:00 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c: Adding quick-n-dirty immigration routine to
 	city_desirability. -- Syela
	
Tue Jul  7 21:13:45 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advmilitary.c: Adding danger5 to deal with SDI; not adding to
 	danger for nuclears; Not wanting attackers with 0 attack (stops
 	SIGFPE's). -- Syela
	
Tue Jul  7 21:12:16 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advdomestic.c: Adding tech_want for Electricity if we have
 	colosseums and for Theology if we have Cathedrals -- Syela
	
Tue Jul  7 14:35:38 1998  Mitch Davis <mjd@alphalink.com.au>

	* common/shared.c: A small change which allows for the compilation
 	of Freeciv under GNU-Win32.  We really should put something in the
 	autoconfigure stuff...  Patch supplied by Sam Holden
 	<sholden@pgrad.cs.usyd.edu.au>.
	
Tue Jul  7 06:53:12 1998  Trent Piepho <xyzzy@u.washington.edu>

	* common/shared.h: fixed typo in previous patch that kept it from
 	compiling.
	
Mon Jul  6 18:10:33 1998  Mitch Davis <mjd@alphalink.com.au>

	* common/city.c: Added some more names for American cities.  Patch
 	submitted by Jake Kesinger <kesinger@math.ttu.edu>.
	
Mon Jul  6 17:35:12 1998  Mitch Davis <mjd@alphalink.com.au>

	* client/menu.c: This patch fixes a problem where the Auto Settler
 	and Build Road options on the Options Menu were permanently greyed
 	out.  Problem found and patch submitted by Cedric Tefft
 	<cedric@earthling.net>.
	
Mon Jul  6 17:32:27 1998  Mitch Davis <mjd@alphalink.com.au>

	* server/civserver.c: Patch to prevent two people connecting to
 	the server and using the same name.  Patch submitted by Cedric
 	Tefft <cedric@earthling.net>.
	
Mon Jul  6 17:24:20 1998  Mitch Davis <mjd@alphalink.com.au>

	* Makefile.in, ai/Makefile.in, client/Makefile.in,
 	common/Makefile.in, data/Makefile.in, server/Makefile.in:
 	Makefile.in files are normally generated from Makefile.am, but we
 	provide them for people who don't have automake.  In this case,
 	the Makefile.in files we were shipping did not support the
 	generation and checking of dependency information.  Reran automake
 	to regenerate them.  Done on the good advice of Falk Hueffner
 	<falk.hueffner@student.uni-tuebingen.de>.
	
Mon Jul  6 17:18:11 1998  Mitch Davis <mjd@alphalink.com.au>

	* common/events.h, server/cityturn.c: Changed the spelling of
 	"aquaduct" to "aqueduct", as it should be.  Patch submitted by
 	Greg Wooledge <gawooledge@sherwin.com>.
	
Mon Jul  6 17:16:14 1998  Mitch Davis <mjd@alphalink.com.au>

	* client/finddlg.c, client/gotodlg.c, client/repodlgs.c,
 	common/game.c, common/game.h, common/shared.c, common/shared.h:
 	This enhancement ensures that the city names in pick-a-city
 	dialogs are sorted.  Patch submitted by Cedric Tefft
 	<cedric@earthling.net>.
	
Mon Jul  6 17:10:38 1998  Mitch Davis <mjd@alphalink.com.au>

	* common/game.c, common/unit.c, server/civserver.c,
 	server/gamehand.c: Did a #include <string.h> to prevent a warning
 	about implicit declaration of strlen and strcpy on the DEC Alpha.
  	Bug report submitted by ct <turnbull@xserver.sjc.ox.ac.uk>.
	
Mon Jul  6 17:07:00 1998  Mitch Davis <mjd@alphalink.com.au>

	* README, server/stdinhand.c: - Updated the Freeciv server
 	options.  Put in a key for the single-letter placeholders after
 	server commands which take arguments.  - Made mention of
 	"localhost" for a computer name when playing locally.  - Described
 	how to start an ai player (updated for 1.6.3).  Based on a patch
 	submitted by Carl Bartels <cb@bravo436.chem.mcgill.ca>.
	
Mon Jul  6 17:01:51 1998  Mitch Davis <mjd@alphalink.com.au>

	* data/helpdata.txt: Changed the order of some help items, moving
 	the general ones to the top.  Also, changed the "Freeciv" tag to
 	"About Freeciv".  Patch submitted by Sverker Wiberg
 	<sverkerw@Update.UU.SE>.
	
Mon Jul  6 06:42:31 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/game.c, common/game.h, common/map.h, server/civserver.c,
 	server/civserver.h, server/stdinhand.c: Cedric Tefft's patch to
 	create 'aifill' variable.  It originally sometimes crashed my
 	client when I was connected as an AI before game-start, but he
 	sent me a fix that seems to have worked. -- Syela
	
Sun Jul  5 23:57:25 1998  Mitch Davis <mjd@alphalink.com.au>

	* data/helpdata.txt: There are two lines which exceed the
 	68-character limit, and at least one grammatical mistake.  This
 	patch fixes all three problems.  Patch provided by Greg Wooledge
 	<gawooledge@sherwin.com>
	
Sun Jul  5 23:50:24 1998  Mitch Davis <mjd@alphalink.com.au>

	* client/citydlg.c, client/dialogs.c, client/repodlgs.c,
 	server/unithand.c: - Replace the phrase "revenues account to" with
 	"revenues amount to".  - Replace "Treasure" with "Treasury".
  	Patch provided by Greg Wooledge <gawooledge@sherwin.com>.
	
Sun Jul  5 23:46:29 1998  Mitch Davis <mjd@alphalink.com.au>

	* client/mapview.c, common/shared.c, server/civserver.c,
 	server/sernet.c: Patch for OS/2, supplied by Alexander Mai
 	<st002279@HRZPUB.tu-darmstadt.de>.
	
Sun Jul  5 07:36:57 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unittools.h: Removed proto's of removed functs, added
 	proto's of added functs. -- Syela

Sun Jul  5 07:36:22 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unittools.c: Temporarily disabling
 	new_is_already_assigned and reverting to old.  The RIDICULOUS bug
 	regarding a unit on goto entering a tile where another settler
 	works was easily fixed in the old funct, and not easily fixed in
 	the new one.  This wasn't a problem until I made settlers on goto
 	stop and think every turn.
	
	Obliterated old random-looking ai_calc_* routines and wrote new
 	ones that follow the pattern set out in ai_eval_bu.  These
 	currently call city_tile_value which gives the right answers but
 	wastes a lot of CPU time.  I wanted to make sure it was right;
 	later I'll get around to making it efficient as well.
	
	Wrote road_bonus so that the AI blazes trails and doesn't just build
	randomly.  Rewrote in_city_radius to save CPU time.  -- Syela
	
Sun Jul  5 07:31:11 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unithand.c: Changing in_city_radius call since it's been
 	rewritten. -- Syela
	
Sun Jul  5 07:30:02 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unitfunc.h: Changing auto_settler_findwork proto since it
 	now returns an int. -- Syela
	
Sun Jul  5 07:29:37 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unitfunc.c: Fixed the bug where settlers aboard
 	disappearing triremes crash the game.  Annihilated old autosettler
 	code.  Rewrote auto_settler_findwork and spent many hours testing
 	it, taking notes, and making changes.  It seems to be OK, so I'm
 	uploading it, but I wouldn't call it stable.  Weightings may need
 	to be changed.  The CPU usage is definitely unacceptable and I
 	will optimize this further but I need to upload it now.  Forcing
 	gotoing settlers to idle so they can re-evaluate their plans. -- Syela
	
Sun Jul  5 07:24:59 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/mapgen.c: Removed island_info from yet another module.
  	-- Syela
	
Sun Jul  5 07:24:23 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/cityturn.c: Wrote global_city_refresh, but didn't add any
 	calls to it yet. -- Syela
	
Sun Jul  5 07:23:32 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/citytools.h: Proto'd worst_worker_tile_value. -- Syela
	
Sun Jul  5 07:23:16 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/citytools.c: Made city_tile_value a little smarter about
 	foodneed and prodneed.  Added worst_worker_tile_value for
 	autosettler code. -- Syela
	
Sun Jul  5 07:21:47 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/cityhand.h: Defined FOOD_, SHIELD_, and
 	TRADE_WEIGHTING. -- Syela
	
Sun Jul  5 07:21:06 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/cityhand.c: Deleted ai_calculate_city_value comment, and
 	added a fnord in case I decide to use this model to save time.  I
 	really hate it and it cripples the AI badly but the CPU savings
 	may require it. -- Syela
	
Sun Jul  5 07:19:45 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/player.h: Removed ai_player_island.  Made comments about
 	removing race structs. -- Syela
	
Sun Jul  5 07:18:41 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/map.c: Map_adjusted x and y in map_set and
 	map_clear_special. -- Syela
	
Sun Jul  5 07:18:03 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.h: Defined MORT, and then kluged (in aiunit.c) so that
 	MORT is sort-of hardcoded.  This may be fixed once I figure out
 	how to get city_des exactly right with the least CPU effort.
  	Proto'd new functs. -- Syela
	
Sun Jul  5 07:15:38 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c: Removed lots of obsolete functions.  Wrote new
 	functions to replace them (relating to settlers).  Tidied up
 	findjob a little.  Forced caravans to idle every turn instead of
 	blindly gotoing cities that are no longer producing wonders.
  	Wrote amortize, which is very necessary for city_des, and is still
 	too slow but not as horrible as it was yesterday.  Generated
 	minimaps to include virtual city locations.  This is a
 	quick-n-dirty and may not last the week.  Spent days and days
 	working on city_des, which seems to be right with the current
 	value for the WAG at the bottom.  Forced settlers who are building
 	cities to remain in BUILD_CITY and others to be in AUTO_SETTLER
 	because the minimap checks it. -- Syela
	
Sun Jul  5 07:10:06 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aitools.h: Removed references to obliterated old, obsolete
 	AI. -- Syela
	
Sun Jul  5 07:09:22 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aitools.c: Removed all references to island_info!  Removed
 	ai_military_findtarget.  Fixed a typo in
 	ai_advisor_choose_building re: wonder placement. -- Syela
	
Sun Jul  5 07:07:37 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aihand.c: Removed elements of obsolete AI.  Removed
 	*_weighting arrays and used *_WEIGHTING defines. -- Syela
	
Sun Jul  5 07:06:42 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aicity.c: Removed remnants of obsolete AI. -- Syela
	
Sun Jul  5 07:06:06 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advmilitary.c: Changed maxcost to THRESHOLD * 6 + 2 to
 	facilitate new settler AI code.  Fixed a bug with illegal moves in
 	warmap when (punit). -- Syela
	
Sun Jul  5 07:03:45 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advdomestic.c: Adding more .h includes.  Fixing the quirk
 	where lux rate reduced building_wants.  Included taxmen in food
 	surplus estimates.  Removed *_weighting arrays to use *_WEIGHTING
 	defines.  Added quick-n-dirty fix to moderate lust for
 	marketplaces when tax rate jumps.  New, smarter want equations for
 	aqueducts and sewer system.  Corrected want for MFG.
	
	Obliterated old settler code, including expand_*.  Finding work
 	for a virtualunit to establish want for settlers.  This went
 	through a lot of trial and error and it seems to be working
 	acceptably now.
	
	Added SPY as yet another fallback until real diplomacy code is in.
 	-- Syela
	
Tue Jun 30 21:22:44 1998  Mitch Davis <mjd@alphalink.com.au>

	* ai/Makefile.am, ai/Makefile.in, client/Makefile.am,
 	client/Makefile.in, common/Makefile.am, common/Makefile.in,
 	server/Makefile.am, server/Makefile.in: This patch allows you to
 	build freeciv outside the source directory.  Submitted by Jason
 	Merrill <jason@yorick.cygnus.com>.
	
Sun Jun 28 08:32:40 1998  Trent Piepho <xyzzy@u.washington.edu>

	* data/helpdata.txt, server/citytools.c, common/city.c: Some
 	gameplay changes to be more like civ2.  Made some corrections in
 	the help file.
	
Thu Jun 25 09:37:47 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/plrhand.c: Removing a removed player's workers from
 	->worked. -- Syela
	
Thu Jun 25 07:56:04 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/unitfunc.c: Patch from Falk Hueffner, bribed units light
 	up the terrain surrounding them.
	
Thu Jun 25 07:51:22 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/cityturn.c: Patch from Falk Hueffner, remove strange test
 	that kept settler production from being upgraded to engineers.
	
Thu Jun 25 07:42:47 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/climisc.c, client/helpdlg.c, client/menu.c,
 	client/repodlgs.c: Fixed warnings: missing #include's, unused
 	variable, bad printf.
	
Thu Jun 25 07:33:10 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/cityturn.c, server/unitfunc.c: Added the map_adjust_x/y
 	functions to the pollution code, to make sure it doesn't use bad
 	x/y coordinates.
	
Wed Jun 24 10:26:32 1998  Trent Piepho <xyzzy@u.washington.edu>

	* ai/aitech.c: Fixed crash related to deleted techs.
	
Wed Jun 24 08:15:47 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/cityhand.c, server/cityturn.c, server/civserver.c,
 	server/civserver.h, server/unittools.c, ai/aihand.h: More
 	header/prototypes fixing.
	
Wed Jun 24 08:01:38 1998  Trent Piepho <xyzzy@u.washington.edu>

	* ai/advdomestic.c, ai/advdomestic.h, ai/advmilitary.c,
 	ai/advmilitary.h, ai/aicity.c, ai/aicity.h, ai/aihand.c,
 	ai/aitech.c, ai/aitech.h, ai/aitools.h, ai/aiunit.c, ai/aiunit.h,
 	server/unitfunc.c, server/unitfunc.h: Added function prototypes to
 	lots of header files, and included header files where needed.
	
Tue Jun 23 13:19:39 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unithand.c: Fixing typo that makes kill_unit kill the
 	server.  Oops. -- Syela
	
Tue Jun 23 13:18:17 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advmilitary.c: Fixing act of complete idiocy on my part re:
 	defense techs -- Syela
	
Tue Jun 23 13:16:48 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c: Fixing bugs relating to huts in findvictim. -- Syela
	
Tue Jun 23 11:38:10 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unithand.c: Adding more geographic information to combat
 	messages in unit_versus_unit. -- Syela
	
Tue Jun 23 11:35:59 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unitfunc.c: Adding more geographic info to combat
 	messages in kill_unit. -- Syela
	
Tue Jun 23 11:32:32 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/plrhand.c: Moving calculate_tech_turns from here into
 	aihand.c where it belongs. -- Syela
	
Tue Jun 23 11:31:19 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/gotohand.c: Adding complexity to could_unit_move_to_tile
 	to handle ZOC issues midway through a goto.  Discouraging paths
 	that require attacks.  Warning when we do not find the shortest
 	path thanks to the above.  This module needs a total overhaul,
 	which I'll be performing this week. -- Syela
	
Tue Jun 23 11:25:57 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/cityturn.c: Discounting the city_tile_value of tiles
 	other cities can use in worker_loop.  Faking prodneed and foodneed
 	to better optimize worker placement until a time-consuming
 	dramatic rewrite is performed.  -- Syela
	
Tue Jun 23 11:21:37 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/citytools.c: A city that has bought a sewer or aqueduct
 	now wants_to_be_bigger. -- Syela
	
Tue Jun 23 11:19:10 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/cityhand.h: Prototyping really_handle_city_sell. -- Syela
	
Tue Jun 23 11:18:01 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/cityhand.c: Making handle_city_sell a frontend to new
 	really_handle_city_sell. -- Syela
	
Tue Jun 23 11:16:19 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/map.h: Changing move_cost from unsigned to signed
 	character. -- Syela
	
Tue Jun 23 11:14:37 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/map.c: Defining move_cost for ocean moves as -3 for the
 	new seamaps. -- Syela
	
Tue Jun 23 11:11:36 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/city.h: Adding wallvalue, downtown,
 	distance_to_wonder_city, and choice to ai_city struct, and
 	prototyping ai_choice because of it.  Also changing grave_danger
 	from a flag to a unit * -- Syela
	
Tue Jun 23 11:08:02 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c: Minor change to avoid redundant warmap generation.
  	Aborting ai_manage_explorer for non-ground units.  Treating cities
 	as impassable in exploration.  Aborting ai_manage_unit for units
 	with no moves_left.  More sophisticated formula for preference to
 	bash cities in unit_vul.  Better formulas for when units can
 	safely leave their home cities.  Adding ifs to handle sailing
 	units in find_something_to_kill. -- Syela
	
Tue Jun 23 10:11:14 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aitools.h: Adding ifndef around ai_choice proto because it's
 	now also in city.h -- Syela
	
Tue Jun 23 10:09:07 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aitools.c: Locating wonders much more intelligently with
 	downtown. -- Syela
	
Tue Jun 23 10:07:24 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aitech.c: Making nonreachable techs count as prerequisites.
  	Handling goals in ai_select_tech and adding a cache of prereqs to
 	facilitate it.  Deleting horrible old broken ai_select_tech_goal
 	and its subroutines now that working tech_goal code has been
 	established.  Obliterating failed attempt to over-optimize
 	tech_turns calculations and just calling tech_goal_turns once per
 	turn and in ai_next_tech_goal.  Handling goal in manage_tech.  -- Syela
	
Tue Jun 23 10:01:48 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aihand.c: Managing units twice, including at end of turn.
  	Calculating tech turns to save oodles of CPU time.  Changing
 	weightings for shields and food.  Fixing bugs that led to
 	excessive luxury for celebrations.  Fixing a goofup that led to
 	insufficient tax rate.  -- Syela
	
Tue Jun 23 09:57:21 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aicity.h: Prototyping ai_choose_defender_* functions. -- Syela
	
Tue Jun 23 09:56:24 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aicity.c: Pulling some stuff out of
 	domestic_advisor_choose_build and moving it elsewhere.  Using
 	pcity->ai.choice to handle spend_gold in a separate routine.
  	Creating caravan map only as necessary to facilitate re-ordering
 	of events.  Adding utilities ai_city_defender_value and
 	try_to_sell_stuff.  Collecting spend_gold stuff in
 	ai_new_spend_gold with a lot of new intelligence added, including
 	disband and upgrade handling and willingness to buy attackers.
  	Restructuring ai_manage_cities and increasing desire for
 	government techs.  Dealing with boats in ai_choose_attacker.
  	Adding utility ai_choose_defender_versus.  Rewriting
 	ai_choose_defender_limited to handle boats for defense.  Not
 	selling citywalls anymore!  Allowing elvisization that creates
 	food deficit as long as there won't be famine. -- Syela
	
Tue Jun 23 09:42:29 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advmilitary.h: Adding seacost to move_cost_map struct. -- Syela
	
Tue Jun 23 09:41:22 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advmilitary.c: Moving init_warmap into a separate routine.
  	Moving warmap generation into really_generate_warmap, with an
 	option to create maps for land or sea.  Shifting generate_warmap
 	into a higher-level function.  Changing assess_defense to a
 	higher-level routine with a new backend that can either
 	acknowledge or ignore walls.  Adding danger3 for coastal and
 	danger4 for sam in assess_danger.  Not being afraid of submarines,
 	and not being afraid of other ships if we are on land.  Being more
 	afraid of ships in walled coastal cities.  Including danger
 	adjustments if city has SAM or COASTAL.  Changing grave_danger to
 	a unit *.  Correcting firepower of defending ships to 1 in
 	unit_desirability.  Eliminating pathetic old military_advise_tech.
  	Adding process_defender_want and process_attacker_want to do this
 	job more intelligently.  Moving other attacker calculations into
 	kill_something_with.  Removing the danger -= def in
 	military_advisor_choose_build and therefore allowing defender
 	wants over 100.  Building COASTAL and SAM rather than piles of
 	useless defenders.  Minimizing desire for warriors as defenders.
  	Cleverly creating virtualunit for use in kill_something_with.
  	establish_city_distances for caravans. -- Syela
	
Tue Jun 23 09:23:52 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advdomestic.c: Removing warmap.  Using
 	distance_to_wonder_city instead.  Changing weightings of food and
 	shields.  Correcting wants for plants.  Moderating want for
 	granaries.  Making extreme desire for aqueduct/sewer during
 	celebrations require positive food_surplus.  Wanting barracks for
 	ground units only.  Adding wild guesses for COASTAL and SAM want.
  	Correcting typo regarding want for supermarkets.  Checking for
 	.researched in want for DARWIN.  Making caravan the default if we
 	can't think of anything useful to build. -- Syela
	
Sun Jun 21 07:47:19 1998  not sure

	* ChangeLog: *** empty log message ***
	
Sun Jun 21 07:45:42 1998  James Blackwell <innocent@merconline.com>

	* README: Modified the readme to update instrutions on AI play
	
Sat Jun 20 23:51:58 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/citytools.c: Fixing bugs in get_cathedral_power and
 	get_colosseum power.  Changing food_weighting and shield_weighting
 	in city_tile_value. -- Syela
	
Sat Jun 20 18:26:55 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/mapctrl.c: The orders menu wasn't getting updated when
 	the focus unit moved, so some choice would be inproperly
 	deactivated.
	
Fri Jun 19 23:46:26 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unithand.c, server/unitfunc.c: Fixing disappearing wonder
 	bug.  Adding get_virtual_defense_power. -- Syela
	
Fri Jun 19 22:31:33 1998  John Stonebraker <ppaqebb@surfshop.net>

	* client/clinet.c, client/clinet.h, client/menu.c: Adding
 	disconnect option to Game menu. -- Syela
	
Fri Jun 19 22:25:47 1998  John Stonebraker <ppaqebb@surfshop.net>

	* client/messagewin.c, client/packhand.c, common/shared.h,
 	server/plrhand.c, server/plrhand.h: Committing Cedric's patch to
 	allow explicitly requested dialogs to popup even in AI mode with
 	popup_windows disabled. -- Syela
	
Fri Jun 19 09:56:12 1998  Trent Piepho <xyzzy@u.washington.edu>

	* data/Freeciv, client/Freeciv.h, client/civclient.c,
 	client/mapctrl.c, client/optiondlg.c: Added new option to client,
 	default ON, to auto center on the active unit, either when the
 	unit gets focus or when it moves.  This is the same as the
 	previous behavior, so really the new feature is the ability to
 	turn this off.
	
Fri Jun 19 02:24:58 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/civclient.c: The manual turn done stuff is now done in
 	the client.  The client will send a "turn done" packet at the
 	start of the turn if it is AI controlled and the AI_MTD option
 	isn't on.
	
Fri Jun 19 02:21:09 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/stdinhand.c, client/plrdlg.c: AI controlled players get a
 	"*" in front of their names in the player dialog.
	
Fri Jun 19 01:59:34 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/mapview.c, client/optiondlg.c, client/packhand.c,
 	client/xmain.c: The manual turn done stuff is now done in the
 	client.  The client will send a "turn done" packet at the start of
 	the turn if it is AI controlled and the AI_MTD option isn't on.
	
Fri Jun 19 01:57:14 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/stdinhand.c: AI players create with the "create" command
 	showed up as connected when they weren't.  Set
 	pplayer->is_connected to 0
	
Fri Jun 19 00:40:41 1998  Trent Piepho <xyzzy@u.washington.edu>

	* common/packets.c: Removed the manual turn done stuff from the
 	protocol.  Made the client/server backward compatible.
	
Fri Jun 19 00:35:07 1998  Trent Piepho <xyzzy@u.washington.edu>

	* common/packets.h: Adding in ai control to player info packet,
 	but NOT manual turn done stuff.
	
Fri Jun 19 00:22:59 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/plrhand.c: Undid previous manual turn done stuff, but
 	added in ai control information to player info packet.
	
Thu Jun 18 18:32:06 1998  Trent Piepho <xyzzy@u.washington.edu>

	* common/packets.c: Server will no longer get wedged when it
 	receives an unknown packet type.  It will remove the packet from
 	the queue and ignore it.
	
Wed Jun 17 20:20:34 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/Freeciv.h, client/civclient.c, client/mapview.c,
 	client/messagewin.c, client/optiondlg.c, client/packhand.c,
 	common/packets.c, data/Freeciv, server/plrhand.h,
 	server/stdinhand.c: Patches from Cedric Tefft
 	<cedric@earthling.net>, with some of my own changes.  New options
 	in the client, one to turn off popup dialogs when AI controlled.
  	Another to have AI controled players not need to manually activate
 	turn done.
	
Wed Jun 17 19:17:30 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/stdinhand.c: Fixed spelling error, Affect -> Effect
	
Tue Jun 16 18:10:18 1998  Trent Piepho <xyzzy@u.washington.edu>

	* common/unit.c: Added locations for pictures of missing units.
	
Mon Jun 15 23:45:48 1998  Mitch Davis <mjd@alphalink.com.au>

	* Imakefile: Removed extraneous trailing \.  Bug reported by Dylan
 	Thurston <dpt@math.berkeley.edu>
	
Mon Jun 15 21:58:54 1998  Trent Piepho <xyzzy@u.washington.edu>

	* data/helpdata.txt: Changed to reflect Artillery now longer
 	ignoring city walls.
	
Mon Jun 15 20:58:43 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/helpdlg.c: The help system should no longer segfault when
 	trying to display the tech tree for a tech that has been removed.
	
Mon Jun 15 20:41:07 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/plrhand.c: Spelling error, report -> Report
	
Mon Jun 15 20:38:06 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/dialogs.c: Patch from Cedric Tefft <cedric@earthling.net>
 	The bribe and revolt diplomat options will have the correct title
 	on their respective dialogs.
	
Mon Jun 15 20:35:07 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/Freeciv.h, data/Freeciv: Applied Cedric Tefft's
 	<cedric@earthling.net> patch to add titles to most of the
 	transient windows.
	
Mon Jun 15 20:03:28 1998  Trent Piepho <xyzzy@u.washington.edu>

	* data/helpdata.txt: Added help text for Barracks II and Barracks
 	III.
	
Mon Jun 15 19:52:18 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/xmain.c: Client will no longer crash when the resources
 	don't define the version.  There seemed to be lots of people with
 	version 1.0 resources that had trouble with seg faults because of
 	this.
	
Mon Jun 15 19:44:13 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/repodlgs.c: Added Seth Golub's <seth@thehouse.org> patch
 	to show celebrating cities in the City Report.
	
Mon Jun 15 19:32:51 1998  Trent Piepho <xyzzy@u.washington.edu>

	* server/unittools.c: Submarines can't attack land at all anymore.
  	Before they could if they were in a city.
	
Sat Jun 13 21:12:49 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unithand.c: Making sure pdiplomat is non-NULL in
 	handle_diplomat_action. -- Syela
	
Tue Jun  9 16:15:41 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/mapctrl.c: When a unit gets focus, the crosshair tile
 	will flash on it to let you know.
	
Tue Jun  9 16:10:09 1998  Trent Piepho <xyzzy@u.washington.edu>

	* client/mapctrl.c: The client will find the next unit to focus on
 	better.  Before it would pick the lowest numbered unit if the one
 	that had focus no longer exists.  Now it will pick the one closest
 	to the center of the map.
	
Mon Jun  8 21:19:47 GMT 1998  Mitch Davis <mjd@alphalink.com.au>

	* Released 1.6.3.

Mon Jun  8 21:15:47 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c: Preventing a division by zero for AI military units
 	with attack=0. -- Syela
	
Mon Jun  8 18:49:46 GMT 1998  Mitch Davis <mjd@alphalink.com.au>

	* server/unithand.c: Removed a pernicious line added by Olav
 	Andree Brevik <olavb@ifi.uio.no>.  A city should act as if it's
 	square is irrigated, but the square should not actually _be_
 	irrigated, otherwise Bad Things Happen, like then the city can be
 	used as a source for more irrigation.  He'll provide a more
 	complete patch in the fulness of time.

Mon Jun  8 18:19:47 GMT 1998  Mitch Davis <mjd@alphalink.com.au>

	* common/unit.c, server/unitfunc.c: A fix so pillage also un-mines
 	mines.  Bug reported and patch supplied by Olav Andree Brevik
 	<olavb@ifi.uio.no>

Mon Jun  8 15:41:00 GMT 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c: Making explorers smarter again.

Mon Jun  8 14:51:59 GMT 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unittools.c: Making rate_unit a little less crude.

Mon Jun  8 12:28:57 GMT 1998  John Stonebraker <ppaqebb@surfshop.net>

	* server/unithand.c: Calling pnewcity instead of pcity after pcity
 	has been freed in handle_unit_enter_city; very important, should
 	have been found earlier.

Mon Jun  8 12:01:54 GMT 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c: Real fix to explorer problem; had carelessly pasted
 	in bad code block.

Mon Jun  8 11:21:39 GMT 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aitech.c: Kluging so AI won't switch away from a tech it's
 	about to get.
	
Mon Jun  8 11:20:32 GMT 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c: Fixing brain-damage in ai_manage_explorer +
 	important rescale of danger.

Mon Jun  8 11:19:04 GMT 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advmilitary.c: Not increasing want for B_CITY because of
 	IGWALL/flying units.

Mon Jun  8 11:18:09 GMT 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/advdomestic.c: Tempering AI's desire for Hoover Dam.

Mon Jun  8 07:13:19 GMT 1998  Trent Piepho <xyzzy@u.washington.edu>

	* configure, configure.in: Changed configure.in so it checked for
 	X11/xpm.h instead of xpm.h, since that's how the file is included.
  	Also removed cruft that was from when xpm.h was included wrong.

Mon Jun  8 07:09:36 GMT 1998  Trent Piepho <xyzzy@u.washington.edu>

	* common/unit.c, common/unit.h: Changed unit stats to match civ2.
  	Biggest change was knight's HP reduce to 10 from 20.

Mon Jun  8 00:07:53 PDT 1998  Trent Piepho <xyzzy@u.washington.edu>
        
        Changed unit stats to match civ2.  Biggest change was knights HP
 	reduce to 10 from 20.

Sun Jun  7 16:32:33 GMT 1998  Mitch Davis <mjd@alphalink.com.au>

	* common/shared.h: Oops, forgot to increment the version number
 	for 1.6.2.  Reported by Nuno <slug@student.dee.uc.pt>.

Sun Jun  7 15:45:58 GMT 1998  Mitch Davis <mjd@alphalink.com.au>

	* common/Makefile.am, common/Makefile.in, common/mapgen.c,
 	server/mapgen.c: Oops, we had two copies of mapgen.c, one in
 	common/ and one in server/.  Since it's only used by the server, I
 	deleted the one in common/.  This bug reported by
 	schaefer@malaga.math.uni-augsburg.de (Peter Schaefer)

Sat Jun  6 19:19:53 GMT 1998  John Stonebraker <ppaqebb@surfshop.net>

	* common/map.h: On some machines, "char" is unsigned, whereas we
 	were expecting it to be signed.  Explicitly defined "worked" as
 	signed to avoid this happening again.

Sat Jun  6 17:52:05 GMT 1998  John Stonebraker <ppaqebb@surfshop.net>

	* ai/aiunit.c, ai/advmilitary.c: Rescaling danger by a factor of
 	900:1 to stop overflows in assess_danger.

Sat Jun  6 13:52:34 EST 1998  Mitch Davis  <mjd@alphalink.com.au>

	Released 1.6.2.

Sat Jun  6 13:50:43 EST 1998  Mitch Davis  <mjd@alphalink.com.au>

	* ai/aihand.c: Removed a comment left over from 1.5.1.

Sat Jun  6 13:44:59 EST 1998  Mitch Davis  <mjd@alphalink.com.au>

	* NEWS, ChangeLog, configure, configure.in, client/Freeciv.h,
	common/shared.h, data/Freeciv: Updated version numbers to 1.6.2.

Fri Jun  5 21:36:21 ??? 1998  Trent Piepho  <xyzzy@u.washington.edu>
	
	* client/mapview.c: Added Markus L. Noga's
 	<ut6e@rz.uni-karlsruhe.de> patch so cities are drawn correctly
 	with transparent flags.

Fri Jun  5 21:33:55 ??? 1998  Trent Piepho  <xyzzy@u.washington.edu>
	
	* client/mapctrl.c: Fix for minor bug in crosshairs display.

Sat Jun  6 03:23:07 EST 1998  Mitch Davis  <mjd@alphalink.com.au>

	* Makefile.in, aclocal.m4: Updated generated autoconf files to the
 	ones generated by autoconf 1.3.

	* configure, configure.in: Rearranged order to check X libs; the
 	incorrect link order was causing the client to not be able to gain
 	focus or read the keyboard.
	
1.6.1 (mjd)
- Moved the CHANGES file to ChangeLog, to comply with the GNU standard.
- Updated many version numbers to 1.6.
- Added the CREDITS file to the list of files to go into the .tar.gz.
- Updated the web page to http://freeciv.ultraviolet.org
- Made the civ and ser scripts smarter: They now look in two dirs for
  the exes to run.
- Removed a whole lot of autogenerated files which should not have been
  checked into 1.6.0.  This is what caused compilation and library
  problems for MANY people who tried 1.6.0.

1.6.0 
- *A LOT* of changes from Olav Andree Brevik. Thank you VERY much!
- Helicoptors loose 10% of hp per turn when outside city (Olav)
- 8 bit chatline support for Europeans (Olav)
- Non-ground units in cities regain hp too. (Olav)
- Flying units report moves left (Olav)
- Total moves in change production menu (Olav)
- Railroads now built into city tiles, even when taking a city from an
  inferior race. (Olav)
- Future Technologies added. Add 5 points to score (Olav) 
- Autoconf added thanks to Falk Hueffner. Now we can configure just like
  the big boys!
- Tax/Luxury/Science rates are now visually displayed. needs work still.
  thanks to Peter Schaefer
- Instead of picking individual techs, players can now set a tech goal, and
  let the actual patch to discovery be automated.
- Fix to Makefile.noimake
- Client option to display tiles sets with transparent flags better
- Granary counter in the city dialog wasn't the right size when foodbox!=10
- Fixes to city dialog so different sized tiles will work
- The connect dialog will pop-up when the connection is lost before the
  game starts
- Pop-up windows weren't getting freed in the client, resulting is large
  resource leak
- Memory leak fixed in select units pop-up, pixmaps weren't getting freed
- Fixed hardcoded tile size in select units pop-up
- Reorganized tile layout in the XPM files.  Client can handle different sized
  tile sets.
- A "+" is drawn in the corner of enemy unit stacks
- Crosshair placed on goto destination when unit is inspected with the
  middle mouse button.  Change to protocol to send goto destination.
- Fixed bug in the selection of the hitpoint bar
- Map canvas had hard coded size, fixed to be correct for different sized tiles
- Fixed bug that messed up game.global_advances when a saved game was loaded
- Fix to make goto code use the same movement cost as the rest of the server
- Invisible AI city bug fixed.  Cities created or captured by an AI player
  would disappear from other people's maps.
- Added -s option to server, lets you explicity set hostname metaserver reports
- Fix typo in metaserver code, PRE_GAME_STATE instead of CLIENT_PRE_GAME_STATE
- Fixed bugs with partisan creation, make it faster too
- Submarines can no longer attack land based tiles. Thanks Peter Schaeffer!
- Improved AI, reduced CPU usage, and more (Syela) :

-- Changes that matter to regular players:
  
  Allowed non-AI players to set tech goals (goal label, goal widget,
   PACKET_PLAYER_TECH_GOAL, pinfo->tech_goal)
  Added food supply to city dialog and recentered dialog header
  Added 'Export log' option to the Game menu (log_output_window)
  Included Darren Smith's patch ('create' command) and changed ai_select_race to
   be random unless names matched (Napoleon chooses French, Joe chooses randomly)
  Properly initialized the void_tile for map_get_tile with y out of bounds
  Changed some implementations of map_distance to real_map_distance
  Added more goals to the races[], then almost obsoleted them with tech AI
  Set did_buy to -1 in create_city to allow "Can't buy in new cities" message
  Displaced the worker already on a tile where a city was created
  Fixed a typo in happy_lux that devalued lux in cities with unhappy people
  Fixed some typoes involving race_name_plural
  Made sure goto started with a zoc-ok, non-attack move
  Fixed a typo so triremes have a 50% chance of disappearing (instead of 49%)
  Map_adjusted x in create_unit
  Made attack messages more detailed
  Made first tech a choose_goal_tech (big deal)
  Made ai_advisor_choose_building the default in advisor_choose_build
  Placed the displaced workers that used to become entertainers
  Changed the turn sequence from auto_settlers, sniff_packets, end_turn to
    shuffle_players, ai_start_turn, auto_settlers, sniff_packets, end_turn
  
  Wrote most of an AI ...
  
-- Changes related to reducing CPU usage by slightly increasing memory usage:
  
  Wrote init_move_costs, reset_move_costs, city_shield_bonus, city_tax_bonus,
   city_science_bonus, set_city_shield_bonus, set_city_tax_bonus,
   set_city_science_bonus, assign_settlers_player, assign_settlers
  Added shield_bonus, tax_bonus, science_bonus to city struct
  Added worked, assigned, move_cost to tile and implemented them
  Obsoleted old is_already_assigned, is_worked_here
  
-- Changes that matter to code-hackers
  
  Moved ai_do_last_activities to the TOP of update_player_activities
  Moved update_city_activities above update_tech so got_tech works now
  Used set_worker_city instead of workarounds so ->worked worked
  Used set_unit_activity instead of workarounds so ->assigned worked
  Commented out some redundant checks in old auto_settler functs
  Returned something useful in building_other_wonder
  Made snide comments all over the code
  Split up ai_manage_city, ai_do_activities, can_build_improvement,
   handle_city_buy, set_trade_prod, add_buildings_effect
  Wrote real_map_distance, sq_map_distance, could_build_improvement,
   shuffle_players, could_unit_move_to_tile, really_handle_city_buy
  
-- Some behind the scenes elements of the AI
  
  Wrote advdomestic.c, advmilitary.c, ai_manage_buildings,
   ai_city_choose_build, ai_choose_attacker,  unit_attack_desirability,
   ai_choose_defender_limited, many utilities in aitech.c, ai_select_tech,
   ai_manage_tech, ai_advisor_choose_building, ai_manage_explorer,
   should_unit_change_homecity, unit_belligerence, unit_vulnerability,
   reinforcements_value, ai_military_findvictim, ai_military_gothere,
   unit_defensiveness, find_something_to_kill, probably more in ai/*.c,
   city_tile_value, better_tile, wants_to_be_bigger, probably more.
  Obsoleted old ai_city_choose_build, ai_spend_gold, best_tile, best_food_tile
  Rewrote worst_elvis_tile, ai_find_elvis_pos, ai_make_elvis,
    make_scientists_taxmen, ai_manage_taxes, ai_manage_government,
    auto_settler_findwork
  
  Updated somewhat the comments in aihand.c to show what I'd done
  Started ai_manage_city with a city_check_workers
  Hacked ai_next_tech_goal to use my (not-yet-ready) ai_select_tech_goal
  Correctly calculated agression in findtarget so pikemen don't attack
   and legions on mountains do
  Returned maxbuycost in ai_gold_reserve if the AI really needs money
  Worked around savegame/cityspot bug but island_data will be obsolete soon
  Forced military units idle at top and bottom of ai_manage_military
  Forced military units to fortify if possible at bottom of ai_manage_military
  Reset the ai_roles for military units every turn to prevent tunnel-vision
  Added AIUNIT_EXPLORE for units to explore
  Added building_want, danger, trade_want, grave_danger to city AI
  Added maxbuycost, tech_want, tech_turns to player ai
  Fixed ai_military_findjob so that the right unit defends cities and others don't
   and to allow military units to explore (find huts, map-discover, etc.)
  Fixed ai_military_attack to use my AI
  Made the AI not place workers that would be unhappy
  Aborted goto for AI units instead of attacking without using AI attack functs
  Forced asess_danger for ai players and civ_score on game load
  Lit all squares in city radius when the AI conquers a city
  Hijacked content[0] for my AI (building_want needs it)
  Wrote the worker_loop and added prodneed to it
  Forced ai_next_tech_goal in update_tech for AI
  
1.5.4 
- Small, very basic ai has been included. It needs a lot of work. Any
volunteers? 

1.5.3
- Highlevel genlist iterators for unitlist and citylist iterating
  has been introduced. 
- The include/ directory has been removed. The include files has been
  put into the corresponding common/ server/ client/ dirs.
- Some server files has been split into smaller modules.
- Freeciv Hacker's Guide included.
- Last references to the old Militia unit removed from the help.

1.5.2
- Mitch did alot for this release:
-   Added support for none 30x30 sized tiles.
-   Removed a bunch of warnings
-   Went through the helpdata.tx file and corrected and added alot
-   Fixed a nasty spell-bug: goverment -> government
-   Much much more
- Jan Echternach fixed a bug in the worker placement code
- AI code has been better structured.  
- Some bugs related with the helpbrowser fixed
- Some visual improvements here and there

1.5.1
- The resource file is now version checked
- Fixed bug with long names
- There will be no netscape unit,and the explorer can't be uninstalled!(sue me)
- After loading a game, partisans would only be given to the player with the
  lowest index. Keep the fixes and bug reports coming
  Due to a missing entry in the save file as Rajala Ilkka reported
  and provided a patch for.
- Sorry but due to a missing entry in the save file as Rajala Ilkka reported
  and provided a patch for.
  After loading a game, partisans would only be given to the player with the
  lowest index.
- There was another wrap bug, which resulted in buggy worker assignment.
- Worked alot on the AI, still it plays like a child.
- The AI work has resulted in a better automatic build algorithm, there
  is alot of work to here still.
1.5.0
- removed some of the micromanagement, extra prod points are transfered
  to the next build.
- Fixed the help texts, now someone needs to fix my grammar..
- Added zoc message as people doesn't understand the rules.
- ai server command, to toggle AI on a player. Now we just need the AI code.
- AI value added to the saveformat, so new minor level is required
  Don't think it's doing anything yet...
- automatic worker allocation scheme has been modified further, cities less
  than size 4 will go for citygrowth, now prefer 210 tiles over 102. 
- new help dialog
- nuke tiles moved. auto tile added.

1.4.6

- Hohensee's pointed out that Beatles sings 'You say you wanna revolution'
- fixed bug with players joined a loaded game with the same name
- autostart when #players==maxplayers after loading
- New server connection dialog
- Now foodbox just have to be full, not overfull to increase city size
- Massimo Campostrini, sent a patch fixing bug with missing gameinfo
- Alpine troops, and explorers now benefits from railroads
- initial steps to AI has been made. 
- turns taken to perform irrigation and mining  has been altered.
- Airborne units can now goto from one continent to another
- Fixed 2 bugs in autosettlers, 1. they could crash the server, 2. they now 
  start immediately on their tasks.
- man pages included to please the Debian rules
- Michael Hohensee wrote a very nice HOWTOPLAY text
- Richard Braakman fixes bug related to detecting savefile error
- Removed all warnings reported by gcc -Wall
- Rewrote sniff_packets() main loop to periodically send reports
  to the meta-server.
- New 'meta' server command.

1.4.5
- the subject list box in the help-dialog is now properly updated
  when an item is selected
- renumber player updated
- subs updated - hate them forever

1.4.4
- Players nolonger starts on top of huts - Mitch
- Spy's now work, and a major bug in diplomacy has been fixed.
- modified settler assignment a bit, weights production a bit higher now.
- Yet more cosmetic changes by Mitch
- Nuke bug spotted by James Blackwell

1.4.3
- Mitch Davis send us 4 patches, which fixes quite a few spelling
  mistakes and alot of sourcecode improvements and some Makefile
  fixes.
  Fixed Submarines, can now carry 8 missiles
  Carriers and subs can't carry ground units anymore, still were a bug

1.4.2
- fixed bug with colliding global vars
- fixed bug with missing char, when server vars was set

1.4.1
- fixed bug in load code
- initial metaserver support added

1.4.0
- when players looses connection before the game is started,
  they're removed from the game.
- correct end of turn when the last player cuts link
- remove player command added to server
- goto algorithm has been improved thanks to Rene Schalburg
- new random generator, hope things now are more random.
- submarines now works...
- Engineers works as double speed settlers, can't do organizing
- submarines are now invisible
- airlifts and city goto implemented, shortcut is 'l'
- Carriers can only carry planes and missiles now.
- Marine flag added, to add support for amphibious attack
- ground/air unit capability added (helicopter) 
  Helicopters can take cities etc.. and don't need to refuel.
  allthough they will loose 1 hp per round out of city.
- Aegis cruisers got double defense against attack from airborne units.
- leonardo's workshop will now only work if you actually got the damn thing. 
- totally redesigned help pages.
- The remaining units has been added.. 
1.3.1
- Lighthouse now let you produce veteran sea units aswell.
- Got a new neat compiler, that could give more intelligent warnings.
  removed alot of unnecessary variables.
- Added a modified version of leonardo's workshop, (invention)
  will upgrade 1 unit/round, will remove veteranstatus.
- altered the autoplace worker algorithm yet again, now i think it
  works decently (well atleast it suits my playstile)
- veteran status wasn't updated on the client side.
- upgrade units in active units dialog. allows you to upgrade your old out of
  date units, that is in a city square to a new and more modern version.
  will cost you some gold tho.. the side effect of this is leonardo's workshop
  which i'm still not sure if i want to incorporate or not.
- u for unload ship
- 'all' button on the wake up units
- Found one of the ancient gigantic bugs, and a fix for it 
  as it was, units didn't get a homecity on the server before the game was
  saved and reloaded, now this will help alot for the game balance. 
- Peter Skov fixed the problem with saving before game has started in a neat
  way by saving the settings instead of a game, this means you can make your
  favorite settings then save them to a file which you can use later on.
  with the -f server switch. 
- can't change all the map dependent options after the game has started.. 
- fixed a little problem with the help button on the science dialog.
- removed a bug that had sneaked into the support of units calculations.
- compiled it with some strict options and found a few minor bugs..
- added a civ1-2 switch but it doesn't do anything yet. need a voluenteer
  to do the civ1 tech tree and unit-building dependencies.
- The unit values  and the techtree has been checked and has been adjusted 
  according to civ 2.42 rules.

1.3.0
- Peter Skov added the following client features & server fixes
    * help in the city dialog on the units/buildings you can build.
    * a help toggle in the science dialog, if you turn it on, you won't change
      techs, rather it will show the help for this tech.
    * buy and change buttons in the city report, eases the pain of managing 
      your cities. 
    * there had sneaked a bug into top-5 cities, which has also been fixed

- port facility added, if naval unit is build in city with port facility
  unit will be veteran, repairment of a ship in a city with port facility
  only takes 1 turn
- Airport added on server, need to do a client command to activate them
  airborne units will be fully repaired in a city with a airport in 1 turn
  and will initially be veteran if build in a city with airport 
- new techs added radio, machine tools, amphibious warfare
- Shuffles players randomly at new turn, so the first player that connected
  doesn't get the wonder when 2 people are building the same wonder in the
  same round. 

1.2.0
- Extra fast unit info when middle clicking on an unit on the map 
  (attack, defense, firepower)
- Fortresses wasn't saved correctly in the save file.
- Cities are now properly refreshed at end of turn.
- can't buy units when cities are in disorder anymore.
- buildings unnecessary due to wonders like the granaries to pyramids, don't
  show on the build list anymore, if you have an unnecessary building already
  it will be marked with (*)
- autobuild  needed serious fixing, is better now. Still not ideal 
- Made a new mapgenerator, that works on minimum 80x50 maps
  which will make 7 equal sized islands. Still alot of fiddling to do with
  it but it should make things alot more fair.
  So set generator 2 to try the new map generator.
  And keep the number of players below 8....
- changed the "auto choose place to put worker algorithm" a bit now it
  favors huge amounts of trade and production over food.

1.1.6 (never released)
- SDI now give double defense against missile attacks, thats a 
  multiplier by 4 together with SAM batteries..
- SAM batteries added. Double defense against aircrafts
- supermarkets added. 50% food bonus on irrigated tiles
- Hoover dam can now be build, an and should have been an or :)
- Fixed problem with king richards crusade.
- Fixed problem with cruise missiles.
- Fixed problem with martial law under communism and monarchy 
- Fixed problem with wonders not seemingly working first turn after reload
- think i fixed the change tech stuff, now it's not reset on the client
  if you change tech in the round you get one.. Maybe..

1.1.5 (never released (except for 2 persons))
- the city growth can now be adjusted with the foodbox server option
  used instead of the standard 10 multiplier of citysize to determine when
  a city will grow
- number of buildings that will be razed if you conquer or loose a city is
  now a game variable, namely razechance. Palaces will always be destroyed..
- oops fortresses beneath cities gave 100% defense bonus. don't anymore
  units in cities and fortresses always count as fortified.
  coastal fortresses is needed to protect cities, a citywall just won't do
  it anymore. same count for bombers, but there is no defense against them.
  since SAM site haven't been made yet. 
- Hanging gardens converts content to happy if possible, other wonders
  converts unhappy to content.
- Caught in city, a ship used to have 1 in defense, now it has its usual 
  defense, but only 1 in firepower instead.
- Changed the messages when a unit(s) dies. (tells which city if on a city 
  square and what units died always)
- Found some crash bugs while debugging, goto could kill server if unit died 
  while gotoing. (my settler did a goto into a hut with barbarians)
- Changed obsolete tech test, to unit testing in the unit list.
  makes things easier, and more readable.
- remaining units, techs, buildings has been added, but looped..
  just to make sure future savefiles will be consistent, if we want to have 
  them in the game.
1.1.4 (beta tested by 4-5 persons)
- new flags:
  igwall    ignore citywalls, counts for artillery, 
  generates extra unhappy under  republic and democracy (as it has always been)
- happy/content/unhappy fixed according to civ2 rules, be careful out there,
  it's harder now to keep cities happy. 
  (took me a bloody sunday to figure how the exact formula works) 
- cruiser missiles was to cheap, costs 60 now instead of 40, 
  and their firepower is now 3, reduced its hp to 10.
- armor had firepower 2, fixed.
- carriers only 9 defense now, 2 firepower 40 hp's instead.

- got rid of year 0. A nasty hack was needed , but we were getting too many
  reports about it.

- percent penalty instead of 0 when changing tech default 100 
- foodbox server option default 10
- fixed a few bugs in mapgen.c (landmass and swamp is now used)

  o settlers costs 2 food under communism now.
  o cities did loose size by naval or air bombardements, doesn't anymore.

o cities did loose size by naval or air bombardements, doesn't anymore.
  o can only build fortresses after invention of construction
  o can't fortify naval or airborne units anymore.
  o happiness calculations was buggy, among other things colloseums gives
    +4 instead of +3 after development of electricty.
    the luxury and wonder happy calculations has been modified a bit..
  o cities only give a 50% bonus on defense, city walls still give a 200% bonus
    and since they don't cost much in maintainance. Go Build them.
  o movement changes:
    - unit move rates, scaled by lost hp's. allthough land based units have 
      atleast 1 move, naval units 2, and air units isn't affected
    - moves and fuel wasn't in the savefiles, they are now.
    - discover nuclear power and get + 1 move for naval units.

  o getting a city in a goody hut didn't add a road beneath the city.

o ver 1.0k - August 10
  o server freeze bug fixed thanks to Stefan Andersson.
  o various other bugs fixed too.

o ver 1.0j - Apr 8 
  o Pillage could be done by settlers only. This isn't correct, actually should
    be doable by all land based units, except settlers, caravans & diplomats..
  o Now units with 0 attack/defence power will ALWAYS loose in battle.
  o Reported By Andrew Donkin and patches aswell :).
    - Could make unlimited # of trade routes... Fixed 
    - Units gained hp by building fortresses not when fortified .... Fixed  
  o Problem with nukes, could nuke the server :). 
    Fixed (well not first time i said that) 
    (Reported By Christian Bricart).
  o Problems with list of available tech after getting techs one way or 
    another is hopefully fixed. (noone has been cheated, tech was correct, 
    but the researchable list was not updated.)
  o Tried to fix rolling thunder tactics. new server option cityfactor which
    modify the unhappysize this way: 
    newunhappysize = unhappysize - #cities/(cityfactor - (5-goverment))
    eg. under monarchy with 25 cities, unhappysize 5, cityfactor 14  
    you'll have a newunhappysize of 5 - 25/(14-(5-2)) = 3 ...
    that is lots of cities and low goverment forms, will give unhappiness. 
  o Diplomat treaties are unbalancing the game. Now you have a new variable 
    that can reduce the effect of tech-trading, techcost. Whenever you get a 
    free tech  it'll cost you techcost percent of a normal research cost, 
    to incorporate  it in your society. Standard this variable is 25%. 
    Setting it to 0 will  give you the standard behaviour. So don't look 
    startled if you suddenly have a negative number of tech bulbs.   
  o Tax-Trade-Luxury calculation tended to favor Tax when distributing. Fixed..
  o Goodie huts changed a bit: 
    - different units in huts depending on tech level.
    - no barbarians if hut is in city radius.
    - advanced tribes added.
  o Seperate Popup windows added (see the Game menu (Mes Options)), more to
    be added later.
  o Message Window added, with goto location button.  
  o fixed minor textual details
    (eg.when someone you have contact with gains tech)
  o autosettlers added, use this option at your own risk..
    Press A to activate them.
  o New server option cavalry, allows players to start with a number of 
    cavalry.
  o Game will not start before Minplayers has connected. 
  o buffed lighthouse, now owner will not loose triremes at sea. 
  o Diplomats will now be able to defend cities, against other diplomats.
  o Rivers only costs 1/3 movepoint to travel on.
  o Altered the startposition algorithm, should even out things abit.
    A side effect of this lets small maps eg 40x25 work, server used to loop..
    (well atleast for a reasonable amount of players)
o ver 1.0h - feb 16
  Massimo Campostrini once again supplied us with historical correct
  citynames - this time for the Aztecs.
  Proper error message when the xpm files can't be opened.
  Panner widget allow resizing of chat window.
  A huge pile of bugs, reported to us by Goswin Brederlow, has been
  fixed.
  Pedantic detail: Default setting of game-save interval was 1. 
  Correct value is 10.
  Notification added when player with whom you have an embassy invents 
  something. 
  Game will end if only one player is alive.
  Announcement of building wonders now include which city that builds it.
  Notifies attacker if his attack was succesful or not
  resets light bulbs at end of turn if player gets a tech. 
  Check every turn if units on ocean has transporters enough.
  If wonder was autobuild it wouldn't be announced. (fixed)
  Bug in mapgen.c fixed, start positions could be real close.
  Added a steal flag to the city structure, can only be stolen once from
  every city now, restarts if the city has been conquered. Don't know if this
  is correct..
  Trade Routes are now modified according to the continental rules.
  (both cities on same continents halfes the output).
  Hoover dam and Michelangelo's Chapel only affects the continent
  on which they have been built.
  Gaining a free tech in huts worked before but gave a wrong message, 
  this has been fixed aswell.
  Fixed bug located by Robert Wilton, in unit_activity_text()
  Fixed zone of control bug, now you can always enter and leave a city.
  saved alot of cycles in goto, no affect on game play. 

o ver 1.0f - jan 26
  The X resource leak fixed. Citynames initial go. Now handling the
  wm_delete_window event.
  Ouch that genlist fix in 1.0e made another bug visible in the
  transporter code. Stephan Boettcher patched that and fixed bug
  with carriers not carrying planes.

o ver 1.0e - jan 26
  Applied patches submited by Massimo Campostrini, concerning citynames
  and diplomat action messages.
  Fixed nasty leak in the pixcomm widget. Fixed leak in genlist's 
  unlink().

o ver 1.0d - jan 19
  Applied patches submitted by Hans Petter Bieker, to fix bugs in
  clinet.c and unithand.c.
  Included spanish translation of the help-file - submitted by 
  Anselmo Perez Serrada.
  The city-report now contains some more data.
  The main info widget is now clickable, to produce a small
  popup, containing some more info.

o ver 1.0c - jan 12
  Fixed bug in citydialog introduced in 1.0b. Made the code handling the
  overview map much more efficient. Let X parse command line options.
  Hopefully fixed problem with viewport widget's width in the diplomacy
  dialog on some setups.

o ver 1.0b - jan 11
  Fixed problem with Pixcomm widget, which caused the city dialog
  to crash on some setups.

o ver 1.0a - jan 8
  Applied large patch by Warwick Allison - fixing many spelling mistakes 
  and lots of other stuff. Fixed problem with units not showing up in the 
  left bar. Fixed bug with cities with size 0. 

o ver 1.0  - jan  5 - 1996
  first release
  

